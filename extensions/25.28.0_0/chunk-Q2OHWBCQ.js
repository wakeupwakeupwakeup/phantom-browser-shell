import{a as tt}from"./chunk-3C5B7LFA.js";import{b as q,e as J,g as z,h as Z}from"./chunk-PY5WRCJM.js";import{a as X}from"./chunk-UWMKBOBS.js";import{a as p}from"./chunk-6EMLS5WZ.js";import{Qb as H,a as R}from"./chunk-GWUVAKX4.js";import{b as S}from"./chunk-6QNUOYSW.js";import{b as N,c as P}from"./chunk-3D6TIEIV.js";import{J as K,K as U,L as $,N as c,P as B,Y as j,b as m,g as V}from"./chunk-MDYMDZNO.js";import{n as M}from"./chunk-G3SJLT24.js";import{c as C}from"./chunk-RL5NICHE.js";import{a as W,g as Q}from"./chunk-DZSKJQUR.js";import{a as x,c as G}from"./chunk-IEY2ZFRQ.js";import{T as F,ha as Y,n as v}from"./chunk-OGTXJ4NL.js";import{Df as D,Gc as k,Nc as h,Of as I,cc as b,fd as O,lc as L,qe as w}from"./chunk-MP5PPKB7.js";import{L as _,c as gt,v as y}from"./chunk-NRW4C74H.js";import{f as pt,h as a,n as s}from"./chunk-YJSZZTEX.js";a();s();var lt={...h,...P,...C,...M},ot=L.getInstance({storage:tt,keyRegistry:lt,authRepository:p,queryClient:H,isOnboardingDone:X});p.subscribe("user",async()=>{ot.hydrateIfNeeded()});p.subscribe("loggedOut",async()=>{ot.clear()});a();s();a();s();a();s();var ut=m(e=>{let t=Object.fromEntries(Object.entries(e(c).data?.updates??{}).map(([o,r])=>[o,{name:r.name,quantity:r.totalQuantity/10**r.decimals,timestamp:r.timestamp}]));return{errors:e(z),walletCaip19:e(K),totalValue:e(J),portfolioValueStatus:e(q).status,balanceUpdatesStatus:e(c).status,balancesStatus:e(U).status,balancesFromUnixTimestamp:Math.floor(e($)/1e3),updatesFromUnixTimestamp:(e(c).data?.lastTimestamp??0)/1e6,updates:t,hasNextPage:e(B),fungibleTokens:e(j).map(o=>o.encodedCaip19)}}),et=ut;var rt=m(e=>({...e(et),visibleTokens:e(Z).map(t=>t.encodedCaip19)}));var n=pt(gt());a();s();var l=class{async get(t){let o=null;try{if(o=self.localStorage.getItem(t),typeof o!="string")return null;try{return JSON.parse(o)}catch{return console.warn(`[DeprecatedLocalStorage.get] Error parsing JSON for key "${t}"`),o}}catch(r){let i=`[DeprecatedLocalStorage.get] Error getting key (${t}): ${r}`;throw new Error(i)}}async getAll(t){try{let o={};t=t||Object.keys(self.localStorage);for(let r of t)o[r]=await this.get(r);return o}catch(o){let r=`[DeprecatedLocalStorage.getAll] Error getting key(s) (${t}): ${o}`;throw new Error(r)}}async remove(t){let o=`[DeprecatedLocalStorage.remove] Error removing key(s) (${t}): Method not implemented`;throw new Error(o)}async set(t,o){let r=`[DeprecatedLocalStorage.set] Error setting key (${t}): Method not implemented`;throw new Error(r)}async setAll(t){let r=`[DeprecatedLocalStorage.setAll] Error setting key (${Object.keys(t)}): Method not implemented`;throw new Error(r)}subscribe(t){return console.warn("[DeprecatedLocalStorage.subscribe] Method not implemented"),()=>{}}async update(t){let o=`[DeprecatedLocalStorage.update] Error updating key(s) (${t}): Method not implemented`;throw new Error(o)}};var ft=new x,dt=new l,St=[...O,...R,N,w,"i18nextLng"],Ao=()=>{let{data:e,isFetching:t}=D(),{data:o,isFetching:r}=Y(),{data:i,isFetching:at}=k([{key:"Local Storage",storage:ft},{key:"Deprecated Local Storage",storage:dt}],St),{data:E}=F(),A=I(),[T]=V(rt),u=(0,n.useCallback)(async()=>{let{version:f}=chrome.runtime.getManifest(),d=await G.getDeviceId(),ct=await A();return{"App Version":f,"Platform Information":W,"Display Language":v(_.language),"Phantom Auth":ct,"Device Id":d,Portfolio:T,"Auto Lock Timer(ms)":E,...e,...o,...i}},[T,e,o,i,A,E]),st=t||r||at,nt=(0,n.useCallback)(async f=>{f?.preventDefault();let d=await u();await b.downloadLog(d)},[u]),it=(0,n.useCallback)(()=>{S({url:Q})},[]),mt=(0,n.useCallback)(()=>{S({url:y})},[]);return{appState:u,isFetching:st,goCreateTicket:it,goSupportDesk:mt,downloadLogs:nt}};export{Ao as a,ot as b};
//# sourceMappingURL=chunk-Q2OHWBCQ.js.map
