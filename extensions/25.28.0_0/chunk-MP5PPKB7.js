import{a as cr,b as Fp,c as mb,e as ta,f as Va,g as rs,h as On,i as Ix,j as qn,k as Mx,l as nI,m as _s,o as yb,p as wd,r as $se,s as Yse,t as Zse,w as Vp,x as qp,y as iI,z as Qse}from"./chunk-LV3AOIIH.js";import{Z as sI,b as e3,d as NF,l as Ct,ma as tae,n as DF,o as Xse,y as ol}from"./chunk-LT72WXA6.js";import{$ as UF,B as t3,D as Jse,L as Hp,Q as Yh,S as dLe,T as hLe,U as pLe,W as mLe,X as aI,a as Wse,aa as yLe,b as Gse,ba as gLe,c as ur,ca as LF,d as rI,da as FF,ea as eae,fa as bLe,ga as vLe,ha as HF,ia as xLe,ja as wLe,ka as SLe,l as J,la as Zae,ma as ALe,n as eu,na as ELe,oa as _Le,p as Kp,pa as TLe,q as oI,qa as jF,r as gb,ra as Qae,sa as ILe,ta as MLe,va as kLe}from"./chunk-NRW4C74H.js";import{e as Yae}from"./chunk-2POO4JJE.js";import{$ as kae,A as hae,Aa as bI,B as pae,Ba as jae,C as mae,Ca as zae,D as fI,Da as Wae,E as KF,F as yae,I as Px,J as gae,K as bae,L as vae,M as ra,N as xae,O as wae,P as lI,Q as dI,R as n3,T as Sae,U as Aae,V as Eae,W as _ae,X as Bx,Y as Tae,Z as Iae,_ as Mae,a as yo,aa as Pae,b as rae,ba as zp,bb as Gae,c as nae,ca as hI,cb as $ae,d as Sd,da as Bae,e as iae,ea as Rae,f as cI,fa as Cae,g as oae,ga as Oae,h as jp,ha as Nae,i as sae,j as aae,ja as pI,k as cae,ka as Dae,l as VF,la as Zh,m as kx,ma as Uae,n as uae,o as hi,oa as mI,p as r3,pa as Rx,q as fae,qa as Lae,ra as Fae,s as uI,sa as Vae,ta as qae,u as tu,ua as yI,w as qF,wa as Kae,x as lae,xa as Cx,ya as gI,z as dae,za as Hae}from"./chunk-PQWATTJB.js";import{a as XE}from"./chunk-OLIHMAK6.js";import{a as jse,c as V,d as OF,e as $h,f as qe,h as d,i as T,j as zse,k as lLe,l as Vn,m as Buffer,n as h}from"./chunk-YJSZZTEX.js";var o3=V(Ux=>{"use strict";d();h();var zF=zse(),Nx=lLe(),Jae=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Ux.Buffer=We;Ux.SlowBuffer=NLe;Ux.INSPECT_MAX_BYTES=50;var vI=2147483647;Ux.kMaxLength=vI;We.TYPED_ARRAY_SUPPORT=PLe();!We.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function PLe(){try{let t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch{return!1}}Object.defineProperty(We.prototype,"parent",{enumerable:!0,get:function(){if(We.isBuffer(this))return this.buffer}});Object.defineProperty(We.prototype,"offset",{enumerable:!0,get:function(){if(We.isBuffer(this))return this.byteOffset}});function Qh(t){if(t>vI)throw new RangeError('The value "'+t+'" is invalid for option "size"');let e=new Uint8Array(t);return Object.setPrototypeOf(e,We.prototype),e}function We(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return YF(t)}return rce(t,e,r)}We.poolSize=8192;function rce(t,e,r){if(typeof t=="string")return RLe(t,e);if(ArrayBuffer.isView(t))return CLe(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Ad(t,ArrayBuffer)||t&&Ad(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ad(t,SharedArrayBuffer)||t&&Ad(t.buffer,SharedArrayBuffer)))return GF(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=t.valueOf&&t.valueOf();if(n!=null&&n!==t)return We.from(n,e,r);let i=OLe(t);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return We.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}We.from=function(t,e,r){return rce(t,e,r)};Object.setPrototypeOf(We.prototype,Uint8Array.prototype);Object.setPrototypeOf(We,Uint8Array);function nce(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function BLe(t,e,r){return nce(t),t<=0?Qh(t):e!==void 0?typeof r=="string"?Qh(t).fill(e,r):Qh(t).fill(e):Qh(t)}We.alloc=function(t,e,r){return BLe(t,e,r)};function YF(t){return nce(t),Qh(t<0?0:ZF(t)|0)}We.allocUnsafe=function(t){return YF(t)};We.allocUnsafeSlow=function(t){return YF(t)};function RLe(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!We.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let r=ice(t,e)|0,n=Qh(r),i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}function WF(t){let e=t.length<0?0:ZF(t.length)|0,r=Qh(e);for(let n=0;n<e;n+=1)r[n]=t[n]&255;return r}function CLe(t){if(Ad(t,Uint8Array)){let e=new Uint8Array(t);return GF(e.buffer,e.byteOffset,e.byteLength)}return WF(t)}function GF(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return e===void 0&&r===void 0?n=new Uint8Array(t):r===void 0?n=new Uint8Array(t,e):n=new Uint8Array(t,e,r),Object.setPrototypeOf(n,We.prototype),n}function OLe(t){if(We.isBuffer(t)){let e=ZF(t.length)|0,r=Qh(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||JF(t.length)?Qh(0):WF(t);if(t.type==="Buffer"&&Array.isArray(t.data))return WF(t.data)}function ZF(t){if(t>=vI)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+vI.toString(16)+" bytes");return t|0}function NLe(t){return+t!=t&&(t=0),We.alloc(+t)}We.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==We.prototype};We.compare=function(e,r){if(Ad(e,Uint8Array)&&(e=We.from(e,e.offset,e.byteLength)),Ad(r,Uint8Array)&&(r=We.from(r,r.offset,r.byteLength)),!We.isBuffer(e)||!We.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;let n=e.length,i=r.length;for(let o=0,s=Math.min(n,i);o<s;++o)if(e[o]!==r[o]){n=e[o],i=r[o];break}return n<i?-1:i<n?1:0};We.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};We.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return We.alloc(0);let n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;let i=We.allocUnsafe(r),o=0;for(n=0;n<e.length;++n){let s=e[n];if(Ad(s,Uint8Array))o+s.length>i.length?(We.isBuffer(s)||(s=We.from(s)),s.copy(i,o)):Uint8Array.prototype.set.call(i,s,o);else if(We.isBuffer(s))s.copy(i,o);else throw new TypeError('"list" argument must be an Array of Buffers');o+=s.length}return i};function ice(t,e){if(We.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Ad(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);let r=t.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return $F(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return hce(t).length;default:if(i)return n?-1:$F(t).length;e=(""+e).toLowerCase(),i=!0}}We.byteLength=ice;function DLe(t,e,r){let n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return WLe(this,e,r);case"utf8":case"utf-8":return sce(this,e,r);case"ascii":return jLe(this,e,r);case"latin1":case"binary":return zLe(this,e,r);case"base64":return KLe(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return GLe(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}We.prototype._isBuffer=!0;function bb(t,e,r){let n=t[e];t[e]=t[r],t[r]=n}We.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<e;r+=2)bb(this,r,r+1);return this};We.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<e;r+=4)bb(this,r,r+3),bb(this,r+1,r+2);return this};We.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<e;r+=8)bb(this,r,r+7),bb(this,r+1,r+6),bb(this,r+2,r+5),bb(this,r+3,r+4);return this};We.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?sce(this,0,e):DLe.apply(this,arguments)};We.prototype.toLocaleString=We.prototype.toString;We.prototype.equals=function(e){if(!We.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:We.compare(this,e)===0};We.prototype.inspect=function(){let e="",r=Ux.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"};Jae&&(We.prototype[Jae]=We.prototype.inspect);We.prototype.compare=function(e,r,n,i,o){if(Ad(e,Uint8Array)&&(e=We.from(e,e.offset,e.byteLength)),!We.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),o===void 0&&(o=this.length),r<0||n>e.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&r>=n)return 0;if(i>=o)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,o>>>=0,this===e)return 0;let s=o-i,c=n-r,l=Math.min(s,c),m=this.slice(i,o),w=e.slice(r,n);for(let b=0;b<l;++b)if(m[b]!==w[b]){s=m[b],c=w[b];break}return s<c?-1:c<s?1:0};function oce(t,e,r,n,i){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,JF(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof e=="string"&&(e=We.from(e,n)),We.isBuffer(e))return e.length===0?-1:Xae(t,e,r,n,i);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):Xae(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function Xae(t,e,r,n,i){let o=1,s=t.length,c=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;o=2,s/=2,c/=2,r/=2}function l(w,b){return o===1?w[b]:w.readUInt16BE(b*o)}let m;if(i){let w=-1;for(m=r;m<s;m++)if(l(t,m)===l(e,w===-1?0:m-w)){if(w===-1&&(w=m),m-w+1===c)return w*o}else w!==-1&&(m-=m-w),w=-1}else for(r+c>s&&(r=s-c),m=r;m>=0;m--){let w=!0;for(let b=0;b<c;b++)if(l(t,m+b)!==l(e,b)){w=!1;break}if(w)return m}return-1}We.prototype.includes=function(e,r,n){return this.indexOf(e,r,n)!==-1};We.prototype.indexOf=function(e,r,n){return oce(this,e,r,n,!0)};We.prototype.lastIndexOf=function(e,r,n){return oce(this,e,r,n,!1)};function ULe(t,e,r,n){r=Number(r)||0;let i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;let o=e.length;n>o/2&&(n=o/2);let s;for(s=0;s<n;++s){let c=parseInt(e.substr(s*2,2),16);if(JF(c))return s;t[r+s]=c}return s}function LLe(t,e,r,n){return xI($F(e,t.length-r),t,r,n)}function FLe(t,e,r,n){return xI(QLe(e),t,r,n)}function VLe(t,e,r,n){return xI(hce(e),t,r,n)}function qLe(t,e,r,n){return xI(JLe(e,t.length-r),t,r,n)}We.prototype.write=function(e,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let o=this.length-r;if((n===void 0||n>o)&&(n=o),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let s=!1;for(;;)switch(i){case"hex":return ULe(this,e,r,n);case"utf8":case"utf-8":return LLe(this,e,r,n);case"ascii":case"latin1":case"binary":return FLe(this,e,r,n);case"base64":return VLe(this,e,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return qLe(this,e,r,n);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}};We.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function KLe(t,e,r){return e===0&&r===t.length?zF.fromByteArray(t):zF.fromByteArray(t.slice(e,r))}function sce(t,e,r){r=Math.min(t.length,r);let n=[],i=e;for(;i<r;){let o=t[i],s=null,c=o>239?4:o>223?3:o>191?2:1;if(i+c<=r){let l,m,w,b;switch(c){case 1:o<128&&(s=o);break;case 2:l=t[i+1],(l&192)===128&&(b=(o&31)<<6|l&63,b>127&&(s=b));break;case 3:l=t[i+1],m=t[i+2],(l&192)===128&&(m&192)===128&&(b=(o&15)<<12|(l&63)<<6|m&63,b>2047&&(b<55296||b>57343)&&(s=b));break;case 4:l=t[i+1],m=t[i+2],w=t[i+3],(l&192)===128&&(m&192)===128&&(w&192)===128&&(b=(o&15)<<18|(l&63)<<12|(m&63)<<6|w&63,b>65535&&b<1114112&&(s=b))}}s===null?(s=65533,c=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|s&1023),n.push(s),i+=c}return HLe(n)}var ece=4096;function HLe(t){let e=t.length;if(e<=ece)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=ece));return r}function jLe(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]&127);return n}function zLe(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function WLe(t,e,r){let n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let o=e;o<r;++o)i+=XLe[t[o]];return i}function GLe(t,e,r){let n=t.slice(e,r),i="";for(let o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+n[o+1]*256);return i}We.prototype.slice=function(e,r){let n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);let i=this.subarray(e,r);return Object.setPrototypeOf(i,We.prototype),i};function ns(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}We.prototype.readUintLE=We.prototype.readUIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||ns(e,r,this.length);let i=this[e],o=1,s=0;for(;++s<r&&(o*=256);)i+=this[e+s]*o;return i};We.prototype.readUintBE=We.prototype.readUIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||ns(e,r,this.length);let i=this[e+--r],o=1;for(;r>0&&(o*=256);)i+=this[e+--r]*o;return i};We.prototype.readUint8=We.prototype.readUInt8=function(e,r){return e=e>>>0,r||ns(e,1,this.length),this[e]};We.prototype.readUint16LE=We.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||ns(e,2,this.length),this[e]|this[e+1]<<8};We.prototype.readUint16BE=We.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||ns(e,2,this.length),this[e]<<8|this[e+1]};We.prototype.readUint32LE=We.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||ns(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};We.prototype.readUint32BE=We.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||ns(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};We.prototype.readBigUInt64LE=Wp(function(e){e=e>>>0,Dx(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&i3(e,this.length-8);let i=r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,o=this[++e]+this[++e]*2**8+this[++e]*2**16+n*2**24;return BigInt(i)+(BigInt(o)<<BigInt(32))});We.prototype.readBigUInt64BE=Wp(function(e){e=e>>>0,Dx(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&i3(e,this.length-8);let i=r*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],o=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n;return(BigInt(i)<<BigInt(32))+BigInt(o)});We.prototype.readIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||ns(e,r,this.length);let i=this[e],o=1,s=0;for(;++s<r&&(o*=256);)i+=this[e+s]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*r)),i};We.prototype.readIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||ns(e,r,this.length);let i=r,o=1,s=this[e+--i];for(;i>0&&(o*=256);)s+=this[e+--i]*o;return o*=128,s>=o&&(s-=Math.pow(2,8*r)),s};We.prototype.readInt8=function(e,r){return e=e>>>0,r||ns(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};We.prototype.readInt16LE=function(e,r){e=e>>>0,r||ns(e,2,this.length);let n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};We.prototype.readInt16BE=function(e,r){e=e>>>0,r||ns(e,2,this.length);let n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};We.prototype.readInt32LE=function(e,r){return e=e>>>0,r||ns(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};We.prototype.readInt32BE=function(e,r){return e=e>>>0,r||ns(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};We.prototype.readBigInt64LE=Wp(function(e){e=e>>>0,Dx(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&i3(e,this.length-8);let i=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});We.prototype.readBigInt64BE=Wp(function(e){e=e>>>0,Dx(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&i3(e,this.length-8);let i=(r<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(i)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n)});We.prototype.readFloatLE=function(e,r){return e=e>>>0,r||ns(e,4,this.length),Nx.read(this,e,!0,23,4)};We.prototype.readFloatBE=function(e,r){return e=e>>>0,r||ns(e,4,this.length),Nx.read(this,e,!1,23,4)};We.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||ns(e,8,this.length),Nx.read(this,e,!0,52,8)};We.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||ns(e,8,this.length),Nx.read(this,e,!1,52,8)};function yc(t,e,r,n,i,o){if(!We.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}We.prototype.writeUintLE=We.prototype.writeUIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){let c=Math.pow(2,8*n)-1;yc(this,e,r,n,c,0)}let o=1,s=0;for(this[r]=e&255;++s<n&&(o*=256);)this[r+s]=e/o&255;return r+n};We.prototype.writeUintBE=We.prototype.writeUIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){let c=Math.pow(2,8*n)-1;yc(this,e,r,n,c,0)}let o=n-1,s=1;for(this[r+o]=e&255;--o>=0&&(s*=256);)this[r+o]=e/s&255;return r+n};We.prototype.writeUint8=We.prototype.writeUInt8=function(e,r,n){return e=+e,r=r>>>0,n||yc(this,e,r,1,255,0),this[r]=e&255,r+1};We.prototype.writeUint16LE=We.prototype.writeUInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||yc(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2};We.prototype.writeUint16BE=We.prototype.writeUInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||yc(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2};We.prototype.writeUint32LE=We.prototype.writeUInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||yc(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4};We.prototype.writeUint32BE=We.prototype.writeUInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||yc(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function ace(t,e,r,n,i){dce(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r++]=o,o=o>>8,t[r++]=o,o=o>>8,t[r++]=o,o=o>>8,t[r++]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,r}function cce(t,e,r,n,i){dce(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r+7]=o,o=o>>8,t[r+6]=o,o=o>>8,t[r+5]=o,o=o>>8,t[r+4]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=s,s=s>>8,t[r+2]=s,s=s>>8,t[r+1]=s,s=s>>8,t[r]=s,r+8}We.prototype.writeBigUInt64LE=Wp(function(e,r=0){return ace(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});We.prototype.writeBigUInt64BE=Wp(function(e,r=0){return cce(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});We.prototype.writeIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){let l=Math.pow(2,8*n-1);yc(this,e,r,n,l-1,-l)}let o=0,s=1,c=0;for(this[r]=e&255;++o<n&&(s*=256);)e<0&&c===0&&this[r+o-1]!==0&&(c=1),this[r+o]=(e/s>>0)-c&255;return r+n};We.prototype.writeIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){let l=Math.pow(2,8*n-1);yc(this,e,r,n,l-1,-l)}let o=n-1,s=1,c=0;for(this[r+o]=e&255;--o>=0&&(s*=256);)e<0&&c===0&&this[r+o+1]!==0&&(c=1),this[r+o]=(e/s>>0)-c&255;return r+n};We.prototype.writeInt8=function(e,r,n){return e=+e,r=r>>>0,n||yc(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1};We.prototype.writeInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||yc(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2};We.prototype.writeInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||yc(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2};We.prototype.writeInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||yc(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4};We.prototype.writeInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||yc(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};We.prototype.writeBigInt64LE=Wp(function(e,r=0){return ace(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});We.prototype.writeBigInt64BE=Wp(function(e,r=0){return cce(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function uce(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function fce(t,e,r,n,i){return e=+e,r=r>>>0,i||uce(t,e,r,4,34028234663852886e22,-34028234663852886e22),Nx.write(t,e,r,n,23,4),r+4}We.prototype.writeFloatLE=function(e,r,n){return fce(this,e,r,!0,n)};We.prototype.writeFloatBE=function(e,r,n){return fce(this,e,r,!1,n)};function lce(t,e,r,n,i){return e=+e,r=r>>>0,i||uce(t,e,r,8,17976931348623157e292,-17976931348623157e292),Nx.write(t,e,r,n,52,8),r+8}We.prototype.writeDoubleLE=function(e,r,n){return lce(this,e,r,!0,n)};We.prototype.writeDoubleBE=function(e,r,n){return lce(this,e,r,!1,n)};We.prototype.copy=function(e,r,n,i){if(!We.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),r>=e.length&&(r=e.length),r||(r=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-r<i-n&&(i=e.length-r+n);let o=i-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,n,i):Uint8Array.prototype.set.call(e,this.subarray(n,i),r),o};We.prototype.fill=function(e,r,n,i){if(typeof e=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!We.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(e.length===1){let s=e.charCodeAt(0);(i==="utf8"&&s<128||i==="latin1")&&(e=s)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);let o;if(typeof e=="number")for(o=r;o<n;++o)this[o]=e;else{let s=We.isBuffer(e)?e:We.from(e,i),c=s.length;if(c===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-r;++o)this[o+r]=s[o%c]}return this};var Ox={};function QF(t,e,r){Ox[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(i){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:i,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}QF("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);QF("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError);QF("ERR_OUT_OF_RANGE",function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=tce(String(r)):typeof r=="bigint"&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=tce(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n},RangeError);function tce(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function $Le(t,e,r){Dx(e,"offset"),(t[e]===void 0||t[e+r]===void 0)&&i3(e,t.length-(r+1))}function dce(t,e,r,n,i,o){if(t>r||t<e){let s=typeof e=="bigint"?"n":"",c;throw o>3?e===0||e===BigInt(0)?c=`>= 0${s} and < 2${s} ** ${(o+1)*8}${s}`:c=`>= -(2${s} ** ${(o+1)*8-1}${s}) and < 2 ** ${(o+1)*8-1}${s}`:c=`>= ${e}${s} and <= ${r}${s}`,new Ox.ERR_OUT_OF_RANGE("value",c,t)}$Le(n,i,o)}function Dx(t,e){if(typeof t!="number")throw new Ox.ERR_INVALID_ARG_TYPE(e,"number",t)}function i3(t,e,r){throw Math.floor(t)!==t?(Dx(t,r),new Ox.ERR_OUT_OF_RANGE(r||"offset","an integer",t)):e<0?new Ox.ERR_BUFFER_OUT_OF_BOUNDS:new Ox.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}var YLe=/[^+/0-9A-Za-z-_]/g;function ZLe(t){if(t=t.split("=")[0],t=t.trim().replace(YLe,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function $F(t,e){e=e||1/0;let r,n=t.length,i=null,o=[];for(let s=0;s<n;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}else if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return o}function QLe(t){let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function JLe(t,e){let r,n,i,o=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}function hce(t){return zF.toByteArray(ZLe(t))}function xI(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function Ad(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function JF(t){return t!==t}var XLe=function(){let t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){let n=r*16;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e}();function Wp(t){return typeof BigInt>"u"?eFe:t}function eFe(){throw new Error("BigInt not supported")}});var SI=V(qa=>{"use strict";d();h();Object.defineProperty(qa,"__esModule",{value:!0});qa.output=qa.exists=qa.hash=qa.bytes=qa.bool=qa.number=void 0;function wI(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}qa.number=wI;function pce(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}qa.bool=pce;function XF(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}qa.bytes=XF;function mce(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");wI(t.outputLen),wI(t.blockLen)}qa.hash=mce;function yce(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}qa.exists=yce;function gce(t,e){XF(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}qa.output=gce;var tFe={number:wI,bool:pce,bytes:XF,hash:mce,exists:yce,output:gce};qa.default=tFe});var bce=V(AI=>{"use strict";d();h();Object.defineProperty(AI,"__esModule",{value:!0});AI.crypto=void 0;AI.crypto={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0}});var Lx=V(Tr=>{"use strict";d();h();Object.defineProperty(Tr,"__esModule",{value:!0});Tr.randomBytes=Tr.wrapConstructorWithOpts=Tr.wrapConstructor=Tr.checkOpts=Tr.Hash=Tr.concatBytes=Tr.toBytes=Tr.utf8ToBytes=Tr.asyncLoop=Tr.nextTick=Tr.hexToBytes=Tr.bytesToHex=Tr.isLE=Tr.rotr=Tr.createView=Tr.u32=Tr.u8=void 0;var EI=bce(),rFe=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength);Tr.u8=rFe;var nFe=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4));Tr.u32=nFe;var iFe=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);Tr.createView=iFe;var oFe=(t,e)=>t<<32-e|t>>>e;Tr.rotr=oFe;Tr.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Tr.isLE)throw new Error("Non little-endian hardware is not supported");var sFe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function aFe(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=sFe[t[r]];return e}Tr.bytesToHex=aFe;function cFe(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");e[r]=o}return e}Tr.hexToBytes=cFe;var uFe=async()=>{};Tr.nextTick=uFe;async function fFe(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);let o=Date.now()-n;o>=0&&o<e||(await(0,Tr.nextTick)(),n+=o)}}Tr.asyncLoop=fFe;function vce(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}Tr.utf8ToBytes=vce;function tV(t){if(typeof t=="string"&&(t=vce(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}Tr.toBytes=tV;function lFe(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let o=t[n];r.set(o,i),i+=o.length}return r}Tr.concatBytes=lFe;var eV=class{clone(){return this._cloneInto()}};Tr.Hash=eV;var dFe=t=>Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object;function hFe(t,e){if(e!==void 0&&(typeof e!="object"||!dFe(e)))throw new TypeError("Options should be object or undefined");return Object.assign(t,e)}Tr.checkOpts=hFe;function pFe(t){let e=n=>t().update(tV(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}Tr.wrapConstructor=pFe;function mFe(t){let e=(n,i)=>t(i).update(tV(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}Tr.wrapConstructorWithOpts=mFe;function yFe(t=32){if(EI.crypto.web)return EI.crypto.web.getRandomValues(new Uint8Array(t));if(EI.crypto.node)return new Uint8Array(EI.crypto.node.randomBytes(t).buffer);throw new Error("The environment doesn't have randomBytes function")}Tr.randomBytes=yFe});var iV=V(_I=>{"use strict";d();h();Object.defineProperty(_I,"__esModule",{value:!0});_I.SHA2=void 0;var rV=SI(),s3=Lx();function gFe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),c=Number(r&o),l=n?4:0,m=n?0:4;t.setUint32(e+l,s,n),t.setUint32(e+m,c,n)}var nV=class extends s3.Hash{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,s3.createView)(this.buffer)}update(e){rV.default.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=(0,s3.toBytes)(e);let o=e.length;for(let s=0;s<o;){let c=Math.min(i-this.pos,o-s);if(c===i){let l=(0,s3.createView)(e);for(;i<=o-s;s+=i)this.process(l,s);continue}n.set(e.subarray(s,s+c),this.pos),this.pos+=c,s+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){rV.default.exists(this),rV.default.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let b=s;b<i;b++)r[b]=0;gFe(n,i-8,BigInt(this.length*8),o),this.process(n,0);let c=(0,s3.createView)(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let m=l/4,w=this.get();if(m>w.length)throw new Error("_sha2: outputLen bigger than state");for(let b=0;b<m;b++)c.setUint32(4*b,w[b],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:c}=this;return e.length=i,e.pos=c,e.finished=o,e.destroyed=s,i%r&&e.buffer.set(n),e}};_I.SHA2=nV});var aV=V(Wu=>{"use strict";d();h();Object.defineProperty(Wu,"__esModule",{value:!0});Wu.add=Wu.toBig=Wu.split=Wu.fromBig=void 0;var TI=BigInt(2**32-1),oV=BigInt(32);function sV(t,e=!1){return e?{h:Number(t&TI),l:Number(t>>oV&TI)}:{h:Number(t>>oV&TI)|0,l:Number(t&TI)|0}}Wu.fromBig=sV;function xce(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:o,l:s}=sV(t[i],e);[r[i],n[i]]=[o,s]}return[r,n]}Wu.split=xce;var bFe=(t,e)=>BigInt(t>>>0)<<oV|BigInt(e>>>0);Wu.toBig=bFe;var vFe=(t,e,r)=>t>>>r,xFe=(t,e,r)=>t<<32-r|e>>>r,wFe=(t,e,r)=>t>>>r|e<<32-r,SFe=(t,e,r)=>t<<32-r|e>>>r,AFe=(t,e,r)=>t<<64-r|e>>>r-32,EFe=(t,e,r)=>t>>>r-32|e<<64-r,_Fe=(t,e)=>e,TFe=(t,e)=>t,IFe=(t,e,r)=>t<<r|e>>>32-r,MFe=(t,e,r)=>e<<r|t>>>32-r,kFe=(t,e,r)=>e<<r-32|t>>>64-r,PFe=(t,e,r)=>t<<r-32|e>>>64-r;function wce(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}Wu.add=wce;var BFe=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),RFe=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,CFe=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),OFe=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,NFe=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),DFe=(t,e,r,n,i,o)=>e+r+n+i+o+(t/2**32|0)|0,UFe={fromBig:sV,split:xce,toBig:Wu.toBig,shrSH:vFe,shrSL:xFe,rotrSH:wFe,rotrSL:SFe,rotrBH:AFe,rotrBL:EFe,rotr32H:_Fe,rotr32L:TFe,rotlSH:IFe,rotlSL:MFe,rotlBH:kFe,rotlBL:PFe,add:wce,add3L:BFe,add3H:RFe,add4L:CFe,add4H:OFe,add5H:DFe,add5L:NFe};Wu.default=UFe});var Sce=V(Gu=>{"use strict";d();h();Object.defineProperty(Gu,"__esModule",{value:!0});Gu.sha384=Gu.sha512_256=Gu.sha512_224=Gu.sha512=Gu.SHA512=void 0;var LFe=iV(),gr=aV(),II=Lx(),[FFe,VFe]=gr.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Gp=new Uint32Array(80),$p=new Uint32Array(80),vb=class extends LFe.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:o,Cl:s,Dh:c,Dl:l,Eh:m,El:w,Fh:b,Fl:E,Gh:I,Gl:M,Hh:k,Hl:R}=this;return[e,r,n,i,o,s,c,l,m,w,b,E,I,M,k,R]}set(e,r,n,i,o,s,c,l,m,w,b,E,I,M,k,R){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=c|0,this.Dl=l|0,this.Eh=m|0,this.El=w|0,this.Fh=b|0,this.Fl=E|0,this.Gh=I|0,this.Gl=M|0,this.Hh=k|0,this.Hl=R|0}process(e,r){for(let P=0;P<16;P++,r+=4)Gp[P]=e.getUint32(r),$p[P]=e.getUint32(r+=4);for(let P=16;P<80;P++){let F=Gp[P-15]|0,q=$p[P-15]|0,K=gr.default.rotrSH(F,q,1)^gr.default.rotrSH(F,q,8)^gr.default.shrSH(F,q,7),re=gr.default.rotrSL(F,q,1)^gr.default.rotrSL(F,q,8)^gr.default.shrSL(F,q,7),Q=Gp[P-2]|0,ie=$p[P-2]|0,S=gr.default.rotrSH(Q,ie,19)^gr.default.rotrBH(Q,ie,61)^gr.default.shrSH(Q,ie,6),a=gr.default.rotrSL(Q,ie,19)^gr.default.rotrBL(Q,ie,61)^gr.default.shrSL(Q,ie,6),f=gr.default.add4L(re,a,$p[P-7],$p[P-16]),p=gr.default.add4H(f,K,S,Gp[P-7],Gp[P-16]);Gp[P]=p|0,$p[P]=f|0}let{Ah:n,Al:i,Bh:o,Bl:s,Ch:c,Cl:l,Dh:m,Dl:w,Eh:b,El:E,Fh:I,Fl:M,Gh:k,Gl:R,Hh:B,Hl:U}=this;for(let P=0;P<80;P++){let F=gr.default.rotrSH(b,E,14)^gr.default.rotrSH(b,E,18)^gr.default.rotrBH(b,E,41),q=gr.default.rotrSL(b,E,14)^gr.default.rotrSL(b,E,18)^gr.default.rotrBL(b,E,41),K=b&I^~b&k,re=E&M^~E&R,Q=gr.default.add5L(U,q,re,VFe[P],$p[P]),ie=gr.default.add5H(Q,B,F,K,FFe[P],Gp[P]),S=Q|0,a=gr.default.rotrSH(n,i,28)^gr.default.rotrBH(n,i,34)^gr.default.rotrBH(n,i,39),f=gr.default.rotrSL(n,i,28)^gr.default.rotrBL(n,i,34)^gr.default.rotrBL(n,i,39),p=n&o^n&c^o&c,y=i&s^i&l^s&l;B=k|0,U=R|0,k=I|0,R=M|0,I=b|0,M=E|0,{h:b,l:E}=gr.default.add(m|0,w|0,ie|0,S|0),m=c|0,w=l|0,c=o|0,l=s|0,o=n|0,s=i|0;let g=gr.default.add3L(S,f,y);n=gr.default.add3H(g,ie,a,p),i=g|0}({h:n,l:i}=gr.default.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:o,l:s}=gr.default.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:c,l}=gr.default.add(this.Ch|0,this.Cl|0,c|0,l|0),{h:m,l:w}=gr.default.add(this.Dh|0,this.Dl|0,m|0,w|0),{h:b,l:E}=gr.default.add(this.Eh|0,this.El|0,b|0,E|0),{h:I,l:M}=gr.default.add(this.Fh|0,this.Fl|0,I|0,M|0),{h:k,l:R}=gr.default.add(this.Gh|0,this.Gl|0,k|0,R|0),{h:B,l:U}=gr.default.add(this.Hh|0,this.Hl|0,B|0,U|0),this.set(n,i,o,s,c,l,m,w,b,E,I,M,k,R,B,U)}roundClean(){Gp.fill(0),$p.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};Gu.SHA512=vb;var cV=class extends vb{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},uV=class extends vb{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},fV=class extends vb{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}};Gu.sha512=(0,II.wrapConstructor)(()=>new vb);Gu.sha512_224=(0,II.wrapConstructor)(()=>new cV);Gu.sha512_256=(0,II.wrapConstructor)(()=>new uV);Gu.sha384=(0,II.wrapConstructor)(()=>new fV)});var Jh=V((ALt,dV)=>{"use strict";d();h();var lV=65536,qFe=4294967295;function KFe(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var HFe=cr().Buffer,MI=self.crypto||self.msCrypto;MI&&MI.getRandomValues?dV.exports=jFe:dV.exports=KFe;function jFe(t,e){if(t>qFe)throw new RangeError("requested too many random bytes");var r=HFe.allocUnsafe(t);if(t>0)if(t>lV)for(var n=0;n<t;n+=lV)MI.getRandomValues(r.slice(n,n+lV));else MI.getRandomValues(r);return typeof e=="function"?process.nextTick(function(){e(null,r)}):r}});var Xt=V((TLt,hV)=>{d();h();typeof Object.create=="function"?hV.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:hV.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}});var pV=V((kLt,Ace)=>{d();h();Ace.exports=XE().EventEmitter});var a3=V(()=>{d();h()});var Ice=V((DLt,Tce)=>{"use strict";d();h();function Ece(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zFe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ece(Object(r),!0).forEach(function(n){WFe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ece(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WFe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _ce(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function $Fe(t,e,r){return e&&_ce(t.prototype,e),r&&_ce(t,r),t}var YFe=Vn(),kI=YFe.Buffer,ZFe=a3(),mV=ZFe.inspect,QFe=mV&&mV.custom||"inspect";function JFe(t,e,r){kI.prototype.copy.call(t,e,r)}Tce.exports=function(){function t(){GFe(this,t),this.head=null,this.tail=null,this.length=0}return $Fe(t,[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i}},{key:"concat",value:function(r){if(this.length===0)return kI.alloc(0);for(var n=kI.allocUnsafe(r>>>0),i=this.head,o=0;i;)JFe(i.data,n,o),o+=i.data.length,i=i.next;return n}},{key:"consume",value:function(r,n){var i;return r<this.head.data.length?(i=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?i=this.shift():i=n?this._getString(r):this._getBuffer(r),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,i=1,o=n.data;for(r-=o.length;n=n.next;){var s=n.data,c=r>s.length?s.length:r;if(c===s.length?o+=s:o+=s.slice(0,r),r-=c,r===0){c===s.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=s.slice(c));break}++i}return this.length-=i,o}},{key:"_getBuffer",value:function(r){var n=kI.allocUnsafe(r),i=this.head,o=1;for(i.data.copy(n),r-=i.data.length;i=i.next;){var s=i.data,c=r>s.length?s.length:r;if(s.copy(n,n.length-r,0,c),r-=c,r===0){c===s.length?(++o,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=s.slice(c));break}++o}return this.length-=o,n}},{key:QFe,value:function(r,n){return mV(this,zFe({},n,{depth:0,customInspect:!1}))}}]),t}()});var gV=V((FLt,kce)=>{"use strict";d();h();function XFe(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(yV,this,t)):process.nextTick(yV,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(o){!e&&o?r._writableState?r._writableState.errorEmitted?process.nextTick(PI,r):(r._writableState.errorEmitted=!0,process.nextTick(Mce,r,o)):process.nextTick(Mce,r,o):e?(process.nextTick(PI,r),e(o)):process.nextTick(PI,r)}),this)}function Mce(t,e){yV(t,e),PI(t)}function PI(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function eVe(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function yV(t,e){t.emit("error",e)}function tVe(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}kce.exports={destroy:XFe,undestroy:eVe,errorOrDestroy:tVe}});var xb=V((KLt,Rce)=>{"use strict";d();h();function rVe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Bce={};function $u(t,e,r){r||(r=Error);function n(o,s,c){return typeof e=="string"?e:e(o,s,c)}var i=function(o){rVe(s,o);function s(c,l,m){return o.call(this,n(c,l,m))||this}return s}(r);i.prototype.name=r.name,i.prototype.code=t,Bce[t]=i}function Pce(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function nVe(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function iVe(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function oVe(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}$u("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);$u("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&nVe(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(iVe(t," argument"))i="The ".concat(t," ").concat(n," ").concat(Pce(e,"type"));else{var o=oVe(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(o," ").concat(n," ").concat(Pce(e,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);$u("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");$u("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});$u("ERR_STREAM_PREMATURE_CLOSE","Premature close");$u("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});$u("ERR_MULTIPLE_CALLBACK","Callback called multiple times");$u("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");$u("ERR_STREAM_WRITE_AFTER_END","write after end");$u("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);$u("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);$u("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");Rce.exports.codes=Bce});var bV=V((zLt,Cce)=>{"use strict";d();h();var sVe=xb().codes.ERR_INVALID_OPT_VALUE;function aVe(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function cVe(t,e,r,n){var i=aVe(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var o=n?r:"highWaterMark";throw new sVe(o,i)}return Math.floor(i)}return t.objectMode?16:16*1024}Cce.exports={getHighWaterMark:cVe}});var xV=V(($Lt,Oce)=>{d();h();Oce.exports=uVe;function uVe(t,e){if(vV("noDeprecation"))return t;var r=!1;function n(){if(!r){if(vV("throwDeprecation"))throw new Error(e);vV("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return n}function vV(t){try{if(!self.localStorage)return!1}catch{return!1}var e=self.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}});var CI=V((QLt,Vce)=>{"use strict";d();h();Vce.exports=Zi;function Dce(t){var e=this;this.next=null,this.entry=null,this.finish=function(){DVe(e,t)}}var Fx;Zi.WritableState=u3;var fVe={deprecate:xV()},Uce=pV(),RI=Vn().Buffer,lVe=self.Uint8Array||function(){};function dVe(t){return RI.from(t)}function hVe(t){return RI.isBuffer(t)||t instanceof lVe}var SV=gV(),pVe=bV(),mVe=pVe.getHighWaterMark,Yp=xb().codes,yVe=Yp.ERR_INVALID_ARG_TYPE,gVe=Yp.ERR_METHOD_NOT_IMPLEMENTED,bVe=Yp.ERR_MULTIPLE_CALLBACK,vVe=Yp.ERR_STREAM_CANNOT_PIPE,xVe=Yp.ERR_STREAM_DESTROYED,wVe=Yp.ERR_STREAM_NULL_VALUES,SVe=Yp.ERR_STREAM_WRITE_AFTER_END,AVe=Yp.ERR_UNKNOWN_ENCODING,Vx=SV.errorOrDestroy;Xt()(Zi,Uce);function EVe(){}function u3(t,e,r){Fx=Fx||Zp(),t=t||{},typeof r!="boolean"&&(r=e instanceof Fx),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=mVe(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=t.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(i){BVe(e,i)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new Dce(this)}u3.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(u3.prototype,"buffer",{get:fVe.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var BI;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(BI=Function.prototype[Symbol.hasInstance],Object.defineProperty(Zi,Symbol.hasInstance,{value:function(e){return BI.call(this,e)?!0:this!==Zi?!1:e&&e._writableState instanceof u3}})):BI=function(e){return e instanceof this};function Zi(t){Fx=Fx||Zp();var e=this instanceof Fx;if(!e&&!BI.call(Zi,this))return new Zi(t);this._writableState=new u3(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),Uce.call(this)}Zi.prototype.pipe=function(){Vx(this,new vVe)};function _Ve(t,e){var r=new SVe;Vx(t,r),process.nextTick(e,r)}function TVe(t,e,r,n){var i;return r===null?i=new wVe:typeof r!="string"&&!e.objectMode&&(i=new yVe("chunk",["string","Buffer"],r)),i?(Vx(t,i),process.nextTick(n,i),!1):!0}Zi.prototype.write=function(t,e,r){var n=this._writableState,i=!1,o=!n.objectMode&&hVe(t);return o&&!RI.isBuffer(t)&&(t=dVe(t)),typeof e=="function"&&(r=e,e=null),o?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=EVe),n.ending?_Ve(this,r):(o||TVe(this,n,t,r))&&(n.pendingcb++,i=MVe(this,n,o,t,e,r)),i};Zi.prototype.cork=function(){this._writableState.corked++};Zi.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&Lce(this,t))};Zi.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new AVe(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(Zi.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function IVe(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=RI.from(e,r)),e}Object.defineProperty(Zi.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function MVe(t,e,r,n,i,o){if(!r){var s=IVe(e,n,i);n!==s&&(r=!0,i="buffer",n=s)}var c=e.objectMode?1:n.length;e.length+=c;var l=e.length<e.highWaterMark;if(l||(e.needDrain=!0),e.writing||e.corked){var m=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},m?m.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else wV(t,e,!1,c,n,i,o);return l}function wV(t,e,r,n,i,o,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new xVe("write")):r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function kVe(t,e,r,n,i){--e.pendingcb,r?(process.nextTick(i,n),process.nextTick(c3,t,e),t._writableState.errorEmitted=!0,Vx(t,n)):(i(n),t._writableState.errorEmitted=!0,Vx(t,n),c3(t,e))}function PVe(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function BVe(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function")throw new bVe;if(PVe(r),e)kVe(t,r,n,e,i);else{var o=Fce(r)||t.destroyed;!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&Lce(t,r),n?process.nextTick(Nce,t,r,o,i):Nce(t,r,o,i)}}function Nce(t,e,r,n){r||RVe(t,e),e.pendingcb--,n(),c3(t,e)}function RVe(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function Lce(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),o=e.corkedRequestsFree;o.entry=r;for(var s=0,c=!0;r;)i[s]=r,r.isBuf||(c=!1),r=r.next,s+=1;i.allBuffers=c,wV(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new Dce(e),e.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,m=r.encoding,w=r.callback,b=e.objectMode?1:l.length;if(wV(t,e,!1,b,l,m,w),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}Zi.prototype._write=function(t,e,r){r(new gVe("_write()"))};Zi.prototype._writev=null;Zi.prototype.end=function(t,e,r){var n=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||NVe(this,n,r),this};Object.defineProperty(Zi.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Fce(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function CVe(t,e){t._final(function(r){e.pendingcb--,r&&Vx(t,r),e.prefinished=!0,t.emit("prefinish"),c3(t,e)})}function OVe(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,process.nextTick(CVe,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function c3(t,e){var r=Fce(e);if(r&&(OVe(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}function NVe(t,e,r){e.ending=!0,c3(t,e),r&&(e.finished?process.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function DVe(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}Object.defineProperty(Zi.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}});Zi.prototype.destroy=SV.destroy;Zi.prototype._undestroy=SV.undestroy;Zi.prototype._destroy=function(t,e){e(t)}});var Zp=V((eFt,Kce)=>{"use strict";d();h();var UVe=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};Kce.exports=Ed;var qce=DI(),EV=CI();Xt()(Ed,qce);for(AV=UVe(EV.prototype),OI=0;OI<AV.length;OI++)NI=AV[OI],Ed.prototype[NI]||(Ed.prototype[NI]=EV.prototype[NI]);var AV,NI,OI;function Ed(t){if(!(this instanceof Ed))return new Ed(t);qce.call(this,t),EV.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",LVe)))}Object.defineProperty(Ed.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(Ed.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(Ed.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function LVe(){this._writableState.ended||process.nextTick(FVe,this)}function FVe(t){t.end()}Object.defineProperty(Ed.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var qx=V(jce=>{"use strict";d();h();var TV=cr().Buffer,Hce=TV.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function VVe(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function qVe(t){var e=VVe(t);if(typeof e!="string"&&(TV.isEncoding===Hce||!Hce(t)))throw new Error("Unknown encoding: "+t);return e||t}jce.StringDecoder=f3;function f3(t){this.encoding=qVe(t);var e;switch(this.encoding){case"utf16le":this.text=GVe,this.end=$Ve,e=4;break;case"utf8":this.fillLast=jVe,e=4;break;case"base64":this.text=YVe,this.end=ZVe,e=3;break;default:this.write=QVe,this.end=JVe;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=TV.allocUnsafe(e)}f3.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};f3.prototype.end=WVe;f3.prototype.text=zVe;f3.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function _V(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function KVe(t,e,r){var n=e.length-1;if(n<r)return 0;var i=_V(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=_V(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=_V(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function HVe(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function jVe(t){var e=this.lastTotal-this.lastNeed,r=HVe(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function zVe(t,e){var r=KVe(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function WVe(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function GVe(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function $Ve(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function YVe(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function ZVe(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function QVe(t){return t.toString(this.encoding)}function JVe(t){return t&&t.length?this.write(t):""}});var l3=V((sFt,Gce)=>{"use strict";d();h();var zce=xb().codes.ERR_STREAM_PREMATURE_CLOSE;function XVe(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function eqe(){}function tqe(t){return t.setHeader&&typeof t.abort=="function"}function Wce(t,e,r){if(typeof e=="function")return Wce(t,null,e);e||(e={}),r=XVe(r||eqe);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,o=function(){t.writable||c()},s=t._writableState&&t._writableState.finished,c=function(){i=!1,s=!0,n||r.call(t)},l=t._readableState&&t._readableState.endEmitted,m=function(){n=!1,l=!0,i||r.call(t)},w=function(M){r.call(t,M)},b=function(){var M;if(n&&!l)return(!t._readableState||!t._readableState.ended)&&(M=new zce),r.call(t,M);if(i&&!s)return(!t._writableState||!t._writableState.ended)&&(M=new zce),r.call(t,M)},E=function(){t.req.on("finish",c)};return tqe(t)?(t.on("complete",c),t.on("abort",b),t.req?E():t.on("request",E)):i&&!t._writableState&&(t.on("end",o),t.on("close",o)),t.on("end",m),t.on("finish",c),e.error!==!1&&t.on("error",w),t.on("close",b),function(){t.removeListener("complete",c),t.removeListener("abort",b),t.removeListener("request",E),t.req&&t.req.removeListener("finish",c),t.removeListener("end",o),t.removeListener("close",o),t.removeListener("finish",c),t.removeListener("end",m),t.removeListener("error",w),t.removeListener("close",b)}}Gce.exports=Wce});var Yce=V((uFt,$ce)=>{"use strict";d();h();var UI;function Qp(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var rqe=l3(),Jp=Symbol("lastResolve"),wb=Symbol("lastReject"),d3=Symbol("error"),LI=Symbol("ended"),Sb=Symbol("lastPromise"),IV=Symbol("handlePromise"),Ab=Symbol("stream");function Xp(t,e){return{value:t,done:e}}function nqe(t){var e=t[Jp];if(e!==null){var r=t[Ab].read();r!==null&&(t[Sb]=null,t[Jp]=null,t[wb]=null,e(Xp(r,!1)))}}function iqe(t){process.nextTick(nqe,t)}function oqe(t,e){return function(r,n){t.then(function(){if(e[LI]){r(Xp(void 0,!0));return}e[IV](r,n)},n)}}var sqe=Object.getPrototypeOf(function(){}),aqe=Object.setPrototypeOf((UI={get stream(){return this[Ab]},next:function(){var e=this,r=this[d3];if(r!==null)return Promise.reject(r);if(this[LI])return Promise.resolve(Xp(void 0,!0));if(this[Ab].destroyed)return new Promise(function(s,c){process.nextTick(function(){e[d3]?c(e[d3]):s(Xp(void 0,!0))})});var n=this[Sb],i;if(n)i=new Promise(oqe(n,this));else{var o=this[Ab].read();if(o!==null)return Promise.resolve(Xp(o,!1));i=new Promise(this[IV])}return this[Sb]=i,i}},Qp(UI,Symbol.asyncIterator,function(){return this}),Qp(UI,"return",function(){var e=this;return new Promise(function(r,n){e[Ab].destroy(null,function(i){if(i){n(i);return}r(Xp(void 0,!0))})})}),UI),sqe),cqe=function(e){var r,n=Object.create(aqe,(r={},Qp(r,Ab,{value:e,writable:!0}),Qp(r,Jp,{value:null,writable:!0}),Qp(r,wb,{value:null,writable:!0}),Qp(r,d3,{value:null,writable:!0}),Qp(r,LI,{value:e._readableState.endEmitted,writable:!0}),Qp(r,IV,{value:function(o,s){var c=n[Ab].read();c?(n[Sb]=null,n[Jp]=null,n[wb]=null,o(Xp(c,!1))):(n[Jp]=o,n[wb]=s)},writable:!0}),r));return n[Sb]=null,rqe(e,function(i){if(i&&i.code!=="ERR_STREAM_PREMATURE_CLOSE"){var o=n[wb];o!==null&&(n[Sb]=null,n[Jp]=null,n[wb]=null,o(i)),n[d3]=i;return}var s=n[Jp];s!==null&&(n[Sb]=null,n[Jp]=null,n[wb]=null,s(Xp(void 0,!0))),n[LI]=!0}),e.on("readable",iqe.bind(null,n)),n};$ce.exports=cqe});var Qce=V((dFt,Zce)=>{d();h();Zce.exports=function(){throw new Error("Readable.from is not available in the browser")}});var DI=V((yFt,aue)=>{"use strict";d();h();aue.exports=dn;var Kx;dn.ReadableState=tue;var mFt=XE().EventEmitter,eue=function(e,r){return e.listeners(r).length},p3=pV(),FI=Vn().Buffer,uqe=self.Uint8Array||function(){};function fqe(t){return FI.from(t)}function lqe(t){return FI.isBuffer(t)||t instanceof uqe}var MV=a3(),Ir;MV&&MV.debuglog?Ir=MV.debuglog("stream"):Ir=function(){};var dqe=Ice(),NV=gV(),hqe=bV(),pqe=hqe.getHighWaterMark,VI=xb().codes,mqe=VI.ERR_INVALID_ARG_TYPE,yqe=VI.ERR_STREAM_PUSH_AFTER_EOF,gqe=VI.ERR_METHOD_NOT_IMPLEMENTED,bqe=VI.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Hx,kV,PV;Xt()(dn,p3);var h3=NV.errorOrDestroy,BV=["error","close","destroy","pause","resume"];function vqe(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function tue(t,e,r){Kx=Kx||Zp(),t=t||{},typeof r!="boolean"&&(r=e instanceof Kx),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=pqe(this,t,"readableHighWaterMark",r),this.buffer=new dqe,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(Hx||(Hx=qx().StringDecoder),this.decoder=new Hx(t.encoding),this.encoding=t.encoding)}function dn(t){if(Kx=Kx||Zp(),!(this instanceof dn))return new dn(t);var e=this instanceof Kx;this._readableState=new tue(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),p3.call(this)}Object.defineProperty(dn.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}});dn.prototype.destroy=NV.destroy;dn.prototype._undestroy=NV.undestroy;dn.prototype._destroy=function(t,e){e(t)};dn.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=FI.from(t,e),e=""),n=!0),rue(this,t,e,!1,n)};dn.prototype.unshift=function(t){return rue(this,t,null,!0,!1)};function rue(t,e,r,n,i){Ir("readableAddChunk",e);var o=t._readableState;if(e===null)o.reading=!1,Sqe(t,o);else{var s;if(i||(s=xqe(o,e)),s)h3(t,s);else if(o.objectMode||e&&e.length>0)if(typeof e!="string"&&!o.objectMode&&Object.getPrototypeOf(e)!==FI.prototype&&(e=fqe(e)),n)o.endEmitted?h3(t,new bqe):RV(t,o,e,!0);else if(o.ended)h3(t,new yqe);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!r?(e=o.decoder.write(e),o.objectMode||e.length!==0?RV(t,o,e,!1):OV(t,o)):RV(t,o,e,!1)}else n||(o.reading=!1,OV(t,o))}return!o.ended&&(o.length<o.highWaterMark||o.length===0)}function RV(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&qI(t)),OV(t,e)}function xqe(t,e){var r;return!lqe(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new mqe("chunk",["string","Buffer","Uint8Array"],e)),r}dn.prototype.isPaused=function(){return this._readableState.flowing===!1};dn.prototype.setEncoding=function(t){Hx||(Hx=qx().StringDecoder);var e=new Hx(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var Jce=1073741824;function wqe(t){return t>=Jce?t=Jce:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function Xce(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=wqe(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}dn.prototype.read=function(t){Ir("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return Ir("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?CV(this):qI(this),null;if(t=Xce(t,e),t===0&&e.ended)return e.length===0&&CV(this),null;var n=e.needReadable;Ir("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,Ir("length less than watermark",n)),e.ended||e.reading?(n=!1,Ir("reading or ended",n)):n&&(Ir("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=Xce(r,e)));var i;return t>0?i=oue(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&CV(this)),i!==null&&this.emit("data",i),i};function Sqe(t,e){if(Ir("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?qI(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,nue(t)))}}function qI(t){var e=t._readableState;Ir("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(Ir("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(nue,t))}function nue(t){var e=t._readableState;Ir("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,DV(t)}function OV(t,e){e.readingMore||(e.readingMore=!0,process.nextTick(Aqe,t,e))}function Aqe(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(Ir("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}dn.prototype._read=function(t){h3(this,new gqe("_read()"))};dn.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,Ir("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,o=i?c:k;n.endEmitted?process.nextTick(o):r.once("end",o),t.on("unpipe",s);function s(R,B){Ir("onunpipe"),R===r&&B&&B.hasUnpiped===!1&&(B.hasUnpiped=!0,w())}function c(){Ir("onend"),t.end()}var l=Eqe(r);t.on("drain",l);var m=!1;function w(){Ir("cleanup"),t.removeListener("close",I),t.removeListener("finish",M),t.removeListener("drain",l),t.removeListener("error",E),t.removeListener("unpipe",s),r.removeListener("end",c),r.removeListener("end",k),r.removeListener("data",b),m=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&l()}r.on("data",b);function b(R){Ir("ondata");var B=t.write(R);Ir("dest.write",B),B===!1&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&sue(n.pipes,t)!==-1)&&!m&&(Ir("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function E(R){Ir("onerror",R),k(),t.removeListener("error",E),eue(t,"error")===0&&h3(t,R)}vqe(t,"error",E);function I(){t.removeListener("finish",M),k()}t.once("close",I);function M(){Ir("onfinish"),t.removeListener("close",I),k()}t.once("finish",M);function k(){Ir("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(Ir("pipe resume"),r.resume()),t};function Eqe(t){return function(){var r=t._readableState;Ir("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&eue(t,"data")&&(r.flowing=!0,DV(t))}}dn.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=sue(e.pipes,t);return s===-1?this:(e.pipes.splice(s,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};dn.prototype.on=function(t,e){var r=p3.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,Ir("on readable",n.length,n.reading),n.length?qI(this):n.reading||process.nextTick(_qe,this)),r};dn.prototype.addListener=dn.prototype.on;dn.prototype.removeListener=function(t,e){var r=p3.prototype.removeListener.call(this,t,e);return t==="readable"&&process.nextTick(iue,this),r};dn.prototype.removeAllListeners=function(t){var e=p3.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&process.nextTick(iue,this),e};function iue(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function _qe(t){Ir("readable nexttick read 0"),t.read(0)}dn.prototype.resume=function(){var t=this._readableState;return t.flowing||(Ir("resume"),t.flowing=!t.readableListening,Tqe(this,t)),t.paused=!1,this};function Tqe(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(Iqe,t,e))}function Iqe(t,e){Ir("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),DV(t),e.flowing&&!e.reading&&t.read(0)}dn.prototype.pause=function(){return Ir("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Ir("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function DV(t){var e=t._readableState;for(Ir("flow",e.flowing);e.flowing&&t.read()!==null;);}dn.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(Ir("wrapped end"),r.decoder&&!r.ended){var s=r.decoder.end();s&&s.length&&e.push(s)}e.push(null)}),t.on("data",function(s){if(Ir("wrapped data"),r.decoder&&(s=r.decoder.write(s)),!(r.objectMode&&s==null)&&!(!r.objectMode&&(!s||!s.length))){var c=e.push(s);c||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=function(c){return function(){return t[c].apply(t,arguments)}}(i));for(var o=0;o<BV.length;o++)t.on(BV[o],this.emit.bind(this,BV[o]));return this._read=function(s){Ir("wrapped _read",s),n&&(n=!1,t.resume())},this};typeof Symbol=="function"&&(dn.prototype[Symbol.asyncIterator]=function(){return kV===void 0&&(kV=Yce()),kV(this)});Object.defineProperty(dn.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(dn.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(dn.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});dn._fromList=oue;Object.defineProperty(dn.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function oue(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function CV(t){var e=t._readableState;Ir("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(Mqe,e,t))}function Mqe(t,e){if(Ir("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(dn.from=function(t,e){return PV===void 0&&(PV=Qce()),PV(dn,t,e)});function sue(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}});var jI=V((vFt,uue)=>{"use strict";d();h();uue.exports=Xh;var KI=xb().codes,kqe=KI.ERR_METHOD_NOT_IMPLEMENTED,Pqe=KI.ERR_MULTIPLE_CALLBACK,Bqe=KI.ERR_TRANSFORM_ALREADY_TRANSFORMING,Rqe=KI.ERR_TRANSFORM_WITH_LENGTH_0,HI=Zp();Xt()(Xh,HI);function Cqe(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new Pqe);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Xh(t){if(!(this instanceof Xh))return new Xh(t);HI.call(this,t),this._transformState={afterTransform:Cqe.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",Oqe)}function Oqe(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){cue(t,e,r)}):cue(this,null,null)}Xh.prototype.push=function(t,e){return this._transformState.needTransform=!1,HI.prototype.push.call(this,t,e)};Xh.prototype._transform=function(t,e,r){r(new kqe("_transform()"))};Xh.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Xh.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Xh.prototype._destroy=function(t,e){HI.prototype._destroy.call(this,t,function(r){e(r)})};function cue(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new Rqe;if(t._transformState.transforming)throw new Bqe;return t.push(null)}});var UV=V((SFt,lue)=>{"use strict";d();h();lue.exports=m3;var fue=jI();Xt()(m3,fue);function m3(t){if(!(this instanceof m3))return new m3(t);fue.call(this,t)}m3.prototype._transform=function(t,e,r){r(null,t)}});var FV=V((_Ft,mue)=>{"use strict";d();h();var LV;function Nqe(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var pue=xb().codes,Dqe=pue.ERR_MISSING_ARGS,Uqe=pue.ERR_STREAM_DESTROYED;function due(t){if(t)throw t}function Lqe(t){return t.setHeader&&typeof t.abort=="function"}function Fqe(t,e,r,n){n=Nqe(n);var i=!1;t.on("close",function(){i=!0}),LV===void 0&&(LV=l3()),LV(t,{readable:e,writable:r},function(s){if(s)return n(s);i=!0,n()});var o=!1;return function(s){if(!i&&!o){if(o=!0,Lqe(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(s||new Uqe("pipe"))}}}function hue(t){t()}function Vqe(t,e){return t.pipe(e)}function qqe(t){return!t.length||typeof t[t.length-1]!="function"?due:t.pop()}function Kqe(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=qqe(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Dqe("streams");var i,o=e.map(function(s,c){var l=c<e.length-1,m=c>0;return Fqe(s,l,m,function(w){i||(i=w),w&&o.forEach(hue),!l&&(o.forEach(hue),n(i))})});return e.reduce(Vqe)}mue.exports=Kqe});var zI=V((Yu,yue)=>{d();h();Yu=yue.exports=DI();Yu.Stream=Yu;Yu.Readable=Yu;Yu.Writable=CI();Yu.Duplex=Zp();Yu.Transform=jI();Yu.PassThrough=UV();Yu.finished=l3();Yu.pipeline=FV()});var VV=V((PFt,bue)=>{"use strict";d();h();var WI=cr().Buffer,gue=zI().Transform,Hqe=Xt();function jqe(t,e){if(!WI.isBuffer(t)&&typeof t!="string")throw new TypeError(e+" must be a string or a buffer")}function em(t){gue.call(this),this._block=WI.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}Hqe(em,gue);em.prototype._transform=function(t,e,r){var n=null;try{this.update(t,e)}catch(i){n=i}r(n)};em.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(r){e=r}t(e)};em.prototype.update=function(t,e){if(jqe(t,"Data"),this._finalized)throw new Error("Digest already called");WI.isBuffer(t)||(t=WI.from(t,e));for(var r=this._block,n=0;this._blockOffset+t.length-n>=this._blockSize;){for(var i=this._blockOffset;i<this._blockSize;)r[i++]=t[n++];this._update(),this._blockOffset=0}for(;n<t.length;)r[this._blockOffset++]=t[n++];for(var o=0,s=t.length*8;s>0;++o)this._length[o]+=s,s=this._length[o]/4294967296|0,s>0&&(this._length[o]-=4294967296*s);return this};em.prototype._update=function(){throw new Error("_update is not implemented")};em.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();t!==void 0&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return e};em.prototype._digest=function(){throw new Error("_digest is not implemented")};bue.exports=em});var YI=V((CFt,xue)=>{"use strict";d();h();var zqe=Xt(),vue=VV(),Wqe=cr().Buffer,Gqe=new Array(16);function GI(){vue.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}zqe(GI,vue);GI.prototype._update=function(){for(var t=Gqe,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);var r=this._a,n=this._b,i=this._c,o=this._d;r=na(r,n,i,o,t[0],3614090360,7),o=na(o,r,n,i,t[1],3905402710,12),i=na(i,o,r,n,t[2],606105819,17),n=na(n,i,o,r,t[3],3250441966,22),r=na(r,n,i,o,t[4],4118548399,7),o=na(o,r,n,i,t[5],1200080426,12),i=na(i,o,r,n,t[6],2821735955,17),n=na(n,i,o,r,t[7],4249261313,22),r=na(r,n,i,o,t[8],1770035416,7),o=na(o,r,n,i,t[9],2336552879,12),i=na(i,o,r,n,t[10],4294925233,17),n=na(n,i,o,r,t[11],2304563134,22),r=na(r,n,i,o,t[12],1804603682,7),o=na(o,r,n,i,t[13],4254626195,12),i=na(i,o,r,n,t[14],2792965006,17),n=na(n,i,o,r,t[15],1236535329,22),r=ia(r,n,i,o,t[1],4129170786,5),o=ia(o,r,n,i,t[6],3225465664,9),i=ia(i,o,r,n,t[11],643717713,14),n=ia(n,i,o,r,t[0],3921069994,20),r=ia(r,n,i,o,t[5],3593408605,5),o=ia(o,r,n,i,t[10],38016083,9),i=ia(i,o,r,n,t[15],3634488961,14),n=ia(n,i,o,r,t[4],3889429448,20),r=ia(r,n,i,o,t[9],568446438,5),o=ia(o,r,n,i,t[14],3275163606,9),i=ia(i,o,r,n,t[3],4107603335,14),n=ia(n,i,o,r,t[8],1163531501,20),r=ia(r,n,i,o,t[13],2850285829,5),o=ia(o,r,n,i,t[2],4243563512,9),i=ia(i,o,r,n,t[7],1735328473,14),n=ia(n,i,o,r,t[12],2368359562,20),r=oa(r,n,i,o,t[5],4294588738,4),o=oa(o,r,n,i,t[8],2272392833,11),i=oa(i,o,r,n,t[11],1839030562,16),n=oa(n,i,o,r,t[14],4259657740,23),r=oa(r,n,i,o,t[1],2763975236,4),o=oa(o,r,n,i,t[4],1272893353,11),i=oa(i,o,r,n,t[7],4139469664,16),n=oa(n,i,o,r,t[10],3200236656,23),r=oa(r,n,i,o,t[13],681279174,4),o=oa(o,r,n,i,t[0],3936430074,11),i=oa(i,o,r,n,t[3],3572445317,16),n=oa(n,i,o,r,t[6],76029189,23),r=oa(r,n,i,o,t[9],3654602809,4),o=oa(o,r,n,i,t[12],3873151461,11),i=oa(i,o,r,n,t[15],530742520,16),n=oa(n,i,o,r,t[2],3299628645,23),r=sa(r,n,i,o,t[0],4096336452,6),o=sa(o,r,n,i,t[7],1126891415,10),i=sa(i,o,r,n,t[14],2878612391,15),n=sa(n,i,o,r,t[5],4237533241,21),r=sa(r,n,i,o,t[12],1700485571,6),o=sa(o,r,n,i,t[3],2399980690,10),i=sa(i,o,r,n,t[10],4293915773,15),n=sa(n,i,o,r,t[1],2240044497,21),r=sa(r,n,i,o,t[8],1873313359,6),o=sa(o,r,n,i,t[15],4264355552,10),i=sa(i,o,r,n,t[6],2734768916,15),n=sa(n,i,o,r,t[13],1309151649,21),r=sa(r,n,i,o,t[4],4149444226,6),o=sa(o,r,n,i,t[11],3174756917,10),i=sa(i,o,r,n,t[2],718787259,15),n=sa(n,i,o,r,t[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+o|0};GI.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=Wqe.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t};function $I(t,e){return t<<e|t>>>32-e}function na(t,e,r,n,i,o,s){return $I(t+(e&r|~e&n)+i+o|0,s)+e|0}function ia(t,e,r,n,i,o,s){return $I(t+(e&n|r&~n)+i+o|0,s)+e|0}function oa(t,e,r,n,i,o,s){return $I(t+(e^r^n)+i+o|0,s)+e|0}function sa(t,e,r,n,i,o,s){return $I(t+(r^(e|~n))+i+o|0,s)+e|0}xue.exports=GI});var QI=V((DFt,Iue)=>{"use strict";d();h();var qV=Vn().Buffer,$qe=Xt(),Tue=VV(),Yqe=new Array(16),y3=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],g3=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],b3=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],v3=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],x3=[0,1518500249,1859775393,2400959708,2840853838],w3=[1352829926,1548603684,1836072691,2053994217,0];function ZI(){Tue.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}$qe(ZI,Tue);ZI.prototype._update=function(){for(var t=Yqe,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);for(var r=this._a|0,n=this._b|0,i=this._c|0,o=this._d|0,s=this._e|0,c=this._a|0,l=this._b|0,m=this._c|0,w=this._d|0,b=this._e|0,E=0;E<80;E+=1){var I,M;E<16?(I=wue(r,n,i,o,s,t[y3[E]],x3[0],b3[E]),M=_ue(c,l,m,w,b,t[g3[E]],w3[0],v3[E])):E<32?(I=Sue(r,n,i,o,s,t[y3[E]],x3[1],b3[E]),M=Eue(c,l,m,w,b,t[g3[E]],w3[1],v3[E])):E<48?(I=Aue(r,n,i,o,s,t[y3[E]],x3[2],b3[E]),M=Aue(c,l,m,w,b,t[g3[E]],w3[2],v3[E])):E<64?(I=Eue(r,n,i,o,s,t[y3[E]],x3[3],b3[E]),M=Sue(c,l,m,w,b,t[g3[E]],w3[3],v3[E])):(I=_ue(r,n,i,o,s,t[y3[E]],x3[4],b3[E]),M=wue(c,l,m,w,b,t[g3[E]],w3[4],v3[E])),r=s,s=o,o=Eb(i,10),i=n,n=I,c=b,b=w,w=Eb(m,10),m=l,l=M}var k=this._b+i+w|0;this._b=this._c+o+b|0,this._c=this._d+s+c|0,this._d=this._e+r+l|0,this._e=this._a+n+m|0,this._a=k};ZI.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=qV.alloc?qV.alloc(20):new qV(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t};function Eb(t,e){return t<<e|t>>>32-e}function wue(t,e,r,n,i,o,s,c){return Eb(t+(e^r^n)+o+s|0,c)+i|0}function Sue(t,e,r,n,i,o,s,c){return Eb(t+(e&r|~e&n)+o+s|0,c)+i|0}function Aue(t,e,r,n,i,o,s,c){return Eb(t+((e|~r)^n)+o+s|0,c)+i|0}function Eue(t,e,r,n,i,o,s,c){return Eb(t+(e&n|r&~n)+o+s|0,c)+i|0}function _ue(t,e,r,n,i,o,s,c){return Eb(t+(e^(r|~n))+o+s|0,c)+i|0}Iue.exports=ZI});var _b=V((FFt,kue)=>{d();h();var Mue=cr().Buffer;function JI(t,e){this._block=Mue.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}JI.prototype.update=function(t,e){typeof t=="string"&&(e=e||"utf8",t=Mue.from(t,e));for(var r=this._block,n=this._blockSize,i=t.length,o=this._len,s=0;s<i;){for(var c=o%n,l=Math.min(i-s,n-c),m=0;m<l;m++)r[c+m]=t[s+m];o+=l,s+=l,o%n===0&&this._update(r)}return this._len+=i,this};JI.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var o=this._hash();return t?o.toString(t):o};JI.prototype._update=function(){throw new Error("_update must be implemented by subclass")};kue.exports=JI});var Rue=V((KFt,Bue)=>{d();h();var Zqe=Xt(),Pue=_b(),Qqe=cr().Buffer,Jqe=[1518500249,1859775393,-1894007588,-899497514],Xqe=new Array(80);function S3(){this.init(),this._w=Xqe,Pue.call(this,64,56)}Zqe(S3,Pue);S3.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function eKe(t){return t<<5|t>>>27}function tKe(t){return t<<30|t>>>2}function rKe(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}S3.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,o=this._d|0,s=this._e|0,c=0;c<16;++c)e[c]=t.readInt32BE(c*4);for(;c<80;++c)e[c]=e[c-3]^e[c-8]^e[c-14]^e[c-16];for(var l=0;l<80;++l){var m=~~(l/20),w=eKe(r)+rKe(m,n,i,o)+s+e[l]+Jqe[m]|0;s=o,o=i,i=tKe(n),n=r,r=w}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0};S3.prototype._hash=function(){var t=Qqe.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};Bue.exports=S3});var Nue=V((zFt,Oue)=>{d();h();var nKe=Xt(),Cue=_b(),iKe=cr().Buffer,oKe=[1518500249,1859775393,-1894007588,-899497514],sKe=new Array(80);function A3(){this.init(),this._w=sKe,Cue.call(this,64,56)}nKe(A3,Cue);A3.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function aKe(t){return t<<1|t>>>31}function cKe(t){return t<<5|t>>>27}function uKe(t){return t<<30|t>>>2}function fKe(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}A3.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,o=this._d|0,s=this._e|0,c=0;c<16;++c)e[c]=t.readInt32BE(c*4);for(;c<80;++c)e[c]=aKe(e[c-3]^e[c-8]^e[c-14]^e[c-16]);for(var l=0;l<80;++l){var m=~~(l/20),w=cKe(r)+fKe(m,n,i,o)+s+e[l]+oKe[m]|0;s=o,o=i,i=uKe(n),n=r,r=w}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0};A3.prototype._hash=function(){var t=iKe.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};Oue.exports=A3});var KV=V(($Ft,Uue)=>{d();h();var lKe=Xt(),Due=_b(),dKe=cr().Buffer,hKe=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],pKe=new Array(64);function E3(){this.init(),this._w=pKe,Due.call(this,64,56)}lKe(E3,Due);E3.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function mKe(t,e,r){return r^t&(e^r)}function yKe(t,e,r){return t&e|r&(t|e)}function gKe(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function bKe(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function vKe(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function xKe(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}E3.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,o=this._d|0,s=this._e|0,c=this._f|0,l=this._g|0,m=this._h|0,w=0;w<16;++w)e[w]=t.readInt32BE(w*4);for(;w<64;++w)e[w]=xKe(e[w-2])+e[w-7]+vKe(e[w-15])+e[w-16]|0;for(var b=0;b<64;++b){var E=m+bKe(s)+mKe(s,c,l)+hKe[b]+e[b]|0,I=gKe(r)+yKe(r,n,i)|0;m=l,l=c,c=s,s=o+E|0,o=i,i=n,n=r,r=E+I|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0,this._f=c+this._f|0,this._g=l+this._g|0,this._h=m+this._h|0};E3.prototype._hash=function(){var t=dKe.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};Uue.exports=E3});var Fue=V((QFt,Lue)=>{d();h();var wKe=Xt(),SKe=KV(),AKe=_b(),EKe=cr().Buffer,_Ke=new Array(64);function XI(){this.init(),this._w=_Ke,AKe.call(this,64,56)}wKe(XI,SKe);XI.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};XI.prototype._hash=function(){var t=EKe.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};Lue.exports=XI});var HV=V((eVt,Wue)=>{d();h();var TKe=Xt(),zue=_b(),IKe=cr().Buffer,Vue=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],MKe=new Array(160);function _3(){this.init(),this._w=MKe,zue.call(this,128,112)}TKe(_3,zue);_3.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function que(t,e,r){return r^t&(e^r)}function Kue(t,e,r){return t&e|r&(t|e)}function Hue(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function jue(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function kKe(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function PKe(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function BKe(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function RKe(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function is(t,e){return t>>>0<e>>>0?1:0}_3.prototype._update=function(t){for(var e=this._w,r=this._ah|0,n=this._bh|0,i=this._ch|0,o=this._dh|0,s=this._eh|0,c=this._fh|0,l=this._gh|0,m=this._hh|0,w=this._al|0,b=this._bl|0,E=this._cl|0,I=this._dl|0,M=this._el|0,k=this._fl|0,R=this._gl|0,B=this._hl|0,U=0;U<32;U+=2)e[U]=t.readInt32BE(U*4),e[U+1]=t.readInt32BE(U*4+4);for(;U<160;U+=2){var P=e[U-30],F=e[U-15*2+1],q=kKe(P,F),K=PKe(F,P);P=e[U-2*2],F=e[U-2*2+1];var re=BKe(P,F),Q=RKe(F,P),ie=e[U-7*2],S=e[U-7*2+1],a=e[U-16*2],f=e[U-16*2+1],p=K+S|0,y=q+ie+is(p,K)|0;p=p+Q|0,y=y+re+is(p,Q)|0,p=p+f|0,y=y+a+is(p,f)|0,e[U]=y,e[U+1]=p}for(var g=0;g<160;g+=2){y=e[g],p=e[g+1];var A=Kue(r,n,i),_=Kue(w,b,E),v=Hue(r,w),u=Hue(w,r),x=jue(s,M),L=jue(M,s),D=Vue[g],C=Vue[g+1],z=que(s,c,l),ee=que(M,k,R),ne=B+L|0,Ke=m+x+is(ne,B)|0;ne=ne+ee|0,Ke=Ke+z+is(ne,ee)|0,ne=ne+C|0,Ke=Ke+D+is(ne,C)|0,ne=ne+p|0,Ke=Ke+y+is(ne,p)|0;var ae=u+_|0,W=v+A+is(ae,u)|0;m=l,B=R,l=c,R=k,c=s,k=M,M=I+ne|0,s=o+Ke+is(M,I)|0,o=i,I=E,i=n,E=b,n=r,b=w,w=ne+ae|0,r=Ke+W+is(w,ne)|0}this._al=this._al+w|0,this._bl=this._bl+b|0,this._cl=this._cl+E|0,this._dl=this._dl+I|0,this._el=this._el+M|0,this._fl=this._fl+k|0,this._gl=this._gl+R|0,this._hl=this._hl+B|0,this._ah=this._ah+r+is(this._al,w)|0,this._bh=this._bh+n+is(this._bl,b)|0,this._ch=this._ch+i+is(this._cl,E)|0,this._dh=this._dh+o+is(this._dl,I)|0,this._eh=this._eh+s+is(this._el,M)|0,this._fh=this._fh+c+is(this._fl,k)|0,this._gh=this._gh+l+is(this._gl,R)|0,this._hh=this._hh+m+is(this._hl,B)|0};_3.prototype._hash=function(){var t=IKe.allocUnsafe(64);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};Wue.exports=_3});var $ue=V((nVt,Gue)=>{d();h();var CKe=Xt(),OKe=HV(),NKe=_b(),DKe=cr().Buffer,UKe=new Array(160);function eM(){this.init(),this._w=UKe,NKe.call(this,128,112)}CKe(eM,OKe);eM.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};eM.prototype._hash=function(){var t=DKe.allocUnsafe(48);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};Gue.exports=eM});var tM=V((e0,Yue)=>{d();h();var e0=Yue.exports=function(e){e=e.toLowerCase();var r=e0[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r};e0.sha=Rue();e0.sha1=Nue();e0.sha224=Fue();e0.sha256=KV();e0.sha384=$ue();e0.sha512=HV()});var Que=V((cVt,Zue)=>{d();h();Zue.exports=Zu;var jV=XE().EventEmitter,LKe=Xt();LKe(Zu,jV);Zu.Readable=DI();Zu.Writable=CI();Zu.Duplex=Zp();Zu.Transform=jI();Zu.PassThrough=UV();Zu.finished=l3();Zu.pipeline=FV();Zu.Stream=Zu;function Zu(){jV.call(this)}Zu.prototype.pipe=function(t,e){var r=this;function n(w){t.writable&&t.write(w)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",s),r.on("close",c));var o=!1;function s(){o||(o=!0,t.end())}function c(){o||(o=!0,typeof t.destroy=="function"&&t.destroy())}function l(w){if(m(),jV.listenerCount(this,"error")===0)throw w}r.on("error",l),t.on("error",l);function m(){r.removeListener("data",n),t.removeListener("drain",i),r.removeListener("end",s),r.removeListener("close",c),r.removeListener("error",l),t.removeListener("error",l),r.removeListener("end",m),r.removeListener("close",m),t.removeListener("close",m)}return r.on("end",m),r.on("close",m),t.on("close",m),t.emit("pipe",r),t}});var t0=V((lVt,efe)=>{d();h();var Jue=cr().Buffer,Xue=Que().Transform,FKe=qx().StringDecoder,VKe=Xt();function sl(t){Xue.call(this),this.hashMode=typeof t=="string",this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}VKe(sl,Xue);sl.prototype.update=function(t,e,r){typeof t=="string"&&(t=Jue.from(t,e));var n=this._update(t);return this.hashMode?this:(r&&(n=this._toString(n,r)),n)};sl.prototype.setAutoPadding=function(){};sl.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")};sl.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")};sl.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")};sl.prototype._transform=function(t,e,r){var n;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(i){n=i}finally{r(n)}};sl.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(r){e=r}t(e)};sl.prototype._finalOrDigest=function(t){var e=this.__final()||Jue.alloc(0);return t&&(e=this._toString(e,t,!0)),e};sl.prototype._toString=function(t,e,r){if(this._decoder||(this._decoder=new FKe(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var n=this._decoder.write(t);return r&&(n+=this._decoder.end()),n};efe.exports=sl});var tm=V((pVt,rfe)=>{"use strict";d();h();var qKe=Xt(),KKe=YI(),HKe=QI(),jKe=tM(),tfe=t0();function rM(t){tfe.call(this,"digest"),this._hash=t}qKe(rM,tfe);rM.prototype._update=function(t){this._hash.update(t)};rM.prototype._final=function(){return this._hash.digest()};rfe.exports=function(e){return e=e.toLowerCase(),e==="md5"?new KKe:e==="rmd160"||e==="ripemd160"?new HKe:new rM(jKe(e))}});var ofe=V((gVt,ife)=>{"use strict";d();h();var zKe=Xt(),Tb=cr().Buffer,nfe=t0(),WKe=Tb.alloc(128),jx=64;function nM(t,e){nfe.call(this,"digest"),typeof e=="string"&&(e=Tb.from(e)),this._alg=t,this._key=e,e.length>jx?e=t(e):e.length<jx&&(e=Tb.concat([e,WKe],jx));for(var r=this._ipad=Tb.allocUnsafe(jx),n=this._opad=Tb.allocUnsafe(jx),i=0;i<jx;i++)r[i]=e[i]^54,n[i]=e[i]^92;this._hash=[r]}zKe(nM,nfe);nM.prototype._update=function(t){this._hash.push(t)};nM.prototype._final=function(){var t=this._alg(Tb.concat(this._hash));return this._alg(Tb.concat([this._opad,t]))};ife.exports=nM});var zV=V((xVt,sfe)=>{d();h();var GKe=YI();sfe.exports=function(t){return new GKe().update(t).digest()}});var $V=V((AVt,cfe)=>{"use strict";d();h();var $Ke=Xt(),YKe=ofe(),afe=t0(),T3=cr().Buffer,ZKe=zV(),WV=QI(),GV=tM(),QKe=T3.alloc(128);function I3(t,e){afe.call(this,"digest"),typeof e=="string"&&(e=T3.from(e));var r=t==="sha512"||t==="sha384"?128:64;if(this._alg=t,this._key=e,e.length>r){var n=t==="rmd160"?new WV:GV(t);e=n.update(e).digest()}else e.length<r&&(e=T3.concat([e,QKe],r));for(var i=this._ipad=T3.allocUnsafe(r),o=this._opad=T3.allocUnsafe(r),s=0;s<r;s++)i[s]=e[s]^54,o[s]=e[s]^92;this._hash=t==="rmd160"?new WV:GV(t),this._hash.update(i)}$Ke(I3,afe);I3.prototype._update=function(t){this._hash.update(t)};I3.prototype._final=function(){var t=this._hash.digest(),e=this._alg==="rmd160"?new WV:GV(this._alg);return e.update(this._opad).update(t).digest()};cfe.exports=function(e,r){return e=e.toLowerCase(),e==="rmd160"||e==="ripemd160"?new I3("rmd160",r):e==="md5"?new YKe(ZKe,r):new I3(e,r)}});var YV=V((TVt,JKe)=>{JKe.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}});var ffe=V((IVt,ufe)=>{"use strict";d();h();ufe.exports=YV()});var ZV=V((PVt,lfe)=>{d();h();var XKe=Math.pow(2,30)-1;lfe.exports=function(t,e){if(typeof t!="number")throw new TypeError("Iterations not a number");if(t<0)throw new TypeError("Bad iterations");if(typeof e!="number")throw new TypeError("Key length not a number");if(e<0||e>XKe||e!==e)throw new TypeError("Bad key length")}});var QV=V((CVt,hfe)=>{d();h();var iM;self.process&&self.process.browser?iM="utf-8":self.process&&self.process.version?(dfe=parseInt(process.version.split(".")[0].slice(1),10),iM=dfe>=6?"utf-8":"binary"):iM="utf-8";var dfe;hfe.exports=iM});var XV=V((DVt,pfe)=>{d();h();var JV=cr().Buffer;pfe.exports=function(t,e,r){if(JV.isBuffer(t))return t;if(typeof t=="string")return JV.from(t,e);if(ArrayBuffer.isView(t))return JV.from(t.buffer);throw new TypeError(r+" must be a string, a Buffer, a typed array or a DataView")}});var eq=V((FVt,bfe)=>{d();h();var eHe=zV(),tHe=QI(),rHe=tM(),Ib=cr().Buffer,nHe=ZV(),mfe=QV(),yfe=XV(),iHe=Ib.alloc(128),oM={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function gfe(t,e,r){var n=oHe(t),i=t==="sha512"||t==="sha384"?128:64;e.length>i?e=n(e):e.length<i&&(e=Ib.concat([e,iHe],i));for(var o=Ib.allocUnsafe(i+oM[t]),s=Ib.allocUnsafe(i+oM[t]),c=0;c<i;c++)o[c]=e[c]^54,s[c]=e[c]^92;var l=Ib.allocUnsafe(i+r+4);o.copy(l,0,0,i),this.ipad1=l,this.ipad2=o,this.opad=s,this.alg=t,this.blocksize=i,this.hash=n,this.size=oM[t]}gfe.prototype.run=function(t,e){t.copy(e,this.blocksize);var r=this.hash(e);return r.copy(this.opad,this.blocksize),this.hash(this.opad)};function oHe(t){function e(n){return rHe(t).update(n).digest()}function r(n){return new tHe().update(n).digest()}return t==="rmd160"||t==="ripemd160"?r:t==="md5"?eHe:e}function sHe(t,e,r,n,i){nHe(r,n),t=yfe(t,mfe,"Password"),e=yfe(e,mfe,"Salt"),i=i||"sha1";var o=new gfe(i,t,e.length),s=Ib.allocUnsafe(n),c=Ib.allocUnsafe(e.length+4);e.copy(c,0,0,e.length);for(var l=0,m=oM[i],w=Math.ceil(n/m),b=1;b<=w;b++){c.writeUInt32BE(b,e.length);for(var E=o.run(c,o.ipad1),I=E,M=1;M<r;M++){I=o.run(I,o.ipad2);for(var k=0;k<m;k++)E[k]^=I[k]}E.copy(s,l),l+=m}return s}bfe.exports=sHe});var _fe=V((KVt,Efe)=>{d();h();var Sfe=cr().Buffer,aHe=ZV(),vfe=QV(),xfe=eq(),wfe=XV(),sM,M3=self.crypto&&self.crypto.subtle,cHe={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},tq=[];function uHe(t){if(self.process&&!self.process.browser||!M3||!M3.importKey||!M3.deriveBits)return Promise.resolve(!1);if(tq[t]!==void 0)return tq[t];sM=sM||Sfe.alloc(8);var e=Afe(sM,sM,10,128,t).then(function(){return!0}).catch(function(){return!1});return tq[t]=e,e}var Mb;function rq(){return Mb||(self.process&&self.process.nextTick?Mb=self.process.nextTick:self.queueMicrotask?Mb=self.queueMicrotask:self.setImmediate?Mb=self.setImmediate:Mb=self.setTimeout,Mb)}function Afe(t,e,r,n,i){return M3.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]).then(function(o){return M3.deriveBits({name:"PBKDF2",salt:e,iterations:r,hash:{name:i}},o,n<<3)}).then(function(o){return Sfe.from(o)})}function fHe(t,e){t.then(function(r){rq()(function(){e(null,r)})},function(r){rq()(function(){e(r)})})}Efe.exports=function(t,e,r,n,i,o){typeof i=="function"&&(o=i,i=void 0),i=i||"sha1";var s=cHe[i.toLowerCase()];if(!s||typeof self.Promise!="function"){rq()(function(){var c;try{c=xfe(t,e,r,n,i)}catch(l){return o(l)}o(null,c)});return}if(aHe(r,n),t=wfe(t,vfe,"Password"),e=wfe(e,vfe,"Salt"),typeof o!="function")throw new Error("No callback provided to pbkdf2");fHe(uHe(s).then(function(c){return c?Afe(t,e,r,n,s):xfe(t,e,r,n,i)}),o)}});var aM=V(nq=>{d();h();nq.pbkdf2=_fe();nq.pbkdf2Sync=eq()});var iq=V(Qu=>{"use strict";d();h();Qu.readUInt32BE=function(e,r){var n=e[0+r]<<24|e[1+r]<<16|e[2+r]<<8|e[3+r];return n>>>0};Qu.writeUInt32BE=function(e,r,n){e[0+n]=r>>>24,e[1+n]=r>>>16&255,e[2+n]=r>>>8&255,e[3+n]=r&255};Qu.ip=function(e,r,n,i){for(var o=0,s=0,c=6;c>=0;c-=2){for(var l=0;l<=24;l+=8)o<<=1,o|=r>>>l+c&1;for(var l=0;l<=24;l+=8)o<<=1,o|=e>>>l+c&1}for(var c=6;c>=0;c-=2){for(var l=1;l<=25;l+=8)s<<=1,s|=r>>>l+c&1;for(var l=1;l<=25;l+=8)s<<=1,s|=e>>>l+c&1}n[i+0]=o>>>0,n[i+1]=s>>>0};Qu.rip=function(e,r,n,i){for(var o=0,s=0,c=0;c<4;c++)for(var l=24;l>=0;l-=8)o<<=1,o|=r>>>l+c&1,o<<=1,o|=e>>>l+c&1;for(var c=4;c<8;c++)for(var l=24;l>=0;l-=8)s<<=1,s|=r>>>l+c&1,s<<=1,s|=e>>>l+c&1;n[i+0]=o>>>0,n[i+1]=s>>>0};Qu.pc1=function(e,r,n,i){for(var o=0,s=0,c=7;c>=5;c--){for(var l=0;l<=24;l+=8)o<<=1,o|=r>>l+c&1;for(var l=0;l<=24;l+=8)o<<=1,o|=e>>l+c&1}for(var l=0;l<=24;l+=8)o<<=1,o|=r>>l+c&1;for(var c=1;c<=3;c++){for(var l=0;l<=24;l+=8)s<<=1,s|=r>>l+c&1;for(var l=0;l<=24;l+=8)s<<=1,s|=e>>l+c&1}for(var l=0;l<=24;l+=8)s<<=1,s|=e>>l+c&1;n[i+0]=o>>>0,n[i+1]=s>>>0};Qu.r28shl=function(e,r){return e<<r&268435455|e>>>28-r};var cM=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];Qu.pc2=function(e,r,n,i){for(var o=0,s=0,c=cM.length>>>1,l=0;l<c;l++)o<<=1,o|=e>>>cM[l]&1;for(var l=c;l<cM.length;l++)s<<=1,s|=r>>>cM[l]&1;n[i+0]=o>>>0,n[i+1]=s>>>0};Qu.expand=function(e,r,n){var i=0,o=0;i=(e&1)<<5|e>>>27;for(var s=23;s>=15;s-=4)i<<=6,i|=e>>>s&63;for(var s=11;s>=3;s-=4)o|=e>>>s&63,o<<=6;o|=(e&31)<<1|e>>>31,r[n+0]=i>>>0,r[n+1]=o>>>0};var Tfe=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];Qu.substitute=function(e,r){for(var n=0,i=0;i<4;i++){var o=e>>>18-i*6&63,s=Tfe[i*64+o];n<<=4,n|=s}for(var i=0;i<4;i++){var o=r>>>18-i*6&63,s=Tfe[4*64+i*64+o];n<<=4,n|=s}return n>>>0};var Ife=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];Qu.permute=function(e){for(var r=0,n=0;n<Ife.length;n++)r<<=1,r|=e>>>Ife[n]&1;return r>>>0};Qu.padSplit=function(e,r,n){for(var i=e.toString(2);i.length<r;)i="0"+i;for(var o=[],s=0;s<r;s+=n)o.push(i.slice(s,s+n));return o.join(" ")}});var ru=V((QVt,kfe)=>{d();h();kfe.exports=Mfe;function Mfe(t,e){if(!t)throw new Error(e||"Assertion failed")}Mfe.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)}});var uM=V((eqt,Pfe)=>{"use strict";d();h();var lHe=ru();function Ju(t){this.options=t,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}Pfe.exports=Ju;Ju.prototype._init=function(){};Ju.prototype.update=function(e){return e.length===0?[]:this.type==="decrypt"?this._updateDecrypt(e):this._updateEncrypt(e)};Ju.prototype._buffer=function(e,r){for(var n=Math.min(this.buffer.length-this.bufferOff,e.length-r),i=0;i<n;i++)this.buffer[this.bufferOff+i]=e[r+i];return this.bufferOff+=n,n};Ju.prototype._flushBuffer=function(e,r){return this._update(this.buffer,0,e,r),this.bufferOff=0,this.blockSize};Ju.prototype._updateEncrypt=function(e){var r=0,n=0,i=(this.bufferOff+e.length)/this.blockSize|0,o=new Array(i*this.blockSize);this.bufferOff!==0&&(r+=this._buffer(e,r),this.bufferOff===this.buffer.length&&(n+=this._flushBuffer(o,n)));for(var s=e.length-(e.length-r)%this.blockSize;r<s;r+=this.blockSize)this._update(e,r,o,n),n+=this.blockSize;for(;r<e.length;r++,this.bufferOff++)this.buffer[this.bufferOff]=e[r];return o};Ju.prototype._updateDecrypt=function(e){for(var r=0,n=0,i=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,o=new Array(i*this.blockSize);i>0;i--)r+=this._buffer(e,r),n+=this._flushBuffer(o,n);return r+=this._buffer(e,r),o};Ju.prototype.final=function(e){var r;e&&(r=this.update(e));var n;return this.type==="encrypt"?n=this._finalEncrypt():n=this._finalDecrypt(),r?r.concat(n):n};Ju.prototype._pad=function(e,r){if(r===0)return!1;for(;r<e.length;)e[r++]=0;return!0};Ju.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e};Ju.prototype._unpad=function(e){return e};Ju.prototype._finalDecrypt=function(){lHe.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)}});var oq=V((nqt,Cfe)=>{"use strict";d();h();var Bfe=ru(),dHe=Xt(),ko=iq(),Rfe=uM();function hHe(){this.tmp=new Array(2),this.keys=null}function _d(t){Rfe.call(this,t);var e=new hHe;this._desState=e,this.deriveKeys(e,t.key)}dHe(_d,Rfe);Cfe.exports=_d;_d.create=function(e){return new _d(e)};var pHe=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];_d.prototype.deriveKeys=function(e,r){e.keys=new Array(16*2),Bfe.equal(r.length,this.blockSize,"Invalid key length");var n=ko.readUInt32BE(r,0),i=ko.readUInt32BE(r,4);ko.pc1(n,i,e.tmp,0),n=e.tmp[0],i=e.tmp[1];for(var o=0;o<e.keys.length;o+=2){var s=pHe[o>>>1];n=ko.r28shl(n,s),i=ko.r28shl(i,s),ko.pc2(n,i,e.keys,o)}};_d.prototype._update=function(e,r,n,i){var o=this._desState,s=ko.readUInt32BE(e,r),c=ko.readUInt32BE(e,r+4);ko.ip(s,c,o.tmp,0),s=o.tmp[0],c=o.tmp[1],this.type==="encrypt"?this._encrypt(o,s,c,o.tmp,0):this._decrypt(o,s,c,o.tmp,0),s=o.tmp[0],c=o.tmp[1],ko.writeUInt32BE(n,s,i),ko.writeUInt32BE(n,c,i+4)};_d.prototype._pad=function(e,r){for(var n=e.length-r,i=r;i<e.length;i++)e[i]=n;return!0};_d.prototype._unpad=function(e){for(var r=e[e.length-1],n=e.length-r;n<e.length;n++)Bfe.equal(e[n],r);return e.slice(0,e.length-r)};_d.prototype._encrypt=function(e,r,n,i,o){for(var s=r,c=n,l=0;l<e.keys.length;l+=2){var m=e.keys[l],w=e.keys[l+1];ko.expand(c,e.tmp,0),m^=e.tmp[0],w^=e.tmp[1];var b=ko.substitute(m,w),E=ko.permute(b),I=c;c=(s^E)>>>0,s=I}ko.rip(c,s,i,o)};_d.prototype._decrypt=function(e,r,n,i,o){for(var s=n,c=r,l=e.keys.length-2;l>=0;l-=2){var m=e.keys[l],w=e.keys[l+1];ko.expand(s,e.tmp,0),m^=e.tmp[0],w^=e.tmp[1];var b=ko.substitute(m,w),E=ko.permute(b),I=s;s=(c^E)>>>0,c=I}ko.rip(s,c,i,o)}});var Nfe=V(Ofe=>{"use strict";d();h();var mHe=ru(),yHe=Xt(),fM={};function gHe(t){mHe.equal(t.length,8,"Invalid IV length"),this.iv=new Array(8);for(var e=0;e<this.iv.length;e++)this.iv[e]=t[e]}function bHe(t){function e(o){t.call(this,o),this._cbcInit()}yHe(e,t);for(var r=Object.keys(fM),n=0;n<r.length;n++){var i=r[n];e.prototype[i]=fM[i]}return e.create=function(s){return new e(s)},e}Ofe.instantiate=bHe;fM._cbcInit=function(){var e=new gHe(this.options.iv);this._cbcState=e};fM._update=function(e,r,n,i){var o=this._cbcState,s=this.constructor.super_.prototype,c=o.iv;if(this.type==="encrypt"){for(var l=0;l<this.blockSize;l++)c[l]^=e[r+l];s._update.call(this,c,0,n,i);for(var l=0;l<this.blockSize;l++)c[l]=n[i+l]}else{s._update.call(this,e,r,n,i);for(var l=0;l<this.blockSize;l++)n[i+l]^=c[l];for(var l=0;l<this.blockSize;l++)c[l]=e[r+l]}}});var Lfe=V((uqt,Ufe)=>{"use strict";d();h();var vHe=ru(),xHe=Xt(),Dfe=uM(),rm=oq();function wHe(t,e){vHe.equal(e.length,24,"Invalid key length");var r=e.slice(0,8),n=e.slice(8,16),i=e.slice(16,24);t==="encrypt"?this.ciphers=[rm.create({type:"encrypt",key:r}),rm.create({type:"decrypt",key:n}),rm.create({type:"encrypt",key:i})]:this.ciphers=[rm.create({type:"decrypt",key:i}),rm.create({type:"encrypt",key:n}),rm.create({type:"decrypt",key:r})]}function kb(t){Dfe.call(this,t);var e=new wHe(this.type,this.options.key);this._edeState=e}xHe(kb,Dfe);Ufe.exports=kb;kb.create=function(e){return new kb(e)};kb.prototype._update=function(e,r,n,i){var o=this._edeState;o.ciphers[0]._update(e,r,n,i),o.ciphers[1]._update(n,i,n,i),o.ciphers[2]._update(n,i,n,i)};kb.prototype._pad=rm.prototype._pad;kb.prototype._unpad=rm.prototype._unpad});var Ffe=V(zx=>{"use strict";d();h();zx.utils=iq();zx.Cipher=uM();zx.DES=oq();zx.CBC=Nfe();zx.EDE=Lfe()});var Kfe=V((mqt,qfe)=>{d();h();var Vfe=t0(),r0=Ffe(),SHe=Xt(),Pb=cr().Buffer,k3={"des-ede3-cbc":r0.CBC.instantiate(r0.EDE),"des-ede3":r0.EDE,"des-ede-cbc":r0.CBC.instantiate(r0.EDE),"des-ede":r0.EDE,"des-cbc":r0.CBC.instantiate(r0.DES),"des-ecb":r0.DES};k3.des=k3["des-cbc"];k3.des3=k3["des-ede3-cbc"];qfe.exports=lM;SHe(lM,Vfe);function lM(t){Vfe.call(this);var e=t.mode.toLowerCase(),r=k3[e],n;t.decrypt?n="decrypt":n="encrypt";var i=t.key;Pb.isBuffer(i)||(i=Pb.from(i)),(e==="des-ede"||e==="des-ede-cbc")&&(i=Pb.concat([i,i.slice(0,8)]));var o=t.iv;Pb.isBuffer(o)||(o=Pb.from(o)),this._des=r.create({key:i,iv:o,type:n})}lM.prototype._update=function(t){return Pb.from(this._des.update(t))};lM.prototype._final=function(){return Pb.from(this._des.final())}});var Hfe=V(sq=>{d();h();sq.encrypt=function(t,e){return t._cipher.encryptBlock(e)};sq.decrypt=function(t,e){return t._cipher.decryptBlock(e)}});var Wx=V((wqt,jfe)=>{d();h();jfe.exports=function(e,r){for(var n=Math.min(e.length,r.length),i=new Buffer(n),o=0;o<n;++o)i[o]=e[o]^r[o];return i}});var Wfe=V(aq=>{d();h();var zfe=Wx();aq.encrypt=function(t,e){var r=zfe(e,t._prev);return t._prev=t._cipher.encryptBlock(r),t._prev};aq.decrypt=function(t,e){var r=t._prev;t._prev=e;var n=t._cipher.decryptBlock(e);return zfe(n,r)}});var Yfe=V($fe=>{d();h();var P3=cr().Buffer,AHe=Wx();function Gfe(t,e,r){var n=e.length,i=AHe(e,t._cache);return t._cache=t._cache.slice(n),t._prev=P3.concat([t._prev,r?e:i]),i}$fe.encrypt=function(t,e,r){for(var n=P3.allocUnsafe(0),i;e.length;)if(t._cache.length===0&&(t._cache=t._cipher.encryptBlock(t._prev),t._prev=P3.allocUnsafe(0)),t._cache.length<=e.length)i=t._cache.length,n=P3.concat([n,Gfe(t,e.slice(0,i),r)]),e=e.slice(i);else{n=P3.concat([n,Gfe(t,e,r)]);break}return n}});var Qfe=V(Zfe=>{d();h();var cq=cr().Buffer;function EHe(t,e,r){var n=t._cipher.encryptBlock(t._prev),i=n[0]^e;return t._prev=cq.concat([t._prev.slice(1),cq.from([r?e:i])]),i}Zfe.encrypt=function(t,e,r){for(var n=e.length,i=cq.allocUnsafe(n),o=-1;++o<n;)i[o]=EHe(t,e[o],r);return i}});var Xfe=V(Jfe=>{d();h();var dM=cr().Buffer;function _He(t,e,r){for(var n,i=-1,o=8,s=0,c,l;++i<o;)n=t._cipher.encryptBlock(t._prev),c=e&1<<7-i?128:0,l=n[0]^c,s+=(l&128)>>i%8,t._prev=THe(t._prev,r?c:l);return s}function THe(t,e){var r=t.length,n=-1,i=dM.allocUnsafe(t.length);for(t=dM.concat([t,dM.from([e])]);++n<r;)i[n]=t[n]<<1|t[n+1]>>7;return i}Jfe.encrypt=function(t,e,r){for(var n=e.length,i=dM.allocUnsafe(n),o=-1;++o<n;)i[o]=_He(t,e[o],r);return i}});var tle=V(ele=>{d();h();var IHe=Wx();function MHe(t){return t._prev=t._cipher.encryptBlock(t._prev),t._prev}ele.encrypt=function(t,e){for(;t._cache.length<e.length;)t._cache=Buffer.concat([t._cache,MHe(t)]);var r=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),IHe(e,r)}});var uq=V((Fqt,rle)=>{d();h();function kHe(t){for(var e=t.length,r;e--;)if(r=t.readUInt8(e),r===255)t.writeUInt8(0,e);else{r++,t.writeUInt8(r,e);break}}rle.exports=kHe});var lq=V(ile=>{d();h();var PHe=Wx(),nle=cr().Buffer,BHe=uq();function RHe(t){var e=t._cipher.encryptBlockRaw(t._prev);return BHe(t._prev),e}var fq=16;ile.encrypt=function(t,e){var r=Math.ceil(e.length/fq),n=t._cache.length;t._cache=nle.concat([t._cache,nle.allocUnsafe(r*fq)]);for(var i=0;i<r;i++){var o=RHe(t),s=n+i*fq;t._cache.writeUInt32BE(o[0],s+0),t._cache.writeUInt32BE(o[1],s+4),t._cache.writeUInt32BE(o[2],s+8),t._cache.writeUInt32BE(o[3],s+12)}var c=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),PHe(e,c)}});var dq=V((zqt,CHe)=>{CHe.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}});var pM=V((Wqt,ole)=>{d();h();var OHe={ECB:Hfe(),CBC:Wfe(),CFB:Yfe(),CFB8:Qfe(),CFB1:Xfe(),OFB:tle(),CTR:lq(),GCM:lq()},hM=dq();for(hq in hM)hM[hq].module=OHe[hM[hq].mode];var hq;ole.exports=hM});var B3=V((Yqt,ale)=>{d();h();var mM=cr().Buffer;function mq(t){mM.isBuffer(t)||(t=mM.from(t));for(var e=t.length/4|0,r=new Array(e),n=0;n<e;n++)r[n]=t.readUInt32BE(n*4);return r}function pq(t){for(var e=0;e<t.length;t++)t[e]=0}function sle(t,e,r,n,i){for(var o=r[0],s=r[1],c=r[2],l=r[3],m=t[0]^e[0],w=t[1]^e[1],b=t[2]^e[2],E=t[3]^e[3],I,M,k,R,B=4,U=1;U<i;U++)I=o[m>>>24]^s[w>>>16&255]^c[b>>>8&255]^l[E&255]^e[B++],M=o[w>>>24]^s[b>>>16&255]^c[E>>>8&255]^l[m&255]^e[B++],k=o[b>>>24]^s[E>>>16&255]^c[m>>>8&255]^l[w&255]^e[B++],R=o[E>>>24]^s[m>>>16&255]^c[w>>>8&255]^l[b&255]^e[B++],m=I,w=M,b=k,E=R;return I=(n[m>>>24]<<24|n[w>>>16&255]<<16|n[b>>>8&255]<<8|n[E&255])^e[B++],M=(n[w>>>24]<<24|n[b>>>16&255]<<16|n[E>>>8&255]<<8|n[m&255])^e[B++],k=(n[b>>>24]<<24|n[E>>>16&255]<<16|n[m>>>8&255]<<8|n[w&255])^e[B++],R=(n[E>>>24]<<24|n[m>>>16&255]<<16|n[w>>>8&255]<<8|n[b&255])^e[B++],I=I>>>0,M=M>>>0,k=k>>>0,R=R>>>0,[I,M,k,R]}var NHe=[0,1,2,4,8,16,32,64,128,27,54],go=function(){for(var t=new Array(256),e=0;e<256;e++)e<128?t[e]=e<<1:t[e]=e<<1^283;for(var r=[],n=[],i=[[],[],[],[]],o=[[],[],[],[]],s=0,c=0,l=0;l<256;++l){var m=c^c<<1^c<<2^c<<3^c<<4;m=m>>>8^m&255^99,r[s]=m,n[m]=s;var w=t[s],b=t[w],E=t[b],I=t[m]*257^m*16843008;i[0][s]=I<<24|I>>>8,i[1][s]=I<<16|I>>>16,i[2][s]=I<<8|I>>>24,i[3][s]=I,I=E*16843009^b*65537^w*257^s*16843008,o[0][m]=I<<24|I>>>8,o[1][m]=I<<16|I>>>16,o[2][m]=I<<8|I>>>24,o[3][m]=I,s===0?s=c=1:(s=w^t[t[t[E^w]]],c^=t[t[c]])}return{SBOX:r,INV_SBOX:n,SUB_MIX:i,INV_SUB_MIX:o}}();function Xu(t){this._key=mq(t),this._reset()}Xu.blockSize=4*4;Xu.keySize=256/8;Xu.prototype.blockSize=Xu.blockSize;Xu.prototype.keySize=Xu.keySize;Xu.prototype._reset=function(){for(var t=this._key,e=t.length,r=e+6,n=(r+1)*4,i=[],o=0;o<e;o++)i[o]=t[o];for(o=e;o<n;o++){var s=i[o-1];o%e===0?(s=s<<8|s>>>24,s=go.SBOX[s>>>24]<<24|go.SBOX[s>>>16&255]<<16|go.SBOX[s>>>8&255]<<8|go.SBOX[s&255],s^=NHe[o/e|0]<<24):e>6&&o%e===4&&(s=go.SBOX[s>>>24]<<24|go.SBOX[s>>>16&255]<<16|go.SBOX[s>>>8&255]<<8|go.SBOX[s&255]),i[o]=i[o-e]^s}for(var c=[],l=0;l<n;l++){var m=n-l,w=i[m-(l%4?0:4)];l<4||m<=4?c[l]=w:c[l]=go.INV_SUB_MIX[0][go.SBOX[w>>>24]]^go.INV_SUB_MIX[1][go.SBOX[w>>>16&255]]^go.INV_SUB_MIX[2][go.SBOX[w>>>8&255]]^go.INV_SUB_MIX[3][go.SBOX[w&255]]}this._nRounds=r,this._keySchedule=i,this._invKeySchedule=c};Xu.prototype.encryptBlockRaw=function(t){return t=mq(t),sle(t,this._keySchedule,go.SUB_MIX,go.SBOX,this._nRounds)};Xu.prototype.encryptBlock=function(t){var e=this.encryptBlockRaw(t),r=mM.allocUnsafe(16);return r.writeUInt32BE(e[0],0),r.writeUInt32BE(e[1],4),r.writeUInt32BE(e[2],8),r.writeUInt32BE(e[3],12),r};Xu.prototype.decryptBlock=function(t){t=mq(t);var e=t[1];t[1]=t[3],t[3]=e;var r=sle(t,this._invKeySchedule,go.INV_SUB_MIX,go.INV_SBOX,this._nRounds),n=mM.allocUnsafe(16);return n.writeUInt32BE(r[0],0),n.writeUInt32BE(r[3],4),n.writeUInt32BE(r[2],8),n.writeUInt32BE(r[1],12),n};Xu.prototype.scrub=function(){pq(this._keySchedule),pq(this._invKeySchedule),pq(this._key)};ale.exports.AES=Xu});var fle=V((Jqt,ule)=>{d();h();var Gx=cr().Buffer,DHe=Gx.alloc(16,0);function UHe(t){return[t.readUInt32BE(0),t.readUInt32BE(4),t.readUInt32BE(8),t.readUInt32BE(12)]}function cle(t){var e=Gx.allocUnsafe(16);return e.writeUInt32BE(t[0]>>>0,0),e.writeUInt32BE(t[1]>>>0,4),e.writeUInt32BE(t[2]>>>0,8),e.writeUInt32BE(t[3]>>>0,12),e}function R3(t){this.h=t,this.state=Gx.alloc(16,0),this.cache=Gx.allocUnsafe(0)}R3.prototype.ghash=function(t){for(var e=-1;++e<t.length;)this.state[e]^=t[e];this._multiply()};R3.prototype._multiply=function(){for(var t=UHe(this.h),e=[0,0,0,0],r,n,i,o=-1;++o<128;){for(n=(this.state[~~(o/8)]&1<<7-o%8)!==0,n&&(e[0]^=t[0],e[1]^=t[1],e[2]^=t[2],e[3]^=t[3]),i=(t[3]&1)!==0,r=3;r>0;r--)t[r]=t[r]>>>1|(t[r-1]&1)<<31;t[0]=t[0]>>>1,i&&(t[0]=t[0]^225<<24)}this.state=cle(e)};R3.prototype.update=function(t){this.cache=Gx.concat([this.cache,t]);for(var e;this.cache.length>=16;)e=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(e)};R3.prototype.final=function(t,e){return this.cache.length&&this.ghash(Gx.concat([this.cache,DHe],16)),this.ghash(cle([0,t,0,e])),this.state};ule.exports=R3});var yq=V((tKt,hle)=>{d();h();var LHe=B3(),gc=cr().Buffer,lle=t0(),FHe=Xt(),dle=fle(),VHe=Wx(),qHe=uq();function KHe(t,e){var r=0;t.length!==e.length&&r++;for(var n=Math.min(t.length,e.length),i=0;i<n;++i)r+=t[i]^e[i];return r}function HHe(t,e,r){if(e.length===12)return t._finID=gc.concat([e,gc.from([0,0,0,1])]),gc.concat([e,gc.from([0,0,0,2])]);var n=new dle(r),i=e.length,o=i%16;n.update(e),o&&(o=16-o,n.update(gc.alloc(o,0))),n.update(gc.alloc(8,0));var s=i*8,c=gc.alloc(8);c.writeUIntBE(s,0,8),n.update(c),t._finID=n.state;var l=gc.from(t._finID);return qHe(l),l}function Bb(t,e,r,n){lle.call(this);var i=gc.alloc(4,0);this._cipher=new LHe.AES(e);var o=this._cipher.encryptBlock(i);this._ghash=new dle(o),r=HHe(this,r,o),this._prev=gc.from(r),this._cache=gc.allocUnsafe(0),this._secCache=gc.allocUnsafe(0),this._decrypt=n,this._alen=0,this._len=0,this._mode=t,this._authTag=null,this._called=!1}FHe(Bb,lle);Bb.prototype._update=function(t){if(!this._called&&this._alen){var e=16-this._alen%16;e<16&&(e=gc.alloc(e,0),this._ghash.update(e))}this._called=!0;var r=this._mode.encrypt(this,t);return this._decrypt?this._ghash.update(t):this._ghash.update(r),this._len+=t.length,r};Bb.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var t=VHe(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&KHe(t,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=t,this._cipher.scrub()};Bb.prototype.getAuthTag=function(){if(this._decrypt||!gc.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag};Bb.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e};Bb.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length};hle.exports=Bb});var bq=V((iKt,mle)=>{d();h();var jHe=B3(),gq=cr().Buffer,ple=t0(),zHe=Xt();function yM(t,e,r,n){ple.call(this),this._cipher=new jHe.AES(e),this._prev=gq.from(r),this._cache=gq.allocUnsafe(0),this._secCache=gq.allocUnsafe(0),this._decrypt=n,this._mode=t}zHe(yM,ple);yM.prototype._update=function(t){return this._mode.encrypt(this,t,this._decrypt)};yM.prototype._final=function(){this._cipher.scrub()};mle.exports=yM});var C3=V((aKt,yle)=>{d();h();var Rb=cr().Buffer,WHe=YI();function GHe(t,e,r,n){if(Rb.isBuffer(t)||(t=Rb.from(t,"binary")),e&&(Rb.isBuffer(e)||(e=Rb.from(e,"binary")),e.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var i=r/8,o=Rb.alloc(i),s=Rb.alloc(n||0),c=Rb.alloc(0);i>0||n>0;){var l=new WHe;l.update(c),l.update(t),e&&l.update(e),c=l.digest();var m=0;if(i>0){var w=o.length-i;m=Math.min(i,c.length),c.copy(o,w,0,m),i-=m}if(m<c.length&&n>0){var b=s.length-n,E=Math.min(n,c.length-m);c.copy(s,b,m,m+E),n-=E}}return c.fill(0),{key:o,iv:s}}yle.exports=GHe});var xle=V(vq=>{d();h();var gle=pM(),$He=yq(),n0=cr().Buffer,YHe=bq(),ble=t0(),ZHe=B3(),QHe=C3(),JHe=Xt();function O3(t,e,r){ble.call(this),this._cache=new gM,this._cipher=new ZHe.AES(e),this._prev=n0.from(r),this._mode=t,this._autopadding=!0}JHe(O3,ble);O3.prototype._update=function(t){this._cache.add(t);for(var e,r,n=[];e=this._cache.get();)r=this._mode.encrypt(this,e),n.push(r);return n0.concat(n)};var XHe=n0.alloc(16,16);O3.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return t=this._mode.encrypt(this,t),this._cipher.scrub(),t;if(!t.equals(XHe))throw this._cipher.scrub(),new Error("data not multiple of block length")};O3.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this};function gM(){this.cache=n0.allocUnsafe(0)}gM.prototype.add=function(t){this.cache=n0.concat([this.cache,t])};gM.prototype.get=function(){if(this.cache.length>15){var t=this.cache.slice(0,16);return this.cache=this.cache.slice(16),t}return null};gM.prototype.flush=function(){for(var t=16-this.cache.length,e=n0.allocUnsafe(t),r=-1;++r<t;)e.writeUInt8(t,r);return n0.concat([this.cache,e])};function vle(t,e,r){var n=gle[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if(typeof e=="string"&&(e=n0.from(e)),e.length!==n.key/8)throw new TypeError("invalid key length "+e.length);if(typeof r=="string"&&(r=n0.from(r)),n.mode!=="GCM"&&r.length!==n.iv)throw new TypeError("invalid iv length "+r.length);return n.type==="stream"?new YHe(n.module,e,r):n.type==="auth"?new $He(n.module,e,r):new O3(n.module,e,r)}function eje(t,e){var r=gle[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=QHe(e,!1,r.key,r.iv);return vle(t,n.key,n.iv)}vq.createCipheriv=vle;vq.createCipher=eje});var Ele=V(xq=>{d();h();var tje=yq(),$x=cr().Buffer,wle=pM(),rje=bq(),Sle=t0(),nje=B3(),ije=C3(),oje=Xt();function N3(t,e,r){Sle.call(this),this._cache=new bM,this._last=void 0,this._cipher=new nje.AES(e),this._prev=$x.from(r),this._mode=t,this._autopadding=!0}oje(N3,Sle);N3.prototype._update=function(t){this._cache.add(t);for(var e,r,n=[];e=this._cache.get(this._autopadding);)r=this._mode.decrypt(this,e),n.push(r);return $x.concat(n)};N3.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return sje(this._mode.decrypt(this,t));if(t)throw new Error("data not multiple of block length")};N3.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this};function bM(){this.cache=$x.allocUnsafe(0)}bM.prototype.add=function(t){this.cache=$x.concat([this.cache,t])};bM.prototype.get=function(t){var e;if(t){if(this.cache.length>16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e}else if(this.cache.length>=16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e;return null};bM.prototype.flush=function(){if(this.cache.length)return this.cache};function sje(t){var e=t[15];if(e<1||e>16)throw new Error("unable to decrypt data");for(var r=-1;++r<e;)if(t[r+(16-e)]!==e)throw new Error("unable to decrypt data");if(e!==16)return t.slice(0,16-e)}function Ale(t,e,r){var n=wle[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if(typeof r=="string"&&(r=$x.from(r)),n.mode!=="GCM"&&r.length!==n.iv)throw new TypeError("invalid iv length "+r.length);if(typeof e=="string"&&(e=$x.from(e)),e.length!==n.key/8)throw new TypeError("invalid key length "+e.length);return n.type==="stream"?new rje(n.module,e,r,!0):n.type==="auth"?new tje(n.module,e,r,!0):new N3(n.module,e,r)}function aje(t,e){var r=wle[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=ije(e,!1,r.key,r.iv);return Ale(t,n.key,n.iv)}xq.createDecipher=aje;xq.createDecipheriv=Ale});var vM=V(al=>{d();h();var _le=xle(),Tle=Ele(),cje=dq();function uje(){return Object.keys(cje)}al.createCipher=al.Cipher=_le.createCipher;al.createCipheriv=al.Cipheriv=_le.createCipheriv;al.createDecipher=al.Decipher=Tle.createDecipher;al.createDecipheriv=al.Decipheriv=Tle.createDecipheriv;al.listCiphers=al.getCiphers=uje});var Ile=V(i0=>{d();h();i0["des-ecb"]={key:8,iv:0};i0["des-cbc"]=i0.des={key:8,iv:8};i0["des-ede3-cbc"]=i0.des3={key:24,iv:8};i0["des-ede3"]={key:24,iv:0};i0["des-ede-cbc"]={key:16,iv:8};i0["des-ede"]={key:16,iv:0}});var Rle=V(cl=>{d();h();var Mle=Kfe(),wq=vM(),nm=pM(),o0=Ile(),kle=C3();function fje(t,e){t=t.toLowerCase();var r,n;if(nm[t])r=nm[t].key,n=nm[t].iv;else if(o0[t])r=o0[t].key*8,n=o0[t].iv;else throw new TypeError("invalid suite type");var i=kle(e,!1,r,n);return Ple(t,i.key,i.iv)}function lje(t,e){t=t.toLowerCase();var r,n;if(nm[t])r=nm[t].key,n=nm[t].iv;else if(o0[t])r=o0[t].key*8,n=o0[t].iv;else throw new TypeError("invalid suite type");var i=kle(e,!1,r,n);return Ble(t,i.key,i.iv)}function Ple(t,e,r){if(t=t.toLowerCase(),nm[t])return wq.createCipheriv(t,e,r);if(o0[t])return new Mle({key:e,iv:r,mode:t});throw new TypeError("invalid suite type")}function Ble(t,e,r){if(t=t.toLowerCase(),nm[t])return wq.createDecipheriv(t,e,r);if(o0[t])return new Mle({key:e,iv:r,mode:t,decrypt:!0});throw new TypeError("invalid suite type")}function dje(){return Object.keys(o0).concat(wq.getCiphers())}cl.createCipher=cl.Cipher=fje;cl.createCipheriv=cl.Cipheriv=Ple;cl.createDecipher=cl.Decipher=lje;cl.createDecipheriv=cl.Decipheriv=Ble;cl.listCiphers=cl.getCiphers=dje});var Aq=V((Cle,Sq)=>{d();h();(function(t,e){"use strict";function r(S,a){if(!S)throw new Error(a||"Assertion failed")}function n(S,a){S.super_=a;var f=function(){};f.prototype=a.prototype,S.prototype=new f,S.prototype.constructor=S}function i(S,a,f){if(i.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((a==="le"||a==="be")&&(f=a,a=10),this._init(S||0,a||10,f||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof self<"u"&&typeof self.Buffer<"u"?o=self.Buffer:o=Fp().Buffer}catch{}i.isBN=function(a){return a instanceof i?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===i.wordSize&&Array.isArray(a.words)},i.max=function(a,f){return a.cmp(f)>0?a:f},i.min=function(a,f){return a.cmp(f)<0?a:f},i.prototype._init=function(a,f,p){if(typeof a=="number")return this._initNumber(a,f,p);if(typeof a=="object")return this._initArray(a,f,p);f==="hex"&&(f=16),r(f===(f|0)&&f>=2&&f<=36),a=a.toString().replace(/\s+/g,"");var y=0;a[0]==="-"&&(y++,this.negative=1),y<a.length&&(f===16?this._parseHex(a,y,p):(this._parseBase(a,f,y),p==="le"&&this._initArray(this.toArray(),f,p)))},i.prototype._initNumber=function(a,f,p){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(r(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),f,p)},i.prototype._initArray=function(a,f,p){if(r(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var g,A,_=0;if(p==="be")for(y=a.length-1,g=0;y>=0;y-=3)A=a[y]|a[y-1]<<8|a[y-2]<<16,this.words[g]|=A<<_&67108863,this.words[g+1]=A>>>26-_&67108863,_+=24,_>=26&&(_-=26,g++);else if(p==="le")for(y=0,g=0;y<a.length;y+=3)A=a[y]|a[y+1]<<8|a[y+2]<<16,this.words[g]|=A<<_&67108863,this.words[g+1]=A>>>26-_&67108863,_+=24,_>=26&&(_-=26,g++);return this.strip()};function s(S,a){var f=S.charCodeAt(a);return f>=65&&f<=70?f-55:f>=97&&f<=102?f-87:f-48&15}function c(S,a,f){var p=s(S,f);return f-1>=a&&(p|=s(S,f-1)<<4),p}i.prototype._parseHex=function(a,f,p){this.length=Math.ceil((a.length-f)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var g=0,A=0,_;if(p==="be")for(y=a.length-1;y>=f;y-=2)_=c(a,f,y)<<g,this.words[A]|=_&67108863,g>=18?(g-=18,A+=1,this.words[A]|=_>>>26):g+=8;else{var v=a.length-f;for(y=v%2===0?f+1:f;y<a.length;y+=2)_=c(a,f,y)<<g,this.words[A]|=_&67108863,g>=18?(g-=18,A+=1,this.words[A]|=_>>>26):g+=8}this.strip()};function l(S,a,f,p){for(var y=0,g=Math.min(S.length,f),A=a;A<g;A++){var _=S.charCodeAt(A)-48;y*=p,_>=49?y+=_-49+10:_>=17?y+=_-17+10:y+=_}return y}i.prototype._parseBase=function(a,f,p){this.words=[0],this.length=1;for(var y=0,g=1;g<=67108863;g*=f)y++;y--,g=g/f|0;for(var A=a.length-p,_=A%y,v=Math.min(A,A-_)+p,u=0,x=p;x<v;x+=y)u=l(a,x,x+y,f),this.imuln(g),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(_!==0){var L=1;for(u=l(a,x,a.length,f),x=0;x<_;x++)L*=f;this.imuln(L),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},i.prototype.copy=function(a){a.words=new Array(this.length);for(var f=0;f<this.length;f++)a.words[f]=this.words[f];a.length=this.length,a.negative=this.negative,a.red=this.red},i.prototype.clone=function(){var a=new i(null);return this.copy(a),a},i.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],w=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(a,f){a=a||10,f=f|0||1;var p;if(a===16||a==="hex"){p="";for(var y=0,g=0,A=0;A<this.length;A++){var _=this.words[A],v=((_<<y|g)&16777215).toString(16);g=_>>>24-y&16777215,g!==0||A!==this.length-1?p=m[6-v.length]+v+p:p=v+p,y+=2,y>=26&&(y-=26,A--)}for(g!==0&&(p=g.toString(16)+p);p.length%f!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(a===(a|0)&&a>=2&&a<=36){var u=w[a],x=b[a];p="";var L=this.clone();for(L.negative=0;!L.isZero();){var D=L.modn(x).toString(a);L=L.idivn(x),L.isZero()?p=D+p:p=m[u-D.length]+D+p}for(this.isZero()&&(p="0"+p);p.length%f!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(a,f){return r(typeof o<"u"),this.toArrayLike(o,a,f)},i.prototype.toArray=function(a,f){return this.toArrayLike(Array,a,f)},i.prototype.toArrayLike=function(a,f,p){var y=this.byteLength(),g=p||Math.max(1,y);r(y<=g,"byte array longer than desired length"),r(g>0,"Requested array length <= 0"),this.strip();var A=f==="le",_=new a(g),v,u,x=this.clone();if(A){for(u=0;!x.isZero();u++)v=x.andln(255),x.iushrn(8),_[u]=v;for(;u<g;u++)_[u]=0}else{for(u=0;u<g-y;u++)_[u]=0;for(u=0;!x.isZero();u++)v=x.andln(255),x.iushrn(8),_[g-u-1]=v}return _},Math.clz32?i.prototype._countBits=function(a){return 32-Math.clz32(a)}:i.prototype._countBits=function(a){var f=a,p=0;return f>=4096&&(p+=13,f>>>=13),f>=64&&(p+=7,f>>>=7),f>=8&&(p+=4,f>>>=4),f>=2&&(p+=2,f>>>=2),p+f},i.prototype._zeroBits=function(a){if(a===0)return 26;var f=a,p=0;return f&8191||(p+=13,f>>>=13),f&127||(p+=7,f>>>=7),f&15||(p+=4,f>>>=4),f&3||(p+=2,f>>>=2),f&1||p++,p},i.prototype.bitLength=function(){var a=this.words[this.length-1],f=this._countBits(a);return(this.length-1)*26+f};function E(S){for(var a=new Array(S.bitLength()),f=0;f<a.length;f++){var p=f/26|0,y=f%26;a[f]=(S.words[p]&1<<y)>>>y}return a}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,f=0;f<this.length;f++){var p=this._zeroBits(this.words[f]);if(a+=p,p!==26)break}return a},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},i.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var f=0;f<a.length;f++)this.words[f]=this.words[f]|a.words[f];return this.strip()},i.prototype.ior=function(a){return r((this.negative|a.negative)===0),this.iuor(a)},i.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},i.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},i.prototype.iuand=function(a){var f;this.length>a.length?f=a:f=this;for(var p=0;p<f.length;p++)this.words[p]=this.words[p]&a.words[p];return this.length=f.length,this.strip()},i.prototype.iand=function(a){return r((this.negative|a.negative)===0),this.iuand(a)},i.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},i.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},i.prototype.iuxor=function(a){var f,p;this.length>a.length?(f=this,p=a):(f=a,p=this);for(var y=0;y<p.length;y++)this.words[y]=f.words[y]^p.words[y];if(this!==f)for(;y<f.length;y++)this.words[y]=f.words[y];return this.length=f.length,this.strip()},i.prototype.ixor=function(a){return r((this.negative|a.negative)===0),this.iuxor(a)},i.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},i.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},i.prototype.inotn=function(a){r(typeof a=="number"&&a>=0);var f=Math.ceil(a/26)|0,p=a%26;this._expand(f),p>0&&f--;for(var y=0;y<f;y++)this.words[y]=~this.words[y]&67108863;return p>0&&(this.words[y]=~this.words[y]&67108863>>26-p),this.strip()},i.prototype.notn=function(a){return this.clone().inotn(a)},i.prototype.setn=function(a,f){r(typeof a=="number"&&a>=0);var p=a/26|0,y=a%26;return this._expand(p+1),f?this.words[p]=this.words[p]|1<<y:this.words[p]=this.words[p]&~(1<<y),this.strip()},i.prototype.iadd=function(a){var f;if(this.negative!==0&&a.negative===0)return this.negative=0,f=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,f=this.isub(a),a.negative=1,f._normSign();var p,y;this.length>a.length?(p=this,y=a):(p=a,y=this);for(var g=0,A=0;A<y.length;A++)f=(p.words[A]|0)+(y.words[A]|0)+g,this.words[A]=f&67108863,g=f>>>26;for(;g!==0&&A<p.length;A++)f=(p.words[A]|0)+g,this.words[A]=f&67108863,g=f>>>26;if(this.length=p.length,g!==0)this.words[this.length]=g,this.length++;else if(p!==this)for(;A<p.length;A++)this.words[A]=p.words[A];return this},i.prototype.add=function(a){var f;return a.negative!==0&&this.negative===0?(a.negative=0,f=this.sub(a),a.negative^=1,f):a.negative===0&&this.negative!==0?(this.negative=0,f=a.sub(this),this.negative=1,f):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},i.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var f=this.iadd(a);return a.negative=1,f._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var p=this.cmp(a);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var y,g;p>0?(y=this,g=a):(y=a,g=this);for(var A=0,_=0;_<g.length;_++)f=(y.words[_]|0)-(g.words[_]|0)+A,A=f>>26,this.words[_]=f&67108863;for(;A!==0&&_<y.length;_++)f=(y.words[_]|0)+A,A=f>>26,this.words[_]=f&67108863;if(A===0&&_<y.length&&y!==this)for(;_<y.length;_++)this.words[_]=y.words[_];return this.length=Math.max(this.length,_),y!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(a){return this.clone().isub(a)};function I(S,a,f){f.negative=a.negative^S.negative;var p=S.length+a.length|0;f.length=p,p=p-1|0;var y=S.words[0]|0,g=a.words[0]|0,A=y*g,_=A&67108863,v=A/67108864|0;f.words[0]=_;for(var u=1;u<p;u++){for(var x=v>>>26,L=v&67108863,D=Math.min(u,a.length-1),C=Math.max(0,u-S.length+1);C<=D;C++){var z=u-C|0;y=S.words[z]|0,g=a.words[C]|0,A=y*g+L,x+=A/67108864|0,L=A&67108863}f.words[u]=L|0,v=x|0}return v!==0?f.words[u]=v|0:f.length--,f.strip()}var M=function(a,f,p){var y=a.words,g=f.words,A=p.words,_=0,v,u,x,L=y[0]|0,D=L&8191,C=L>>>13,z=y[1]|0,ee=z&8191,ne=z>>>13,Ke=y[2]|0,ae=Ke&8191,W=Ke>>>13,he=y[3]|0,te=he&8191,ce=he>>>13,Ze=y[4]|0,se=Ze&8191,le=Ze>>>13,Bt=y[5]|0,ge=Bt&8191,ye=Bt>>>13,$r=y[6]|0,Ie=$r&8191,we=$r>>>13,gn=y[7]|0,ve=gn&8191,Be=gn>>>13,In=y[8]|0,Re=In&8191,Ce=In>>>13,Rn=y[9]|0,De=Rn&8191,Me=Rn>>>13,Mn=g[0]|0,_e=Mn&8191,Se=Mn>>>13,en=g[1]|0,Ae=en&8191,Te=en>>>13,un=g[2]|0,Ee=un&8191,ke=un>>>13,Cn=g[3]|0,Ue=Cn&8191,Le=Cn>>>13,Or=g[4]|0,be=Or&8191,xe=Or>>>13,kn=g[5]|0,Pe=kn&8191,Oe=kn>>>13,Ln=g[6]|0,me=Ln&8191,Ne=Ln>>>13,Y=g[7]|0,j=Y&8191,H=Y>>>13,O=g[8]|0,Z=O&8191,X=O>>>13,pe=g[9]|0,oe=pe&8191,ue=pe>>>13;p.negative=a.negative^f.negative,p.length=19,v=Math.imul(D,_e),u=Math.imul(D,Se),u=u+Math.imul(C,_e)|0,x=Math.imul(C,Se);var at=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(at>>>26)|0,at&=67108863,v=Math.imul(ee,_e),u=Math.imul(ee,Se),u=u+Math.imul(ne,_e)|0,x=Math.imul(ne,Se),v=v+Math.imul(D,Ae)|0,u=u+Math.imul(D,Te)|0,u=u+Math.imul(C,Ae)|0,x=x+Math.imul(C,Te)|0;var Je=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(Je>>>26)|0,Je&=67108863,v=Math.imul(ae,_e),u=Math.imul(ae,Se),u=u+Math.imul(W,_e)|0,x=Math.imul(W,Se),v=v+Math.imul(ee,Ae)|0,u=u+Math.imul(ee,Te)|0,u=u+Math.imul(ne,Ae)|0,x=x+Math.imul(ne,Te)|0,v=v+Math.imul(D,Ee)|0,u=u+Math.imul(D,ke)|0,u=u+Math.imul(C,Ee)|0,x=x+Math.imul(C,ke)|0;var At=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(At>>>26)|0,At&=67108863,v=Math.imul(te,_e),u=Math.imul(te,Se),u=u+Math.imul(ce,_e)|0,x=Math.imul(ce,Se),v=v+Math.imul(ae,Ae)|0,u=u+Math.imul(ae,Te)|0,u=u+Math.imul(W,Ae)|0,x=x+Math.imul(W,Te)|0,v=v+Math.imul(ee,Ee)|0,u=u+Math.imul(ee,ke)|0,u=u+Math.imul(ne,Ee)|0,x=x+Math.imul(ne,ke)|0,v=v+Math.imul(D,Ue)|0,u=u+Math.imul(D,Le)|0,u=u+Math.imul(C,Ue)|0,x=x+Math.imul(C,Le)|0;var tt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(tt>>>26)|0,tt&=67108863,v=Math.imul(se,_e),u=Math.imul(se,Se),u=u+Math.imul(le,_e)|0,x=Math.imul(le,Se),v=v+Math.imul(te,Ae)|0,u=u+Math.imul(te,Te)|0,u=u+Math.imul(ce,Ae)|0,x=x+Math.imul(ce,Te)|0,v=v+Math.imul(ae,Ee)|0,u=u+Math.imul(ae,ke)|0,u=u+Math.imul(W,Ee)|0,x=x+Math.imul(W,ke)|0,v=v+Math.imul(ee,Ue)|0,u=u+Math.imul(ee,Le)|0,u=u+Math.imul(ne,Ue)|0,x=x+Math.imul(ne,Le)|0,v=v+Math.imul(D,be)|0,u=u+Math.imul(D,xe)|0,u=u+Math.imul(C,be)|0,x=x+Math.imul(C,xe)|0;var dt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(dt>>>26)|0,dt&=67108863,v=Math.imul(ge,_e),u=Math.imul(ge,Se),u=u+Math.imul(ye,_e)|0,x=Math.imul(ye,Se),v=v+Math.imul(se,Ae)|0,u=u+Math.imul(se,Te)|0,u=u+Math.imul(le,Ae)|0,x=x+Math.imul(le,Te)|0,v=v+Math.imul(te,Ee)|0,u=u+Math.imul(te,ke)|0,u=u+Math.imul(ce,Ee)|0,x=x+Math.imul(ce,ke)|0,v=v+Math.imul(ae,Ue)|0,u=u+Math.imul(ae,Le)|0,u=u+Math.imul(W,Ue)|0,x=x+Math.imul(W,Le)|0,v=v+Math.imul(ee,be)|0,u=u+Math.imul(ee,xe)|0,u=u+Math.imul(ne,be)|0,x=x+Math.imul(ne,xe)|0,v=v+Math.imul(D,Pe)|0,u=u+Math.imul(D,Oe)|0,u=u+Math.imul(C,Pe)|0,x=x+Math.imul(C,Oe)|0;var ht=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(ht>>>26)|0,ht&=67108863,v=Math.imul(Ie,_e),u=Math.imul(Ie,Se),u=u+Math.imul(we,_e)|0,x=Math.imul(we,Se),v=v+Math.imul(ge,Ae)|0,u=u+Math.imul(ge,Te)|0,u=u+Math.imul(ye,Ae)|0,x=x+Math.imul(ye,Te)|0,v=v+Math.imul(se,Ee)|0,u=u+Math.imul(se,ke)|0,u=u+Math.imul(le,Ee)|0,x=x+Math.imul(le,ke)|0,v=v+Math.imul(te,Ue)|0,u=u+Math.imul(te,Le)|0,u=u+Math.imul(ce,Ue)|0,x=x+Math.imul(ce,Le)|0,v=v+Math.imul(ae,be)|0,u=u+Math.imul(ae,xe)|0,u=u+Math.imul(W,be)|0,x=x+Math.imul(W,xe)|0,v=v+Math.imul(ee,Pe)|0,u=u+Math.imul(ee,Oe)|0,u=u+Math.imul(ne,Pe)|0,x=x+Math.imul(ne,Oe)|0,v=v+Math.imul(D,me)|0,u=u+Math.imul(D,Ne)|0,u=u+Math.imul(C,me)|0,x=x+Math.imul(C,Ne)|0;var bt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(bt>>>26)|0,bt&=67108863,v=Math.imul(ve,_e),u=Math.imul(ve,Se),u=u+Math.imul(Be,_e)|0,x=Math.imul(Be,Se),v=v+Math.imul(Ie,Ae)|0,u=u+Math.imul(Ie,Te)|0,u=u+Math.imul(we,Ae)|0,x=x+Math.imul(we,Te)|0,v=v+Math.imul(ge,Ee)|0,u=u+Math.imul(ge,ke)|0,u=u+Math.imul(ye,Ee)|0,x=x+Math.imul(ye,ke)|0,v=v+Math.imul(se,Ue)|0,u=u+Math.imul(se,Le)|0,u=u+Math.imul(le,Ue)|0,x=x+Math.imul(le,Le)|0,v=v+Math.imul(te,be)|0,u=u+Math.imul(te,xe)|0,u=u+Math.imul(ce,be)|0,x=x+Math.imul(ce,xe)|0,v=v+Math.imul(ae,Pe)|0,u=u+Math.imul(ae,Oe)|0,u=u+Math.imul(W,Pe)|0,x=x+Math.imul(W,Oe)|0,v=v+Math.imul(ee,me)|0,u=u+Math.imul(ee,Ne)|0,u=u+Math.imul(ne,me)|0,x=x+Math.imul(ne,Ne)|0,v=v+Math.imul(D,j)|0,u=u+Math.imul(D,H)|0,u=u+Math.imul(C,j)|0,x=x+Math.imul(C,H)|0;var gt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(gt>>>26)|0,gt&=67108863,v=Math.imul(Re,_e),u=Math.imul(Re,Se),u=u+Math.imul(Ce,_e)|0,x=Math.imul(Ce,Se),v=v+Math.imul(ve,Ae)|0,u=u+Math.imul(ve,Te)|0,u=u+Math.imul(Be,Ae)|0,x=x+Math.imul(Be,Te)|0,v=v+Math.imul(Ie,Ee)|0,u=u+Math.imul(Ie,ke)|0,u=u+Math.imul(we,Ee)|0,x=x+Math.imul(we,ke)|0,v=v+Math.imul(ge,Ue)|0,u=u+Math.imul(ge,Le)|0,u=u+Math.imul(ye,Ue)|0,x=x+Math.imul(ye,Le)|0,v=v+Math.imul(se,be)|0,u=u+Math.imul(se,xe)|0,u=u+Math.imul(le,be)|0,x=x+Math.imul(le,xe)|0,v=v+Math.imul(te,Pe)|0,u=u+Math.imul(te,Oe)|0,u=u+Math.imul(ce,Pe)|0,x=x+Math.imul(ce,Oe)|0,v=v+Math.imul(ae,me)|0,u=u+Math.imul(ae,Ne)|0,u=u+Math.imul(W,me)|0,x=x+Math.imul(W,Ne)|0,v=v+Math.imul(ee,j)|0,u=u+Math.imul(ee,H)|0,u=u+Math.imul(ne,j)|0,x=x+Math.imul(ne,H)|0,v=v+Math.imul(D,Z)|0,u=u+Math.imul(D,X)|0,u=u+Math.imul(C,Z)|0,x=x+Math.imul(C,X)|0;var pt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(pt>>>26)|0,pt&=67108863,v=Math.imul(De,_e),u=Math.imul(De,Se),u=u+Math.imul(Me,_e)|0,x=Math.imul(Me,Se),v=v+Math.imul(Re,Ae)|0,u=u+Math.imul(Re,Te)|0,u=u+Math.imul(Ce,Ae)|0,x=x+Math.imul(Ce,Te)|0,v=v+Math.imul(ve,Ee)|0,u=u+Math.imul(ve,ke)|0,u=u+Math.imul(Be,Ee)|0,x=x+Math.imul(Be,ke)|0,v=v+Math.imul(Ie,Ue)|0,u=u+Math.imul(Ie,Le)|0,u=u+Math.imul(we,Ue)|0,x=x+Math.imul(we,Le)|0,v=v+Math.imul(ge,be)|0,u=u+Math.imul(ge,xe)|0,u=u+Math.imul(ye,be)|0,x=x+Math.imul(ye,xe)|0,v=v+Math.imul(se,Pe)|0,u=u+Math.imul(se,Oe)|0,u=u+Math.imul(le,Pe)|0,x=x+Math.imul(le,Oe)|0,v=v+Math.imul(te,me)|0,u=u+Math.imul(te,Ne)|0,u=u+Math.imul(ce,me)|0,x=x+Math.imul(ce,Ne)|0,v=v+Math.imul(ae,j)|0,u=u+Math.imul(ae,H)|0,u=u+Math.imul(W,j)|0,x=x+Math.imul(W,H)|0,v=v+Math.imul(ee,Z)|0,u=u+Math.imul(ee,X)|0,u=u+Math.imul(ne,Z)|0,x=x+Math.imul(ne,X)|0,v=v+Math.imul(D,oe)|0,u=u+Math.imul(D,ue)|0,u=u+Math.imul(C,oe)|0,x=x+Math.imul(C,ue)|0;var yt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(yt>>>26)|0,yt&=67108863,v=Math.imul(De,Ae),u=Math.imul(De,Te),u=u+Math.imul(Me,Ae)|0,x=Math.imul(Me,Te),v=v+Math.imul(Re,Ee)|0,u=u+Math.imul(Re,ke)|0,u=u+Math.imul(Ce,Ee)|0,x=x+Math.imul(Ce,ke)|0,v=v+Math.imul(ve,Ue)|0,u=u+Math.imul(ve,Le)|0,u=u+Math.imul(Be,Ue)|0,x=x+Math.imul(Be,Le)|0,v=v+Math.imul(Ie,be)|0,u=u+Math.imul(Ie,xe)|0,u=u+Math.imul(we,be)|0,x=x+Math.imul(we,xe)|0,v=v+Math.imul(ge,Pe)|0,u=u+Math.imul(ge,Oe)|0,u=u+Math.imul(ye,Pe)|0,x=x+Math.imul(ye,Oe)|0,v=v+Math.imul(se,me)|0,u=u+Math.imul(se,Ne)|0,u=u+Math.imul(le,me)|0,x=x+Math.imul(le,Ne)|0,v=v+Math.imul(te,j)|0,u=u+Math.imul(te,H)|0,u=u+Math.imul(ce,j)|0,x=x+Math.imul(ce,H)|0,v=v+Math.imul(ae,Z)|0,u=u+Math.imul(ae,X)|0,u=u+Math.imul(W,Z)|0,x=x+Math.imul(W,X)|0,v=v+Math.imul(ee,oe)|0,u=u+Math.imul(ee,ue)|0,u=u+Math.imul(ne,oe)|0,x=x+Math.imul(ne,ue)|0;var mt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(mt>>>26)|0,mt&=67108863,v=Math.imul(De,Ee),u=Math.imul(De,ke),u=u+Math.imul(Me,Ee)|0,x=Math.imul(Me,ke),v=v+Math.imul(Re,Ue)|0,u=u+Math.imul(Re,Le)|0,u=u+Math.imul(Ce,Ue)|0,x=x+Math.imul(Ce,Le)|0,v=v+Math.imul(ve,be)|0,u=u+Math.imul(ve,xe)|0,u=u+Math.imul(Be,be)|0,x=x+Math.imul(Be,xe)|0,v=v+Math.imul(Ie,Pe)|0,u=u+Math.imul(Ie,Oe)|0,u=u+Math.imul(we,Pe)|0,x=x+Math.imul(we,Oe)|0,v=v+Math.imul(ge,me)|0,u=u+Math.imul(ge,Ne)|0,u=u+Math.imul(ye,me)|0,x=x+Math.imul(ye,Ne)|0,v=v+Math.imul(se,j)|0,u=u+Math.imul(se,H)|0,u=u+Math.imul(le,j)|0,x=x+Math.imul(le,H)|0,v=v+Math.imul(te,Z)|0,u=u+Math.imul(te,X)|0,u=u+Math.imul(ce,Z)|0,x=x+Math.imul(ce,X)|0,v=v+Math.imul(ae,oe)|0,u=u+Math.imul(ae,ue)|0,u=u+Math.imul(W,oe)|0,x=x+Math.imul(W,ue)|0;var it=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(it>>>26)|0,it&=67108863,v=Math.imul(De,Ue),u=Math.imul(De,Le),u=u+Math.imul(Me,Ue)|0,x=Math.imul(Me,Le),v=v+Math.imul(Re,be)|0,u=u+Math.imul(Re,xe)|0,u=u+Math.imul(Ce,be)|0,x=x+Math.imul(Ce,xe)|0,v=v+Math.imul(ve,Pe)|0,u=u+Math.imul(ve,Oe)|0,u=u+Math.imul(Be,Pe)|0,x=x+Math.imul(Be,Oe)|0,v=v+Math.imul(Ie,me)|0,u=u+Math.imul(Ie,Ne)|0,u=u+Math.imul(we,me)|0,x=x+Math.imul(we,Ne)|0,v=v+Math.imul(ge,j)|0,u=u+Math.imul(ge,H)|0,u=u+Math.imul(ye,j)|0,x=x+Math.imul(ye,H)|0,v=v+Math.imul(se,Z)|0,u=u+Math.imul(se,X)|0,u=u+Math.imul(le,Z)|0,x=x+Math.imul(le,X)|0,v=v+Math.imul(te,oe)|0,u=u+Math.imul(te,ue)|0,u=u+Math.imul(ce,oe)|0,x=x+Math.imul(ce,ue)|0;var ut=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(ut>>>26)|0,ut&=67108863,v=Math.imul(De,be),u=Math.imul(De,xe),u=u+Math.imul(Me,be)|0,x=Math.imul(Me,xe),v=v+Math.imul(Re,Pe)|0,u=u+Math.imul(Re,Oe)|0,u=u+Math.imul(Ce,Pe)|0,x=x+Math.imul(Ce,Oe)|0,v=v+Math.imul(ve,me)|0,u=u+Math.imul(ve,Ne)|0,u=u+Math.imul(Be,me)|0,x=x+Math.imul(Be,Ne)|0,v=v+Math.imul(Ie,j)|0,u=u+Math.imul(Ie,H)|0,u=u+Math.imul(we,j)|0,x=x+Math.imul(we,H)|0,v=v+Math.imul(ge,Z)|0,u=u+Math.imul(ge,X)|0,u=u+Math.imul(ye,Z)|0,x=x+Math.imul(ye,X)|0,v=v+Math.imul(se,oe)|0,u=u+Math.imul(se,ue)|0,u=u+Math.imul(le,oe)|0,x=x+Math.imul(le,ue)|0;var Xe=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,v=Math.imul(De,Pe),u=Math.imul(De,Oe),u=u+Math.imul(Me,Pe)|0,x=Math.imul(Me,Oe),v=v+Math.imul(Re,me)|0,u=u+Math.imul(Re,Ne)|0,u=u+Math.imul(Ce,me)|0,x=x+Math.imul(Ce,Ne)|0,v=v+Math.imul(ve,j)|0,u=u+Math.imul(ve,H)|0,u=u+Math.imul(Be,j)|0,x=x+Math.imul(Be,H)|0,v=v+Math.imul(Ie,Z)|0,u=u+Math.imul(Ie,X)|0,u=u+Math.imul(we,Z)|0,x=x+Math.imul(we,X)|0,v=v+Math.imul(ge,oe)|0,u=u+Math.imul(ge,ue)|0,u=u+Math.imul(ye,oe)|0,x=x+Math.imul(ye,ue)|0;var ot=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(ot>>>26)|0,ot&=67108863,v=Math.imul(De,me),u=Math.imul(De,Ne),u=u+Math.imul(Me,me)|0,x=Math.imul(Me,Ne),v=v+Math.imul(Re,j)|0,u=u+Math.imul(Re,H)|0,u=u+Math.imul(Ce,j)|0,x=x+Math.imul(Ce,H)|0,v=v+Math.imul(ve,Z)|0,u=u+Math.imul(ve,X)|0,u=u+Math.imul(Be,Z)|0,x=x+Math.imul(Be,X)|0,v=v+Math.imul(Ie,oe)|0,u=u+Math.imul(Ie,ue)|0,u=u+Math.imul(we,oe)|0,x=x+Math.imul(we,ue)|0;var st=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(st>>>26)|0,st&=67108863,v=Math.imul(De,j),u=Math.imul(De,H),u=u+Math.imul(Me,j)|0,x=Math.imul(Me,H),v=v+Math.imul(Re,Z)|0,u=u+Math.imul(Re,X)|0,u=u+Math.imul(Ce,Z)|0,x=x+Math.imul(Ce,X)|0,v=v+Math.imul(ve,oe)|0,u=u+Math.imul(ve,ue)|0,u=u+Math.imul(Be,oe)|0,x=x+Math.imul(Be,ue)|0;var Qe=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,v=Math.imul(De,Z),u=Math.imul(De,X),u=u+Math.imul(Me,Z)|0,x=Math.imul(Me,X),v=v+Math.imul(Re,oe)|0,u=u+Math.imul(Re,ue)|0,u=u+Math.imul(Ce,oe)|0,x=x+Math.imul(Ce,ue)|0;var Fe=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,v=Math.imul(De,oe),u=Math.imul(De,ue),u=u+Math.imul(Me,oe)|0,x=Math.imul(Me,ue);var Ve=(_+v|0)+((u&8191)<<13)|0;return _=(x+(u>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,A[0]=at,A[1]=Je,A[2]=At,A[3]=tt,A[4]=dt,A[5]=ht,A[6]=bt,A[7]=gt,A[8]=pt,A[9]=yt,A[10]=mt,A[11]=it,A[12]=ut,A[13]=Xe,A[14]=ot,A[15]=st,A[16]=Qe,A[17]=Fe,A[18]=Ve,_!==0&&(A[19]=_,p.length++),p};Math.imul||(M=I);function k(S,a,f){f.negative=a.negative^S.negative,f.length=S.length+a.length;for(var p=0,y=0,g=0;g<f.length-1;g++){var A=y;y=0;for(var _=p&67108863,v=Math.min(g,a.length-1),u=Math.max(0,g-S.length+1);u<=v;u++){var x=g-u,L=S.words[x]|0,D=a.words[u]|0,C=L*D,z=C&67108863;A=A+(C/67108864|0)|0,z=z+_|0,_=z&67108863,A=A+(z>>>26)|0,y+=A>>>26,A&=67108863}f.words[g]=_,p=A,A=y}return p!==0?f.words[g]=p:f.length--,f.strip()}function R(S,a,f){var p=new B;return p.mulp(S,a,f)}i.prototype.mulTo=function(a,f){var p,y=this.length+a.length;return this.length===10&&a.length===10?p=M(this,a,f):y<63?p=I(this,a,f):y<1024?p=k(this,a,f):p=R(this,a,f),p};function B(S,a){this.x=S,this.y=a}B.prototype.makeRBT=function(a){for(var f=new Array(a),p=i.prototype._countBits(a)-1,y=0;y<a;y++)f[y]=this.revBin(y,p,a);return f},B.prototype.revBin=function(a,f,p){if(a===0||a===p-1)return a;for(var y=0,g=0;g<f;g++)y|=(a&1)<<f-g-1,a>>=1;return y},B.prototype.permute=function(a,f,p,y,g,A){for(var _=0;_<A;_++)y[_]=f[a[_]],g[_]=p[a[_]]},B.prototype.transform=function(a,f,p,y,g,A){this.permute(A,a,f,p,y,g);for(var _=1;_<g;_<<=1)for(var v=_<<1,u=Math.cos(2*Math.PI/v),x=Math.sin(2*Math.PI/v),L=0;L<g;L+=v)for(var D=u,C=x,z=0;z<_;z++){var ee=p[L+z],ne=y[L+z],Ke=p[L+z+_],ae=y[L+z+_],W=D*Ke-C*ae;ae=D*ae+C*Ke,Ke=W,p[L+z]=ee+Ke,y[L+z]=ne+ae,p[L+z+_]=ee-Ke,y[L+z+_]=ne-ae,z!==v&&(W=u*D-x*C,C=u*C+x*D,D=W)}},B.prototype.guessLen13b=function(a,f){var p=Math.max(f,a)|1,y=p&1,g=0;for(p=p/2|0;p;p=p>>>1)g++;return 1<<g+1+y},B.prototype.conjugate=function(a,f,p){if(!(p<=1))for(var y=0;y<p/2;y++){var g=a[y];a[y]=a[p-y-1],a[p-y-1]=g,g=f[y],f[y]=-f[p-y-1],f[p-y-1]=-g}},B.prototype.normalize13b=function(a,f){for(var p=0,y=0;y<f/2;y++){var g=Math.round(a[2*y+1]/f)*8192+Math.round(a[2*y]/f)+p;a[y]=g&67108863,g<67108864?p=0:p=g/67108864|0}return a},B.prototype.convert13b=function(a,f,p,y){for(var g=0,A=0;A<f;A++)g=g+(a[A]|0),p[2*A]=g&8191,g=g>>>13,p[2*A+1]=g&8191,g=g>>>13;for(A=2*f;A<y;++A)p[A]=0;r(g===0),r((g&-8192)===0)},B.prototype.stub=function(a){for(var f=new Array(a),p=0;p<a;p++)f[p]=0;return f},B.prototype.mulp=function(a,f,p){var y=2*this.guessLen13b(a.length,f.length),g=this.makeRBT(y),A=this.stub(y),_=new Array(y),v=new Array(y),u=new Array(y),x=new Array(y),L=new Array(y),D=new Array(y),C=p.words;C.length=y,this.convert13b(a.words,a.length,_,y),this.convert13b(f.words,f.length,x,y),this.transform(_,A,v,u,y,g),this.transform(x,A,L,D,y,g);for(var z=0;z<y;z++){var ee=v[z]*L[z]-u[z]*D[z];u[z]=v[z]*D[z]+u[z]*L[z],v[z]=ee}return this.conjugate(v,u,y),this.transform(v,u,C,A,y,g),this.conjugate(C,A,y),this.normalize13b(C,y),p.negative=a.negative^f.negative,p.length=a.length+f.length,p.strip()},i.prototype.mul=function(a){var f=new i(null);return f.words=new Array(this.length+a.length),this.mulTo(a,f)},i.prototype.mulf=function(a){var f=new i(null);return f.words=new Array(this.length+a.length),R(this,a,f)},i.prototype.imul=function(a){return this.clone().mulTo(a,this)},i.prototype.imuln=function(a){r(typeof a=="number"),r(a<67108864);for(var f=0,p=0;p<this.length;p++){var y=(this.words[p]|0)*a,g=(y&67108863)+(f&67108863);f>>=26,f+=y/67108864|0,f+=g>>>26,this.words[p]=g&67108863}return f!==0&&(this.words[p]=f,this.length++),this},i.prototype.muln=function(a){return this.clone().imuln(a)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(a){var f=E(a);if(f.length===0)return new i(1);for(var p=this,y=0;y<f.length&&f[y]===0;y++,p=p.sqr());if(++y<f.length)for(var g=p.sqr();y<f.length;y++,g=g.sqr())f[y]!==0&&(p=p.mul(g));return p},i.prototype.iushln=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26,y=67108863>>>26-f<<26-f,g;if(f!==0){var A=0;for(g=0;g<this.length;g++){var _=this.words[g]&y,v=(this.words[g]|0)-_<<f;this.words[g]=v|A,A=_>>>26-f}A&&(this.words[g]=A,this.length++)}if(p!==0){for(g=this.length-1;g>=0;g--)this.words[g+p]=this.words[g];for(g=0;g<p;g++)this.words[g]=0;this.length+=p}return this.strip()},i.prototype.ishln=function(a){return r(this.negative===0),this.iushln(a)},i.prototype.iushrn=function(a,f,p){r(typeof a=="number"&&a>=0);var y;f?y=(f-f%26)/26:y=0;var g=a%26,A=Math.min((a-g)/26,this.length),_=67108863^67108863>>>g<<g,v=p;if(y-=A,y=Math.max(0,y),v){for(var u=0;u<A;u++)v.words[u]=this.words[u];v.length=A}if(A!==0)if(this.length>A)for(this.length-=A,u=0;u<this.length;u++)this.words[u]=this.words[u+A];else this.words[0]=0,this.length=1;var x=0;for(u=this.length-1;u>=0&&(x!==0||u>=y);u--){var L=this.words[u]|0;this.words[u]=x<<26-g|L>>>g,x=L&_}return v&&x!==0&&(v.words[v.length++]=x),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(a,f,p){return r(this.negative===0),this.iushrn(a,f,p)},i.prototype.shln=function(a){return this.clone().ishln(a)},i.prototype.ushln=function(a){return this.clone().iushln(a)},i.prototype.shrn=function(a){return this.clone().ishrn(a)},i.prototype.ushrn=function(a){return this.clone().iushrn(a)},i.prototype.testn=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26,y=1<<f;if(this.length<=p)return!1;var g=this.words[p];return!!(g&y)},i.prototype.imaskn=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(f!==0&&p++,this.length=Math.min(p,this.length),f!==0){var y=67108863^67108863>>>f<<f;this.words[this.length-1]&=y}return this.strip()},i.prototype.maskn=function(a){return this.clone().imaskn(a)},i.prototype.iaddn=function(a){return r(typeof a=="number"),r(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},i.prototype._iaddn=function(a){this.words[0]+=a;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)this.words[f]-=67108864,f===this.length-1?this.words[f+1]=1:this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},i.prototype.isubn=function(a){if(r(typeof a=="number"),r(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this.strip()},i.prototype.addn=function(a){return this.clone().iaddn(a)},i.prototype.subn=function(a){return this.clone().isubn(a)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(a,f,p){var y=a.length+p,g;this._expand(y);var A,_=0;for(g=0;g<a.length;g++){A=(this.words[g+p]|0)+_;var v=(a.words[g]|0)*f;A-=v&67108863,_=(A>>26)-(v/67108864|0),this.words[g+p]=A&67108863}for(;g<this.length-p;g++)A=(this.words[g+p]|0)+_,_=A>>26,this.words[g+p]=A&67108863;if(_===0)return this.strip();for(r(_===-1),_=0,g=0;g<this.length;g++)A=-(this.words[g]|0)+_,_=A>>26,this.words[g]=A&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(a,f){var p=this.length-a.length,y=this.clone(),g=a,A=g.words[g.length-1]|0,_=this._countBits(A);p=26-_,p!==0&&(g=g.ushln(p),y.iushln(p),A=g.words[g.length-1]|0);var v=y.length-g.length,u;if(f!=="mod"){u=new i(null),u.length=v+1,u.words=new Array(u.length);for(var x=0;x<u.length;x++)u.words[x]=0}var L=y.clone()._ishlnsubmul(g,1,v);L.negative===0&&(y=L,u&&(u.words[v]=1));for(var D=v-1;D>=0;D--){var C=(y.words[g.length+D]|0)*67108864+(y.words[g.length+D-1]|0);for(C=Math.min(C/A|0,67108863),y._ishlnsubmul(g,C,D);y.negative!==0;)C--,y.negative=0,y._ishlnsubmul(g,1,D),y.isZero()||(y.negative^=1);u&&(u.words[D]=C)}return u&&u.strip(),y.strip(),f!=="div"&&p!==0&&y.iushrn(p),{div:u||null,mod:y}},i.prototype.divmod=function(a,f,p){if(r(!a.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var y,g,A;return this.negative!==0&&a.negative===0?(A=this.neg().divmod(a,f),f!=="mod"&&(y=A.div.neg()),f!=="div"&&(g=A.mod.neg(),p&&g.negative!==0&&g.iadd(a)),{div:y,mod:g}):this.negative===0&&a.negative!==0?(A=this.divmod(a.neg(),f),f!=="mod"&&(y=A.div.neg()),{div:y,mod:A.mod}):this.negative&a.negative?(A=this.neg().divmod(a.neg(),f),f!=="div"&&(g=A.mod.neg(),p&&g.negative!==0&&g.isub(a)),{div:A.div,mod:g}):a.length>this.length||this.cmp(a)<0?{div:new i(0),mod:this}:a.length===1?f==="div"?{div:this.divn(a.words[0]),mod:null}:f==="mod"?{div:null,mod:new i(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new i(this.modn(a.words[0]))}:this._wordDiv(a,f)},i.prototype.div=function(a){return this.divmod(a,"div",!1).div},i.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},i.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},i.prototype.divRound=function(a){var f=this.divmod(a);if(f.mod.isZero())return f.div;var p=f.div.negative!==0?f.mod.isub(a):f.mod,y=a.ushrn(1),g=a.andln(1),A=p.cmp(y);return A<0||g===1&&A===0?f.div:f.div.negative!==0?f.div.isubn(1):f.div.iaddn(1)},i.prototype.modn=function(a){r(a<=67108863);for(var f=(1<<26)%a,p=0,y=this.length-1;y>=0;y--)p=(f*p+(this.words[y]|0))%a;return p},i.prototype.idivn=function(a){r(a<=67108863);for(var f=0,p=this.length-1;p>=0;p--){var y=(this.words[p]|0)+f*67108864;this.words[p]=y/a|0,f=y%a}return this.strip()},i.prototype.divn=function(a){return this.clone().idivn(a)},i.prototype.egcd=function(a){r(a.negative===0),r(!a.isZero());var f=this,p=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var y=new i(1),g=new i(0),A=new i(0),_=new i(1),v=0;f.isEven()&&p.isEven();)f.iushrn(1),p.iushrn(1),++v;for(var u=p.clone(),x=f.clone();!f.isZero();){for(var L=0,D=1;!(f.words[0]&D)&&L<26;++L,D<<=1);if(L>0)for(f.iushrn(L);L-- >0;)(y.isOdd()||g.isOdd())&&(y.iadd(u),g.isub(x)),y.iushrn(1),g.iushrn(1);for(var C=0,z=1;!(p.words[0]&z)&&C<26;++C,z<<=1);if(C>0)for(p.iushrn(C);C-- >0;)(A.isOdd()||_.isOdd())&&(A.iadd(u),_.isub(x)),A.iushrn(1),_.iushrn(1);f.cmp(p)>=0?(f.isub(p),y.isub(A),g.isub(_)):(p.isub(f),A.isub(y),_.isub(g))}return{a:A,b:_,gcd:p.iushln(v)}},i.prototype._invmp=function(a){r(a.negative===0),r(!a.isZero());var f=this,p=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var y=new i(1),g=new i(0),A=p.clone();f.cmpn(1)>0&&p.cmpn(1)>0;){for(var _=0,v=1;!(f.words[0]&v)&&_<26;++_,v<<=1);if(_>0)for(f.iushrn(_);_-- >0;)y.isOdd()&&y.iadd(A),y.iushrn(1);for(var u=0,x=1;!(p.words[0]&x)&&u<26;++u,x<<=1);if(u>0)for(p.iushrn(u);u-- >0;)g.isOdd()&&g.iadd(A),g.iushrn(1);f.cmp(p)>=0?(f.isub(p),y.isub(g)):(p.isub(f),g.isub(y))}var L;return f.cmpn(1)===0?L=y:L=g,L.cmpn(0)<0&&L.iadd(a),L},i.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var f=this.clone(),p=a.clone();f.negative=0,p.negative=0;for(var y=0;f.isEven()&&p.isEven();y++)f.iushrn(1),p.iushrn(1);do{for(;f.isEven();)f.iushrn(1);for(;p.isEven();)p.iushrn(1);var g=f.cmp(p);if(g<0){var A=f;f=p,p=A}else if(g===0||p.cmpn(1)===0)break;f.isub(p)}while(!0);return p.iushln(y)},i.prototype.invm=function(a){return this.egcd(a).a.umod(a)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(a){return this.words[0]&a},i.prototype.bincn=function(a){r(typeof a=="number");var f=a%26,p=(a-f)/26,y=1<<f;if(this.length<=p)return this._expand(p+1),this.words[p]|=y,this;for(var g=y,A=p;g!==0&&A<this.length;A++){var _=this.words[A]|0;_+=g,g=_>>>26,_&=67108863,this.words[A]=_}return g!==0&&(this.words[A]=g,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(a){var f=a<0;if(this.negative!==0&&!f)return-1;if(this.negative===0&&f)return 1;this.strip();var p;if(this.length>1)p=1;else{f&&(a=-a),r(a<=67108863,"Number is too big");var y=this.words[0]|0;p=y===a?0:y<a?-1:1}return this.negative!==0?-p|0:p},i.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var f=this.ucmp(a);return this.negative!==0?-f|0:f},i.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var f=0,p=this.length-1;p>=0;p--){var y=this.words[p]|0,g=a.words[p]|0;if(y!==g){y<g?f=-1:y>g&&(f=1);break}}return f},i.prototype.gtn=function(a){return this.cmpn(a)===1},i.prototype.gt=function(a){return this.cmp(a)===1},i.prototype.gten=function(a){return this.cmpn(a)>=0},i.prototype.gte=function(a){return this.cmp(a)>=0},i.prototype.ltn=function(a){return this.cmpn(a)===-1},i.prototype.lt=function(a){return this.cmp(a)===-1},i.prototype.lten=function(a){return this.cmpn(a)<=0},i.prototype.lte=function(a){return this.cmp(a)<=0},i.prototype.eqn=function(a){return this.cmpn(a)===0},i.prototype.eq=function(a){return this.cmp(a)===0},i.red=function(a){return new Q(a)},i.prototype.toRed=function(a){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(a){return this.red=a,this},i.prototype.forceRed=function(a){return r(!this.red,"Already a number in reduction context"),this._forceRed(a)},i.prototype.redAdd=function(a){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},i.prototype.redIAdd=function(a){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},i.prototype.redSub=function(a){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},i.prototype.redISub=function(a){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},i.prototype.redShl=function(a){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},i.prototype.redMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},i.prototype.redIMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(a){return r(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var U={k256:null,p224:null,p192:null,p25519:null};function P(S,a){this.name=S,this.p=new i(a,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}P.prototype._tmp=function(){var a=new i(null);return a.words=new Array(Math.ceil(this.n/13)),a},P.prototype.ireduce=function(a){var f=a,p;do this.split(f,this.tmp),f=this.imulK(f),f=f.iadd(this.tmp),p=f.bitLength();while(p>this.n);var y=p<this.n?-1:f.ucmp(this.p);return y===0?(f.words[0]=0,f.length=1):y>0?f.isub(this.p):f.strip!==void 0?f.strip():f._strip(),f},P.prototype.split=function(a,f){a.iushrn(this.n,0,f)},P.prototype.imulK=function(a){return a.imul(this.k)};function F(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(F,P),F.prototype.split=function(a,f){for(var p=4194303,y=Math.min(a.length,9),g=0;g<y;g++)f.words[g]=a.words[g];if(f.length=y,a.length<=9){a.words[0]=0,a.length=1;return}var A=a.words[9];for(f.words[f.length++]=A&p,g=10;g<a.length;g++){var _=a.words[g]|0;a.words[g-10]=(_&p)<<4|A>>>22,A=_}A>>>=22,a.words[g-10]=A,A===0&&a.length>10?a.length-=10:a.length-=9},F.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var f=0,p=0;p<a.length;p++){var y=a.words[p]|0;f+=y*977,a.words[p]=f&67108863,f=y*64+(f/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function q(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(q,P);function K(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(K,P);function re(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(re,P),re.prototype.imulK=function(a){for(var f=0,p=0;p<a.length;p++){var y=(a.words[p]|0)*19+f,g=y&67108863;y>>>=26,a.words[p]=g,f=y}return f!==0&&(a.words[a.length++]=f),a},i._prime=function(a){if(U[a])return U[a];var f;if(a==="k256")f=new F;else if(a==="p224")f=new q;else if(a==="p192")f=new K;else if(a==="p25519")f=new re;else throw new Error("Unknown prime "+a);return U[a]=f,f};function Q(S){if(typeof S=="string"){var a=i._prime(S);this.m=a.p,this.prime=a}else r(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}Q.prototype._verify1=function(a){r(a.negative===0,"red works only with positives"),r(a.red,"red works only with red numbers")},Q.prototype._verify2=function(a,f){r((a.negative|f.negative)===0,"red works only with positives"),r(a.red&&a.red===f.red,"red works only with red numbers")},Q.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},Q.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},Q.prototype.add=function(a,f){this._verify2(a,f);var p=a.add(f);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},Q.prototype.iadd=function(a,f){this._verify2(a,f);var p=a.iadd(f);return p.cmp(this.m)>=0&&p.isub(this.m),p},Q.prototype.sub=function(a,f){this._verify2(a,f);var p=a.sub(f);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},Q.prototype.isub=function(a,f){this._verify2(a,f);var p=a.isub(f);return p.cmpn(0)<0&&p.iadd(this.m),p},Q.prototype.shl=function(a,f){return this._verify1(a),this.imod(a.ushln(f))},Q.prototype.imul=function(a,f){return this._verify2(a,f),this.imod(a.imul(f))},Q.prototype.mul=function(a,f){return this._verify2(a,f),this.imod(a.mul(f))},Q.prototype.isqr=function(a){return this.imul(a,a.clone())},Q.prototype.sqr=function(a){return this.mul(a,a)},Q.prototype.sqrt=function(a){if(a.isZero())return a.clone();var f=this.m.andln(3);if(r(f%2===1),f===3){var p=this.m.add(new i(1)).iushrn(2);return this.pow(a,p)}for(var y=this.m.subn(1),g=0;!y.isZero()&&y.andln(1)===0;)g++,y.iushrn(1);r(!y.isZero());var A=new i(1).toRed(this),_=A.redNeg(),v=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new i(2*u*u).toRed(this);this.pow(u,v).cmp(_)!==0;)u.redIAdd(_);for(var x=this.pow(u,y),L=this.pow(a,y.addn(1).iushrn(1)),D=this.pow(a,y),C=g;D.cmp(A)!==0;){for(var z=D,ee=0;z.cmp(A)!==0;ee++)z=z.redSqr();r(ee<C);var ne=this.pow(x,new i(1).iushln(C-ee-1));L=L.redMul(ne),x=ne.redSqr(),D=D.redMul(x),C=ee}return L},Q.prototype.invm=function(a){var f=a._invmp(this.m);return f.negative!==0?(f.negative=0,this.imod(f).redNeg()):this.imod(f)},Q.prototype.pow=function(a,f){if(f.isZero())return new i(1).toRed(this);if(f.cmpn(1)===0)return a.clone();var p=4,y=new Array(1<<p);y[0]=new i(1).toRed(this),y[1]=a;for(var g=2;g<y.length;g++)y[g]=this.mul(y[g-1],a);var A=y[0],_=0,v=0,u=f.bitLength()%26;for(u===0&&(u=26),g=f.length-1;g>=0;g--){for(var x=f.words[g],L=u-1;L>=0;L--){var D=x>>L&1;if(A!==y[0]&&(A=this.sqr(A)),D===0&&_===0){v=0;continue}_<<=1,_|=D,v++,!(v!==p&&(g!==0||L!==0))&&(A=this.mul(A,y[_]),v=0,_=0)}u=26}return A},Q.prototype.convertTo=function(a){var f=a.umod(this.m);return f===a?f.clone():f},Q.prototype.convertFrom=function(a){var f=a.clone();return f.red=null,f},i.mont=function(a){return new ie(a)};function ie(S){Q.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(ie,Q),ie.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},ie.prototype.convertFrom=function(a){var f=this.imod(a.mul(this.rinv));return f.red=null,f},ie.prototype.imul=function(a,f){if(a.isZero()||f.isZero())return a.words[0]=0,a.length=1,a;var p=a.imul(f),y=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=p.isub(y).iushrn(this.shift),A=g;return g.cmp(this.m)>=0?A=g.isub(this.m):g.cmpn(0)<0&&(A=g.iadd(this.m)),A._forceRed(this)},ie.prototype.mul=function(a,f){if(a.isZero()||f.isZero())return new i(0)._forceRed(this);var p=a.mul(f),y=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=p.isub(y).iushrn(this.shift),A=g;return g.cmp(this.m)>=0?A=g.isub(this.m):g.cmpn(0)<0&&(A=g.iadd(this.m)),A._forceRed(this)},ie.prototype.invm=function(a){var f=this.imod(a._invmp(this.m).mul(this.r2));return f._forceRed(this)}})(typeof Sq>"u"||Sq,Cle)});var Nle=V((Ole,Eq)=>{d();h();(function(t,e){"use strict";function r(S,a){if(!S)throw new Error(a||"Assertion failed")}function n(S,a){S.super_=a;var f=function(){};f.prototype=a.prototype,S.prototype=new f,S.prototype.constructor=S}function i(S,a,f){if(i.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((a==="le"||a==="be")&&(f=a,a=10),this._init(S||0,a||10,f||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof self<"u"&&typeof self.Buffer<"u"?o=self.Buffer:o=Fp().Buffer}catch{}i.isBN=function(a){return a instanceof i?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===i.wordSize&&Array.isArray(a.words)},i.max=function(a,f){return a.cmp(f)>0?a:f},i.min=function(a,f){return a.cmp(f)<0?a:f},i.prototype._init=function(a,f,p){if(typeof a=="number")return this._initNumber(a,f,p);if(typeof a=="object")return this._initArray(a,f,p);f==="hex"&&(f=16),r(f===(f|0)&&f>=2&&f<=36),a=a.toString().replace(/\s+/g,"");var y=0;a[0]==="-"&&(y++,this.negative=1),y<a.length&&(f===16?this._parseHex(a,y,p):(this._parseBase(a,f,y),p==="le"&&this._initArray(this.toArray(),f,p)))},i.prototype._initNumber=function(a,f,p){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(r(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),f,p)},i.prototype._initArray=function(a,f,p){if(r(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var g,A,_=0;if(p==="be")for(y=a.length-1,g=0;y>=0;y-=3)A=a[y]|a[y-1]<<8|a[y-2]<<16,this.words[g]|=A<<_&67108863,this.words[g+1]=A>>>26-_&67108863,_+=24,_>=26&&(_-=26,g++);else if(p==="le")for(y=0,g=0;y<a.length;y+=3)A=a[y]|a[y+1]<<8|a[y+2]<<16,this.words[g]|=A<<_&67108863,this.words[g+1]=A>>>26-_&67108863,_+=24,_>=26&&(_-=26,g++);return this.strip()};function s(S,a){var f=S.charCodeAt(a);return f>=65&&f<=70?f-55:f>=97&&f<=102?f-87:f-48&15}function c(S,a,f){var p=s(S,f);return f-1>=a&&(p|=s(S,f-1)<<4),p}i.prototype._parseHex=function(a,f,p){this.length=Math.ceil((a.length-f)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var g=0,A=0,_;if(p==="be")for(y=a.length-1;y>=f;y-=2)_=c(a,f,y)<<g,this.words[A]|=_&67108863,g>=18?(g-=18,A+=1,this.words[A]|=_>>>26):g+=8;else{var v=a.length-f;for(y=v%2===0?f+1:f;y<a.length;y+=2)_=c(a,f,y)<<g,this.words[A]|=_&67108863,g>=18?(g-=18,A+=1,this.words[A]|=_>>>26):g+=8}this.strip()};function l(S,a,f,p){for(var y=0,g=Math.min(S.length,f),A=a;A<g;A++){var _=S.charCodeAt(A)-48;y*=p,_>=49?y+=_-49+10:_>=17?y+=_-17+10:y+=_}return y}i.prototype._parseBase=function(a,f,p){this.words=[0],this.length=1;for(var y=0,g=1;g<=67108863;g*=f)y++;y--,g=g/f|0;for(var A=a.length-p,_=A%y,v=Math.min(A,A-_)+p,u=0,x=p;x<v;x+=y)u=l(a,x,x+y,f),this.imuln(g),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(_!==0){var L=1;for(u=l(a,x,a.length,f),x=0;x<_;x++)L*=f;this.imuln(L),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},i.prototype.copy=function(a){a.words=new Array(this.length);for(var f=0;f<this.length;f++)a.words[f]=this.words[f];a.length=this.length,a.negative=this.negative,a.red=this.red},i.prototype.clone=function(){var a=new i(null);return this.copy(a),a},i.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],w=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(a,f){a=a||10,f=f|0||1;var p;if(a===16||a==="hex"){p="";for(var y=0,g=0,A=0;A<this.length;A++){var _=this.words[A],v=((_<<y|g)&16777215).toString(16);g=_>>>24-y&16777215,g!==0||A!==this.length-1?p=m[6-v.length]+v+p:p=v+p,y+=2,y>=26&&(y-=26,A--)}for(g!==0&&(p=g.toString(16)+p);p.length%f!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(a===(a|0)&&a>=2&&a<=36){var u=w[a],x=b[a];p="";var L=this.clone();for(L.negative=0;!L.isZero();){var D=L.modn(x).toString(a);L=L.idivn(x),L.isZero()?p=D+p:p=m[u-D.length]+D+p}for(this.isZero()&&(p="0"+p);p.length%f!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(a,f){return r(typeof o<"u"),this.toArrayLike(o,a,f)},i.prototype.toArray=function(a,f){return this.toArrayLike(Array,a,f)},i.prototype.toArrayLike=function(a,f,p){var y=this.byteLength(),g=p||Math.max(1,y);r(y<=g,"byte array longer than desired length"),r(g>0,"Requested array length <= 0"),this.strip();var A=f==="le",_=new a(g),v,u,x=this.clone();if(A){for(u=0;!x.isZero();u++)v=x.andln(255),x.iushrn(8),_[u]=v;for(;u<g;u++)_[u]=0}else{for(u=0;u<g-y;u++)_[u]=0;for(u=0;!x.isZero();u++)v=x.andln(255),x.iushrn(8),_[g-u-1]=v}return _},Math.clz32?i.prototype._countBits=function(a){return 32-Math.clz32(a)}:i.prototype._countBits=function(a){var f=a,p=0;return f>=4096&&(p+=13,f>>>=13),f>=64&&(p+=7,f>>>=7),f>=8&&(p+=4,f>>>=4),f>=2&&(p+=2,f>>>=2),p+f},i.prototype._zeroBits=function(a){if(a===0)return 26;var f=a,p=0;return f&8191||(p+=13,f>>>=13),f&127||(p+=7,f>>>=7),f&15||(p+=4,f>>>=4),f&3||(p+=2,f>>>=2),f&1||p++,p},i.prototype.bitLength=function(){var a=this.words[this.length-1],f=this._countBits(a);return(this.length-1)*26+f};function E(S){for(var a=new Array(S.bitLength()),f=0;f<a.length;f++){var p=f/26|0,y=f%26;a[f]=(S.words[p]&1<<y)>>>y}return a}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,f=0;f<this.length;f++){var p=this._zeroBits(this.words[f]);if(a+=p,p!==26)break}return a},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},i.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var f=0;f<a.length;f++)this.words[f]=this.words[f]|a.words[f];return this.strip()},i.prototype.ior=function(a){return r((this.negative|a.negative)===0),this.iuor(a)},i.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},i.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},i.prototype.iuand=function(a){var f;this.length>a.length?f=a:f=this;for(var p=0;p<f.length;p++)this.words[p]=this.words[p]&a.words[p];return this.length=f.length,this.strip()},i.prototype.iand=function(a){return r((this.negative|a.negative)===0),this.iuand(a)},i.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},i.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},i.prototype.iuxor=function(a){var f,p;this.length>a.length?(f=this,p=a):(f=a,p=this);for(var y=0;y<p.length;y++)this.words[y]=f.words[y]^p.words[y];if(this!==f)for(;y<f.length;y++)this.words[y]=f.words[y];return this.length=f.length,this.strip()},i.prototype.ixor=function(a){return r((this.negative|a.negative)===0),this.iuxor(a)},i.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},i.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},i.prototype.inotn=function(a){r(typeof a=="number"&&a>=0);var f=Math.ceil(a/26)|0,p=a%26;this._expand(f),p>0&&f--;for(var y=0;y<f;y++)this.words[y]=~this.words[y]&67108863;return p>0&&(this.words[y]=~this.words[y]&67108863>>26-p),this.strip()},i.prototype.notn=function(a){return this.clone().inotn(a)},i.prototype.setn=function(a,f){r(typeof a=="number"&&a>=0);var p=a/26|0,y=a%26;return this._expand(p+1),f?this.words[p]=this.words[p]|1<<y:this.words[p]=this.words[p]&~(1<<y),this.strip()},i.prototype.iadd=function(a){var f;if(this.negative!==0&&a.negative===0)return this.negative=0,f=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,f=this.isub(a),a.negative=1,f._normSign();var p,y;this.length>a.length?(p=this,y=a):(p=a,y=this);for(var g=0,A=0;A<y.length;A++)f=(p.words[A]|0)+(y.words[A]|0)+g,this.words[A]=f&67108863,g=f>>>26;for(;g!==0&&A<p.length;A++)f=(p.words[A]|0)+g,this.words[A]=f&67108863,g=f>>>26;if(this.length=p.length,g!==0)this.words[this.length]=g,this.length++;else if(p!==this)for(;A<p.length;A++)this.words[A]=p.words[A];return this},i.prototype.add=function(a){var f;return a.negative!==0&&this.negative===0?(a.negative=0,f=this.sub(a),a.negative^=1,f):a.negative===0&&this.negative!==0?(this.negative=0,f=a.sub(this),this.negative=1,f):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},i.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var f=this.iadd(a);return a.negative=1,f._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var p=this.cmp(a);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var y,g;p>0?(y=this,g=a):(y=a,g=this);for(var A=0,_=0;_<g.length;_++)f=(y.words[_]|0)-(g.words[_]|0)+A,A=f>>26,this.words[_]=f&67108863;for(;A!==0&&_<y.length;_++)f=(y.words[_]|0)+A,A=f>>26,this.words[_]=f&67108863;if(A===0&&_<y.length&&y!==this)for(;_<y.length;_++)this.words[_]=y.words[_];return this.length=Math.max(this.length,_),y!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(a){return this.clone().isub(a)};function I(S,a,f){f.negative=a.negative^S.negative;var p=S.length+a.length|0;f.length=p,p=p-1|0;var y=S.words[0]|0,g=a.words[0]|0,A=y*g,_=A&67108863,v=A/67108864|0;f.words[0]=_;for(var u=1;u<p;u++){for(var x=v>>>26,L=v&67108863,D=Math.min(u,a.length-1),C=Math.max(0,u-S.length+1);C<=D;C++){var z=u-C|0;y=S.words[z]|0,g=a.words[C]|0,A=y*g+L,x+=A/67108864|0,L=A&67108863}f.words[u]=L|0,v=x|0}return v!==0?f.words[u]=v|0:f.length--,f.strip()}var M=function(a,f,p){var y=a.words,g=f.words,A=p.words,_=0,v,u,x,L=y[0]|0,D=L&8191,C=L>>>13,z=y[1]|0,ee=z&8191,ne=z>>>13,Ke=y[2]|0,ae=Ke&8191,W=Ke>>>13,he=y[3]|0,te=he&8191,ce=he>>>13,Ze=y[4]|0,se=Ze&8191,le=Ze>>>13,Bt=y[5]|0,ge=Bt&8191,ye=Bt>>>13,$r=y[6]|0,Ie=$r&8191,we=$r>>>13,gn=y[7]|0,ve=gn&8191,Be=gn>>>13,In=y[8]|0,Re=In&8191,Ce=In>>>13,Rn=y[9]|0,De=Rn&8191,Me=Rn>>>13,Mn=g[0]|0,_e=Mn&8191,Se=Mn>>>13,en=g[1]|0,Ae=en&8191,Te=en>>>13,un=g[2]|0,Ee=un&8191,ke=un>>>13,Cn=g[3]|0,Ue=Cn&8191,Le=Cn>>>13,Or=g[4]|0,be=Or&8191,xe=Or>>>13,kn=g[5]|0,Pe=kn&8191,Oe=kn>>>13,Ln=g[6]|0,me=Ln&8191,Ne=Ln>>>13,Y=g[7]|0,j=Y&8191,H=Y>>>13,O=g[8]|0,Z=O&8191,X=O>>>13,pe=g[9]|0,oe=pe&8191,ue=pe>>>13;p.negative=a.negative^f.negative,p.length=19,v=Math.imul(D,_e),u=Math.imul(D,Se),u=u+Math.imul(C,_e)|0,x=Math.imul(C,Se);var at=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(at>>>26)|0,at&=67108863,v=Math.imul(ee,_e),u=Math.imul(ee,Se),u=u+Math.imul(ne,_e)|0,x=Math.imul(ne,Se),v=v+Math.imul(D,Ae)|0,u=u+Math.imul(D,Te)|0,u=u+Math.imul(C,Ae)|0,x=x+Math.imul(C,Te)|0;var Je=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(Je>>>26)|0,Je&=67108863,v=Math.imul(ae,_e),u=Math.imul(ae,Se),u=u+Math.imul(W,_e)|0,x=Math.imul(W,Se),v=v+Math.imul(ee,Ae)|0,u=u+Math.imul(ee,Te)|0,u=u+Math.imul(ne,Ae)|0,x=x+Math.imul(ne,Te)|0,v=v+Math.imul(D,Ee)|0,u=u+Math.imul(D,ke)|0,u=u+Math.imul(C,Ee)|0,x=x+Math.imul(C,ke)|0;var At=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(At>>>26)|0,At&=67108863,v=Math.imul(te,_e),u=Math.imul(te,Se),u=u+Math.imul(ce,_e)|0,x=Math.imul(ce,Se),v=v+Math.imul(ae,Ae)|0,u=u+Math.imul(ae,Te)|0,u=u+Math.imul(W,Ae)|0,x=x+Math.imul(W,Te)|0,v=v+Math.imul(ee,Ee)|0,u=u+Math.imul(ee,ke)|0,u=u+Math.imul(ne,Ee)|0,x=x+Math.imul(ne,ke)|0,v=v+Math.imul(D,Ue)|0,u=u+Math.imul(D,Le)|0,u=u+Math.imul(C,Ue)|0,x=x+Math.imul(C,Le)|0;var tt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(tt>>>26)|0,tt&=67108863,v=Math.imul(se,_e),u=Math.imul(se,Se),u=u+Math.imul(le,_e)|0,x=Math.imul(le,Se),v=v+Math.imul(te,Ae)|0,u=u+Math.imul(te,Te)|0,u=u+Math.imul(ce,Ae)|0,x=x+Math.imul(ce,Te)|0,v=v+Math.imul(ae,Ee)|0,u=u+Math.imul(ae,ke)|0,u=u+Math.imul(W,Ee)|0,x=x+Math.imul(W,ke)|0,v=v+Math.imul(ee,Ue)|0,u=u+Math.imul(ee,Le)|0,u=u+Math.imul(ne,Ue)|0,x=x+Math.imul(ne,Le)|0,v=v+Math.imul(D,be)|0,u=u+Math.imul(D,xe)|0,u=u+Math.imul(C,be)|0,x=x+Math.imul(C,xe)|0;var dt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(dt>>>26)|0,dt&=67108863,v=Math.imul(ge,_e),u=Math.imul(ge,Se),u=u+Math.imul(ye,_e)|0,x=Math.imul(ye,Se),v=v+Math.imul(se,Ae)|0,u=u+Math.imul(se,Te)|0,u=u+Math.imul(le,Ae)|0,x=x+Math.imul(le,Te)|0,v=v+Math.imul(te,Ee)|0,u=u+Math.imul(te,ke)|0,u=u+Math.imul(ce,Ee)|0,x=x+Math.imul(ce,ke)|0,v=v+Math.imul(ae,Ue)|0,u=u+Math.imul(ae,Le)|0,u=u+Math.imul(W,Ue)|0,x=x+Math.imul(W,Le)|0,v=v+Math.imul(ee,be)|0,u=u+Math.imul(ee,xe)|0,u=u+Math.imul(ne,be)|0,x=x+Math.imul(ne,xe)|0,v=v+Math.imul(D,Pe)|0,u=u+Math.imul(D,Oe)|0,u=u+Math.imul(C,Pe)|0,x=x+Math.imul(C,Oe)|0;var ht=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(ht>>>26)|0,ht&=67108863,v=Math.imul(Ie,_e),u=Math.imul(Ie,Se),u=u+Math.imul(we,_e)|0,x=Math.imul(we,Se),v=v+Math.imul(ge,Ae)|0,u=u+Math.imul(ge,Te)|0,u=u+Math.imul(ye,Ae)|0,x=x+Math.imul(ye,Te)|0,v=v+Math.imul(se,Ee)|0,u=u+Math.imul(se,ke)|0,u=u+Math.imul(le,Ee)|0,x=x+Math.imul(le,ke)|0,v=v+Math.imul(te,Ue)|0,u=u+Math.imul(te,Le)|0,u=u+Math.imul(ce,Ue)|0,x=x+Math.imul(ce,Le)|0,v=v+Math.imul(ae,be)|0,u=u+Math.imul(ae,xe)|0,u=u+Math.imul(W,be)|0,x=x+Math.imul(W,xe)|0,v=v+Math.imul(ee,Pe)|0,u=u+Math.imul(ee,Oe)|0,u=u+Math.imul(ne,Pe)|0,x=x+Math.imul(ne,Oe)|0,v=v+Math.imul(D,me)|0,u=u+Math.imul(D,Ne)|0,u=u+Math.imul(C,me)|0,x=x+Math.imul(C,Ne)|0;var bt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(bt>>>26)|0,bt&=67108863,v=Math.imul(ve,_e),u=Math.imul(ve,Se),u=u+Math.imul(Be,_e)|0,x=Math.imul(Be,Se),v=v+Math.imul(Ie,Ae)|0,u=u+Math.imul(Ie,Te)|0,u=u+Math.imul(we,Ae)|0,x=x+Math.imul(we,Te)|0,v=v+Math.imul(ge,Ee)|0,u=u+Math.imul(ge,ke)|0,u=u+Math.imul(ye,Ee)|0,x=x+Math.imul(ye,ke)|0,v=v+Math.imul(se,Ue)|0,u=u+Math.imul(se,Le)|0,u=u+Math.imul(le,Ue)|0,x=x+Math.imul(le,Le)|0,v=v+Math.imul(te,be)|0,u=u+Math.imul(te,xe)|0,u=u+Math.imul(ce,be)|0,x=x+Math.imul(ce,xe)|0,v=v+Math.imul(ae,Pe)|0,u=u+Math.imul(ae,Oe)|0,u=u+Math.imul(W,Pe)|0,x=x+Math.imul(W,Oe)|0,v=v+Math.imul(ee,me)|0,u=u+Math.imul(ee,Ne)|0,u=u+Math.imul(ne,me)|0,x=x+Math.imul(ne,Ne)|0,v=v+Math.imul(D,j)|0,u=u+Math.imul(D,H)|0,u=u+Math.imul(C,j)|0,x=x+Math.imul(C,H)|0;var gt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(gt>>>26)|0,gt&=67108863,v=Math.imul(Re,_e),u=Math.imul(Re,Se),u=u+Math.imul(Ce,_e)|0,x=Math.imul(Ce,Se),v=v+Math.imul(ve,Ae)|0,u=u+Math.imul(ve,Te)|0,u=u+Math.imul(Be,Ae)|0,x=x+Math.imul(Be,Te)|0,v=v+Math.imul(Ie,Ee)|0,u=u+Math.imul(Ie,ke)|0,u=u+Math.imul(we,Ee)|0,x=x+Math.imul(we,ke)|0,v=v+Math.imul(ge,Ue)|0,u=u+Math.imul(ge,Le)|0,u=u+Math.imul(ye,Ue)|0,x=x+Math.imul(ye,Le)|0,v=v+Math.imul(se,be)|0,u=u+Math.imul(se,xe)|0,u=u+Math.imul(le,be)|0,x=x+Math.imul(le,xe)|0,v=v+Math.imul(te,Pe)|0,u=u+Math.imul(te,Oe)|0,u=u+Math.imul(ce,Pe)|0,x=x+Math.imul(ce,Oe)|0,v=v+Math.imul(ae,me)|0,u=u+Math.imul(ae,Ne)|0,u=u+Math.imul(W,me)|0,x=x+Math.imul(W,Ne)|0,v=v+Math.imul(ee,j)|0,u=u+Math.imul(ee,H)|0,u=u+Math.imul(ne,j)|0,x=x+Math.imul(ne,H)|0,v=v+Math.imul(D,Z)|0,u=u+Math.imul(D,X)|0,u=u+Math.imul(C,Z)|0,x=x+Math.imul(C,X)|0;var pt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(pt>>>26)|0,pt&=67108863,v=Math.imul(De,_e),u=Math.imul(De,Se),u=u+Math.imul(Me,_e)|0,x=Math.imul(Me,Se),v=v+Math.imul(Re,Ae)|0,u=u+Math.imul(Re,Te)|0,u=u+Math.imul(Ce,Ae)|0,x=x+Math.imul(Ce,Te)|0,v=v+Math.imul(ve,Ee)|0,u=u+Math.imul(ve,ke)|0,u=u+Math.imul(Be,Ee)|0,x=x+Math.imul(Be,ke)|0,v=v+Math.imul(Ie,Ue)|0,u=u+Math.imul(Ie,Le)|0,u=u+Math.imul(we,Ue)|0,x=x+Math.imul(we,Le)|0,v=v+Math.imul(ge,be)|0,u=u+Math.imul(ge,xe)|0,u=u+Math.imul(ye,be)|0,x=x+Math.imul(ye,xe)|0,v=v+Math.imul(se,Pe)|0,u=u+Math.imul(se,Oe)|0,u=u+Math.imul(le,Pe)|0,x=x+Math.imul(le,Oe)|0,v=v+Math.imul(te,me)|0,u=u+Math.imul(te,Ne)|0,u=u+Math.imul(ce,me)|0,x=x+Math.imul(ce,Ne)|0,v=v+Math.imul(ae,j)|0,u=u+Math.imul(ae,H)|0,u=u+Math.imul(W,j)|0,x=x+Math.imul(W,H)|0,v=v+Math.imul(ee,Z)|0,u=u+Math.imul(ee,X)|0,u=u+Math.imul(ne,Z)|0,x=x+Math.imul(ne,X)|0,v=v+Math.imul(D,oe)|0,u=u+Math.imul(D,ue)|0,u=u+Math.imul(C,oe)|0,x=x+Math.imul(C,ue)|0;var yt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(yt>>>26)|0,yt&=67108863,v=Math.imul(De,Ae),u=Math.imul(De,Te),u=u+Math.imul(Me,Ae)|0,x=Math.imul(Me,Te),v=v+Math.imul(Re,Ee)|0,u=u+Math.imul(Re,ke)|0,u=u+Math.imul(Ce,Ee)|0,x=x+Math.imul(Ce,ke)|0,v=v+Math.imul(ve,Ue)|0,u=u+Math.imul(ve,Le)|0,u=u+Math.imul(Be,Ue)|0,x=x+Math.imul(Be,Le)|0,v=v+Math.imul(Ie,be)|0,u=u+Math.imul(Ie,xe)|0,u=u+Math.imul(we,be)|0,x=x+Math.imul(we,xe)|0,v=v+Math.imul(ge,Pe)|0,u=u+Math.imul(ge,Oe)|0,u=u+Math.imul(ye,Pe)|0,x=x+Math.imul(ye,Oe)|0,v=v+Math.imul(se,me)|0,u=u+Math.imul(se,Ne)|0,u=u+Math.imul(le,me)|0,x=x+Math.imul(le,Ne)|0,v=v+Math.imul(te,j)|0,u=u+Math.imul(te,H)|0,u=u+Math.imul(ce,j)|0,x=x+Math.imul(ce,H)|0,v=v+Math.imul(ae,Z)|0,u=u+Math.imul(ae,X)|0,u=u+Math.imul(W,Z)|0,x=x+Math.imul(W,X)|0,v=v+Math.imul(ee,oe)|0,u=u+Math.imul(ee,ue)|0,u=u+Math.imul(ne,oe)|0,x=x+Math.imul(ne,ue)|0;var mt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(mt>>>26)|0,mt&=67108863,v=Math.imul(De,Ee),u=Math.imul(De,ke),u=u+Math.imul(Me,Ee)|0,x=Math.imul(Me,ke),v=v+Math.imul(Re,Ue)|0,u=u+Math.imul(Re,Le)|0,u=u+Math.imul(Ce,Ue)|0,x=x+Math.imul(Ce,Le)|0,v=v+Math.imul(ve,be)|0,u=u+Math.imul(ve,xe)|0,u=u+Math.imul(Be,be)|0,x=x+Math.imul(Be,xe)|0,v=v+Math.imul(Ie,Pe)|0,u=u+Math.imul(Ie,Oe)|0,u=u+Math.imul(we,Pe)|0,x=x+Math.imul(we,Oe)|0,v=v+Math.imul(ge,me)|0,u=u+Math.imul(ge,Ne)|0,u=u+Math.imul(ye,me)|0,x=x+Math.imul(ye,Ne)|0,v=v+Math.imul(se,j)|0,u=u+Math.imul(se,H)|0,u=u+Math.imul(le,j)|0,x=x+Math.imul(le,H)|0,v=v+Math.imul(te,Z)|0,u=u+Math.imul(te,X)|0,u=u+Math.imul(ce,Z)|0,x=x+Math.imul(ce,X)|0,v=v+Math.imul(ae,oe)|0,u=u+Math.imul(ae,ue)|0,u=u+Math.imul(W,oe)|0,x=x+Math.imul(W,ue)|0;var it=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(it>>>26)|0,it&=67108863,v=Math.imul(De,Ue),u=Math.imul(De,Le),u=u+Math.imul(Me,Ue)|0,x=Math.imul(Me,Le),v=v+Math.imul(Re,be)|0,u=u+Math.imul(Re,xe)|0,u=u+Math.imul(Ce,be)|0,x=x+Math.imul(Ce,xe)|0,v=v+Math.imul(ve,Pe)|0,u=u+Math.imul(ve,Oe)|0,u=u+Math.imul(Be,Pe)|0,x=x+Math.imul(Be,Oe)|0,v=v+Math.imul(Ie,me)|0,u=u+Math.imul(Ie,Ne)|0,u=u+Math.imul(we,me)|0,x=x+Math.imul(we,Ne)|0,v=v+Math.imul(ge,j)|0,u=u+Math.imul(ge,H)|0,u=u+Math.imul(ye,j)|0,x=x+Math.imul(ye,H)|0,v=v+Math.imul(se,Z)|0,u=u+Math.imul(se,X)|0,u=u+Math.imul(le,Z)|0,x=x+Math.imul(le,X)|0,v=v+Math.imul(te,oe)|0,u=u+Math.imul(te,ue)|0,u=u+Math.imul(ce,oe)|0,x=x+Math.imul(ce,ue)|0;var ut=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(ut>>>26)|0,ut&=67108863,v=Math.imul(De,be),u=Math.imul(De,xe),u=u+Math.imul(Me,be)|0,x=Math.imul(Me,xe),v=v+Math.imul(Re,Pe)|0,u=u+Math.imul(Re,Oe)|0,u=u+Math.imul(Ce,Pe)|0,x=x+Math.imul(Ce,Oe)|0,v=v+Math.imul(ve,me)|0,u=u+Math.imul(ve,Ne)|0,u=u+Math.imul(Be,me)|0,x=x+Math.imul(Be,Ne)|0,v=v+Math.imul(Ie,j)|0,u=u+Math.imul(Ie,H)|0,u=u+Math.imul(we,j)|0,x=x+Math.imul(we,H)|0,v=v+Math.imul(ge,Z)|0,u=u+Math.imul(ge,X)|0,u=u+Math.imul(ye,Z)|0,x=x+Math.imul(ye,X)|0,v=v+Math.imul(se,oe)|0,u=u+Math.imul(se,ue)|0,u=u+Math.imul(le,oe)|0,x=x+Math.imul(le,ue)|0;var Xe=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,v=Math.imul(De,Pe),u=Math.imul(De,Oe),u=u+Math.imul(Me,Pe)|0,x=Math.imul(Me,Oe),v=v+Math.imul(Re,me)|0,u=u+Math.imul(Re,Ne)|0,u=u+Math.imul(Ce,me)|0,x=x+Math.imul(Ce,Ne)|0,v=v+Math.imul(ve,j)|0,u=u+Math.imul(ve,H)|0,u=u+Math.imul(Be,j)|0,x=x+Math.imul(Be,H)|0,v=v+Math.imul(Ie,Z)|0,u=u+Math.imul(Ie,X)|0,u=u+Math.imul(we,Z)|0,x=x+Math.imul(we,X)|0,v=v+Math.imul(ge,oe)|0,u=u+Math.imul(ge,ue)|0,u=u+Math.imul(ye,oe)|0,x=x+Math.imul(ye,ue)|0;var ot=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(ot>>>26)|0,ot&=67108863,v=Math.imul(De,me),u=Math.imul(De,Ne),u=u+Math.imul(Me,me)|0,x=Math.imul(Me,Ne),v=v+Math.imul(Re,j)|0,u=u+Math.imul(Re,H)|0,u=u+Math.imul(Ce,j)|0,x=x+Math.imul(Ce,H)|0,v=v+Math.imul(ve,Z)|0,u=u+Math.imul(ve,X)|0,u=u+Math.imul(Be,Z)|0,x=x+Math.imul(Be,X)|0,v=v+Math.imul(Ie,oe)|0,u=u+Math.imul(Ie,ue)|0,u=u+Math.imul(we,oe)|0,x=x+Math.imul(we,ue)|0;var st=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(st>>>26)|0,st&=67108863,v=Math.imul(De,j),u=Math.imul(De,H),u=u+Math.imul(Me,j)|0,x=Math.imul(Me,H),v=v+Math.imul(Re,Z)|0,u=u+Math.imul(Re,X)|0,u=u+Math.imul(Ce,Z)|0,x=x+Math.imul(Ce,X)|0,v=v+Math.imul(ve,oe)|0,u=u+Math.imul(ve,ue)|0,u=u+Math.imul(Be,oe)|0,x=x+Math.imul(Be,ue)|0;var Qe=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,v=Math.imul(De,Z),u=Math.imul(De,X),u=u+Math.imul(Me,Z)|0,x=Math.imul(Me,X),v=v+Math.imul(Re,oe)|0,u=u+Math.imul(Re,ue)|0,u=u+Math.imul(Ce,oe)|0,x=x+Math.imul(Ce,ue)|0;var Fe=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,v=Math.imul(De,oe),u=Math.imul(De,ue),u=u+Math.imul(Me,oe)|0,x=Math.imul(Me,ue);var Ve=(_+v|0)+((u&8191)<<13)|0;return _=(x+(u>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,A[0]=at,A[1]=Je,A[2]=At,A[3]=tt,A[4]=dt,A[5]=ht,A[6]=bt,A[7]=gt,A[8]=pt,A[9]=yt,A[10]=mt,A[11]=it,A[12]=ut,A[13]=Xe,A[14]=ot,A[15]=st,A[16]=Qe,A[17]=Fe,A[18]=Ve,_!==0&&(A[19]=_,p.length++),p};Math.imul||(M=I);function k(S,a,f){f.negative=a.negative^S.negative,f.length=S.length+a.length;for(var p=0,y=0,g=0;g<f.length-1;g++){var A=y;y=0;for(var _=p&67108863,v=Math.min(g,a.length-1),u=Math.max(0,g-S.length+1);u<=v;u++){var x=g-u,L=S.words[x]|0,D=a.words[u]|0,C=L*D,z=C&67108863;A=A+(C/67108864|0)|0,z=z+_|0,_=z&67108863,A=A+(z>>>26)|0,y+=A>>>26,A&=67108863}f.words[g]=_,p=A,A=y}return p!==0?f.words[g]=p:f.length--,f.strip()}function R(S,a,f){var p=new B;return p.mulp(S,a,f)}i.prototype.mulTo=function(a,f){var p,y=this.length+a.length;return this.length===10&&a.length===10?p=M(this,a,f):y<63?p=I(this,a,f):y<1024?p=k(this,a,f):p=R(this,a,f),p};function B(S,a){this.x=S,this.y=a}B.prototype.makeRBT=function(a){for(var f=new Array(a),p=i.prototype._countBits(a)-1,y=0;y<a;y++)f[y]=this.revBin(y,p,a);return f},B.prototype.revBin=function(a,f,p){if(a===0||a===p-1)return a;for(var y=0,g=0;g<f;g++)y|=(a&1)<<f-g-1,a>>=1;return y},B.prototype.permute=function(a,f,p,y,g,A){for(var _=0;_<A;_++)y[_]=f[a[_]],g[_]=p[a[_]]},B.prototype.transform=function(a,f,p,y,g,A){this.permute(A,a,f,p,y,g);for(var _=1;_<g;_<<=1)for(var v=_<<1,u=Math.cos(2*Math.PI/v),x=Math.sin(2*Math.PI/v),L=0;L<g;L+=v)for(var D=u,C=x,z=0;z<_;z++){var ee=p[L+z],ne=y[L+z],Ke=p[L+z+_],ae=y[L+z+_],W=D*Ke-C*ae;ae=D*ae+C*Ke,Ke=W,p[L+z]=ee+Ke,y[L+z]=ne+ae,p[L+z+_]=ee-Ke,y[L+z+_]=ne-ae,z!==v&&(W=u*D-x*C,C=u*C+x*D,D=W)}},B.prototype.guessLen13b=function(a,f){var p=Math.max(f,a)|1,y=p&1,g=0;for(p=p/2|0;p;p=p>>>1)g++;return 1<<g+1+y},B.prototype.conjugate=function(a,f,p){if(!(p<=1))for(var y=0;y<p/2;y++){var g=a[y];a[y]=a[p-y-1],a[p-y-1]=g,g=f[y],f[y]=-f[p-y-1],f[p-y-1]=-g}},B.prototype.normalize13b=function(a,f){for(var p=0,y=0;y<f/2;y++){var g=Math.round(a[2*y+1]/f)*8192+Math.round(a[2*y]/f)+p;a[y]=g&67108863,g<67108864?p=0:p=g/67108864|0}return a},B.prototype.convert13b=function(a,f,p,y){for(var g=0,A=0;A<f;A++)g=g+(a[A]|0),p[2*A]=g&8191,g=g>>>13,p[2*A+1]=g&8191,g=g>>>13;for(A=2*f;A<y;++A)p[A]=0;r(g===0),r((g&-8192)===0)},B.prototype.stub=function(a){for(var f=new Array(a),p=0;p<a;p++)f[p]=0;return f},B.prototype.mulp=function(a,f,p){var y=2*this.guessLen13b(a.length,f.length),g=this.makeRBT(y),A=this.stub(y),_=new Array(y),v=new Array(y),u=new Array(y),x=new Array(y),L=new Array(y),D=new Array(y),C=p.words;C.length=y,this.convert13b(a.words,a.length,_,y),this.convert13b(f.words,f.length,x,y),this.transform(_,A,v,u,y,g),this.transform(x,A,L,D,y,g);for(var z=0;z<y;z++){var ee=v[z]*L[z]-u[z]*D[z];u[z]=v[z]*D[z]+u[z]*L[z],v[z]=ee}return this.conjugate(v,u,y),this.transform(v,u,C,A,y,g),this.conjugate(C,A,y),this.normalize13b(C,y),p.negative=a.negative^f.negative,p.length=a.length+f.length,p.strip()},i.prototype.mul=function(a){var f=new i(null);return f.words=new Array(this.length+a.length),this.mulTo(a,f)},i.prototype.mulf=function(a){var f=new i(null);return f.words=new Array(this.length+a.length),R(this,a,f)},i.prototype.imul=function(a){return this.clone().mulTo(a,this)},i.prototype.imuln=function(a){r(typeof a=="number"),r(a<67108864);for(var f=0,p=0;p<this.length;p++){var y=(this.words[p]|0)*a,g=(y&67108863)+(f&67108863);f>>=26,f+=y/67108864|0,f+=g>>>26,this.words[p]=g&67108863}return f!==0&&(this.words[p]=f,this.length++),this},i.prototype.muln=function(a){return this.clone().imuln(a)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(a){var f=E(a);if(f.length===0)return new i(1);for(var p=this,y=0;y<f.length&&f[y]===0;y++,p=p.sqr());if(++y<f.length)for(var g=p.sqr();y<f.length;y++,g=g.sqr())f[y]!==0&&(p=p.mul(g));return p},i.prototype.iushln=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26,y=67108863>>>26-f<<26-f,g;if(f!==0){var A=0;for(g=0;g<this.length;g++){var _=this.words[g]&y,v=(this.words[g]|0)-_<<f;this.words[g]=v|A,A=_>>>26-f}A&&(this.words[g]=A,this.length++)}if(p!==0){for(g=this.length-1;g>=0;g--)this.words[g+p]=this.words[g];for(g=0;g<p;g++)this.words[g]=0;this.length+=p}return this.strip()},i.prototype.ishln=function(a){return r(this.negative===0),this.iushln(a)},i.prototype.iushrn=function(a,f,p){r(typeof a=="number"&&a>=0);var y;f?y=(f-f%26)/26:y=0;var g=a%26,A=Math.min((a-g)/26,this.length),_=67108863^67108863>>>g<<g,v=p;if(y-=A,y=Math.max(0,y),v){for(var u=0;u<A;u++)v.words[u]=this.words[u];v.length=A}if(A!==0)if(this.length>A)for(this.length-=A,u=0;u<this.length;u++)this.words[u]=this.words[u+A];else this.words[0]=0,this.length=1;var x=0;for(u=this.length-1;u>=0&&(x!==0||u>=y);u--){var L=this.words[u]|0;this.words[u]=x<<26-g|L>>>g,x=L&_}return v&&x!==0&&(v.words[v.length++]=x),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(a,f,p){return r(this.negative===0),this.iushrn(a,f,p)},i.prototype.shln=function(a){return this.clone().ishln(a)},i.prototype.ushln=function(a){return this.clone().iushln(a)},i.prototype.shrn=function(a){return this.clone().ishrn(a)},i.prototype.ushrn=function(a){return this.clone().iushrn(a)},i.prototype.testn=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26,y=1<<f;if(this.length<=p)return!1;var g=this.words[p];return!!(g&y)},i.prototype.imaskn=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(f!==0&&p++,this.length=Math.min(p,this.length),f!==0){var y=67108863^67108863>>>f<<f;this.words[this.length-1]&=y}return this.strip()},i.prototype.maskn=function(a){return this.clone().imaskn(a)},i.prototype.iaddn=function(a){return r(typeof a=="number"),r(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},i.prototype._iaddn=function(a){this.words[0]+=a;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)this.words[f]-=67108864,f===this.length-1?this.words[f+1]=1:this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},i.prototype.isubn=function(a){if(r(typeof a=="number"),r(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this.strip()},i.prototype.addn=function(a){return this.clone().iaddn(a)},i.prototype.subn=function(a){return this.clone().isubn(a)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(a,f,p){var y=a.length+p,g;this._expand(y);var A,_=0;for(g=0;g<a.length;g++){A=(this.words[g+p]|0)+_;var v=(a.words[g]|0)*f;A-=v&67108863,_=(A>>26)-(v/67108864|0),this.words[g+p]=A&67108863}for(;g<this.length-p;g++)A=(this.words[g+p]|0)+_,_=A>>26,this.words[g+p]=A&67108863;if(_===0)return this.strip();for(r(_===-1),_=0,g=0;g<this.length;g++)A=-(this.words[g]|0)+_,_=A>>26,this.words[g]=A&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(a,f){var p=this.length-a.length,y=this.clone(),g=a,A=g.words[g.length-1]|0,_=this._countBits(A);p=26-_,p!==0&&(g=g.ushln(p),y.iushln(p),A=g.words[g.length-1]|0);var v=y.length-g.length,u;if(f!=="mod"){u=new i(null),u.length=v+1,u.words=new Array(u.length);for(var x=0;x<u.length;x++)u.words[x]=0}var L=y.clone()._ishlnsubmul(g,1,v);L.negative===0&&(y=L,u&&(u.words[v]=1));for(var D=v-1;D>=0;D--){var C=(y.words[g.length+D]|0)*67108864+(y.words[g.length+D-1]|0);for(C=Math.min(C/A|0,67108863),y._ishlnsubmul(g,C,D);y.negative!==0;)C--,y.negative=0,y._ishlnsubmul(g,1,D),y.isZero()||(y.negative^=1);u&&(u.words[D]=C)}return u&&u.strip(),y.strip(),f!=="div"&&p!==0&&y.iushrn(p),{div:u||null,mod:y}},i.prototype.divmod=function(a,f,p){if(r(!a.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var y,g,A;return this.negative!==0&&a.negative===0?(A=this.neg().divmod(a,f),f!=="mod"&&(y=A.div.neg()),f!=="div"&&(g=A.mod.neg(),p&&g.negative!==0&&g.iadd(a)),{div:y,mod:g}):this.negative===0&&a.negative!==0?(A=this.divmod(a.neg(),f),f!=="mod"&&(y=A.div.neg()),{div:y,mod:A.mod}):this.negative&a.negative?(A=this.neg().divmod(a.neg(),f),f!=="div"&&(g=A.mod.neg(),p&&g.negative!==0&&g.isub(a)),{div:A.div,mod:g}):a.length>this.length||this.cmp(a)<0?{div:new i(0),mod:this}:a.length===1?f==="div"?{div:this.divn(a.words[0]),mod:null}:f==="mod"?{div:null,mod:new i(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new i(this.modn(a.words[0]))}:this._wordDiv(a,f)},i.prototype.div=function(a){return this.divmod(a,"div",!1).div},i.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},i.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},i.prototype.divRound=function(a){var f=this.divmod(a);if(f.mod.isZero())return f.div;var p=f.div.negative!==0?f.mod.isub(a):f.mod,y=a.ushrn(1),g=a.andln(1),A=p.cmp(y);return A<0||g===1&&A===0?f.div:f.div.negative!==0?f.div.isubn(1):f.div.iaddn(1)},i.prototype.modn=function(a){r(a<=67108863);for(var f=(1<<26)%a,p=0,y=this.length-1;y>=0;y--)p=(f*p+(this.words[y]|0))%a;return p},i.prototype.idivn=function(a){r(a<=67108863);for(var f=0,p=this.length-1;p>=0;p--){var y=(this.words[p]|0)+f*67108864;this.words[p]=y/a|0,f=y%a}return this.strip()},i.prototype.divn=function(a){return this.clone().idivn(a)},i.prototype.egcd=function(a){r(a.negative===0),r(!a.isZero());var f=this,p=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var y=new i(1),g=new i(0),A=new i(0),_=new i(1),v=0;f.isEven()&&p.isEven();)f.iushrn(1),p.iushrn(1),++v;for(var u=p.clone(),x=f.clone();!f.isZero();){for(var L=0,D=1;!(f.words[0]&D)&&L<26;++L,D<<=1);if(L>0)for(f.iushrn(L);L-- >0;)(y.isOdd()||g.isOdd())&&(y.iadd(u),g.isub(x)),y.iushrn(1),g.iushrn(1);for(var C=0,z=1;!(p.words[0]&z)&&C<26;++C,z<<=1);if(C>0)for(p.iushrn(C);C-- >0;)(A.isOdd()||_.isOdd())&&(A.iadd(u),_.isub(x)),A.iushrn(1),_.iushrn(1);f.cmp(p)>=0?(f.isub(p),y.isub(A),g.isub(_)):(p.isub(f),A.isub(y),_.isub(g))}return{a:A,b:_,gcd:p.iushln(v)}},i.prototype._invmp=function(a){r(a.negative===0),r(!a.isZero());var f=this,p=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var y=new i(1),g=new i(0),A=p.clone();f.cmpn(1)>0&&p.cmpn(1)>0;){for(var _=0,v=1;!(f.words[0]&v)&&_<26;++_,v<<=1);if(_>0)for(f.iushrn(_);_-- >0;)y.isOdd()&&y.iadd(A),y.iushrn(1);for(var u=0,x=1;!(p.words[0]&x)&&u<26;++u,x<<=1);if(u>0)for(p.iushrn(u);u-- >0;)g.isOdd()&&g.iadd(A),g.iushrn(1);f.cmp(p)>=0?(f.isub(p),y.isub(g)):(p.isub(f),g.isub(y))}var L;return f.cmpn(1)===0?L=y:L=g,L.cmpn(0)<0&&L.iadd(a),L},i.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var f=this.clone(),p=a.clone();f.negative=0,p.negative=0;for(var y=0;f.isEven()&&p.isEven();y++)f.iushrn(1),p.iushrn(1);do{for(;f.isEven();)f.iushrn(1);for(;p.isEven();)p.iushrn(1);var g=f.cmp(p);if(g<0){var A=f;f=p,p=A}else if(g===0||p.cmpn(1)===0)break;f.isub(p)}while(!0);return p.iushln(y)},i.prototype.invm=function(a){return this.egcd(a).a.umod(a)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(a){return this.words[0]&a},i.prototype.bincn=function(a){r(typeof a=="number");var f=a%26,p=(a-f)/26,y=1<<f;if(this.length<=p)return this._expand(p+1),this.words[p]|=y,this;for(var g=y,A=p;g!==0&&A<this.length;A++){var _=this.words[A]|0;_+=g,g=_>>>26,_&=67108863,this.words[A]=_}return g!==0&&(this.words[A]=g,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(a){var f=a<0;if(this.negative!==0&&!f)return-1;if(this.negative===0&&f)return 1;this.strip();var p;if(this.length>1)p=1;else{f&&(a=-a),r(a<=67108863,"Number is too big");var y=this.words[0]|0;p=y===a?0:y<a?-1:1}return this.negative!==0?-p|0:p},i.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var f=this.ucmp(a);return this.negative!==0?-f|0:f},i.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var f=0,p=this.length-1;p>=0;p--){var y=this.words[p]|0,g=a.words[p]|0;if(y!==g){y<g?f=-1:y>g&&(f=1);break}}return f},i.prototype.gtn=function(a){return this.cmpn(a)===1},i.prototype.gt=function(a){return this.cmp(a)===1},i.prototype.gten=function(a){return this.cmpn(a)>=0},i.prototype.gte=function(a){return this.cmp(a)>=0},i.prototype.ltn=function(a){return this.cmpn(a)===-1},i.prototype.lt=function(a){return this.cmp(a)===-1},i.prototype.lten=function(a){return this.cmpn(a)<=0},i.prototype.lte=function(a){return this.cmp(a)<=0},i.prototype.eqn=function(a){return this.cmpn(a)===0},i.prototype.eq=function(a){return this.cmp(a)===0},i.red=function(a){return new Q(a)},i.prototype.toRed=function(a){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(a){return this.red=a,this},i.prototype.forceRed=function(a){return r(!this.red,"Already a number in reduction context"),this._forceRed(a)},i.prototype.redAdd=function(a){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},i.prototype.redIAdd=function(a){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},i.prototype.redSub=function(a){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},i.prototype.redISub=function(a){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},i.prototype.redShl=function(a){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},i.prototype.redMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},i.prototype.redIMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(a){return r(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var U={k256:null,p224:null,p192:null,p25519:null};function P(S,a){this.name=S,this.p=new i(a,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}P.prototype._tmp=function(){var a=new i(null);return a.words=new Array(Math.ceil(this.n/13)),a},P.prototype.ireduce=function(a){var f=a,p;do this.split(f,this.tmp),f=this.imulK(f),f=f.iadd(this.tmp),p=f.bitLength();while(p>this.n);var y=p<this.n?-1:f.ucmp(this.p);return y===0?(f.words[0]=0,f.length=1):y>0?f.isub(this.p):f.strip!==void 0?f.strip():f._strip(),f},P.prototype.split=function(a,f){a.iushrn(this.n,0,f)},P.prototype.imulK=function(a){return a.imul(this.k)};function F(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(F,P),F.prototype.split=function(a,f){for(var p=4194303,y=Math.min(a.length,9),g=0;g<y;g++)f.words[g]=a.words[g];if(f.length=y,a.length<=9){a.words[0]=0,a.length=1;return}var A=a.words[9];for(f.words[f.length++]=A&p,g=10;g<a.length;g++){var _=a.words[g]|0;a.words[g-10]=(_&p)<<4|A>>>22,A=_}A>>>=22,a.words[g-10]=A,A===0&&a.length>10?a.length-=10:a.length-=9},F.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var f=0,p=0;p<a.length;p++){var y=a.words[p]|0;f+=y*977,a.words[p]=f&67108863,f=y*64+(f/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function q(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(q,P);function K(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(K,P);function re(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(re,P),re.prototype.imulK=function(a){for(var f=0,p=0;p<a.length;p++){var y=(a.words[p]|0)*19+f,g=y&67108863;y>>>=26,a.words[p]=g,f=y}return f!==0&&(a.words[a.length++]=f),a},i._prime=function(a){if(U[a])return U[a];var f;if(a==="k256")f=new F;else if(a==="p224")f=new q;else if(a==="p192")f=new K;else if(a==="p25519")f=new re;else throw new Error("Unknown prime "+a);return U[a]=f,f};function Q(S){if(typeof S=="string"){var a=i._prime(S);this.m=a.p,this.prime=a}else r(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}Q.prototype._verify1=function(a){r(a.negative===0,"red works only with positives"),r(a.red,"red works only with red numbers")},Q.prototype._verify2=function(a,f){r((a.negative|f.negative)===0,"red works only with positives"),r(a.red&&a.red===f.red,"red works only with red numbers")},Q.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},Q.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},Q.prototype.add=function(a,f){this._verify2(a,f);var p=a.add(f);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},Q.prototype.iadd=function(a,f){this._verify2(a,f);var p=a.iadd(f);return p.cmp(this.m)>=0&&p.isub(this.m),p},Q.prototype.sub=function(a,f){this._verify2(a,f);var p=a.sub(f);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},Q.prototype.isub=function(a,f){this._verify2(a,f);var p=a.isub(f);return p.cmpn(0)<0&&p.iadd(this.m),p},Q.prototype.shl=function(a,f){return this._verify1(a),this.imod(a.ushln(f))},Q.prototype.imul=function(a,f){return this._verify2(a,f),this.imod(a.imul(f))},Q.prototype.mul=function(a,f){return this._verify2(a,f),this.imod(a.mul(f))},Q.prototype.isqr=function(a){return this.imul(a,a.clone())},Q.prototype.sqr=function(a){return this.mul(a,a)},Q.prototype.sqrt=function(a){if(a.isZero())return a.clone();var f=this.m.andln(3);if(r(f%2===1),f===3){var p=this.m.add(new i(1)).iushrn(2);return this.pow(a,p)}for(var y=this.m.subn(1),g=0;!y.isZero()&&y.andln(1)===0;)g++,y.iushrn(1);r(!y.isZero());var A=new i(1).toRed(this),_=A.redNeg(),v=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new i(2*u*u).toRed(this);this.pow(u,v).cmp(_)!==0;)u.redIAdd(_);for(var x=this.pow(u,y),L=this.pow(a,y.addn(1).iushrn(1)),D=this.pow(a,y),C=g;D.cmp(A)!==0;){for(var z=D,ee=0;z.cmp(A)!==0;ee++)z=z.redSqr();r(ee<C);var ne=this.pow(x,new i(1).iushln(C-ee-1));L=L.redMul(ne),x=ne.redSqr(),D=D.redMul(x),C=ee}return L},Q.prototype.invm=function(a){var f=a._invmp(this.m);return f.negative!==0?(f.negative=0,this.imod(f).redNeg()):this.imod(f)},Q.prototype.pow=function(a,f){if(f.isZero())return new i(1).toRed(this);if(f.cmpn(1)===0)return a.clone();var p=4,y=new Array(1<<p);y[0]=new i(1).toRed(this),y[1]=a;for(var g=2;g<y.length;g++)y[g]=this.mul(y[g-1],a);var A=y[0],_=0,v=0,u=f.bitLength()%26;for(u===0&&(u=26),g=f.length-1;g>=0;g--){for(var x=f.words[g],L=u-1;L>=0;L--){var D=x>>L&1;if(A!==y[0]&&(A=this.sqr(A)),D===0&&_===0){v=0;continue}_<<=1,_|=D,v++,!(v!==p&&(g!==0||L!==0))&&(A=this.mul(A,y[_]),v=0,_=0)}u=26}return A},Q.prototype.convertTo=function(a){var f=a.umod(this.m);return f===a?f.clone():f},Q.prototype.convertFrom=function(a){var f=a.clone();return f.red=null,f},i.mont=function(a){return new ie(a)};function ie(S){Q.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(ie,Q),ie.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},ie.prototype.convertFrom=function(a){var f=this.imod(a.mul(this.rinv));return f.red=null,f},ie.prototype.imul=function(a,f){if(a.isZero()||f.isZero())return a.words[0]=0,a.length=1,a;var p=a.imul(f),y=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=p.isub(y).iushrn(this.shift),A=g;return g.cmp(this.m)>=0?A=g.isub(this.m):g.cmpn(0)<0&&(A=g.iadd(this.m)),A._forceRed(this)},ie.prototype.mul=function(a,f){if(a.isZero()||f.isZero())return new i(0)._forceRed(this);var p=a.mul(f),y=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=p.isub(y).iushrn(this.shift),A=g;return g.cmp(this.m)>=0?A=g.isub(this.m):g.cmpn(0)<0&&(A=g.iadd(this.m)),A._forceRed(this)},ie.prototype.invm=function(a){var f=this.imod(a._invmp(this.m).mul(this.r2));return f._forceRed(this)}})(typeof Eq>"u"||Eq,Ole)});var xM=V((kKt,Iq)=>{d();h();var _q;Iq.exports=function(e){return _q||(_q=new im(null)),_q.generate(e)};function im(t){this.rand=t}Iq.exports.Rand=im;im.prototype.generate=function(e){return this._rand(e)};im.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var r=new Uint8Array(e),n=0;n<r.length;n++)r[n]=this.rand.getByte();return r};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?im.prototype._rand=function(e){var r=new Uint8Array(e);return self.crypto.getRandomValues(r),r}:self.msCrypto&&self.msCrypto.getRandomValues?im.prototype._rand=function(e){var r=new Uint8Array(e);return self.msCrypto.getRandomValues(r),r}:typeof self=="object"&&(im.prototype._rand=function(){throw new Error("Not implemented yet")});else try{if(Tq=om(),typeof Tq.randomBytes!="function")throw new Error("Not supported");im.prototype._rand=function(e){return Tq.randomBytes(e)}}catch{}var Tq});var Mq=V((RKt,Dle)=>{d();h();var Cb=Nle(),hje=xM();function Ob(t){this.rand=t||new hje.Rand}Dle.exports=Ob;Ob.create=function(e){return new Ob(e)};Ob.prototype._randbelow=function(e){var r=e.bitLength(),n=Math.ceil(r/8);do var i=new Cb(this.rand.generate(n));while(i.cmp(e)>=0);return i};Ob.prototype._randrange=function(e,r){var n=r.sub(e);return e.add(this._randbelow(n))};Ob.prototype.test=function(e,r,n){var i=e.bitLength(),o=Cb.mont(e),s=new Cb(1).toRed(o);r||(r=Math.max(1,i/48|0));for(var c=e.subn(1),l=0;!c.testn(l);l++);for(var m=e.shrn(l),w=c.toRed(o),b=!0;r>0;r--){var E=this._randrange(new Cb(2),c);n&&n(E);var I=E.toRed(o).redPow(m);if(!(I.cmp(s)===0||I.cmp(w)===0)){for(var M=1;M<l;M++){if(I=I.redSqr(),I.cmp(s)===0)return!1;if(I.cmp(w)===0)break}if(M===l)return!1}}return b};Ob.prototype.getDivisor=function(e,r){var n=e.bitLength(),i=Cb.mont(e),o=new Cb(1).toRed(i);r||(r=Math.max(1,n/48|0));for(var s=e.subn(1),c=0;!s.testn(c);c++);for(var l=e.shrn(c),m=s.toRed(i);r>0;r--){var w=this._randrange(new Cb(2),s),b=e.gcd(w);if(b.cmpn(1)!==0)return b;var E=w.toRed(i).redPow(l);if(!(E.cmp(o)===0||E.cmp(m)===0)){for(var I=1;I<c;I++){if(E=E.redSqr(),E.cmp(o)===0)return E.fromRed().subn(1).gcd(e);if(E.cmp(m)===0)break}if(I===c)return E=E.redSqr(),E.fromRed().subn(1).gcd(e)}}return!1}});var Oq=V((FKt,Fle)=>{d();h();var pje=Jh();Fle.exports=Cq;Cq.simpleSieve=Bq;Cq.fermatTest=Rq;var Ts=Aq(),mje=new Ts(24),yje=Mq(),Ule=new yje,gje=new Ts(1),Pq=new Ts(2),bje=new Ts(5),NKt=new Ts(16),DKt=new Ts(8),vje=new Ts(10),xje=new Ts(3),UKt=new Ts(7),wje=new Ts(11),Lle=new Ts(4),LKt=new Ts(12),kq=null;function Sje(){if(kq!==null)return kq;var t=1048576,e=[];e[0]=2;for(var r=1,n=3;n<t;n+=2){for(var i=Math.ceil(Math.sqrt(n)),o=0;o<r&&e[o]<=i&&n%e[o]!==0;o++);r!==o&&e[o]<=i||(e[r++]=n)}return kq=e,e}function Bq(t){for(var e=Sje(),r=0;r<e.length;r++)if(t.modn(e[r])===0)return t.cmpn(e[r])===0;return!0}function Rq(t){var e=Ts.mont(t);return Pq.toRed(e).redPow(t.subn(1)).fromRed().cmpn(1)===0}function Cq(t,e){if(t<16)return e===2||e===5?new Ts([140,123]):new Ts([140,39]);e=new Ts(e);for(var r,n;;){for(r=new Ts(pje(Math.ceil(t/8)));r.bitLength()>t;)r.ishrn(1);if(r.isEven()&&r.iadd(gje),r.testn(1)||r.iadd(Pq),e.cmp(Pq)){if(!e.cmp(bje))for(;r.mod(vje).cmp(xje);)r.iadd(Lle)}else for(;r.mod(mje).cmp(wje);)r.iadd(Lle);if(n=r.shrn(1),Bq(n)&&Bq(r)&&Rq(n)&&Rq(r)&&Ule.test(n)&&Ule.test(r))return r}}});var Vle=V((KKt,Aje)=>{Aje.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}});var jle=V((HKt,Hle)=>{d();h();var ef=Aq(),Eje=Mq(),qle=new Eje,_je=new ef(24),Tje=new ef(11),Ije=new ef(10),Mje=new ef(3),kje=new ef(7),Kle=Oq(),Pje=Jh();Hle.exports=s0;function Bje(t,e){return e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e)),this._pub=new ef(t),this}function Rje(t,e){return e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e)),this._priv=new ef(t),this}var wM={};function Cje(t,e){var r=e.toString("hex"),n=[r,t.toString(16)].join("_");if(n in wM)return wM[n];var i=0;if(t.isEven()||!Kle.simpleSieve||!Kle.fermatTest(t)||!qle.test(t))return i+=1,r==="02"||r==="05"?i+=8:i+=4,wM[n]=i,i;qle.test(t.shrn(1))||(i+=2);var o;switch(r){case"02":t.mod(_je).cmp(Tje)&&(i+=8);break;case"05":o=t.mod(Ije),o.cmp(Mje)&&o.cmp(kje)&&(i+=8);break;default:i+=4}return wM[n]=i,i}function s0(t,e,r){this.setGenerator(e),this.__prime=new ef(t),this._prime=ef.mont(this.__prime),this._primeLen=t.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,r?(this.setPublicKey=Bje,this.setPrivateKey=Rje):this._primeCode=8}Object.defineProperty(s0.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=Cje(this.__prime,this.__gen)),this._primeCode}});s0.prototype.generateKeys=function(){return this._priv||(this._priv=new ef(Pje(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()};s0.prototype.computeSecret=function(t){t=new ef(t),t=t.toRed(this._prime);var e=t.redPow(this._priv).fromRed(),r=new Buffer(e.toArray()),n=this.getPrime();if(r.length<n.length){var i=new Buffer(n.length-r.length);i.fill(0),r=Buffer.concat([i,r])}return r};s0.prototype.getPublicKey=function(e){return SM(this._pub,e)};s0.prototype.getPrivateKey=function(e){return SM(this._priv,e)};s0.prototype.getPrime=function(t){return SM(this.__prime,t)};s0.prototype.getGenerator=function(t){return SM(this._gen,t)};s0.prototype.setGenerator=function(t,e){return e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e)),this.__gen=t,this._gen=new ef(t),this};function SM(t,e){var r=new Buffer(t.toArray());return e?r.toString(e):r}});var Gle=V(Yx=>{d();h();var Oje=Oq(),zle=Vle(),Nq=jle();function Nje(t){var e=new Buffer(zle[t].prime,"hex"),r=new Buffer(zle[t].gen,"hex");return new Nq(e,r)}var Dje={binary:!0,hex:!0,base64:!0};function Wle(t,e,r,n){return Buffer.isBuffer(e)||Dje[e]===void 0?Wle(t,"binary",e,r):(e=e||"binary",n=n||"binary",r=r||new Buffer([2]),Buffer.isBuffer(r)||(r=new Buffer(r,n)),typeof t=="number"?new Nq(Oje(t,r),r,!0):(Buffer.isBuffer(t)||(t=new Buffer(t,e)),new Nq(t,r,!0)))}Yx.DiffieHellmanGroup=Yx.createDiffieHellmanGroup=Yx.getDiffieHellman=Nje;Yx.createDiffieHellman=Yx.DiffieHellman=Wle});var Dq=V((YKt,$le)=>{d();h();$le.exports=XE().EventEmitter});var ede=V((JKt,Xle)=>{"use strict";d();h();function Yle(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zle(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Yle(Object(r),!0).forEach(function(n){Uje(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Yle(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Uje(t,e,r){return e=Jle(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qle(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Jle(n.key),n)}}function Fje(t,e,r){return e&&Qle(t.prototype,e),r&&Qle(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jle(t){var e=Vje(t,"string");return typeof e=="symbol"?e:String(e)}function Vje(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qje=Vn(),AM=qje.Buffer,Kje=a3(),Uq=Kje.inspect,Hje=Uq&&Uq.custom||"inspect";function jje(t,e,r){AM.prototype.copy.call(t,e,r)}Xle.exports=function(){function t(){Lje(this,t),this.head=null,this.tail=null,this.length=0}return Fje(t,[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i}},{key:"concat",value:function(r){if(this.length===0)return AM.alloc(0);for(var n=AM.allocUnsafe(r>>>0),i=this.head,o=0;i;)jje(i.data,n,o),o+=i.data.length,i=i.next;return n}},{key:"consume",value:function(r,n){var i;return r<this.head.data.length?(i=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?i=this.shift():i=n?this._getString(r):this._getBuffer(r),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,i=1,o=n.data;for(r-=o.length;n=n.next;){var s=n.data,c=r>s.length?s.length:r;if(c===s.length?o+=s:o+=s.slice(0,r),r-=c,r===0){c===s.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=s.slice(c));break}++i}return this.length-=i,o}},{key:"_getBuffer",value:function(r){var n=AM.allocUnsafe(r),i=this.head,o=1;for(i.data.copy(n),r-=i.data.length;i=i.next;){var s=i.data,c=r>s.length?s.length:r;if(s.copy(n,n.length-r,0,c),r-=c,r===0){c===s.length?(++o,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=s.slice(c));break}++o}return this.length-=o,n}},{key:Hje,value:function(r,n){return Uq(this,Zle(Zle({},n),{},{depth:0,customInspect:!1}))}}]),t}()});var Fq=V((tHt,rde)=>{"use strict";d();h();function zje(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(Lq,this,t)):process.nextTick(Lq,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(o){!e&&o?r._writableState?r._writableState.errorEmitted?process.nextTick(EM,r):(r._writableState.errorEmitted=!0,process.nextTick(tde,r,o)):process.nextTick(tde,r,o):e?(process.nextTick(EM,r),e(o)):process.nextTick(EM,r)}),this)}function tde(t,e){Lq(t,e),EM(t)}function EM(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function Wje(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Lq(t,e){t.emit("error",e)}function Gje(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}rde.exports={destroy:zje,undestroy:Wje,errorOrDestroy:Gje}});var Nb=V((iHt,ode)=>{"use strict";d();h();function $je(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var ide={};function tf(t,e,r){r||(r=Error);function n(o,s,c){return typeof e=="string"?e:e(o,s,c)}var i=function(o){$je(s,o);function s(c,l,m){return o.call(this,n(c,l,m))||this}return s}(r);i.prototype.name=r.name,i.prototype.code=t,ide[t]=i}function nde(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function Yje(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function Zje(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function Qje(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}tf("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);tf("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&Yje(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(Zje(t," argument"))i="The ".concat(t," ").concat(n," ").concat(nde(e,"type"));else{var o=Qje(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(o," ").concat(n," ").concat(nde(e,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);tf("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");tf("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});tf("ERR_STREAM_PREMATURE_CLOSE","Premature close");tf("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});tf("ERR_MULTIPLE_CALLBACK","Callback called multiple times");tf("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");tf("ERR_STREAM_WRITE_AFTER_END","write after end");tf("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);tf("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);tf("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");ode.exports.codes=ide});var Vq=V((aHt,sde)=>{"use strict";d();h();var Jje=Nb().codes.ERR_INVALID_OPT_VALUE;function Xje(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function eze(t,e,r,n){var i=Xje(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var o=n?r:"highWaterMark";throw new Jje(o,i)}return Math.floor(i)}return t.objectMode?16:16*1024}sde.exports={getHighWaterMark:eze}});var Hq=V((fHt,dde)=>{"use strict";d();h();dde.exports=Qi;function cde(t){var e=this;this.next=null,this.entry=null,this.finish=function(){Ize(e,t)}}var Zx;Qi.WritableState=U3;var tze={deprecate:xV()},ude=Dq(),TM=Vn().Buffer,rze=(typeof self<"u"||typeof self<"u"||typeof self<"u"?self:{}).Uint8Array||function(){};function nze(t){return TM.from(t)}function ize(t){return TM.isBuffer(t)||t instanceof rze}var Kq=Fq(),oze=Vq(),sze=oze.getHighWaterMark,sm=Nb().codes,aze=sm.ERR_INVALID_ARG_TYPE,cze=sm.ERR_METHOD_NOT_IMPLEMENTED,uze=sm.ERR_MULTIPLE_CALLBACK,fze=sm.ERR_STREAM_CANNOT_PIPE,lze=sm.ERR_STREAM_DESTROYED,dze=sm.ERR_STREAM_NULL_VALUES,hze=sm.ERR_STREAM_WRITE_AFTER_END,pze=sm.ERR_UNKNOWN_ENCODING,Qx=Kq.errorOrDestroy;Xt()(Qi,ude);function mze(){}function U3(t,e,r){Zx=Zx||Db(),t=t||{},typeof r!="boolean"&&(r=e instanceof Zx),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=sze(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=t.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(i){Sze(e,i)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new cde(this)}U3.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(U3.prototype,"buffer",{get:tze.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var _M;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(_M=Function.prototype[Symbol.hasInstance],Object.defineProperty(Qi,Symbol.hasInstance,{value:function(e){return _M.call(this,e)?!0:this!==Qi?!1:e&&e._writableState instanceof U3}})):_M=function(e){return e instanceof this};function Qi(t){Zx=Zx||Db();var e=this instanceof Zx;if(!e&&!_M.call(Qi,this))return new Qi(t);this._writableState=new U3(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),ude.call(this)}Qi.prototype.pipe=function(){Qx(this,new fze)};function yze(t,e){var r=new hze;Qx(t,r),process.nextTick(e,r)}function gze(t,e,r,n){var i;return r===null?i=new dze:typeof r!="string"&&!e.objectMode&&(i=new aze("chunk",["string","Buffer"],r)),i?(Qx(t,i),process.nextTick(n,i),!1):!0}Qi.prototype.write=function(t,e,r){var n=this._writableState,i=!1,o=!n.objectMode&&ize(t);return o&&!TM.isBuffer(t)&&(t=nze(t)),typeof e=="function"&&(r=e,e=null),o?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=mze),n.ending?yze(this,r):(o||gze(this,n,t,r))&&(n.pendingcb++,i=vze(this,n,o,t,e,r)),i};Qi.prototype.cork=function(){this._writableState.corked++};Qi.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&fde(this,t))};Qi.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new pze(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(Qi.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function bze(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=TM.from(e,r)),e}Object.defineProperty(Qi.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function vze(t,e,r,n,i,o){if(!r){var s=bze(e,n,i);n!==s&&(r=!0,i="buffer",n=s)}var c=e.objectMode?1:n.length;e.length+=c;var l=e.length<e.highWaterMark;if(l||(e.needDrain=!0),e.writing||e.corked){var m=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},m?m.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else qq(t,e,!1,c,n,i,o);return l}function qq(t,e,r,n,i,o,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new lze("write")):r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function xze(t,e,r,n,i){--e.pendingcb,r?(process.nextTick(i,n),process.nextTick(D3,t,e),t._writableState.errorEmitted=!0,Qx(t,n)):(i(n),t._writableState.errorEmitted=!0,Qx(t,n),D3(t,e))}function wze(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function Sze(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function")throw new uze;if(wze(r),e)xze(t,r,n,e,i);else{var o=lde(r)||t.destroyed;!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&fde(t,r),n?process.nextTick(ade,t,r,o,i):ade(t,r,o,i)}}function ade(t,e,r,n){r||Aze(t,e),e.pendingcb--,n(),D3(t,e)}function Aze(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function fde(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),o=e.corkedRequestsFree;o.entry=r;for(var s=0,c=!0;r;)i[s]=r,r.isBuf||(c=!1),r=r.next,s+=1;i.allBuffers=c,qq(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new cde(e),e.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,m=r.encoding,w=r.callback,b=e.objectMode?1:l.length;if(qq(t,e,!1,b,l,m,w),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}Qi.prototype._write=function(t,e,r){r(new cze("_write()"))};Qi.prototype._writev=null;Qi.prototype.end=function(t,e,r){var n=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||Tze(this,n,r),this};Object.defineProperty(Qi.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function lde(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function Eze(t,e){t._final(function(r){e.pendingcb--,r&&Qx(t,r),e.prefinished=!0,t.emit("prefinish"),D3(t,e)})}function _ze(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,process.nextTick(Eze,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function D3(t,e){var r=lde(e);if(r&&(_ze(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}function Tze(t,e,r){e.ending=!0,D3(t,e),r&&(e.finished?process.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function Ize(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}Object.defineProperty(Qi.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}});Qi.prototype.destroy=Kq.destroy;Qi.prototype._undestroy=Kq.undestroy;Qi.prototype._destroy=function(t,e){e(t)}});var Db=V((hHt,pde)=>{"use strict";d();h();var Mze=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};pde.exports=Td;var hde=Wq(),zq=Hq();Xt()(Td,hde);for(jq=Mze(zq.prototype),IM=0;IM<jq.length;IM++)MM=jq[IM],Td.prototype[MM]||(Td.prototype[MM]=zq.prototype[MM]);var jq,MM,IM;function Td(t){if(!(this instanceof Td))return new Td(t);hde.call(this,t),zq.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",kze)))}Object.defineProperty(Td.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(Td.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(Td.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function kze(){this._writableState.ended||process.nextTick(Pze,this)}function Pze(t){t.end()}Object.defineProperty(Td.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var kM=V((yHt,gde)=>{"use strict";d();h();var mde=Nb().codes.ERR_STREAM_PREMATURE_CLOSE;function Bze(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function Rze(){}function Cze(t){return t.setHeader&&typeof t.abort=="function"}function yde(t,e,r){if(typeof e=="function")return yde(t,null,e);e||(e={}),r=Bze(r||Rze);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,o=function(){t.writable||c()},s=t._writableState&&t._writableState.finished,c=function(){i=!1,s=!0,n||r.call(t)},l=t._readableState&&t._readableState.endEmitted,m=function(){n=!1,l=!0,i||r.call(t)},w=function(M){r.call(t,M)},b=function(){var M;if(n&&!l)return(!t._readableState||!t._readableState.ended)&&(M=new mde),r.call(t,M);if(i&&!s)return(!t._writableState||!t._writableState.ended)&&(M=new mde),r.call(t,M)},E=function(){t.req.on("finish",c)};return Cze(t)?(t.on("complete",c),t.on("abort",b),t.req?E():t.on("request",E)):i&&!t._writableState&&(t.on("end",o),t.on("close",o)),t.on("end",m),t.on("finish",c),e.error!==!1&&t.on("error",w),t.on("close",b),function(){t.removeListener("complete",c),t.removeListener("abort",b),t.removeListener("request",E),t.req&&t.req.removeListener("finish",c),t.removeListener("end",o),t.removeListener("close",o),t.removeListener("finish",c),t.removeListener("end",m),t.removeListener("error",w),t.removeListener("close",b)}}gde.exports=yde});var vde=V((vHt,bde)=>{"use strict";d();h();var PM;function am(t,e,r){return e=Oze(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Oze(t){var e=Nze(t,"string");return typeof e=="symbol"?e:String(e)}function Nze(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dze=kM(),cm=Symbol("lastResolve"),Ub=Symbol("lastReject"),L3=Symbol("error"),BM=Symbol("ended"),Lb=Symbol("lastPromise"),Gq=Symbol("handlePromise"),Fb=Symbol("stream");function um(t,e){return{value:t,done:e}}function Uze(t){var e=t[cm];if(e!==null){var r=t[Fb].read();r!==null&&(t[Lb]=null,t[cm]=null,t[Ub]=null,e(um(r,!1)))}}function Lze(t){process.nextTick(Uze,t)}function Fze(t,e){return function(r,n){t.then(function(){if(e[BM]){r(um(void 0,!0));return}e[Gq](r,n)},n)}}var Vze=Object.getPrototypeOf(function(){}),qze=Object.setPrototypeOf((PM={get stream(){return this[Fb]},next:function(){var e=this,r=this[L3];if(r!==null)return Promise.reject(r);if(this[BM])return Promise.resolve(um(void 0,!0));if(this[Fb].destroyed)return new Promise(function(s,c){process.nextTick(function(){e[L3]?c(e[L3]):s(um(void 0,!0))})});var n=this[Lb],i;if(n)i=new Promise(Fze(n,this));else{var o=this[Fb].read();if(o!==null)return Promise.resolve(um(o,!1));i=new Promise(this[Gq])}return this[Lb]=i,i}},am(PM,Symbol.asyncIterator,function(){return this}),am(PM,"return",function(){var e=this;return new Promise(function(r,n){e[Fb].destroy(null,function(i){if(i){n(i);return}r(um(void 0,!0))})})}),PM),Vze),Kze=function(e){var r,n=Object.create(qze,(r={},am(r,Fb,{value:e,writable:!0}),am(r,cm,{value:null,writable:!0}),am(r,Ub,{value:null,writable:!0}),am(r,L3,{value:null,writable:!0}),am(r,BM,{value:e._readableState.endEmitted,writable:!0}),am(r,Gq,{value:function(o,s){var c=n[Fb].read();c?(n[Lb]=null,n[cm]=null,n[Ub]=null,o(um(c,!1))):(n[cm]=o,n[Ub]=s)},writable:!0}),r));return n[Lb]=null,Dze(e,function(i){if(i&&i.code!=="ERR_STREAM_PREMATURE_CLOSE"){var o=n[Ub];o!==null&&(n[Lb]=null,n[cm]=null,n[Ub]=null,o(i)),n[L3]=i;return}var s=n[cm];s!==null&&(n[Lb]=null,n[cm]=null,n[Ub]=null,s(um(void 0,!0))),n[BM]=!0}),e.on("readable",Lze.bind(null,n)),n};bde.exports=Kze});var wde=V((SHt,xde)=>{d();h();xde.exports=function(){throw new Error("Readable.from is not available in the browser")}});var Wq=V((THt,Bde)=>{"use strict";d();h();Bde.exports=hn;var Jx;hn.ReadableState=_de;var _Ht=XE().EventEmitter,Ede=function(e,r){return e.listeners(r).length},V3=Dq(),RM=Vn().Buffer,Hze=(typeof self<"u"||typeof self<"u"||typeof self<"u"?self:{}).Uint8Array||function(){};function jze(t){return RM.from(t)}function zze(t){return RM.isBuffer(t)||t instanceof Hze}var $q=a3(),Mr;$q&&$q.debuglog?Mr=$q.debuglog("stream"):Mr=function(){};var Wze=ede(),tK=Fq(),Gze=Vq(),$ze=Gze.getHighWaterMark,CM=Nb().codes,Yze=CM.ERR_INVALID_ARG_TYPE,Zze=CM.ERR_STREAM_PUSH_AFTER_EOF,Qze=CM.ERR_METHOD_NOT_IMPLEMENTED,Jze=CM.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Xx,Yq,Zq;Xt()(hn,V3);var F3=tK.errorOrDestroy,Qq=["error","close","destroy","pause","resume"];function Xze(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function _de(t,e,r){Jx=Jx||Db(),t=t||{},typeof r!="boolean"&&(r=e instanceof Jx),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=$ze(this,t,"readableHighWaterMark",r),this.buffer=new Wze,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(Xx||(Xx=qx().StringDecoder),this.decoder=new Xx(t.encoding),this.encoding=t.encoding)}function hn(t){if(Jx=Jx||Db(),!(this instanceof hn))return new hn(t);var e=this instanceof Jx;this._readableState=new _de(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),V3.call(this)}Object.defineProperty(hn.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}});hn.prototype.destroy=tK.destroy;hn.prototype._undestroy=tK.undestroy;hn.prototype._destroy=function(t,e){e(t)};hn.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=RM.from(t,e),e=""),n=!0),Tde(this,t,e,!1,n)};hn.prototype.unshift=function(t){return Tde(this,t,null,!0,!1)};function Tde(t,e,r,n,i){Mr("readableAddChunk",e);var o=t._readableState;if(e===null)o.reading=!1,rWe(t,o);else{var s;if(i||(s=eWe(o,e)),s)F3(t,s);else if(o.objectMode||e&&e.length>0)if(typeof e!="string"&&!o.objectMode&&Object.getPrototypeOf(e)!==RM.prototype&&(e=jze(e)),n)o.endEmitted?F3(t,new Jze):Jq(t,o,e,!0);else if(o.ended)F3(t,new Zze);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!r?(e=o.decoder.write(e),o.objectMode||e.length!==0?Jq(t,o,e,!1):eK(t,o)):Jq(t,o,e,!1)}else n||(o.reading=!1,eK(t,o))}return!o.ended&&(o.length<o.highWaterMark||o.length===0)}function Jq(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&OM(t)),eK(t,e)}function eWe(t,e){var r;return!zze(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new Yze("chunk",["string","Buffer","Uint8Array"],e)),r}hn.prototype.isPaused=function(){return this._readableState.flowing===!1};hn.prototype.setEncoding=function(t){Xx||(Xx=qx().StringDecoder);var e=new Xx(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var Sde=1073741824;function tWe(t){return t>=Sde?t=Sde:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function Ade(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=tWe(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}hn.prototype.read=function(t){Mr("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return Mr("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?Xq(this):OM(this),null;if(t=Ade(t,e),t===0&&e.ended)return e.length===0&&Xq(this),null;var n=e.needReadable;Mr("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,Mr("length less than watermark",n)),e.ended||e.reading?(n=!1,Mr("reading or ended",n)):n&&(Mr("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=Ade(r,e)));var i;return t>0?i=kde(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&Xq(this)),i!==null&&this.emit("data",i),i};function rWe(t,e){if(Mr("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?OM(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,Ide(t)))}}function OM(t){var e=t._readableState;Mr("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(Mr("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(Ide,t))}function Ide(t){var e=t._readableState;Mr("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,rK(t)}function eK(t,e){e.readingMore||(e.readingMore=!0,process.nextTick(nWe,t,e))}function nWe(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(Mr("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}hn.prototype._read=function(t){F3(this,new Qze("_read()"))};hn.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,Mr("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,o=i?c:k;n.endEmitted?process.nextTick(o):r.once("end",o),t.on("unpipe",s);function s(R,B){Mr("onunpipe"),R===r&&B&&B.hasUnpiped===!1&&(B.hasUnpiped=!0,w())}function c(){Mr("onend"),t.end()}var l=iWe(r);t.on("drain",l);var m=!1;function w(){Mr("cleanup"),t.removeListener("close",I),t.removeListener("finish",M),t.removeListener("drain",l),t.removeListener("error",E),t.removeListener("unpipe",s),r.removeListener("end",c),r.removeListener("end",k),r.removeListener("data",b),m=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&l()}r.on("data",b);function b(R){Mr("ondata");var B=t.write(R);Mr("dest.write",B),B===!1&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&Pde(n.pipes,t)!==-1)&&!m&&(Mr("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function E(R){Mr("onerror",R),k(),t.removeListener("error",E),Ede(t,"error")===0&&F3(t,R)}Xze(t,"error",E);function I(){t.removeListener("finish",M),k()}t.once("close",I);function M(){Mr("onfinish"),t.removeListener("close",I),k()}t.once("finish",M);function k(){Mr("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(Mr("pipe resume"),r.resume()),t};function iWe(t){return function(){var r=t._readableState;Mr("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&Ede(t,"data")&&(r.flowing=!0,rK(t))}}hn.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=Pde(e.pipes,t);return s===-1?this:(e.pipes.splice(s,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};hn.prototype.on=function(t,e){var r=V3.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,Mr("on readable",n.length,n.reading),n.length?OM(this):n.reading||process.nextTick(oWe,this)),r};hn.prototype.addListener=hn.prototype.on;hn.prototype.removeListener=function(t,e){var r=V3.prototype.removeListener.call(this,t,e);return t==="readable"&&process.nextTick(Mde,this),r};hn.prototype.removeAllListeners=function(t){var e=V3.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&process.nextTick(Mde,this),e};function Mde(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function oWe(t){Mr("readable nexttick read 0"),t.read(0)}hn.prototype.resume=function(){var t=this._readableState;return t.flowing||(Mr("resume"),t.flowing=!t.readableListening,sWe(this,t)),t.paused=!1,this};function sWe(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(aWe,t,e))}function aWe(t,e){Mr("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),rK(t),e.flowing&&!e.reading&&t.read(0)}hn.prototype.pause=function(){return Mr("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Mr("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function rK(t){var e=t._readableState;for(Mr("flow",e.flowing);e.flowing&&t.read()!==null;);}hn.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(Mr("wrapped end"),r.decoder&&!r.ended){var s=r.decoder.end();s&&s.length&&e.push(s)}e.push(null)}),t.on("data",function(s){if(Mr("wrapped data"),r.decoder&&(s=r.decoder.write(s)),!(r.objectMode&&s==null)&&!(!r.objectMode&&(!s||!s.length))){var c=e.push(s);c||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=function(c){return function(){return t[c].apply(t,arguments)}}(i));for(var o=0;o<Qq.length;o++)t.on(Qq[o],this.emit.bind(this,Qq[o]));return this._read=function(s){Mr("wrapped _read",s),n&&(n=!1,t.resume())},this};typeof Symbol=="function"&&(hn.prototype[Symbol.asyncIterator]=function(){return Yq===void 0&&(Yq=vde()),Yq(this)});Object.defineProperty(hn.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(hn.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(hn.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});hn._fromList=kde;Object.defineProperty(hn.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function kde(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function Xq(t){var e=t._readableState;Mr("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(cWe,e,t))}function cWe(t,e){if(Mr("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(hn.from=function(t,e){return Zq===void 0&&(Zq=wde()),Zq(hn,t,e)});function Pde(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}});var nK=V((kHt,Cde)=>{"use strict";d();h();Cde.exports=a0;var NM=Nb().codes,uWe=NM.ERR_METHOD_NOT_IMPLEMENTED,fWe=NM.ERR_MULTIPLE_CALLBACK,lWe=NM.ERR_TRANSFORM_ALREADY_TRANSFORMING,dWe=NM.ERR_TRANSFORM_WITH_LENGTH_0,DM=Db();Xt()(a0,DM);function hWe(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new fWe);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function a0(t){if(!(this instanceof a0))return new a0(t);DM.call(this,t),this._transformState={afterTransform:hWe.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",pWe)}function pWe(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){Rde(t,e,r)}):Rde(this,null,null)}a0.prototype.push=function(t,e){return this._transformState.needTransform=!1,DM.prototype.push.call(this,t,e)};a0.prototype._transform=function(t,e,r){r(new uWe("_transform()"))};a0.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};a0.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};a0.prototype._destroy=function(t,e){DM.prototype._destroy.call(this,t,function(r){e(r)})};function Rde(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new dWe;if(t._transformState.transforming)throw new lWe;return t.push(null)}});var Dde=V((RHt,Nde)=>{"use strict";d();h();Nde.exports=q3;var Ode=nK();Xt()(q3,Ode);function q3(t){if(!(this instanceof q3))return new q3(t);Ode.call(this,t)}q3.prototype._transform=function(t,e,r){r(null,t)}});var qde=V((NHt,Vde)=>{"use strict";d();h();var iK;function mWe(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var Fde=Nb().codes,yWe=Fde.ERR_MISSING_ARGS,gWe=Fde.ERR_STREAM_DESTROYED;function Ude(t){if(t)throw t}function bWe(t){return t.setHeader&&typeof t.abort=="function"}function vWe(t,e,r,n){n=mWe(n);var i=!1;t.on("close",function(){i=!0}),iK===void 0&&(iK=kM()),iK(t,{readable:e,writable:r},function(s){if(s)return n(s);i=!0,n()});var o=!1;return function(s){if(!i&&!o){if(o=!0,bWe(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(s||new gWe("pipe"))}}}function Lde(t){t()}function xWe(t,e){return t.pipe(e)}function wWe(t){return!t.length||typeof t[t.length-1]!="function"?Ude:t.pop()}function SWe(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=wWe(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new yWe("streams");var i,o=e.map(function(s,c){var l=c<e.length-1,m=c>0;return vWe(s,l,m,function(w){i||(i=w),w&&o.forEach(Lde),!l&&(o.forEach(Lde),n(i))})});return e.reduce(xWe)}Vde.exports=SWe});var Hde=V((rf,Kde)=>{d();h();rf=Kde.exports=Wq();rf.Stream=rf;rf.Readable=rf;rf.Writable=Hq();rf.Duplex=Db();rf.Transform=nK();rf.PassThrough=Dde();rf.finished=kM();rf.pipeline=qde()});var UM=V((VHt,Wde)=>{d();h();var ew=mb(),AWe=Jh();function EWe(t){var e=jde(t),r=e.toRed(ew.mont(t.modulus)).redPow(new ew(t.publicExponent)).fromRed();return{blinder:r,unblinder:e.invm(t.modulus)}}function jde(t){var e=t.modulus.byteLength(),r;do r=new ew(AWe(e));while(r.cmp(t.modulus)>=0||!r.umod(t.prime1)||!r.umod(t.prime2));return r}function zde(t,e){var r=EWe(e),n=e.modulus.byteLength(),i=new ew(t).mul(r.blinder).umod(e.modulus),o=i.toRed(ew.mont(e.prime1)),s=i.toRed(ew.mont(e.prime2)),c=e.coefficient,l=e.prime1,m=e.prime2,w=o.redPow(e.exponent1).fromRed(),b=s.redPow(e.exponent2).fromRed(),E=w.isub(b).imul(c).umod(l).imul(m);return b.iadd(E).imul(r.unblinder).umod(e.modulus).toArrayLike(Buffer,"be",n)}zde.getr=jde;Wde.exports=zde});var Gde=V((HHt,_We)=>{_We.exports={name:"elliptic",version:"6.6.1",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}});var Id=V(($de,oK)=>{d();h();(function(t,e){"use strict";function r(S,a){if(!S)throw new Error(a||"Assertion failed")}function n(S,a){S.super_=a;var f=function(){};f.prototype=a.prototype,S.prototype=new f,S.prototype.constructor=S}function i(S,a,f){if(i.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((a==="le"||a==="be")&&(f=a,a=10),this._init(S||0,a||10,f||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof self<"u"&&typeof self.Buffer<"u"?o=self.Buffer:o=Fp().Buffer}catch{}i.isBN=function(a){return a instanceof i?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===i.wordSize&&Array.isArray(a.words)},i.max=function(a,f){return a.cmp(f)>0?a:f},i.min=function(a,f){return a.cmp(f)<0?a:f},i.prototype._init=function(a,f,p){if(typeof a=="number")return this._initNumber(a,f,p);if(typeof a=="object")return this._initArray(a,f,p);f==="hex"&&(f=16),r(f===(f|0)&&f>=2&&f<=36),a=a.toString().replace(/\s+/g,"");var y=0;a[0]==="-"&&(y++,this.negative=1),y<a.length&&(f===16?this._parseHex(a,y,p):(this._parseBase(a,f,y),p==="le"&&this._initArray(this.toArray(),f,p)))},i.prototype._initNumber=function(a,f,p){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(r(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),f,p)},i.prototype._initArray=function(a,f,p){if(r(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var g,A,_=0;if(p==="be")for(y=a.length-1,g=0;y>=0;y-=3)A=a[y]|a[y-1]<<8|a[y-2]<<16,this.words[g]|=A<<_&67108863,this.words[g+1]=A>>>26-_&67108863,_+=24,_>=26&&(_-=26,g++);else if(p==="le")for(y=0,g=0;y<a.length;y+=3)A=a[y]|a[y+1]<<8|a[y+2]<<16,this.words[g]|=A<<_&67108863,this.words[g+1]=A>>>26-_&67108863,_+=24,_>=26&&(_-=26,g++);return this.strip()};function s(S,a){var f=S.charCodeAt(a);return f>=65&&f<=70?f-55:f>=97&&f<=102?f-87:f-48&15}function c(S,a,f){var p=s(S,f);return f-1>=a&&(p|=s(S,f-1)<<4),p}i.prototype._parseHex=function(a,f,p){this.length=Math.ceil((a.length-f)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var g=0,A=0,_;if(p==="be")for(y=a.length-1;y>=f;y-=2)_=c(a,f,y)<<g,this.words[A]|=_&67108863,g>=18?(g-=18,A+=1,this.words[A]|=_>>>26):g+=8;else{var v=a.length-f;for(y=v%2===0?f+1:f;y<a.length;y+=2)_=c(a,f,y)<<g,this.words[A]|=_&67108863,g>=18?(g-=18,A+=1,this.words[A]|=_>>>26):g+=8}this.strip()};function l(S,a,f,p){for(var y=0,g=Math.min(S.length,f),A=a;A<g;A++){var _=S.charCodeAt(A)-48;y*=p,_>=49?y+=_-49+10:_>=17?y+=_-17+10:y+=_}return y}i.prototype._parseBase=function(a,f,p){this.words=[0],this.length=1;for(var y=0,g=1;g<=67108863;g*=f)y++;y--,g=g/f|0;for(var A=a.length-p,_=A%y,v=Math.min(A,A-_)+p,u=0,x=p;x<v;x+=y)u=l(a,x,x+y,f),this.imuln(g),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(_!==0){var L=1;for(u=l(a,x,a.length,f),x=0;x<_;x++)L*=f;this.imuln(L),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},i.prototype.copy=function(a){a.words=new Array(this.length);for(var f=0;f<this.length;f++)a.words[f]=this.words[f];a.length=this.length,a.negative=this.negative,a.red=this.red},i.prototype.clone=function(){var a=new i(null);return this.copy(a),a},i.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],w=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(a,f){a=a||10,f=f|0||1;var p;if(a===16||a==="hex"){p="";for(var y=0,g=0,A=0;A<this.length;A++){var _=this.words[A],v=((_<<y|g)&16777215).toString(16);g=_>>>24-y&16777215,g!==0||A!==this.length-1?p=m[6-v.length]+v+p:p=v+p,y+=2,y>=26&&(y-=26,A--)}for(g!==0&&(p=g.toString(16)+p);p.length%f!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(a===(a|0)&&a>=2&&a<=36){var u=w[a],x=b[a];p="";var L=this.clone();for(L.negative=0;!L.isZero();){var D=L.modn(x).toString(a);L=L.idivn(x),L.isZero()?p=D+p:p=m[u-D.length]+D+p}for(this.isZero()&&(p="0"+p);p.length%f!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(a,f){return r(typeof o<"u"),this.toArrayLike(o,a,f)},i.prototype.toArray=function(a,f){return this.toArrayLike(Array,a,f)},i.prototype.toArrayLike=function(a,f,p){var y=this.byteLength(),g=p||Math.max(1,y);r(y<=g,"byte array longer than desired length"),r(g>0,"Requested array length <= 0"),this.strip();var A=f==="le",_=new a(g),v,u,x=this.clone();if(A){for(u=0;!x.isZero();u++)v=x.andln(255),x.iushrn(8),_[u]=v;for(;u<g;u++)_[u]=0}else{for(u=0;u<g-y;u++)_[u]=0;for(u=0;!x.isZero();u++)v=x.andln(255),x.iushrn(8),_[g-u-1]=v}return _},Math.clz32?i.prototype._countBits=function(a){return 32-Math.clz32(a)}:i.prototype._countBits=function(a){var f=a,p=0;return f>=4096&&(p+=13,f>>>=13),f>=64&&(p+=7,f>>>=7),f>=8&&(p+=4,f>>>=4),f>=2&&(p+=2,f>>>=2),p+f},i.prototype._zeroBits=function(a){if(a===0)return 26;var f=a,p=0;return f&8191||(p+=13,f>>>=13),f&127||(p+=7,f>>>=7),f&15||(p+=4,f>>>=4),f&3||(p+=2,f>>>=2),f&1||p++,p},i.prototype.bitLength=function(){var a=this.words[this.length-1],f=this._countBits(a);return(this.length-1)*26+f};function E(S){for(var a=new Array(S.bitLength()),f=0;f<a.length;f++){var p=f/26|0,y=f%26;a[f]=(S.words[p]&1<<y)>>>y}return a}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,f=0;f<this.length;f++){var p=this._zeroBits(this.words[f]);if(a+=p,p!==26)break}return a},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},i.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var f=0;f<a.length;f++)this.words[f]=this.words[f]|a.words[f];return this.strip()},i.prototype.ior=function(a){return r((this.negative|a.negative)===0),this.iuor(a)},i.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},i.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},i.prototype.iuand=function(a){var f;this.length>a.length?f=a:f=this;for(var p=0;p<f.length;p++)this.words[p]=this.words[p]&a.words[p];return this.length=f.length,this.strip()},i.prototype.iand=function(a){return r((this.negative|a.negative)===0),this.iuand(a)},i.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},i.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},i.prototype.iuxor=function(a){var f,p;this.length>a.length?(f=this,p=a):(f=a,p=this);for(var y=0;y<p.length;y++)this.words[y]=f.words[y]^p.words[y];if(this!==f)for(;y<f.length;y++)this.words[y]=f.words[y];return this.length=f.length,this.strip()},i.prototype.ixor=function(a){return r((this.negative|a.negative)===0),this.iuxor(a)},i.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},i.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},i.prototype.inotn=function(a){r(typeof a=="number"&&a>=0);var f=Math.ceil(a/26)|0,p=a%26;this._expand(f),p>0&&f--;for(var y=0;y<f;y++)this.words[y]=~this.words[y]&67108863;return p>0&&(this.words[y]=~this.words[y]&67108863>>26-p),this.strip()},i.prototype.notn=function(a){return this.clone().inotn(a)},i.prototype.setn=function(a,f){r(typeof a=="number"&&a>=0);var p=a/26|0,y=a%26;return this._expand(p+1),f?this.words[p]=this.words[p]|1<<y:this.words[p]=this.words[p]&~(1<<y),this.strip()},i.prototype.iadd=function(a){var f;if(this.negative!==0&&a.negative===0)return this.negative=0,f=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,f=this.isub(a),a.negative=1,f._normSign();var p,y;this.length>a.length?(p=this,y=a):(p=a,y=this);for(var g=0,A=0;A<y.length;A++)f=(p.words[A]|0)+(y.words[A]|0)+g,this.words[A]=f&67108863,g=f>>>26;for(;g!==0&&A<p.length;A++)f=(p.words[A]|0)+g,this.words[A]=f&67108863,g=f>>>26;if(this.length=p.length,g!==0)this.words[this.length]=g,this.length++;else if(p!==this)for(;A<p.length;A++)this.words[A]=p.words[A];return this},i.prototype.add=function(a){var f;return a.negative!==0&&this.negative===0?(a.negative=0,f=this.sub(a),a.negative^=1,f):a.negative===0&&this.negative!==0?(this.negative=0,f=a.sub(this),this.negative=1,f):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},i.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var f=this.iadd(a);return a.negative=1,f._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var p=this.cmp(a);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var y,g;p>0?(y=this,g=a):(y=a,g=this);for(var A=0,_=0;_<g.length;_++)f=(y.words[_]|0)-(g.words[_]|0)+A,A=f>>26,this.words[_]=f&67108863;for(;A!==0&&_<y.length;_++)f=(y.words[_]|0)+A,A=f>>26,this.words[_]=f&67108863;if(A===0&&_<y.length&&y!==this)for(;_<y.length;_++)this.words[_]=y.words[_];return this.length=Math.max(this.length,_),y!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(a){return this.clone().isub(a)};function I(S,a,f){f.negative=a.negative^S.negative;var p=S.length+a.length|0;f.length=p,p=p-1|0;var y=S.words[0]|0,g=a.words[0]|0,A=y*g,_=A&67108863,v=A/67108864|0;f.words[0]=_;for(var u=1;u<p;u++){for(var x=v>>>26,L=v&67108863,D=Math.min(u,a.length-1),C=Math.max(0,u-S.length+1);C<=D;C++){var z=u-C|0;y=S.words[z]|0,g=a.words[C]|0,A=y*g+L,x+=A/67108864|0,L=A&67108863}f.words[u]=L|0,v=x|0}return v!==0?f.words[u]=v|0:f.length--,f.strip()}var M=function(a,f,p){var y=a.words,g=f.words,A=p.words,_=0,v,u,x,L=y[0]|0,D=L&8191,C=L>>>13,z=y[1]|0,ee=z&8191,ne=z>>>13,Ke=y[2]|0,ae=Ke&8191,W=Ke>>>13,he=y[3]|0,te=he&8191,ce=he>>>13,Ze=y[4]|0,se=Ze&8191,le=Ze>>>13,Bt=y[5]|0,ge=Bt&8191,ye=Bt>>>13,$r=y[6]|0,Ie=$r&8191,we=$r>>>13,gn=y[7]|0,ve=gn&8191,Be=gn>>>13,In=y[8]|0,Re=In&8191,Ce=In>>>13,Rn=y[9]|0,De=Rn&8191,Me=Rn>>>13,Mn=g[0]|0,_e=Mn&8191,Se=Mn>>>13,en=g[1]|0,Ae=en&8191,Te=en>>>13,un=g[2]|0,Ee=un&8191,ke=un>>>13,Cn=g[3]|0,Ue=Cn&8191,Le=Cn>>>13,Or=g[4]|0,be=Or&8191,xe=Or>>>13,kn=g[5]|0,Pe=kn&8191,Oe=kn>>>13,Ln=g[6]|0,me=Ln&8191,Ne=Ln>>>13,Y=g[7]|0,j=Y&8191,H=Y>>>13,O=g[8]|0,Z=O&8191,X=O>>>13,pe=g[9]|0,oe=pe&8191,ue=pe>>>13;p.negative=a.negative^f.negative,p.length=19,v=Math.imul(D,_e),u=Math.imul(D,Se),u=u+Math.imul(C,_e)|0,x=Math.imul(C,Se);var at=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(at>>>26)|0,at&=67108863,v=Math.imul(ee,_e),u=Math.imul(ee,Se),u=u+Math.imul(ne,_e)|0,x=Math.imul(ne,Se),v=v+Math.imul(D,Ae)|0,u=u+Math.imul(D,Te)|0,u=u+Math.imul(C,Ae)|0,x=x+Math.imul(C,Te)|0;var Je=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(Je>>>26)|0,Je&=67108863,v=Math.imul(ae,_e),u=Math.imul(ae,Se),u=u+Math.imul(W,_e)|0,x=Math.imul(W,Se),v=v+Math.imul(ee,Ae)|0,u=u+Math.imul(ee,Te)|0,u=u+Math.imul(ne,Ae)|0,x=x+Math.imul(ne,Te)|0,v=v+Math.imul(D,Ee)|0,u=u+Math.imul(D,ke)|0,u=u+Math.imul(C,Ee)|0,x=x+Math.imul(C,ke)|0;var At=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(At>>>26)|0,At&=67108863,v=Math.imul(te,_e),u=Math.imul(te,Se),u=u+Math.imul(ce,_e)|0,x=Math.imul(ce,Se),v=v+Math.imul(ae,Ae)|0,u=u+Math.imul(ae,Te)|0,u=u+Math.imul(W,Ae)|0,x=x+Math.imul(W,Te)|0,v=v+Math.imul(ee,Ee)|0,u=u+Math.imul(ee,ke)|0,u=u+Math.imul(ne,Ee)|0,x=x+Math.imul(ne,ke)|0,v=v+Math.imul(D,Ue)|0,u=u+Math.imul(D,Le)|0,u=u+Math.imul(C,Ue)|0,x=x+Math.imul(C,Le)|0;var tt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(tt>>>26)|0,tt&=67108863,v=Math.imul(se,_e),u=Math.imul(se,Se),u=u+Math.imul(le,_e)|0,x=Math.imul(le,Se),v=v+Math.imul(te,Ae)|0,u=u+Math.imul(te,Te)|0,u=u+Math.imul(ce,Ae)|0,x=x+Math.imul(ce,Te)|0,v=v+Math.imul(ae,Ee)|0,u=u+Math.imul(ae,ke)|0,u=u+Math.imul(W,Ee)|0,x=x+Math.imul(W,ke)|0,v=v+Math.imul(ee,Ue)|0,u=u+Math.imul(ee,Le)|0,u=u+Math.imul(ne,Ue)|0,x=x+Math.imul(ne,Le)|0,v=v+Math.imul(D,be)|0,u=u+Math.imul(D,xe)|0,u=u+Math.imul(C,be)|0,x=x+Math.imul(C,xe)|0;var dt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(dt>>>26)|0,dt&=67108863,v=Math.imul(ge,_e),u=Math.imul(ge,Se),u=u+Math.imul(ye,_e)|0,x=Math.imul(ye,Se),v=v+Math.imul(se,Ae)|0,u=u+Math.imul(se,Te)|0,u=u+Math.imul(le,Ae)|0,x=x+Math.imul(le,Te)|0,v=v+Math.imul(te,Ee)|0,u=u+Math.imul(te,ke)|0,u=u+Math.imul(ce,Ee)|0,x=x+Math.imul(ce,ke)|0,v=v+Math.imul(ae,Ue)|0,u=u+Math.imul(ae,Le)|0,u=u+Math.imul(W,Ue)|0,x=x+Math.imul(W,Le)|0,v=v+Math.imul(ee,be)|0,u=u+Math.imul(ee,xe)|0,u=u+Math.imul(ne,be)|0,x=x+Math.imul(ne,xe)|0,v=v+Math.imul(D,Pe)|0,u=u+Math.imul(D,Oe)|0,u=u+Math.imul(C,Pe)|0,x=x+Math.imul(C,Oe)|0;var ht=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(ht>>>26)|0,ht&=67108863,v=Math.imul(Ie,_e),u=Math.imul(Ie,Se),u=u+Math.imul(we,_e)|0,x=Math.imul(we,Se),v=v+Math.imul(ge,Ae)|0,u=u+Math.imul(ge,Te)|0,u=u+Math.imul(ye,Ae)|0,x=x+Math.imul(ye,Te)|0,v=v+Math.imul(se,Ee)|0,u=u+Math.imul(se,ke)|0,u=u+Math.imul(le,Ee)|0,x=x+Math.imul(le,ke)|0,v=v+Math.imul(te,Ue)|0,u=u+Math.imul(te,Le)|0,u=u+Math.imul(ce,Ue)|0,x=x+Math.imul(ce,Le)|0,v=v+Math.imul(ae,be)|0,u=u+Math.imul(ae,xe)|0,u=u+Math.imul(W,be)|0,x=x+Math.imul(W,xe)|0,v=v+Math.imul(ee,Pe)|0,u=u+Math.imul(ee,Oe)|0,u=u+Math.imul(ne,Pe)|0,x=x+Math.imul(ne,Oe)|0,v=v+Math.imul(D,me)|0,u=u+Math.imul(D,Ne)|0,u=u+Math.imul(C,me)|0,x=x+Math.imul(C,Ne)|0;var bt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(bt>>>26)|0,bt&=67108863,v=Math.imul(ve,_e),u=Math.imul(ve,Se),u=u+Math.imul(Be,_e)|0,x=Math.imul(Be,Se),v=v+Math.imul(Ie,Ae)|0,u=u+Math.imul(Ie,Te)|0,u=u+Math.imul(we,Ae)|0,x=x+Math.imul(we,Te)|0,v=v+Math.imul(ge,Ee)|0,u=u+Math.imul(ge,ke)|0,u=u+Math.imul(ye,Ee)|0,x=x+Math.imul(ye,ke)|0,v=v+Math.imul(se,Ue)|0,u=u+Math.imul(se,Le)|0,u=u+Math.imul(le,Ue)|0,x=x+Math.imul(le,Le)|0,v=v+Math.imul(te,be)|0,u=u+Math.imul(te,xe)|0,u=u+Math.imul(ce,be)|0,x=x+Math.imul(ce,xe)|0,v=v+Math.imul(ae,Pe)|0,u=u+Math.imul(ae,Oe)|0,u=u+Math.imul(W,Pe)|0,x=x+Math.imul(W,Oe)|0,v=v+Math.imul(ee,me)|0,u=u+Math.imul(ee,Ne)|0,u=u+Math.imul(ne,me)|0,x=x+Math.imul(ne,Ne)|0,v=v+Math.imul(D,j)|0,u=u+Math.imul(D,H)|0,u=u+Math.imul(C,j)|0,x=x+Math.imul(C,H)|0;var gt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(gt>>>26)|0,gt&=67108863,v=Math.imul(Re,_e),u=Math.imul(Re,Se),u=u+Math.imul(Ce,_e)|0,x=Math.imul(Ce,Se),v=v+Math.imul(ve,Ae)|0,u=u+Math.imul(ve,Te)|0,u=u+Math.imul(Be,Ae)|0,x=x+Math.imul(Be,Te)|0,v=v+Math.imul(Ie,Ee)|0,u=u+Math.imul(Ie,ke)|0,u=u+Math.imul(we,Ee)|0,x=x+Math.imul(we,ke)|0,v=v+Math.imul(ge,Ue)|0,u=u+Math.imul(ge,Le)|0,u=u+Math.imul(ye,Ue)|0,x=x+Math.imul(ye,Le)|0,v=v+Math.imul(se,be)|0,u=u+Math.imul(se,xe)|0,u=u+Math.imul(le,be)|0,x=x+Math.imul(le,xe)|0,v=v+Math.imul(te,Pe)|0,u=u+Math.imul(te,Oe)|0,u=u+Math.imul(ce,Pe)|0,x=x+Math.imul(ce,Oe)|0,v=v+Math.imul(ae,me)|0,u=u+Math.imul(ae,Ne)|0,u=u+Math.imul(W,me)|0,x=x+Math.imul(W,Ne)|0,v=v+Math.imul(ee,j)|0,u=u+Math.imul(ee,H)|0,u=u+Math.imul(ne,j)|0,x=x+Math.imul(ne,H)|0,v=v+Math.imul(D,Z)|0,u=u+Math.imul(D,X)|0,u=u+Math.imul(C,Z)|0,x=x+Math.imul(C,X)|0;var pt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(pt>>>26)|0,pt&=67108863,v=Math.imul(De,_e),u=Math.imul(De,Se),u=u+Math.imul(Me,_e)|0,x=Math.imul(Me,Se),v=v+Math.imul(Re,Ae)|0,u=u+Math.imul(Re,Te)|0,u=u+Math.imul(Ce,Ae)|0,x=x+Math.imul(Ce,Te)|0,v=v+Math.imul(ve,Ee)|0,u=u+Math.imul(ve,ke)|0,u=u+Math.imul(Be,Ee)|0,x=x+Math.imul(Be,ke)|0,v=v+Math.imul(Ie,Ue)|0,u=u+Math.imul(Ie,Le)|0,u=u+Math.imul(we,Ue)|0,x=x+Math.imul(we,Le)|0,v=v+Math.imul(ge,be)|0,u=u+Math.imul(ge,xe)|0,u=u+Math.imul(ye,be)|0,x=x+Math.imul(ye,xe)|0,v=v+Math.imul(se,Pe)|0,u=u+Math.imul(se,Oe)|0,u=u+Math.imul(le,Pe)|0,x=x+Math.imul(le,Oe)|0,v=v+Math.imul(te,me)|0,u=u+Math.imul(te,Ne)|0,u=u+Math.imul(ce,me)|0,x=x+Math.imul(ce,Ne)|0,v=v+Math.imul(ae,j)|0,u=u+Math.imul(ae,H)|0,u=u+Math.imul(W,j)|0,x=x+Math.imul(W,H)|0,v=v+Math.imul(ee,Z)|0,u=u+Math.imul(ee,X)|0,u=u+Math.imul(ne,Z)|0,x=x+Math.imul(ne,X)|0,v=v+Math.imul(D,oe)|0,u=u+Math.imul(D,ue)|0,u=u+Math.imul(C,oe)|0,x=x+Math.imul(C,ue)|0;var yt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(yt>>>26)|0,yt&=67108863,v=Math.imul(De,Ae),u=Math.imul(De,Te),u=u+Math.imul(Me,Ae)|0,x=Math.imul(Me,Te),v=v+Math.imul(Re,Ee)|0,u=u+Math.imul(Re,ke)|0,u=u+Math.imul(Ce,Ee)|0,x=x+Math.imul(Ce,ke)|0,v=v+Math.imul(ve,Ue)|0,u=u+Math.imul(ve,Le)|0,u=u+Math.imul(Be,Ue)|0,x=x+Math.imul(Be,Le)|0,v=v+Math.imul(Ie,be)|0,u=u+Math.imul(Ie,xe)|0,u=u+Math.imul(we,be)|0,x=x+Math.imul(we,xe)|0,v=v+Math.imul(ge,Pe)|0,u=u+Math.imul(ge,Oe)|0,u=u+Math.imul(ye,Pe)|0,x=x+Math.imul(ye,Oe)|0,v=v+Math.imul(se,me)|0,u=u+Math.imul(se,Ne)|0,u=u+Math.imul(le,me)|0,x=x+Math.imul(le,Ne)|0,v=v+Math.imul(te,j)|0,u=u+Math.imul(te,H)|0,u=u+Math.imul(ce,j)|0,x=x+Math.imul(ce,H)|0,v=v+Math.imul(ae,Z)|0,u=u+Math.imul(ae,X)|0,u=u+Math.imul(W,Z)|0,x=x+Math.imul(W,X)|0,v=v+Math.imul(ee,oe)|0,u=u+Math.imul(ee,ue)|0,u=u+Math.imul(ne,oe)|0,x=x+Math.imul(ne,ue)|0;var mt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(mt>>>26)|0,mt&=67108863,v=Math.imul(De,Ee),u=Math.imul(De,ke),u=u+Math.imul(Me,Ee)|0,x=Math.imul(Me,ke),v=v+Math.imul(Re,Ue)|0,u=u+Math.imul(Re,Le)|0,u=u+Math.imul(Ce,Ue)|0,x=x+Math.imul(Ce,Le)|0,v=v+Math.imul(ve,be)|0,u=u+Math.imul(ve,xe)|0,u=u+Math.imul(Be,be)|0,x=x+Math.imul(Be,xe)|0,v=v+Math.imul(Ie,Pe)|0,u=u+Math.imul(Ie,Oe)|0,u=u+Math.imul(we,Pe)|0,x=x+Math.imul(we,Oe)|0,v=v+Math.imul(ge,me)|0,u=u+Math.imul(ge,Ne)|0,u=u+Math.imul(ye,me)|0,x=x+Math.imul(ye,Ne)|0,v=v+Math.imul(se,j)|0,u=u+Math.imul(se,H)|0,u=u+Math.imul(le,j)|0,x=x+Math.imul(le,H)|0,v=v+Math.imul(te,Z)|0,u=u+Math.imul(te,X)|0,u=u+Math.imul(ce,Z)|0,x=x+Math.imul(ce,X)|0,v=v+Math.imul(ae,oe)|0,u=u+Math.imul(ae,ue)|0,u=u+Math.imul(W,oe)|0,x=x+Math.imul(W,ue)|0;var it=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(it>>>26)|0,it&=67108863,v=Math.imul(De,Ue),u=Math.imul(De,Le),u=u+Math.imul(Me,Ue)|0,x=Math.imul(Me,Le),v=v+Math.imul(Re,be)|0,u=u+Math.imul(Re,xe)|0,u=u+Math.imul(Ce,be)|0,x=x+Math.imul(Ce,xe)|0,v=v+Math.imul(ve,Pe)|0,u=u+Math.imul(ve,Oe)|0,u=u+Math.imul(Be,Pe)|0,x=x+Math.imul(Be,Oe)|0,v=v+Math.imul(Ie,me)|0,u=u+Math.imul(Ie,Ne)|0,u=u+Math.imul(we,me)|0,x=x+Math.imul(we,Ne)|0,v=v+Math.imul(ge,j)|0,u=u+Math.imul(ge,H)|0,u=u+Math.imul(ye,j)|0,x=x+Math.imul(ye,H)|0,v=v+Math.imul(se,Z)|0,u=u+Math.imul(se,X)|0,u=u+Math.imul(le,Z)|0,x=x+Math.imul(le,X)|0,v=v+Math.imul(te,oe)|0,u=u+Math.imul(te,ue)|0,u=u+Math.imul(ce,oe)|0,x=x+Math.imul(ce,ue)|0;var ut=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(ut>>>26)|0,ut&=67108863,v=Math.imul(De,be),u=Math.imul(De,xe),u=u+Math.imul(Me,be)|0,x=Math.imul(Me,xe),v=v+Math.imul(Re,Pe)|0,u=u+Math.imul(Re,Oe)|0,u=u+Math.imul(Ce,Pe)|0,x=x+Math.imul(Ce,Oe)|0,v=v+Math.imul(ve,me)|0,u=u+Math.imul(ve,Ne)|0,u=u+Math.imul(Be,me)|0,x=x+Math.imul(Be,Ne)|0,v=v+Math.imul(Ie,j)|0,u=u+Math.imul(Ie,H)|0,u=u+Math.imul(we,j)|0,x=x+Math.imul(we,H)|0,v=v+Math.imul(ge,Z)|0,u=u+Math.imul(ge,X)|0,u=u+Math.imul(ye,Z)|0,x=x+Math.imul(ye,X)|0,v=v+Math.imul(se,oe)|0,u=u+Math.imul(se,ue)|0,u=u+Math.imul(le,oe)|0,x=x+Math.imul(le,ue)|0;var Xe=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,v=Math.imul(De,Pe),u=Math.imul(De,Oe),u=u+Math.imul(Me,Pe)|0,x=Math.imul(Me,Oe),v=v+Math.imul(Re,me)|0,u=u+Math.imul(Re,Ne)|0,u=u+Math.imul(Ce,me)|0,x=x+Math.imul(Ce,Ne)|0,v=v+Math.imul(ve,j)|0,u=u+Math.imul(ve,H)|0,u=u+Math.imul(Be,j)|0,x=x+Math.imul(Be,H)|0,v=v+Math.imul(Ie,Z)|0,u=u+Math.imul(Ie,X)|0,u=u+Math.imul(we,Z)|0,x=x+Math.imul(we,X)|0,v=v+Math.imul(ge,oe)|0,u=u+Math.imul(ge,ue)|0,u=u+Math.imul(ye,oe)|0,x=x+Math.imul(ye,ue)|0;var ot=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(ot>>>26)|0,ot&=67108863,v=Math.imul(De,me),u=Math.imul(De,Ne),u=u+Math.imul(Me,me)|0,x=Math.imul(Me,Ne),v=v+Math.imul(Re,j)|0,u=u+Math.imul(Re,H)|0,u=u+Math.imul(Ce,j)|0,x=x+Math.imul(Ce,H)|0,v=v+Math.imul(ve,Z)|0,u=u+Math.imul(ve,X)|0,u=u+Math.imul(Be,Z)|0,x=x+Math.imul(Be,X)|0,v=v+Math.imul(Ie,oe)|0,u=u+Math.imul(Ie,ue)|0,u=u+Math.imul(we,oe)|0,x=x+Math.imul(we,ue)|0;var st=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(st>>>26)|0,st&=67108863,v=Math.imul(De,j),u=Math.imul(De,H),u=u+Math.imul(Me,j)|0,x=Math.imul(Me,H),v=v+Math.imul(Re,Z)|0,u=u+Math.imul(Re,X)|0,u=u+Math.imul(Ce,Z)|0,x=x+Math.imul(Ce,X)|0,v=v+Math.imul(ve,oe)|0,u=u+Math.imul(ve,ue)|0,u=u+Math.imul(Be,oe)|0,x=x+Math.imul(Be,ue)|0;var Qe=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,v=Math.imul(De,Z),u=Math.imul(De,X),u=u+Math.imul(Me,Z)|0,x=Math.imul(Me,X),v=v+Math.imul(Re,oe)|0,u=u+Math.imul(Re,ue)|0,u=u+Math.imul(Ce,oe)|0,x=x+Math.imul(Ce,ue)|0;var Fe=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,v=Math.imul(De,oe),u=Math.imul(De,ue),u=u+Math.imul(Me,oe)|0,x=Math.imul(Me,ue);var Ve=(_+v|0)+((u&8191)<<13)|0;return _=(x+(u>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,A[0]=at,A[1]=Je,A[2]=At,A[3]=tt,A[4]=dt,A[5]=ht,A[6]=bt,A[7]=gt,A[8]=pt,A[9]=yt,A[10]=mt,A[11]=it,A[12]=ut,A[13]=Xe,A[14]=ot,A[15]=st,A[16]=Qe,A[17]=Fe,A[18]=Ve,_!==0&&(A[19]=_,p.length++),p};Math.imul||(M=I);function k(S,a,f){f.negative=a.negative^S.negative,f.length=S.length+a.length;for(var p=0,y=0,g=0;g<f.length-1;g++){var A=y;y=0;for(var _=p&67108863,v=Math.min(g,a.length-1),u=Math.max(0,g-S.length+1);u<=v;u++){var x=g-u,L=S.words[x]|0,D=a.words[u]|0,C=L*D,z=C&67108863;A=A+(C/67108864|0)|0,z=z+_|0,_=z&67108863,A=A+(z>>>26)|0,y+=A>>>26,A&=67108863}f.words[g]=_,p=A,A=y}return p!==0?f.words[g]=p:f.length--,f.strip()}function R(S,a,f){var p=new B;return p.mulp(S,a,f)}i.prototype.mulTo=function(a,f){var p,y=this.length+a.length;return this.length===10&&a.length===10?p=M(this,a,f):y<63?p=I(this,a,f):y<1024?p=k(this,a,f):p=R(this,a,f),p};function B(S,a){this.x=S,this.y=a}B.prototype.makeRBT=function(a){for(var f=new Array(a),p=i.prototype._countBits(a)-1,y=0;y<a;y++)f[y]=this.revBin(y,p,a);return f},B.prototype.revBin=function(a,f,p){if(a===0||a===p-1)return a;for(var y=0,g=0;g<f;g++)y|=(a&1)<<f-g-1,a>>=1;return y},B.prototype.permute=function(a,f,p,y,g,A){for(var _=0;_<A;_++)y[_]=f[a[_]],g[_]=p[a[_]]},B.prototype.transform=function(a,f,p,y,g,A){this.permute(A,a,f,p,y,g);for(var _=1;_<g;_<<=1)for(var v=_<<1,u=Math.cos(2*Math.PI/v),x=Math.sin(2*Math.PI/v),L=0;L<g;L+=v)for(var D=u,C=x,z=0;z<_;z++){var ee=p[L+z],ne=y[L+z],Ke=p[L+z+_],ae=y[L+z+_],W=D*Ke-C*ae;ae=D*ae+C*Ke,Ke=W,p[L+z]=ee+Ke,y[L+z]=ne+ae,p[L+z+_]=ee-Ke,y[L+z+_]=ne-ae,z!==v&&(W=u*D-x*C,C=u*C+x*D,D=W)}},B.prototype.guessLen13b=function(a,f){var p=Math.max(f,a)|1,y=p&1,g=0;for(p=p/2|0;p;p=p>>>1)g++;return 1<<g+1+y},B.prototype.conjugate=function(a,f,p){if(!(p<=1))for(var y=0;y<p/2;y++){var g=a[y];a[y]=a[p-y-1],a[p-y-1]=g,g=f[y],f[y]=-f[p-y-1],f[p-y-1]=-g}},B.prototype.normalize13b=function(a,f){for(var p=0,y=0;y<f/2;y++){var g=Math.round(a[2*y+1]/f)*8192+Math.round(a[2*y]/f)+p;a[y]=g&67108863,g<67108864?p=0:p=g/67108864|0}return a},B.prototype.convert13b=function(a,f,p,y){for(var g=0,A=0;A<f;A++)g=g+(a[A]|0),p[2*A]=g&8191,g=g>>>13,p[2*A+1]=g&8191,g=g>>>13;for(A=2*f;A<y;++A)p[A]=0;r(g===0),r((g&-8192)===0)},B.prototype.stub=function(a){for(var f=new Array(a),p=0;p<a;p++)f[p]=0;return f},B.prototype.mulp=function(a,f,p){var y=2*this.guessLen13b(a.length,f.length),g=this.makeRBT(y),A=this.stub(y),_=new Array(y),v=new Array(y),u=new Array(y),x=new Array(y),L=new Array(y),D=new Array(y),C=p.words;C.length=y,this.convert13b(a.words,a.length,_,y),this.convert13b(f.words,f.length,x,y),this.transform(_,A,v,u,y,g),this.transform(x,A,L,D,y,g);for(var z=0;z<y;z++){var ee=v[z]*L[z]-u[z]*D[z];u[z]=v[z]*D[z]+u[z]*L[z],v[z]=ee}return this.conjugate(v,u,y),this.transform(v,u,C,A,y,g),this.conjugate(C,A,y),this.normalize13b(C,y),p.negative=a.negative^f.negative,p.length=a.length+f.length,p.strip()},i.prototype.mul=function(a){var f=new i(null);return f.words=new Array(this.length+a.length),this.mulTo(a,f)},i.prototype.mulf=function(a){var f=new i(null);return f.words=new Array(this.length+a.length),R(this,a,f)},i.prototype.imul=function(a){return this.clone().mulTo(a,this)},i.prototype.imuln=function(a){r(typeof a=="number"),r(a<67108864);for(var f=0,p=0;p<this.length;p++){var y=(this.words[p]|0)*a,g=(y&67108863)+(f&67108863);f>>=26,f+=y/67108864|0,f+=g>>>26,this.words[p]=g&67108863}return f!==0&&(this.words[p]=f,this.length++),this},i.prototype.muln=function(a){return this.clone().imuln(a)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(a){var f=E(a);if(f.length===0)return new i(1);for(var p=this,y=0;y<f.length&&f[y]===0;y++,p=p.sqr());if(++y<f.length)for(var g=p.sqr();y<f.length;y++,g=g.sqr())f[y]!==0&&(p=p.mul(g));return p},i.prototype.iushln=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26,y=67108863>>>26-f<<26-f,g;if(f!==0){var A=0;for(g=0;g<this.length;g++){var _=this.words[g]&y,v=(this.words[g]|0)-_<<f;this.words[g]=v|A,A=_>>>26-f}A&&(this.words[g]=A,this.length++)}if(p!==0){for(g=this.length-1;g>=0;g--)this.words[g+p]=this.words[g];for(g=0;g<p;g++)this.words[g]=0;this.length+=p}return this.strip()},i.prototype.ishln=function(a){return r(this.negative===0),this.iushln(a)},i.prototype.iushrn=function(a,f,p){r(typeof a=="number"&&a>=0);var y;f?y=(f-f%26)/26:y=0;var g=a%26,A=Math.min((a-g)/26,this.length),_=67108863^67108863>>>g<<g,v=p;if(y-=A,y=Math.max(0,y),v){for(var u=0;u<A;u++)v.words[u]=this.words[u];v.length=A}if(A!==0)if(this.length>A)for(this.length-=A,u=0;u<this.length;u++)this.words[u]=this.words[u+A];else this.words[0]=0,this.length=1;var x=0;for(u=this.length-1;u>=0&&(x!==0||u>=y);u--){var L=this.words[u]|0;this.words[u]=x<<26-g|L>>>g,x=L&_}return v&&x!==0&&(v.words[v.length++]=x),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(a,f,p){return r(this.negative===0),this.iushrn(a,f,p)},i.prototype.shln=function(a){return this.clone().ishln(a)},i.prototype.ushln=function(a){return this.clone().iushln(a)},i.prototype.shrn=function(a){return this.clone().ishrn(a)},i.prototype.ushrn=function(a){return this.clone().iushrn(a)},i.prototype.testn=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26,y=1<<f;if(this.length<=p)return!1;var g=this.words[p];return!!(g&y)},i.prototype.imaskn=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(f!==0&&p++,this.length=Math.min(p,this.length),f!==0){var y=67108863^67108863>>>f<<f;this.words[this.length-1]&=y}return this.strip()},i.prototype.maskn=function(a){return this.clone().imaskn(a)},i.prototype.iaddn=function(a){return r(typeof a=="number"),r(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},i.prototype._iaddn=function(a){this.words[0]+=a;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)this.words[f]-=67108864,f===this.length-1?this.words[f+1]=1:this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},i.prototype.isubn=function(a){if(r(typeof a=="number"),r(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this.strip()},i.prototype.addn=function(a){return this.clone().iaddn(a)},i.prototype.subn=function(a){return this.clone().isubn(a)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(a,f,p){var y=a.length+p,g;this._expand(y);var A,_=0;for(g=0;g<a.length;g++){A=(this.words[g+p]|0)+_;var v=(a.words[g]|0)*f;A-=v&67108863,_=(A>>26)-(v/67108864|0),this.words[g+p]=A&67108863}for(;g<this.length-p;g++)A=(this.words[g+p]|0)+_,_=A>>26,this.words[g+p]=A&67108863;if(_===0)return this.strip();for(r(_===-1),_=0,g=0;g<this.length;g++)A=-(this.words[g]|0)+_,_=A>>26,this.words[g]=A&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(a,f){var p=this.length-a.length,y=this.clone(),g=a,A=g.words[g.length-1]|0,_=this._countBits(A);p=26-_,p!==0&&(g=g.ushln(p),y.iushln(p),A=g.words[g.length-1]|0);var v=y.length-g.length,u;if(f!=="mod"){u=new i(null),u.length=v+1,u.words=new Array(u.length);for(var x=0;x<u.length;x++)u.words[x]=0}var L=y.clone()._ishlnsubmul(g,1,v);L.negative===0&&(y=L,u&&(u.words[v]=1));for(var D=v-1;D>=0;D--){var C=(y.words[g.length+D]|0)*67108864+(y.words[g.length+D-1]|0);for(C=Math.min(C/A|0,67108863),y._ishlnsubmul(g,C,D);y.negative!==0;)C--,y.negative=0,y._ishlnsubmul(g,1,D),y.isZero()||(y.negative^=1);u&&(u.words[D]=C)}return u&&u.strip(),y.strip(),f!=="div"&&p!==0&&y.iushrn(p),{div:u||null,mod:y}},i.prototype.divmod=function(a,f,p){if(r(!a.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var y,g,A;return this.negative!==0&&a.negative===0?(A=this.neg().divmod(a,f),f!=="mod"&&(y=A.div.neg()),f!=="div"&&(g=A.mod.neg(),p&&g.negative!==0&&g.iadd(a)),{div:y,mod:g}):this.negative===0&&a.negative!==0?(A=this.divmod(a.neg(),f),f!=="mod"&&(y=A.div.neg()),{div:y,mod:A.mod}):this.negative&a.negative?(A=this.neg().divmod(a.neg(),f),f!=="div"&&(g=A.mod.neg(),p&&g.negative!==0&&g.isub(a)),{div:A.div,mod:g}):a.length>this.length||this.cmp(a)<0?{div:new i(0),mod:this}:a.length===1?f==="div"?{div:this.divn(a.words[0]),mod:null}:f==="mod"?{div:null,mod:new i(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new i(this.modn(a.words[0]))}:this._wordDiv(a,f)},i.prototype.div=function(a){return this.divmod(a,"div",!1).div},i.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},i.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},i.prototype.divRound=function(a){var f=this.divmod(a);if(f.mod.isZero())return f.div;var p=f.div.negative!==0?f.mod.isub(a):f.mod,y=a.ushrn(1),g=a.andln(1),A=p.cmp(y);return A<0||g===1&&A===0?f.div:f.div.negative!==0?f.div.isubn(1):f.div.iaddn(1)},i.prototype.modn=function(a){r(a<=67108863);for(var f=(1<<26)%a,p=0,y=this.length-1;y>=0;y--)p=(f*p+(this.words[y]|0))%a;return p},i.prototype.idivn=function(a){r(a<=67108863);for(var f=0,p=this.length-1;p>=0;p--){var y=(this.words[p]|0)+f*67108864;this.words[p]=y/a|0,f=y%a}return this.strip()},i.prototype.divn=function(a){return this.clone().idivn(a)},i.prototype.egcd=function(a){r(a.negative===0),r(!a.isZero());var f=this,p=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var y=new i(1),g=new i(0),A=new i(0),_=new i(1),v=0;f.isEven()&&p.isEven();)f.iushrn(1),p.iushrn(1),++v;for(var u=p.clone(),x=f.clone();!f.isZero();){for(var L=0,D=1;!(f.words[0]&D)&&L<26;++L,D<<=1);if(L>0)for(f.iushrn(L);L-- >0;)(y.isOdd()||g.isOdd())&&(y.iadd(u),g.isub(x)),y.iushrn(1),g.iushrn(1);for(var C=0,z=1;!(p.words[0]&z)&&C<26;++C,z<<=1);if(C>0)for(p.iushrn(C);C-- >0;)(A.isOdd()||_.isOdd())&&(A.iadd(u),_.isub(x)),A.iushrn(1),_.iushrn(1);f.cmp(p)>=0?(f.isub(p),y.isub(A),g.isub(_)):(p.isub(f),A.isub(y),_.isub(g))}return{a:A,b:_,gcd:p.iushln(v)}},i.prototype._invmp=function(a){r(a.negative===0),r(!a.isZero());var f=this,p=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var y=new i(1),g=new i(0),A=p.clone();f.cmpn(1)>0&&p.cmpn(1)>0;){for(var _=0,v=1;!(f.words[0]&v)&&_<26;++_,v<<=1);if(_>0)for(f.iushrn(_);_-- >0;)y.isOdd()&&y.iadd(A),y.iushrn(1);for(var u=0,x=1;!(p.words[0]&x)&&u<26;++u,x<<=1);if(u>0)for(p.iushrn(u);u-- >0;)g.isOdd()&&g.iadd(A),g.iushrn(1);f.cmp(p)>=0?(f.isub(p),y.isub(g)):(p.isub(f),g.isub(y))}var L;return f.cmpn(1)===0?L=y:L=g,L.cmpn(0)<0&&L.iadd(a),L},i.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var f=this.clone(),p=a.clone();f.negative=0,p.negative=0;for(var y=0;f.isEven()&&p.isEven();y++)f.iushrn(1),p.iushrn(1);do{for(;f.isEven();)f.iushrn(1);for(;p.isEven();)p.iushrn(1);var g=f.cmp(p);if(g<0){var A=f;f=p,p=A}else if(g===0||p.cmpn(1)===0)break;f.isub(p)}while(!0);return p.iushln(y)},i.prototype.invm=function(a){return this.egcd(a).a.umod(a)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(a){return this.words[0]&a},i.prototype.bincn=function(a){r(typeof a=="number");var f=a%26,p=(a-f)/26,y=1<<f;if(this.length<=p)return this._expand(p+1),this.words[p]|=y,this;for(var g=y,A=p;g!==0&&A<this.length;A++){var _=this.words[A]|0;_+=g,g=_>>>26,_&=67108863,this.words[A]=_}return g!==0&&(this.words[A]=g,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(a){var f=a<0;if(this.negative!==0&&!f)return-1;if(this.negative===0&&f)return 1;this.strip();var p;if(this.length>1)p=1;else{f&&(a=-a),r(a<=67108863,"Number is too big");var y=this.words[0]|0;p=y===a?0:y<a?-1:1}return this.negative!==0?-p|0:p},i.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var f=this.ucmp(a);return this.negative!==0?-f|0:f},i.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var f=0,p=this.length-1;p>=0;p--){var y=this.words[p]|0,g=a.words[p]|0;if(y!==g){y<g?f=-1:y>g&&(f=1);break}}return f},i.prototype.gtn=function(a){return this.cmpn(a)===1},i.prototype.gt=function(a){return this.cmp(a)===1},i.prototype.gten=function(a){return this.cmpn(a)>=0},i.prototype.gte=function(a){return this.cmp(a)>=0},i.prototype.ltn=function(a){return this.cmpn(a)===-1},i.prototype.lt=function(a){return this.cmp(a)===-1},i.prototype.lten=function(a){return this.cmpn(a)<=0},i.prototype.lte=function(a){return this.cmp(a)<=0},i.prototype.eqn=function(a){return this.cmpn(a)===0},i.prototype.eq=function(a){return this.cmp(a)===0},i.red=function(a){return new Q(a)},i.prototype.toRed=function(a){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(a){return this.red=a,this},i.prototype.forceRed=function(a){return r(!this.red,"Already a number in reduction context"),this._forceRed(a)},i.prototype.redAdd=function(a){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},i.prototype.redIAdd=function(a){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},i.prototype.redSub=function(a){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},i.prototype.redISub=function(a){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},i.prototype.redShl=function(a){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},i.prototype.redMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},i.prototype.redIMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(a){return r(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var U={k256:null,p224:null,p192:null,p25519:null};function P(S,a){this.name=S,this.p=new i(a,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}P.prototype._tmp=function(){var a=new i(null);return a.words=new Array(Math.ceil(this.n/13)),a},P.prototype.ireduce=function(a){var f=a,p;do this.split(f,this.tmp),f=this.imulK(f),f=f.iadd(this.tmp),p=f.bitLength();while(p>this.n);var y=p<this.n?-1:f.ucmp(this.p);return y===0?(f.words[0]=0,f.length=1):y>0?f.isub(this.p):f.strip!==void 0?f.strip():f._strip(),f},P.prototype.split=function(a,f){a.iushrn(this.n,0,f)},P.prototype.imulK=function(a){return a.imul(this.k)};function F(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(F,P),F.prototype.split=function(a,f){for(var p=4194303,y=Math.min(a.length,9),g=0;g<y;g++)f.words[g]=a.words[g];if(f.length=y,a.length<=9){a.words[0]=0,a.length=1;return}var A=a.words[9];for(f.words[f.length++]=A&p,g=10;g<a.length;g++){var _=a.words[g]|0;a.words[g-10]=(_&p)<<4|A>>>22,A=_}A>>>=22,a.words[g-10]=A,A===0&&a.length>10?a.length-=10:a.length-=9},F.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var f=0,p=0;p<a.length;p++){var y=a.words[p]|0;f+=y*977,a.words[p]=f&67108863,f=y*64+(f/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function q(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(q,P);function K(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(K,P);function re(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(re,P),re.prototype.imulK=function(a){for(var f=0,p=0;p<a.length;p++){var y=(a.words[p]|0)*19+f,g=y&67108863;y>>>=26,a.words[p]=g,f=y}return f!==0&&(a.words[a.length++]=f),a},i._prime=function(a){if(U[a])return U[a];var f;if(a==="k256")f=new F;else if(a==="p224")f=new q;else if(a==="p192")f=new K;else if(a==="p25519")f=new re;else throw new Error("Unknown prime "+a);return U[a]=f,f};function Q(S){if(typeof S=="string"){var a=i._prime(S);this.m=a.p,this.prime=a}else r(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}Q.prototype._verify1=function(a){r(a.negative===0,"red works only with positives"),r(a.red,"red works only with red numbers")},Q.prototype._verify2=function(a,f){r((a.negative|f.negative)===0,"red works only with positives"),r(a.red&&a.red===f.red,"red works only with red numbers")},Q.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},Q.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},Q.prototype.add=function(a,f){this._verify2(a,f);var p=a.add(f);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},Q.prototype.iadd=function(a,f){this._verify2(a,f);var p=a.iadd(f);return p.cmp(this.m)>=0&&p.isub(this.m),p},Q.prototype.sub=function(a,f){this._verify2(a,f);var p=a.sub(f);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},Q.prototype.isub=function(a,f){this._verify2(a,f);var p=a.isub(f);return p.cmpn(0)<0&&p.iadd(this.m),p},Q.prototype.shl=function(a,f){return this._verify1(a),this.imod(a.ushln(f))},Q.prototype.imul=function(a,f){return this._verify2(a,f),this.imod(a.imul(f))},Q.prototype.mul=function(a,f){return this._verify2(a,f),this.imod(a.mul(f))},Q.prototype.isqr=function(a){return this.imul(a,a.clone())},Q.prototype.sqr=function(a){return this.mul(a,a)},Q.prototype.sqrt=function(a){if(a.isZero())return a.clone();var f=this.m.andln(3);if(r(f%2===1),f===3){var p=this.m.add(new i(1)).iushrn(2);return this.pow(a,p)}for(var y=this.m.subn(1),g=0;!y.isZero()&&y.andln(1)===0;)g++,y.iushrn(1);r(!y.isZero());var A=new i(1).toRed(this),_=A.redNeg(),v=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new i(2*u*u).toRed(this);this.pow(u,v).cmp(_)!==0;)u.redIAdd(_);for(var x=this.pow(u,y),L=this.pow(a,y.addn(1).iushrn(1)),D=this.pow(a,y),C=g;D.cmp(A)!==0;){for(var z=D,ee=0;z.cmp(A)!==0;ee++)z=z.redSqr();r(ee<C);var ne=this.pow(x,new i(1).iushln(C-ee-1));L=L.redMul(ne),x=ne.redSqr(),D=D.redMul(x),C=ee}return L},Q.prototype.invm=function(a){var f=a._invmp(this.m);return f.negative!==0?(f.negative=0,this.imod(f).redNeg()):this.imod(f)},Q.prototype.pow=function(a,f){if(f.isZero())return new i(1).toRed(this);if(f.cmpn(1)===0)return a.clone();var p=4,y=new Array(1<<p);y[0]=new i(1).toRed(this),y[1]=a;for(var g=2;g<y.length;g++)y[g]=this.mul(y[g-1],a);var A=y[0],_=0,v=0,u=f.bitLength()%26;for(u===0&&(u=26),g=f.length-1;g>=0;g--){for(var x=f.words[g],L=u-1;L>=0;L--){var D=x>>L&1;if(A!==y[0]&&(A=this.sqr(A)),D===0&&_===0){v=0;continue}_<<=1,_|=D,v++,!(v!==p&&(g!==0||L!==0))&&(A=this.mul(A,y[_]),v=0,_=0)}u=26}return A},Q.prototype.convertTo=function(a){var f=a.umod(this.m);return f===a?f.clone():f},Q.prototype.convertFrom=function(a){var f=a.clone();return f.red=null,f},i.mont=function(a){return new ie(a)};function ie(S){Q.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(ie,Q),ie.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},ie.prototype.convertFrom=function(a){var f=this.imod(a.mul(this.rinv));return f.red=null,f},ie.prototype.imul=function(a,f){if(a.isZero()||f.isZero())return a.words[0]=0,a.length=1,a;var p=a.imul(f),y=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=p.isub(y).iushrn(this.shift),A=g;return g.cmp(this.m)>=0?A=g.isub(this.m):g.cmpn(0)<0&&(A=g.iadd(this.m)),A._forceRed(this)},ie.prototype.mul=function(a,f){if(a.isZero()||f.isZero())return new i(0)._forceRed(this);var p=a.mul(f),y=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=p.isub(y).iushrn(this.shift),A=g;return g.cmp(this.m)>=0?A=g.isub(this.m):g.cmpn(0)<0&&(A=g.iadd(this.m)),A._forceRed(this)},ie.prototype.invm=function(a){var f=this.imod(a._invmp(this.m).mul(this.r2));return f._forceRed(this)}})(typeof oK>"u"||oK,$de)});var sK=V(Qde=>{"use strict";d();h();var LM=Qde;function TWe(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t!="string"){for(var n=0;n<t.length;n++)r[n]=t[n]|0;return r}if(e==="hex"){t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t);for(var n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(var n=0;n<t.length;n++){var i=t.charCodeAt(n),o=i>>8,s=i&255;o?r.push(o,s):r.push(s)}return r}LM.toArray=TWe;function Yde(t){return t.length===1?"0"+t:t}LM.zero2=Yde;function Zde(t){for(var e="",r=0;r<t.length;r++)e+=Yde(t[r].toString(16));return e}LM.toHex=Zde;LM.encode=function(e,r){return r==="hex"?Zde(e):e}});var nu=V(Jde=>{"use strict";d();h();var ul=Jde,IWe=Id(),MWe=ru(),FM=sK();ul.assert=MWe;ul.toArray=FM.toArray;ul.zero2=FM.zero2;ul.toHex=FM.toHex;ul.encode=FM.encode;function kWe(t,e,r){var n=new Array(Math.max(t.bitLength(),r)+1),i;for(i=0;i<n.length;i+=1)n[i]=0;var o=1<<e+1,s=t.clone();for(i=0;i<n.length;i++){var c,l=s.andln(o-1);s.isOdd()?(l>(o>>1)-1?c=(o>>1)-l:c=l,s.isubn(c)):c=0,n[i]=c,s.iushrn(1)}return n}ul.getNAF=kWe;function PWe(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n=0,i=0,o;t.cmpn(-n)>0||e.cmpn(-i)>0;){var s=t.andln(3)+n&3,c=e.andln(3)+i&3;s===3&&(s=-1),c===3&&(c=-1);var l;s&1?(o=t.andln(7)+n&7,(o===3||o===5)&&c===2?l=-s:l=s):l=0,r[0].push(l);var m;c&1?(o=e.andln(7)+i&7,(o===3||o===5)&&s===2?m=-c:m=c):m=0,r[1].push(m),2*n===l+1&&(n=1-n),2*i===m+1&&(i=1-i),t.iushrn(1),e.iushrn(1)}return r}ul.getJSF=PWe;function BWe(t,e,r){var n="_"+e;t.prototype[e]=function(){return this[n]!==void 0?this[n]:this[n]=r.call(this)}}ul.cachedProperty=BWe;function RWe(t){return typeof t=="string"?ul.toArray(t,"hex"):t}ul.parseBytes=RWe;function CWe(t){return new IWe(t,"hex","le")}ul.intFromLE=CWe});var H3=V((JHt,Xde)=>{"use strict";d();h();var Vb=Id(),K3=nu(),VM=K3.getNAF,OWe=K3.getJSF,qM=K3.assert;function fm(t,e){this.type=t,this.p=new Vb(e.p,16),this.red=e.prime?Vb.red(e.prime):Vb.mont(this.p),this.zero=new Vb(0).toRed(this.red),this.one=new Vb(1).toRed(this.red),this.two=new Vb(2).toRed(this.red),this.n=e.n&&new Vb(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}Xde.exports=fm;fm.prototype.point=function(){throw new Error("Not implemented")};fm.prototype.validate=function(){throw new Error("Not implemented")};fm.prototype._fixedNafMul=function(e,r){qM(e.precomputed);var n=e._getDoubles(),i=VM(r,1,this._bitLength),o=(1<<n.step+1)-(n.step%2===0?2:1);o/=3;var s=[],c,l;for(c=0;c<i.length;c+=n.step){l=0;for(var m=c+n.step-1;m>=c;m--)l=(l<<1)+i[m];s.push(l)}for(var w=this.jpoint(null,null,null),b=this.jpoint(null,null,null),E=o;E>0;E--){for(c=0;c<s.length;c++)l=s[c],l===E?b=b.mixedAdd(n.points[c]):l===-E&&(b=b.mixedAdd(n.points[c].neg()));w=w.add(b)}return w.toP()};fm.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var o=i.points,s=VM(r,n,this._bitLength),c=this.jpoint(null,null,null),l=s.length-1;l>=0;l--){for(var m=0;l>=0&&s[l]===0;l--)m++;if(l>=0&&m++,c=c.dblp(m),l<0)break;var w=s[l];qM(w!==0),e.type==="affine"?w>0?c=c.mixedAdd(o[w-1>>1]):c=c.mixedAdd(o[-w-1>>1].neg()):w>0?c=c.add(o[w-1>>1]):c=c.add(o[-w-1>>1].neg())}return e.type==="affine"?c.toP():c};fm.prototype._wnafMulAdd=function(e,r,n,i,o){var s=this._wnafT1,c=this._wnafT2,l=this._wnafT3,m=0,w,b,E;for(w=0;w<i;w++){E=r[w];var I=E._getNAFPoints(e);s[w]=I.wnd,c[w]=I.points}for(w=i-1;w>=1;w-=2){var M=w-1,k=w;if(s[M]!==1||s[k]!==1){l[M]=VM(n[M],s[M],this._bitLength),l[k]=VM(n[k],s[k],this._bitLength),m=Math.max(l[M].length,m),m=Math.max(l[k].length,m);continue}var R=[r[M],null,null,r[k]];r[M].y.cmp(r[k].y)===0?(R[1]=r[M].add(r[k]),R[2]=r[M].toJ().mixedAdd(r[k].neg())):r[M].y.cmp(r[k].y.redNeg())===0?(R[1]=r[M].toJ().mixedAdd(r[k]),R[2]=r[M].add(r[k].neg())):(R[1]=r[M].toJ().mixedAdd(r[k]),R[2]=r[M].toJ().mixedAdd(r[k].neg()));var B=[-3,-1,-5,-7,0,7,5,1,3],U=OWe(n[M],n[k]);for(m=Math.max(U[0].length,m),l[M]=new Array(m),l[k]=new Array(m),b=0;b<m;b++){var P=U[0][b]|0,F=U[1][b]|0;l[M][b]=B[(P+1)*3+(F+1)],l[k][b]=0,c[M]=R}}var q=this.jpoint(null,null,null),K=this._wnafT4;for(w=m;w>=0;w--){for(var re=0;w>=0;){var Q=!0;for(b=0;b<i;b++)K[b]=l[b][w]|0,K[b]!==0&&(Q=!1);if(!Q)break;re++,w--}if(w>=0&&re++,q=q.dblp(re),w<0)break;for(b=0;b<i;b++){var ie=K[b];ie!==0&&(ie>0?E=c[b][ie-1>>1]:ie<0&&(E=c[b][-ie-1>>1].neg()),E.type==="affine"?q=q.mixedAdd(E):q=q.add(E))}}for(w=0;w<i;w++)c[w]=null;return o?q:q.toP()};function nf(t,e){this.curve=t,this.type=e,this.precomputed=null}fm.BasePoint=nf;nf.prototype.eq=function(){throw new Error("Not implemented")};nf.prototype.validate=function(){return this.curve.validate(this)};fm.prototype.decodePoint=function(e,r){e=K3.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?qM(e[e.length-1]%2===0):e[0]===7&&qM(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};nf.prototype.encodeCompressed=function(e){return this.encode(e,!0)};nf.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};nf.prototype.encode=function(e,r){return K3.encode(this._encode(r),e)};nf.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};nf.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};nf.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,o=0;o<r;o+=e){for(var s=0;s<e;s++)i=i.dbl();n.push(i)}return{step:e,points:n}};nf.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),o=1;o<n;o++)r[o]=r[o-1].add(i);return{wnd:e,points:r}};nf.prototype._getBeta=function(){return null};nf.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r}});var the=V((tjt,ehe)=>{"use strict";d();h();var NWe=nu(),Ji=Id(),aK=Xt(),tw=H3(),DWe=NWe.assert;function of(t){tw.call(this,"short",t),this.a=new Ji(t.a,16).toRed(this.red),this.b=new Ji(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}aK(of,tw);ehe.exports=of;of.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new Ji(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new Ji(e.lambda,16);else{var o=this._getEndoRoots(this.n);this.g.mul(o[0]).x.cmp(this.g.x.redMul(r))===0?n=o[0]:(n=o[1],DWe(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var s;return e.basis?s=e.basis.map(function(c){return{a:new Ji(c.a,16),b:new Ji(c.b,16)}}):s=this._getEndoBasis(n),{beta:r,lambda:n,basis:s}}};of.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:Ji.mont(e),n=new Ji(2).toRed(r).redInvm(),i=n.redNeg(),o=new Ji(3).toRed(r).redNeg().redSqrt().redMul(n),s=i.redAdd(o).fromRed(),c=i.redSub(o).fromRed();return[s,c]};of.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),o=new Ji(1),s=new Ji(0),c=new Ji(0),l=new Ji(1),m,w,b,E,I,M,k,R=0,B,U;n.cmpn(0)!==0;){var P=i.div(n);B=i.sub(P.mul(n)),U=c.sub(P.mul(o));var F=l.sub(P.mul(s));if(!b&&B.cmp(r)<0)m=k.neg(),w=o,b=B.neg(),E=U;else if(b&&++R===2)break;k=B,i=n,n=B,c=o,o=U,l=s,s=F}I=B.neg(),M=U;var q=b.sqr().add(E.sqr()),K=I.sqr().add(M.sqr());return K.cmp(q)>=0&&(I=m,M=w),b.negative&&(b=b.neg(),E=E.neg()),I.negative&&(I=I.neg(),M=M.neg()),[{a:b,b:E},{a:I,b:M}]};of.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],o=i.b.mul(e).divRound(this.n),s=n.b.neg().mul(e).divRound(this.n),c=o.mul(n.a),l=s.mul(i.a),m=o.mul(n.b),w=s.mul(i.b),b=e.sub(c).sub(l),E=m.add(w).neg();return{k1:b,k2:E}};of.prototype.pointFromX=function(e,r){e=new Ji(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var o=i.fromRed().isOdd();return(r&&!o||!r&&o)&&(i=i.redNeg()),this.point(e,i)};of.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),o=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(o).cmpn(0)===0};of.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,o=this._endoWnafT2,s=0;s<e.length;s++){var c=this._endoSplit(r[s]),l=e[s],m=l._getBeta();c.k1.negative&&(c.k1.ineg(),l=l.neg(!0)),c.k2.negative&&(c.k2.ineg(),m=m.neg(!0)),i[s*2]=l,i[s*2+1]=m,o[s*2]=c.k1,o[s*2+1]=c.k2}for(var w=this._wnafMulAdd(1,i,o,s*2,n),b=0;b<s*2;b++)i[b]=null,o[b]=null;return w};function os(t,e,r,n){tw.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Ji(e,16),this.y=new Ji(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}aK(os,tw.BasePoint);of.prototype.point=function(e,r,n){return new os(this,e,r,n)};of.prototype.pointFromJSON=function(e,r){return os.fromJSON(this,e,r)};os.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(o){return n.point(o.x.redMul(n.endo.beta),o.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};os.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};os.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function o(c){return e.point(c[0],c[1],n)}var s=r[2];return i.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[i].concat(s.doubles.points.map(o))},naf:s.naf&&{wnd:s.naf.wnd,points:[i].concat(s.naf.points.map(o))}},i};os.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};os.prototype.isInfinity=function(){return this.inf};os.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};os.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),o=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),s=o.redSqr().redISub(this.x.redAdd(this.x)),c=o.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,c)};os.prototype.getX=function(){return this.x.fromRed()};os.prototype.getY=function(){return this.y.fromRed()};os.prototype.mul=function(e){return e=new Ji(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};os.prototype.mulAdd=function(e,r,n){var i=[this,r],o=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,o):this.curve._wnafMulAdd(1,i,o,2)};os.prototype.jmulAdd=function(e,r,n){var i=[this,r],o=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,o,!0):this.curve._wnafMulAdd(1,i,o,2,!0)};os.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};os.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(o){return o.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};os.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Is(t,e,r,n){tw.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Ji(0)):(this.x=new Ji(e,16),this.y=new Ji(r,16),this.z=new Ji(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}aK(Is,tw.BasePoint);of.prototype.jpoint=function(e,r,n){return new Is(this,e,r,n)};Is.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};Is.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Is.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),o=e.x.redMul(n),s=this.y.redMul(r.redMul(e.z)),c=e.y.redMul(n.redMul(this.z)),l=i.redSub(o),m=s.redSub(c);if(l.cmpn(0)===0)return m.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var w=l.redSqr(),b=w.redMul(l),E=i.redMul(w),I=m.redSqr().redIAdd(b).redISub(E).redISub(E),M=m.redMul(E.redISub(I)).redISub(s.redMul(b)),k=this.z.redMul(e.z).redMul(l);return this.curve.jpoint(I,M,k)};Is.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),o=this.y,s=e.y.redMul(r).redMul(this.z),c=n.redSub(i),l=o.redSub(s);if(c.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var m=c.redSqr(),w=m.redMul(c),b=n.redMul(m),E=l.redSqr().redIAdd(w).redISub(b).redISub(b),I=l.redMul(b.redISub(E)).redISub(o.redMul(w)),M=this.z.redMul(c);return this.curve.jpoint(E,I,M)};Is.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,o=this.curve.tinv,s=this.x,c=this.y,l=this.z,m=l.redSqr().redSqr(),w=c.redAdd(c);for(r=0;r<e;r++){var b=s.redSqr(),E=w.redSqr(),I=E.redSqr(),M=b.redAdd(b).redIAdd(b).redIAdd(i.redMul(m)),k=s.redMul(E),R=M.redSqr().redISub(k.redAdd(k)),B=k.redISub(R),U=M.redMul(B);U=U.redIAdd(U).redISub(I);var P=w.redMul(l);r+1<e&&(m=m.redMul(I)),s=R,l=P,w=U}return this.curve.jpoint(s,w.redMul(o),l)};Is.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Is.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),o=this.y.redSqr(),s=o.redSqr(),c=this.x.redAdd(o).redSqr().redISub(i).redISub(s);c=c.redIAdd(c);var l=i.redAdd(i).redIAdd(i),m=l.redSqr().redISub(c).redISub(c),w=s.redIAdd(s);w=w.redIAdd(w),w=w.redIAdd(w),e=m,r=l.redMul(c.redISub(m)).redISub(w),n=this.y.redAdd(this.y)}else{var b=this.x.redSqr(),E=this.y.redSqr(),I=E.redSqr(),M=this.x.redAdd(E).redSqr().redISub(b).redISub(I);M=M.redIAdd(M);var k=b.redAdd(b).redIAdd(b),R=k.redSqr(),B=I.redIAdd(I);B=B.redIAdd(B),B=B.redIAdd(B),e=R.redISub(M).redISub(M),r=k.redMul(M.redISub(e)).redISub(B),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};Is.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),o=this.y.redSqr(),s=o.redSqr(),c=this.x.redAdd(o).redSqr().redISub(i).redISub(s);c=c.redIAdd(c);var l=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),m=l.redSqr().redISub(c).redISub(c);e=m;var w=s.redIAdd(s);w=w.redIAdd(w),w=w.redIAdd(w),r=l.redMul(c.redISub(m)).redISub(w),n=this.y.redAdd(this.y)}else{var b=this.z.redSqr(),E=this.y.redSqr(),I=this.x.redMul(E),M=this.x.redSub(b).redMul(this.x.redAdd(b));M=M.redAdd(M).redIAdd(M);var k=I.redIAdd(I);k=k.redIAdd(k);var R=k.redAdd(k);e=M.redSqr().redISub(R),n=this.y.redAdd(this.z).redSqr().redISub(E).redISub(b);var B=E.redSqr();B=B.redIAdd(B),B=B.redIAdd(B),B=B.redIAdd(B),r=M.redMul(k.redISub(e)).redISub(B)}return this.curve.jpoint(e,r,n)};Is.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,o=i.redSqr().redSqr(),s=r.redSqr(),c=n.redSqr(),l=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(o)),m=r.redAdd(r);m=m.redIAdd(m);var w=m.redMul(c),b=l.redSqr().redISub(w.redAdd(w)),E=w.redISub(b),I=c.redSqr();I=I.redIAdd(I),I=I.redIAdd(I),I=I.redIAdd(I);var M=l.redMul(E).redISub(I),k=n.redAdd(n).redMul(i);return this.curve.jpoint(b,M,k)};Is.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),o=e.redAdd(e).redIAdd(e),s=o.redSqr(),c=this.x.redAdd(r).redSqr().redISub(e).redISub(i);c=c.redIAdd(c),c=c.redAdd(c).redIAdd(c),c=c.redISub(s);var l=c.redSqr(),m=i.redIAdd(i);m=m.redIAdd(m),m=m.redIAdd(m),m=m.redIAdd(m);var w=o.redIAdd(c).redSqr().redISub(s).redISub(l).redISub(m),b=r.redMul(w);b=b.redIAdd(b),b=b.redIAdd(b);var E=this.x.redMul(l).redISub(b);E=E.redIAdd(E),E=E.redIAdd(E);var I=this.y.redMul(w.redMul(m.redISub(w)).redISub(c.redMul(l)));I=I.redIAdd(I),I=I.redIAdd(I),I=I.redIAdd(I);var M=this.z.redAdd(c).redSqr().redISub(n).redISub(l);return this.curve.jpoint(E,I,M)};Is.prototype.mul=function(e,r){return e=new Ji(e,r),this.curve._wnafMul(this,e)};Is.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),o=n.redMul(e.z);return this.y.redMul(o).redISub(e.y.redMul(i)).cmpn(0)===0};Is.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),o=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(o),this.x.cmp(n)===0)return!0}};Is.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Is.prototype.isInfinity=function(){return this.z.cmpn(0)===0}});var ihe=V((ijt,nhe)=>{"use strict";d();h();var rw=Id(),rhe=Xt(),KM=H3(),UWe=nu();function nw(t){KM.call(this,"mont",t),this.a=new rw(t.a,16).toRed(this.red),this.b=new rw(t.b,16).toRed(this.red),this.i4=new rw(4).toRed(this.red).redInvm(),this.two=new rw(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}rhe(nw,KM);nhe.exports=nw;nw.prototype.validate=function(e){var r=e.normalize().x,n=r.redSqr(),i=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),o=i.redSqrt();return o.redSqr().cmp(i)===0};function ss(t,e,r){KM.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new rw(e,16),this.z=new rw(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}rhe(ss,KM.BasePoint);nw.prototype.decodePoint=function(e,r){return this.point(UWe.toArray(e,r),1)};nw.prototype.point=function(e,r){return new ss(this,e,r)};nw.prototype.pointFromJSON=function(e){return ss.fromJSON(this,e)};ss.prototype.precompute=function(){};ss.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};ss.fromJSON=function(e,r){return new ss(e,r[0],r[1]||e.one)};ss.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};ss.prototype.isInfinity=function(){return this.z.cmpn(0)===0};ss.prototype.dbl=function(){var e=this.x.redAdd(this.z),r=e.redSqr(),n=this.x.redSub(this.z),i=n.redSqr(),o=r.redSub(i),s=r.redMul(i),c=o.redMul(i.redAdd(this.curve.a24.redMul(o)));return this.curve.point(s,c)};ss.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};ss.prototype.diffAdd=function(e,r){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),o=e.x.redAdd(e.z),s=e.x.redSub(e.z),c=s.redMul(n),l=o.redMul(i),m=r.z.redMul(c.redAdd(l).redSqr()),w=r.x.redMul(c.redISub(l).redSqr());return this.curve.point(m,w)};ss.prototype.mul=function(e){for(var r=e.clone(),n=this,i=this.curve.point(null,null),o=this,s=[];r.cmpn(0)!==0;r.iushrn(1))s.push(r.andln(1));for(var c=s.length-1;c>=0;c--)s[c]===0?(n=n.diffAdd(i,o),i=i.dbl()):(i=n.diffAdd(i,o),n=n.dbl());return i};ss.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};ss.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};ss.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};ss.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};ss.prototype.getX=function(){return this.normalize(),this.x.fromRed()}});var ahe=V((ajt,she)=>{"use strict";d();h();var LWe=nu(),c0=Id(),ohe=Xt(),HM=H3(),FWe=LWe.assert;function Md(t){this.twisted=(t.a|0)!==1,this.mOneA=this.twisted&&(t.a|0)===-1,this.extended=this.mOneA,HM.call(this,"edwards",t),this.a=new c0(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new c0(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new c0(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),FWe(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)===1}ohe(Md,HM);she.exports=Md;Md.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};Md.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};Md.prototype.jpoint=function(e,r,n,i){return this.point(e,r,n,i)};Md.prototype.pointFromX=function(e,r){e=new c0(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=this.c2.redSub(this.a.redMul(n)),o=this.one.redSub(this.c2.redMul(this.d).redMul(n)),s=i.redMul(o.redInvm()),c=s.redSqrt();if(c.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");var l=c.fromRed().isOdd();return(r&&!l||!r&&l)&&(c=c.redNeg()),this.point(e,c)};Md.prototype.pointFromY=function(e,r){e=new c0(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=n.redSub(this.c2),o=n.redMul(this.d).redMul(this.c2).redSub(this.a),s=i.redMul(o.redInvm());if(s.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var c=s.redSqrt();if(c.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");return c.fromRed().isOdd()!==r&&(c=c.redNeg()),this.point(c,e)};Md.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),n=e.y.redSqr(),i=r.redMul(this.a).redAdd(n),o=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return i.cmp(o)===0};function si(t,e,r,n,i){HM.BasePoint.call(this,t,"projective"),e===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new c0(e,16),this.y=new c0(r,16),this.z=n?new c0(n,16):this.curve.one,this.t=i&&new c0(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}ohe(si,HM.BasePoint);Md.prototype.pointFromJSON=function(e){return si.fromJSON(this,e)};Md.prototype.point=function(e,r,n,i){return new si(this,e,r,n,i)};si.fromJSON=function(e,r){return new si(e,r[0],r[1],r[2])};si.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};si.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};si.prototype._extDbl=function(){var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(e),o=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),s=i.redAdd(r),c=s.redSub(n),l=i.redSub(r),m=o.redMul(c),w=s.redMul(l),b=o.redMul(l),E=c.redMul(s);return this.curve.point(m,w,E,b)};si.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),i,o,s,c,l,m;if(this.curve.twisted){c=this.curve._mulA(r);var w=c.redAdd(n);this.zOne?(i=e.redSub(r).redSub(n).redMul(w.redSub(this.curve.two)),o=w.redMul(c.redSub(n)),s=w.redSqr().redSub(w).redSub(w)):(l=this.z.redSqr(),m=w.redSub(l).redISub(l),i=e.redSub(r).redISub(n).redMul(m),o=w.redMul(c.redSub(n)),s=w.redMul(m))}else c=r.redAdd(n),l=this.curve._mulC(this.z).redSqr(),m=c.redSub(l).redSub(l),i=this.curve._mulC(e.redISub(c)).redMul(m),o=this.curve._mulC(c).redMul(r.redISub(n)),s=c.redMul(m);return this.curve.point(i,o,s)};si.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};si.prototype._extAdd=function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),o=this.z.redMul(e.z.redAdd(e.z)),s=n.redSub(r),c=o.redSub(i),l=o.redAdd(i),m=n.redAdd(r),w=s.redMul(c),b=l.redMul(m),E=s.redMul(m),I=c.redMul(l);return this.curve.point(w,b,I,E)};si.prototype._projAdd=function(e){var r=this.z.redMul(e.z),n=r.redSqr(),i=this.x.redMul(e.x),o=this.y.redMul(e.y),s=this.curve.d.redMul(i).redMul(o),c=n.redSub(s),l=n.redAdd(s),m=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(i).redISub(o),w=r.redMul(c).redMul(m),b,E;return this.curve.twisted?(b=r.redMul(l).redMul(o.redSub(this.curve._mulA(i))),E=c.redMul(l)):(b=r.redMul(l).redMul(o.redSub(i)),E=this.curve._mulC(c).redMul(l)),this.curve.point(w,b,E)};si.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};si.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};si.prototype.mulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!1)};si.prototype.jmulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!0)};si.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};si.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};si.prototype.getX=function(){return this.normalize(),this.x.fromRed()};si.prototype.getY=function(){return this.normalize(),this.y.fromRed()};si.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};si.prototype.eqXToP=function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=e.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}};si.prototype.toP=si.prototype.normalize;si.prototype.mixedAdd=si.prototype.add});var cK=V(che=>{"use strict";d();h();var jM=che;jM.base=H3();jM.short=the();jM.mont=ihe();jM.edwards=ahe()});var fl=V(ei=>{"use strict";d();h();var VWe=ru(),qWe=Xt();ei.inherits=qWe;function KWe(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function HWe(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var o=t.charCodeAt(i);o<128?r[n++]=o:o<2048?(r[n++]=o>>6|192,r[n++]=o&63|128):KWe(t,i)?(o=65536+((o&1023)<<10)+(t.charCodeAt(++i)&1023),r[n++]=o>>18|240,r[n++]=o>>12&63|128,r[n++]=o>>6&63|128,r[n++]=o&63|128):(r[n++]=o>>12|224,r[n++]=o>>6&63|128,r[n++]=o&63|128)}else for(i=0;i<t.length;i++)r[i]=t[i]|0;return r}ei.toArray=HWe;function jWe(t){for(var e="",r=0;r<t.length;r++)e+=fhe(t[r].toString(16));return e}ei.toHex=jWe;function uhe(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}ei.htonl=uhe;function zWe(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];e==="little"&&(i=uhe(i)),r+=lhe(i.toString(16))}return r}ei.toHex32=zWe;function fhe(t){return t.length===1?"0"+t:t}ei.zero2=fhe;function lhe(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}ei.zero8=lhe;function WWe(t,e,r,n){var i=r-e;VWe(i%4===0);for(var o=new Array(i/4),s=0,c=e;s<o.length;s++,c+=4){var l;n==="big"?l=t[c]<<24|t[c+1]<<16|t[c+2]<<8|t[c+3]:l=t[c+3]<<24|t[c+2]<<16|t[c+1]<<8|t[c],o[s]=l>>>0}return o}ei.join32=WWe;function GWe(t,e){for(var r=new Array(t.length*4),n=0,i=0;n<t.length;n++,i+=4){var o=t[n];e==="big"?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=o&255):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=o&255)}return r}ei.split32=GWe;function $We(t,e){return t>>>e|t<<32-e}ei.rotr32=$We;function YWe(t,e){return t<<e|t>>>32-e}ei.rotl32=YWe;function ZWe(t,e){return t+e>>>0}ei.sum32=ZWe;function QWe(t,e,r){return t+e+r>>>0}ei.sum32_3=QWe;function JWe(t,e,r,n){return t+e+r+n>>>0}ei.sum32_4=JWe;function XWe(t,e,r,n,i){return t+e+r+n+i>>>0}ei.sum32_5=XWe;function eGe(t,e,r,n){var i=t[e],o=t[e+1],s=n+o>>>0,c=(s<n?1:0)+r+i;t[e]=c>>>0,t[e+1]=s}ei.sum64=eGe;function tGe(t,e,r,n){var i=e+n>>>0,o=(i<e?1:0)+t+r;return o>>>0}ei.sum64_hi=tGe;function rGe(t,e,r,n){var i=e+n;return i>>>0}ei.sum64_lo=rGe;function nGe(t,e,r,n,i,o,s,c){var l=0,m=e;m=m+n>>>0,l+=m<e?1:0,m=m+o>>>0,l+=m<o?1:0,m=m+c>>>0,l+=m<c?1:0;var w=t+r+i+s+l;return w>>>0}ei.sum64_4_hi=nGe;function iGe(t,e,r,n,i,o,s,c){var l=e+n+o+c;return l>>>0}ei.sum64_4_lo=iGe;function oGe(t,e,r,n,i,o,s,c,l,m){var w=0,b=e;b=b+n>>>0,w+=b<e?1:0,b=b+o>>>0,w+=b<o?1:0,b=b+c>>>0,w+=b<c?1:0,b=b+m>>>0,w+=b<m?1:0;var E=t+r+i+s+l+w;return E>>>0}ei.sum64_5_hi=oGe;function sGe(t,e,r,n,i,o,s,c,l,m){var w=e+n+o+c+m;return w>>>0}ei.sum64_5_lo=sGe;function aGe(t,e,r){var n=e<<32-r|t>>>r;return n>>>0}ei.rotr64_hi=aGe;function cGe(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}ei.rotr64_lo=cGe;function uGe(t,e,r){return t>>>r}ei.shr64_hi=uGe;function fGe(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}ei.shr64_lo=fGe});var iw=V(hhe=>{"use strict";d();h();var dhe=fl(),lGe=ru();function zM(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}hhe.BlockHash=zM;zM.prototype.update=function(e,r){if(e=dhe.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=dhe.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this};zM.prototype.digest=function(e){return this.update(this._pad()),lGe(this.pending===null),this._digest(e)};zM.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,n=r-(e+this.padLength)%r,i=new Array(n+this.padLength);i[0]=128;for(var o=1;o<n;o++)i[o]=0;if(e<<=3,this.endian==="big"){for(var s=8;s<this.padLength;s++)i[o++]=0;i[o++]=0,i[o++]=0,i[o++]=0,i[o++]=0,i[o++]=e>>>24&255,i[o++]=e>>>16&255,i[o++]=e>>>8&255,i[o++]=e&255}else for(i[o++]=e&255,i[o++]=e>>>8&255,i[o++]=e>>>16&255,i[o++]=e>>>24&255,i[o++]=0,i[o++]=0,i[o++]=0,i[o++]=0,s=8;s<this.padLength;s++)i[o++]=0;return i}});var uK=V(u0=>{"use strict";d();h();var dGe=fl(),kd=dGe.rotr32;function hGe(t,e,r,n){if(t===0)return phe(e,r,n);if(t===1||t===3)return yhe(e,r,n);if(t===2)return mhe(e,r,n)}u0.ft_1=hGe;function phe(t,e,r){return t&e^~t&r}u0.ch32=phe;function mhe(t,e,r){return t&e^t&r^e&r}u0.maj32=mhe;function yhe(t,e,r){return t^e^r}u0.p32=yhe;function pGe(t){return kd(t,2)^kd(t,13)^kd(t,22)}u0.s0_256=pGe;function mGe(t){return kd(t,6)^kd(t,11)^kd(t,25)}u0.s1_256=mGe;function yGe(t){return kd(t,7)^kd(t,18)^t>>>3}u0.g0_256=yGe;function gGe(t){return kd(t,17)^kd(t,19)^t>>>10}u0.g1_256=gGe});var vhe=V((Sjt,bhe)=>{"use strict";d();h();var ow=fl(),bGe=iw(),vGe=uK(),fK=ow.rotl32,j3=ow.sum32,xGe=ow.sum32_5,wGe=vGe.ft_1,ghe=bGe.BlockHash,SGe=[1518500249,1859775393,2400959708,3395469782];function Pd(){if(!(this instanceof Pd))return new Pd;ghe.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}ow.inherits(Pd,ghe);bhe.exports=Pd;Pd.blockSize=512;Pd.outSize=160;Pd.hmacStrength=80;Pd.padLength=64;Pd.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=fK(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var o=this.h[0],s=this.h[1],c=this.h[2],l=this.h[3],m=this.h[4];for(i=0;i<n.length;i++){var w=~~(i/20),b=xGe(fK(o,5),wGe(w,s,c,l),m,n[i],SGe[w]);m=l,l=c,c=fK(s,30),s=o,o=b}this.h[0]=j3(this.h[0],o),this.h[1]=j3(this.h[1],s),this.h[2]=j3(this.h[2],c),this.h[3]=j3(this.h[3],l),this.h[4]=j3(this.h[4],m)};Pd.prototype._digest=function(e){return e==="hex"?ow.toHex32(this.h,"big"):ow.split32(this.h,"big")}});var lK=V((_jt,whe)=>{"use strict";d();h();var sw=fl(),AGe=iw(),aw=uK(),EGe=ru(),ll=sw.sum32,_Ge=sw.sum32_4,TGe=sw.sum32_5,IGe=aw.ch32,MGe=aw.maj32,kGe=aw.s0_256,PGe=aw.s1_256,BGe=aw.g0_256,RGe=aw.g1_256,xhe=AGe.BlockHash,CGe=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Bd(){if(!(this instanceof Bd))return new Bd;xhe.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=CGe,this.W=new Array(64)}sw.inherits(Bd,xhe);whe.exports=Bd;Bd.blockSize=512;Bd.outSize=256;Bd.hmacStrength=192;Bd.padLength=64;Bd.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=_Ge(RGe(n[i-2]),n[i-7],BGe(n[i-15]),n[i-16]);var o=this.h[0],s=this.h[1],c=this.h[2],l=this.h[3],m=this.h[4],w=this.h[5],b=this.h[6],E=this.h[7];for(EGe(this.k.length===n.length),i=0;i<n.length;i++){var I=TGe(E,PGe(m),IGe(m,w,b),this.k[i],n[i]),M=ll(kGe(o),MGe(o,s,c));E=b,b=w,w=m,m=ll(l,I),l=c,c=s,s=o,o=ll(I,M)}this.h[0]=ll(this.h[0],o),this.h[1]=ll(this.h[1],s),this.h[2]=ll(this.h[2],c),this.h[3]=ll(this.h[3],l),this.h[4]=ll(this.h[4],m),this.h[5]=ll(this.h[5],w),this.h[6]=ll(this.h[6],b),this.h[7]=ll(this.h[7],E)};Bd.prototype._digest=function(e){return e==="hex"?sw.toHex32(this.h,"big"):sw.split32(this.h,"big")}});var Ehe=V((Mjt,Ahe)=>{"use strict";d();h();var dK=fl(),She=lK();function f0(){if(!(this instanceof f0))return new f0;She.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}dK.inherits(f0,She);Ahe.exports=f0;f0.blockSize=512;f0.outSize=224;f0.hmacStrength=192;f0.padLength=64;f0.prototype._digest=function(e){return e==="hex"?dK.toHex32(this.h.slice(0,7),"big"):dK.split32(this.h.slice(0,7),"big")}});var mK=V((Bjt,Mhe)=>{"use strict";d();h();var bc=fl(),OGe=iw(),NGe=ru(),Rd=bc.rotr64_hi,Cd=bc.rotr64_lo,_he=bc.shr64_hi,The=bc.shr64_lo,lm=bc.sum64,hK=bc.sum64_hi,pK=bc.sum64_lo,DGe=bc.sum64_4_hi,UGe=bc.sum64_4_lo,LGe=bc.sum64_5_hi,FGe=bc.sum64_5_lo,Ihe=OGe.BlockHash,VGe=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function dl(){if(!(this instanceof dl))return new dl;Ihe.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=VGe,this.W=new Array(160)}bc.inherits(dl,Ihe);Mhe.exports=dl;dl.blockSize=1024;dl.outSize=512;dl.hmacStrength=192;dl.padLength=128;dl.prototype._prepareBlock=function(e,r){for(var n=this.W,i=0;i<32;i++)n[i]=e[r+i];for(;i<n.length;i+=2){var o=QGe(n[i-4],n[i-3]),s=JGe(n[i-4],n[i-3]),c=n[i-14],l=n[i-13],m=YGe(n[i-30],n[i-29]),w=ZGe(n[i-30],n[i-29]),b=n[i-32],E=n[i-31];n[i]=DGe(o,s,c,l,m,w,b,E),n[i+1]=UGe(o,s,c,l,m,w,b,E)}};dl.prototype._update=function(e,r){this._prepareBlock(e,r);var n=this.W,i=this.h[0],o=this.h[1],s=this.h[2],c=this.h[3],l=this.h[4],m=this.h[5],w=this.h[6],b=this.h[7],E=this.h[8],I=this.h[9],M=this.h[10],k=this.h[11],R=this.h[12],B=this.h[13],U=this.h[14],P=this.h[15];NGe(this.k.length===n.length);for(var F=0;F<n.length;F+=2){var q=U,K=P,re=GGe(E,I),Q=$Ge(E,I),ie=qGe(E,I,M,k,R,B),S=KGe(E,I,M,k,R,B),a=this.k[F],f=this.k[F+1],p=n[F],y=n[F+1],g=LGe(q,K,re,Q,ie,S,a,f,p,y),A=FGe(q,K,re,Q,ie,S,a,f,p,y);q=zGe(i,o),K=WGe(i,o),re=HGe(i,o,s,c,l,m),Q=jGe(i,o,s,c,l,m);var _=hK(q,K,re,Q),v=pK(q,K,re,Q);U=R,P=B,R=M,B=k,M=E,k=I,E=hK(w,b,g,A),I=pK(b,b,g,A),w=l,b=m,l=s,m=c,s=i,c=o,i=hK(g,A,_,v),o=pK(g,A,_,v)}lm(this.h,0,i,o),lm(this.h,2,s,c),lm(this.h,4,l,m),lm(this.h,6,w,b),lm(this.h,8,E,I),lm(this.h,10,M,k),lm(this.h,12,R,B),lm(this.h,14,U,P)};dl.prototype._digest=function(e){return e==="hex"?bc.toHex32(this.h,"big"):bc.split32(this.h,"big")};function qGe(t,e,r,n,i){var o=t&r^~t&i;return o<0&&(o+=4294967296),o}function KGe(t,e,r,n,i,o){var s=e&n^~e&o;return s<0&&(s+=4294967296),s}function HGe(t,e,r,n,i){var o=t&r^t&i^r&i;return o<0&&(o+=4294967296),o}function jGe(t,e,r,n,i,o){var s=e&n^e&o^n&o;return s<0&&(s+=4294967296),s}function zGe(t,e){var r=Rd(t,e,28),n=Rd(e,t,2),i=Rd(e,t,7),o=r^n^i;return o<0&&(o+=4294967296),o}function WGe(t,e){var r=Cd(t,e,28),n=Cd(e,t,2),i=Cd(e,t,7),o=r^n^i;return o<0&&(o+=4294967296),o}function GGe(t,e){var r=Rd(t,e,14),n=Rd(t,e,18),i=Rd(e,t,9),o=r^n^i;return o<0&&(o+=4294967296),o}function $Ge(t,e){var r=Cd(t,e,14),n=Cd(t,e,18),i=Cd(e,t,9),o=r^n^i;return o<0&&(o+=4294967296),o}function YGe(t,e){var r=Rd(t,e,1),n=Rd(t,e,8),i=_he(t,e,7),o=r^n^i;return o<0&&(o+=4294967296),o}function ZGe(t,e){var r=Cd(t,e,1),n=Cd(t,e,8),i=The(t,e,7),o=r^n^i;return o<0&&(o+=4294967296),o}function QGe(t,e){var r=Rd(t,e,19),n=Rd(e,t,29),i=_he(t,e,6),o=r^n^i;return o<0&&(o+=4294967296),o}function JGe(t,e){var r=Cd(t,e,19),n=Cd(e,t,29),i=The(t,e,6),o=r^n^i;return o<0&&(o+=4294967296),o}});var Bhe=V((Ojt,Phe)=>{"use strict";d();h();var yK=fl(),khe=mK();function l0(){if(!(this instanceof l0))return new l0;khe.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}yK.inherits(l0,khe);Phe.exports=l0;l0.blockSize=1024;l0.outSize=384;l0.hmacStrength=192;l0.padLength=128;l0.prototype._digest=function(e){return e==="hex"?yK.toHex32(this.h.slice(0,12),"big"):yK.split32(this.h.slice(0,12),"big")}});var Rhe=V(cw=>{"use strict";d();h();cw.sha1=vhe();cw.sha224=Ehe();cw.sha256=lK();cw.sha384=Bhe();cw.sha512=mK()});var Lhe=V(Uhe=>{"use strict";d();h();var qb=fl(),XGe=iw(),WM=qb.rotl32,Che=qb.sum32,z3=qb.sum32_3,Ohe=qb.sum32_4,Dhe=XGe.BlockHash;function Od(){if(!(this instanceof Od))return new Od;Dhe.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}qb.inherits(Od,Dhe);Uhe.ripemd160=Od;Od.blockSize=512;Od.outSize=160;Od.hmacStrength=192;Od.padLength=64;Od.prototype._update=function(e,r){for(var n=this.h[0],i=this.h[1],o=this.h[2],s=this.h[3],c=this.h[4],l=n,m=i,w=o,b=s,E=c,I=0;I<80;I++){var M=Che(WM(Ohe(n,Nhe(I,i,o,s),e[r$e[I]+r],e$e(I)),i$e[I]),c);n=c,c=s,s=WM(o,10),o=i,i=M,M=Che(WM(Ohe(l,Nhe(79-I,m,w,b),e[n$e[I]+r],t$e(I)),o$e[I]),E),l=E,E=b,b=WM(w,10),w=m,m=M}M=z3(this.h[1],o,b),this.h[1]=z3(this.h[2],s,E),this.h[2]=z3(this.h[3],c,l),this.h[3]=z3(this.h[4],n,m),this.h[4]=z3(this.h[0],i,w),this.h[0]=M};Od.prototype._digest=function(e){return e==="hex"?qb.toHex32(this.h,"little"):qb.split32(this.h,"little")};function Nhe(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function e$e(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function t$e(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var r$e=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],n$e=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],i$e=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],o$e=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]});var Vhe=V((Hjt,Fhe)=>{"use strict";d();h();var s$e=fl(),a$e=ru();function uw(t,e,r){if(!(this instanceof uw))return new uw(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(s$e.toArray(e,r))}Fhe.exports=uw;uw.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),a$e(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};uw.prototype.update=function(e,r){return this.inner.update(e,r),this};uw.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}});var fw=V(qhe=>{d();h();var Ms=qhe;Ms.utils=fl();Ms.common=iw();Ms.sha=Rhe();Ms.ripemd=Lhe();Ms.hmac=Vhe();Ms.sha1=Ms.sha.sha1;Ms.sha256=Ms.sha.sha256;Ms.sha224=Ms.sha.sha224;Ms.sha384=Ms.sha.sha384;Ms.sha512=Ms.sha.sha512;Ms.ripemd160=Ms.ripemd.ripemd160});var Hhe=V((Yjt,Khe)=>{d();h();Khe.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}});var GM=V(Whe=>{"use strict";d();h();var bK=Whe,dm=fw(),gK=cK(),c$e=nu(),jhe=c$e.assert;function zhe(t){t.type==="short"?this.curve=new gK.short(t):t.type==="edwards"?this.curve=new gK.edwards(t):this.curve=new gK.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,jhe(this.g.validate(),"Invalid curve"),jhe(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}bK.PresetCurve=zhe;function hm(t,e){Object.defineProperty(bK,t,{configurable:!0,enumerable:!0,get:function(){var r=new zhe(e);return Object.defineProperty(bK,t,{configurable:!0,enumerable:!0,value:r}),r}})}hm("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:dm.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]});hm("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:dm.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]});hm("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:dm.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]});hm("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:dm.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]});hm("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:dm.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]});hm("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:dm.sha256,gRed:!1,g:["9"]});hm("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:dm.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var vK;try{vK=Hhe()}catch{vK=void 0}hm("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:dm.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",vK]})});var Yhe=V((tzt,$he)=>{"use strict";d();h();var u$e=fw(),Kb=sK(),Ghe=ru();function pm(t){if(!(this instanceof pm))return new pm(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Kb.toArray(t.entropy,t.entropyEnc||"hex"),r=Kb.toArray(t.nonce,t.nonceEnc||"hex"),n=Kb.toArray(t.pers,t.persEnc||"hex");Ghe(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}$he.exports=pm;pm.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var o=0;o<this.V.length;o++)this.K[o]=0,this.V[o]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};pm.prototype._hmac=function(){return new u$e.hmac(this.hash,this.K)};pm.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};pm.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=Kb.toArray(e,r),n=Kb.toArray(n,i),Ghe(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};pm.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=Kb.toArray(n,i||"hex"),this._update(n));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var s=o.slice(0,e);return this._update(n),this._reseed++,Kb.encode(s,r)}});var Qhe=V((izt,Zhe)=>{"use strict";d();h();var f$e=Id(),l$e=nu(),xK=l$e.assert;function aa(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}Zhe.exports=aa;aa.fromPublic=function(e,r,n){return r instanceof aa?r:new aa(e,{pub:r,pubEnc:n})};aa.fromPrivate=function(e,r,n){return r instanceof aa?r:new aa(e,{priv:r,privEnc:n})};aa.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};aa.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};aa.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};aa.prototype._importPrivate=function(e,r){this.priv=new f$e(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};aa.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?xK(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&xK(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};aa.prototype.derive=function(e){return e.validate()||xK(e.validate(),"public point not validated"),e.mul(this.priv).getX()};aa.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};aa.prototype.verify=function(e,r,n){return this.ec.verify(e,r,this,void 0,n)};aa.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}});var e0e=V((azt,Xhe)=>{"use strict";d();h();var $M=Id(),AK=nu(),d$e=AK.assert;function YM(t,e){if(t instanceof YM)return t;this._importDER(t,e)||(d$e(t.r&&t.s,"Signature without r or s"),this.r=new $M(t.r,16),this.s=new $M(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}Xhe.exports=YM;function h$e(){this.place=0}function wK(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||t[e.place]===0)return!1;for(var i=0,o=0,s=e.place;o<n;o++,s++)i<<=8,i|=t[s],i>>>=0;return i<=127?!1:(e.place=s,i)}function Jhe(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}YM.prototype._importDER=function(e,r){e=AK.toArray(e,r);var n=new h$e;if(e[n.place++]!==48)return!1;var i=wK(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var o=wK(e,n);if(o===!1||e[n.place]&128)return!1;var s=e.slice(n.place,o+n.place);if(n.place+=o,e[n.place++]!==2)return!1;var c=wK(e,n);if(c===!1||e.length!==c+n.place||e[n.place]&128)return!1;var l=e.slice(n.place,c+n.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(l[0]===0)if(l[1]&128)l=l.slice(1);else return!1;return this.r=new $M(s),this.s=new $M(l),this.recoveryParam=null,!0};function SK(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}YM.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=Jhe(r),n=Jhe(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];SK(i,r.length),i=i.concat(r),i.push(2),SK(i,n.length);var o=i.concat(n),s=[48];return SK(s,o.length),s=s.concat(o),AK.encode(s,e)}});var n0e=V((fzt,r0e)=>{"use strict";d();h();var hl=Id(),t0e=Yhe(),p$e=nu(),EK=GM(),m$e=xM(),Hb=p$e.assert,_K=Qhe(),ZM=e0e();function sf(t){if(!(this instanceof sf))return new sf(t);typeof t=="string"&&(Hb(Object.prototype.hasOwnProperty.call(EK,t),"Unknown curve "+t),t=EK[t]),t instanceof EK.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}r0e.exports=sf;sf.prototype.keyPair=function(e){return new _K(this,e)};sf.prototype.keyFromPrivate=function(e,r){return _K.fromPrivate(this,e,r)};sf.prototype.keyFromPublic=function(e,r){return _K.fromPublic(this,e,r)};sf.prototype.genKeyPair=function(e){e||(e={});for(var r=new t0e({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||m$e(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new hl(2));;){var o=new hl(r.generate(n));if(!(o.cmp(i)>0))return o.iaddn(1),this.keyFromPrivate(o)}};sf.prototype._truncateToN=function(e,r,n){var i;if(hl.isBN(e)||typeof e=="number")e=new hl(e,16),i=e.byteLength();else if(typeof e=="object")i=e.length,e=new hl(e,16);else{var o=e.toString();i=o.length+1>>>1,e=new hl(o,16)}typeof n!="number"&&(n=i*8);var s=n-this.n.bitLength();return s>0&&(e=e.ushrn(s)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};sf.prototype.sign=function(e,r,n,i){if(typeof n=="object"&&(i=n,n=null),i||(i={}),typeof e!="string"&&typeof e!="number"&&!hl.isBN(e)){Hb(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),Hb(e.length>>>0===e.length);for(var o=0;o<e.length;o++)Hb((e[o]&255)===e[o])}r=this.keyFromPrivate(r,n),e=this._truncateToN(e,!1,i.msgBitLength),Hb(!e.isNeg(),"Can not sign a negative message");var s=this.n.byteLength(),c=r.getPrivate().toArray("be",s),l=e.toArray("be",s);Hb(new hl(l).eq(e),"Can not sign message");for(var m=new t0e({hash:this.hash,entropy:c,nonce:l,pers:i.pers,persEnc:i.persEnc||"utf8"}),w=this.n.sub(new hl(1)),b=0;;b++){var E=i.k?i.k(b):new hl(m.generate(this.n.byteLength()));if(E=this._truncateToN(E,!0),!(E.cmpn(1)<=0||E.cmp(w)>=0)){var I=this.g.mul(E);if(!I.isInfinity()){var M=I.getX(),k=M.umod(this.n);if(k.cmpn(0)!==0){var R=E.invm(this.n).mul(k.mul(r.getPrivate()).iadd(e));if(R=R.umod(this.n),R.cmpn(0)!==0){var B=(I.getY().isOdd()?1:0)|(M.cmp(k)!==0?2:0);return i.canonical&&R.cmp(this.nh)>0&&(R=this.n.sub(R),B^=1),new ZM({r:k,s:R,recoveryParam:B})}}}}}};sf.prototype.verify=function(e,r,n,i,o){o||(o={}),e=this._truncateToN(e,!1,o.msgBitLength),n=this.keyFromPublic(n,i),r=new ZM(r,"hex");var s=r.r,c=r.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||c.cmpn(1)<0||c.cmp(this.n)>=0)return!1;var l=c.invm(this.n),m=l.mul(e).umod(this.n),w=l.mul(s).umod(this.n),b;return this.curve._maxwellTrick?(b=this.g.jmulAdd(m,n.getPublic(),w),b.isInfinity()?!1:b.eqXToP(s)):(b=this.g.mulAdd(m,n.getPublic(),w),b.isInfinity()?!1:b.getX().umod(this.n).cmp(s)===0)};sf.prototype.recoverPubKey=function(t,e,r,n){Hb((3&r)===r,"The recovery param is more than two bits"),e=new ZM(e,n);var i=this.n,o=new hl(t),s=e.r,c=e.s,l=r&1,m=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&m)throw new Error("Unable to find sencond key candinate");m?s=this.curve.pointFromX(s.add(this.curve.n),l):s=this.curve.pointFromX(s,l);var w=e.r.invm(i),b=i.sub(o).mul(w).umod(i),E=c.mul(w).umod(i);return this.g.mulAdd(b,s,E)};sf.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new ZM(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(t,e,i)}catch{continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")}});var a0e=V((hzt,s0e)=>{"use strict";d();h();var W3=nu(),o0e=W3.assert,i0e=W3.parseBytes,lw=W3.cachedProperty;function as(t,e){this.eddsa=t,this._secret=i0e(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=i0e(e.pub)}as.fromPublic=function(e,r){return r instanceof as?r:new as(e,{pub:r})};as.fromSecret=function(e,r){return r instanceof as?r:new as(e,{secret:r})};as.prototype.secret=function(){return this._secret};lw(as,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});lw(as,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});lw(as,"privBytes",function(){var e=this.eddsa,r=this.hash(),n=e.encodingLength-1,i=r.slice(0,e.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i});lw(as,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});lw(as,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});lw(as,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});as.prototype.sign=function(e){return o0e(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};as.prototype.verify=function(e,r){return this.eddsa.verify(e,r,this)};as.prototype.getSecret=function(e){return o0e(this._secret,"KeyPair is public only"),W3.encode(this.secret(),e)};as.prototype.getPublic=function(e){return W3.encode(this.pubBytes(),e)};s0e.exports=as});var f0e=V((yzt,u0e)=>{"use strict";d();h();var y$e=Id(),QM=nu(),c0e=QM.assert,JM=QM.cachedProperty,g$e=QM.parseBytes;function jb(t,e){this.eddsa=t,typeof e!="object"&&(e=g$e(e)),Array.isArray(e)&&(c0e(e.length===t.encodingLength*2,"Signature has invalid size"),e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),c0e(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof y$e&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}JM(jb,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});JM(jb,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});JM(jb,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});JM(jb,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});jb.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};jb.prototype.toHex=function(){return QM.encode(this.toBytes(),"hex").toUpperCase()};u0e.exports=jb});var m0e=V((vzt,p0e)=>{"use strict";d();h();var b$e=fw(),v$e=GM(),dw=nu(),x$e=dw.assert,d0e=dw.parseBytes,h0e=a0e(),l0e=f0e();function vc(t){if(x$e(t==="ed25519","only tested with ed25519 so far"),!(this instanceof vc))return new vc(t);t=v$e[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=b$e.sha512}p0e.exports=vc;vc.prototype.sign=function(e,r){e=d0e(e);var n=this.keyFromSecret(r),i=this.hashInt(n.messagePrefix(),e),o=this.g.mul(i),s=this.encodePoint(o),c=this.hashInt(s,n.pubBytes(),e).mul(n.priv()),l=i.add(c).umod(this.curve.n);return this.makeSignature({R:o,S:l,Rencoded:s})};vc.prototype.verify=function(e,r,n){if(e=d0e(e),r=this.makeSignature(r),r.S().gte(r.eddsa.curve.n)||r.S().isNeg())return!1;var i=this.keyFromPublic(n),o=this.hashInt(r.Rencoded(),i.pubBytes(),e),s=this.g.mul(r.S()),c=r.R().add(i.pub().mul(o));return c.eq(s)};vc.prototype.hashInt=function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return dw.intFromLE(e.digest()).umod(this.curve.n)};vc.prototype.keyFromPublic=function(e){return h0e.fromPublic(this,e)};vc.prototype.keyFromSecret=function(e){return h0e.fromSecret(this,e)};vc.prototype.makeSignature=function(e){return e instanceof l0e?e:new l0e(this,e)};vc.prototype.encodePoint=function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r};vc.prototype.decodePoint=function(e){e=dw.parseBytes(e);var r=e.length-1,n=e.slice(0,r).concat(e[r]&-129),i=(e[r]&128)!==0,o=dw.intFromLE(n);return this.curve.pointFromY(o,i)};vc.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};vc.prototype.decodeInt=function(e){return dw.intFromLE(e)};vc.prototype.isPoint=function(e){return e instanceof this.pointClass}});var hw=V(y0e=>{"use strict";d();h();var zb=y0e;zb.version=Gde().version;zb.utils=nu();zb.rand=xM();zb.curve=cK();zb.curves=GM();zb.ec=n0e();zb.eddsa=m0e()});var IK=V((g0e,TK)=>{d();h();(function(t,e){"use strict";function r(S,a){if(!S)throw new Error(a||"Assertion failed")}function n(S,a){S.super_=a;var f=function(){};f.prototype=a.prototype,S.prototype=new f,S.prototype.constructor=S}function i(S,a,f){if(i.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((a==="le"||a==="be")&&(f=a,a=10),this._init(S||0,a||10,f||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof self<"u"&&typeof self.Buffer<"u"?o=self.Buffer:o=Fp().Buffer}catch{}i.isBN=function(a){return a instanceof i?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===i.wordSize&&Array.isArray(a.words)},i.max=function(a,f){return a.cmp(f)>0?a:f},i.min=function(a,f){return a.cmp(f)<0?a:f},i.prototype._init=function(a,f,p){if(typeof a=="number")return this._initNumber(a,f,p);if(typeof a=="object")return this._initArray(a,f,p);f==="hex"&&(f=16),r(f===(f|0)&&f>=2&&f<=36),a=a.toString().replace(/\s+/g,"");var y=0;a[0]==="-"&&(y++,this.negative=1),y<a.length&&(f===16?this._parseHex(a,y,p):(this._parseBase(a,f,y),p==="le"&&this._initArray(this.toArray(),f,p)))},i.prototype._initNumber=function(a,f,p){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(r(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),f,p)},i.prototype._initArray=function(a,f,p){if(r(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var g,A,_=0;if(p==="be")for(y=a.length-1,g=0;y>=0;y-=3)A=a[y]|a[y-1]<<8|a[y-2]<<16,this.words[g]|=A<<_&67108863,this.words[g+1]=A>>>26-_&67108863,_+=24,_>=26&&(_-=26,g++);else if(p==="le")for(y=0,g=0;y<a.length;y+=3)A=a[y]|a[y+1]<<8|a[y+2]<<16,this.words[g]|=A<<_&67108863,this.words[g+1]=A>>>26-_&67108863,_+=24,_>=26&&(_-=26,g++);return this.strip()};function s(S,a){var f=S.charCodeAt(a);return f>=65&&f<=70?f-55:f>=97&&f<=102?f-87:f-48&15}function c(S,a,f){var p=s(S,f);return f-1>=a&&(p|=s(S,f-1)<<4),p}i.prototype._parseHex=function(a,f,p){this.length=Math.ceil((a.length-f)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var g=0,A=0,_;if(p==="be")for(y=a.length-1;y>=f;y-=2)_=c(a,f,y)<<g,this.words[A]|=_&67108863,g>=18?(g-=18,A+=1,this.words[A]|=_>>>26):g+=8;else{var v=a.length-f;for(y=v%2===0?f+1:f;y<a.length;y+=2)_=c(a,f,y)<<g,this.words[A]|=_&67108863,g>=18?(g-=18,A+=1,this.words[A]|=_>>>26):g+=8}this.strip()};function l(S,a,f,p){for(var y=0,g=Math.min(S.length,f),A=a;A<g;A++){var _=S.charCodeAt(A)-48;y*=p,_>=49?y+=_-49+10:_>=17?y+=_-17+10:y+=_}return y}i.prototype._parseBase=function(a,f,p){this.words=[0],this.length=1;for(var y=0,g=1;g<=67108863;g*=f)y++;y--,g=g/f|0;for(var A=a.length-p,_=A%y,v=Math.min(A,A-_)+p,u=0,x=p;x<v;x+=y)u=l(a,x,x+y,f),this.imuln(g),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(_!==0){var L=1;for(u=l(a,x,a.length,f),x=0;x<_;x++)L*=f;this.imuln(L),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},i.prototype.copy=function(a){a.words=new Array(this.length);for(var f=0;f<this.length;f++)a.words[f]=this.words[f];a.length=this.length,a.negative=this.negative,a.red=this.red},i.prototype.clone=function(){var a=new i(null);return this.copy(a),a},i.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],w=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(a,f){a=a||10,f=f|0||1;var p;if(a===16||a==="hex"){p="";for(var y=0,g=0,A=0;A<this.length;A++){var _=this.words[A],v=((_<<y|g)&16777215).toString(16);g=_>>>24-y&16777215,g!==0||A!==this.length-1?p=m[6-v.length]+v+p:p=v+p,y+=2,y>=26&&(y-=26,A--)}for(g!==0&&(p=g.toString(16)+p);p.length%f!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(a===(a|0)&&a>=2&&a<=36){var u=w[a],x=b[a];p="";var L=this.clone();for(L.negative=0;!L.isZero();){var D=L.modn(x).toString(a);L=L.idivn(x),L.isZero()?p=D+p:p=m[u-D.length]+D+p}for(this.isZero()&&(p="0"+p);p.length%f!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(a,f){return r(typeof o<"u"),this.toArrayLike(o,a,f)},i.prototype.toArray=function(a,f){return this.toArrayLike(Array,a,f)},i.prototype.toArrayLike=function(a,f,p){var y=this.byteLength(),g=p||Math.max(1,y);r(y<=g,"byte array longer than desired length"),r(g>0,"Requested array length <= 0"),this.strip();var A=f==="le",_=new a(g),v,u,x=this.clone();if(A){for(u=0;!x.isZero();u++)v=x.andln(255),x.iushrn(8),_[u]=v;for(;u<g;u++)_[u]=0}else{for(u=0;u<g-y;u++)_[u]=0;for(u=0;!x.isZero();u++)v=x.andln(255),x.iushrn(8),_[g-u-1]=v}return _},Math.clz32?i.prototype._countBits=function(a){return 32-Math.clz32(a)}:i.prototype._countBits=function(a){var f=a,p=0;return f>=4096&&(p+=13,f>>>=13),f>=64&&(p+=7,f>>>=7),f>=8&&(p+=4,f>>>=4),f>=2&&(p+=2,f>>>=2),p+f},i.prototype._zeroBits=function(a){if(a===0)return 26;var f=a,p=0;return f&8191||(p+=13,f>>>=13),f&127||(p+=7,f>>>=7),f&15||(p+=4,f>>>=4),f&3||(p+=2,f>>>=2),f&1||p++,p},i.prototype.bitLength=function(){var a=this.words[this.length-1],f=this._countBits(a);return(this.length-1)*26+f};function E(S){for(var a=new Array(S.bitLength()),f=0;f<a.length;f++){var p=f/26|0,y=f%26;a[f]=(S.words[p]&1<<y)>>>y}return a}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,f=0;f<this.length;f++){var p=this._zeroBits(this.words[f]);if(a+=p,p!==26)break}return a},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},i.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var f=0;f<a.length;f++)this.words[f]=this.words[f]|a.words[f];return this.strip()},i.prototype.ior=function(a){return r((this.negative|a.negative)===0),this.iuor(a)},i.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},i.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},i.prototype.iuand=function(a){var f;this.length>a.length?f=a:f=this;for(var p=0;p<f.length;p++)this.words[p]=this.words[p]&a.words[p];return this.length=f.length,this.strip()},i.prototype.iand=function(a){return r((this.negative|a.negative)===0),this.iuand(a)},i.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},i.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},i.prototype.iuxor=function(a){var f,p;this.length>a.length?(f=this,p=a):(f=a,p=this);for(var y=0;y<p.length;y++)this.words[y]=f.words[y]^p.words[y];if(this!==f)for(;y<f.length;y++)this.words[y]=f.words[y];return this.length=f.length,this.strip()},i.prototype.ixor=function(a){return r((this.negative|a.negative)===0),this.iuxor(a)},i.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},i.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},i.prototype.inotn=function(a){r(typeof a=="number"&&a>=0);var f=Math.ceil(a/26)|0,p=a%26;this._expand(f),p>0&&f--;for(var y=0;y<f;y++)this.words[y]=~this.words[y]&67108863;return p>0&&(this.words[y]=~this.words[y]&67108863>>26-p),this.strip()},i.prototype.notn=function(a){return this.clone().inotn(a)},i.prototype.setn=function(a,f){r(typeof a=="number"&&a>=0);var p=a/26|0,y=a%26;return this._expand(p+1),f?this.words[p]=this.words[p]|1<<y:this.words[p]=this.words[p]&~(1<<y),this.strip()},i.prototype.iadd=function(a){var f;if(this.negative!==0&&a.negative===0)return this.negative=0,f=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,f=this.isub(a),a.negative=1,f._normSign();var p,y;this.length>a.length?(p=this,y=a):(p=a,y=this);for(var g=0,A=0;A<y.length;A++)f=(p.words[A]|0)+(y.words[A]|0)+g,this.words[A]=f&67108863,g=f>>>26;for(;g!==0&&A<p.length;A++)f=(p.words[A]|0)+g,this.words[A]=f&67108863,g=f>>>26;if(this.length=p.length,g!==0)this.words[this.length]=g,this.length++;else if(p!==this)for(;A<p.length;A++)this.words[A]=p.words[A];return this},i.prototype.add=function(a){var f;return a.negative!==0&&this.negative===0?(a.negative=0,f=this.sub(a),a.negative^=1,f):a.negative===0&&this.negative!==0?(this.negative=0,f=a.sub(this),this.negative=1,f):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},i.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var f=this.iadd(a);return a.negative=1,f._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var p=this.cmp(a);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var y,g;p>0?(y=this,g=a):(y=a,g=this);for(var A=0,_=0;_<g.length;_++)f=(y.words[_]|0)-(g.words[_]|0)+A,A=f>>26,this.words[_]=f&67108863;for(;A!==0&&_<y.length;_++)f=(y.words[_]|0)+A,A=f>>26,this.words[_]=f&67108863;if(A===0&&_<y.length&&y!==this)for(;_<y.length;_++)this.words[_]=y.words[_];return this.length=Math.max(this.length,_),y!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(a){return this.clone().isub(a)};function I(S,a,f){f.negative=a.negative^S.negative;var p=S.length+a.length|0;f.length=p,p=p-1|0;var y=S.words[0]|0,g=a.words[0]|0,A=y*g,_=A&67108863,v=A/67108864|0;f.words[0]=_;for(var u=1;u<p;u++){for(var x=v>>>26,L=v&67108863,D=Math.min(u,a.length-1),C=Math.max(0,u-S.length+1);C<=D;C++){var z=u-C|0;y=S.words[z]|0,g=a.words[C]|0,A=y*g+L,x+=A/67108864|0,L=A&67108863}f.words[u]=L|0,v=x|0}return v!==0?f.words[u]=v|0:f.length--,f.strip()}var M=function(a,f,p){var y=a.words,g=f.words,A=p.words,_=0,v,u,x,L=y[0]|0,D=L&8191,C=L>>>13,z=y[1]|0,ee=z&8191,ne=z>>>13,Ke=y[2]|0,ae=Ke&8191,W=Ke>>>13,he=y[3]|0,te=he&8191,ce=he>>>13,Ze=y[4]|0,se=Ze&8191,le=Ze>>>13,Bt=y[5]|0,ge=Bt&8191,ye=Bt>>>13,$r=y[6]|0,Ie=$r&8191,we=$r>>>13,gn=y[7]|0,ve=gn&8191,Be=gn>>>13,In=y[8]|0,Re=In&8191,Ce=In>>>13,Rn=y[9]|0,De=Rn&8191,Me=Rn>>>13,Mn=g[0]|0,_e=Mn&8191,Se=Mn>>>13,en=g[1]|0,Ae=en&8191,Te=en>>>13,un=g[2]|0,Ee=un&8191,ke=un>>>13,Cn=g[3]|0,Ue=Cn&8191,Le=Cn>>>13,Or=g[4]|0,be=Or&8191,xe=Or>>>13,kn=g[5]|0,Pe=kn&8191,Oe=kn>>>13,Ln=g[6]|0,me=Ln&8191,Ne=Ln>>>13,Y=g[7]|0,j=Y&8191,H=Y>>>13,O=g[8]|0,Z=O&8191,X=O>>>13,pe=g[9]|0,oe=pe&8191,ue=pe>>>13;p.negative=a.negative^f.negative,p.length=19,v=Math.imul(D,_e),u=Math.imul(D,Se),u=u+Math.imul(C,_e)|0,x=Math.imul(C,Se);var at=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(at>>>26)|0,at&=67108863,v=Math.imul(ee,_e),u=Math.imul(ee,Se),u=u+Math.imul(ne,_e)|0,x=Math.imul(ne,Se),v=v+Math.imul(D,Ae)|0,u=u+Math.imul(D,Te)|0,u=u+Math.imul(C,Ae)|0,x=x+Math.imul(C,Te)|0;var Je=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(Je>>>26)|0,Je&=67108863,v=Math.imul(ae,_e),u=Math.imul(ae,Se),u=u+Math.imul(W,_e)|0,x=Math.imul(W,Se),v=v+Math.imul(ee,Ae)|0,u=u+Math.imul(ee,Te)|0,u=u+Math.imul(ne,Ae)|0,x=x+Math.imul(ne,Te)|0,v=v+Math.imul(D,Ee)|0,u=u+Math.imul(D,ke)|0,u=u+Math.imul(C,Ee)|0,x=x+Math.imul(C,ke)|0;var At=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(At>>>26)|0,At&=67108863,v=Math.imul(te,_e),u=Math.imul(te,Se),u=u+Math.imul(ce,_e)|0,x=Math.imul(ce,Se),v=v+Math.imul(ae,Ae)|0,u=u+Math.imul(ae,Te)|0,u=u+Math.imul(W,Ae)|0,x=x+Math.imul(W,Te)|0,v=v+Math.imul(ee,Ee)|0,u=u+Math.imul(ee,ke)|0,u=u+Math.imul(ne,Ee)|0,x=x+Math.imul(ne,ke)|0,v=v+Math.imul(D,Ue)|0,u=u+Math.imul(D,Le)|0,u=u+Math.imul(C,Ue)|0,x=x+Math.imul(C,Le)|0;var tt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(tt>>>26)|0,tt&=67108863,v=Math.imul(se,_e),u=Math.imul(se,Se),u=u+Math.imul(le,_e)|0,x=Math.imul(le,Se),v=v+Math.imul(te,Ae)|0,u=u+Math.imul(te,Te)|0,u=u+Math.imul(ce,Ae)|0,x=x+Math.imul(ce,Te)|0,v=v+Math.imul(ae,Ee)|0,u=u+Math.imul(ae,ke)|0,u=u+Math.imul(W,Ee)|0,x=x+Math.imul(W,ke)|0,v=v+Math.imul(ee,Ue)|0,u=u+Math.imul(ee,Le)|0,u=u+Math.imul(ne,Ue)|0,x=x+Math.imul(ne,Le)|0,v=v+Math.imul(D,be)|0,u=u+Math.imul(D,xe)|0,u=u+Math.imul(C,be)|0,x=x+Math.imul(C,xe)|0;var dt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(dt>>>26)|0,dt&=67108863,v=Math.imul(ge,_e),u=Math.imul(ge,Se),u=u+Math.imul(ye,_e)|0,x=Math.imul(ye,Se),v=v+Math.imul(se,Ae)|0,u=u+Math.imul(se,Te)|0,u=u+Math.imul(le,Ae)|0,x=x+Math.imul(le,Te)|0,v=v+Math.imul(te,Ee)|0,u=u+Math.imul(te,ke)|0,u=u+Math.imul(ce,Ee)|0,x=x+Math.imul(ce,ke)|0,v=v+Math.imul(ae,Ue)|0,u=u+Math.imul(ae,Le)|0,u=u+Math.imul(W,Ue)|0,x=x+Math.imul(W,Le)|0,v=v+Math.imul(ee,be)|0,u=u+Math.imul(ee,xe)|0,u=u+Math.imul(ne,be)|0,x=x+Math.imul(ne,xe)|0,v=v+Math.imul(D,Pe)|0,u=u+Math.imul(D,Oe)|0,u=u+Math.imul(C,Pe)|0,x=x+Math.imul(C,Oe)|0;var ht=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(ht>>>26)|0,ht&=67108863,v=Math.imul(Ie,_e),u=Math.imul(Ie,Se),u=u+Math.imul(we,_e)|0,x=Math.imul(we,Se),v=v+Math.imul(ge,Ae)|0,u=u+Math.imul(ge,Te)|0,u=u+Math.imul(ye,Ae)|0,x=x+Math.imul(ye,Te)|0,v=v+Math.imul(se,Ee)|0,u=u+Math.imul(se,ke)|0,u=u+Math.imul(le,Ee)|0,x=x+Math.imul(le,ke)|0,v=v+Math.imul(te,Ue)|0,u=u+Math.imul(te,Le)|0,u=u+Math.imul(ce,Ue)|0,x=x+Math.imul(ce,Le)|0,v=v+Math.imul(ae,be)|0,u=u+Math.imul(ae,xe)|0,u=u+Math.imul(W,be)|0,x=x+Math.imul(W,xe)|0,v=v+Math.imul(ee,Pe)|0,u=u+Math.imul(ee,Oe)|0,u=u+Math.imul(ne,Pe)|0,x=x+Math.imul(ne,Oe)|0,v=v+Math.imul(D,me)|0,u=u+Math.imul(D,Ne)|0,u=u+Math.imul(C,me)|0,x=x+Math.imul(C,Ne)|0;var bt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(bt>>>26)|0,bt&=67108863,v=Math.imul(ve,_e),u=Math.imul(ve,Se),u=u+Math.imul(Be,_e)|0,x=Math.imul(Be,Se),v=v+Math.imul(Ie,Ae)|0,u=u+Math.imul(Ie,Te)|0,u=u+Math.imul(we,Ae)|0,x=x+Math.imul(we,Te)|0,v=v+Math.imul(ge,Ee)|0,u=u+Math.imul(ge,ke)|0,u=u+Math.imul(ye,Ee)|0,x=x+Math.imul(ye,ke)|0,v=v+Math.imul(se,Ue)|0,u=u+Math.imul(se,Le)|0,u=u+Math.imul(le,Ue)|0,x=x+Math.imul(le,Le)|0,v=v+Math.imul(te,be)|0,u=u+Math.imul(te,xe)|0,u=u+Math.imul(ce,be)|0,x=x+Math.imul(ce,xe)|0,v=v+Math.imul(ae,Pe)|0,u=u+Math.imul(ae,Oe)|0,u=u+Math.imul(W,Pe)|0,x=x+Math.imul(W,Oe)|0,v=v+Math.imul(ee,me)|0,u=u+Math.imul(ee,Ne)|0,u=u+Math.imul(ne,me)|0,x=x+Math.imul(ne,Ne)|0,v=v+Math.imul(D,j)|0,u=u+Math.imul(D,H)|0,u=u+Math.imul(C,j)|0,x=x+Math.imul(C,H)|0;var gt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(gt>>>26)|0,gt&=67108863,v=Math.imul(Re,_e),u=Math.imul(Re,Se),u=u+Math.imul(Ce,_e)|0,x=Math.imul(Ce,Se),v=v+Math.imul(ve,Ae)|0,u=u+Math.imul(ve,Te)|0,u=u+Math.imul(Be,Ae)|0,x=x+Math.imul(Be,Te)|0,v=v+Math.imul(Ie,Ee)|0,u=u+Math.imul(Ie,ke)|0,u=u+Math.imul(we,Ee)|0,x=x+Math.imul(we,ke)|0,v=v+Math.imul(ge,Ue)|0,u=u+Math.imul(ge,Le)|0,u=u+Math.imul(ye,Ue)|0,x=x+Math.imul(ye,Le)|0,v=v+Math.imul(se,be)|0,u=u+Math.imul(se,xe)|0,u=u+Math.imul(le,be)|0,x=x+Math.imul(le,xe)|0,v=v+Math.imul(te,Pe)|0,u=u+Math.imul(te,Oe)|0,u=u+Math.imul(ce,Pe)|0,x=x+Math.imul(ce,Oe)|0,v=v+Math.imul(ae,me)|0,u=u+Math.imul(ae,Ne)|0,u=u+Math.imul(W,me)|0,x=x+Math.imul(W,Ne)|0,v=v+Math.imul(ee,j)|0,u=u+Math.imul(ee,H)|0,u=u+Math.imul(ne,j)|0,x=x+Math.imul(ne,H)|0,v=v+Math.imul(D,Z)|0,u=u+Math.imul(D,X)|0,u=u+Math.imul(C,Z)|0,x=x+Math.imul(C,X)|0;var pt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(pt>>>26)|0,pt&=67108863,v=Math.imul(De,_e),u=Math.imul(De,Se),u=u+Math.imul(Me,_e)|0,x=Math.imul(Me,Se),v=v+Math.imul(Re,Ae)|0,u=u+Math.imul(Re,Te)|0,u=u+Math.imul(Ce,Ae)|0,x=x+Math.imul(Ce,Te)|0,v=v+Math.imul(ve,Ee)|0,u=u+Math.imul(ve,ke)|0,u=u+Math.imul(Be,Ee)|0,x=x+Math.imul(Be,ke)|0,v=v+Math.imul(Ie,Ue)|0,u=u+Math.imul(Ie,Le)|0,u=u+Math.imul(we,Ue)|0,x=x+Math.imul(we,Le)|0,v=v+Math.imul(ge,be)|0,u=u+Math.imul(ge,xe)|0,u=u+Math.imul(ye,be)|0,x=x+Math.imul(ye,xe)|0,v=v+Math.imul(se,Pe)|0,u=u+Math.imul(se,Oe)|0,u=u+Math.imul(le,Pe)|0,x=x+Math.imul(le,Oe)|0,v=v+Math.imul(te,me)|0,u=u+Math.imul(te,Ne)|0,u=u+Math.imul(ce,me)|0,x=x+Math.imul(ce,Ne)|0,v=v+Math.imul(ae,j)|0,u=u+Math.imul(ae,H)|0,u=u+Math.imul(W,j)|0,x=x+Math.imul(W,H)|0,v=v+Math.imul(ee,Z)|0,u=u+Math.imul(ee,X)|0,u=u+Math.imul(ne,Z)|0,x=x+Math.imul(ne,X)|0,v=v+Math.imul(D,oe)|0,u=u+Math.imul(D,ue)|0,u=u+Math.imul(C,oe)|0,x=x+Math.imul(C,ue)|0;var yt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(yt>>>26)|0,yt&=67108863,v=Math.imul(De,Ae),u=Math.imul(De,Te),u=u+Math.imul(Me,Ae)|0,x=Math.imul(Me,Te),v=v+Math.imul(Re,Ee)|0,u=u+Math.imul(Re,ke)|0,u=u+Math.imul(Ce,Ee)|0,x=x+Math.imul(Ce,ke)|0,v=v+Math.imul(ve,Ue)|0,u=u+Math.imul(ve,Le)|0,u=u+Math.imul(Be,Ue)|0,x=x+Math.imul(Be,Le)|0,v=v+Math.imul(Ie,be)|0,u=u+Math.imul(Ie,xe)|0,u=u+Math.imul(we,be)|0,x=x+Math.imul(we,xe)|0,v=v+Math.imul(ge,Pe)|0,u=u+Math.imul(ge,Oe)|0,u=u+Math.imul(ye,Pe)|0,x=x+Math.imul(ye,Oe)|0,v=v+Math.imul(se,me)|0,u=u+Math.imul(se,Ne)|0,u=u+Math.imul(le,me)|0,x=x+Math.imul(le,Ne)|0,v=v+Math.imul(te,j)|0,u=u+Math.imul(te,H)|0,u=u+Math.imul(ce,j)|0,x=x+Math.imul(ce,H)|0,v=v+Math.imul(ae,Z)|0,u=u+Math.imul(ae,X)|0,u=u+Math.imul(W,Z)|0,x=x+Math.imul(W,X)|0,v=v+Math.imul(ee,oe)|0,u=u+Math.imul(ee,ue)|0,u=u+Math.imul(ne,oe)|0,x=x+Math.imul(ne,ue)|0;var mt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(mt>>>26)|0,mt&=67108863,v=Math.imul(De,Ee),u=Math.imul(De,ke),u=u+Math.imul(Me,Ee)|0,x=Math.imul(Me,ke),v=v+Math.imul(Re,Ue)|0,u=u+Math.imul(Re,Le)|0,u=u+Math.imul(Ce,Ue)|0,x=x+Math.imul(Ce,Le)|0,v=v+Math.imul(ve,be)|0,u=u+Math.imul(ve,xe)|0,u=u+Math.imul(Be,be)|0,x=x+Math.imul(Be,xe)|0,v=v+Math.imul(Ie,Pe)|0,u=u+Math.imul(Ie,Oe)|0,u=u+Math.imul(we,Pe)|0,x=x+Math.imul(we,Oe)|0,v=v+Math.imul(ge,me)|0,u=u+Math.imul(ge,Ne)|0,u=u+Math.imul(ye,me)|0,x=x+Math.imul(ye,Ne)|0,v=v+Math.imul(se,j)|0,u=u+Math.imul(se,H)|0,u=u+Math.imul(le,j)|0,x=x+Math.imul(le,H)|0,v=v+Math.imul(te,Z)|0,u=u+Math.imul(te,X)|0,u=u+Math.imul(ce,Z)|0,x=x+Math.imul(ce,X)|0,v=v+Math.imul(ae,oe)|0,u=u+Math.imul(ae,ue)|0,u=u+Math.imul(W,oe)|0,x=x+Math.imul(W,ue)|0;var it=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(it>>>26)|0,it&=67108863,v=Math.imul(De,Ue),u=Math.imul(De,Le),u=u+Math.imul(Me,Ue)|0,x=Math.imul(Me,Le),v=v+Math.imul(Re,be)|0,u=u+Math.imul(Re,xe)|0,u=u+Math.imul(Ce,be)|0,x=x+Math.imul(Ce,xe)|0,v=v+Math.imul(ve,Pe)|0,u=u+Math.imul(ve,Oe)|0,u=u+Math.imul(Be,Pe)|0,x=x+Math.imul(Be,Oe)|0,v=v+Math.imul(Ie,me)|0,u=u+Math.imul(Ie,Ne)|0,u=u+Math.imul(we,me)|0,x=x+Math.imul(we,Ne)|0,v=v+Math.imul(ge,j)|0,u=u+Math.imul(ge,H)|0,u=u+Math.imul(ye,j)|0,x=x+Math.imul(ye,H)|0,v=v+Math.imul(se,Z)|0,u=u+Math.imul(se,X)|0,u=u+Math.imul(le,Z)|0,x=x+Math.imul(le,X)|0,v=v+Math.imul(te,oe)|0,u=u+Math.imul(te,ue)|0,u=u+Math.imul(ce,oe)|0,x=x+Math.imul(ce,ue)|0;var ut=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(ut>>>26)|0,ut&=67108863,v=Math.imul(De,be),u=Math.imul(De,xe),u=u+Math.imul(Me,be)|0,x=Math.imul(Me,xe),v=v+Math.imul(Re,Pe)|0,u=u+Math.imul(Re,Oe)|0,u=u+Math.imul(Ce,Pe)|0,x=x+Math.imul(Ce,Oe)|0,v=v+Math.imul(ve,me)|0,u=u+Math.imul(ve,Ne)|0,u=u+Math.imul(Be,me)|0,x=x+Math.imul(Be,Ne)|0,v=v+Math.imul(Ie,j)|0,u=u+Math.imul(Ie,H)|0,u=u+Math.imul(we,j)|0,x=x+Math.imul(we,H)|0,v=v+Math.imul(ge,Z)|0,u=u+Math.imul(ge,X)|0,u=u+Math.imul(ye,Z)|0,x=x+Math.imul(ye,X)|0,v=v+Math.imul(se,oe)|0,u=u+Math.imul(se,ue)|0,u=u+Math.imul(le,oe)|0,x=x+Math.imul(le,ue)|0;var Xe=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,v=Math.imul(De,Pe),u=Math.imul(De,Oe),u=u+Math.imul(Me,Pe)|0,x=Math.imul(Me,Oe),v=v+Math.imul(Re,me)|0,u=u+Math.imul(Re,Ne)|0,u=u+Math.imul(Ce,me)|0,x=x+Math.imul(Ce,Ne)|0,v=v+Math.imul(ve,j)|0,u=u+Math.imul(ve,H)|0,u=u+Math.imul(Be,j)|0,x=x+Math.imul(Be,H)|0,v=v+Math.imul(Ie,Z)|0,u=u+Math.imul(Ie,X)|0,u=u+Math.imul(we,Z)|0,x=x+Math.imul(we,X)|0,v=v+Math.imul(ge,oe)|0,u=u+Math.imul(ge,ue)|0,u=u+Math.imul(ye,oe)|0,x=x+Math.imul(ye,ue)|0;var ot=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(ot>>>26)|0,ot&=67108863,v=Math.imul(De,me),u=Math.imul(De,Ne),u=u+Math.imul(Me,me)|0,x=Math.imul(Me,Ne),v=v+Math.imul(Re,j)|0,u=u+Math.imul(Re,H)|0,u=u+Math.imul(Ce,j)|0,x=x+Math.imul(Ce,H)|0,v=v+Math.imul(ve,Z)|0,u=u+Math.imul(ve,X)|0,u=u+Math.imul(Be,Z)|0,x=x+Math.imul(Be,X)|0,v=v+Math.imul(Ie,oe)|0,u=u+Math.imul(Ie,ue)|0,u=u+Math.imul(we,oe)|0,x=x+Math.imul(we,ue)|0;var st=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(st>>>26)|0,st&=67108863,v=Math.imul(De,j),u=Math.imul(De,H),u=u+Math.imul(Me,j)|0,x=Math.imul(Me,H),v=v+Math.imul(Re,Z)|0,u=u+Math.imul(Re,X)|0,u=u+Math.imul(Ce,Z)|0,x=x+Math.imul(Ce,X)|0,v=v+Math.imul(ve,oe)|0,u=u+Math.imul(ve,ue)|0,u=u+Math.imul(Be,oe)|0,x=x+Math.imul(Be,ue)|0;var Qe=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,v=Math.imul(De,Z),u=Math.imul(De,X),u=u+Math.imul(Me,Z)|0,x=Math.imul(Me,X),v=v+Math.imul(Re,oe)|0,u=u+Math.imul(Re,ue)|0,u=u+Math.imul(Ce,oe)|0,x=x+Math.imul(Ce,ue)|0;var Fe=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,v=Math.imul(De,oe),u=Math.imul(De,ue),u=u+Math.imul(Me,oe)|0,x=Math.imul(Me,ue);var Ve=(_+v|0)+((u&8191)<<13)|0;return _=(x+(u>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,A[0]=at,A[1]=Je,A[2]=At,A[3]=tt,A[4]=dt,A[5]=ht,A[6]=bt,A[7]=gt,A[8]=pt,A[9]=yt,A[10]=mt,A[11]=it,A[12]=ut,A[13]=Xe,A[14]=ot,A[15]=st,A[16]=Qe,A[17]=Fe,A[18]=Ve,_!==0&&(A[19]=_,p.length++),p};Math.imul||(M=I);function k(S,a,f){f.negative=a.negative^S.negative,f.length=S.length+a.length;for(var p=0,y=0,g=0;g<f.length-1;g++){var A=y;y=0;for(var _=p&67108863,v=Math.min(g,a.length-1),u=Math.max(0,g-S.length+1);u<=v;u++){var x=g-u,L=S.words[x]|0,D=a.words[u]|0,C=L*D,z=C&67108863;A=A+(C/67108864|0)|0,z=z+_|0,_=z&67108863,A=A+(z>>>26)|0,y+=A>>>26,A&=67108863}f.words[g]=_,p=A,A=y}return p!==0?f.words[g]=p:f.length--,f.strip()}function R(S,a,f){var p=new B;return p.mulp(S,a,f)}i.prototype.mulTo=function(a,f){var p,y=this.length+a.length;return this.length===10&&a.length===10?p=M(this,a,f):y<63?p=I(this,a,f):y<1024?p=k(this,a,f):p=R(this,a,f),p};function B(S,a){this.x=S,this.y=a}B.prototype.makeRBT=function(a){for(var f=new Array(a),p=i.prototype._countBits(a)-1,y=0;y<a;y++)f[y]=this.revBin(y,p,a);return f},B.prototype.revBin=function(a,f,p){if(a===0||a===p-1)return a;for(var y=0,g=0;g<f;g++)y|=(a&1)<<f-g-1,a>>=1;return y},B.prototype.permute=function(a,f,p,y,g,A){for(var _=0;_<A;_++)y[_]=f[a[_]],g[_]=p[a[_]]},B.prototype.transform=function(a,f,p,y,g,A){this.permute(A,a,f,p,y,g);for(var _=1;_<g;_<<=1)for(var v=_<<1,u=Math.cos(2*Math.PI/v),x=Math.sin(2*Math.PI/v),L=0;L<g;L+=v)for(var D=u,C=x,z=0;z<_;z++){var ee=p[L+z],ne=y[L+z],Ke=p[L+z+_],ae=y[L+z+_],W=D*Ke-C*ae;ae=D*ae+C*Ke,Ke=W,p[L+z]=ee+Ke,y[L+z]=ne+ae,p[L+z+_]=ee-Ke,y[L+z+_]=ne-ae,z!==v&&(W=u*D-x*C,C=u*C+x*D,D=W)}},B.prototype.guessLen13b=function(a,f){var p=Math.max(f,a)|1,y=p&1,g=0;for(p=p/2|0;p;p=p>>>1)g++;return 1<<g+1+y},B.prototype.conjugate=function(a,f,p){if(!(p<=1))for(var y=0;y<p/2;y++){var g=a[y];a[y]=a[p-y-1],a[p-y-1]=g,g=f[y],f[y]=-f[p-y-1],f[p-y-1]=-g}},B.prototype.normalize13b=function(a,f){for(var p=0,y=0;y<f/2;y++){var g=Math.round(a[2*y+1]/f)*8192+Math.round(a[2*y]/f)+p;a[y]=g&67108863,g<67108864?p=0:p=g/67108864|0}return a},B.prototype.convert13b=function(a,f,p,y){for(var g=0,A=0;A<f;A++)g=g+(a[A]|0),p[2*A]=g&8191,g=g>>>13,p[2*A+1]=g&8191,g=g>>>13;for(A=2*f;A<y;++A)p[A]=0;r(g===0),r((g&-8192)===0)},B.prototype.stub=function(a){for(var f=new Array(a),p=0;p<a;p++)f[p]=0;return f},B.prototype.mulp=function(a,f,p){var y=2*this.guessLen13b(a.length,f.length),g=this.makeRBT(y),A=this.stub(y),_=new Array(y),v=new Array(y),u=new Array(y),x=new Array(y),L=new Array(y),D=new Array(y),C=p.words;C.length=y,this.convert13b(a.words,a.length,_,y),this.convert13b(f.words,f.length,x,y),this.transform(_,A,v,u,y,g),this.transform(x,A,L,D,y,g);for(var z=0;z<y;z++){var ee=v[z]*L[z]-u[z]*D[z];u[z]=v[z]*D[z]+u[z]*L[z],v[z]=ee}return this.conjugate(v,u,y),this.transform(v,u,C,A,y,g),this.conjugate(C,A,y),this.normalize13b(C,y),p.negative=a.negative^f.negative,p.length=a.length+f.length,p.strip()},i.prototype.mul=function(a){var f=new i(null);return f.words=new Array(this.length+a.length),this.mulTo(a,f)},i.prototype.mulf=function(a){var f=new i(null);return f.words=new Array(this.length+a.length),R(this,a,f)},i.prototype.imul=function(a){return this.clone().mulTo(a,this)},i.prototype.imuln=function(a){r(typeof a=="number"),r(a<67108864);for(var f=0,p=0;p<this.length;p++){var y=(this.words[p]|0)*a,g=(y&67108863)+(f&67108863);f>>=26,f+=y/67108864|0,f+=g>>>26,this.words[p]=g&67108863}return f!==0&&(this.words[p]=f,this.length++),this},i.prototype.muln=function(a){return this.clone().imuln(a)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(a){var f=E(a);if(f.length===0)return new i(1);for(var p=this,y=0;y<f.length&&f[y]===0;y++,p=p.sqr());if(++y<f.length)for(var g=p.sqr();y<f.length;y++,g=g.sqr())f[y]!==0&&(p=p.mul(g));return p},i.prototype.iushln=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26,y=67108863>>>26-f<<26-f,g;if(f!==0){var A=0;for(g=0;g<this.length;g++){var _=this.words[g]&y,v=(this.words[g]|0)-_<<f;this.words[g]=v|A,A=_>>>26-f}A&&(this.words[g]=A,this.length++)}if(p!==0){for(g=this.length-1;g>=0;g--)this.words[g+p]=this.words[g];for(g=0;g<p;g++)this.words[g]=0;this.length+=p}return this.strip()},i.prototype.ishln=function(a){return r(this.negative===0),this.iushln(a)},i.prototype.iushrn=function(a,f,p){r(typeof a=="number"&&a>=0);var y;f?y=(f-f%26)/26:y=0;var g=a%26,A=Math.min((a-g)/26,this.length),_=67108863^67108863>>>g<<g,v=p;if(y-=A,y=Math.max(0,y),v){for(var u=0;u<A;u++)v.words[u]=this.words[u];v.length=A}if(A!==0)if(this.length>A)for(this.length-=A,u=0;u<this.length;u++)this.words[u]=this.words[u+A];else this.words[0]=0,this.length=1;var x=0;for(u=this.length-1;u>=0&&(x!==0||u>=y);u--){var L=this.words[u]|0;this.words[u]=x<<26-g|L>>>g,x=L&_}return v&&x!==0&&(v.words[v.length++]=x),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(a,f,p){return r(this.negative===0),this.iushrn(a,f,p)},i.prototype.shln=function(a){return this.clone().ishln(a)},i.prototype.ushln=function(a){return this.clone().iushln(a)},i.prototype.shrn=function(a){return this.clone().ishrn(a)},i.prototype.ushrn=function(a){return this.clone().iushrn(a)},i.prototype.testn=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26,y=1<<f;if(this.length<=p)return!1;var g=this.words[p];return!!(g&y)},i.prototype.imaskn=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(f!==0&&p++,this.length=Math.min(p,this.length),f!==0){var y=67108863^67108863>>>f<<f;this.words[this.length-1]&=y}return this.strip()},i.prototype.maskn=function(a){return this.clone().imaskn(a)},i.prototype.iaddn=function(a){return r(typeof a=="number"),r(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},i.prototype._iaddn=function(a){this.words[0]+=a;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)this.words[f]-=67108864,f===this.length-1?this.words[f+1]=1:this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},i.prototype.isubn=function(a){if(r(typeof a=="number"),r(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this.strip()},i.prototype.addn=function(a){return this.clone().iaddn(a)},i.prototype.subn=function(a){return this.clone().isubn(a)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(a,f,p){var y=a.length+p,g;this._expand(y);var A,_=0;for(g=0;g<a.length;g++){A=(this.words[g+p]|0)+_;var v=(a.words[g]|0)*f;A-=v&67108863,_=(A>>26)-(v/67108864|0),this.words[g+p]=A&67108863}for(;g<this.length-p;g++)A=(this.words[g+p]|0)+_,_=A>>26,this.words[g+p]=A&67108863;if(_===0)return this.strip();for(r(_===-1),_=0,g=0;g<this.length;g++)A=-(this.words[g]|0)+_,_=A>>26,this.words[g]=A&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(a,f){var p=this.length-a.length,y=this.clone(),g=a,A=g.words[g.length-1]|0,_=this._countBits(A);p=26-_,p!==0&&(g=g.ushln(p),y.iushln(p),A=g.words[g.length-1]|0);var v=y.length-g.length,u;if(f!=="mod"){u=new i(null),u.length=v+1,u.words=new Array(u.length);for(var x=0;x<u.length;x++)u.words[x]=0}var L=y.clone()._ishlnsubmul(g,1,v);L.negative===0&&(y=L,u&&(u.words[v]=1));for(var D=v-1;D>=0;D--){var C=(y.words[g.length+D]|0)*67108864+(y.words[g.length+D-1]|0);for(C=Math.min(C/A|0,67108863),y._ishlnsubmul(g,C,D);y.negative!==0;)C--,y.negative=0,y._ishlnsubmul(g,1,D),y.isZero()||(y.negative^=1);u&&(u.words[D]=C)}return u&&u.strip(),y.strip(),f!=="div"&&p!==0&&y.iushrn(p),{div:u||null,mod:y}},i.prototype.divmod=function(a,f,p){if(r(!a.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var y,g,A;return this.negative!==0&&a.negative===0?(A=this.neg().divmod(a,f),f!=="mod"&&(y=A.div.neg()),f!=="div"&&(g=A.mod.neg(),p&&g.negative!==0&&g.iadd(a)),{div:y,mod:g}):this.negative===0&&a.negative!==0?(A=this.divmod(a.neg(),f),f!=="mod"&&(y=A.div.neg()),{div:y,mod:A.mod}):this.negative&a.negative?(A=this.neg().divmod(a.neg(),f),f!=="div"&&(g=A.mod.neg(),p&&g.negative!==0&&g.isub(a)),{div:A.div,mod:g}):a.length>this.length||this.cmp(a)<0?{div:new i(0),mod:this}:a.length===1?f==="div"?{div:this.divn(a.words[0]),mod:null}:f==="mod"?{div:null,mod:new i(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new i(this.modn(a.words[0]))}:this._wordDiv(a,f)},i.prototype.div=function(a){return this.divmod(a,"div",!1).div},i.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},i.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},i.prototype.divRound=function(a){var f=this.divmod(a);if(f.mod.isZero())return f.div;var p=f.div.negative!==0?f.mod.isub(a):f.mod,y=a.ushrn(1),g=a.andln(1),A=p.cmp(y);return A<0||g===1&&A===0?f.div:f.div.negative!==0?f.div.isubn(1):f.div.iaddn(1)},i.prototype.modn=function(a){r(a<=67108863);for(var f=(1<<26)%a,p=0,y=this.length-1;y>=0;y--)p=(f*p+(this.words[y]|0))%a;return p},i.prototype.idivn=function(a){r(a<=67108863);for(var f=0,p=this.length-1;p>=0;p--){var y=(this.words[p]|0)+f*67108864;this.words[p]=y/a|0,f=y%a}return this.strip()},i.prototype.divn=function(a){return this.clone().idivn(a)},i.prototype.egcd=function(a){r(a.negative===0),r(!a.isZero());var f=this,p=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var y=new i(1),g=new i(0),A=new i(0),_=new i(1),v=0;f.isEven()&&p.isEven();)f.iushrn(1),p.iushrn(1),++v;for(var u=p.clone(),x=f.clone();!f.isZero();){for(var L=0,D=1;!(f.words[0]&D)&&L<26;++L,D<<=1);if(L>0)for(f.iushrn(L);L-- >0;)(y.isOdd()||g.isOdd())&&(y.iadd(u),g.isub(x)),y.iushrn(1),g.iushrn(1);for(var C=0,z=1;!(p.words[0]&z)&&C<26;++C,z<<=1);if(C>0)for(p.iushrn(C);C-- >0;)(A.isOdd()||_.isOdd())&&(A.iadd(u),_.isub(x)),A.iushrn(1),_.iushrn(1);f.cmp(p)>=0?(f.isub(p),y.isub(A),g.isub(_)):(p.isub(f),A.isub(y),_.isub(g))}return{a:A,b:_,gcd:p.iushln(v)}},i.prototype._invmp=function(a){r(a.negative===0),r(!a.isZero());var f=this,p=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var y=new i(1),g=new i(0),A=p.clone();f.cmpn(1)>0&&p.cmpn(1)>0;){for(var _=0,v=1;!(f.words[0]&v)&&_<26;++_,v<<=1);if(_>0)for(f.iushrn(_);_-- >0;)y.isOdd()&&y.iadd(A),y.iushrn(1);for(var u=0,x=1;!(p.words[0]&x)&&u<26;++u,x<<=1);if(u>0)for(p.iushrn(u);u-- >0;)g.isOdd()&&g.iadd(A),g.iushrn(1);f.cmp(p)>=0?(f.isub(p),y.isub(g)):(p.isub(f),g.isub(y))}var L;return f.cmpn(1)===0?L=y:L=g,L.cmpn(0)<0&&L.iadd(a),L},i.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var f=this.clone(),p=a.clone();f.negative=0,p.negative=0;for(var y=0;f.isEven()&&p.isEven();y++)f.iushrn(1),p.iushrn(1);do{for(;f.isEven();)f.iushrn(1);for(;p.isEven();)p.iushrn(1);var g=f.cmp(p);if(g<0){var A=f;f=p,p=A}else if(g===0||p.cmpn(1)===0)break;f.isub(p)}while(!0);return p.iushln(y)},i.prototype.invm=function(a){return this.egcd(a).a.umod(a)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(a){return this.words[0]&a},i.prototype.bincn=function(a){r(typeof a=="number");var f=a%26,p=(a-f)/26,y=1<<f;if(this.length<=p)return this._expand(p+1),this.words[p]|=y,this;for(var g=y,A=p;g!==0&&A<this.length;A++){var _=this.words[A]|0;_+=g,g=_>>>26,_&=67108863,this.words[A]=_}return g!==0&&(this.words[A]=g,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(a){var f=a<0;if(this.negative!==0&&!f)return-1;if(this.negative===0&&f)return 1;this.strip();var p;if(this.length>1)p=1;else{f&&(a=-a),r(a<=67108863,"Number is too big");var y=this.words[0]|0;p=y===a?0:y<a?-1:1}return this.negative!==0?-p|0:p},i.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var f=this.ucmp(a);return this.negative!==0?-f|0:f},i.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var f=0,p=this.length-1;p>=0;p--){var y=this.words[p]|0,g=a.words[p]|0;if(y!==g){y<g?f=-1:y>g&&(f=1);break}}return f},i.prototype.gtn=function(a){return this.cmpn(a)===1},i.prototype.gt=function(a){return this.cmp(a)===1},i.prototype.gten=function(a){return this.cmpn(a)>=0},i.prototype.gte=function(a){return this.cmp(a)>=0},i.prototype.ltn=function(a){return this.cmpn(a)===-1},i.prototype.lt=function(a){return this.cmp(a)===-1},i.prototype.lten=function(a){return this.cmpn(a)<=0},i.prototype.lte=function(a){return this.cmp(a)<=0},i.prototype.eqn=function(a){return this.cmpn(a)===0},i.prototype.eq=function(a){return this.cmp(a)===0},i.red=function(a){return new Q(a)},i.prototype.toRed=function(a){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(a){return this.red=a,this},i.prototype.forceRed=function(a){return r(!this.red,"Already a number in reduction context"),this._forceRed(a)},i.prototype.redAdd=function(a){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},i.prototype.redIAdd=function(a){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},i.prototype.redSub=function(a){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},i.prototype.redISub=function(a){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},i.prototype.redShl=function(a){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},i.prototype.redMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},i.prototype.redIMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(a){return r(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var U={k256:null,p224:null,p192:null,p25519:null};function P(S,a){this.name=S,this.p=new i(a,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}P.prototype._tmp=function(){var a=new i(null);return a.words=new Array(Math.ceil(this.n/13)),a},P.prototype.ireduce=function(a){var f=a,p;do this.split(f,this.tmp),f=this.imulK(f),f=f.iadd(this.tmp),p=f.bitLength();while(p>this.n);var y=p<this.n?-1:f.ucmp(this.p);return y===0?(f.words[0]=0,f.length=1):y>0?f.isub(this.p):f.strip!==void 0?f.strip():f._strip(),f},P.prototype.split=function(a,f){a.iushrn(this.n,0,f)},P.prototype.imulK=function(a){return a.imul(this.k)};function F(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(F,P),F.prototype.split=function(a,f){for(var p=4194303,y=Math.min(a.length,9),g=0;g<y;g++)f.words[g]=a.words[g];if(f.length=y,a.length<=9){a.words[0]=0,a.length=1;return}var A=a.words[9];for(f.words[f.length++]=A&p,g=10;g<a.length;g++){var _=a.words[g]|0;a.words[g-10]=(_&p)<<4|A>>>22,A=_}A>>>=22,a.words[g-10]=A,A===0&&a.length>10?a.length-=10:a.length-=9},F.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var f=0,p=0;p<a.length;p++){var y=a.words[p]|0;f+=y*977,a.words[p]=f&67108863,f=y*64+(f/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function q(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(q,P);function K(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(K,P);function re(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(re,P),re.prototype.imulK=function(a){for(var f=0,p=0;p<a.length;p++){var y=(a.words[p]|0)*19+f,g=y&67108863;y>>>=26,a.words[p]=g,f=y}return f!==0&&(a.words[a.length++]=f),a},i._prime=function(a){if(U[a])return U[a];var f;if(a==="k256")f=new F;else if(a==="p224")f=new q;else if(a==="p192")f=new K;else if(a==="p25519")f=new re;else throw new Error("Unknown prime "+a);return U[a]=f,f};function Q(S){if(typeof S=="string"){var a=i._prime(S);this.m=a.p,this.prime=a}else r(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}Q.prototype._verify1=function(a){r(a.negative===0,"red works only with positives"),r(a.red,"red works only with red numbers")},Q.prototype._verify2=function(a,f){r((a.negative|f.negative)===0,"red works only with positives"),r(a.red&&a.red===f.red,"red works only with red numbers")},Q.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},Q.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},Q.prototype.add=function(a,f){this._verify2(a,f);var p=a.add(f);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},Q.prototype.iadd=function(a,f){this._verify2(a,f);var p=a.iadd(f);return p.cmp(this.m)>=0&&p.isub(this.m),p},Q.prototype.sub=function(a,f){this._verify2(a,f);var p=a.sub(f);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},Q.prototype.isub=function(a,f){this._verify2(a,f);var p=a.isub(f);return p.cmpn(0)<0&&p.iadd(this.m),p},Q.prototype.shl=function(a,f){return this._verify1(a),this.imod(a.ushln(f))},Q.prototype.imul=function(a,f){return this._verify2(a,f),this.imod(a.imul(f))},Q.prototype.mul=function(a,f){return this._verify2(a,f),this.imod(a.mul(f))},Q.prototype.isqr=function(a){return this.imul(a,a.clone())},Q.prototype.sqr=function(a){return this.mul(a,a)},Q.prototype.sqrt=function(a){if(a.isZero())return a.clone();var f=this.m.andln(3);if(r(f%2===1),f===3){var p=this.m.add(new i(1)).iushrn(2);return this.pow(a,p)}for(var y=this.m.subn(1),g=0;!y.isZero()&&y.andln(1)===0;)g++,y.iushrn(1);r(!y.isZero());var A=new i(1).toRed(this),_=A.redNeg(),v=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new i(2*u*u).toRed(this);this.pow(u,v).cmp(_)!==0;)u.redIAdd(_);for(var x=this.pow(u,y),L=this.pow(a,y.addn(1).iushrn(1)),D=this.pow(a,y),C=g;D.cmp(A)!==0;){for(var z=D,ee=0;z.cmp(A)!==0;ee++)z=z.redSqr();r(ee<C);var ne=this.pow(x,new i(1).iushln(C-ee-1));L=L.redMul(ne),x=ne.redSqr(),D=D.redMul(x),C=ee}return L},Q.prototype.invm=function(a){var f=a._invmp(this.m);return f.negative!==0?(f.negative=0,this.imod(f).redNeg()):this.imod(f)},Q.prototype.pow=function(a,f){if(f.isZero())return new i(1).toRed(this);if(f.cmpn(1)===0)return a.clone();var p=4,y=new Array(1<<p);y[0]=new i(1).toRed(this),y[1]=a;for(var g=2;g<y.length;g++)y[g]=this.mul(y[g-1],a);var A=y[0],_=0,v=0,u=f.bitLength()%26;for(u===0&&(u=26),g=f.length-1;g>=0;g--){for(var x=f.words[g],L=u-1;L>=0;L--){var D=x>>L&1;if(A!==y[0]&&(A=this.sqr(A)),D===0&&_===0){v=0;continue}_<<=1,_|=D,v++,!(v!==p&&(g!==0||L!==0))&&(A=this.mul(A,y[_]),v=0,_=0)}u=26}return A},Q.prototype.convertTo=function(a){var f=a.umod(this.m);return f===a?f.clone():f},Q.prototype.convertFrom=function(a){var f=a.clone();return f.red=null,f},i.mont=function(a){return new ie(a)};function ie(S){Q.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(ie,Q),ie.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},ie.prototype.convertFrom=function(a){var f=this.imod(a.mul(this.rinv));return f.red=null,f},ie.prototype.imul=function(a,f){if(a.isZero()||f.isZero())return a.words[0]=0,a.length=1,a;var p=a.imul(f),y=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=p.isub(y).iushrn(this.shift),A=g;return g.cmp(this.m)>=0?A=g.isub(this.m):g.cmpn(0)<0&&(A=g.iadd(this.m)),A._forceRed(this)},ie.prototype.mul=function(a,f){if(a.isZero()||f.isZero())return new i(0)._forceRed(this);var p=a.mul(f),y=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=p.isub(y).iushrn(this.shift),A=g;return g.cmp(this.m)>=0?A=g.isub(this.m):g.cmpn(0)<0&&(A=g.iadd(this.m)),A._forceRed(this)},ie.prototype.invm=function(a){var f=this.imod(a._invmp(this.m).mul(this.r2));return f._forceRed(this)}})(typeof TK>"u"||TK,g0e)});var ek=V((Izt,b0e)=>{"use strict";d();h();var XM=Vn(),pw=XM.Buffer,af={},cf;for(cf in XM)XM.hasOwnProperty(cf)&&(cf==="SlowBuffer"||cf==="Buffer"||(af[cf]=XM[cf]));var mw=af.Buffer={};for(cf in pw)pw.hasOwnProperty(cf)&&(cf==="allocUnsafe"||cf==="allocUnsafeSlow"||(mw[cf]=pw[cf]));af.Buffer.prototype=pw.prototype;(!mw.from||mw.from===Uint8Array.from)&&(mw.from=function(t,e,r){if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof t);if(t&&typeof t.length>"u")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);return pw(t,e,r)});mw.alloc||(mw.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof t);if(t<0||t>=2*(1<<30))throw new RangeError('The value "'+t+'" is invalid for option "size"');var n=pw(t);return!e||e.length===0?n.fill(0):typeof r=="string"?n.fill(e,r):n.fill(e),n});if(!af.kStringMaxLength)try{af.kStringMaxLength=process.binding("buffer").kStringMaxLength}catch{}af.constants||(af.constants={MAX_LENGTH:af.kMaxLength},af.kStringMaxLength&&(af.constants.MAX_STRING_LENGTH=af.kStringMaxLength));b0e.exports=af});var tk=V(v0e=>{"use strict";d();h();var w$e=Xt();function uf(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}v0e.Reporter=uf;uf.prototype.isError=function(e){return e instanceof yw};uf.prototype.save=function(){let e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}};uf.prototype.restore=function(e){let r=this._reporterState;r.obj=e.obj,r.path=r.path.slice(0,e.pathLen)};uf.prototype.enterKey=function(e){return this._reporterState.path.push(e)};uf.prototype.exitKey=function(e){let r=this._reporterState;r.path=r.path.slice(0,e-1)};uf.prototype.leaveKey=function(e,r,n){let i=this._reporterState;this.exitKey(e),i.obj!==null&&(i.obj[r]=n)};uf.prototype.path=function(){return this._reporterState.path.join("/")};uf.prototype.enterObject=function(){let e=this._reporterState,r=e.obj;return e.obj={},r};uf.prototype.leaveObject=function(e){let r=this._reporterState,n=r.obj;return r.obj=e,n};uf.prototype.error=function(e){let r,n=this._reporterState,i=e instanceof yw;if(i?r=e:r=new yw(n.path.map(function(o){return"["+JSON.stringify(o)+"]"}).join(""),e.message||e,e.stack),!n.options.partial)throw r;return i||n.errors.push(r),r};uf.prototype.wrapResult=function(e){let r=this._reporterState;return r.options.partial?{result:this.isError(e)?null:e,errors:r.errors}:e};function yw(t,e){this.path=t,this.rethrow(e)}w$e(yw,Error);yw.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,yw),!this.stack)try{throw new Error(this.message)}catch(r){this.stack=r.stack}return this}});var vw=V(MK=>{"use strict";d();h();var S$e=Xt(),rk=tk().Reporter,gw=ek().Buffer;function ff(t,e){if(rk.call(this,e),!gw.isBuffer(t)){this.error("Input not Buffer");return}this.base=t,this.offset=0,this.length=t.length}S$e(ff,rk);MK.DecoderBuffer=ff;ff.isDecoderBuffer=function(e){return e instanceof ff?!0:typeof e=="object"&&gw.isBuffer(e.base)&&e.constructor.name==="DecoderBuffer"&&typeof e.offset=="number"&&typeof e.length=="number"&&typeof e.save=="function"&&typeof e.restore=="function"&&typeof e.isEmpty=="function"&&typeof e.readUInt8=="function"&&typeof e.skip=="function"&&typeof e.raw=="function"};ff.prototype.save=function(){return{offset:this.offset,reporter:rk.prototype.save.call(this)}};ff.prototype.restore=function(e){let r=new ff(this.base);return r.offset=e.offset,r.length=this.offset,this.offset=e.offset,rk.prototype.restore.call(this,e.reporter),r};ff.prototype.isEmpty=function(){return this.offset===this.length};ff.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")};ff.prototype.skip=function(e,r){if(!(this.offset+e<=this.length))return this.error(r||"DecoderBuffer overrun");let n=new ff(this.base);return n._reporterState=this._reporterState,n.offset=this.offset,n.length=this.offset+e,this.offset+=e,n};ff.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)};function bw(t,e){if(Array.isArray(t))this.length=0,this.value=t.map(function(r){return bw.isEncoderBuffer(r)||(r=new bw(r,e)),this.length+=r.length,r},this);else if(typeof t=="number"){if(!(0<=t&&t<=255))return e.error("non-byte EncoderBuffer value");this.value=t,this.length=1}else if(typeof t=="string")this.value=t,this.length=gw.byteLength(t);else if(gw.isBuffer(t))this.value=t,this.length=t.length;else return e.error("Unsupported type: "+typeof t)}MK.EncoderBuffer=bw;bw.isEncoderBuffer=function(e){return e instanceof bw?!0:typeof e=="object"&&e.constructor.name==="EncoderBuffer"&&typeof e.length=="number"&&typeof e.join=="function"};bw.prototype.join=function(e,r){return e||(e=gw.alloc(this.length)),r||(r=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(n){n.join(e,r),r+=n.length}):(typeof this.value=="number"?e[r]=this.value:typeof this.value=="string"?e.write(this.value,r):gw.isBuffer(this.value)&&this.value.copy(e,r),r+=this.length)),e}});var nk=V((Dzt,w0e)=>{"use strict";d();h();var A$e=tk().Reporter,E$e=vw().EncoderBuffer,_$e=vw().DecoderBuffer,Ka=ru(),x0e=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],T$e=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(x0e),I$e=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function Gn(t,e,r){let n={};this._baseState=n,n.name=r,n.enc=t,n.parent=e||null,n.children=null,n.tag=null,n.args=null,n.reverseArgs=null,n.choice=null,n.optional=!1,n.any=!1,n.obj=!1,n.use=null,n.useDecoder=null,n.key=null,n.default=null,n.explicit=null,n.implicit=null,n.contains=null,n.parent||(n.children=[],this._wrap())}w0e.exports=Gn;var M$e=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];Gn.prototype.clone=function(){let e=this._baseState,r={};M$e.forEach(function(i){r[i]=e[i]});let n=new this.constructor(r.parent);return n._baseState=r,n};Gn.prototype._wrap=function(){let e=this._baseState;T$e.forEach(function(r){this[r]=function(){let i=new this.constructor(this);return e.children.push(i),i[r].apply(i,arguments)}},this)};Gn.prototype._init=function(e){let r=this._baseState;Ka(r.parent===null),e.call(this),r.children=r.children.filter(function(n){return n._baseState.parent===this},this),Ka.equal(r.children.length,1,"Root node can have only one child")};Gn.prototype._useArgs=function(e){let r=this._baseState,n=e.filter(function(i){return i instanceof this.constructor},this);e=e.filter(function(i){return!(i instanceof this.constructor)},this),n.length!==0&&(Ka(r.children===null),r.children=n,n.forEach(function(i){i._baseState.parent=this},this)),e.length!==0&&(Ka(r.args===null),r.args=e,r.reverseArgs=e.map(function(i){if(typeof i!="object"||i.constructor!==Object)return i;let o={};return Object.keys(i).forEach(function(s){s==(s|0)&&(s|=0);let c=i[s];o[c]=s}),o}))};I$e.forEach(function(t){Gn.prototype[t]=function(){let r=this._baseState;throw new Error(t+" not implemented for encoding: "+r.enc)}});x0e.forEach(function(t){Gn.prototype[t]=function(){let r=this._baseState,n=Array.prototype.slice.call(arguments);return Ka(r.tag===null),r.tag=t,this._useArgs(n),this}});Gn.prototype.use=function(e){Ka(e);let r=this._baseState;return Ka(r.use===null),r.use=e,this};Gn.prototype.optional=function(){let e=this._baseState;return e.optional=!0,this};Gn.prototype.def=function(e){let r=this._baseState;return Ka(r.default===null),r.default=e,r.optional=!0,this};Gn.prototype.explicit=function(e){let r=this._baseState;return Ka(r.explicit===null&&r.implicit===null),r.explicit=e,this};Gn.prototype.implicit=function(e){let r=this._baseState;return Ka(r.explicit===null&&r.implicit===null),r.implicit=e,this};Gn.prototype.obj=function(){let e=this._baseState,r=Array.prototype.slice.call(arguments);return e.obj=!0,r.length!==0&&this._useArgs(r),this};Gn.prototype.key=function(e){let r=this._baseState;return Ka(r.key===null),r.key=e,this};Gn.prototype.any=function(){let e=this._baseState;return e.any=!0,this};Gn.prototype.choice=function(e){let r=this._baseState;return Ka(r.choice===null),r.choice=e,this._useArgs(Object.keys(e).map(function(n){return e[n]})),this};Gn.prototype.contains=function(e){let r=this._baseState;return Ka(r.use===null),r.contains=e,this};Gn.prototype._decode=function(e,r){let n=this._baseState;if(n.parent===null)return e.wrapResult(n.children[0]._decode(e,r));let i=n.default,o=!0,s=null;if(n.key!==null&&(s=e.enterKey(n.key)),n.optional){let l=null;if(n.explicit!==null?l=n.explicit:n.implicit!==null?l=n.implicit:n.tag!==null&&(l=n.tag),l===null&&!n.any){let m=e.save();try{n.choice===null?this._decodeGeneric(n.tag,e,r):this._decodeChoice(e,r),o=!0}catch{o=!1}e.restore(m)}else if(o=this._peekTag(e,l,n.any),e.isError(o))return o}let c;if(n.obj&&o&&(c=e.enterObject()),o){if(n.explicit!==null){let m=this._decodeTag(e,n.explicit);if(e.isError(m))return m;e=m}let l=e.offset;if(n.use===null&&n.choice===null){let m;n.any&&(m=e.save());let w=this._decodeTag(e,n.implicit!==null?n.implicit:n.tag,n.any);if(e.isError(w))return w;n.any?i=e.raw(m):e=w}if(r&&r.track&&n.tag!==null&&r.track(e.path(),l,e.length,"tagged"),r&&r.track&&n.tag!==null&&r.track(e.path(),e.offset,e.length,"content"),n.any||(n.choice===null?i=this._decodeGeneric(n.tag,e,r):i=this._decodeChoice(e,r)),e.isError(i))return i;if(!n.any&&n.choice===null&&n.children!==null&&n.children.forEach(function(w){w._decode(e,r)}),n.contains&&(n.tag==="octstr"||n.tag==="bitstr")){let m=new _$e(i);i=this._getUse(n.contains,e._reporterState.obj)._decode(m,r)}}return n.obj&&o&&(i=e.leaveObject(c)),n.key!==null&&(i!==null||o===!0)?e.leaveKey(s,n.key,i):s!==null&&e.exitKey(s),i};Gn.prototype._decodeGeneric=function(e,r,n){let i=this._baseState;return e==="seq"||e==="set"?null:e==="seqof"||e==="setof"?this._decodeList(r,e,i.args[0],n):/str$/.test(e)?this._decodeStr(r,e,n):e==="objid"&&i.args?this._decodeObjid(r,i.args[0],i.args[1],n):e==="objid"?this._decodeObjid(r,null,null,n):e==="gentime"||e==="utctime"?this._decodeTime(r,e,n):e==="null_"?this._decodeNull(r,n):e==="bool"?this._decodeBool(r,n):e==="objDesc"?this._decodeStr(r,e,n):e==="int"||e==="enum"?this._decodeInt(r,i.args&&i.args[0],n):i.use!==null?this._getUse(i.use,r._reporterState.obj)._decode(r,n):r.error("unknown tag: "+e)};Gn.prototype._getUse=function(e,r){let n=this._baseState;return n.useDecoder=this._use(e,r),Ka(n.useDecoder._baseState.parent===null),n.useDecoder=n.useDecoder._baseState.children[0],n.implicit!==n.useDecoder._baseState.implicit&&(n.useDecoder=n.useDecoder.clone(),n.useDecoder._baseState.implicit=n.implicit),n.useDecoder};Gn.prototype._decodeChoice=function(e,r){let n=this._baseState,i=null,o=!1;return Object.keys(n.choice).some(function(s){let c=e.save(),l=n.choice[s];try{let m=l._decode(e,r);if(e.isError(m))return!1;i={type:s,value:m},o=!0}catch{return e.restore(c),!1}return!0},this),o?i:e.error("Choice not matched")};Gn.prototype._createEncoderBuffer=function(e){return new E$e(e,this.reporter)};Gn.prototype._encode=function(e,r,n){let i=this._baseState;if(i.default!==null&&i.default===e)return;let o=this._encodeValue(e,r,n);if(o!==void 0&&!this._skipDefault(o,r,n))return o};Gn.prototype._encodeValue=function(e,r,n){let i=this._baseState;if(i.parent===null)return i.children[0]._encode(e,r||new A$e);let o=null;if(this.reporter=r,i.optional&&e===void 0)if(i.default!==null)e=i.default;else return;let s=null,c=!1;if(i.any)o=this._createEncoderBuffer(e);else if(i.choice)o=this._encodeChoice(e,r);else if(i.contains)s=this._getUse(i.contains,n)._encode(e,r),c=!0;else if(i.children)s=i.children.map(function(l){if(l._baseState.tag==="null_")return l._encode(null,r,e);if(l._baseState.key===null)return r.error("Child should have a key");let m=r.enterKey(l._baseState.key);if(typeof e!="object")return r.error("Child expected, but input is not object");let w=l._encode(e[l._baseState.key],r,e);return r.leaveKey(m),w},this).filter(function(l){return l}),s=this._createEncoderBuffer(s);else if(i.tag==="seqof"||i.tag==="setof"){if(!(i.args&&i.args.length===1))return r.error("Too many args for : "+i.tag);if(!Array.isArray(e))return r.error("seqof/setof, but data is not Array");let l=this.clone();l._baseState.implicit=null,s=this._createEncoderBuffer(e.map(function(m){let w=this._baseState;return this._getUse(w.args[0],e)._encode(m,r)},l))}else i.use!==null?o=this._getUse(i.use,n)._encode(e,r):(s=this._encodePrimitive(i.tag,e),c=!0);if(!i.any&&i.choice===null){let l=i.implicit!==null?i.implicit:i.tag,m=i.implicit===null?"universal":"context";l===null?i.use===null&&r.error("Tag could be omitted only for .use()"):i.use===null&&(o=this._encodeComposite(l,c,m,s))}return i.explicit!==null&&(o=this._encodeComposite(i.explicit,!1,"context",o)),o};Gn.prototype._encodeChoice=function(e,r){let n=this._baseState,i=n.choice[e.type];return i||Ka(!1,e.type+" not found in "+JSON.stringify(Object.keys(n.choice))),i._encode(e.value,r)};Gn.prototype._encodePrimitive=function(e,r){let n=this._baseState;if(/str$/.test(e))return this._encodeStr(r,e);if(e==="objid"&&n.args)return this._encodeObjid(r,n.reverseArgs[0],n.args[1]);if(e==="objid")return this._encodeObjid(r,null,null);if(e==="gentime"||e==="utctime")return this._encodeTime(r,e);if(e==="null_")return this._encodeNull();if(e==="int"||e==="enum")return this._encodeInt(r,n.args&&n.reverseArgs[0]);if(e==="bool")return this._encodeBool(r);if(e==="objDesc")return this._encodeStr(r,e);throw new Error("Unsupported tag: "+e)};Gn.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)};Gn.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(e)}});var ik=V(Wb=>{"use strict";d();h();function S0e(t){let e={};return Object.keys(t).forEach(function(r){(r|0)==r&&(r=r|0);let n=t[r];e[n]=r}),e}Wb.tagClass={0:"universal",1:"application",2:"context",3:"private"};Wb.tagClassByName=S0e(Wb.tagClass);Wb.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"};Wb.tagByName=S0e(Wb.tag)});var PK=V((Kzt,_0e)=>{"use strict";d();h();var k$e=Xt(),d0=ek().Buffer,A0e=nk(),kK=ik();function E0e(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new pl,this.tree._init(t.body)}_0e.exports=E0e;E0e.prototype.encode=function(e,r){return this.tree._encode(e,r).join()};function pl(t){A0e.call(this,"der",t)}k$e(pl,A0e);pl.prototype._encodeComposite=function(e,r,n,i){let o=P$e(e,r,n,this.reporter);if(i.length<128){let l=d0.alloc(2);return l[0]=o,l[1]=i.length,this._createEncoderBuffer([l,i])}let s=1;for(let l=i.length;l>=256;l>>=8)s++;let c=d0.alloc(2+s);c[0]=o,c[1]=128|s;for(let l=1+s,m=i.length;m>0;l--,m>>=8)c[l]=m&255;return this._createEncoderBuffer([c,i])};pl.prototype._encodeStr=function(e,r){if(r==="bitstr")return this._createEncoderBuffer([e.unused|0,e.data]);if(r==="bmpstr"){let n=d0.alloc(e.length*2);for(let i=0;i<e.length;i++)n.writeUInt16BE(e.charCodeAt(i),i*2);return this._createEncoderBuffer(n)}else return r==="numstr"?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):r==="printstr"?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(r)?this._createEncoderBuffer(e):r==="objDesc"?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+r+" unsupported")};pl.prototype._encodeObjid=function(e,r,n){if(typeof e=="string"){if(!r)return this.reporter.error("string objid given, but no values map found");if(!r.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=r[e].split(/[\s.]+/g);for(let c=0;c<e.length;c++)e[c]|=0}else if(Array.isArray(e)){e=e.slice();for(let c=0;c<e.length;c++)e[c]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!n){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,e[0]*40+e[1])}let i=0;for(let c=0;c<e.length;c++){let l=e[c];for(i++;l>=128;l>>=7)i++}let o=d0.alloc(i),s=o.length-1;for(let c=e.length-1;c>=0;c--){let l=e[c];for(o[s--]=l&127;(l>>=7)>0;)o[s--]=128|l&127}return this._createEncoderBuffer(o)};function lf(t){return t<10?"0"+t:t}pl.prototype._encodeTime=function(e,r){let n,i=new Date(e);return r==="gentime"?n=[lf(i.getUTCFullYear()),lf(i.getUTCMonth()+1),lf(i.getUTCDate()),lf(i.getUTCHours()),lf(i.getUTCMinutes()),lf(i.getUTCSeconds()),"Z"].join(""):r==="utctime"?n=[lf(i.getUTCFullYear()%100),lf(i.getUTCMonth()+1),lf(i.getUTCDate()),lf(i.getUTCHours()),lf(i.getUTCMinutes()),lf(i.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+r+" time is not supported yet"),this._encodeStr(n,"octstr")};pl.prototype._encodeNull=function(){return this._createEncoderBuffer("")};pl.prototype._encodeInt=function(e,r){if(typeof e=="string"){if(!r)return this.reporter.error("String int or enum given, but no values map");if(!r.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=r[e]}if(typeof e!="number"&&!d0.isBuffer(e)){let o=e.toArray();!e.sign&&o[0]&128&&o.unshift(0),e=d0.from(o)}if(d0.isBuffer(e)){let o=e.length;e.length===0&&o++;let s=d0.alloc(o);return e.copy(s),e.length===0&&(s[0]=0),this._createEncoderBuffer(s)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);let n=1;for(let o=e;o>=256;o>>=8)n++;let i=new Array(n);for(let o=i.length-1;o>=0;o--)i[o]=e&255,e>>=8;return i[0]&128&&i.unshift(0),this._createEncoderBuffer(d0.from(i))};pl.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)};pl.prototype._use=function(e,r){return typeof e=="function"&&(e=e(r)),e._getEncoder("der").tree};pl.prototype._skipDefault=function(e,r,n){let i=this._baseState,o;if(i.default===null)return!1;let s=e.join();if(i.defaultBuffer===void 0&&(i.defaultBuffer=this._encodeValue(i.default,r,n).join()),s.length!==i.defaultBuffer.length)return!1;for(o=0;o<s.length;o++)if(s[o]!==i.defaultBuffer[o])return!1;return!0};function P$e(t,e,r,n){let i;if(t==="seqof"?t="seq":t==="setof"&&(t="set"),kK.tagByName.hasOwnProperty(t))i=kK.tagByName[t];else if(typeof t=="number"&&(t|0)===t)i=t;else return n.error("Unknown tag: "+t);return i>=31?n.error("Multi-octet tag encoding unsupported"):(e||(i|=32),i|=kK.tagClassByName[r||"universal"]<<6,i)}});var I0e=V((zzt,T0e)=>{"use strict";d();h();var B$e=Xt(),BK=PK();function RK(t){BK.call(this,t),this.enc="pem"}B$e(RK,BK);T0e.exports=RK;RK.prototype.encode=function(e,r){let i=BK.prototype.encode.call(this,e).toString("base64"),o=["-----BEGIN "+r.label+"-----"];for(let s=0;s<i.length;s+=64)o.push(i.slice(s,s+64));return o.push("-----END "+r.label+"-----"),o.join(`
`)}});var CK=V(k0e=>{"use strict";d();h();var M0e=k0e;M0e.der=PK();M0e.pem=I0e()});var NK=V((Qzt,N0e)=>{"use strict";d();h();var R$e=Xt(),C$e=IK(),P0e=vw().DecoderBuffer,R0e=nk(),B0e=ik();function C0e(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new iu,this.tree._init(t.body)}N0e.exports=C0e;C0e.prototype.decode=function(e,r){return P0e.isDecoderBuffer(e)||(e=new P0e(e,r)),this.tree._decode(e,r)};function iu(t){R0e.call(this,"der",t)}R$e(iu,R0e);iu.prototype._peekTag=function(e,r,n){if(e.isEmpty())return!1;let i=e.save(),o=OK(e,'Failed to peek tag: "'+r+'"');return e.isError(o)?o:(e.restore(i),o.tag===r||o.tagStr===r||o.tagStr+"of"===r||n)};iu.prototype._decodeTag=function(e,r,n){let i=OK(e,'Failed to decode tag of "'+r+'"');if(e.isError(i))return i;let o=O0e(e,i.primitive,'Failed to get length of "'+r+'"');if(e.isError(o))return o;if(!n&&i.tag!==r&&i.tagStr!==r&&i.tagStr+"of"!==r)return e.error('Failed to match tag: "'+r+'"');if(i.primitive||o!==null)return e.skip(o,'Failed to match body of: "'+r+'"');let s=e.save(),c=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(c)?c:(o=e.offset-s.offset,e.restore(s),e.skip(o,'Failed to match body of: "'+r+'"'))};iu.prototype._skipUntilEnd=function(e,r){for(;;){let n=OK(e,r);if(e.isError(n))return n;let i=O0e(e,n.primitive,r);if(e.isError(i))return i;let o;if(n.primitive||i!==null?o=e.skip(i):o=this._skipUntilEnd(e,r),e.isError(o))return o;if(n.tagStr==="end")break}};iu.prototype._decodeList=function(e,r,n,i){let o=[];for(;!e.isEmpty();){let s=this._peekTag(e,"end");if(e.isError(s))return s;let c=n.decode(e,"der",i);if(e.isError(c)&&s)break;o.push(c)}return o};iu.prototype._decodeStr=function(e,r){if(r==="bitstr"){let n=e.readUInt8();return e.isError(n)?n:{unused:n,data:e.raw()}}else if(r==="bmpstr"){let n=e.raw();if(n.length%2===1)return e.error("Decoding of string type: bmpstr length mismatch");let i="";for(let o=0;o<n.length/2;o++)i+=String.fromCharCode(n.readUInt16BE(o*2));return i}else if(r==="numstr"){let n=e.raw().toString("ascii");return this._isNumstr(n)?n:e.error("Decoding of string type: numstr unsupported characters")}else{if(r==="octstr")return e.raw();if(r==="objDesc")return e.raw();if(r==="printstr"){let n=e.raw().toString("ascii");return this._isPrintstr(n)?n:e.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(r)?e.raw().toString():e.error("Decoding of string type: "+r+" unsupported")}};iu.prototype._decodeObjid=function(e,r,n){let i,o=[],s=0,c=0;for(;!e.isEmpty();)c=e.readUInt8(),s<<=7,s|=c&127,c&128||(o.push(s),s=0);c&128&&o.push(s);let l=o[0]/40|0,m=o[0]%40;if(n?i=o:i=[l,m].concat(o.slice(1)),r){let w=r[i.join(" ")];w===void 0&&(w=r[i.join(".")]),w!==void 0&&(i=w)}return i};iu.prototype._decodeTime=function(e,r){let n=e.raw().toString(),i,o,s,c,l,m;if(r==="gentime")i=n.slice(0,4)|0,o=n.slice(4,6)|0,s=n.slice(6,8)|0,c=n.slice(8,10)|0,l=n.slice(10,12)|0,m=n.slice(12,14)|0;else if(r==="utctime")i=n.slice(0,2)|0,o=n.slice(2,4)|0,s=n.slice(4,6)|0,c=n.slice(6,8)|0,l=n.slice(8,10)|0,m=n.slice(10,12)|0,i<70?i=2e3+i:i=1900+i;else return e.error("Decoding "+r+" time is not supported yet");return Date.UTC(i,o-1,s,c,l,m,0)};iu.prototype._decodeNull=function(){return null};iu.prototype._decodeBool=function(e){let r=e.readUInt8();return e.isError(r)?r:r!==0};iu.prototype._decodeInt=function(e,r){let n=e.raw(),i=new C$e(n);return r&&(i=r[i.toString(10)]||i),i};iu.prototype._use=function(e,r){return typeof e=="function"&&(e=e(r)),e._getDecoder("der").tree};function OK(t,e){let r=t.readUInt8(e);if(t.isError(r))return r;let n=B0e.tagClass[r>>6],i=(r&32)===0;if((r&31)===31){let s=r;for(r=0;(s&128)===128;){if(s=t.readUInt8(e),t.isError(s))return s;r<<=7,r|=s&127}}else r&=31;let o=B0e.tag[r];return{cls:n,primitive:i,tag:r,tagStr:o}}function O0e(t,e,r){let n=t.readUInt8(r);if(t.isError(n))return n;if(!e&&n===128)return null;if(!(n&128))return n;let i=n&127;if(i>4)return t.error("length octect is too long");n=0;for(let o=0;o<i;o++){n<<=8;let s=t.readUInt8(r);if(t.isError(s))return s;n|=s}return n}});var U0e=V((eWt,D0e)=>{"use strict";d();h();var O$e=Xt(),N$e=ek().Buffer,DK=NK();function UK(t){DK.call(this,t),this.enc="pem"}O$e(UK,DK);D0e.exports=UK;UK.prototype.decode=function(e,r){let n=e.toString().split(/[\r\n]+/g),i=r.label.toUpperCase(),o=/^-----(BEGIN|END) ([^-]+)-----$/,s=-1,c=-1;for(let w=0;w<n.length;w++){let b=n[w].match(o);if(b!==null&&b[2]===i)if(s===-1){if(b[1]!=="BEGIN")break;s=w}else{if(b[1]!=="END")break;c=w;break}}if(s===-1||c===-1)throw new Error("PEM section not found for: "+i);let l=n.slice(s+1,c).join("");l.replace(/[^a-z0-9+/=]+/gi,"");let m=N$e.from(l,"base64");return DK.prototype.decode.call(this,m,r)}});var LK=V(F0e=>{"use strict";d();h();var L0e=F0e;L0e.der=NK();L0e.pem=U0e()});var q0e=V(V0e=>{"use strict";d();h();var D$e=CK(),U$e=LK(),L$e=Xt(),F$e=V0e;F$e.define=function(e,r){return new xw(e,r)};function xw(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}xw.prototype._createNamed=function(e){let r=this.name;function n(i){this._initNamed(i,r)}return L$e(n,e),n.prototype._initNamed=function(o,s){e.call(this,o,s)},new n(this)};xw.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(U$e[e])),this.decoders[e]};xw.prototype.decode=function(e,r,n){return this._getDecoder(r).decode(e,n)};xw.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(D$e[e])),this.encoders[e]};xw.prototype.encode=function(e,r,n){return this._getEncoder(r).encode(e,n)}});var H0e=V(K0e=>{"use strict";d();h();var ok=K0e;ok.Reporter=tk().Reporter;ok.DecoderBuffer=vw().DecoderBuffer;ok.EncoderBuffer=vw().EncoderBuffer;ok.Node=nk()});var W0e=V(z0e=>{"use strict";d();h();var j0e=z0e;j0e._reverse=function(e){let r={};return Object.keys(e).forEach(function(n){(n|0)==n&&(n=n|0);let i=e[n];r[i]=n}),r};j0e.der=ik()});var FK=V(G0e=>{"use strict";d();h();var ww=G0e;ww.bignum=IK();ww.define=q0e().define;ww.base=H0e();ww.constants=W0e();ww.decoders=LK();ww.encoders=CK()});var Q0e=V((bWt,Z0e)=>{"use strict";d();h();var ml=FK(),$0e=ml.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),V$e=ml.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),VK=ml.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),q$e=ml.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(VK),this.key("subjectPublicKey").bitstr())}),K$e=ml.define("RelativeDistinguishedName",function(){this.setof(V$e)}),H$e=ml.define("RDNSequence",function(){this.seqof(K$e)}),Y0e=ml.define("Name",function(){this.choice({rdnSequence:this.use(H$e)})}),j$e=ml.define("Validity",function(){this.seq().obj(this.key("notBefore").use($0e),this.key("notAfter").use($0e))}),z$e=ml.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),W$e=ml.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(VK),this.key("issuer").use(Y0e),this.key("validity").use(j$e),this.key("subject").use(Y0e),this.key("subjectPublicKeyInfo").use(q$e),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(z$e).optional())}),G$e=ml.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(W$e),this.key("signatureAlgorithm").use(VK),this.key("signatureValue").bitstr())});Z0e.exports=G$e});var X0e=V(gl=>{"use strict";d();h();var yl=FK();gl.certificate=Q0e();var $$e=yl.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});gl.RSAPrivateKey=$$e;var Y$e=yl.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});gl.RSAPublicKey=Y$e;var Z$e=yl.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(J0e),this.key("subjectPublicKey").bitstr())});gl.PublicKey=Z$e;var J0e=yl.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),Q$e=yl.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(J0e),this.key("subjectPrivateKey").octstr())});gl.PrivateKey=Q$e;var J$e=yl.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});gl.EncryptedPrivateKey=J$e;var X$e=yl.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});gl.DSAPrivateKey=X$e;gl.DSAparam=yl.define("DSAparam",function(){this.int()});var eYe=yl.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(tYe),this.key("publicKey").optional().explicit(1).bitstr())});gl.ECPrivateKey=eYe;var tYe=yl.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});gl.signature=yl.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})});var epe=V((EWt,rYe)=>{rYe.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}});var rpe=V((_Wt,tpe)=>{d();h();var nYe=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,iYe=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,oYe=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,sYe=C3(),aYe=vM(),sk=cr().Buffer;tpe.exports=function(t,e){var r=t.toString(),n=r.match(nYe),i;if(n){var s="aes"+n[1],c=sk.from(n[2],"hex"),l=sk.from(n[3].replace(/[\r\n]/g,""),"base64"),m=sYe(e,c.slice(0,8),parseInt(n[1],10)).key,w=[],b=aYe.createDecipheriv(s,m,c);w.push(b.update(l)),w.push(b.final()),i=sk.concat(w)}else{var o=r.match(oYe);i=sk.from(o[2].replace(/[\r\n]/g,""),"base64")}var E=r.match(iYe)[1];return{tag:E,data:i}}});var G3=V((MWt,ipe)=>{d();h();var xc=X0e(),cYe=epe(),uYe=rpe(),fYe=vM(),lYe=aM(),qK=cr().Buffer;ipe.exports=npe;function npe(t){var e;typeof t=="object"&&!qK.isBuffer(t)&&(e=t.passphrase,t=t.key),typeof t=="string"&&(t=qK.from(t));var r=uYe(t,e),n=r.tag,i=r.data,o,s;switch(n){case"CERTIFICATE":s=xc.certificate.decode(i,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(s||(s=xc.PublicKey.decode(i,"der")),o=s.algorithm.algorithm.join("."),o){case"1.2.840.113549.1.1.1":return xc.RSAPublicKey.decode(s.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return s.subjectPrivateKey=s.subjectPublicKey,{type:"ec",data:s};case"1.2.840.10040.4.1":return s.algorithm.params.pub_key=xc.DSAparam.decode(s.subjectPublicKey.data,"der"),{type:"dsa",data:s.algorithm.params};default:throw new Error("unknown key id "+o)}case"ENCRYPTED PRIVATE KEY":i=xc.EncryptedPrivateKey.decode(i,"der"),i=dYe(i,e);case"PRIVATE KEY":switch(s=xc.PrivateKey.decode(i,"der"),o=s.algorithm.algorithm.join("."),o){case"1.2.840.113549.1.1.1":return xc.RSAPrivateKey.decode(s.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:s.algorithm.curve,privateKey:xc.ECPrivateKey.decode(s.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return s.algorithm.params.priv_key=xc.DSAparam.decode(s.subjectPrivateKey,"der"),{type:"dsa",params:s.algorithm.params};default:throw new Error("unknown key id "+o)}case"RSA PUBLIC KEY":return xc.RSAPublicKey.decode(i,"der");case"RSA PRIVATE KEY":return xc.RSAPrivateKey.decode(i,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:xc.DSAPrivateKey.decode(i,"der")};case"EC PRIVATE KEY":return i=xc.ECPrivateKey.decode(i,"der"),{curve:i.parameters.value,privateKey:i.privateKey};default:throw new Error("unknown key type "+n)}}npe.signature=xc.signature;function dYe(t,e){var r=t.algorithm.decrypt.kde.kdeparams.salt,n=parseInt(t.algorithm.decrypt.kde.kdeparams.iters.toString(),10),i=cYe[t.algorithm.decrypt.cipher.algo.join(".")],o=t.algorithm.decrypt.cipher.iv,s=t.subjectPrivateKey,c=parseInt(i.split("-")[1],10)/8,l=lYe.pbkdf2Sync(e,r,n,c,"sha1"),m=fYe.createDecipheriv(i,l,o),w=[];return w.push(m.update(s)),w.push(m.final()),qK.concat(w)}});var KK=V((BWt,hYe)=>{hYe.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}});var ape=V((RWt,ck)=>{"use strict";d();h();var ca=cr().Buffer,Gb=$V(),pYe=UM(),mYe=hw().ec,ak=mb(),yYe=G3(),gYe=KK(),bYe=1;function vYe(t,e,r,n,i){var o=yYe(e);if(o.curve){if(n!=="ecdsa"&&n!=="ecdsa/rsa")throw new Error("wrong private key type");return xYe(t,o)}else if(o.type==="dsa"){if(n!=="dsa")throw new Error("wrong private key type");return wYe(t,o,r)}if(n!=="rsa"&&n!=="ecdsa/rsa")throw new Error("wrong private key type");if(e.padding!==void 0&&e.padding!==bYe)throw new Error("illegal or unsupported padding mode");t=ca.concat([i,t]);for(var s=o.modulus.byteLength(),c=[0,1];t.length+c.length+1<s;)c.push(255);c.push(0);for(var l=-1;++l<t.length;)c.push(t[l]);var m=pYe(c,o);return m}function xYe(t,e){var r=gYe[e.curve.join(".")];if(!r)throw new Error("unknown curve "+e.curve.join("."));var n=new mYe(r),i=n.keyFromPrivate(e.privateKey),o=i.sign(t);return ca.from(o.toDER())}function wYe(t,e,r){for(var n=e.params.priv_key,i=e.params.p,o=e.params.q,s=e.params.g,c=new ak(0),l,m=HK(t,o).mod(o),w=!1,b=ope(n,o,t,r);w===!1;)l=spe(o,b,r),c=EYe(s,l,i,o),w=l.invm(o).imul(m.add(n.mul(c))).mod(o),w.cmpn(0)===0&&(w=!1,c=new ak(0));return SYe(c,w)}function SYe(t,e){t=t.toArray(),e=e.toArray(),t[0]&128&&(t=[0].concat(t)),e[0]&128&&(e=[0].concat(e));var r=t.length+e.length+4,n=[48,r,2,t.length];return n=n.concat(t,[2,e.length],e),ca.from(n)}function ope(t,e,r,n){if(t=ca.from(t.toArray()),t.length<e.byteLength()){var i=ca.alloc(e.byteLength()-t.length);t=ca.concat([i,t])}var o=r.length,s=AYe(r,e),c=ca.alloc(o);c.fill(1);var l=ca.alloc(o);return l=Gb(n,l).update(c).update(ca.from([0])).update(t).update(s).digest(),c=Gb(n,l).update(c).digest(),l=Gb(n,l).update(c).update(ca.from([1])).update(t).update(s).digest(),c=Gb(n,l).update(c).digest(),{k:l,v:c}}function HK(t,e){var r=new ak(t),n=(t.length<<3)-e.bitLength();return n>0&&r.ishrn(n),r}function AYe(t,e){t=HK(t,e),t=t.mod(e);var r=ca.from(t.toArray());if(r.length<e.byteLength()){var n=ca.alloc(e.byteLength()-r.length);r=ca.concat([n,r])}return r}function spe(t,e,r){var n,i;do{for(n=ca.alloc(0);n.length*8<t.bitLength();)e.v=Gb(r,e.k).update(e.v).digest(),n=ca.concat([n,e.v]);i=HK(n,t),e.k=Gb(r,e.k).update(e.v).update(ca.from([0])).digest(),e.v=Gb(r,e.k).update(e.v).digest()}while(i.cmp(t)!==-1);return i}function EYe(t,e,r,n){return t.toRed(ak.mont(r)).redPow(e).fromRed().mod(n)}ck.exports=vYe;ck.exports.getKey=ope;ck.exports.makeKey=spe});var lpe=V((NWt,fpe)=>{"use strict";d();h();var jK=cr().Buffer,$3=mb(),_Ye=hw().ec,upe=G3(),TYe=KK();function IYe(t,e,r,n,i){var o=upe(r);if(o.type==="ec"){if(n!=="ecdsa"&&n!=="ecdsa/rsa")throw new Error("wrong public key type");return MYe(t,e,o)}else if(o.type==="dsa"){if(n!=="dsa")throw new Error("wrong public key type");return kYe(t,e,o)}if(n!=="rsa"&&n!=="ecdsa/rsa")throw new Error("wrong public key type");e=jK.concat([i,e]);for(var s=o.modulus.byteLength(),c=[1],l=0;e.length+c.length+2<s;)c.push(255),l+=1;c.push(0);for(var m=-1;++m<e.length;)c.push(e[m]);c=jK.from(c);var w=$3.mont(o.modulus);t=new $3(t).toRed(w),t=t.redPow(new $3(o.publicExponent)),t=jK.from(t.fromRed().toArray());var b=l<8?1:0;for(s=Math.min(t.length,c.length),t.length!==c.length&&(b=1),m=-1;++m<s;)b|=t[m]^c[m];return b===0}function MYe(t,e,r){var n=TYe[r.data.algorithm.curve.join(".")];if(!n)throw new Error("unknown curve "+r.data.algorithm.curve.join("."));var i=new _Ye(n),o=r.data.subjectPrivateKey.data;return i.verify(e,t,o)}function kYe(t,e,r){var n=r.data.p,i=r.data.q,o=r.data.g,s=r.data.pub_key,c=upe.signature.decode(t,"der"),l=c.s,m=c.r;cpe(l,i),cpe(m,i);var w=$3.mont(n),b=l.invm(i),E=o.toRed(w).redPow(new $3(e).mul(b).mod(i)).fromRed().mul(s.toRed(w).redPow(m.mul(b).mod(i)).fromRed()).mod(n).mod(i);return E.cmp(m)===0}function cpe(t,e){if(t.cmpn(0)<=0)throw new Error("invalid sig");if(t.cmp(e)>=0)throw new Error("invalid sig")}fpe.exports=IYe});var gpe=V((LWt,ype)=>{"use strict";d();h();var uk=cr().Buffer,ppe=tm(),fk=Hde(),mpe=Xt(),PYe=ape(),BYe=lpe(),$b=YV();Object.keys($b).forEach(function(t){$b[t].id=uk.from($b[t].id,"hex"),$b[t.toLowerCase()]=$b[t]});function Y3(t){fk.Writable.call(this);var e=$b[t];if(!e)throw new Error("Unknown message digest");this._hashType=e.hash,this._hash=ppe(e.hash),this._tag=e.id,this._signType=e.sign}mpe(Y3,fk.Writable);Y3.prototype._write=function(e,r,n){this._hash.update(e),n()};Y3.prototype.update=function(e,r){return this._hash.update(typeof e=="string"?uk.from(e,r):e),this};Y3.prototype.sign=function(e,r){this.end();var n=this._hash.digest(),i=PYe(n,e,this._hashType,this._signType,this._tag);return r?i.toString(r):i};function Z3(t){fk.Writable.call(this);var e=$b[t];if(!e)throw new Error("Unknown message digest");this._hash=ppe(e.hash),this._tag=e.id,this._signType=e.sign}mpe(Z3,fk.Writable);Z3.prototype._write=function(e,r,n){this._hash.update(e),n()};Z3.prototype.update=function(e,r){return this._hash.update(typeof e=="string"?uk.from(e,r):e),this};Z3.prototype.verify=function(e,r,n){var i=typeof r=="string"?uk.from(r,n):r;this.end();var o=this._hash.digest();return BYe(i,o,e,this._signType,this._tag)};function dpe(t){return new Y3(t)}function hpe(t){return new Z3(t)}ype.exports={Sign:dpe,Verify:hpe,createSign:dpe,createVerify:hpe}});var vpe=V((bpe,zK)=>{d();h();(function(t,e){"use strict";function r(S,a){if(!S)throw new Error(a||"Assertion failed")}function n(S,a){S.super_=a;var f=function(){};f.prototype=a.prototype,S.prototype=new f,S.prototype.constructor=S}function i(S,a,f){if(i.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((a==="le"||a==="be")&&(f=a,a=10),this._init(S||0,a||10,f||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof self<"u"&&typeof self.Buffer<"u"?o=self.Buffer:o=Fp().Buffer}catch{}i.isBN=function(a){return a instanceof i?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===i.wordSize&&Array.isArray(a.words)},i.max=function(a,f){return a.cmp(f)>0?a:f},i.min=function(a,f){return a.cmp(f)<0?a:f},i.prototype._init=function(a,f,p){if(typeof a=="number")return this._initNumber(a,f,p);if(typeof a=="object")return this._initArray(a,f,p);f==="hex"&&(f=16),r(f===(f|0)&&f>=2&&f<=36),a=a.toString().replace(/\s+/g,"");var y=0;a[0]==="-"&&(y++,this.negative=1),y<a.length&&(f===16?this._parseHex(a,y,p):(this._parseBase(a,f,y),p==="le"&&this._initArray(this.toArray(),f,p)))},i.prototype._initNumber=function(a,f,p){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(r(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),f,p)},i.prototype._initArray=function(a,f,p){if(r(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var g,A,_=0;if(p==="be")for(y=a.length-1,g=0;y>=0;y-=3)A=a[y]|a[y-1]<<8|a[y-2]<<16,this.words[g]|=A<<_&67108863,this.words[g+1]=A>>>26-_&67108863,_+=24,_>=26&&(_-=26,g++);else if(p==="le")for(y=0,g=0;y<a.length;y+=3)A=a[y]|a[y+1]<<8|a[y+2]<<16,this.words[g]|=A<<_&67108863,this.words[g+1]=A>>>26-_&67108863,_+=24,_>=26&&(_-=26,g++);return this.strip()};function s(S,a){var f=S.charCodeAt(a);return f>=65&&f<=70?f-55:f>=97&&f<=102?f-87:f-48&15}function c(S,a,f){var p=s(S,f);return f-1>=a&&(p|=s(S,f-1)<<4),p}i.prototype._parseHex=function(a,f,p){this.length=Math.ceil((a.length-f)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var g=0,A=0,_;if(p==="be")for(y=a.length-1;y>=f;y-=2)_=c(a,f,y)<<g,this.words[A]|=_&67108863,g>=18?(g-=18,A+=1,this.words[A]|=_>>>26):g+=8;else{var v=a.length-f;for(y=v%2===0?f+1:f;y<a.length;y+=2)_=c(a,f,y)<<g,this.words[A]|=_&67108863,g>=18?(g-=18,A+=1,this.words[A]|=_>>>26):g+=8}this.strip()};function l(S,a,f,p){for(var y=0,g=Math.min(S.length,f),A=a;A<g;A++){var _=S.charCodeAt(A)-48;y*=p,_>=49?y+=_-49+10:_>=17?y+=_-17+10:y+=_}return y}i.prototype._parseBase=function(a,f,p){this.words=[0],this.length=1;for(var y=0,g=1;g<=67108863;g*=f)y++;y--,g=g/f|0;for(var A=a.length-p,_=A%y,v=Math.min(A,A-_)+p,u=0,x=p;x<v;x+=y)u=l(a,x,x+y,f),this.imuln(g),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(_!==0){var L=1;for(u=l(a,x,a.length,f),x=0;x<_;x++)L*=f;this.imuln(L),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},i.prototype.copy=function(a){a.words=new Array(this.length);for(var f=0;f<this.length;f++)a.words[f]=this.words[f];a.length=this.length,a.negative=this.negative,a.red=this.red},i.prototype.clone=function(){var a=new i(null);return this.copy(a),a},i.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],w=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(a,f){a=a||10,f=f|0||1;var p;if(a===16||a==="hex"){p="";for(var y=0,g=0,A=0;A<this.length;A++){var _=this.words[A],v=((_<<y|g)&16777215).toString(16);g=_>>>24-y&16777215,g!==0||A!==this.length-1?p=m[6-v.length]+v+p:p=v+p,y+=2,y>=26&&(y-=26,A--)}for(g!==0&&(p=g.toString(16)+p);p.length%f!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(a===(a|0)&&a>=2&&a<=36){var u=w[a],x=b[a];p="";var L=this.clone();for(L.negative=0;!L.isZero();){var D=L.modn(x).toString(a);L=L.idivn(x),L.isZero()?p=D+p:p=m[u-D.length]+D+p}for(this.isZero()&&(p="0"+p);p.length%f!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(a,f){return r(typeof o<"u"),this.toArrayLike(o,a,f)},i.prototype.toArray=function(a,f){return this.toArrayLike(Array,a,f)},i.prototype.toArrayLike=function(a,f,p){var y=this.byteLength(),g=p||Math.max(1,y);r(y<=g,"byte array longer than desired length"),r(g>0,"Requested array length <= 0"),this.strip();var A=f==="le",_=new a(g),v,u,x=this.clone();if(A){for(u=0;!x.isZero();u++)v=x.andln(255),x.iushrn(8),_[u]=v;for(;u<g;u++)_[u]=0}else{for(u=0;u<g-y;u++)_[u]=0;for(u=0;!x.isZero();u++)v=x.andln(255),x.iushrn(8),_[g-u-1]=v}return _},Math.clz32?i.prototype._countBits=function(a){return 32-Math.clz32(a)}:i.prototype._countBits=function(a){var f=a,p=0;return f>=4096&&(p+=13,f>>>=13),f>=64&&(p+=7,f>>>=7),f>=8&&(p+=4,f>>>=4),f>=2&&(p+=2,f>>>=2),p+f},i.prototype._zeroBits=function(a){if(a===0)return 26;var f=a,p=0;return f&8191||(p+=13,f>>>=13),f&127||(p+=7,f>>>=7),f&15||(p+=4,f>>>=4),f&3||(p+=2,f>>>=2),f&1||p++,p},i.prototype.bitLength=function(){var a=this.words[this.length-1],f=this._countBits(a);return(this.length-1)*26+f};function E(S){for(var a=new Array(S.bitLength()),f=0;f<a.length;f++){var p=f/26|0,y=f%26;a[f]=(S.words[p]&1<<y)>>>y}return a}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,f=0;f<this.length;f++){var p=this._zeroBits(this.words[f]);if(a+=p,p!==26)break}return a},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},i.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var f=0;f<a.length;f++)this.words[f]=this.words[f]|a.words[f];return this.strip()},i.prototype.ior=function(a){return r((this.negative|a.negative)===0),this.iuor(a)},i.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},i.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},i.prototype.iuand=function(a){var f;this.length>a.length?f=a:f=this;for(var p=0;p<f.length;p++)this.words[p]=this.words[p]&a.words[p];return this.length=f.length,this.strip()},i.prototype.iand=function(a){return r((this.negative|a.negative)===0),this.iuand(a)},i.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},i.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},i.prototype.iuxor=function(a){var f,p;this.length>a.length?(f=this,p=a):(f=a,p=this);for(var y=0;y<p.length;y++)this.words[y]=f.words[y]^p.words[y];if(this!==f)for(;y<f.length;y++)this.words[y]=f.words[y];return this.length=f.length,this.strip()},i.prototype.ixor=function(a){return r((this.negative|a.negative)===0),this.iuxor(a)},i.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},i.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},i.prototype.inotn=function(a){r(typeof a=="number"&&a>=0);var f=Math.ceil(a/26)|0,p=a%26;this._expand(f),p>0&&f--;for(var y=0;y<f;y++)this.words[y]=~this.words[y]&67108863;return p>0&&(this.words[y]=~this.words[y]&67108863>>26-p),this.strip()},i.prototype.notn=function(a){return this.clone().inotn(a)},i.prototype.setn=function(a,f){r(typeof a=="number"&&a>=0);var p=a/26|0,y=a%26;return this._expand(p+1),f?this.words[p]=this.words[p]|1<<y:this.words[p]=this.words[p]&~(1<<y),this.strip()},i.prototype.iadd=function(a){var f;if(this.negative!==0&&a.negative===0)return this.negative=0,f=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,f=this.isub(a),a.negative=1,f._normSign();var p,y;this.length>a.length?(p=this,y=a):(p=a,y=this);for(var g=0,A=0;A<y.length;A++)f=(p.words[A]|0)+(y.words[A]|0)+g,this.words[A]=f&67108863,g=f>>>26;for(;g!==0&&A<p.length;A++)f=(p.words[A]|0)+g,this.words[A]=f&67108863,g=f>>>26;if(this.length=p.length,g!==0)this.words[this.length]=g,this.length++;else if(p!==this)for(;A<p.length;A++)this.words[A]=p.words[A];return this},i.prototype.add=function(a){var f;return a.negative!==0&&this.negative===0?(a.negative=0,f=this.sub(a),a.negative^=1,f):a.negative===0&&this.negative!==0?(this.negative=0,f=a.sub(this),this.negative=1,f):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},i.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var f=this.iadd(a);return a.negative=1,f._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var p=this.cmp(a);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var y,g;p>0?(y=this,g=a):(y=a,g=this);for(var A=0,_=0;_<g.length;_++)f=(y.words[_]|0)-(g.words[_]|0)+A,A=f>>26,this.words[_]=f&67108863;for(;A!==0&&_<y.length;_++)f=(y.words[_]|0)+A,A=f>>26,this.words[_]=f&67108863;if(A===0&&_<y.length&&y!==this)for(;_<y.length;_++)this.words[_]=y.words[_];return this.length=Math.max(this.length,_),y!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(a){return this.clone().isub(a)};function I(S,a,f){f.negative=a.negative^S.negative;var p=S.length+a.length|0;f.length=p,p=p-1|0;var y=S.words[0]|0,g=a.words[0]|0,A=y*g,_=A&67108863,v=A/67108864|0;f.words[0]=_;for(var u=1;u<p;u++){for(var x=v>>>26,L=v&67108863,D=Math.min(u,a.length-1),C=Math.max(0,u-S.length+1);C<=D;C++){var z=u-C|0;y=S.words[z]|0,g=a.words[C]|0,A=y*g+L,x+=A/67108864|0,L=A&67108863}f.words[u]=L|0,v=x|0}return v!==0?f.words[u]=v|0:f.length--,f.strip()}var M=function(a,f,p){var y=a.words,g=f.words,A=p.words,_=0,v,u,x,L=y[0]|0,D=L&8191,C=L>>>13,z=y[1]|0,ee=z&8191,ne=z>>>13,Ke=y[2]|0,ae=Ke&8191,W=Ke>>>13,he=y[3]|0,te=he&8191,ce=he>>>13,Ze=y[4]|0,se=Ze&8191,le=Ze>>>13,Bt=y[5]|0,ge=Bt&8191,ye=Bt>>>13,$r=y[6]|0,Ie=$r&8191,we=$r>>>13,gn=y[7]|0,ve=gn&8191,Be=gn>>>13,In=y[8]|0,Re=In&8191,Ce=In>>>13,Rn=y[9]|0,De=Rn&8191,Me=Rn>>>13,Mn=g[0]|0,_e=Mn&8191,Se=Mn>>>13,en=g[1]|0,Ae=en&8191,Te=en>>>13,un=g[2]|0,Ee=un&8191,ke=un>>>13,Cn=g[3]|0,Ue=Cn&8191,Le=Cn>>>13,Or=g[4]|0,be=Or&8191,xe=Or>>>13,kn=g[5]|0,Pe=kn&8191,Oe=kn>>>13,Ln=g[6]|0,me=Ln&8191,Ne=Ln>>>13,Y=g[7]|0,j=Y&8191,H=Y>>>13,O=g[8]|0,Z=O&8191,X=O>>>13,pe=g[9]|0,oe=pe&8191,ue=pe>>>13;p.negative=a.negative^f.negative,p.length=19,v=Math.imul(D,_e),u=Math.imul(D,Se),u=u+Math.imul(C,_e)|0,x=Math.imul(C,Se);var at=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(at>>>26)|0,at&=67108863,v=Math.imul(ee,_e),u=Math.imul(ee,Se),u=u+Math.imul(ne,_e)|0,x=Math.imul(ne,Se),v=v+Math.imul(D,Ae)|0,u=u+Math.imul(D,Te)|0,u=u+Math.imul(C,Ae)|0,x=x+Math.imul(C,Te)|0;var Je=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(Je>>>26)|0,Je&=67108863,v=Math.imul(ae,_e),u=Math.imul(ae,Se),u=u+Math.imul(W,_e)|0,x=Math.imul(W,Se),v=v+Math.imul(ee,Ae)|0,u=u+Math.imul(ee,Te)|0,u=u+Math.imul(ne,Ae)|0,x=x+Math.imul(ne,Te)|0,v=v+Math.imul(D,Ee)|0,u=u+Math.imul(D,ke)|0,u=u+Math.imul(C,Ee)|0,x=x+Math.imul(C,ke)|0;var At=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(At>>>26)|0,At&=67108863,v=Math.imul(te,_e),u=Math.imul(te,Se),u=u+Math.imul(ce,_e)|0,x=Math.imul(ce,Se),v=v+Math.imul(ae,Ae)|0,u=u+Math.imul(ae,Te)|0,u=u+Math.imul(W,Ae)|0,x=x+Math.imul(W,Te)|0,v=v+Math.imul(ee,Ee)|0,u=u+Math.imul(ee,ke)|0,u=u+Math.imul(ne,Ee)|0,x=x+Math.imul(ne,ke)|0,v=v+Math.imul(D,Ue)|0,u=u+Math.imul(D,Le)|0,u=u+Math.imul(C,Ue)|0,x=x+Math.imul(C,Le)|0;var tt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(tt>>>26)|0,tt&=67108863,v=Math.imul(se,_e),u=Math.imul(se,Se),u=u+Math.imul(le,_e)|0,x=Math.imul(le,Se),v=v+Math.imul(te,Ae)|0,u=u+Math.imul(te,Te)|0,u=u+Math.imul(ce,Ae)|0,x=x+Math.imul(ce,Te)|0,v=v+Math.imul(ae,Ee)|0,u=u+Math.imul(ae,ke)|0,u=u+Math.imul(W,Ee)|0,x=x+Math.imul(W,ke)|0,v=v+Math.imul(ee,Ue)|0,u=u+Math.imul(ee,Le)|0,u=u+Math.imul(ne,Ue)|0,x=x+Math.imul(ne,Le)|0,v=v+Math.imul(D,be)|0,u=u+Math.imul(D,xe)|0,u=u+Math.imul(C,be)|0,x=x+Math.imul(C,xe)|0;var dt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(dt>>>26)|0,dt&=67108863,v=Math.imul(ge,_e),u=Math.imul(ge,Se),u=u+Math.imul(ye,_e)|0,x=Math.imul(ye,Se),v=v+Math.imul(se,Ae)|0,u=u+Math.imul(se,Te)|0,u=u+Math.imul(le,Ae)|0,x=x+Math.imul(le,Te)|0,v=v+Math.imul(te,Ee)|0,u=u+Math.imul(te,ke)|0,u=u+Math.imul(ce,Ee)|0,x=x+Math.imul(ce,ke)|0,v=v+Math.imul(ae,Ue)|0,u=u+Math.imul(ae,Le)|0,u=u+Math.imul(W,Ue)|0,x=x+Math.imul(W,Le)|0,v=v+Math.imul(ee,be)|0,u=u+Math.imul(ee,xe)|0,u=u+Math.imul(ne,be)|0,x=x+Math.imul(ne,xe)|0,v=v+Math.imul(D,Pe)|0,u=u+Math.imul(D,Oe)|0,u=u+Math.imul(C,Pe)|0,x=x+Math.imul(C,Oe)|0;var ht=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(ht>>>26)|0,ht&=67108863,v=Math.imul(Ie,_e),u=Math.imul(Ie,Se),u=u+Math.imul(we,_e)|0,x=Math.imul(we,Se),v=v+Math.imul(ge,Ae)|0,u=u+Math.imul(ge,Te)|0,u=u+Math.imul(ye,Ae)|0,x=x+Math.imul(ye,Te)|0,v=v+Math.imul(se,Ee)|0,u=u+Math.imul(se,ke)|0,u=u+Math.imul(le,Ee)|0,x=x+Math.imul(le,ke)|0,v=v+Math.imul(te,Ue)|0,u=u+Math.imul(te,Le)|0,u=u+Math.imul(ce,Ue)|0,x=x+Math.imul(ce,Le)|0,v=v+Math.imul(ae,be)|0,u=u+Math.imul(ae,xe)|0,u=u+Math.imul(W,be)|0,x=x+Math.imul(W,xe)|0,v=v+Math.imul(ee,Pe)|0,u=u+Math.imul(ee,Oe)|0,u=u+Math.imul(ne,Pe)|0,x=x+Math.imul(ne,Oe)|0,v=v+Math.imul(D,me)|0,u=u+Math.imul(D,Ne)|0,u=u+Math.imul(C,me)|0,x=x+Math.imul(C,Ne)|0;var bt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(bt>>>26)|0,bt&=67108863,v=Math.imul(ve,_e),u=Math.imul(ve,Se),u=u+Math.imul(Be,_e)|0,x=Math.imul(Be,Se),v=v+Math.imul(Ie,Ae)|0,u=u+Math.imul(Ie,Te)|0,u=u+Math.imul(we,Ae)|0,x=x+Math.imul(we,Te)|0,v=v+Math.imul(ge,Ee)|0,u=u+Math.imul(ge,ke)|0,u=u+Math.imul(ye,Ee)|0,x=x+Math.imul(ye,ke)|0,v=v+Math.imul(se,Ue)|0,u=u+Math.imul(se,Le)|0,u=u+Math.imul(le,Ue)|0,x=x+Math.imul(le,Le)|0,v=v+Math.imul(te,be)|0,u=u+Math.imul(te,xe)|0,u=u+Math.imul(ce,be)|0,x=x+Math.imul(ce,xe)|0,v=v+Math.imul(ae,Pe)|0,u=u+Math.imul(ae,Oe)|0,u=u+Math.imul(W,Pe)|0,x=x+Math.imul(W,Oe)|0,v=v+Math.imul(ee,me)|0,u=u+Math.imul(ee,Ne)|0,u=u+Math.imul(ne,me)|0,x=x+Math.imul(ne,Ne)|0,v=v+Math.imul(D,j)|0,u=u+Math.imul(D,H)|0,u=u+Math.imul(C,j)|0,x=x+Math.imul(C,H)|0;var gt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(gt>>>26)|0,gt&=67108863,v=Math.imul(Re,_e),u=Math.imul(Re,Se),u=u+Math.imul(Ce,_e)|0,x=Math.imul(Ce,Se),v=v+Math.imul(ve,Ae)|0,u=u+Math.imul(ve,Te)|0,u=u+Math.imul(Be,Ae)|0,x=x+Math.imul(Be,Te)|0,v=v+Math.imul(Ie,Ee)|0,u=u+Math.imul(Ie,ke)|0,u=u+Math.imul(we,Ee)|0,x=x+Math.imul(we,ke)|0,v=v+Math.imul(ge,Ue)|0,u=u+Math.imul(ge,Le)|0,u=u+Math.imul(ye,Ue)|0,x=x+Math.imul(ye,Le)|0,v=v+Math.imul(se,be)|0,u=u+Math.imul(se,xe)|0,u=u+Math.imul(le,be)|0,x=x+Math.imul(le,xe)|0,v=v+Math.imul(te,Pe)|0,u=u+Math.imul(te,Oe)|0,u=u+Math.imul(ce,Pe)|0,x=x+Math.imul(ce,Oe)|0,v=v+Math.imul(ae,me)|0,u=u+Math.imul(ae,Ne)|0,u=u+Math.imul(W,me)|0,x=x+Math.imul(W,Ne)|0,v=v+Math.imul(ee,j)|0,u=u+Math.imul(ee,H)|0,u=u+Math.imul(ne,j)|0,x=x+Math.imul(ne,H)|0,v=v+Math.imul(D,Z)|0,u=u+Math.imul(D,X)|0,u=u+Math.imul(C,Z)|0,x=x+Math.imul(C,X)|0;var pt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(pt>>>26)|0,pt&=67108863,v=Math.imul(De,_e),u=Math.imul(De,Se),u=u+Math.imul(Me,_e)|0,x=Math.imul(Me,Se),v=v+Math.imul(Re,Ae)|0,u=u+Math.imul(Re,Te)|0,u=u+Math.imul(Ce,Ae)|0,x=x+Math.imul(Ce,Te)|0,v=v+Math.imul(ve,Ee)|0,u=u+Math.imul(ve,ke)|0,u=u+Math.imul(Be,Ee)|0,x=x+Math.imul(Be,ke)|0,v=v+Math.imul(Ie,Ue)|0,u=u+Math.imul(Ie,Le)|0,u=u+Math.imul(we,Ue)|0,x=x+Math.imul(we,Le)|0,v=v+Math.imul(ge,be)|0,u=u+Math.imul(ge,xe)|0,u=u+Math.imul(ye,be)|0,x=x+Math.imul(ye,xe)|0,v=v+Math.imul(se,Pe)|0,u=u+Math.imul(se,Oe)|0,u=u+Math.imul(le,Pe)|0,x=x+Math.imul(le,Oe)|0,v=v+Math.imul(te,me)|0,u=u+Math.imul(te,Ne)|0,u=u+Math.imul(ce,me)|0,x=x+Math.imul(ce,Ne)|0,v=v+Math.imul(ae,j)|0,u=u+Math.imul(ae,H)|0,u=u+Math.imul(W,j)|0,x=x+Math.imul(W,H)|0,v=v+Math.imul(ee,Z)|0,u=u+Math.imul(ee,X)|0,u=u+Math.imul(ne,Z)|0,x=x+Math.imul(ne,X)|0,v=v+Math.imul(D,oe)|0,u=u+Math.imul(D,ue)|0,u=u+Math.imul(C,oe)|0,x=x+Math.imul(C,ue)|0;var yt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(yt>>>26)|0,yt&=67108863,v=Math.imul(De,Ae),u=Math.imul(De,Te),u=u+Math.imul(Me,Ae)|0,x=Math.imul(Me,Te),v=v+Math.imul(Re,Ee)|0,u=u+Math.imul(Re,ke)|0,u=u+Math.imul(Ce,Ee)|0,x=x+Math.imul(Ce,ke)|0,v=v+Math.imul(ve,Ue)|0,u=u+Math.imul(ve,Le)|0,u=u+Math.imul(Be,Ue)|0,x=x+Math.imul(Be,Le)|0,v=v+Math.imul(Ie,be)|0,u=u+Math.imul(Ie,xe)|0,u=u+Math.imul(we,be)|0,x=x+Math.imul(we,xe)|0,v=v+Math.imul(ge,Pe)|0,u=u+Math.imul(ge,Oe)|0,u=u+Math.imul(ye,Pe)|0,x=x+Math.imul(ye,Oe)|0,v=v+Math.imul(se,me)|0,u=u+Math.imul(se,Ne)|0,u=u+Math.imul(le,me)|0,x=x+Math.imul(le,Ne)|0,v=v+Math.imul(te,j)|0,u=u+Math.imul(te,H)|0,u=u+Math.imul(ce,j)|0,x=x+Math.imul(ce,H)|0,v=v+Math.imul(ae,Z)|0,u=u+Math.imul(ae,X)|0,u=u+Math.imul(W,Z)|0,x=x+Math.imul(W,X)|0,v=v+Math.imul(ee,oe)|0,u=u+Math.imul(ee,ue)|0,u=u+Math.imul(ne,oe)|0,x=x+Math.imul(ne,ue)|0;var mt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(mt>>>26)|0,mt&=67108863,v=Math.imul(De,Ee),u=Math.imul(De,ke),u=u+Math.imul(Me,Ee)|0,x=Math.imul(Me,ke),v=v+Math.imul(Re,Ue)|0,u=u+Math.imul(Re,Le)|0,u=u+Math.imul(Ce,Ue)|0,x=x+Math.imul(Ce,Le)|0,v=v+Math.imul(ve,be)|0,u=u+Math.imul(ve,xe)|0,u=u+Math.imul(Be,be)|0,x=x+Math.imul(Be,xe)|0,v=v+Math.imul(Ie,Pe)|0,u=u+Math.imul(Ie,Oe)|0,u=u+Math.imul(we,Pe)|0,x=x+Math.imul(we,Oe)|0,v=v+Math.imul(ge,me)|0,u=u+Math.imul(ge,Ne)|0,u=u+Math.imul(ye,me)|0,x=x+Math.imul(ye,Ne)|0,v=v+Math.imul(se,j)|0,u=u+Math.imul(se,H)|0,u=u+Math.imul(le,j)|0,x=x+Math.imul(le,H)|0,v=v+Math.imul(te,Z)|0,u=u+Math.imul(te,X)|0,u=u+Math.imul(ce,Z)|0,x=x+Math.imul(ce,X)|0,v=v+Math.imul(ae,oe)|0,u=u+Math.imul(ae,ue)|0,u=u+Math.imul(W,oe)|0,x=x+Math.imul(W,ue)|0;var it=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(it>>>26)|0,it&=67108863,v=Math.imul(De,Ue),u=Math.imul(De,Le),u=u+Math.imul(Me,Ue)|0,x=Math.imul(Me,Le),v=v+Math.imul(Re,be)|0,u=u+Math.imul(Re,xe)|0,u=u+Math.imul(Ce,be)|0,x=x+Math.imul(Ce,xe)|0,v=v+Math.imul(ve,Pe)|0,u=u+Math.imul(ve,Oe)|0,u=u+Math.imul(Be,Pe)|0,x=x+Math.imul(Be,Oe)|0,v=v+Math.imul(Ie,me)|0,u=u+Math.imul(Ie,Ne)|0,u=u+Math.imul(we,me)|0,x=x+Math.imul(we,Ne)|0,v=v+Math.imul(ge,j)|0,u=u+Math.imul(ge,H)|0,u=u+Math.imul(ye,j)|0,x=x+Math.imul(ye,H)|0,v=v+Math.imul(se,Z)|0,u=u+Math.imul(se,X)|0,u=u+Math.imul(le,Z)|0,x=x+Math.imul(le,X)|0,v=v+Math.imul(te,oe)|0,u=u+Math.imul(te,ue)|0,u=u+Math.imul(ce,oe)|0,x=x+Math.imul(ce,ue)|0;var ut=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(ut>>>26)|0,ut&=67108863,v=Math.imul(De,be),u=Math.imul(De,xe),u=u+Math.imul(Me,be)|0,x=Math.imul(Me,xe),v=v+Math.imul(Re,Pe)|0,u=u+Math.imul(Re,Oe)|0,u=u+Math.imul(Ce,Pe)|0,x=x+Math.imul(Ce,Oe)|0,v=v+Math.imul(ve,me)|0,u=u+Math.imul(ve,Ne)|0,u=u+Math.imul(Be,me)|0,x=x+Math.imul(Be,Ne)|0,v=v+Math.imul(Ie,j)|0,u=u+Math.imul(Ie,H)|0,u=u+Math.imul(we,j)|0,x=x+Math.imul(we,H)|0,v=v+Math.imul(ge,Z)|0,u=u+Math.imul(ge,X)|0,u=u+Math.imul(ye,Z)|0,x=x+Math.imul(ye,X)|0,v=v+Math.imul(se,oe)|0,u=u+Math.imul(se,ue)|0,u=u+Math.imul(le,oe)|0,x=x+Math.imul(le,ue)|0;var Xe=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,v=Math.imul(De,Pe),u=Math.imul(De,Oe),u=u+Math.imul(Me,Pe)|0,x=Math.imul(Me,Oe),v=v+Math.imul(Re,me)|0,u=u+Math.imul(Re,Ne)|0,u=u+Math.imul(Ce,me)|0,x=x+Math.imul(Ce,Ne)|0,v=v+Math.imul(ve,j)|0,u=u+Math.imul(ve,H)|0,u=u+Math.imul(Be,j)|0,x=x+Math.imul(Be,H)|0,v=v+Math.imul(Ie,Z)|0,u=u+Math.imul(Ie,X)|0,u=u+Math.imul(we,Z)|0,x=x+Math.imul(we,X)|0,v=v+Math.imul(ge,oe)|0,u=u+Math.imul(ge,ue)|0,u=u+Math.imul(ye,oe)|0,x=x+Math.imul(ye,ue)|0;var ot=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(ot>>>26)|0,ot&=67108863,v=Math.imul(De,me),u=Math.imul(De,Ne),u=u+Math.imul(Me,me)|0,x=Math.imul(Me,Ne),v=v+Math.imul(Re,j)|0,u=u+Math.imul(Re,H)|0,u=u+Math.imul(Ce,j)|0,x=x+Math.imul(Ce,H)|0,v=v+Math.imul(ve,Z)|0,u=u+Math.imul(ve,X)|0,u=u+Math.imul(Be,Z)|0,x=x+Math.imul(Be,X)|0,v=v+Math.imul(Ie,oe)|0,u=u+Math.imul(Ie,ue)|0,u=u+Math.imul(we,oe)|0,x=x+Math.imul(we,ue)|0;var st=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(st>>>26)|0,st&=67108863,v=Math.imul(De,j),u=Math.imul(De,H),u=u+Math.imul(Me,j)|0,x=Math.imul(Me,H),v=v+Math.imul(Re,Z)|0,u=u+Math.imul(Re,X)|0,u=u+Math.imul(Ce,Z)|0,x=x+Math.imul(Ce,X)|0,v=v+Math.imul(ve,oe)|0,u=u+Math.imul(ve,ue)|0,u=u+Math.imul(Be,oe)|0,x=x+Math.imul(Be,ue)|0;var Qe=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,v=Math.imul(De,Z),u=Math.imul(De,X),u=u+Math.imul(Me,Z)|0,x=Math.imul(Me,X),v=v+Math.imul(Re,oe)|0,u=u+Math.imul(Re,ue)|0,u=u+Math.imul(Ce,oe)|0,x=x+Math.imul(Ce,ue)|0;var Fe=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,v=Math.imul(De,oe),u=Math.imul(De,ue),u=u+Math.imul(Me,oe)|0,x=Math.imul(Me,ue);var Ve=(_+v|0)+((u&8191)<<13)|0;return _=(x+(u>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,A[0]=at,A[1]=Je,A[2]=At,A[3]=tt,A[4]=dt,A[5]=ht,A[6]=bt,A[7]=gt,A[8]=pt,A[9]=yt,A[10]=mt,A[11]=it,A[12]=ut,A[13]=Xe,A[14]=ot,A[15]=st,A[16]=Qe,A[17]=Fe,A[18]=Ve,_!==0&&(A[19]=_,p.length++),p};Math.imul||(M=I);function k(S,a,f){f.negative=a.negative^S.negative,f.length=S.length+a.length;for(var p=0,y=0,g=0;g<f.length-1;g++){var A=y;y=0;for(var _=p&67108863,v=Math.min(g,a.length-1),u=Math.max(0,g-S.length+1);u<=v;u++){var x=g-u,L=S.words[x]|0,D=a.words[u]|0,C=L*D,z=C&67108863;A=A+(C/67108864|0)|0,z=z+_|0,_=z&67108863,A=A+(z>>>26)|0,y+=A>>>26,A&=67108863}f.words[g]=_,p=A,A=y}return p!==0?f.words[g]=p:f.length--,f.strip()}function R(S,a,f){var p=new B;return p.mulp(S,a,f)}i.prototype.mulTo=function(a,f){var p,y=this.length+a.length;return this.length===10&&a.length===10?p=M(this,a,f):y<63?p=I(this,a,f):y<1024?p=k(this,a,f):p=R(this,a,f),p};function B(S,a){this.x=S,this.y=a}B.prototype.makeRBT=function(a){for(var f=new Array(a),p=i.prototype._countBits(a)-1,y=0;y<a;y++)f[y]=this.revBin(y,p,a);return f},B.prototype.revBin=function(a,f,p){if(a===0||a===p-1)return a;for(var y=0,g=0;g<f;g++)y|=(a&1)<<f-g-1,a>>=1;return y},B.prototype.permute=function(a,f,p,y,g,A){for(var _=0;_<A;_++)y[_]=f[a[_]],g[_]=p[a[_]]},B.prototype.transform=function(a,f,p,y,g,A){this.permute(A,a,f,p,y,g);for(var _=1;_<g;_<<=1)for(var v=_<<1,u=Math.cos(2*Math.PI/v),x=Math.sin(2*Math.PI/v),L=0;L<g;L+=v)for(var D=u,C=x,z=0;z<_;z++){var ee=p[L+z],ne=y[L+z],Ke=p[L+z+_],ae=y[L+z+_],W=D*Ke-C*ae;ae=D*ae+C*Ke,Ke=W,p[L+z]=ee+Ke,y[L+z]=ne+ae,p[L+z+_]=ee-Ke,y[L+z+_]=ne-ae,z!==v&&(W=u*D-x*C,C=u*C+x*D,D=W)}},B.prototype.guessLen13b=function(a,f){var p=Math.max(f,a)|1,y=p&1,g=0;for(p=p/2|0;p;p=p>>>1)g++;return 1<<g+1+y},B.prototype.conjugate=function(a,f,p){if(!(p<=1))for(var y=0;y<p/2;y++){var g=a[y];a[y]=a[p-y-1],a[p-y-1]=g,g=f[y],f[y]=-f[p-y-1],f[p-y-1]=-g}},B.prototype.normalize13b=function(a,f){for(var p=0,y=0;y<f/2;y++){var g=Math.round(a[2*y+1]/f)*8192+Math.round(a[2*y]/f)+p;a[y]=g&67108863,g<67108864?p=0:p=g/67108864|0}return a},B.prototype.convert13b=function(a,f,p,y){for(var g=0,A=0;A<f;A++)g=g+(a[A]|0),p[2*A]=g&8191,g=g>>>13,p[2*A+1]=g&8191,g=g>>>13;for(A=2*f;A<y;++A)p[A]=0;r(g===0),r((g&-8192)===0)},B.prototype.stub=function(a){for(var f=new Array(a),p=0;p<a;p++)f[p]=0;return f},B.prototype.mulp=function(a,f,p){var y=2*this.guessLen13b(a.length,f.length),g=this.makeRBT(y),A=this.stub(y),_=new Array(y),v=new Array(y),u=new Array(y),x=new Array(y),L=new Array(y),D=new Array(y),C=p.words;C.length=y,this.convert13b(a.words,a.length,_,y),this.convert13b(f.words,f.length,x,y),this.transform(_,A,v,u,y,g),this.transform(x,A,L,D,y,g);for(var z=0;z<y;z++){var ee=v[z]*L[z]-u[z]*D[z];u[z]=v[z]*D[z]+u[z]*L[z],v[z]=ee}return this.conjugate(v,u,y),this.transform(v,u,C,A,y,g),this.conjugate(C,A,y),this.normalize13b(C,y),p.negative=a.negative^f.negative,p.length=a.length+f.length,p.strip()},i.prototype.mul=function(a){var f=new i(null);return f.words=new Array(this.length+a.length),this.mulTo(a,f)},i.prototype.mulf=function(a){var f=new i(null);return f.words=new Array(this.length+a.length),R(this,a,f)},i.prototype.imul=function(a){return this.clone().mulTo(a,this)},i.prototype.imuln=function(a){r(typeof a=="number"),r(a<67108864);for(var f=0,p=0;p<this.length;p++){var y=(this.words[p]|0)*a,g=(y&67108863)+(f&67108863);f>>=26,f+=y/67108864|0,f+=g>>>26,this.words[p]=g&67108863}return f!==0&&(this.words[p]=f,this.length++),this},i.prototype.muln=function(a){return this.clone().imuln(a)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(a){var f=E(a);if(f.length===0)return new i(1);for(var p=this,y=0;y<f.length&&f[y]===0;y++,p=p.sqr());if(++y<f.length)for(var g=p.sqr();y<f.length;y++,g=g.sqr())f[y]!==0&&(p=p.mul(g));return p},i.prototype.iushln=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26,y=67108863>>>26-f<<26-f,g;if(f!==0){var A=0;for(g=0;g<this.length;g++){var _=this.words[g]&y,v=(this.words[g]|0)-_<<f;this.words[g]=v|A,A=_>>>26-f}A&&(this.words[g]=A,this.length++)}if(p!==0){for(g=this.length-1;g>=0;g--)this.words[g+p]=this.words[g];for(g=0;g<p;g++)this.words[g]=0;this.length+=p}return this.strip()},i.prototype.ishln=function(a){return r(this.negative===0),this.iushln(a)},i.prototype.iushrn=function(a,f,p){r(typeof a=="number"&&a>=0);var y;f?y=(f-f%26)/26:y=0;var g=a%26,A=Math.min((a-g)/26,this.length),_=67108863^67108863>>>g<<g,v=p;if(y-=A,y=Math.max(0,y),v){for(var u=0;u<A;u++)v.words[u]=this.words[u];v.length=A}if(A!==0)if(this.length>A)for(this.length-=A,u=0;u<this.length;u++)this.words[u]=this.words[u+A];else this.words[0]=0,this.length=1;var x=0;for(u=this.length-1;u>=0&&(x!==0||u>=y);u--){var L=this.words[u]|0;this.words[u]=x<<26-g|L>>>g,x=L&_}return v&&x!==0&&(v.words[v.length++]=x),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(a,f,p){return r(this.negative===0),this.iushrn(a,f,p)},i.prototype.shln=function(a){return this.clone().ishln(a)},i.prototype.ushln=function(a){return this.clone().iushln(a)},i.prototype.shrn=function(a){return this.clone().ishrn(a)},i.prototype.ushrn=function(a){return this.clone().iushrn(a)},i.prototype.testn=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26,y=1<<f;if(this.length<=p)return!1;var g=this.words[p];return!!(g&y)},i.prototype.imaskn=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(f!==0&&p++,this.length=Math.min(p,this.length),f!==0){var y=67108863^67108863>>>f<<f;this.words[this.length-1]&=y}return this.strip()},i.prototype.maskn=function(a){return this.clone().imaskn(a)},i.prototype.iaddn=function(a){return r(typeof a=="number"),r(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},i.prototype._iaddn=function(a){this.words[0]+=a;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)this.words[f]-=67108864,f===this.length-1?this.words[f+1]=1:this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},i.prototype.isubn=function(a){if(r(typeof a=="number"),r(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this.strip()},i.prototype.addn=function(a){return this.clone().iaddn(a)},i.prototype.subn=function(a){return this.clone().isubn(a)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(a,f,p){var y=a.length+p,g;this._expand(y);var A,_=0;for(g=0;g<a.length;g++){A=(this.words[g+p]|0)+_;var v=(a.words[g]|0)*f;A-=v&67108863,_=(A>>26)-(v/67108864|0),this.words[g+p]=A&67108863}for(;g<this.length-p;g++)A=(this.words[g+p]|0)+_,_=A>>26,this.words[g+p]=A&67108863;if(_===0)return this.strip();for(r(_===-1),_=0,g=0;g<this.length;g++)A=-(this.words[g]|0)+_,_=A>>26,this.words[g]=A&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(a,f){var p=this.length-a.length,y=this.clone(),g=a,A=g.words[g.length-1]|0,_=this._countBits(A);p=26-_,p!==0&&(g=g.ushln(p),y.iushln(p),A=g.words[g.length-1]|0);var v=y.length-g.length,u;if(f!=="mod"){u=new i(null),u.length=v+1,u.words=new Array(u.length);for(var x=0;x<u.length;x++)u.words[x]=0}var L=y.clone()._ishlnsubmul(g,1,v);L.negative===0&&(y=L,u&&(u.words[v]=1));for(var D=v-1;D>=0;D--){var C=(y.words[g.length+D]|0)*67108864+(y.words[g.length+D-1]|0);for(C=Math.min(C/A|0,67108863),y._ishlnsubmul(g,C,D);y.negative!==0;)C--,y.negative=0,y._ishlnsubmul(g,1,D),y.isZero()||(y.negative^=1);u&&(u.words[D]=C)}return u&&u.strip(),y.strip(),f!=="div"&&p!==0&&y.iushrn(p),{div:u||null,mod:y}},i.prototype.divmod=function(a,f,p){if(r(!a.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var y,g,A;return this.negative!==0&&a.negative===0?(A=this.neg().divmod(a,f),f!=="mod"&&(y=A.div.neg()),f!=="div"&&(g=A.mod.neg(),p&&g.negative!==0&&g.iadd(a)),{div:y,mod:g}):this.negative===0&&a.negative!==0?(A=this.divmod(a.neg(),f),f!=="mod"&&(y=A.div.neg()),{div:y,mod:A.mod}):this.negative&a.negative?(A=this.neg().divmod(a.neg(),f),f!=="div"&&(g=A.mod.neg(),p&&g.negative!==0&&g.isub(a)),{div:A.div,mod:g}):a.length>this.length||this.cmp(a)<0?{div:new i(0),mod:this}:a.length===1?f==="div"?{div:this.divn(a.words[0]),mod:null}:f==="mod"?{div:null,mod:new i(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new i(this.modn(a.words[0]))}:this._wordDiv(a,f)},i.prototype.div=function(a){return this.divmod(a,"div",!1).div},i.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},i.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},i.prototype.divRound=function(a){var f=this.divmod(a);if(f.mod.isZero())return f.div;var p=f.div.negative!==0?f.mod.isub(a):f.mod,y=a.ushrn(1),g=a.andln(1),A=p.cmp(y);return A<0||g===1&&A===0?f.div:f.div.negative!==0?f.div.isubn(1):f.div.iaddn(1)},i.prototype.modn=function(a){r(a<=67108863);for(var f=(1<<26)%a,p=0,y=this.length-1;y>=0;y--)p=(f*p+(this.words[y]|0))%a;return p},i.prototype.idivn=function(a){r(a<=67108863);for(var f=0,p=this.length-1;p>=0;p--){var y=(this.words[p]|0)+f*67108864;this.words[p]=y/a|0,f=y%a}return this.strip()},i.prototype.divn=function(a){return this.clone().idivn(a)},i.prototype.egcd=function(a){r(a.negative===0),r(!a.isZero());var f=this,p=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var y=new i(1),g=new i(0),A=new i(0),_=new i(1),v=0;f.isEven()&&p.isEven();)f.iushrn(1),p.iushrn(1),++v;for(var u=p.clone(),x=f.clone();!f.isZero();){for(var L=0,D=1;!(f.words[0]&D)&&L<26;++L,D<<=1);if(L>0)for(f.iushrn(L);L-- >0;)(y.isOdd()||g.isOdd())&&(y.iadd(u),g.isub(x)),y.iushrn(1),g.iushrn(1);for(var C=0,z=1;!(p.words[0]&z)&&C<26;++C,z<<=1);if(C>0)for(p.iushrn(C);C-- >0;)(A.isOdd()||_.isOdd())&&(A.iadd(u),_.isub(x)),A.iushrn(1),_.iushrn(1);f.cmp(p)>=0?(f.isub(p),y.isub(A),g.isub(_)):(p.isub(f),A.isub(y),_.isub(g))}return{a:A,b:_,gcd:p.iushln(v)}},i.prototype._invmp=function(a){r(a.negative===0),r(!a.isZero());var f=this,p=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var y=new i(1),g=new i(0),A=p.clone();f.cmpn(1)>0&&p.cmpn(1)>0;){for(var _=0,v=1;!(f.words[0]&v)&&_<26;++_,v<<=1);if(_>0)for(f.iushrn(_);_-- >0;)y.isOdd()&&y.iadd(A),y.iushrn(1);for(var u=0,x=1;!(p.words[0]&x)&&u<26;++u,x<<=1);if(u>0)for(p.iushrn(u);u-- >0;)g.isOdd()&&g.iadd(A),g.iushrn(1);f.cmp(p)>=0?(f.isub(p),y.isub(g)):(p.isub(f),g.isub(y))}var L;return f.cmpn(1)===0?L=y:L=g,L.cmpn(0)<0&&L.iadd(a),L},i.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var f=this.clone(),p=a.clone();f.negative=0,p.negative=0;for(var y=0;f.isEven()&&p.isEven();y++)f.iushrn(1),p.iushrn(1);do{for(;f.isEven();)f.iushrn(1);for(;p.isEven();)p.iushrn(1);var g=f.cmp(p);if(g<0){var A=f;f=p,p=A}else if(g===0||p.cmpn(1)===0)break;f.isub(p)}while(!0);return p.iushln(y)},i.prototype.invm=function(a){return this.egcd(a).a.umod(a)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(a){return this.words[0]&a},i.prototype.bincn=function(a){r(typeof a=="number");var f=a%26,p=(a-f)/26,y=1<<f;if(this.length<=p)return this._expand(p+1),this.words[p]|=y,this;for(var g=y,A=p;g!==0&&A<this.length;A++){var _=this.words[A]|0;_+=g,g=_>>>26,_&=67108863,this.words[A]=_}return g!==0&&(this.words[A]=g,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(a){var f=a<0;if(this.negative!==0&&!f)return-1;if(this.negative===0&&f)return 1;this.strip();var p;if(this.length>1)p=1;else{f&&(a=-a),r(a<=67108863,"Number is too big");var y=this.words[0]|0;p=y===a?0:y<a?-1:1}return this.negative!==0?-p|0:p},i.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var f=this.ucmp(a);return this.negative!==0?-f|0:f},i.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var f=0,p=this.length-1;p>=0;p--){var y=this.words[p]|0,g=a.words[p]|0;if(y!==g){y<g?f=-1:y>g&&(f=1);break}}return f},i.prototype.gtn=function(a){return this.cmpn(a)===1},i.prototype.gt=function(a){return this.cmp(a)===1},i.prototype.gten=function(a){return this.cmpn(a)>=0},i.prototype.gte=function(a){return this.cmp(a)>=0},i.prototype.ltn=function(a){return this.cmpn(a)===-1},i.prototype.lt=function(a){return this.cmp(a)===-1},i.prototype.lten=function(a){return this.cmpn(a)<=0},i.prototype.lte=function(a){return this.cmp(a)<=0},i.prototype.eqn=function(a){return this.cmpn(a)===0},i.prototype.eq=function(a){return this.cmp(a)===0},i.red=function(a){return new Q(a)},i.prototype.toRed=function(a){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(a){return this.red=a,this},i.prototype.forceRed=function(a){return r(!this.red,"Already a number in reduction context"),this._forceRed(a)},i.prototype.redAdd=function(a){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},i.prototype.redIAdd=function(a){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},i.prototype.redSub=function(a){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},i.prototype.redISub=function(a){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},i.prototype.redShl=function(a){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},i.prototype.redMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},i.prototype.redIMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(a){return r(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var U={k256:null,p224:null,p192:null,p25519:null};function P(S,a){this.name=S,this.p=new i(a,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}P.prototype._tmp=function(){var a=new i(null);return a.words=new Array(Math.ceil(this.n/13)),a},P.prototype.ireduce=function(a){var f=a,p;do this.split(f,this.tmp),f=this.imulK(f),f=f.iadd(this.tmp),p=f.bitLength();while(p>this.n);var y=p<this.n?-1:f.ucmp(this.p);return y===0?(f.words[0]=0,f.length=1):y>0?f.isub(this.p):f.strip!==void 0?f.strip():f._strip(),f},P.prototype.split=function(a,f){a.iushrn(this.n,0,f)},P.prototype.imulK=function(a){return a.imul(this.k)};function F(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(F,P),F.prototype.split=function(a,f){for(var p=4194303,y=Math.min(a.length,9),g=0;g<y;g++)f.words[g]=a.words[g];if(f.length=y,a.length<=9){a.words[0]=0,a.length=1;return}var A=a.words[9];for(f.words[f.length++]=A&p,g=10;g<a.length;g++){var _=a.words[g]|0;a.words[g-10]=(_&p)<<4|A>>>22,A=_}A>>>=22,a.words[g-10]=A,A===0&&a.length>10?a.length-=10:a.length-=9},F.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var f=0,p=0;p<a.length;p++){var y=a.words[p]|0;f+=y*977,a.words[p]=f&67108863,f=y*64+(f/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function q(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(q,P);function K(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(K,P);function re(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(re,P),re.prototype.imulK=function(a){for(var f=0,p=0;p<a.length;p++){var y=(a.words[p]|0)*19+f,g=y&67108863;y>>>=26,a.words[p]=g,f=y}return f!==0&&(a.words[a.length++]=f),a},i._prime=function(a){if(U[a])return U[a];var f;if(a==="k256")f=new F;else if(a==="p224")f=new q;else if(a==="p192")f=new K;else if(a==="p25519")f=new re;else throw new Error("Unknown prime "+a);return U[a]=f,f};function Q(S){if(typeof S=="string"){var a=i._prime(S);this.m=a.p,this.prime=a}else r(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}Q.prototype._verify1=function(a){r(a.negative===0,"red works only with positives"),r(a.red,"red works only with red numbers")},Q.prototype._verify2=function(a,f){r((a.negative|f.negative)===0,"red works only with positives"),r(a.red&&a.red===f.red,"red works only with red numbers")},Q.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},Q.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},Q.prototype.add=function(a,f){this._verify2(a,f);var p=a.add(f);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},Q.prototype.iadd=function(a,f){this._verify2(a,f);var p=a.iadd(f);return p.cmp(this.m)>=0&&p.isub(this.m),p},Q.prototype.sub=function(a,f){this._verify2(a,f);var p=a.sub(f);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},Q.prototype.isub=function(a,f){this._verify2(a,f);var p=a.isub(f);return p.cmpn(0)<0&&p.iadd(this.m),p},Q.prototype.shl=function(a,f){return this._verify1(a),this.imod(a.ushln(f))},Q.prototype.imul=function(a,f){return this._verify2(a,f),this.imod(a.imul(f))},Q.prototype.mul=function(a,f){return this._verify2(a,f),this.imod(a.mul(f))},Q.prototype.isqr=function(a){return this.imul(a,a.clone())},Q.prototype.sqr=function(a){return this.mul(a,a)},Q.prototype.sqrt=function(a){if(a.isZero())return a.clone();var f=this.m.andln(3);if(r(f%2===1),f===3){var p=this.m.add(new i(1)).iushrn(2);return this.pow(a,p)}for(var y=this.m.subn(1),g=0;!y.isZero()&&y.andln(1)===0;)g++,y.iushrn(1);r(!y.isZero());var A=new i(1).toRed(this),_=A.redNeg(),v=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new i(2*u*u).toRed(this);this.pow(u,v).cmp(_)!==0;)u.redIAdd(_);for(var x=this.pow(u,y),L=this.pow(a,y.addn(1).iushrn(1)),D=this.pow(a,y),C=g;D.cmp(A)!==0;){for(var z=D,ee=0;z.cmp(A)!==0;ee++)z=z.redSqr();r(ee<C);var ne=this.pow(x,new i(1).iushln(C-ee-1));L=L.redMul(ne),x=ne.redSqr(),D=D.redMul(x),C=ee}return L},Q.prototype.invm=function(a){var f=a._invmp(this.m);return f.negative!==0?(f.negative=0,this.imod(f).redNeg()):this.imod(f)},Q.prototype.pow=function(a,f){if(f.isZero())return new i(1).toRed(this);if(f.cmpn(1)===0)return a.clone();var p=4,y=new Array(1<<p);y[0]=new i(1).toRed(this),y[1]=a;for(var g=2;g<y.length;g++)y[g]=this.mul(y[g-1],a);var A=y[0],_=0,v=0,u=f.bitLength()%26;for(u===0&&(u=26),g=f.length-1;g>=0;g--){for(var x=f.words[g],L=u-1;L>=0;L--){var D=x>>L&1;if(A!==y[0]&&(A=this.sqr(A)),D===0&&_===0){v=0;continue}_<<=1,_|=D,v++,!(v!==p&&(g!==0||L!==0))&&(A=this.mul(A,y[_]),v=0,_=0)}u=26}return A},Q.prototype.convertTo=function(a){var f=a.umod(this.m);return f===a?f.clone():f},Q.prototype.convertFrom=function(a){var f=a.clone();return f.red=null,f},i.mont=function(a){return new ie(a)};function ie(S){Q.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(ie,Q),ie.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},ie.prototype.convertFrom=function(a){var f=this.imod(a.mul(this.rinv));return f.red=null,f},ie.prototype.imul=function(a,f){if(a.isZero()||f.isZero())return a.words[0]=0,a.length=1,a;var p=a.imul(f),y=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=p.isub(y).iushrn(this.shift),A=g;return g.cmp(this.m)>=0?A=g.isub(this.m):g.cmpn(0)<0&&(A=g.iadd(this.m)),A._forceRed(this)},ie.prototype.mul=function(a,f){if(a.isZero()||f.isZero())return new i(0)._forceRed(this);var p=a.mul(f),y=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=p.isub(y).iushrn(this.shift),A=g;return g.cmp(this.m)>=0?A=g.isub(this.m):g.cmpn(0)<0&&(A=g.iadd(this.m)),A._forceRed(this)},ie.prototype.invm=function(a){var f=this.imod(a._invmp(this.m).mul(this.r2));return f._forceRed(this)}})(typeof zK>"u"||zK,bpe)});var wpe=V((HWt,xpe)=>{d();h();var RYe=hw(),CYe=vpe();xpe.exports=function(e){return new Yb(e)};var ou={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};ou.p224=ou.secp224r1;ou.p256=ou.secp256r1=ou.prime256v1;ou.p192=ou.secp192r1=ou.prime192v1;ou.p384=ou.secp384r1;ou.p521=ou.secp521r1;function Yb(t){this.curveType=ou[t],this.curveType||(this.curveType={name:t}),this.curve=new RYe.ec(this.curveType.name),this.keys=void 0}Yb.prototype.generateKeys=function(t,e){return this.keys=this.curve.genKeyPair(),this.getPublicKey(t,e)};Yb.prototype.computeSecret=function(t,e,r){e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e));var n=this.curve.keyFromPublic(t).getPublic(),i=n.mul(this.keys.getPrivate()).getX();return WK(i,r,this.curveType.byteLength)};Yb.prototype.getPublicKey=function(t,e){var r=this.keys.getPublic(e==="compressed",!0);return e==="hybrid"&&(r[r.length-1]%2?r[0]=7:r[0]=6),WK(r,t)};Yb.prototype.getPrivateKey=function(t){return WK(this.keys.getPrivate(),t)};Yb.prototype.setPublicKey=function(t,e){return e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e)),this.keys._importPublic(t),this};Yb.prototype.setPrivateKey=function(t,e){e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e));var r=new CYe(t);return r=r.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(r),this};function WK(t,e,r){Array.isArray(t)||(t=t.toArray());var n=new Buffer(t);if(r&&n.length<r){var i=new Buffer(r-n.length);i.fill(0),n=Buffer.concat([i,n])}return e?n.toString(e):n}});var $K=V((WWt,Spe)=>{d();h();var OYe=tm(),GK=cr().Buffer;Spe.exports=function(t,e){for(var r=GK.alloc(0),n=0,i;r.length<e;)i=NYe(n++),r=GK.concat([r,OYe("sha1").update(t).update(i).digest()]);return r.slice(0,e)};function NYe(t){var e=GK.allocUnsafe(4);return e.writeUInt32BE(t,0),e}});var YK=V((YWt,Ape)=>{d();h();Ape.exports=function(e,r){for(var n=e.length,i=-1;++i<n;)e[i]^=r[i];return e}});var lk=V((Epe,ZK)=>{d();h();(function(t,e){"use strict";function r(S,a){if(!S)throw new Error(a||"Assertion failed")}function n(S,a){S.super_=a;var f=function(){};f.prototype=a.prototype,S.prototype=new f,S.prototype.constructor=S}function i(S,a,f){if(i.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((a==="le"||a==="be")&&(f=a,a=10),this._init(S||0,a||10,f||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof self<"u"&&typeof self.Buffer<"u"?o=self.Buffer:o=Fp().Buffer}catch{}i.isBN=function(a){return a instanceof i?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===i.wordSize&&Array.isArray(a.words)},i.max=function(a,f){return a.cmp(f)>0?a:f},i.min=function(a,f){return a.cmp(f)<0?a:f},i.prototype._init=function(a,f,p){if(typeof a=="number")return this._initNumber(a,f,p);if(typeof a=="object")return this._initArray(a,f,p);f==="hex"&&(f=16),r(f===(f|0)&&f>=2&&f<=36),a=a.toString().replace(/\s+/g,"");var y=0;a[0]==="-"&&(y++,this.negative=1),y<a.length&&(f===16?this._parseHex(a,y,p):(this._parseBase(a,f,y),p==="le"&&this._initArray(this.toArray(),f,p)))},i.prototype._initNumber=function(a,f,p){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(r(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),f,p)},i.prototype._initArray=function(a,f,p){if(r(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var g,A,_=0;if(p==="be")for(y=a.length-1,g=0;y>=0;y-=3)A=a[y]|a[y-1]<<8|a[y-2]<<16,this.words[g]|=A<<_&67108863,this.words[g+1]=A>>>26-_&67108863,_+=24,_>=26&&(_-=26,g++);else if(p==="le")for(y=0,g=0;y<a.length;y+=3)A=a[y]|a[y+1]<<8|a[y+2]<<16,this.words[g]|=A<<_&67108863,this.words[g+1]=A>>>26-_&67108863,_+=24,_>=26&&(_-=26,g++);return this.strip()};function s(S,a){var f=S.charCodeAt(a);return f>=65&&f<=70?f-55:f>=97&&f<=102?f-87:f-48&15}function c(S,a,f){var p=s(S,f);return f-1>=a&&(p|=s(S,f-1)<<4),p}i.prototype._parseHex=function(a,f,p){this.length=Math.ceil((a.length-f)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var g=0,A=0,_;if(p==="be")for(y=a.length-1;y>=f;y-=2)_=c(a,f,y)<<g,this.words[A]|=_&67108863,g>=18?(g-=18,A+=1,this.words[A]|=_>>>26):g+=8;else{var v=a.length-f;for(y=v%2===0?f+1:f;y<a.length;y+=2)_=c(a,f,y)<<g,this.words[A]|=_&67108863,g>=18?(g-=18,A+=1,this.words[A]|=_>>>26):g+=8}this.strip()};function l(S,a,f,p){for(var y=0,g=Math.min(S.length,f),A=a;A<g;A++){var _=S.charCodeAt(A)-48;y*=p,_>=49?y+=_-49+10:_>=17?y+=_-17+10:y+=_}return y}i.prototype._parseBase=function(a,f,p){this.words=[0],this.length=1;for(var y=0,g=1;g<=67108863;g*=f)y++;y--,g=g/f|0;for(var A=a.length-p,_=A%y,v=Math.min(A,A-_)+p,u=0,x=p;x<v;x+=y)u=l(a,x,x+y,f),this.imuln(g),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(_!==0){var L=1;for(u=l(a,x,a.length,f),x=0;x<_;x++)L*=f;this.imuln(L),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},i.prototype.copy=function(a){a.words=new Array(this.length);for(var f=0;f<this.length;f++)a.words[f]=this.words[f];a.length=this.length,a.negative=this.negative,a.red=this.red},i.prototype.clone=function(){var a=new i(null);return this.copy(a),a},i.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],w=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(a,f){a=a||10,f=f|0||1;var p;if(a===16||a==="hex"){p="";for(var y=0,g=0,A=0;A<this.length;A++){var _=this.words[A],v=((_<<y|g)&16777215).toString(16);g=_>>>24-y&16777215,g!==0||A!==this.length-1?p=m[6-v.length]+v+p:p=v+p,y+=2,y>=26&&(y-=26,A--)}for(g!==0&&(p=g.toString(16)+p);p.length%f!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(a===(a|0)&&a>=2&&a<=36){var u=w[a],x=b[a];p="";var L=this.clone();for(L.negative=0;!L.isZero();){var D=L.modn(x).toString(a);L=L.idivn(x),L.isZero()?p=D+p:p=m[u-D.length]+D+p}for(this.isZero()&&(p="0"+p);p.length%f!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(a,f){return r(typeof o<"u"),this.toArrayLike(o,a,f)},i.prototype.toArray=function(a,f){return this.toArrayLike(Array,a,f)},i.prototype.toArrayLike=function(a,f,p){var y=this.byteLength(),g=p||Math.max(1,y);r(y<=g,"byte array longer than desired length"),r(g>0,"Requested array length <= 0"),this.strip();var A=f==="le",_=new a(g),v,u,x=this.clone();if(A){for(u=0;!x.isZero();u++)v=x.andln(255),x.iushrn(8),_[u]=v;for(;u<g;u++)_[u]=0}else{for(u=0;u<g-y;u++)_[u]=0;for(u=0;!x.isZero();u++)v=x.andln(255),x.iushrn(8),_[g-u-1]=v}return _},Math.clz32?i.prototype._countBits=function(a){return 32-Math.clz32(a)}:i.prototype._countBits=function(a){var f=a,p=0;return f>=4096&&(p+=13,f>>>=13),f>=64&&(p+=7,f>>>=7),f>=8&&(p+=4,f>>>=4),f>=2&&(p+=2,f>>>=2),p+f},i.prototype._zeroBits=function(a){if(a===0)return 26;var f=a,p=0;return f&8191||(p+=13,f>>>=13),f&127||(p+=7,f>>>=7),f&15||(p+=4,f>>>=4),f&3||(p+=2,f>>>=2),f&1||p++,p},i.prototype.bitLength=function(){var a=this.words[this.length-1],f=this._countBits(a);return(this.length-1)*26+f};function E(S){for(var a=new Array(S.bitLength()),f=0;f<a.length;f++){var p=f/26|0,y=f%26;a[f]=(S.words[p]&1<<y)>>>y}return a}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,f=0;f<this.length;f++){var p=this._zeroBits(this.words[f]);if(a+=p,p!==26)break}return a},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},i.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var f=0;f<a.length;f++)this.words[f]=this.words[f]|a.words[f];return this.strip()},i.prototype.ior=function(a){return r((this.negative|a.negative)===0),this.iuor(a)},i.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},i.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},i.prototype.iuand=function(a){var f;this.length>a.length?f=a:f=this;for(var p=0;p<f.length;p++)this.words[p]=this.words[p]&a.words[p];return this.length=f.length,this.strip()},i.prototype.iand=function(a){return r((this.negative|a.negative)===0),this.iuand(a)},i.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},i.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},i.prototype.iuxor=function(a){var f,p;this.length>a.length?(f=this,p=a):(f=a,p=this);for(var y=0;y<p.length;y++)this.words[y]=f.words[y]^p.words[y];if(this!==f)for(;y<f.length;y++)this.words[y]=f.words[y];return this.length=f.length,this.strip()},i.prototype.ixor=function(a){return r((this.negative|a.negative)===0),this.iuxor(a)},i.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},i.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},i.prototype.inotn=function(a){r(typeof a=="number"&&a>=0);var f=Math.ceil(a/26)|0,p=a%26;this._expand(f),p>0&&f--;for(var y=0;y<f;y++)this.words[y]=~this.words[y]&67108863;return p>0&&(this.words[y]=~this.words[y]&67108863>>26-p),this.strip()},i.prototype.notn=function(a){return this.clone().inotn(a)},i.prototype.setn=function(a,f){r(typeof a=="number"&&a>=0);var p=a/26|0,y=a%26;return this._expand(p+1),f?this.words[p]=this.words[p]|1<<y:this.words[p]=this.words[p]&~(1<<y),this.strip()},i.prototype.iadd=function(a){var f;if(this.negative!==0&&a.negative===0)return this.negative=0,f=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,f=this.isub(a),a.negative=1,f._normSign();var p,y;this.length>a.length?(p=this,y=a):(p=a,y=this);for(var g=0,A=0;A<y.length;A++)f=(p.words[A]|0)+(y.words[A]|0)+g,this.words[A]=f&67108863,g=f>>>26;for(;g!==0&&A<p.length;A++)f=(p.words[A]|0)+g,this.words[A]=f&67108863,g=f>>>26;if(this.length=p.length,g!==0)this.words[this.length]=g,this.length++;else if(p!==this)for(;A<p.length;A++)this.words[A]=p.words[A];return this},i.prototype.add=function(a){var f;return a.negative!==0&&this.negative===0?(a.negative=0,f=this.sub(a),a.negative^=1,f):a.negative===0&&this.negative!==0?(this.negative=0,f=a.sub(this),this.negative=1,f):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},i.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var f=this.iadd(a);return a.negative=1,f._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var p=this.cmp(a);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var y,g;p>0?(y=this,g=a):(y=a,g=this);for(var A=0,_=0;_<g.length;_++)f=(y.words[_]|0)-(g.words[_]|0)+A,A=f>>26,this.words[_]=f&67108863;for(;A!==0&&_<y.length;_++)f=(y.words[_]|0)+A,A=f>>26,this.words[_]=f&67108863;if(A===0&&_<y.length&&y!==this)for(;_<y.length;_++)this.words[_]=y.words[_];return this.length=Math.max(this.length,_),y!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(a){return this.clone().isub(a)};function I(S,a,f){f.negative=a.negative^S.negative;var p=S.length+a.length|0;f.length=p,p=p-1|0;var y=S.words[0]|0,g=a.words[0]|0,A=y*g,_=A&67108863,v=A/67108864|0;f.words[0]=_;for(var u=1;u<p;u++){for(var x=v>>>26,L=v&67108863,D=Math.min(u,a.length-1),C=Math.max(0,u-S.length+1);C<=D;C++){var z=u-C|0;y=S.words[z]|0,g=a.words[C]|0,A=y*g+L,x+=A/67108864|0,L=A&67108863}f.words[u]=L|0,v=x|0}return v!==0?f.words[u]=v|0:f.length--,f.strip()}var M=function(a,f,p){var y=a.words,g=f.words,A=p.words,_=0,v,u,x,L=y[0]|0,D=L&8191,C=L>>>13,z=y[1]|0,ee=z&8191,ne=z>>>13,Ke=y[2]|0,ae=Ke&8191,W=Ke>>>13,he=y[3]|0,te=he&8191,ce=he>>>13,Ze=y[4]|0,se=Ze&8191,le=Ze>>>13,Bt=y[5]|0,ge=Bt&8191,ye=Bt>>>13,$r=y[6]|0,Ie=$r&8191,we=$r>>>13,gn=y[7]|0,ve=gn&8191,Be=gn>>>13,In=y[8]|0,Re=In&8191,Ce=In>>>13,Rn=y[9]|0,De=Rn&8191,Me=Rn>>>13,Mn=g[0]|0,_e=Mn&8191,Se=Mn>>>13,en=g[1]|0,Ae=en&8191,Te=en>>>13,un=g[2]|0,Ee=un&8191,ke=un>>>13,Cn=g[3]|0,Ue=Cn&8191,Le=Cn>>>13,Or=g[4]|0,be=Or&8191,xe=Or>>>13,kn=g[5]|0,Pe=kn&8191,Oe=kn>>>13,Ln=g[6]|0,me=Ln&8191,Ne=Ln>>>13,Y=g[7]|0,j=Y&8191,H=Y>>>13,O=g[8]|0,Z=O&8191,X=O>>>13,pe=g[9]|0,oe=pe&8191,ue=pe>>>13;p.negative=a.negative^f.negative,p.length=19,v=Math.imul(D,_e),u=Math.imul(D,Se),u=u+Math.imul(C,_e)|0,x=Math.imul(C,Se);var at=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(at>>>26)|0,at&=67108863,v=Math.imul(ee,_e),u=Math.imul(ee,Se),u=u+Math.imul(ne,_e)|0,x=Math.imul(ne,Se),v=v+Math.imul(D,Ae)|0,u=u+Math.imul(D,Te)|0,u=u+Math.imul(C,Ae)|0,x=x+Math.imul(C,Te)|0;var Je=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(Je>>>26)|0,Je&=67108863,v=Math.imul(ae,_e),u=Math.imul(ae,Se),u=u+Math.imul(W,_e)|0,x=Math.imul(W,Se),v=v+Math.imul(ee,Ae)|0,u=u+Math.imul(ee,Te)|0,u=u+Math.imul(ne,Ae)|0,x=x+Math.imul(ne,Te)|0,v=v+Math.imul(D,Ee)|0,u=u+Math.imul(D,ke)|0,u=u+Math.imul(C,Ee)|0,x=x+Math.imul(C,ke)|0;var At=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(At>>>26)|0,At&=67108863,v=Math.imul(te,_e),u=Math.imul(te,Se),u=u+Math.imul(ce,_e)|0,x=Math.imul(ce,Se),v=v+Math.imul(ae,Ae)|0,u=u+Math.imul(ae,Te)|0,u=u+Math.imul(W,Ae)|0,x=x+Math.imul(W,Te)|0,v=v+Math.imul(ee,Ee)|0,u=u+Math.imul(ee,ke)|0,u=u+Math.imul(ne,Ee)|0,x=x+Math.imul(ne,ke)|0,v=v+Math.imul(D,Ue)|0,u=u+Math.imul(D,Le)|0,u=u+Math.imul(C,Ue)|0,x=x+Math.imul(C,Le)|0;var tt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(tt>>>26)|0,tt&=67108863,v=Math.imul(se,_e),u=Math.imul(se,Se),u=u+Math.imul(le,_e)|0,x=Math.imul(le,Se),v=v+Math.imul(te,Ae)|0,u=u+Math.imul(te,Te)|0,u=u+Math.imul(ce,Ae)|0,x=x+Math.imul(ce,Te)|0,v=v+Math.imul(ae,Ee)|0,u=u+Math.imul(ae,ke)|0,u=u+Math.imul(W,Ee)|0,x=x+Math.imul(W,ke)|0,v=v+Math.imul(ee,Ue)|0,u=u+Math.imul(ee,Le)|0,u=u+Math.imul(ne,Ue)|0,x=x+Math.imul(ne,Le)|0,v=v+Math.imul(D,be)|0,u=u+Math.imul(D,xe)|0,u=u+Math.imul(C,be)|0,x=x+Math.imul(C,xe)|0;var dt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(dt>>>26)|0,dt&=67108863,v=Math.imul(ge,_e),u=Math.imul(ge,Se),u=u+Math.imul(ye,_e)|0,x=Math.imul(ye,Se),v=v+Math.imul(se,Ae)|0,u=u+Math.imul(se,Te)|0,u=u+Math.imul(le,Ae)|0,x=x+Math.imul(le,Te)|0,v=v+Math.imul(te,Ee)|0,u=u+Math.imul(te,ke)|0,u=u+Math.imul(ce,Ee)|0,x=x+Math.imul(ce,ke)|0,v=v+Math.imul(ae,Ue)|0,u=u+Math.imul(ae,Le)|0,u=u+Math.imul(W,Ue)|0,x=x+Math.imul(W,Le)|0,v=v+Math.imul(ee,be)|0,u=u+Math.imul(ee,xe)|0,u=u+Math.imul(ne,be)|0,x=x+Math.imul(ne,xe)|0,v=v+Math.imul(D,Pe)|0,u=u+Math.imul(D,Oe)|0,u=u+Math.imul(C,Pe)|0,x=x+Math.imul(C,Oe)|0;var ht=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(ht>>>26)|0,ht&=67108863,v=Math.imul(Ie,_e),u=Math.imul(Ie,Se),u=u+Math.imul(we,_e)|0,x=Math.imul(we,Se),v=v+Math.imul(ge,Ae)|0,u=u+Math.imul(ge,Te)|0,u=u+Math.imul(ye,Ae)|0,x=x+Math.imul(ye,Te)|0,v=v+Math.imul(se,Ee)|0,u=u+Math.imul(se,ke)|0,u=u+Math.imul(le,Ee)|0,x=x+Math.imul(le,ke)|0,v=v+Math.imul(te,Ue)|0,u=u+Math.imul(te,Le)|0,u=u+Math.imul(ce,Ue)|0,x=x+Math.imul(ce,Le)|0,v=v+Math.imul(ae,be)|0,u=u+Math.imul(ae,xe)|0,u=u+Math.imul(W,be)|0,x=x+Math.imul(W,xe)|0,v=v+Math.imul(ee,Pe)|0,u=u+Math.imul(ee,Oe)|0,u=u+Math.imul(ne,Pe)|0,x=x+Math.imul(ne,Oe)|0,v=v+Math.imul(D,me)|0,u=u+Math.imul(D,Ne)|0,u=u+Math.imul(C,me)|0,x=x+Math.imul(C,Ne)|0;var bt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(bt>>>26)|0,bt&=67108863,v=Math.imul(ve,_e),u=Math.imul(ve,Se),u=u+Math.imul(Be,_e)|0,x=Math.imul(Be,Se),v=v+Math.imul(Ie,Ae)|0,u=u+Math.imul(Ie,Te)|0,u=u+Math.imul(we,Ae)|0,x=x+Math.imul(we,Te)|0,v=v+Math.imul(ge,Ee)|0,u=u+Math.imul(ge,ke)|0,u=u+Math.imul(ye,Ee)|0,x=x+Math.imul(ye,ke)|0,v=v+Math.imul(se,Ue)|0,u=u+Math.imul(se,Le)|0,u=u+Math.imul(le,Ue)|0,x=x+Math.imul(le,Le)|0,v=v+Math.imul(te,be)|0,u=u+Math.imul(te,xe)|0,u=u+Math.imul(ce,be)|0,x=x+Math.imul(ce,xe)|0,v=v+Math.imul(ae,Pe)|0,u=u+Math.imul(ae,Oe)|0,u=u+Math.imul(W,Pe)|0,x=x+Math.imul(W,Oe)|0,v=v+Math.imul(ee,me)|0,u=u+Math.imul(ee,Ne)|0,u=u+Math.imul(ne,me)|0,x=x+Math.imul(ne,Ne)|0,v=v+Math.imul(D,j)|0,u=u+Math.imul(D,H)|0,u=u+Math.imul(C,j)|0,x=x+Math.imul(C,H)|0;var gt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(gt>>>26)|0,gt&=67108863,v=Math.imul(Re,_e),u=Math.imul(Re,Se),u=u+Math.imul(Ce,_e)|0,x=Math.imul(Ce,Se),v=v+Math.imul(ve,Ae)|0,u=u+Math.imul(ve,Te)|0,u=u+Math.imul(Be,Ae)|0,x=x+Math.imul(Be,Te)|0,v=v+Math.imul(Ie,Ee)|0,u=u+Math.imul(Ie,ke)|0,u=u+Math.imul(we,Ee)|0,x=x+Math.imul(we,ke)|0,v=v+Math.imul(ge,Ue)|0,u=u+Math.imul(ge,Le)|0,u=u+Math.imul(ye,Ue)|0,x=x+Math.imul(ye,Le)|0,v=v+Math.imul(se,be)|0,u=u+Math.imul(se,xe)|0,u=u+Math.imul(le,be)|0,x=x+Math.imul(le,xe)|0,v=v+Math.imul(te,Pe)|0,u=u+Math.imul(te,Oe)|0,u=u+Math.imul(ce,Pe)|0,x=x+Math.imul(ce,Oe)|0,v=v+Math.imul(ae,me)|0,u=u+Math.imul(ae,Ne)|0,u=u+Math.imul(W,me)|0,x=x+Math.imul(W,Ne)|0,v=v+Math.imul(ee,j)|0,u=u+Math.imul(ee,H)|0,u=u+Math.imul(ne,j)|0,x=x+Math.imul(ne,H)|0,v=v+Math.imul(D,Z)|0,u=u+Math.imul(D,X)|0,u=u+Math.imul(C,Z)|0,x=x+Math.imul(C,X)|0;var pt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(pt>>>26)|0,pt&=67108863,v=Math.imul(De,_e),u=Math.imul(De,Se),u=u+Math.imul(Me,_e)|0,x=Math.imul(Me,Se),v=v+Math.imul(Re,Ae)|0,u=u+Math.imul(Re,Te)|0,u=u+Math.imul(Ce,Ae)|0,x=x+Math.imul(Ce,Te)|0,v=v+Math.imul(ve,Ee)|0,u=u+Math.imul(ve,ke)|0,u=u+Math.imul(Be,Ee)|0,x=x+Math.imul(Be,ke)|0,v=v+Math.imul(Ie,Ue)|0,u=u+Math.imul(Ie,Le)|0,u=u+Math.imul(we,Ue)|0,x=x+Math.imul(we,Le)|0,v=v+Math.imul(ge,be)|0,u=u+Math.imul(ge,xe)|0,u=u+Math.imul(ye,be)|0,x=x+Math.imul(ye,xe)|0,v=v+Math.imul(se,Pe)|0,u=u+Math.imul(se,Oe)|0,u=u+Math.imul(le,Pe)|0,x=x+Math.imul(le,Oe)|0,v=v+Math.imul(te,me)|0,u=u+Math.imul(te,Ne)|0,u=u+Math.imul(ce,me)|0,x=x+Math.imul(ce,Ne)|0,v=v+Math.imul(ae,j)|0,u=u+Math.imul(ae,H)|0,u=u+Math.imul(W,j)|0,x=x+Math.imul(W,H)|0,v=v+Math.imul(ee,Z)|0,u=u+Math.imul(ee,X)|0,u=u+Math.imul(ne,Z)|0,x=x+Math.imul(ne,X)|0,v=v+Math.imul(D,oe)|0,u=u+Math.imul(D,ue)|0,u=u+Math.imul(C,oe)|0,x=x+Math.imul(C,ue)|0;var yt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(yt>>>26)|0,yt&=67108863,v=Math.imul(De,Ae),u=Math.imul(De,Te),u=u+Math.imul(Me,Ae)|0,x=Math.imul(Me,Te),v=v+Math.imul(Re,Ee)|0,u=u+Math.imul(Re,ke)|0,u=u+Math.imul(Ce,Ee)|0,x=x+Math.imul(Ce,ke)|0,v=v+Math.imul(ve,Ue)|0,u=u+Math.imul(ve,Le)|0,u=u+Math.imul(Be,Ue)|0,x=x+Math.imul(Be,Le)|0,v=v+Math.imul(Ie,be)|0,u=u+Math.imul(Ie,xe)|0,u=u+Math.imul(we,be)|0,x=x+Math.imul(we,xe)|0,v=v+Math.imul(ge,Pe)|0,u=u+Math.imul(ge,Oe)|0,u=u+Math.imul(ye,Pe)|0,x=x+Math.imul(ye,Oe)|0,v=v+Math.imul(se,me)|0,u=u+Math.imul(se,Ne)|0,u=u+Math.imul(le,me)|0,x=x+Math.imul(le,Ne)|0,v=v+Math.imul(te,j)|0,u=u+Math.imul(te,H)|0,u=u+Math.imul(ce,j)|0,x=x+Math.imul(ce,H)|0,v=v+Math.imul(ae,Z)|0,u=u+Math.imul(ae,X)|0,u=u+Math.imul(W,Z)|0,x=x+Math.imul(W,X)|0,v=v+Math.imul(ee,oe)|0,u=u+Math.imul(ee,ue)|0,u=u+Math.imul(ne,oe)|0,x=x+Math.imul(ne,ue)|0;var mt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(mt>>>26)|0,mt&=67108863,v=Math.imul(De,Ee),u=Math.imul(De,ke),u=u+Math.imul(Me,Ee)|0,x=Math.imul(Me,ke),v=v+Math.imul(Re,Ue)|0,u=u+Math.imul(Re,Le)|0,u=u+Math.imul(Ce,Ue)|0,x=x+Math.imul(Ce,Le)|0,v=v+Math.imul(ve,be)|0,u=u+Math.imul(ve,xe)|0,u=u+Math.imul(Be,be)|0,x=x+Math.imul(Be,xe)|0,v=v+Math.imul(Ie,Pe)|0,u=u+Math.imul(Ie,Oe)|0,u=u+Math.imul(we,Pe)|0,x=x+Math.imul(we,Oe)|0,v=v+Math.imul(ge,me)|0,u=u+Math.imul(ge,Ne)|0,u=u+Math.imul(ye,me)|0,x=x+Math.imul(ye,Ne)|0,v=v+Math.imul(se,j)|0,u=u+Math.imul(se,H)|0,u=u+Math.imul(le,j)|0,x=x+Math.imul(le,H)|0,v=v+Math.imul(te,Z)|0,u=u+Math.imul(te,X)|0,u=u+Math.imul(ce,Z)|0,x=x+Math.imul(ce,X)|0,v=v+Math.imul(ae,oe)|0,u=u+Math.imul(ae,ue)|0,u=u+Math.imul(W,oe)|0,x=x+Math.imul(W,ue)|0;var it=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(it>>>26)|0,it&=67108863,v=Math.imul(De,Ue),u=Math.imul(De,Le),u=u+Math.imul(Me,Ue)|0,x=Math.imul(Me,Le),v=v+Math.imul(Re,be)|0,u=u+Math.imul(Re,xe)|0,u=u+Math.imul(Ce,be)|0,x=x+Math.imul(Ce,xe)|0,v=v+Math.imul(ve,Pe)|0,u=u+Math.imul(ve,Oe)|0,u=u+Math.imul(Be,Pe)|0,x=x+Math.imul(Be,Oe)|0,v=v+Math.imul(Ie,me)|0,u=u+Math.imul(Ie,Ne)|0,u=u+Math.imul(we,me)|0,x=x+Math.imul(we,Ne)|0,v=v+Math.imul(ge,j)|0,u=u+Math.imul(ge,H)|0,u=u+Math.imul(ye,j)|0,x=x+Math.imul(ye,H)|0,v=v+Math.imul(se,Z)|0,u=u+Math.imul(se,X)|0,u=u+Math.imul(le,Z)|0,x=x+Math.imul(le,X)|0,v=v+Math.imul(te,oe)|0,u=u+Math.imul(te,ue)|0,u=u+Math.imul(ce,oe)|0,x=x+Math.imul(ce,ue)|0;var ut=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(ut>>>26)|0,ut&=67108863,v=Math.imul(De,be),u=Math.imul(De,xe),u=u+Math.imul(Me,be)|0,x=Math.imul(Me,xe),v=v+Math.imul(Re,Pe)|0,u=u+Math.imul(Re,Oe)|0,u=u+Math.imul(Ce,Pe)|0,x=x+Math.imul(Ce,Oe)|0,v=v+Math.imul(ve,me)|0,u=u+Math.imul(ve,Ne)|0,u=u+Math.imul(Be,me)|0,x=x+Math.imul(Be,Ne)|0,v=v+Math.imul(Ie,j)|0,u=u+Math.imul(Ie,H)|0,u=u+Math.imul(we,j)|0,x=x+Math.imul(we,H)|0,v=v+Math.imul(ge,Z)|0,u=u+Math.imul(ge,X)|0,u=u+Math.imul(ye,Z)|0,x=x+Math.imul(ye,X)|0,v=v+Math.imul(se,oe)|0,u=u+Math.imul(se,ue)|0,u=u+Math.imul(le,oe)|0,x=x+Math.imul(le,ue)|0;var Xe=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,v=Math.imul(De,Pe),u=Math.imul(De,Oe),u=u+Math.imul(Me,Pe)|0,x=Math.imul(Me,Oe),v=v+Math.imul(Re,me)|0,u=u+Math.imul(Re,Ne)|0,u=u+Math.imul(Ce,me)|0,x=x+Math.imul(Ce,Ne)|0,v=v+Math.imul(ve,j)|0,u=u+Math.imul(ve,H)|0,u=u+Math.imul(Be,j)|0,x=x+Math.imul(Be,H)|0,v=v+Math.imul(Ie,Z)|0,u=u+Math.imul(Ie,X)|0,u=u+Math.imul(we,Z)|0,x=x+Math.imul(we,X)|0,v=v+Math.imul(ge,oe)|0,u=u+Math.imul(ge,ue)|0,u=u+Math.imul(ye,oe)|0,x=x+Math.imul(ye,ue)|0;var ot=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(ot>>>26)|0,ot&=67108863,v=Math.imul(De,me),u=Math.imul(De,Ne),u=u+Math.imul(Me,me)|0,x=Math.imul(Me,Ne),v=v+Math.imul(Re,j)|0,u=u+Math.imul(Re,H)|0,u=u+Math.imul(Ce,j)|0,x=x+Math.imul(Ce,H)|0,v=v+Math.imul(ve,Z)|0,u=u+Math.imul(ve,X)|0,u=u+Math.imul(Be,Z)|0,x=x+Math.imul(Be,X)|0,v=v+Math.imul(Ie,oe)|0,u=u+Math.imul(Ie,ue)|0,u=u+Math.imul(we,oe)|0,x=x+Math.imul(we,ue)|0;var st=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(st>>>26)|0,st&=67108863,v=Math.imul(De,j),u=Math.imul(De,H),u=u+Math.imul(Me,j)|0,x=Math.imul(Me,H),v=v+Math.imul(Re,Z)|0,u=u+Math.imul(Re,X)|0,u=u+Math.imul(Ce,Z)|0,x=x+Math.imul(Ce,X)|0,v=v+Math.imul(ve,oe)|0,u=u+Math.imul(ve,ue)|0,u=u+Math.imul(Be,oe)|0,x=x+Math.imul(Be,ue)|0;var Qe=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,v=Math.imul(De,Z),u=Math.imul(De,X),u=u+Math.imul(Me,Z)|0,x=Math.imul(Me,X),v=v+Math.imul(Re,oe)|0,u=u+Math.imul(Re,ue)|0,u=u+Math.imul(Ce,oe)|0,x=x+Math.imul(Ce,ue)|0;var Fe=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,v=Math.imul(De,oe),u=Math.imul(De,ue),u=u+Math.imul(Me,oe)|0,x=Math.imul(Me,ue);var Ve=(_+v|0)+((u&8191)<<13)|0;return _=(x+(u>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,A[0]=at,A[1]=Je,A[2]=At,A[3]=tt,A[4]=dt,A[5]=ht,A[6]=bt,A[7]=gt,A[8]=pt,A[9]=yt,A[10]=mt,A[11]=it,A[12]=ut,A[13]=Xe,A[14]=ot,A[15]=st,A[16]=Qe,A[17]=Fe,A[18]=Ve,_!==0&&(A[19]=_,p.length++),p};Math.imul||(M=I);function k(S,a,f){f.negative=a.negative^S.negative,f.length=S.length+a.length;for(var p=0,y=0,g=0;g<f.length-1;g++){var A=y;y=0;for(var _=p&67108863,v=Math.min(g,a.length-1),u=Math.max(0,g-S.length+1);u<=v;u++){var x=g-u,L=S.words[x]|0,D=a.words[u]|0,C=L*D,z=C&67108863;A=A+(C/67108864|0)|0,z=z+_|0,_=z&67108863,A=A+(z>>>26)|0,y+=A>>>26,A&=67108863}f.words[g]=_,p=A,A=y}return p!==0?f.words[g]=p:f.length--,f.strip()}function R(S,a,f){var p=new B;return p.mulp(S,a,f)}i.prototype.mulTo=function(a,f){var p,y=this.length+a.length;return this.length===10&&a.length===10?p=M(this,a,f):y<63?p=I(this,a,f):y<1024?p=k(this,a,f):p=R(this,a,f),p};function B(S,a){this.x=S,this.y=a}B.prototype.makeRBT=function(a){for(var f=new Array(a),p=i.prototype._countBits(a)-1,y=0;y<a;y++)f[y]=this.revBin(y,p,a);return f},B.prototype.revBin=function(a,f,p){if(a===0||a===p-1)return a;for(var y=0,g=0;g<f;g++)y|=(a&1)<<f-g-1,a>>=1;return y},B.prototype.permute=function(a,f,p,y,g,A){for(var _=0;_<A;_++)y[_]=f[a[_]],g[_]=p[a[_]]},B.prototype.transform=function(a,f,p,y,g,A){this.permute(A,a,f,p,y,g);for(var _=1;_<g;_<<=1)for(var v=_<<1,u=Math.cos(2*Math.PI/v),x=Math.sin(2*Math.PI/v),L=0;L<g;L+=v)for(var D=u,C=x,z=0;z<_;z++){var ee=p[L+z],ne=y[L+z],Ke=p[L+z+_],ae=y[L+z+_],W=D*Ke-C*ae;ae=D*ae+C*Ke,Ke=W,p[L+z]=ee+Ke,y[L+z]=ne+ae,p[L+z+_]=ee-Ke,y[L+z+_]=ne-ae,z!==v&&(W=u*D-x*C,C=u*C+x*D,D=W)}},B.prototype.guessLen13b=function(a,f){var p=Math.max(f,a)|1,y=p&1,g=0;for(p=p/2|0;p;p=p>>>1)g++;return 1<<g+1+y},B.prototype.conjugate=function(a,f,p){if(!(p<=1))for(var y=0;y<p/2;y++){var g=a[y];a[y]=a[p-y-1],a[p-y-1]=g,g=f[y],f[y]=-f[p-y-1],f[p-y-1]=-g}},B.prototype.normalize13b=function(a,f){for(var p=0,y=0;y<f/2;y++){var g=Math.round(a[2*y+1]/f)*8192+Math.round(a[2*y]/f)+p;a[y]=g&67108863,g<67108864?p=0:p=g/67108864|0}return a},B.prototype.convert13b=function(a,f,p,y){for(var g=0,A=0;A<f;A++)g=g+(a[A]|0),p[2*A]=g&8191,g=g>>>13,p[2*A+1]=g&8191,g=g>>>13;for(A=2*f;A<y;++A)p[A]=0;r(g===0),r((g&-8192)===0)},B.prototype.stub=function(a){for(var f=new Array(a),p=0;p<a;p++)f[p]=0;return f},B.prototype.mulp=function(a,f,p){var y=2*this.guessLen13b(a.length,f.length),g=this.makeRBT(y),A=this.stub(y),_=new Array(y),v=new Array(y),u=new Array(y),x=new Array(y),L=new Array(y),D=new Array(y),C=p.words;C.length=y,this.convert13b(a.words,a.length,_,y),this.convert13b(f.words,f.length,x,y),this.transform(_,A,v,u,y,g),this.transform(x,A,L,D,y,g);for(var z=0;z<y;z++){var ee=v[z]*L[z]-u[z]*D[z];u[z]=v[z]*D[z]+u[z]*L[z],v[z]=ee}return this.conjugate(v,u,y),this.transform(v,u,C,A,y,g),this.conjugate(C,A,y),this.normalize13b(C,y),p.negative=a.negative^f.negative,p.length=a.length+f.length,p.strip()},i.prototype.mul=function(a){var f=new i(null);return f.words=new Array(this.length+a.length),this.mulTo(a,f)},i.prototype.mulf=function(a){var f=new i(null);return f.words=new Array(this.length+a.length),R(this,a,f)},i.prototype.imul=function(a){return this.clone().mulTo(a,this)},i.prototype.imuln=function(a){r(typeof a=="number"),r(a<67108864);for(var f=0,p=0;p<this.length;p++){var y=(this.words[p]|0)*a,g=(y&67108863)+(f&67108863);f>>=26,f+=y/67108864|0,f+=g>>>26,this.words[p]=g&67108863}return f!==0&&(this.words[p]=f,this.length++),this},i.prototype.muln=function(a){return this.clone().imuln(a)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(a){var f=E(a);if(f.length===0)return new i(1);for(var p=this,y=0;y<f.length&&f[y]===0;y++,p=p.sqr());if(++y<f.length)for(var g=p.sqr();y<f.length;y++,g=g.sqr())f[y]!==0&&(p=p.mul(g));return p},i.prototype.iushln=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26,y=67108863>>>26-f<<26-f,g;if(f!==0){var A=0;for(g=0;g<this.length;g++){var _=this.words[g]&y,v=(this.words[g]|0)-_<<f;this.words[g]=v|A,A=_>>>26-f}A&&(this.words[g]=A,this.length++)}if(p!==0){for(g=this.length-1;g>=0;g--)this.words[g+p]=this.words[g];for(g=0;g<p;g++)this.words[g]=0;this.length+=p}return this.strip()},i.prototype.ishln=function(a){return r(this.negative===0),this.iushln(a)},i.prototype.iushrn=function(a,f,p){r(typeof a=="number"&&a>=0);var y;f?y=(f-f%26)/26:y=0;var g=a%26,A=Math.min((a-g)/26,this.length),_=67108863^67108863>>>g<<g,v=p;if(y-=A,y=Math.max(0,y),v){for(var u=0;u<A;u++)v.words[u]=this.words[u];v.length=A}if(A!==0)if(this.length>A)for(this.length-=A,u=0;u<this.length;u++)this.words[u]=this.words[u+A];else this.words[0]=0,this.length=1;var x=0;for(u=this.length-1;u>=0&&(x!==0||u>=y);u--){var L=this.words[u]|0;this.words[u]=x<<26-g|L>>>g,x=L&_}return v&&x!==0&&(v.words[v.length++]=x),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(a,f,p){return r(this.negative===0),this.iushrn(a,f,p)},i.prototype.shln=function(a){return this.clone().ishln(a)},i.prototype.ushln=function(a){return this.clone().iushln(a)},i.prototype.shrn=function(a){return this.clone().ishrn(a)},i.prototype.ushrn=function(a){return this.clone().iushrn(a)},i.prototype.testn=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26,y=1<<f;if(this.length<=p)return!1;var g=this.words[p];return!!(g&y)},i.prototype.imaskn=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(f!==0&&p++,this.length=Math.min(p,this.length),f!==0){var y=67108863^67108863>>>f<<f;this.words[this.length-1]&=y}return this.strip()},i.prototype.maskn=function(a){return this.clone().imaskn(a)},i.prototype.iaddn=function(a){return r(typeof a=="number"),r(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},i.prototype._iaddn=function(a){this.words[0]+=a;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)this.words[f]-=67108864,f===this.length-1?this.words[f+1]=1:this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},i.prototype.isubn=function(a){if(r(typeof a=="number"),r(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this.strip()},i.prototype.addn=function(a){return this.clone().iaddn(a)},i.prototype.subn=function(a){return this.clone().isubn(a)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(a,f,p){var y=a.length+p,g;this._expand(y);var A,_=0;for(g=0;g<a.length;g++){A=(this.words[g+p]|0)+_;var v=(a.words[g]|0)*f;A-=v&67108863,_=(A>>26)-(v/67108864|0),this.words[g+p]=A&67108863}for(;g<this.length-p;g++)A=(this.words[g+p]|0)+_,_=A>>26,this.words[g+p]=A&67108863;if(_===0)return this.strip();for(r(_===-1),_=0,g=0;g<this.length;g++)A=-(this.words[g]|0)+_,_=A>>26,this.words[g]=A&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(a,f){var p=this.length-a.length,y=this.clone(),g=a,A=g.words[g.length-1]|0,_=this._countBits(A);p=26-_,p!==0&&(g=g.ushln(p),y.iushln(p),A=g.words[g.length-1]|0);var v=y.length-g.length,u;if(f!=="mod"){u=new i(null),u.length=v+1,u.words=new Array(u.length);for(var x=0;x<u.length;x++)u.words[x]=0}var L=y.clone()._ishlnsubmul(g,1,v);L.negative===0&&(y=L,u&&(u.words[v]=1));for(var D=v-1;D>=0;D--){var C=(y.words[g.length+D]|0)*67108864+(y.words[g.length+D-1]|0);for(C=Math.min(C/A|0,67108863),y._ishlnsubmul(g,C,D);y.negative!==0;)C--,y.negative=0,y._ishlnsubmul(g,1,D),y.isZero()||(y.negative^=1);u&&(u.words[D]=C)}return u&&u.strip(),y.strip(),f!=="div"&&p!==0&&y.iushrn(p),{div:u||null,mod:y}},i.prototype.divmod=function(a,f,p){if(r(!a.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var y,g,A;return this.negative!==0&&a.negative===0?(A=this.neg().divmod(a,f),f!=="mod"&&(y=A.div.neg()),f!=="div"&&(g=A.mod.neg(),p&&g.negative!==0&&g.iadd(a)),{div:y,mod:g}):this.negative===0&&a.negative!==0?(A=this.divmod(a.neg(),f),f!=="mod"&&(y=A.div.neg()),{div:y,mod:A.mod}):this.negative&a.negative?(A=this.neg().divmod(a.neg(),f),f!=="div"&&(g=A.mod.neg(),p&&g.negative!==0&&g.isub(a)),{div:A.div,mod:g}):a.length>this.length||this.cmp(a)<0?{div:new i(0),mod:this}:a.length===1?f==="div"?{div:this.divn(a.words[0]),mod:null}:f==="mod"?{div:null,mod:new i(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new i(this.modn(a.words[0]))}:this._wordDiv(a,f)},i.prototype.div=function(a){return this.divmod(a,"div",!1).div},i.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},i.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},i.prototype.divRound=function(a){var f=this.divmod(a);if(f.mod.isZero())return f.div;var p=f.div.negative!==0?f.mod.isub(a):f.mod,y=a.ushrn(1),g=a.andln(1),A=p.cmp(y);return A<0||g===1&&A===0?f.div:f.div.negative!==0?f.div.isubn(1):f.div.iaddn(1)},i.prototype.modn=function(a){r(a<=67108863);for(var f=(1<<26)%a,p=0,y=this.length-1;y>=0;y--)p=(f*p+(this.words[y]|0))%a;return p},i.prototype.idivn=function(a){r(a<=67108863);for(var f=0,p=this.length-1;p>=0;p--){var y=(this.words[p]|0)+f*67108864;this.words[p]=y/a|0,f=y%a}return this.strip()},i.prototype.divn=function(a){return this.clone().idivn(a)},i.prototype.egcd=function(a){r(a.negative===0),r(!a.isZero());var f=this,p=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var y=new i(1),g=new i(0),A=new i(0),_=new i(1),v=0;f.isEven()&&p.isEven();)f.iushrn(1),p.iushrn(1),++v;for(var u=p.clone(),x=f.clone();!f.isZero();){for(var L=0,D=1;!(f.words[0]&D)&&L<26;++L,D<<=1);if(L>0)for(f.iushrn(L);L-- >0;)(y.isOdd()||g.isOdd())&&(y.iadd(u),g.isub(x)),y.iushrn(1),g.iushrn(1);for(var C=0,z=1;!(p.words[0]&z)&&C<26;++C,z<<=1);if(C>0)for(p.iushrn(C);C-- >0;)(A.isOdd()||_.isOdd())&&(A.iadd(u),_.isub(x)),A.iushrn(1),_.iushrn(1);f.cmp(p)>=0?(f.isub(p),y.isub(A),g.isub(_)):(p.isub(f),A.isub(y),_.isub(g))}return{a:A,b:_,gcd:p.iushln(v)}},i.prototype._invmp=function(a){r(a.negative===0),r(!a.isZero());var f=this,p=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var y=new i(1),g=new i(0),A=p.clone();f.cmpn(1)>0&&p.cmpn(1)>0;){for(var _=0,v=1;!(f.words[0]&v)&&_<26;++_,v<<=1);if(_>0)for(f.iushrn(_);_-- >0;)y.isOdd()&&y.iadd(A),y.iushrn(1);for(var u=0,x=1;!(p.words[0]&x)&&u<26;++u,x<<=1);if(u>0)for(p.iushrn(u);u-- >0;)g.isOdd()&&g.iadd(A),g.iushrn(1);f.cmp(p)>=0?(f.isub(p),y.isub(g)):(p.isub(f),g.isub(y))}var L;return f.cmpn(1)===0?L=y:L=g,L.cmpn(0)<0&&L.iadd(a),L},i.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var f=this.clone(),p=a.clone();f.negative=0,p.negative=0;for(var y=0;f.isEven()&&p.isEven();y++)f.iushrn(1),p.iushrn(1);do{for(;f.isEven();)f.iushrn(1);for(;p.isEven();)p.iushrn(1);var g=f.cmp(p);if(g<0){var A=f;f=p,p=A}else if(g===0||p.cmpn(1)===0)break;f.isub(p)}while(!0);return p.iushln(y)},i.prototype.invm=function(a){return this.egcd(a).a.umod(a)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(a){return this.words[0]&a},i.prototype.bincn=function(a){r(typeof a=="number");var f=a%26,p=(a-f)/26,y=1<<f;if(this.length<=p)return this._expand(p+1),this.words[p]|=y,this;for(var g=y,A=p;g!==0&&A<this.length;A++){var _=this.words[A]|0;_+=g,g=_>>>26,_&=67108863,this.words[A]=_}return g!==0&&(this.words[A]=g,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(a){var f=a<0;if(this.negative!==0&&!f)return-1;if(this.negative===0&&f)return 1;this.strip();var p;if(this.length>1)p=1;else{f&&(a=-a),r(a<=67108863,"Number is too big");var y=this.words[0]|0;p=y===a?0:y<a?-1:1}return this.negative!==0?-p|0:p},i.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var f=this.ucmp(a);return this.negative!==0?-f|0:f},i.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var f=0,p=this.length-1;p>=0;p--){var y=this.words[p]|0,g=a.words[p]|0;if(y!==g){y<g?f=-1:y>g&&(f=1);break}}return f},i.prototype.gtn=function(a){return this.cmpn(a)===1},i.prototype.gt=function(a){return this.cmp(a)===1},i.prototype.gten=function(a){return this.cmpn(a)>=0},i.prototype.gte=function(a){return this.cmp(a)>=0},i.prototype.ltn=function(a){return this.cmpn(a)===-1},i.prototype.lt=function(a){return this.cmp(a)===-1},i.prototype.lten=function(a){return this.cmpn(a)<=0},i.prototype.lte=function(a){return this.cmp(a)<=0},i.prototype.eqn=function(a){return this.cmpn(a)===0},i.prototype.eq=function(a){return this.cmp(a)===0},i.red=function(a){return new Q(a)},i.prototype.toRed=function(a){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(a){return this.red=a,this},i.prototype.forceRed=function(a){return r(!this.red,"Already a number in reduction context"),this._forceRed(a)},i.prototype.redAdd=function(a){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},i.prototype.redIAdd=function(a){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},i.prototype.redSub=function(a){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},i.prototype.redISub=function(a){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},i.prototype.redShl=function(a){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},i.prototype.redMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},i.prototype.redIMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(a){return r(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var U={k256:null,p224:null,p192:null,p25519:null};function P(S,a){this.name=S,this.p=new i(a,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}P.prototype._tmp=function(){var a=new i(null);return a.words=new Array(Math.ceil(this.n/13)),a},P.prototype.ireduce=function(a){var f=a,p;do this.split(f,this.tmp),f=this.imulK(f),f=f.iadd(this.tmp),p=f.bitLength();while(p>this.n);var y=p<this.n?-1:f.ucmp(this.p);return y===0?(f.words[0]=0,f.length=1):y>0?f.isub(this.p):f.strip!==void 0?f.strip():f._strip(),f},P.prototype.split=function(a,f){a.iushrn(this.n,0,f)},P.prototype.imulK=function(a){return a.imul(this.k)};function F(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(F,P),F.prototype.split=function(a,f){for(var p=4194303,y=Math.min(a.length,9),g=0;g<y;g++)f.words[g]=a.words[g];if(f.length=y,a.length<=9){a.words[0]=0,a.length=1;return}var A=a.words[9];for(f.words[f.length++]=A&p,g=10;g<a.length;g++){var _=a.words[g]|0;a.words[g-10]=(_&p)<<4|A>>>22,A=_}A>>>=22,a.words[g-10]=A,A===0&&a.length>10?a.length-=10:a.length-=9},F.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var f=0,p=0;p<a.length;p++){var y=a.words[p]|0;f+=y*977,a.words[p]=f&67108863,f=y*64+(f/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function q(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(q,P);function K(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(K,P);function re(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(re,P),re.prototype.imulK=function(a){for(var f=0,p=0;p<a.length;p++){var y=(a.words[p]|0)*19+f,g=y&67108863;y>>>=26,a.words[p]=g,f=y}return f!==0&&(a.words[a.length++]=f),a},i._prime=function(a){if(U[a])return U[a];var f;if(a==="k256")f=new F;else if(a==="p224")f=new q;else if(a==="p192")f=new K;else if(a==="p25519")f=new re;else throw new Error("Unknown prime "+a);return U[a]=f,f};function Q(S){if(typeof S=="string"){var a=i._prime(S);this.m=a.p,this.prime=a}else r(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}Q.prototype._verify1=function(a){r(a.negative===0,"red works only with positives"),r(a.red,"red works only with red numbers")},Q.prototype._verify2=function(a,f){r((a.negative|f.negative)===0,"red works only with positives"),r(a.red&&a.red===f.red,"red works only with red numbers")},Q.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},Q.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},Q.prototype.add=function(a,f){this._verify2(a,f);var p=a.add(f);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},Q.prototype.iadd=function(a,f){this._verify2(a,f);var p=a.iadd(f);return p.cmp(this.m)>=0&&p.isub(this.m),p},Q.prototype.sub=function(a,f){this._verify2(a,f);var p=a.sub(f);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},Q.prototype.isub=function(a,f){this._verify2(a,f);var p=a.isub(f);return p.cmpn(0)<0&&p.iadd(this.m),p},Q.prototype.shl=function(a,f){return this._verify1(a),this.imod(a.ushln(f))},Q.prototype.imul=function(a,f){return this._verify2(a,f),this.imod(a.imul(f))},Q.prototype.mul=function(a,f){return this._verify2(a,f),this.imod(a.mul(f))},Q.prototype.isqr=function(a){return this.imul(a,a.clone())},Q.prototype.sqr=function(a){return this.mul(a,a)},Q.prototype.sqrt=function(a){if(a.isZero())return a.clone();var f=this.m.andln(3);if(r(f%2===1),f===3){var p=this.m.add(new i(1)).iushrn(2);return this.pow(a,p)}for(var y=this.m.subn(1),g=0;!y.isZero()&&y.andln(1)===0;)g++,y.iushrn(1);r(!y.isZero());var A=new i(1).toRed(this),_=A.redNeg(),v=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new i(2*u*u).toRed(this);this.pow(u,v).cmp(_)!==0;)u.redIAdd(_);for(var x=this.pow(u,y),L=this.pow(a,y.addn(1).iushrn(1)),D=this.pow(a,y),C=g;D.cmp(A)!==0;){for(var z=D,ee=0;z.cmp(A)!==0;ee++)z=z.redSqr();r(ee<C);var ne=this.pow(x,new i(1).iushln(C-ee-1));L=L.redMul(ne),x=ne.redSqr(),D=D.redMul(x),C=ee}return L},Q.prototype.invm=function(a){var f=a._invmp(this.m);return f.negative!==0?(f.negative=0,this.imod(f).redNeg()):this.imod(f)},Q.prototype.pow=function(a,f){if(f.isZero())return new i(1).toRed(this);if(f.cmpn(1)===0)return a.clone();var p=4,y=new Array(1<<p);y[0]=new i(1).toRed(this),y[1]=a;for(var g=2;g<y.length;g++)y[g]=this.mul(y[g-1],a);var A=y[0],_=0,v=0,u=f.bitLength()%26;for(u===0&&(u=26),g=f.length-1;g>=0;g--){for(var x=f.words[g],L=u-1;L>=0;L--){var D=x>>L&1;if(A!==y[0]&&(A=this.sqr(A)),D===0&&_===0){v=0;continue}_<<=1,_|=D,v++,!(v!==p&&(g!==0||L!==0))&&(A=this.mul(A,y[_]),v=0,_=0)}u=26}return A},Q.prototype.convertTo=function(a){var f=a.umod(this.m);return f===a?f.clone():f},Q.prototype.convertFrom=function(a){var f=a.clone();return f.red=null,f},i.mont=function(a){return new ie(a)};function ie(S){Q.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(ie,Q),ie.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},ie.prototype.convertFrom=function(a){var f=this.imod(a.mul(this.rinv));return f.red=null,f},ie.prototype.imul=function(a,f){if(a.isZero()||f.isZero())return a.words[0]=0,a.length=1,a;var p=a.imul(f),y=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=p.isub(y).iushrn(this.shift),A=g;return g.cmp(this.m)>=0?A=g.isub(this.m):g.cmpn(0)<0&&(A=g.iadd(this.m)),A._forceRed(this)},ie.prototype.mul=function(a,f){if(a.isZero()||f.isZero())return new i(0)._forceRed(this);var p=a.mul(f),y=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=p.isub(y).iushrn(this.shift),A=g;return g.cmp(this.m)>=0?A=g.isub(this.m):g.cmpn(0)<0&&(A=g.iadd(this.m)),A._forceRed(this)},ie.prototype.invm=function(a){var f=this.imod(a._invmp(this.m).mul(this.r2));return f._forceRed(this)}})(typeof ZK>"u"||ZK,Epe)});var QK=V((eGt,Tpe)=>{d();h();var _pe=lk(),DYe=cr().Buffer;function UYe(t,e){return DYe.from(t.toRed(_pe.mont(e.modulus)).redPow(new _pe(e.publicExponent)).fromRed().toArray())}Tpe.exports=UYe});var Ppe=V((nGt,kpe)=>{d();h();var LYe=G3(),JK=Jh(),FYe=tm(),Ipe=$K(),Mpe=YK(),XK=lk(),VYe=QK(),qYe=UM(),bl=cr().Buffer;kpe.exports=function(e,r,n){var i;e.padding?i=e.padding:n?i=1:i=4;var o=LYe(e),s;if(i===4)s=KYe(o,r);else if(i===1)s=HYe(o,r,n);else if(i===3){if(s=new XK(r),s.cmp(o.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return n?qYe(s,o):VYe(s,o)};function KYe(t,e){var r=t.modulus.byteLength(),n=e.length,i=FYe("sha1").update(bl.alloc(0)).digest(),o=i.length,s=2*o;if(n>r-s-2)throw new Error("message too long");var c=bl.alloc(r-n-s-2),l=r-o-1,m=JK(o),w=Mpe(bl.concat([i,c,bl.alloc(1,1),e],l),Ipe(m,l)),b=Mpe(m,Ipe(w,o));return new XK(bl.concat([bl.alloc(1),b,w],r))}function HYe(t,e,r){var n=e.length,i=t.modulus.byteLength();if(n>i-11)throw new Error("message too long");var o;return r?o=bl.alloc(i-n-3,255):o=jYe(i-n-3),new XK(bl.concat([bl.from([0,r?1:2]),o,bl.alloc(1),e],i))}function jYe(t){for(var e=bl.allocUnsafe(t),r=0,n=JK(t*2),i=0,o;r<t;)i===n.length&&(n=JK(t*2),i=0),o=n[i++],o&&(e[r++]=o);return e}});var Npe=V((sGt,Ope)=>{d();h();var zYe=G3(),Bpe=$K(),Rpe=YK(),Cpe=lk(),WYe=UM(),GYe=tm(),$Ye=QK(),Q3=cr().Buffer;Ope.exports=function(e,r,n){var i;e.padding?i=e.padding:n?i=1:i=4;var o=zYe(e),s=o.modulus.byteLength();if(r.length>s||new Cpe(r).cmp(o.modulus)>=0)throw new Error("decryption error");var c;n?c=$Ye(new Cpe(r),o):c=WYe(r,o);var l=Q3.alloc(s-c.length);if(c=Q3.concat([l,c],s),i===4)return YYe(o,c);if(i===1)return ZYe(o,c,n);if(i===3)return c;throw new Error("unknown padding")};function YYe(t,e){var r=t.modulus.byteLength(),n=GYe("sha1").update(Q3.alloc(0)).digest(),i=n.length;if(e[0]!==0)throw new Error("decryption error");var o=e.slice(1,i+1),s=e.slice(i+1),c=Rpe(o,Bpe(s,i)),l=Rpe(s,Bpe(c,r-i-1));if(QYe(n,l.slice(0,i)))throw new Error("decryption error");for(var m=i;l[m]===0;)m++;if(l[m++]!==1)throw new Error("decryption error");return l.slice(m)}function ZYe(t,e,r){for(var n=e.slice(0,2),i=2,o=0;e[i++]!==0;)if(i>=e.length){o++;break}var s=e.slice(2,i-1);if((n.toString("hex")!=="0002"&&!r||n.toString("hex")!=="0001"&&r)&&o++,s.length<8&&o++,o)throw new Error("decryption error");return e.slice(i)}function QYe(t,e){t=Q3.from(t),e=Q3.from(e);var r=0,n=t.length;t.length!==e.length&&(r++,n=Math.min(t.length,e.length));for(var i=-1;++i<n;)r+=t[i]^e[i];return r}});var Dpe=V(Zb=>{d();h();Zb.publicEncrypt=Ppe();Zb.privateDecrypt=Npe();Zb.privateEncrypt=function(e,r){return Zb.publicEncrypt(e,r,!0)};Zb.publicDecrypt=function(e,r){return Zb.privateDecrypt(e,r,!0)}});var Wpe=V(J3=>{"use strict";d();h();function Upe(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var Fpe=cr(),Lpe=Jh(),Vpe=Fpe.Buffer,qpe=Fpe.kMaxLength,eH=self.crypto||self.msCrypto,Kpe=Math.pow(2,32)-1;function Hpe(t,e){if(typeof t!="number"||t!==t)throw new TypeError("offset must be a number");if(t>Kpe||t<0)throw new TypeError("offset must be a uint32");if(t>qpe||t>e)throw new RangeError("offset out of range")}function jpe(t,e,r){if(typeof t!="number"||t!==t)throw new TypeError("size must be a number");if(t>Kpe||t<0)throw new TypeError("size must be a uint32");if(t+e>r||t>qpe)throw new RangeError("buffer too small")}eH&&eH.getRandomValues?(J3.randomFill=JYe,J3.randomFillSync=XYe):(J3.randomFill=Upe,J3.randomFillSync=Upe);function JYe(t,e,r,n){if(!Vpe.isBuffer(t)&&!(t instanceof self.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof e=="function")n=e,e=0,r=t.length;else if(typeof r=="function")n=r,r=t.length-e;else if(typeof n!="function")throw new TypeError('"cb" argument must be a function');return Hpe(e,t.length),jpe(r,e,t.length),zpe(t,e,r,n)}function zpe(t,e,r,n){var i=t.buffer,o=new Uint8Array(i,e,r);if(eH.getRandomValues(o),n){process.nextTick(function(){n(null,t)});return}return t;var s}function XYe(t,e,r){if(typeof e>"u"&&(e=0),!Vpe.isBuffer(t)&&!(t instanceof self.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return Hpe(e,t.length),r===void 0&&(r=t.length-e),jpe(r,e,t.length),zpe(t,e,r)}});var om=V(br=>{"use strict";d();h();br.randomBytes=br.rng=br.pseudoRandomBytes=br.prng=Jh();br.createHash=br.Hash=tm();br.createHmac=br.Hmac=$V();var eZe=ffe(),tZe=Object.keys(eZe),rZe=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(tZe);br.getHashes=function(){return rZe};var Gpe=aM();br.pbkdf2=Gpe.pbkdf2;br.pbkdf2Sync=Gpe.pbkdf2Sync;var Nd=Rle();br.Cipher=Nd.Cipher;br.createCipher=Nd.createCipher;br.Cipheriv=Nd.Cipheriv;br.createCipheriv=Nd.createCipheriv;br.Decipher=Nd.Decipher;br.createDecipher=Nd.createDecipher;br.Decipheriv=Nd.Decipheriv;br.createDecipheriv=Nd.createDecipheriv;br.getCiphers=Nd.getCiphers;br.listCiphers=Nd.listCiphers;var X3=Gle();br.DiffieHellmanGroup=X3.DiffieHellmanGroup;br.createDiffieHellmanGroup=X3.createDiffieHellmanGroup;br.getDiffieHellman=X3.getDiffieHellman;br.createDiffieHellman=X3.createDiffieHellman;br.DiffieHellman=X3.DiffieHellman;var dk=gpe();br.createSign=dk.createSign;br.Sign=dk.Sign;br.createVerify=dk.createVerify;br.Verify=dk.Verify;br.createECDH=wpe();var hk=Dpe();br.publicEncrypt=hk.publicEncrypt;br.privateEncrypt=hk.privateEncrypt;br.publicDecrypt=hk.publicDecrypt;br.privateDecrypt=hk.privateDecrypt;var $pe=Wpe();br.randomFill=$pe.randomFill;br.randomFillSync=$pe.randomFillSync;br.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))};br.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}});var cme=V(Yr=>{"use strict";d();h();Object.defineProperty(Yr,"__esModule",{value:!0});Yr.utils=Yr.curve25519=Yr.getSharedSecret=Yr.sync=Yr.verify=Yr.sign=Yr.getPublicKey=Yr.Signature=Yr.Point=Yr.RistrettoPoint=Yr.ExtendedPoint=Yr.CURVE=void 0;var nZe=om(),Xi=BigInt(0),Nr=BigInt(1),gm=BigInt(2),iZe=BigInt(8),Ype=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),Kn=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:Ype,n:Ype,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")});Yr.CURVE=Kn;var eme=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),e6=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),bGt=BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742"),oZe=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),sZe=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),aZe=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),cZe=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),bo=class t{constructor(e,r,n,i){this.x=e,this.y=r,this.z=n,this.t=i}static fromAffine(e){if(!(e instanceof Ei))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return e.equals(Ei.ZERO)?t.ZERO:new t(e.x,e.y,Nr,Ge(e.x*e.y))}static toAffineBatch(e){let r=lZe(e.map(n=>n.z));return e.map((n,i)=>n.toAffine(r[i]))}static normalizeZ(e){return this.toAffineBatch(e).map(this.fromAffine)}equals(e){Qpe(e);let{x:r,y:n,z:i}=this,{x:o,y:s,z:c}=e,l=Ge(r*c),m=Ge(o*i),w=Ge(n*c),b=Ge(s*i);return l===m&&w===b}negate(){return new t(Ge(-this.x),this.y,this.z,Ge(-this.t))}double(){let{x:e,y:r,z:n}=this,{a:i}=Kn,o=Ge(e*e),s=Ge(r*r),c=Ge(gm*Ge(n*n)),l=Ge(i*o),m=e+r,w=Ge(Ge(m*m)-o-s),b=l+s,E=b-c,I=l-s,M=Ge(w*E),k=Ge(b*I),R=Ge(w*I),B=Ge(E*b);return new t(M,k,B,R)}add(e){Qpe(e);let{x:r,y:n,z:i,t:o}=this,{x:s,y:c,z:l,t:m}=e,w=Ge((n-r)*(c+s)),b=Ge((n+r)*(c-s)),E=Ge(b-w);if(E===Xi)return this.double();let I=Ge(i*gm*m),M=Ge(o*gm*l),k=M+I,R=b+w,B=M-I,U=Ge(k*E),P=Ge(R*B),F=Ge(k*B),q=Ge(E*R);return new t(U,P,q,F)}subtract(e){return this.add(e.negate())}precomputeWindow(e){let r=1+256/e,n=[],i=this,o=i;for(let s=0;s<r;s++){o=i,n.push(o);for(let c=1;c<2**(e-1);c++)o=o.add(i),n.push(o);i=o.double()}return n}wNAF(e,r){!r&&this.equals(t.BASE)&&(r=Ei.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=r&&iH.get(r);i||(i=this.precomputeWindow(n),r&&n!==1&&(i=t.normalizeZ(i),iH.set(r,i)));let o=t.ZERO,s=t.BASE,c=1+256/n,l=2**(n-1),m=BigInt(2**n-1),w=2**n,b=BigInt(n);for(let E=0;E<c;E++){let I=E*l,M=Number(e&m);e>>=b,M>l&&(M-=w,e+=Nr);let k=I,R=I+Math.abs(M)-1,B=E%2!==0,U=M<0;M===0?s=s.add(Zpe(B,i[k])):o=o.add(Zpe(U,i[R]))}return t.normalizeZ([o,s])[0]}multiply(e,r){return this.wNAF(Ew(e,Kn.l),r)}multiplyUnsafe(e){let r=Ew(e,Kn.l,!1),n=t.BASE,i=t.ZERO;if(r===Xi)return i;if(this.equals(i)||r===Nr)return this;if(this.equals(n))return this.wNAF(r);let o=i,s=this;for(;r>Xi;)r&Nr&&(o=o.add(s)),s=s.double(),r>>=Nr;return o}isSmallOrder(){return this.multiplyUnsafe(Kn.h).equals(t.ZERO)}isTorsionFree(){let e=this.multiplyUnsafe(Kn.l/gm).double();return Kn.l%gm&&(e=e.add(this)),e.equals(t.ZERO)}toAffine(e){let{x:r,y:n,z:i}=this,o=this.equals(t.ZERO);e==null&&(e=o?iZe:yk(i));let s=Ge(r*e),c=Ge(n*e),l=Ge(i*e);if(o)return Ei.ZERO;if(l!==Nr)throw new Error("invZ was invalid");return new Ei(s,c)}fromRistrettoBytes(){rH()}toRistrettoBytes(){rH()}fromRistrettoHash(){rH()}};Yr.ExtendedPoint=bo;bo.BASE=new bo(Kn.Gx,Kn.Gy,Nr,Ge(Kn.Gx*Kn.Gy));bo.ZERO=new bo(Xi,Nr,Nr,Xi);function Zpe(t,e){let r=e.negate();return t?r:e}function Qpe(t){if(!(t instanceof bo))throw new TypeError("ExtendedPoint expected")}function tH(t){if(!(t instanceof bm))throw new TypeError("RistrettoPoint expected")}function rH(){throw new Error("Legacy method: switch to RistrettoPoint")}var bm=class t{constructor(e){this.ep=e}static calcElligatorRistrettoMap(e){let{d:r}=Kn,n=Ge(e6*e*e),i=Ge((n+Nr)*aZe),o=BigInt(-1),s=Ge((o-r*n)*Ge(n+r)),{isValid:c,value:l}=sH(i,s),m=Ge(l*e);ym(m)||(m=Ge(-m)),c||(l=m),c||(o=n);let w=Ge(o*(n-Nr)*cZe-s),b=l*l,E=Ge((l+l)*s),I=Ge(w*oZe),M=Ge(Nr-b),k=Ge(Nr+b);return new bo(Ge(E*k),Ge(M*I),Ge(I*k),Ge(E*M))}static hashToCurve(e){e=xl(e,64);let r=nH(e.slice(0,32)),n=this.calcElligatorRistrettoMap(r),i=nH(e.slice(32,64)),o=this.calcElligatorRistrettoMap(i);return new t(n.add(o))}static fromHex(e){e=xl(e,32);let{a:r,d:n}=Kn,i="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",o=nH(e);if(!dZe(Sw(o),e)||ym(o))throw new Error(i);let s=Ge(o*o),c=Ge(Nr+r*s),l=Ge(Nr-r*s),m=Ge(c*c),w=Ge(l*l),b=Ge(r*n*m-w),{isValid:E,value:I}=Xpe(Ge(b*w)),M=Ge(I*l),k=Ge(I*M*b),R=Ge((o+o)*M);ym(R)&&(R=Ge(-R));let B=Ge(c*k),U=Ge(R*B);if(!E||ym(U)||B===Xi)throw new Error(i);return new t(new bo(R,B,Nr,U))}toRawBytes(){let{x:e,y:r,z:n,t:i}=this.ep,o=Ge(Ge(n+r)*Ge(n-r)),s=Ge(e*r),c=Ge(s*s),{value:l}=Xpe(Ge(o*c)),m=Ge(l*o),w=Ge(l*s),b=Ge(m*w*i),E;if(ym(i*b)){let M=Ge(r*e6),k=Ge(e*e6);e=M,r=k,E=Ge(m*sZe)}else E=w;ym(e*b)&&(r=Ge(-r));let I=Ge((n-r)*E);return ym(I)&&(I=Ge(-I)),Sw(I)}toHex(){return r6(this.toRawBytes())}toString(){return this.toHex()}equals(e){tH(e);let r=this.ep,n=e.ep,i=Ge(r.x*n.y)===Ge(r.y*n.x),o=Ge(r.y*n.y)===Ge(r.x*n.x);return i||o}add(e){return tH(e),new t(this.ep.add(e.ep))}subtract(e){return tH(e),new t(this.ep.subtract(e.ep))}multiply(e){return new t(this.ep.multiply(e))}multiplyUnsafe(e){return new t(this.ep.multiplyUnsafe(e))}};Yr.RistrettoPoint=bm;bm.BASE=new bm(bo.BASE);bm.ZERO=new bm(bo.ZERO);var iH=new WeakMap,Ei=class t{constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,iH.delete(this)}static fromHex(e,r=!0){let{d:n,P:i}=Kn;e=xl(e,32);let o=e.slice();o[31]=e[31]&-129;let s=Jb(o);if(r&&s>=i)throw new Error("Expected 0 < hex < P");if(!r&&s>=eme)throw new Error("Expected 0 < hex < 2**256");let c=Ge(s*s),l=Ge(c-Nr),m=Ge(n*c+Nr),{isValid:w,value:b}=sH(l,m);if(!w)throw new Error("Point.fromHex: invalid y coordinate");let E=(b&Nr)===Nr;return(e[31]&128)!==0!==E&&(b=Ge(-b)),new t(b,s)}static async fromPrivateKey(e){return(await n6(e)).point}toRawBytes(){let e=Sw(this.y);return e[31]|=this.x&Nr?128:0,e}toHex(){return r6(this.toRawBytes())}toX25519(){let{y:e}=this,r=Ge((Nr+e)*yk(Nr-e));return Sw(r)}isTorsionFree(){return bo.fromAffine(this).isTorsionFree()}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new t(Ge(-this.x),this.y)}add(e){return bo.fromAffine(this).add(bo.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return bo.fromAffine(this).multiply(e,this).toAffine()}};Yr.Point=Ei;Ei.BASE=new Ei(Kn.Gx,Kn.Gy);Ei.ZERO=new Ei(Xi,Nr);var Qb=class t{constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromHex(e){let r=xl(e,64),n=Ei.fromHex(r.slice(0,32),!1),i=Jb(r.slice(32,64));return new t(n,i)}assertValidity(){let{r:e,s:r}=this;if(!(e instanceof Ei))throw new Error("Expected Point instance");return Ew(r,Kn.l,!1),this}toRawBytes(){let e=new Uint8Array(64);return e.set(this.r.toRawBytes()),e.set(Sw(this.s),32),e}toHex(){return r6(this.toRawBytes())}};Yr.Signature=Qb;function Jpe(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Expected Uint8Array list");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let o=t[n];r.set(o,i),i+=o.length}return r}var uZe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function r6(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=uZe[t[r]];return e}function oH(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");e[r]=o}return e}function tme(t){let r=t.toString(16).padStart(64,"0");return oH(r)}function Sw(t){return tme(t).reverse()}function ym(t){return(Ge(t)&Nr)===Nr}function Jb(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+r6(Uint8Array.from(t).reverse()))}var fZe=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function nH(t){return Ge(Jb(t)&fZe)}function Ge(t,e=Kn.P){let r=t%e;return r>=Xi?r:e+r}function yk(t,e=Kn.P){if(t===Xi||e<=Xi)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=Ge(t,e),n=e,i=Xi,o=Nr,s=Nr,c=Xi;for(;r!==Xi;){let m=n/r,w=n%r,b=i-s*m,E=o-c*m;n=r,r=w,i=s,o=c,s=b,c=E}if(n!==Nr)throw new Error("invert: does not exist");return Ge(i,e)}function lZe(t,e=Kn.P){let r=new Array(t.length),n=t.reduce((o,s,c)=>s===Xi?o:(r[c]=o,Ge(o*s,e)),Nr),i=yk(n,e);return t.reduceRight((o,s,c)=>s===Xi?o:(r[c]=Ge(o*r[c],e),Ge(o*s,e)),i),r}function vl(t,e){let{P:r}=Kn,n=t;for(;e-- >Xi;)n*=n,n%=r;return n}function rme(t){let{P:e}=Kn,r=BigInt(5),n=BigInt(10),i=BigInt(20),o=BigInt(40),s=BigInt(80),l=t*t%e*t%e,m=vl(l,gm)*l%e,w=vl(m,Nr)*t%e,b=vl(w,r)*w%e,E=vl(b,n)*b%e,I=vl(E,i)*E%e,M=vl(I,o)*I%e,k=vl(M,s)*M%e,R=vl(k,s)*M%e,B=vl(R,n)*b%e;return{pow_p_5_8:vl(B,gm)*t%e,b2:l}}function sH(t,e){let r=Ge(e*e*e),n=Ge(r*r*e),i=rme(t*n).pow_p_5_8,o=Ge(t*r*i),s=Ge(e*o*o),c=o,l=Ge(o*e6),m=s===t,w=s===Ge(-t),b=s===Ge(-t*e6);return m&&(o=c),(w||b)&&(o=l),ym(o)&&(o=Ge(-o)),{isValid:m||w,value:o}}function Xpe(t){return sH(Nr,t)}function Aw(t){return Ge(Jb(t),Kn.l)}function dZe(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function xl(t,e){let r=t instanceof Uint8Array?Uint8Array.from(t):oH(t);if(typeof e=="number"&&r.length!==e)throw new Error(`Expected ${e} bytes`);return r}function Ew(t,e,r=!0){if(!e)throw new TypeError("Specify max value");if(typeof t=="number"&&Number.isSafeInteger(t)&&(t=BigInt(t)),typeof t=="bigint"&&t<e){if(r){if(Xi<t)return t}else if(Xi<=t)return t}throw new TypeError("Expected valid scalar: 0 < scalar < max")}function nme(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function hZe(t){return Jb(nme(xl(t,32)))}function ime(t){if(t=typeof t=="bigint"||typeof t=="number"?tme(Ew(t,eme)):xl(t),t.length!==32)throw new Error("Expected 32 bytes");return t}function ome(t){let e=nme(t.slice(0,32)),r=t.slice(32,64),n=Aw(e),i=Ei.BASE.multiply(n),o=i.toRawBytes();return{head:e,prefix:r,scalar:n,point:i,pointBytes:o}}var t6;function mk(...t){if(typeof t6!="function")throw new Error("utils.sha512Sync must be set to use sync methods");return t6(...t)}async function n6(t){return ome(await Yr.utils.sha512(ime(t)))}function aH(t){return ome(mk(ime(t)))}async function pZe(t){return(await n6(t)).pointBytes}Yr.getPublicKey=pZe;function mZe(t){return aH(t).pointBytes}async function yZe(t,e){t=xl(t);let{prefix:r,scalar:n,pointBytes:i}=await n6(e),o=Aw(await Yr.utils.sha512(r,t)),s=Ei.BASE.multiply(o),c=Aw(await Yr.utils.sha512(s.toRawBytes(),i,t)),l=Ge(o+c*n,Kn.l);return new Qb(s,l).toRawBytes()}Yr.sign=yZe;function gZe(t,e){t=xl(t);let{prefix:r,scalar:n,pointBytes:i}=aH(e),o=Aw(mk(r,t)),s=Ei.BASE.multiply(o),c=Aw(mk(s.toRawBytes(),i,t)),l=Ge(o+c*n,Kn.l);return new Qb(s,l).toRawBytes()}function sme(t,e,r){e=xl(e),r instanceof Ei||(r=Ei.fromHex(r,!1));let{r:n,s:i}=t instanceof Qb?t.assertValidity():Qb.fromHex(t),o=bo.BASE.multiplyUnsafe(i);return{r:n,s:i,SB:o,pub:r,msg:e}}function ame(t,e,r,n){let i=Aw(n),o=bo.fromAffine(t).multiplyUnsafe(i);return bo.fromAffine(e).add(o).subtract(r).multiplyUnsafe(Kn.h).equals(bo.ZERO)}async function bZe(t,e,r){let{r:n,SB:i,msg:o,pub:s}=sme(t,e,r),c=await Yr.utils.sha512(n.toRawBytes(),s.toRawBytes(),o);return ame(s,n,i,c)}Yr.verify=bZe;function vZe(t,e,r){let{r:n,SB:i,msg:o,pub:s}=sme(t,e,r),c=mk(n.toRawBytes(),s.toRawBytes(),o);return ame(s,n,i,c)}Yr.sync={getExtendedPublicKey:aH,getPublicKey:mZe,sign:gZe,verify:vZe};async function xZe(t,e){let{head:r}=await n6(t),n=Ei.fromHex(e).toX25519();return Yr.curve25519.scalarMult(r,n)}Yr.getSharedSecret=xZe;Ei.BASE._setWindowSize(8);function pk(t,e,r){let n=Ge(t*(e-r));return e=Ge(e-n),r=Ge(r+n),[e,r]}function wZe(t,e){let{P:r}=Kn,n=Ew(t,r),i=Ew(e,r),o=BigInt(121665),s=n,c=Nr,l=Xi,m=n,w=Nr,b=Xi,E;for(let R=BigInt(254);R>=Xi;R--){let B=i>>R&Nr;b^=B,E=pk(b,c,m),c=E[0],m=E[1],E=pk(b,l,w),l=E[0],w=E[1],b=B;let U=c+l,P=Ge(U*U),F=c-l,q=Ge(F*F),K=P-q,re=m+w,Q=m-w,ie=Ge(Q*U),S=Ge(re*F),a=ie+S,f=ie-S;m=Ge(a*a),w=Ge(s*Ge(f*f)),c=Ge(P*q),l=Ge(K*(P+Ge(o*K)))}E=pk(b,c,m),c=E[0],m=E[1],E=pk(b,l,w),l=E[0],w=E[1];let{pow_p_5_8:I,b2:M}=rme(l),k=Ge(vl(I,BigInt(3))*M);return Ge(c*k)}function SZe(t){return Sw(Ge(t,Kn.P))}function AZe(t){let e=xl(t,32);return e[31]&=127,Jb(e)}Yr.curve25519={BASE_POINT_U:"0900000000000000000000000000000000000000000000000000000000000000",scalarMult(t,e){let r=AZe(e),n=hZe(t),i=wZe(r,n);if(i===Xi)throw new Error("Invalid private or public key received");return SZe(i)},scalarMultBase(t){return Yr.curve25519.scalarMult(t,Yr.curve25519.BASE_POINT_U)}};var mm={node:nZe,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};Yr.utils={bytesToHex:r6,hexToBytes:oH,concatBytes:Jpe,getExtendedPublicKey:n6,mod:Ge,invert:yk,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:t=>{if(t=xl(t),t.length<40||t.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return Ge(Jb(t),Kn.l-Nr)+Nr},randomBytes:(t=32)=>{if(mm.web)return mm.web.getRandomValues(new Uint8Array(t));if(mm.node){let{randomBytes:e}=mm.node;return new Uint8Array(e(t).buffer)}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Yr.utils.randomBytes(32),sha512:async(...t)=>{let e=Jpe(...t);if(mm.web){let r=await mm.web.subtle.digest("SHA-512",e.buffer);return new Uint8Array(r)}else{if(mm.node)return Uint8Array.from(mm.node.createHash("sha512").update(e).digest());throw new Error("The environment doesn't have sha512 function")}},precompute(t=8,e=Ei.BASE){let r=e.equals(Ei.BASE)?e:new Ei(e.x,e.y);return r._setWindowSize(t),r.multiply(gm),r},sha512Sync:void 0};Object.defineProperties(Yr.utils,{sha512Sync:{configurable:!1,get(){return t6},set(t){t6||(t6=t)}}})});var ume=V(_w=>{"use strict";d();h();Object.defineProperty(_w,"__esModule",{value:!0});_w.sha224=_w.sha256=void 0;var EZe=iV(),df=Lx(),_Ze=(t,e,r)=>t&e^~t&r,TZe=(t,e,r)=>t&e^t&r^e&r,IZe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),vm=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),xm=new Uint32Array(64),gk=class extends EZe.SHA2{constructor(){super(64,32,8,!1),this.A=vm[0]|0,this.B=vm[1]|0,this.C=vm[2]|0,this.D=vm[3]|0,this.E=vm[4]|0,this.F=vm[5]|0,this.G=vm[6]|0,this.H=vm[7]|0}get(){let{A:e,B:r,C:n,D:i,E:o,F:s,G:c,H:l}=this;return[e,r,n,i,o,s,c,l]}set(e,r,n,i,o,s,c,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=c|0,this.H=l|0}process(e,r){for(let b=0;b<16;b++,r+=4)xm[b]=e.getUint32(r,!1);for(let b=16;b<64;b++){let E=xm[b-15],I=xm[b-2],M=(0,df.rotr)(E,7)^(0,df.rotr)(E,18)^E>>>3,k=(0,df.rotr)(I,17)^(0,df.rotr)(I,19)^I>>>10;xm[b]=k+xm[b-7]+M+xm[b-16]|0}let{A:n,B:i,C:o,D:s,E:c,F:l,G:m,H:w}=this;for(let b=0;b<64;b++){let E=(0,df.rotr)(c,6)^(0,df.rotr)(c,11)^(0,df.rotr)(c,25),I=w+E+_Ze(c,l,m)+IZe[b]+xm[b]|0,k=((0,df.rotr)(n,2)^(0,df.rotr)(n,13)^(0,df.rotr)(n,22))+TZe(n,i,o)|0;w=m,m=l,l=c,c=s+I|0,s=o,o=i,i=n,n=I+k|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,c=c+this.E|0,l=l+this.F|0,m=m+this.G|0,w=w+this.H|0,this.set(n,i,o,s,c,l,m,w)}roundClean(){xm.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},cH=class extends gk{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};_w.sha256=(0,df.wrapConstructor)(()=>new gk);_w.sha224=(0,df.wrapConstructor)(()=>new cH)});var fme=V(lH=>{"use strict";d();h();function h0(t,e,r){return e<=t&&t<=r}function Sk(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function MZe(t){for(var e=String(t),r=e.length,n=0,i=[];n<r;){var o=e.charCodeAt(n);if(o<55296||o>57343)i.push(o);else if(56320<=o&&o<=57343)i.push(65533);else if(55296<=o&&o<=56319)if(n===r-1)i.push(65533);else{var s=t.charCodeAt(n+1);if(56320<=s&&s<=57343){var c=o&1023,l=s&1023;i.push(65536+(c<<10)+l),n+=1}else i.push(65533)}n+=1}return i}function kZe(t){for(var e="",r=0;r<t.length;++r){var n=t[r];n<=65535?e+=String.fromCharCode(n):(n-=65536,e+=String.fromCharCode((n>>10)+55296,(n&1023)+56320))}return e}var bk=-1;function fH(t){this.tokens=[].slice.call(t)}fH.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():bk},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var Tw=-1;function uH(t,e){if(t)throw TypeError("Decoder error");return e||65533}var vk="utf-8";function xk(t,e){if(!(this instanceof xk))return new xk(t,e);if(t=t!==void 0?String(t).toLowerCase():vk,t!==vk)throw new Error("Encoding not supported. Only utf-8 is supported");e=Sk(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}xk.prototype={decode:function(e,r){var n;typeof e=="object"&&e instanceof ArrayBuffer?n=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):n=new Uint8Array(0),r=Sk(r),this._streaming||(this._decoder=new PZe({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!r.stream;for(var i=new fH(n),o=[],s;!i.endOfStream()&&(s=this._decoder.handler(i,i.read()),s!==Tw);)s!==null&&(Array.isArray(s)?o.push.apply(o,s):o.push(s));if(!this._streaming){do{if(s=this._decoder.handler(i,i.read()),s===Tw)break;s!==null&&(Array.isArray(s)?o.push.apply(o,s):o.push(s))}while(!i.endOfStream());this._decoder=null}return o.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(o[0]===65279?(this._BOMseen=!0,o.shift()):this._BOMseen=!0),kZe(o)}};function wk(t,e){if(!(this instanceof wk))return new wk(t,e);if(t=t!==void 0?String(t).toLowerCase():vk,t!==vk)throw new Error("Encoding not supported. Only utf-8 is supported");e=Sk(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}wk.prototype={encode:function(e,r){e=e?String(e):"",r=Sk(r),this._streaming||(this._encoder=new BZe(this._options)),this._streaming=!!r.stream;for(var n=[],i=new fH(MZe(e)),o;!i.endOfStream()&&(o=this._encoder.handler(i,i.read()),o!==Tw);)Array.isArray(o)?n.push.apply(n,o):n.push(o);if(!this._streaming){for(;o=this._encoder.handler(i,i.read()),o!==Tw;)Array.isArray(o)?n.push.apply(n,o):n.push(o);this._encoder=null}return new Uint8Array(n)}};function PZe(t){var e=t.fatal,r=0,n=0,i=0,o=128,s=191;this.handler=function(c,l){if(l===bk&&i!==0)return i=0,uH(e);if(l===bk)return Tw;if(i===0){if(h0(l,0,127))return l;if(h0(l,194,223))i=1,r=l-192;else if(h0(l,224,239))l===224&&(o=160),l===237&&(s=159),i=2,r=l-224;else if(h0(l,240,244))l===240&&(o=144),l===244&&(s=143),i=3,r=l-240;else return uH(e);return r=r<<6*i,null}if(!h0(l,o,s))return r=i=n=0,o=128,s=191,c.prepend(l),uH(e);if(o=128,s=191,n+=1,r+=l-128<<6*(i-n),n!==i)return null;var m=r;return r=i=n=0,m}}function BZe(t){var e=t.fatal;this.handler=function(r,n){if(n===bk)return Tw;if(h0(n,0,127))return n;var i,o;h0(n,128,2047)?(i=1,o=192):h0(n,2048,65535)?(i=2,o=224):h0(n,65536,1114111)&&(i=3,o=240);for(var s=[(n>>6*i)+o];i>0;){var c=n>>6*(i-1);s.push(128|c&63),i-=1}return s}}lH.TextEncoder=wk;lH.TextDecoder=xk});var mme=V($n=>{"use strict";d();h();var RZe=$n&&$n.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),CZe=$n&&$n.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Dd=$n&&$n.__decorate||function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(s=t[c])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o},OZe=$n&&$n.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&RZe(e,t,r);return CZe(e,t),e},lme=$n&&$n.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($n,"__esModule",{value:!0});$n.deserializeUnchecked=$n.deserialize=$n.serialize=$n.BinaryReader=$n.BinaryWriter=$n.BorshError=$n.baseDecode=$n.baseEncode=void 0;var wm=lme(mb()),dme=lme(ta()),NZe=OZe(fme()),DZe=typeof TextDecoder!="function"?NZe.TextDecoder:TextDecoder,UZe=new DZe("utf-8",{fatal:!0});function LZe(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),dme.default.encode(Buffer.from(t))}$n.baseEncode=LZe;function FZe(t){return Buffer.from(dme.default.decode(t))}$n.baseDecode=FZe;var dH=1024,ks=class extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}};$n.BorshError=ks;var Ak=class{constructor(){this.buf=Buffer.alloc(dH),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(dH)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new wm.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new wm.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new wm.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new wm.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(dH)]),this.length+=e.length}writeString(e){this.maybeResize();let r=Buffer.from(e,"utf8");this.writeU32(r.length),this.writeBuffer(r)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,r){this.maybeResize(),this.writeU32(e.length);for(let n of e)this.maybeResize(),r(n)}toArray(){return this.buf.subarray(0,this.length)}};$n.BinaryWriter=Ak;function Ud(t,e,r){let n=r.value;r.value=function(...i){try{return n.apply(this,i)}catch(o){if(o instanceof RangeError){let s=o.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(s)>=0)throw new ks("Reached the end of buffer when deserializing")}throw o}}}var Ha=class{constructor(e){this.buf=e,this.offset=0}readU8(){let e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){let e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){let e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){let e=this.readBuffer(8);return new wm.default(e,"le")}readU128(){let e=this.readBuffer(16);return new wm.default(e,"le")}readU256(){let e=this.readBuffer(32);return new wm.default(e,"le")}readU512(){let e=this.readBuffer(64);return new wm.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new ks(`Expected buffer length ${e} isn't within bounds`);let r=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,r}readString(){let e=this.readU32(),r=this.readBuffer(e);try{return UZe.decode(r)}catch(n){throw new ks(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){let r=this.readU32(),n=Array();for(let i=0;i<r;++i)n.push(e());return n}};Dd([Ud],Ha.prototype,"readU8",null);Dd([Ud],Ha.prototype,"readU16",null);Dd([Ud],Ha.prototype,"readU32",null);Dd([Ud],Ha.prototype,"readU64",null);Dd([Ud],Ha.prototype,"readU128",null);Dd([Ud],Ha.prototype,"readU256",null);Dd([Ud],Ha.prototype,"readU512",null);Dd([Ud],Ha.prototype,"readString",null);Dd([Ud],Ha.prototype,"readFixedArray",null);Dd([Ud],Ha.prototype,"readArray",null);$n.BinaryReader=Ha;function hme(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Xb(t,e,r,n,i){try{if(typeof n=="string")i[`write${hme(n)}`](r);else if(n instanceof Array)if(typeof n[0]=="number"){if(r.length!==n[0])throw new ks(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);i.writeFixedArray(r)}else if(n.length===2&&typeof n[1]=="number"){if(r.length!==n[1])throw new ks(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let o=0;o<n[1];o++)Xb(t,null,r[o],n[0],i)}else i.writeArray(r,o=>{Xb(t,e,o,n[0],i)});else if(n.kind!==void 0)switch(n.kind){case"option":{r==null?i.writeU8(0):(i.writeU8(1),Xb(t,e,r,n.type,i));break}case"map":{i.writeU32(r.size),r.forEach((o,s)=>{Xb(t,e,s,n.key,i),Xb(t,e,o,n.value,i)});break}default:throw new ks(`FieldType ${n} unrecognized`)}else pme(t,r,i)}catch(o){throw o instanceof ks&&o.addToFieldPath(e),o}}function pme(t,e,r){if(typeof e.borshSerialize=="function"){e.borshSerialize(r);return}let n=t.get(e.constructor);if(!n)throw new ks(`Class ${e.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([i,o])=>{Xb(t,i,e[i],o,r)});else if(n.kind==="enum"){let i=e[n.field];for(let o=0;o<n.values.length;++o){let[s,c]=n.values[o];if(s===i){r.writeU8(o),Xb(t,s,e[s],c,r);break}}}else throw new ks(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function VZe(t,e,r=Ak){let n=new r;return pme(t,e,n),n.toArray()}$n.serialize=VZe;function e1(t,e,r,n){try{if(typeof r=="string")return n[`read${hme(r)}`]();if(r instanceof Array){if(typeof r[0]=="number")return n.readFixedArray(r[0]);if(typeof r[1]=="number"){let i=[];for(let o=0;o<r[1];o++)i.push(e1(t,null,r[0],n));return i}else return n.readArray(()=>e1(t,e,r[0],n))}if(r.kind==="option")return n.readU8()?e1(t,e,r.type,n):void 0;if(r.kind==="map"){let i=new Map,o=n.readU32();for(let s=0;s<o;s++){let c=e1(t,e,r.key,n),l=e1(t,e,r.value,n);i.set(c,l)}return i}return hH(t,r,n)}catch(i){throw i instanceof ks&&i.addToFieldPath(e),i}}function hH(t,e,r){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(r);let n=t.get(e);if(!n)throw new ks(`Class ${e.name} is missing in schema`);if(n.kind==="struct"){let i={};for(let[o,s]of t.get(e).fields)i[o]=e1(t,o,s,r);return new e(i)}if(n.kind==="enum"){let i=r.readU8();if(i>=n.values.length)throw new ks(`Enum index: ${i} is out of range`);let[o,s]=n.values[i],c=e1(t,o,s,r);return new e({[o]:c})}throw new ks(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function qZe(t,e,r,n=Ha){let i=new n(r),o=hH(t,e,i);if(i.offset<r.length)throw new ks(`Unexpected ${r.length-i.offset} bytes after deserialized data`);return o}$n.deserialize=qZe;function KZe(t,e,r,n=Ha){let i=new n(r);return hH(t,e,i)}$n.deserializeUnchecked=KZe});var u6=V(He=>{"use strict";d();h();Object.defineProperty(He,"__esModule",{value:!0});He.s16=He.s8=He.nu64be=He.u48be=He.u40be=He.u32be=He.u24be=He.u16be=He.nu64=He.u48=He.u40=He.u32=He.u24=He.u16=He.u8=He.offset=He.greedy=He.Constant=He.UTF8=He.CString=He.Blob=He.Boolean=He.BitField=He.BitStructure=He.VariantLayout=He.Union=He.UnionLayoutDiscriminator=He.UnionDiscriminator=He.Structure=He.Sequence=He.DoubleBE=He.Double=He.FloatBE=He.Float=He.NearInt64BE=He.NearInt64=He.NearUInt64BE=He.NearUInt64=He.IntBE=He.Int=He.UIntBE=He.UInt=He.OffsetLayout=He.GreedyCount=He.ExternalLayout=He.bindConstructorLayout=He.nameWithProperty=He.Layout=He.uint8ArrayToBuffer=He.checkUint8Array=void 0;He.constant=He.utf8=He.cstr=He.blob=He.unionLayoutDiscriminator=He.union=He.seq=He.bits=He.struct=He.f64be=He.f64=He.f32be=He.f32=He.ns64be=He.s48be=He.s40be=He.s32be=He.s24be=He.s16be=He.ns64=He.s48=He.s40=He.s32=He.s24=void 0;var mH=Vn();function kw(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}He.checkUint8Array=kw;function bn(t){return kw(t),mH.Buffer.from(t.buffer,t.byteOffset,t.length)}He.uint8ArrayToBuffer=bn;var Pn=class{constructor(e,r){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=r}makeDestinationObject(){return{}}getSpan(e,r){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){let r=Object.create(this.constructor.prototype);return Object.assign(r,this),r.property=e,r}fromArray(e){}};He.Layout=Pn;function yH(t,e){return e.property?t+"["+e.property+"]":t}He.nameWithProperty=yH;function HZe(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Pn))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(r,n){return e.encode(this,r,n)},writable:!0}),Object.defineProperty(t,"decode",{value(r,n){return e.decode(r,n)},writable:!0})}He.bindConstructorLayout=HZe;var ua=class extends Pn{isCount(){throw new Error("ExternalLayout is abstract")}};He.ExternalLayout=ua;var Ek=class extends ua{constructor(e=1,r){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,r),this.elementSpan=e}isCount(){return!0}decode(e,r=0){kw(e);let n=e.length-r;return Math.floor(n/this.elementSpan)}encode(e,r,n){return 0}};He.GreedyCount=Ek;var i6=class extends ua{constructor(e,r=0,n){if(!(e instanceof Pn))throw new TypeError("layout must be a Layout");if(!Number.isInteger(r))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=r}isCount(){return this.layout instanceof wc||this.layout instanceof su}decode(e,r=0){return this.layout.decode(e,r+this.offset)}encode(e,r,n=0){return this.layout.encode(e,r,n+this.offset)}};He.OffsetLayout=i6;var wc=class extends Pn{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return bn(e).readUIntLE(r,this.span)}encode(e,r,n=0){return bn(r).writeUIntLE(e,n,this.span),this.span}};He.UInt=wc;var su=class extends Pn{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return bn(e).readUIntBE(r,this.span)}encode(e,r,n=0){return bn(r).writeUIntBE(e,n,this.span),this.span}};He.UIntBE=su;var p0=class extends Pn{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return bn(e).readIntLE(r,this.span)}encode(e,r,n=0){return bn(r).writeIntLE(e,n,this.span),this.span}};He.Int=p0;var Sm=class extends Pn{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return bn(e).readIntBE(r,this.span)}encode(e,r,n=0){return bn(r).writeIntBE(e,n,this.span),this.span}};He.IntBE=Sm;var pH=Math.pow(2,32);function qk(t){let e=Math.floor(t/pH),r=t-e*pH;return{hi32:e,lo32:r}}function Kk(t,e){return t*pH+e}var _k=class extends Pn{constructor(e){super(8,e)}decode(e,r=0){let n=bn(e),i=n.readUInt32LE(r),o=n.readUInt32LE(r+4);return Kk(o,i)}encode(e,r,n=0){let i=qk(e),o=bn(r);return o.writeUInt32LE(i.lo32,n),o.writeUInt32LE(i.hi32,n+4),8}};He.NearUInt64=_k;var Tk=class extends Pn{constructor(e){super(8,e)}decode(e,r=0){let n=bn(e),i=n.readUInt32BE(r),o=n.readUInt32BE(r+4);return Kk(i,o)}encode(e,r,n=0){let i=qk(e),o=bn(r);return o.writeUInt32BE(i.hi32,n),o.writeUInt32BE(i.lo32,n+4),8}};He.NearUInt64BE=Tk;var Ik=class extends Pn{constructor(e){super(8,e)}decode(e,r=0){let n=bn(e),i=n.readUInt32LE(r),o=n.readInt32LE(r+4);return Kk(o,i)}encode(e,r,n=0){let i=qk(e),o=bn(r);return o.writeUInt32LE(i.lo32,n),o.writeInt32LE(i.hi32,n+4),8}};He.NearInt64=Ik;var Mk=class extends Pn{constructor(e){super(8,e)}decode(e,r=0){let n=bn(e),i=n.readInt32BE(r),o=n.readUInt32BE(r+4);return Kk(i,o)}encode(e,r,n=0){let i=qk(e),o=bn(r);return o.writeInt32BE(i.hi32,n),o.writeUInt32BE(i.lo32,n+4),8}};He.NearInt64BE=Mk;var kk=class extends Pn{constructor(e){super(4,e)}decode(e,r=0){return bn(e).readFloatLE(r)}encode(e,r,n=0){return bn(r).writeFloatLE(e,n),4}};He.Float=kk;var Pk=class extends Pn{constructor(e){super(4,e)}decode(e,r=0){return bn(e).readFloatBE(r)}encode(e,r,n=0){return bn(r).writeFloatBE(e,n),4}};He.FloatBE=Pk;var Bk=class extends Pn{constructor(e){super(8,e)}decode(e,r=0){return bn(e).readDoubleLE(r)}encode(e,r,n=0){return bn(r).writeDoubleLE(e,n),8}};He.Double=Bk;var Rk=class extends Pn{constructor(e){super(8,e)}decode(e,r=0){return bn(e).readDoubleBE(r)}encode(e,r,n=0){return bn(r).writeDoubleBE(e,n),8}};He.DoubleBE=Rk;var Ck=class extends Pn{constructor(e,r,n){if(!(e instanceof Pn))throw new TypeError("elementLayout must be a Layout");if(!(r instanceof ua&&r.isCount()||Number.isInteger(r)&&0<=r))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(r instanceof ua)&&0<e.span&&(i=r*e.span),super(i,n),this.elementLayout=e,this.count=r}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0,i=this.count;if(i instanceof ua&&(i=i.decode(e,r)),0<this.elementLayout.span)n=i*this.elementLayout.span;else{let o=0;for(;o<i;)n+=this.elementLayout.getSpan(e,r+n),++o}return n}decode(e,r=0){let n=[],i=0,o=this.count;for(o instanceof ua&&(o=o.decode(e,r));i<o;)n.push(this.elementLayout.decode(e,r)),r+=this.elementLayout.getSpan(e,r),i+=1;return n}encode(e,r,n=0){let i=this.elementLayout,o=e.reduce((s,c)=>s+i.encode(c,r,n+s),0);return this.count instanceof ua&&this.count.encode(e.length,r,n),o}};He.Sequence=Ck;var Ok=class extends Pn{constructor(e,r,n){if(!(Array.isArray(e)&&e.reduce((o,s)=>o&&s instanceof Pn,!0)))throw new TypeError("fields must be array of Layout instances");typeof r=="boolean"&&n===void 0&&(n=r,r=void 0);for(let o of e)if(0>o.span&&o.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((o,s)=>o+s.getSpan(),0)}catch{}super(i,r),this.fields=e,this.decodePrefixes=!!n}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((i,o)=>{let s=o.getSpan(e,r);return r+=s,i+s},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,r=0){kw(e);let n=this.makeDestinationObject();for(let i of this.fields)if(i.property!==void 0&&(n[i.property]=i.decode(e,r)),r+=i.getSpan(e,r),this.decodePrefixes&&e.length===r)break;return n}encode(e,r,n=0){let i=n,o=0,s=0;for(let c of this.fields){let l=c.span;if(s=0<l?l:0,c.property!==void 0){let m=e[c.property];m!==void 0&&(s=c.encode(m,r,n),0>l&&(l=c.getSpan(r,n)))}o=n,n+=l}return o+s-i}fromArray(e){let r=this.makeDestinationObject();for(let n of this.fields)n.property!==void 0&&0<e.length&&(r[n.property]=e.shift());return r}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let r of this.fields)if(r.property===e)return r}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let r=0;for(let n of this.fields){if(n.property===e)return r;0>n.span?r=-1:0<=r&&(r+=n.span)}}};He.Structure=Ok;var o6=class{constructor(e){this.property=e}decode(e,r){throw new Error("UnionDiscriminator is abstract")}encode(e,r,n){throw new Error("UnionDiscriminator is abstract")}};He.UnionDiscriminator=o6;var Mw=class extends o6{constructor(e,r){if(!(e instanceof ua&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(r||e.property||"variant"),this.layout=e}decode(e,r){return this.layout.decode(e,r)}encode(e,r,n){return this.layout.encode(e,r,n)}};He.UnionLayoutDiscriminator=Mw;var s6=class extends Pn{constructor(e,r,n){let i;if(e instanceof wc||e instanceof su)i=new Mw(new i6(e));else if(e instanceof ua&&e.isCount())i=new Mw(e);else if(e instanceof o6)i=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(r===void 0&&(r=null),!(r===null||r instanceof Pn))throw new TypeError("defaultLayout must be null or a Layout");if(r!==null){if(0>r.span)throw new Error("defaultLayout must have constant span");r.property===void 0&&(r=r.replicate("content"))}let o=-1;r&&(o=r.span,0<=o&&(e instanceof wc||e instanceof su)&&(o+=i.layout.span)),super(o,n),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof wc||e instanceof su,this.defaultLayout=r,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(c){return s(c)},this.configGetSourceVariant=function(c){s=c.bind(this)}}getSpan(e,r=0){if(0<=this.span)return this.span;let n=this.getVariant(e,r);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,r)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;let r=this.registry[e[this.discriminator.property]];if(r&&(!r.layout||r.property&&Object.prototype.hasOwnProperty.call(e,r.property)))return r}else for(let r in this.registry){let n=this.registry[r];if(n.property&&Object.prototype.hasOwnProperty.call(e,n.property))return n}throw new Error("unable to infer src variant")}decode(e,r=0){let n,i=this.discriminator,o=i.decode(e,r),s=this.registry[o];if(s===void 0){let c=this.defaultLayout,l=0;this.usesPrefixDiscriminator&&(l=i.layout.span),n=this.makeDestinationObject(),n[i.property]=o,n[c.property]=c.decode(e,r+l)}else n=s.decode(e,r);return n}encode(e,r,n=0){let i=this.getSourceVariant(e);if(i===void 0){let o=this.discriminator,s=this.defaultLayout,c=0;return this.usesPrefixDiscriminator&&(c=o.layout.span),o.encode(e[o.property],r,n),c+s.encode(e[s.property],r,n+c)}return i.encode(e,r,n)}addVariant(e,r,n){let i=new Nk(this,e,r,n);return this.registry[e]=i,i}getVariant(e,r=0){let n;return e instanceof Uint8Array?n=this.discriminator.decode(e,r):n=e,this.registry[n]}};He.Union=s6;var Nk=class extends Pn{constructor(e,r,n,i){if(!(e instanceof s6))throw new TypeError("union must be a Union");if(!Number.isInteger(r)||0>r)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&i===void 0&&(i=n,n=null),n){if(!(n instanceof Pn))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let o=e.span;0>e.span&&(o=n?n.span:0,0<=o&&e.usesPrefixDiscriminator&&(o+=e.discriminator.layout.span)),super(o,i),this.union=e,this.variant=r,this.layout=n||null}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(e,r+n)),n+i}decode(e,r=0){let n=this.makeDestinationObject();if(this!==this.union.getVariant(e,r))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,r+i):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,r,n=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,r,n);let o=i;if(this.layout&&(this.layout.encode(e[this.property],r,n+i),o+=this.layout.getSpan(r,n+i),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};He.VariantLayout=Nk;function Iw(t){return 0>t&&(t+=4294967296),t}var a6=class extends Pn{constructor(e,r,n){if(!(e instanceof wc||e instanceof su))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof r=="string"&&n===void 0&&(n=r,r=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!r,this.fields=[];let i=0;this._packedSetValue=function(o){return i=Iw(o),this},this._packedGetValue=function(){return i}}decode(e,r=0){let n=this.makeDestinationObject(),i=this.word.decode(e,r);this._packedSetValue(i);for(let o of this.fields)o.property!==void 0&&(n[o.property]=o.decode(e));return n}encode(e,r,n=0){let i=this.word.decode(r,n);this._packedSetValue(i);for(let o of this.fields)if(o.property!==void 0){let s=e[o.property];s!==void 0&&o.encode(s)}return this.word.encode(this._packedGetValue(),r,n)}addField(e,r){let n=new c6(this,e,r);return this.fields.push(n),n}addBoolean(e){let r=new Dk(this,e);return this.fields.push(r),r}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let r of this.fields)if(r.property===e)return r}};He.BitStructure=a6;var c6=class{constructor(e,r,n){if(!(e instanceof a6))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(r)||0>=r)throw new TypeError("bits must be positive integer");let i=8*e.span,o=e.fields.reduce((s,c)=>s+c.bits,0);if(r+o>i)throw new Error("bits too long for span remainder ("+(i-o)+" of "+i+" remain)");this.container=e,this.bits=r,this.valueMask=(1<<r)-1,r===32&&(this.valueMask=4294967295),this.start=o,this.container.msb&&(this.start=i-o-r),this.wordMask=Iw(this.valueMask<<this.start),this.property=n}decode(e,r){let n=this.container._packedGetValue();return Iw(n&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==Iw(e&this.valueMask))throw new TypeError(yH("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);let r=this.container._packedGetValue(),n=Iw(e<<this.start);this.container._packedSetValue(Iw(r&~this.wordMask)|n)}};He.BitField=c6;var Dk=class extends c6{constructor(e,r){super(e,1,r)}decode(e,r){return!!super.decode(e,r)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};He.Boolean=Dk;var Uk=class extends Pn{constructor(e,r){if(!(e instanceof ua&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof ua||(n=e),super(n,r),this.length=e}getSpan(e,r){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),n}decode(e,r=0){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),bn(e).slice(r,r+n)}encode(e,r,n){let i=this.length;if(this.length instanceof ua&&(i=e.length),!(e instanceof Uint8Array&&i===e.length))throw new TypeError(yH("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(n+i>r.length)throw new RangeError("encoding overruns Uint8Array");let o=bn(e);return bn(r).write(o.toString("hex"),n,i,"hex"),this.length instanceof ua&&this.length.encode(i,r,n),i}};He.Blob=Uk;var Lk=class extends Pn{constructor(e){super(-1,e)}getSpan(e,r=0){kw(e);let n=r;for(;n<e.length&&e[n]!==0;)n+=1;return 1+n-r}decode(e,r=0){let n=this.getSpan(e,r);return bn(e).slice(r,r+n-1).toString("utf-8")}encode(e,r,n=0){typeof e!="string"&&(e=String(e));let i=mH.Buffer.from(e,"utf8"),o=i.length;if(n+o>r.length)throw new RangeError("encoding overruns Buffer");let s=bn(r);return i.copy(s,n),s[n+o]=0,o+1}};He.CString=Lk;var Fk=class extends Pn{constructor(e,r){if(typeof e=="string"&&r===void 0&&(r=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,r),this.maxSpan=e}getSpan(e,r=0){return kw(e),e.length-r}decode(e,r=0){let n=this.getSpan(e,r);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return bn(e).slice(r,r+n).toString("utf-8")}encode(e,r,n=0){typeof e!="string"&&(e=String(e));let i=mH.Buffer.from(e,"utf8"),o=i.length;if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");if(n+o>r.length)throw new RangeError("encoding overruns Buffer");return i.copy(bn(r),n),o}};He.UTF8=Fk;var Vk=class extends Pn{constructor(e,r){super(0,r),this.value=e}decode(e,r){return this.value}encode(e,r,n){return 0}};He.Constant=Vk;He.greedy=(t,e)=>new Ek(t,e);He.offset=(t,e,r)=>new i6(t,e,r);He.u8=t=>new wc(1,t);He.u16=t=>new wc(2,t);He.u24=t=>new wc(3,t);He.u32=t=>new wc(4,t);He.u40=t=>new wc(5,t);He.u48=t=>new wc(6,t);He.nu64=t=>new _k(t);He.u16be=t=>new su(2,t);He.u24be=t=>new su(3,t);He.u32be=t=>new su(4,t);He.u40be=t=>new su(5,t);He.u48be=t=>new su(6,t);He.nu64be=t=>new Tk(t);He.s8=t=>new p0(1,t);He.s16=t=>new p0(2,t);He.s24=t=>new p0(3,t);He.s32=t=>new p0(4,t);He.s40=t=>new p0(5,t);He.s48=t=>new p0(6,t);He.ns64=t=>new Ik(t);He.s16be=t=>new Sm(2,t);He.s24be=t=>new Sm(3,t);He.s32be=t=>new Sm(4,t);He.s40be=t=>new Sm(5,t);He.s48be=t=>new Sm(6,t);He.ns64be=t=>new Mk(t);He.f32=t=>new kk(t);He.f32be=t=>new Pk(t);He.f64=t=>new Bk(t);He.f64be=t=>new Rk(t);He.struct=(t,e,r)=>new Ok(t,e,r);He.bits=(t,e,r)=>new a6(t,e,r);He.seq=(t,e,r)=>new Ck(t,e,r);He.union=(t,e,r)=>new s6(t,e,r);He.unionLayoutDiscriminator=(t,e)=>new Mw(t,e);He.blob=(t,e)=>new Uk(t,e);He.cstr=t=>new Lk(t);He.utf8=(t,e)=>new Fk(t,e);He.constant=(t,e)=>new Vk(t,e)});var gH=V(Pw=>{"use strict";d();h();Object.defineProperty(Pw,"__esModule",{value:!0});var Hk;function jZe(t){{let e=Buffer.from(t);e.reverse();let r=e.toString("hex");return r.length===0?BigInt(0):BigInt(`0x${r}`)}return Hk.toBigInt(t,!1)}Pw.toBigIntLE=jZe;function zZe(t){{let e=t.toString("hex");return e.length===0?BigInt(0):BigInt(`0x${e}`)}return Hk.toBigInt(t,!0)}Pw.toBigIntBE=zZe;function WZe(t,e){{let r=t.toString(16),n=Buffer.from(r.padStart(e*2,"0").slice(0,e*2),"hex");return n.reverse(),n}return Hk.fromBigInt(t,Buffer.allocUnsafe(e),!1)}Pw.toBufferLE=WZe;function GZe(t,e){{let r=t.toString(16);return Buffer.from(r.padStart(e*2,"0").slice(0,e*2),"hex")}return Hk.fromBigInt(t,Buffer.allocUnsafe(e),!0)}Pw.toBufferBE=GZe});var Ame=V(zt=>{"use strict";d();h();Object.defineProperty(zt,"__esModule",{value:!0});var jk=class extends TypeError{constructor(e,r){let n,{message:i,...o}=e,{path:s}=e,c=s.length===0?i:"At path: "+s.join(".")+" -- "+i;super(c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>{var l;return(l=n)!=null?l:n=[e,...r()]}}};function $Ze(t){return wl(t)&&typeof t[Symbol.iterator]=="function"}function wl(t){return typeof t=="object"&&t!=null}function yme(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;let e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function Po(t){return typeof t=="string"?JSON.stringify(t):""+t}function YZe(t){let{done:e,value:r}=t.next();return e?void 0:r}function ZZe(t,e,r,n){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});let{path:i,branch:o}=e,{type:s}=r,{refinement:c,message:l="Expected a value of type `"+s+"`"+(c?" with refinement `"+c+"`":"")+", but received: `"+Po(n)+"`"}=t;return{value:n,type:s,refinement:c,key:i[i.length-1],path:i,branch:o,...t,message:l}}function*bH(t,e,r,n){$Ze(t)||(t=[t]);for(let i of t){let o=ZZe(i,e,r,n);o&&(yield o)}}function*vH(t,e,r={}){let{path:n=[],branch:i=[t],coerce:o=!1,mask:s=!1}=r,c={path:n,branch:i};if(o&&(t=e.coercer(t,c),s&&e.type!=="type"&&wl(e.schema)&&wl(t)&&!Array.isArray(t)))for(let m in t)e.schema[m]===void 0&&delete t[m];let l=!0;for(let m of e.validator(t,c))l=!1,yield[m,void 0];for(let[m,w,b]of e.entries(t,c)){let E=vH(w,b,{path:m===void 0?n:[...n,m],branch:m===void 0?i:[...i,w],coerce:o,mask:s});for(let I of E)I[0]?(l=!1,yield[I[0],void 0]):o&&(w=I[1],m===void 0?t=w:t instanceof Map?t.set(m,w):t instanceof Set?t.add(w):wl(t)&&(t[m]=w))}if(l)for(let m of e.refiner(t,c))l=!1,yield[m,void 0];l&&(yield[void 0,t])}var Di=class{constructor(e){let{type:r,schema:n,validator:i,refiner:o,coercer:s=l=>l,entries:c=function*(){}}=e;this.type=r,this.schema=n,this.entries=c,this.coercer=s,i?this.validator=(l,m)=>{let w=i(l,m);return bH(w,m,this,l)}:this.validator=()=>[],o?this.refiner=(l,m)=>{let w=o(l,m);return bH(w,m,this,l)}:this.refiner=()=>[]}assert(e){return gme(e,this)}create(e){return bme(e,this)}is(e){return xH(e,this)}mask(e){return vme(e,this)}validate(e,r={}){return Bw(e,this,r)}};function gme(t,e){let r=Bw(t,e);if(r[0])throw r[0]}function bme(t,e){let r=Bw(t,e,{coerce:!0});if(r[0])throw r[0];return r[1]}function vme(t,e){let r=Bw(t,e,{coerce:!0,mask:!0});if(r[0])throw r[0];return r[1]}function xH(t,e){return!Bw(t,e)[0]}function Bw(t,e,r={}){let n=vH(t,e,r),i=YZe(n);return i[0]?[new jk(i[0],function*(){for(let s of n)s[0]&&(yield s[0])}),void 0]:[void 0,i[1]]}function QZe(...t){let e=t.map(n=>n.schema),r=Object.assign({},...e);return f6(r)}function au(t,e){return new Di({type:t,schema:null,validator:e})}function JZe(t,e){return new Di({...t,refiner:(r,n)=>r===void 0||t.refiner(r,n),validator(r,n){return r===void 0?!0:(e(r,n),t.validator(r,n))}})}function XZe(t){return new Di({type:"dynamic",schema:null,*entries(e,r){yield*t(e,r).entries(e,r)},validator(e,r){return t(e,r).validator(e,r)},coercer(e,r){return t(e,r).coercer(e,r)}})}function eQe(t){let e;return new Di({type:"lazy",schema:null,*entries(r,n){var i;(i=e)!=null||(e=t()),yield*e.entries(r,n)},validator(r,n){var i;return(i=e)!=null||(e=t()),e.validator(r,n)},coercer(r,n){var i;return(i=e)!=null||(e=t()),e.coercer(r,n)}})}function tQe(t,e){let{schema:r}=t,n={...r};for(let i of e)delete n[i];return f6(n)}function rQe(t){let e=t instanceof Di?{...t.schema}:{...t};for(let r in e)e[r]=xme(e[r]);return f6(e)}function nQe(t,e){let{schema:r}=t,n={};for(let i of e)n[i]=r[i];return f6(n)}function iQe(t,e){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),au(t,e)}function oQe(){return au("any",()=>!0)}function sQe(t){return new Di({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(let[r,n]of e.entries())yield[r,n,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+Po(e)}})}function aQe(){return au("boolean",t=>typeof t=="boolean")}function cQe(){return au("date",t=>t instanceof Date&&!isNaN(t.getTime())||"Expected a valid `Date` object, but received: "+Po(t))}function uQe(t){let e={},r=t.map(n=>Po(n)).join();for(let n of t)e[n]=n;return new Di({type:"enums",schema:e,validator(n){return t.includes(n)||"Expected one of `"+r+"`, but received: "+Po(n)}})}function fQe(){return au("func",t=>typeof t=="function"||"Expected a function, but received: "+Po(t))}function lQe(t){return au("instance",e=>e instanceof t||"Expected a `"+t.name+"` instance, but received: "+Po(e))}function dQe(){return au("integer",t=>typeof t=="number"&&!isNaN(t)&&Number.isInteger(t)||"Expected an integer, but received: "+Po(t))}function hQe(t){return new Di({type:"intersection",schema:null,*entries(e,r){for(let n of t)yield*n.entries(e,r)},*validator(e,r){for(let n of t)yield*n.validator(e,r)},*refiner(e,r){for(let n of t)yield*n.refiner(e,r)}})}function pQe(t){let e=Po(t),r=typeof t;return new Di({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?t:null,validator(n){return n===t||"Expected the literal `"+e+"`, but received: "+Po(n)}})}function mQe(t,e){return new Di({type:"map",schema:null,*entries(r){if(t&&e&&r instanceof Map)for(let[n,i]of r.entries())yield[n,n,t],yield[n,i,e]},coercer(r){return r instanceof Map?new Map(r):r},validator(r){return r instanceof Map||"Expected a `Map` object, but received: "+Po(r)}})}function wH(){return au("never",()=>!1)}function yQe(t){return new Di({...t,validator:(e,r)=>e===null||t.validator(e,r),refiner:(e,r)=>e===null||t.refiner(e,r)})}function gQe(){return au("number",t=>typeof t=="number"&&!isNaN(t)||"Expected a number, but received: "+Po(t))}function f6(t){let e=t?Object.keys(t):[],r=wH();return new Di({type:"object",schema:t||null,*entries(n){if(t&&wl(n)){let i=new Set(Object.keys(n));for(let o of e)i.delete(o),yield[o,n[o],t[o]];for(let o of i)yield[o,n[o],r]}},validator(n){return wl(n)||"Expected an object, but received: "+Po(n)},coercer(n){return wl(n)?{...n}:n}})}function xme(t){return new Di({...t,validator:(e,r)=>e===void 0||t.validator(e,r),refiner:(e,r)=>e===void 0||t.refiner(e,r)})}function bQe(t,e){return new Di({type:"record",schema:null,*entries(r){if(wl(r))for(let n in r){let i=r[n];yield[n,n,t],yield[n,i,e]}},validator(r){return wl(r)||"Expected an object, but received: "+Po(r)}})}function vQe(){return au("regexp",t=>t instanceof RegExp)}function xQe(t){return new Di({type:"set",schema:null,*entries(e){if(t&&e instanceof Set)for(let r of e)yield[r,r,t]},coercer(e){return e instanceof Set?new Set(e):e},validator(e){return e instanceof Set||"Expected a `Set` object, but received: "+Po(e)}})}function wme(){return au("string",t=>typeof t=="string"||"Expected a string, but received: "+Po(t))}function wQe(t){let e=wH();return new Di({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){let n=Math.max(t.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],t[i]||e]}},validator(r){return Array.isArray(r)||"Expected an array, but received: "+Po(r)}})}function SQe(t){let e=Object.keys(t);return new Di({type:"type",schema:t,*entries(r){if(wl(r))for(let n of e)yield[n,r[n],t[n]]},validator(r){return wl(r)||"Expected an object, but received: "+Po(r)}})}function AQe(t){let e=t.map(r=>r.type).join(" | ");return new Di({type:"union",schema:null,validator(r,n){let i=[];for(let o of t){let[...s]=vH(r,o,n),[c]=s;if(c[0])for(let[l]of s)l&&i.push(l);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+Po(r),...i]}})}function Sme(){return au("unknown",()=>!0)}function SH(t,e,r){return new Di({...t,coercer:(n,i)=>xH(n,e)?t.coercer(r(n,i),i):t.coercer(n,i)})}function EQe(t,e,r={}){return SH(t,Sme(),n=>{let i=typeof e=="function"?e():e;if(n===void 0)return i;if(!r.strict&&yme(n)&&yme(i)){let o={...n},s=!1;for(let c in i)o[c]===void 0&&(o[c]=i[c],s=!0);if(s)return o}return n})}function _Qe(t){return SH(t,wme(),e=>e.trim())}function TQe(t){let e="Expected an empty "+t.type;return Rw(t,"empty",r=>{if(r instanceof Map||r instanceof Set){let{size:n}=r;return n===0||e+" but received one with a size of `"+n+"`"}else{let{length:n}=r;return n===0||e+" but received one with a length of `"+n+"`"}})}function IQe(t,e,r={}){let{exclusive:n}=r;return Rw(t,"max",i=>n?i<e:i<=e||"Expected a "+t.type+" greater than "+(n?"":"or equal to ")+e+" but received `"+i+"`")}function MQe(t,e,r={}){let{exclusive:n}=r;return Rw(t,"min",i=>n?i>e:i>=e||"Expected a "+t.type+" greater than "+(n?"":"or equal to ")+e+" but received `"+i+"`")}function kQe(t,e){return Rw(t,"pattern",r=>e.test(r)||"Expected a "+t.type+" matching `/"+e.source+'/` but received "'+r+'"')}function PQe(t,e,r=e){let n="Expected a "+t.type,i=e===r?"of `"+e+"`":"between `"+e+"` and `"+r+"`";return Rw(t,"size",o=>{if(typeof o=="number"||o instanceof Date)return e<=o&&o<=r||n+" "+i+" but received `"+o+"`";if(o instanceof Map||o instanceof Set){let{size:s}=o;return e<=s&&s<=r||n+" with a size "+i+" but received one with a size of `"+s+"`"}else{let{length:s}=o;return e<=s&&s<=r||n+" with a length "+i+" but received one with a length of `"+s+"`"}})}function Rw(t,e,r){return new Di({...t,*refiner(n,i){yield*t.refiner(n,i);let o=r(n,i),s=bH(o,i,t,n);for(let c of s)yield{...c,refinement:e}}})}zt.Struct=Di;zt.StructError=jk;zt.any=oQe;zt.array=sQe;zt.assert=gme;zt.assign=QZe;zt.boolean=aQe;zt.coerce=SH;zt.create=bme;zt.date=cQe;zt.defaulted=EQe;zt.define=au;zt.deprecated=JZe;zt.dynamic=XZe;zt.empty=TQe;zt.enums=uQe;zt.func=fQe;zt.instance=lQe;zt.integer=dQe;zt.intersection=hQe;zt.is=xH;zt.lazy=eQe;zt.literal=pQe;zt.map=mQe;zt.mask=vme;zt.max=IQe;zt.min=MQe;zt.never=wH;zt.nullable=yQe;zt.number=gQe;zt.object=f6;zt.omit=tQe;zt.optional=xme;zt.partial=rQe;zt.pattern=kQe;zt.pick=nQe;zt.record=bQe;zt.refine=Rw;zt.regexp=vQe;zt.set=xQe;zt.size=PQe;zt.string=wme;zt.struct=iQe;zt.trimmed=_Qe;zt.tuple=wQe;zt.type=SQe;zt.union=AQe;zt.unknown=Sme;zt.validate=Bw});var EH=V(AH=>{"use strict";d();h();Object.defineProperty(AH,"__esModule",{value:!0});AH.default=RQe;var zk,BQe=new Uint8Array(16);function RQe(){if(!zk&&(zk=typeof self.crypto<"u"&&self.crypto.getRandomValues&&self.crypto.getRandomValues.bind(self.crypto),!zk))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return zk(BQe)}});var Eme=V(Wk=>{"use strict";d();h();Object.defineProperty(Wk,"__esModule",{value:!0});Wk.default=void 0;var CQe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;Wk.default=CQe});var l6=V(Gk=>{"use strict";d();h();Object.defineProperty(Gk,"__esModule",{value:!0});Gk.default=void 0;var OQe=NQe(Eme());function NQe(t){return t&&t.__esModule?t:{default:t}}function DQe(t){return typeof t=="string"&&OQe.default.test(t)}var UQe=DQe;Gk.default=UQe});var h6=V(d6=>{"use strict";d();h();Object.defineProperty(d6,"__esModule",{value:!0});d6.default=void 0;d6.unsafeStringify=_me;var LQe=FQe(l6());function FQe(t){return t&&t.__esModule?t:{default:t}}var Ps=[];for(let t=0;t<256;++t)Ps.push((t+256).toString(16).slice(1));function _me(t,e=0){return Ps[t[e+0]]+Ps[t[e+1]]+Ps[t[e+2]]+Ps[t[e+3]]+"-"+Ps[t[e+4]]+Ps[t[e+5]]+"-"+Ps[t[e+6]]+Ps[t[e+7]]+"-"+Ps[t[e+8]]+Ps[t[e+9]]+"-"+Ps[t[e+10]]+Ps[t[e+11]]+Ps[t[e+12]]+Ps[t[e+13]]+Ps[t[e+14]]+Ps[t[e+15]]}function VQe(t,e=0){let r=_me(t,e);if(!(0,LQe.default)(r))throw TypeError("Stringified UUID is invalid");return r}var qQe=VQe;d6.default=qQe});var Ime=V($k=>{"use strict";d();h();Object.defineProperty($k,"__esModule",{value:!0});$k.default=void 0;var KQe=jQe(EH()),HQe=h6();function jQe(t){return t&&t.__esModule?t:{default:t}}var Tme,_H,TH=0,IH=0;function zQe(t,e,r){let n=e&&r||0,i=e||new Array(16);t=t||{};let o=t.node||Tme,s=t.clockseq!==void 0?t.clockseq:_H;if(o==null||s==null){let E=t.random||(t.rng||KQe.default)();o==null&&(o=Tme=[E[0]|1,E[1],E[2],E[3],E[4],E[5]]),s==null&&(s=_H=(E[6]<<8|E[7])&16383)}let c=t.msecs!==void 0?t.msecs:Date.now(),l=t.nsecs!==void 0?t.nsecs:IH+1,m=c-TH+(l-IH)/1e4;if(m<0&&t.clockseq===void 0&&(s=s+1&16383),(m<0||c>TH)&&t.nsecs===void 0&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");TH=c,IH=l,_H=s,c+=122192928e5;let w=((c&268435455)*1e4+l)%4294967296;i[n++]=w>>>24&255,i[n++]=w>>>16&255,i[n++]=w>>>8&255,i[n++]=w&255;let b=c/4294967296*1e4&268435455;i[n++]=b>>>8&255,i[n++]=b&255,i[n++]=b>>>24&15|16,i[n++]=b>>>16&255,i[n++]=s>>>8|128,i[n++]=s&255;for(let E=0;E<6;++E)i[n+E]=o[E];return e||(0,HQe.unsafeStringify)(i)}var WQe=zQe;$k.default=WQe});var MH=V(Yk=>{"use strict";d();h();Object.defineProperty(Yk,"__esModule",{value:!0});Yk.default=void 0;var GQe=$Qe(l6());function $Qe(t){return t&&t.__esModule?t:{default:t}}function YQe(t){if(!(0,GQe.default)(t))throw TypeError("Invalid UUID");let e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}var ZQe=YQe;Yk.default=ZQe});var kH=V(t1=>{"use strict";d();h();Object.defineProperty(t1,"__esModule",{value:!0});t1.URL=t1.DNS=void 0;t1.default=tJe;var QQe=h6(),JQe=XQe(MH());function XQe(t){return t&&t.__esModule?t:{default:t}}function eJe(t){t=unescape(encodeURIComponent(t));let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}var Mme="6ba7b810-9dad-11d1-80b4-00c04fd430c8";t1.DNS=Mme;var kme="6ba7b811-9dad-11d1-80b4-00c04fd430c8";t1.URL=kme;function tJe(t,e,r){function n(i,o,s,c){var l;if(typeof i=="string"&&(i=eJe(i)),typeof o=="string"&&(o=(0,JQe.default)(o)),((l=o)===null||l===void 0?void 0:l.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let m=new Uint8Array(16+i.length);if(m.set(o),m.set(i,o.length),m=r(m),m[6]=m[6]&15|e,m[8]=m[8]&63|128,s){c=c||0;for(let w=0;w<16;++w)s[c+w]=m[w];return s}return(0,QQe.unsafeStringify)(m)}try{n.name=t}catch{}return n.DNS=Mme,n.URL=kme,n}});var Bme=V(Qk=>{"use strict";d();h();Object.defineProperty(Qk,"__esModule",{value:!0});Qk.default=void 0;function rJe(t){if(typeof t=="string"){let e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(let r=0;r<e.length;++r)t[r]=e.charCodeAt(r)}return nJe(iJe(oJe(t),t.length*8))}function nJe(t){let e=[],r=t.length*32,n="0123456789abcdef";for(let i=0;i<r;i+=8){let o=t[i>>5]>>>i%32&255,s=parseInt(n.charAt(o>>>4&15)+n.charAt(o&15),16);e.push(s)}return e}function Pme(t){return(t+64>>>9<<4)+14+1}function iJe(t,e){t[e>>5]|=128<<e%32,t[Pme(e)-1]=e;let r=1732584193,n=-271733879,i=-1732584194,o=271733878;for(let s=0;s<t.length;s+=16){let c=r,l=n,m=i,w=o;r=fa(r,n,i,o,t[s],7,-680876936),o=fa(o,r,n,i,t[s+1],12,-389564586),i=fa(i,o,r,n,t[s+2],17,606105819),n=fa(n,i,o,r,t[s+3],22,-1044525330),r=fa(r,n,i,o,t[s+4],7,-176418897),o=fa(o,r,n,i,t[s+5],12,1200080426),i=fa(i,o,r,n,t[s+6],17,-1473231341),n=fa(n,i,o,r,t[s+7],22,-45705983),r=fa(r,n,i,o,t[s+8],7,1770035416),o=fa(o,r,n,i,t[s+9],12,-1958414417),i=fa(i,o,r,n,t[s+10],17,-42063),n=fa(n,i,o,r,t[s+11],22,-1990404162),r=fa(r,n,i,o,t[s+12],7,1804603682),o=fa(o,r,n,i,t[s+13],12,-40341101),i=fa(i,o,r,n,t[s+14],17,-1502002290),n=fa(n,i,o,r,t[s+15],22,1236535329),r=la(r,n,i,o,t[s+1],5,-165796510),o=la(o,r,n,i,t[s+6],9,-1069501632),i=la(i,o,r,n,t[s+11],14,643717713),n=la(n,i,o,r,t[s],20,-373897302),r=la(r,n,i,o,t[s+5],5,-701558691),o=la(o,r,n,i,t[s+10],9,38016083),i=la(i,o,r,n,t[s+15],14,-660478335),n=la(n,i,o,r,t[s+4],20,-405537848),r=la(r,n,i,o,t[s+9],5,568446438),o=la(o,r,n,i,t[s+14],9,-1019803690),i=la(i,o,r,n,t[s+3],14,-187363961),n=la(n,i,o,r,t[s+8],20,1163531501),r=la(r,n,i,o,t[s+13],5,-1444681467),o=la(o,r,n,i,t[s+2],9,-51403784),i=la(i,o,r,n,t[s+7],14,1735328473),n=la(n,i,o,r,t[s+12],20,-1926607734),r=da(r,n,i,o,t[s+5],4,-378558),o=da(o,r,n,i,t[s+8],11,-2022574463),i=da(i,o,r,n,t[s+11],16,1839030562),n=da(n,i,o,r,t[s+14],23,-35309556),r=da(r,n,i,o,t[s+1],4,-1530992060),o=da(o,r,n,i,t[s+4],11,1272893353),i=da(i,o,r,n,t[s+7],16,-155497632),n=da(n,i,o,r,t[s+10],23,-1094730640),r=da(r,n,i,o,t[s+13],4,681279174),o=da(o,r,n,i,t[s],11,-358537222),i=da(i,o,r,n,t[s+3],16,-722521979),n=da(n,i,o,r,t[s+6],23,76029189),r=da(r,n,i,o,t[s+9],4,-640364487),o=da(o,r,n,i,t[s+12],11,-421815835),i=da(i,o,r,n,t[s+15],16,530742520),n=da(n,i,o,r,t[s+2],23,-995338651),r=ha(r,n,i,o,t[s],6,-198630844),o=ha(o,r,n,i,t[s+7],10,1126891415),i=ha(i,o,r,n,t[s+14],15,-1416354905),n=ha(n,i,o,r,t[s+5],21,-57434055),r=ha(r,n,i,o,t[s+12],6,1700485571),o=ha(o,r,n,i,t[s+3],10,-1894986606),i=ha(i,o,r,n,t[s+10],15,-1051523),n=ha(n,i,o,r,t[s+1],21,-2054922799),r=ha(r,n,i,o,t[s+8],6,1873313359),o=ha(o,r,n,i,t[s+15],10,-30611744),i=ha(i,o,r,n,t[s+6],15,-1560198380),n=ha(n,i,o,r,t[s+13],21,1309151649),r=ha(r,n,i,o,t[s+4],6,-145523070),o=ha(o,r,n,i,t[s+11],10,-1120210379),i=ha(i,o,r,n,t[s+2],15,718787259),n=ha(n,i,o,r,t[s+9],21,-343485551),r=Am(r,c),n=Am(n,l),i=Am(i,m),o=Am(o,w)}return[r,n,i,o]}function oJe(t){if(t.length===0)return[];let e=t.length*8,r=new Uint32Array(Pme(e));for(let n=0;n<e;n+=8)r[n>>5]|=(t[n/8]&255)<<n%32;return r}function Am(t,e){let r=(t&65535)+(e&65535);return(t>>16)+(e>>16)+(r>>16)<<16|r&65535}function sJe(t,e){return t<<e|t>>>32-e}function Zk(t,e,r,n,i,o){return Am(sJe(Am(Am(e,t),Am(n,o)),i),r)}function fa(t,e,r,n,i,o,s){return Zk(e&r|~e&n,t,e,i,o,s)}function la(t,e,r,n,i,o,s){return Zk(e&n|r&~n,t,e,i,o,s)}function da(t,e,r,n,i,o,s){return Zk(e^r^n,t,e,i,o,s)}function ha(t,e,r,n,i,o,s){return Zk(r^(e|~n),t,e,i,o,s)}var aJe=rJe;Qk.default=aJe});var Cme=V(Jk=>{"use strict";d();h();Object.defineProperty(Jk,"__esModule",{value:!0});Jk.default=void 0;var cJe=Rme(kH()),uJe=Rme(Bme());function Rme(t){return t&&t.__esModule?t:{default:t}}var fJe=(0,cJe.default)("v3",48,uJe.default),lJe=fJe;Jk.default=lJe});var Ome=V(Xk=>{"use strict";d();h();Object.defineProperty(Xk,"__esModule",{value:!0});Xk.default=void 0;var dJe=typeof self.crypto<"u"&&self.crypto.randomUUID&&self.crypto.randomUUID.bind(self.crypto),hJe={randomUUID:dJe};Xk.default=hJe});var Ume=V(e7=>{"use strict";d();h();Object.defineProperty(e7,"__esModule",{value:!0});e7.default=void 0;var Nme=Dme(Ome()),pJe=Dme(EH()),mJe=h6();function Dme(t){return t&&t.__esModule?t:{default:t}}function yJe(t,e,r){if(Nme.default.randomUUID&&!e&&!t)return Nme.default.randomUUID();t=t||{};let n=t.random||(t.rng||pJe.default)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let i=0;i<16;++i)e[r+i]=n[i];return e}return(0,mJe.unsafeStringify)(n)}var gJe=yJe;e7.default=gJe});var Lme=V(t7=>{"use strict";d();h();Object.defineProperty(t7,"__esModule",{value:!0});t7.default=void 0;function bJe(t,e,r,n){switch(t){case 0:return e&r^~e&n;case 1:return e^r^n;case 2:return e&r^e&n^r&n;case 3:return e^r^n}}function PH(t,e){return t<<e|t>>>32-e}function vJe(t){let e=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){let s=unescape(encodeURIComponent(t));t=[];for(let c=0;c<s.length;++c)t.push(s.charCodeAt(c))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);let n=t.length/4+2,i=Math.ceil(n/16),o=new Array(i);for(let s=0;s<i;++s){let c=new Uint32Array(16);for(let l=0;l<16;++l)c[l]=t[s*64+l*4]<<24|t[s*64+l*4+1]<<16|t[s*64+l*4+2]<<8|t[s*64+l*4+3];o[s]=c}o[i-1][14]=(t.length-1)*8/Math.pow(2,32),o[i-1][14]=Math.floor(o[i-1][14]),o[i-1][15]=(t.length-1)*8&4294967295;for(let s=0;s<i;++s){let c=new Uint32Array(80);for(let I=0;I<16;++I)c[I]=o[s][I];for(let I=16;I<80;++I)c[I]=PH(c[I-3]^c[I-8]^c[I-14]^c[I-16],1);let l=r[0],m=r[1],w=r[2],b=r[3],E=r[4];for(let I=0;I<80;++I){let M=Math.floor(I/20),k=PH(l,5)+bJe(M,m,w,b)+E+e[M]+c[I]>>>0;E=b,b=w,w=PH(m,30)>>>0,m=l,l=k}r[0]=r[0]+l>>>0,r[1]=r[1]+m>>>0,r[2]=r[2]+w>>>0,r[3]=r[3]+b>>>0,r[4]=r[4]+E>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var xJe=vJe;t7.default=xJe});var Vme=V(r7=>{"use strict";d();h();Object.defineProperty(r7,"__esModule",{value:!0});r7.default=void 0;var wJe=Fme(kH()),SJe=Fme(Lme());function Fme(t){return t&&t.__esModule?t:{default:t}}var AJe=(0,wJe.default)("v5",80,SJe.default),EJe=AJe;r7.default=EJe});var qme=V(n7=>{"use strict";d();h();Object.defineProperty(n7,"__esModule",{value:!0});n7.default=void 0;var _Je="00000000-0000-0000-0000-000000000000";n7.default=_Je});var Kme=V(i7=>{"use strict";d();h();Object.defineProperty(i7,"__esModule",{value:!0});i7.default=void 0;var TJe=IJe(l6());function IJe(t){return t&&t.__esModule?t:{default:t}}function MJe(t){if(!(0,TJe.default)(t))throw TypeError("Invalid UUID");return parseInt(t.slice(14,15),16)}var kJe=MJe;i7.default=kJe});var BH=V(Sl=>{"use strict";d();h();Object.defineProperty(Sl,"__esModule",{value:!0});Object.defineProperty(Sl,"NIL",{enumerable:!0,get:function(){return OJe.default}});Object.defineProperty(Sl,"parse",{enumerable:!0,get:function(){return LJe.default}});Object.defineProperty(Sl,"stringify",{enumerable:!0,get:function(){return UJe.default}});Object.defineProperty(Sl,"v1",{enumerable:!0,get:function(){return PJe.default}});Object.defineProperty(Sl,"v3",{enumerable:!0,get:function(){return BJe.default}});Object.defineProperty(Sl,"v4",{enumerable:!0,get:function(){return RJe.default}});Object.defineProperty(Sl,"v5",{enumerable:!0,get:function(){return CJe.default}});Object.defineProperty(Sl,"validate",{enumerable:!0,get:function(){return DJe.default}});Object.defineProperty(Sl,"version",{enumerable:!0,get:function(){return NJe.default}});var PJe=m0(Ime()),BJe=m0(Cme()),RJe=m0(Ume()),CJe=m0(Vme()),OJe=m0(qme()),NJe=m0(Kme()),DJe=m0(l6()),UJe=m0(h6()),LJe=m0(MH());function m0(t){return t&&t.__esModule?t:{default:t}}});var jme=V((O$t,Hme)=>{"use strict";d();h();var FJe=BH().v4,VJe=function(t,e,r,n){if(typeof t!="string")throw new TypeError(t+" must be a string");n=n||{};let i=typeof n.version=="number"?n.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");let o={method:t};if(i===2&&(o.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");o.params=e}if(typeof r>"u"){let s=typeof n.generator=="function"?n.generator:function(){return FJe()};o.id=s(o,n)}else i===2&&r===null?n.notificationIdNull&&(o.id=null):o.id=r;return o};Hme.exports=VJe});var Wme=V((U$t,zme)=>{"use strict";d();h();var qJe=BH().v4,KJe=jme(),p6=function(t,e){if(!(this instanceof p6))return new p6(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return qJe()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t};zme.exports=p6;p6.prototype.request=function(t,e,r,n){let i=this,o=null,s=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&s)throw new TypeError("JSON-RPC 1.0 does not support batching");if(s||!s&&t&&typeof t=="object"&&typeof e=="function")n=e,o=t;else{typeof r=="function"&&(n=r,r=void 0);let m=typeof n=="function";try{o=KJe(t,e,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(w){if(m)return n(w);throw w}if(!m)return o}let l;try{l=JSON.stringify(o,this.options.replacer)}catch(m){return n(m)}return this.callServer(l,function(m,w){i._parseResponse(m,w,n)}),o};p6.prototype._parseResponse=function(t,e,r){if(t){r(t);return}if(!e)return r();let n;try{n=JSON.parse(e,this.options.reviver)}catch(i){return r(i)}if(r.length===3)if(Array.isArray(n)){let i=function(s){return typeof s.error<"u"},o=function(s){return!i(s)};return r(null,n.filter(i),n.filter(o))}else return r(null,n.error,n.result);r(null,n)}});var Cw=V((V$t,y0)=>{d();h();function RH(t){"@babel/helpers - typeof";return y0.exports=RH=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y0.exports.__esModule=!0,y0.exports.default=y0.exports,RH(t)}y0.exports=RH,y0.exports.__esModule=!0,y0.exports.default=y0.exports});var $me=V((H$t,g0)=>{d();h();var HJe=Cw().default;function Gme(){"use strict";g0.exports=Gme=function(){return t},g0.exports.__esModule=!0,g0.exports.default=g0.exports;var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(f,p,y){f[p]=y.value},i=typeof Symbol=="function"?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(f,p,y){return Object.defineProperty(f,p,{value:y,enumerable:!0,configurable:!0,writable:!0}),f[p]}try{l({},"")}catch{l=function(y,g,A){return y[g]=A}}function m(f,p,y,g){var A=p&&p.prototype instanceof E?p:E,_=Object.create(A.prototype),v=new ie(g||[]);return n(_,"_invoke",{value:q(f,y,v)}),_}function w(f,p,y){try{return{type:"normal",arg:f.call(p,y)}}catch(g){return{type:"throw",arg:g}}}t.wrap=m;var b={};function E(){}function I(){}function M(){}var k={};l(k,o,function(){return this});var R=Object.getPrototypeOf,B=R&&R(R(S([])));B&&B!==e&&r.call(B,o)&&(k=B);var U=M.prototype=E.prototype=Object.create(k);function P(f){["next","throw","return"].forEach(function(p){l(f,p,function(y){return this._invoke(p,y)})})}function F(f,p){function y(A,_,v,u){var x=w(f[A],f,_);if(x.type!=="throw"){var L=x.arg,D=L.value;return D&&HJe(D)=="object"&&r.call(D,"__await")?p.resolve(D.__await).then(function(C){y("next",C,v,u)},function(C){y("throw",C,v,u)}):p.resolve(D).then(function(C){L.value=C,v(L)},function(C){return y("throw",C,v,u)})}u(x.arg)}var g;n(this,"_invoke",{value:function(_,v){function u(){return new p(function(x,L){y(_,v,x,L)})}return g=g?g.then(u,u):u()}})}function q(f,p,y){var g="suspendedStart";return function(A,_){if(g==="executing")throw new Error("Generator is already running");if(g==="completed"){if(A==="throw")throw _;return a()}for(y.method=A,y.arg=_;;){var v=y.delegate;if(v){var u=K(v,y);if(u){if(u===b)continue;return u}}if(y.method==="next")y.sent=y._sent=y.arg;else if(y.method==="throw"){if(g==="suspendedStart")throw g="completed",y.arg;y.dispatchException(y.arg)}else y.method==="return"&&y.abrupt("return",y.arg);g="executing";var x=w(f,p,y);if(x.type==="normal"){if(g=y.done?"completed":"suspendedYield",x.arg===b)continue;return{value:x.arg,done:y.done}}x.type==="throw"&&(g="completed",y.method="throw",y.arg=x.arg)}}}function K(f,p){var y=p.method,g=f.iterator[y];if(g===void 0)return p.delegate=null,y==="throw"&&f.iterator.return&&(p.method="return",p.arg=void 0,K(f,p),p.method==="throw")||y!=="return"&&(p.method="throw",p.arg=new TypeError("The iterator does not provide a '"+y+"' method")),b;var A=w(g,f.iterator,p.arg);if(A.type==="throw")return p.method="throw",p.arg=A.arg,p.delegate=null,b;var _=A.arg;return _?_.done?(p[f.resultName]=_.value,p.next=f.nextLoc,p.method!=="return"&&(p.method="next",p.arg=void 0),p.delegate=null,b):_:(p.method="throw",p.arg=new TypeError("iterator result is not an object"),p.delegate=null,b)}function re(f){var p={tryLoc:f[0]};1 in f&&(p.catchLoc=f[1]),2 in f&&(p.finallyLoc=f[2],p.afterLoc=f[3]),this.tryEntries.push(p)}function Q(f){var p=f.completion||{};p.type="normal",delete p.arg,f.completion=p}function ie(f){this.tryEntries=[{tryLoc:"root"}],f.forEach(re,this),this.reset(!0)}function S(f){if(f){var p=f[o];if(p)return p.call(f);if(typeof f.next=="function")return f;if(!isNaN(f.length)){var y=-1,g=function A(){for(;++y<f.length;)if(r.call(f,y))return A.value=f[y],A.done=!1,A;return A.value=void 0,A.done=!0,A};return g.next=g}}return{next:a}}function a(){return{value:void 0,done:!0}}return I.prototype=M,n(U,"constructor",{value:M,configurable:!0}),n(M,"constructor",{value:I,configurable:!0}),I.displayName=l(M,c,"GeneratorFunction"),t.isGeneratorFunction=function(f){var p=typeof f=="function"&&f.constructor;return!!p&&(p===I||(p.displayName||p.name)==="GeneratorFunction")},t.mark=function(f){return Object.setPrototypeOf?Object.setPrototypeOf(f,M):(f.__proto__=M,l(f,c,"GeneratorFunction")),f.prototype=Object.create(U),f},t.awrap=function(f){return{__await:f}},P(F.prototype),l(F.prototype,s,function(){return this}),t.AsyncIterator=F,t.async=function(f,p,y,g,A){A===void 0&&(A=Promise);var _=new F(m(f,p,y,g),A);return t.isGeneratorFunction(p)?_:_.next().then(function(v){return v.done?v.value:_.next()})},P(U),l(U,c,"Generator"),l(U,o,function(){return this}),l(U,"toString",function(){return"[object Generator]"}),t.keys=function(f){var p=Object(f),y=[];for(var g in p)y.push(g);return y.reverse(),function A(){for(;y.length;){var _=y.pop();if(_ in p)return A.value=_,A.done=!1,A}return A.done=!0,A}},t.values=S,ie.prototype={constructor:ie,reset:function(p){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(Q),!p)for(var y in this)y.charAt(0)==="t"&&r.call(this,y)&&!isNaN(+y.slice(1))&&(this[y]=void 0)},stop:function(){this.done=!0;var p=this.tryEntries[0].completion;if(p.type==="throw")throw p.arg;return this.rval},dispatchException:function(p){if(this.done)throw p;var y=this;function g(L,D){return v.type="throw",v.arg=p,y.next=L,D&&(y.method="next",y.arg=void 0),!!D}for(var A=this.tryEntries.length-1;A>=0;--A){var _=this.tryEntries[A],v=_.completion;if(_.tryLoc==="root")return g("end");if(_.tryLoc<=this.prev){var u=r.call(_,"catchLoc"),x=r.call(_,"finallyLoc");if(u&&x){if(this.prev<_.catchLoc)return g(_.catchLoc,!0);if(this.prev<_.finallyLoc)return g(_.finallyLoc)}else if(u){if(this.prev<_.catchLoc)return g(_.catchLoc,!0)}else{if(!x)throw new Error("try statement without catch or finally");if(this.prev<_.finallyLoc)return g(_.finallyLoc)}}}},abrupt:function(p,y){for(var g=this.tryEntries.length-1;g>=0;--g){var A=this.tryEntries[g];if(A.tryLoc<=this.prev&&r.call(A,"finallyLoc")&&this.prev<A.finallyLoc){var _=A;break}}_&&(p==="break"||p==="continue")&&_.tryLoc<=y&&y<=_.finallyLoc&&(_=null);var v=_?_.completion:{};return v.type=p,v.arg=y,_?(this.method="next",this.next=_.finallyLoc,b):this.complete(v)},complete:function(p,y){if(p.type==="throw")throw p.arg;return p.type==="break"||p.type==="continue"?this.next=p.arg:p.type==="return"?(this.rval=this.arg=p.arg,this.method="return",this.next="end"):p.type==="normal"&&y&&(this.next=y),b},finish:function(p){for(var y=this.tryEntries.length-1;y>=0;--y){var g=this.tryEntries[y];if(g.finallyLoc===p)return this.complete(g.completion,g.afterLoc),Q(g),b}},catch:function(p){for(var y=this.tryEntries.length-1;y>=0;--y){var g=this.tryEntries[y];if(g.tryLoc===p){var A=g.completion;if(A.type==="throw"){var _=A.arg;Q(g)}return _}}throw new Error("illegal catch attempt")},delegateYield:function(p,y,g){return this.delegate={iterator:S(p),resultName:y,nextLoc:g},this.method==="next"&&(this.arg=void 0),b}},t}g0.exports=Gme,g0.exports.__esModule=!0,g0.exports.default=g0.exports});var Zme=V((W$t,Yme)=>{d();h();var o7=$me()();Yme.exports=o7;try{regeneratorRuntime=o7}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=o7:Function("r","regeneratorRuntime = r")(o7)}});var Jme=V((Y$t,m6)=>{d();h();function Qme(t,e,r,n,i,o,s){try{var c=t[o](s),l=c.value}catch(m){r(m);return}c.done?e(l):Promise.resolve(l).then(n,i)}function jJe(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function s(l){Qme(o,n,i,s,c,"next",l)}function c(l){Qme(o,n,i,s,c,"throw",l)}s(void 0)})}}m6.exports=jJe,m6.exports.__esModule=!0,m6.exports.default=m6.exports});var CH=V((J$t,y6)=>{d();h();function zJe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}y6.exports=zJe,y6.exports.__esModule=!0,y6.exports.default=y6.exports});var eye=V((tYt,g6)=>{d();h();var Xme=Cw().default;function WJe(t,e){if(Xme(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Xme(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}g6.exports=WJe,g6.exports.__esModule=!0,g6.exports.default=g6.exports});var tye=V((iYt,b6)=>{d();h();var GJe=Cw().default,$Je=eye();function YJe(t){var e=$Je(t,"string");return GJe(e)==="symbol"?e:String(e)}b6.exports=YJe,b6.exports.__esModule=!0,b6.exports.default=b6.exports});var OH=V((aYt,v6)=>{d();h();var ZJe=tye();function rye(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ZJe(n.key),n)}}function QJe(t,e,r){return e&&rye(t.prototype,e),r&&rye(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}v6.exports=QJe,v6.exports.__esModule=!0,v6.exports.default=v6.exports});var nye=V((fYt,b0)=>{d();h();function NH(t,e){return b0.exports=NH=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},b0.exports.__esModule=!0,b0.exports.default=b0.exports,NH(t,e)}b0.exports=NH,b0.exports.__esModule=!0,b0.exports.default=b0.exports});var DH=V((hYt,x6)=>{d();h();var JJe=nye();function XJe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JJe(t,e)}x6.exports=XJe,x6.exports.__esModule=!0,x6.exports.default=x6.exports});var iye=V((yYt,w6)=>{d();h();function eXe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}w6.exports=eXe,w6.exports.__esModule=!0,w6.exports.default=w6.exports});var UH=V((vYt,S6)=>{d();h();var tXe=Cw().default,rXe=iye();function nXe(t,e){if(e&&(tXe(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rXe(t)}S6.exports=nXe,S6.exports.__esModule=!0,S6.exports.default=S6.exports});var FH=V((SYt,v0)=>{d();h();function LH(t){return v0.exports=LH=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},v0.exports.__esModule=!0,v0.exports.default=v0.exports,LH(t)}v0.exports=LH,v0.exports.__esModule=!0,v0.exports.default=v0.exports});var sye=V(a7=>{"use strict";d();h();var _m=Wse();Object.defineProperty(a7,"__esModule",{value:!0});a7.default=void 0;var Em=_m(Zme()),s7=_m(Jme()),iXe=_m(Cw()),oXe=_m(CH()),sXe=_m(OH()),aXe=_m(DH()),cXe=_m(UH()),oye=_m(FH()),uXe=Gse();function fXe(t){var e=lXe();return function(){var n=(0,oye.default)(t),i;if(e){var o=(0,oye.default)(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return(0,cXe.default)(this,i)}}function lXe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var dXe=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r},hXe=function(t){(0,aXe.default)(r,t);var e=fXe(r);function r(n){var i,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ws://localhost:8080",s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},c=arguments.length>3?arguments[3]:void 0;(0,oXe.default)(this,r);var l=s.autoconnect,m=l===void 0?!0:l,w=s.reconnect,b=w===void 0?!0:w,E=s.reconnect_interval,I=E===void 0?1e3:E,M=s.max_reconnects,k=M===void 0?5:M,R=dXe(s,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return i=e.call(this),i.webSocketFactory=n,i.queue={},i.rpc_id=0,i.address=o,i.autoconnect=m,i.ready=!1,i.reconnect=b,i.reconnect_timer_id=void 0,i.reconnect_interval=I,i.max_reconnects=k,i.rest_options=R,i.current_reconnects=0,i.generate_request_id=c||function(){return++i.rpc_id},i.autoconnect&&i._connect(i.address,Object.assign({autoconnect:i.autoconnect,reconnect:i.reconnect,reconnect_interval:i.reconnect_interval,max_reconnects:i.max_reconnects},i.rest_options)),i}return(0,sXe.default)(r,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(i,o,s,c){var l=this;return!c&&(0,iXe.default)(s)==="object"&&(c=s,s=null),new Promise(function(m,w){if(!l.ready)return w(new Error("socket not ready"));var b=l.generate_request_id(i,o),E={jsonrpc:"2.0",method:i,params:o||null,id:b};l.socket.send(JSON.stringify(E),c,function(I){if(I)return w(I);l.queue[b]={promise:[m,w]},s&&(l.queue[b].timeout=setTimeout(function(){delete l.queue[b],w(new Error("reply timeout"))},s))})})}},{key:"login",value:function(){var n=(0,s7.default)(Em.default.mark(function o(s){var c;return Em.default.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,this.call("rpc.login",s);case 2:if(c=m.sent,c){m.next=5;break}throw new Error("authentication failed");case 5:return m.abrupt("return",c);case 6:case"end":return m.stop()}},o,this)}));function i(o){return n.apply(this,arguments)}return i}()},{key:"listMethods",value:function(){var n=(0,s7.default)(Em.default.mark(function o(){return Em.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,this.call("__listMethods");case 2:return c.abrupt("return",c.sent);case 3:case"end":return c.stop()}},o,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"notify",value:function(i,o){var s=this;return new Promise(function(c,l){if(!s.ready)return l(new Error("socket not ready"));var m={jsonrpc:"2.0",method:i,params:o||null};s.socket.send(JSON.stringify(m),function(w){if(w)return l(w);c()})})}},{key:"subscribe",value:function(){var n=(0,s7.default)(Em.default.mark(function o(s){var c;return Em.default.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return typeof s=="string"&&(s=[s]),m.next=3,this.call("rpc.on",s);case 3:if(c=m.sent,!(typeof s=="string"&&c[s]!=="ok")){m.next=6;break}throw new Error("Failed subscribing to an event '"+s+"' with: "+c[s]);case 6:return m.abrupt("return",c);case 7:case"end":return m.stop()}},o,this)}));function i(o){return n.apply(this,arguments)}return i}()},{key:"unsubscribe",value:function(){var n=(0,s7.default)(Em.default.mark(function o(s){var c;return Em.default.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return typeof s=="string"&&(s=[s]),m.next=3,this.call("rpc.off",s);case 3:if(c=m.sent,!(typeof s=="string"&&c[s]!=="ok")){m.next=6;break}throw new Error("Failed unsubscribing from an event with: "+c);case 6:return m.abrupt("return",c);case 7:case"end":return m.stop()}},o,this)}));function i(o){return n.apply(this,arguments)}return i}()},{key:"close",value:function(i,o){this.socket.close(i||1e3,o)}},{key:"_connect",value:function(i,o){var s=this;clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(i,o),this.socket.addEventListener("open",function(){s.ready=!0,s.emit("open"),s.current_reconnects=0}),this.socket.addEventListener("message",function(c){var l=c.data;l instanceof ArrayBuffer&&(l=Buffer.from(l).toString());try{l=JSON.parse(l)}catch{return}if(l.notification&&s.listeners(l.notification).length){if(!Object.keys(l.params).length)return s.emit(l.notification);var m=[l.notification];if(l.params.constructor===Object)m.push(l.params);else for(var w=0;w<l.params.length;w++)m.push(l.params[w]);return Promise.resolve().then(function(){s.emit.apply(s,m)})}if(!s.queue[l.id])return l.method&&l.params?Promise.resolve().then(function(){s.emit(l.method,l.params)}):void 0;"error"in l=="result"in l&&s.queue[l.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),s.queue[l.id].timeout&&clearTimeout(s.queue[l.id].timeout),l.error?s.queue[l.id].promise[1](l.error):s.queue[l.id].promise[0](l.result),delete s.queue[l.id]}),this.socket.addEventListener("error",function(c){return s.emit("error",c)}),this.socket.addEventListener("close",function(c){var l=c.code,m=c.reason;s.ready&&setTimeout(function(){return s.emit("close",l,m)},0),s.ready=!1,s.socket=void 0,l!==1e3&&(s.current_reconnects++,s.reconnect&&(s.max_reconnects>s.current_reconnects||s.max_reconnects===0)&&(s.reconnect_timer_id=setTimeout(function(){return s._connect(i,o)},s.reconnect_interval)))})}}]),r}(uXe.EventEmitter);a7.default=hXe});var cye=V(VH=>{"use strict";d();h();var A6=Wse();Object.defineProperty(VH,"__esModule",{value:!0});VH.default=SXe;var pXe=A6(CH()),mXe=A6(OH()),yXe=A6(DH()),gXe=A6(UH()),aye=A6(FH()),bXe=Gse();function vXe(t){var e=xXe();return function(){var n=(0,aye.default)(t),i;if(e){var o=(0,aye.default)(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return(0,gXe.default)(this,i)}}function xXe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var wXe=function(t){(0,yXe.default)(r,t);var e=vXe(r);function r(n,i,o){var s;return(0,pXe.default)(this,r),s=e.call(this),s.socket=new self.WebSocket(n,o),s.socket.onopen=function(){return s.emit("open")},s.socket.onmessage=function(c){return s.emit("message",c.data)},s.socket.onerror=function(c){return s.emit("error",c)},s.socket.onclose=function(c){s.emit("close",c.code,c.reason)},s}return(0,mXe.default)(r,[{key:"send",value:function(i,o,s){var c=s||o;try{this.socket.send(i),c()}catch(l){c(l)}}},{key:"close",value:function(i,o){this.socket.close(i,o)}},{key:"addEventListener",value:function(i,o,s){this.socket.addEventListener(i,o,s)}}]),r}(bXe.EventEmitter);function SXe(t,e){return new wXe(t,e)}});var yye=V(ai=>{"use strict";d();h();Object.defineProperty(ai,"__esModule",{value:!0});ai.shake256=ai.shake128=ai.keccak_512=ai.keccak_384=ai.keccak_256=ai.keccak_224=ai.sha3_512=ai.sha3_384=ai.sha3_256=ai.sha3_224=ai.Keccak=ai.keccakP=void 0;var Ow=SI(),T6=aV(),_6=Lx(),[lye,dye,hye]=[[],[],[]],AXe=BigInt(0),E6=BigInt(1),EXe=BigInt(2),_Xe=BigInt(7),TXe=BigInt(256),IXe=BigInt(113);for(let t=0,e=E6,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],lye.push(2*(5*n+r)),dye.push((t+1)*(t+2)/2%64);let i=AXe;for(let o=0;o<7;o++)e=(e<<E6^(e>>_Xe)*IXe)%TXe,e&EXe&&(i^=E6<<(E6<<BigInt(o))-E6);hye.push(i)}var[MXe,kXe]=T6.default.split(hye,!0),uye=(t,e,r)=>r>32?T6.default.rotlBH(t,e,r):T6.default.rotlSH(t,e,r),fye=(t,e,r)=>r>32?T6.default.rotlBL(t,e,r):T6.default.rotlSL(t,e,r);function pye(t,e=24){let r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let s=0;s<10;s++)r[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){let c=(s+8)%10,l=(s+2)%10,m=r[l],w=r[l+1],b=uye(m,w,1)^r[c],E=fye(m,w,1)^r[c+1];for(let I=0;I<50;I+=10)t[s+I]^=b,t[s+I+1]^=E}let i=t[2],o=t[3];for(let s=0;s<24;s++){let c=dye[s],l=uye(i,o,c),m=fye(i,o,c),w=lye[s];i=t[w],o=t[w+1],t[w]=l,t[w+1]=m}for(let s=0;s<50;s+=10){for(let c=0;c<10;c++)r[c]=t[s+c];for(let c=0;c<10;c++)t[s+c]^=~r[(c+2)%10]&r[(c+4)%10]}t[0]^=MXe[n],t[1]^=kXe[n]}r.fill(0)}ai.keccakP=pye;var I6=class t extends _6.Hash{constructor(e,r,n,i=!1,o=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Ow.default.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,_6.u32)(this.state)}keccak(){pye(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Ow.default.exists(this);let{blockLen:r,state:n}=this;e=(0,_6.toBytes)(e);let i=e.length;for(let o=0;o<i;){let s=Math.min(r-this.pos,i-o);for(let c=0;c<s;c++)n[this.pos++]^=e[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Ow.default.exists(this,!1),Ow.default.bytes(e),this.finish();let r=this.state,{blockLen:n}=this;for(let i=0,o=e.length;i<o;){this.posOut>=n&&this.keccak();let s=Math.min(n-this.posOut,o-i);e.set(r.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Ow.default.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Ow.default.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:r,suffix:n,outputLen:i,rounds:o,enableXOF:s}=this;return e||(e=new t(r,n,i,s,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=n,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}};ai.Keccak=I6;var Tm=(t,e,r)=>(0,_6.wrapConstructor)(()=>new I6(e,t,r));ai.sha3_224=Tm(6,144,224/8);ai.sha3_256=Tm(6,136,256/8);ai.sha3_384=Tm(6,104,384/8);ai.sha3_512=Tm(6,72,512/8);ai.keccak_224=Tm(1,144,224/8);ai.keccak_256=Tm(1,136,256/8);ai.keccak_384=Tm(1,104,384/8);ai.keccak_512=Tm(1,72,512/8);var mye=(t,e,r)=>(0,_6.wrapConstructorWithOpts)((n={})=>new I6(e,t,n.dkLen===void 0?r:n.dkLen,!0));ai.shake128=mye(31,168,128/8);ai.shake256=mye(31,136,256/8)});var bye=V(M6=>{"use strict";d();h();Object.defineProperty(M6,"__esModule",{value:!0});M6.hmac=void 0;var c7=SI(),gye=Lx(),u7=class extends gye.Hash{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,c7.default.hash(e);let n=(0,gye.toBytes)(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?e.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(e){return c7.default.exists(this),this.iHash.update(e),this}digestInto(e){c7.default.exists(this),c7.default.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:c}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=c,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},PXe=(t,e,r)=>new u7(t,e).update(r).digest();M6.hmac=PXe;M6.hmac.create=(t,e)=>new u7(t,e)});var jH=V(qr=>{"use strict";d();h();Object.defineProperty(qr,"__esModule",{value:!0});qr.utils=qr.schnorr=qr.verify=qr.signSync=qr.sign=qr.getSharedSecret=qr.recoverPublicKey=qr.getPublicKey=qr.Signature=qr.Point=qr.CURVE=void 0;var BXe=om(),Zr=BigInt(0),pi=BigInt(1),km=BigInt(2),P6=BigInt(3),vye=BigInt(8),Yn=Object.freeze({a:Zr,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:pi,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")});qr.CURVE=Yn;var xye=(t,e)=>(t+e/km)/e,f7={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(t){let{n:e}=Yn,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-pi*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,s=BigInt("0x100000000000000000000000000000000"),c=xye(o*t,e),l=xye(-n*t,e),m=xt(t-c*r-l*i,e),w=xt(-c*n-l*o,e),b=m>s,E=w>s;if(b&&(m=e-m),E&&(w=e-w),m>s||w>s)throw new Error("splitScalarEndo: Endomorphism failed, k="+t);return{k1neg:b,k1:m,k2neg:E,k2:w}}},Al=32,n1=32,Iye=32,m7=Al+1,y7=2*Al+1;function wye(t){let{a:e,b:r}=Yn,n=xt(t*t),i=xt(n*t);return xt(i+e*t+r)}var l7=Yn.a===Zr,R6=class extends Error{constructor(e){super(e)}};function Sye(t){if(!(t instanceof ja))throw new TypeError("JacobianPoint expected")}var ja=class t{constructor(e,r,n){this.x=e,this.y=r,this.z=n}static fromAffine(e){if(!(e instanceof ci))throw new TypeError("JacobianPoint#fromAffine: expected Point");return e.equals(ci.ZERO)?t.ZERO:new t(e.x,e.y,pi)}static toAffineBatch(e){let r=DXe(e.map(n=>n.z));return e.map((n,i)=>n.toAffine(r[i]))}static normalizeZ(e){return t.toAffineBatch(e).map(t.fromAffine)}equals(e){Sye(e);let{x:r,y:n,z:i}=this,{x:o,y:s,z:c}=e,l=xt(i*i),m=xt(c*c),w=xt(r*m),b=xt(o*l),E=xt(xt(n*c)*m),I=xt(xt(s*i)*l);return w===b&&E===I}negate(){return new t(this.x,xt(-this.y),this.z)}double(){let{x:e,y:r,z:n}=this,i=xt(e*e),o=xt(r*r),s=xt(o*o),c=e+o,l=xt(km*(xt(c*c)-i-s)),m=xt(P6*i),w=xt(m*m),b=xt(w-km*l),E=xt(m*(l-b)-vye*s),I=xt(km*r*n);return new t(b,E,I)}add(e){Sye(e);let{x:r,y:n,z:i}=this,{x:o,y:s,z:c}=e;if(o===Zr||s===Zr)return this;if(r===Zr||n===Zr)return e;let l=xt(i*i),m=xt(c*c),w=xt(r*m),b=xt(o*l),E=xt(xt(n*c)*m),I=xt(xt(s*i)*l),M=xt(b-w),k=xt(I-E);if(M===Zr)return k===Zr?this.double():t.ZERO;let R=xt(M*M),B=xt(M*R),U=xt(w*R),P=xt(k*k-B-km*U),F=xt(k*(U-P)-E*B),q=xt(i*c*M);return new t(P,F,q)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){let r=t.ZERO;if(typeof e=="bigint"&&e===Zr)return r;let n=_ye(e);if(n===pi)return this;if(!l7){let b=r,E=this;for(;n>Zr;)n&pi&&(b=b.add(E)),E=E.double(),n>>=pi;return b}let{k1neg:i,k1:o,k2neg:s,k2:c}=f7.splitScalar(n),l=r,m=r,w=this;for(;o>Zr||c>Zr;)o&pi&&(l=l.add(w)),c&pi&&(m=m.add(w)),w=w.double(),o>>=pi,c>>=pi;return i&&(l=l.negate()),s&&(m=m.negate()),m=new t(xt(m.x*f7.beta),m.y,m.z),l.add(m)}precomputeWindow(e){let r=l7?128/e+1:256/e+1,n=[],i=this,o=i;for(let s=0;s<r;s++){o=i,n.push(o);for(let c=1;c<2**(e-1);c++)o=o.add(i),n.push(o);i=o.double()}return n}wNAF(e,r){!r&&this.equals(t.BASE)&&(r=ci.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=r&&qH.get(r);i||(i=this.precomputeWindow(n),r&&n!==1&&(i=t.normalizeZ(i),qH.set(r,i)));let o=t.ZERO,s=t.BASE,c=1+(l7?128/n:256/n),l=2**(n-1),m=BigInt(2**n-1),w=2**n,b=BigInt(n);for(let E=0;E<c;E++){let I=E*l,M=Number(e&m);e>>=b,M>l&&(M-=w,e+=pi);let k=I,R=I+Math.abs(M)-1,B=E%2!==0,U=M<0;M===0?s=s.add(d7(B,i[k])):o=o.add(d7(U,i[R]))}return{p:o,f:s}}multiply(e,r){let n=_ye(e),i,o;if(l7){let{k1neg:s,k1:c,k2neg:l,k2:m}=f7.splitScalar(n),{p:w,f:b}=this.wNAF(c,r),{p:E,f:I}=this.wNAF(m,r);w=d7(s,w),E=d7(l,E),E=new t(xt(E.x*f7.beta),E.y,E.z),i=w.add(E),o=b.add(I)}else{let{p:s,f:c}=this.wNAF(n,r);i=s,o=c}return t.normalizeZ([i,o])[0]}toAffine(e){let{x:r,y:n,z:i}=this,o=this.equals(t.ZERO);e==null&&(e=o?vye:Vw(i));let s=e,c=xt(s*s),l=xt(c*s),m=xt(r*c),w=xt(n*l),b=xt(i*s);if(o)return ci.ZERO;if(b!==pi)throw new Error("invZ was invalid");return new ci(m,w)}};ja.BASE=new ja(Yn.Gx,Yn.Gy,pi);ja.ZERO=new ja(Zr,pi,Zr);function d7(t,e){let r=e.negate();return t?r:e}var qH=new WeakMap,ci=class t{constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,qH.delete(this)}hasEvenY(){return this.y%km===Zr}static fromCompressedHex(e){let r=e.length===32,n=uu(r?e:e.subarray(1));if(!p7(n))throw new Error("Point is not on curve");let i=wye(n),o=NXe(i),s=(o&pi)===pi;r?s&&(o=xt(-o)):(e[0]&1)===1!==s&&(o=xt(-o));let c=new t(n,o);return c.assertValidity(),c}static fromUncompressedHex(e){let r=uu(e.subarray(1,Al+1)),n=uu(e.subarray(Al+1,Al*2+1)),i=new t(r,n);return i.assertValidity(),i}static fromHex(e){let r=Ld(e),n=r.length,i=r[0];if(n===Al)return this.fromCompressedHex(r);if(n===m7&&(i===2||i===3))return this.fromCompressedHex(r);if(n===y7&&i===4)return this.fromUncompressedHex(r);throw new Error(`Point.fromHex: received invalid point. Expected 32-${m7} compressed bytes or ${y7} uncompressed bytes, not ${n}`)}static fromPrivateKey(e){return t.BASE.multiply(i1(e))}static fromSignature(e,r,n){let{r:i,s:o}=kye(r);if(![0,1,2,3].includes(n))throw new Error("Cannot recover: invalid recovery bit");let s=KH(Ld(e)),{n:c}=Yn,l=n===2||n===3?i+c:i,m=Vw(l,c),w=xt(-s*m,c),b=xt(o*m,c),E=n&1?"03":"02",I=t.fromHex(E+Pm(l)),M=t.BASE.multiplyAndAddUnsafe(I,w,b);if(!M)throw new Error("Cannot recover signature: point at infinify");return M.assertValidity(),M}toRawBytes(e=!1){return Bm(this.toHex(e))}toHex(e=!1){let r=Pm(this.x);return e?`${this.hasEvenY()?"02":"03"}${r}`:`04${r}${Pm(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){let e="Point is not on elliptic curve",{x:r,y:n}=this;if(!p7(r)||!p7(n))throw new Error(e);let i=xt(n*n),o=wye(r);if(xt(i-o)!==Zr)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new t(this.x,xt(-this.y))}double(){return ja.fromAffine(this).double().toAffine()}add(e){return ja.fromAffine(this).add(ja.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return ja.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,r,n){let i=ja.fromAffine(this),o=r===Zr||r===pi||this!==t.BASE?i.multiplyUnsafe(r):i.multiply(r),s=ja.fromAffine(e).multiplyUnsafe(n),c=o.add(s);return c.equals(ja.ZERO)?void 0:c.toAffine()}};qr.Point=ci;ci.BASE=new ci(Yn.Gx,Yn.Gy);ci.ZERO=new ci(Zr,Zr);function Aye(t){return Number.parseInt(t[0],16)>=8?"00"+t:t}function Eye(t){if(t.length<2||t[0]!==2)throw new Error(`Invalid signature integer tag: ${Dw(t)}`);let e=t[1],r=t.subarray(2,e+2);if(!e||r.length!==e)throw new Error("Invalid signature integer: wrong length");if(r[0]===0&&r[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:uu(r),left:t.subarray(e+2)}}function RXe(t){if(t.length<2||t[0]!=48)throw new Error(`Invalid signature tag: ${Dw(t)}`);if(t[1]!==t.length-2)throw new Error("Invalid signature: incorrect length");let{data:e,left:r}=Eye(t.subarray(2)),{data:n,left:i}=Eye(r);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${Dw(i)}`);return{r:e,s:n}}var r1=class t{constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromCompact(e){let r=e instanceof Uint8Array,n="Signature.fromCompact";if(typeof e!="string"&&!r)throw new TypeError(`${n}: Expected string or Uint8Array`);let i=r?Dw(e):e;if(i.length!==128)throw new Error(`${n}: Expected 64-byte hex`);return new t(g7(i.slice(0,64)),g7(i.slice(64,128)))}static fromDER(e){let r=e instanceof Uint8Array;if(typeof e!="string"&&!r)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");let{r:n,s:i}=RXe(r?e:Bm(e));return new t(n,i)}static fromHex(e){return this.fromDER(e)}assertValidity(){let{r:e,s:r}=this;if(!Lw(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!Lw(r))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){let e=Yn.n>>pi;return this.s>e}normalizeS(){return this.hasHighS()?new t(this.r,xt(-this.s,Yn.n)):this}toDERRawBytes(){return Bm(this.toDERHex())}toDERHex(){let e=Aye(k6(this.s)),r=Aye(k6(this.r)),n=e.length/2,i=r.length/2,o=k6(n),s=k6(i);return`30${k6(i+n+4)}02${s}${r}02${o}${e}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return Bm(this.toCompactHex())}toCompactHex(){return Pm(this.r)+Pm(this.s)}};qr.Signature=r1;function Mm(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let o=t[n];r.set(o,i),i+=o.length}return r}var CXe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Dw(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let r=0;r<t.length;r++)e+=CXe[t[r]];return e}var OXe=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function Pm(t){if(typeof t!="bigint")throw new Error("Expected bigint");if(!(Zr<=t&&t<OXe))throw new Error("Expected number 0 <= n < 2^256");return t.toString(16).padStart(64,"0")}function Uw(t){let e=Bm(Pm(t));if(e.length!==32)throw new Error("Error: expected 32 bytes");return e}function k6(t){let e=t.toString(16);return e.length&1?`0${e}`:e}function g7(t){if(typeof t!="string")throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}function Bm(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+t.length);let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");e[r]=o}return e}function uu(t){return g7(Dw(t))}function Ld(t){return t instanceof Uint8Array?Uint8Array.from(t):Bm(t)}function _ye(t){if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)return BigInt(t);if(typeof t=="bigint"&&Lw(t))return t;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function xt(t,e=Yn.P){let r=t%e;return r>=Zr?r:e+r}function hf(t,e){let{P:r}=Yn,n=t;for(;e-- >Zr;)n*=n,n%=r;return n}function NXe(t){let{P:e}=Yn,r=BigInt(6),n=BigInt(11),i=BigInt(22),o=BigInt(23),s=BigInt(44),c=BigInt(88),l=t*t*t%e,m=l*l*t%e,w=hf(m,P6)*m%e,b=hf(w,P6)*m%e,E=hf(b,km)*l%e,I=hf(E,n)*E%e,M=hf(I,i)*I%e,k=hf(M,s)*M%e,R=hf(k,c)*k%e,B=hf(R,s)*M%e,U=hf(B,P6)*m%e,P=hf(U,o)*I%e,F=hf(P,r)*l%e,q=hf(F,km);if(q*q%e!==t)throw new Error("Cannot find square root");return q}function Vw(t,e=Yn.P){if(t===Zr||e<=Zr)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=xt(t,e),n=e,i=Zr,o=pi,s=pi,c=Zr;for(;r!==Zr;){let m=n/r,w=n%r,b=i-s*m,E=o-c*m;n=r,r=w,i=s,o=c,s=b,c=E}if(n!==pi)throw new Error("invert: does not exist");return xt(i,e)}function DXe(t,e=Yn.P){let r=new Array(t.length),n=t.reduce((o,s,c)=>s===Zr?o:(r[c]=o,xt(o*s,e)),pi),i=Vw(n,e);return t.reduceRight((o,s,c)=>s===Zr?o:(r[c]=xt(o*r[c],e),xt(o*s,e)),i),r}function UXe(t){let e=t.length*8-n1*8,r=uu(t);return e>0?r>>BigInt(e):r}function KH(t,e=!1){let r=UXe(t);if(e)return r;let{n}=Yn;return r>=n?r-n:r}var Nw,B6,b7=class{constructor(e,r){if(this.hashLen=e,this.qByteLen=r,typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof r!="number"||r<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(e).fill(1),this.k=new Uint8Array(e).fill(0),this.counter=0}hmac(...e){return qr.utils.hmacSha256(this.k,...e)}hmacSync(...e){return B6(this.k,...e)}checkSync(){if(typeof B6!="function")throw new R6("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(e=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),e),this.v=await this.hmac(this.v),e.length!==0&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),e),this.v=await this.hmac(this.v))}reseedSync(e=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),e),this.v=this.hmacSync(this.v),e.length!==0&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),e),this.v=this.hmacSync(this.v))}async generate(){this.incr();let e=0,r=[];for(;e<this.qByteLen;){this.v=await this.hmac(this.v);let n=this.v.slice();r.push(n),e+=this.v.length}return Mm(...r)}generateSync(){this.checkSync(),this.incr();let e=0,r=[];for(;e<this.qByteLen;){this.v=this.hmacSync(this.v);let n=this.v.slice();r.push(n),e+=this.v.length}return Mm(...r)}};function Lw(t){return Zr<t&&t<Yn.n}function p7(t){return Zr<t&&t<Yn.P}function Mye(t,e,r,n=!0){let{n:i}=Yn,o=KH(t,!0);if(!Lw(o))return;let s=Vw(o,i),c=ci.BASE.multiply(o),l=xt(c.x,i);if(l===Zr)return;let m=xt(s*xt(e+r*l,i),i);if(m===Zr)return;let w=new r1(l,m),b=(c.x===w.r?0:2)|Number(c.y&pi);return n&&w.hasHighS()&&(w=w.normalizeS(),b^=1),{sig:w,recovery:b}}function i1(t){let e;if(typeof t=="bigint")e=t;else if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)e=BigInt(t);else if(typeof t=="string"){if(t.length!==2*n1)throw new Error("Expected 32 bytes of private key");e=g7(t)}else if(t instanceof Uint8Array){if(t.length!==n1)throw new Error("Expected 32 bytes of private key");e=uu(t)}else throw new TypeError("Expected valid private key");if(!Lw(e))throw new Error("Expected private key: 0 < key < n");return e}function HH(t){return t instanceof ci?(t.assertValidity(),t):ci.fromHex(t)}function kye(t){if(t instanceof r1)return t.assertValidity(),t;try{return r1.fromDER(t)}catch{return r1.fromCompact(t)}}function LXe(t,e=!1){return ci.fromPrivateKey(t).toRawBytes(e)}qr.getPublicKey=LXe;function FXe(t,e,r,n=!1){return ci.fromSignature(t,e,r).toRawBytes(n)}qr.recoverPublicKey=FXe;function Tye(t){let e=t instanceof Uint8Array,r=typeof t=="string",n=(e||r)&&t.length;return e?n===m7||n===y7:r?n===m7*2||n===y7*2:t instanceof ci}function VXe(t,e,r=!1){if(Tye(t))throw new TypeError("getSharedSecret: first arg must be private key");if(!Tye(e))throw new TypeError("getSharedSecret: second arg must be public key");let n=HH(e);return n.assertValidity(),n.multiply(i1(t)).toRawBytes(r)}qr.getSharedSecret=VXe;function Pye(t){let e=t.length>Al?t.slice(0,Al):t;return uu(e)}function qXe(t){let e=Pye(t),r=xt(e,Yn.n);return Bye(r<Zr?e:r)}function Bye(t){return Uw(t)}function Rye(t,e,r){if(t==null)throw new Error(`sign: expected valid message hash, not "${t}"`);let n=Ld(t),i=i1(e),o=[Bye(i),qXe(n)];if(r!=null){r===!0&&(r=qr.utils.randomBytes(Al));let l=Ld(r);if(l.length!==Al)throw new Error(`sign: Expected ${Al} bytes of extra data`);o.push(l)}let s=Mm(...o),c=Pye(n);return{seed:s,m:c,d:i}}function Cye(t,e){let{sig:r,recovery:n}=t,{der:i,recovered:o}=Object.assign({canonical:!0,der:!0},e),s=i?r.toDERRawBytes():r.toCompactRawBytes();return o?[s,n]:s}async function KXe(t,e,r={}){let{seed:n,m:i,d:o}=Rye(t,e,r.extraEntropy),s=new b7(Iye,n1);await s.reseed(n);let c;for(;!(c=Mye(await s.generate(),i,o,r.canonical));)await s.reseed();return Cye(c,r)}qr.sign=KXe;function HXe(t,e,r={}){let{seed:n,m:i,d:o}=Rye(t,e,r.extraEntropy),s=new b7(Iye,n1);s.reseedSync(n);let c;for(;!(c=Mye(s.generateSync(),i,o,r.canonical));)s.reseedSync();return Cye(c,r)}qr.signSync=HXe;var jXe={strict:!0};function zXe(t,e,r,n=jXe){let i;try{i=kye(t),e=Ld(e)}catch{return!1}let{r:o,s}=i;if(n.strict&&i.hasHighS())return!1;let c=KH(e),l;try{l=HH(r)}catch{return!1}let{n:m}=Yn,w=Vw(s,m),b=xt(c*w,m),E=xt(o*w,m),I=ci.BASE.multiplyAndAddUnsafe(l,b,E);return I?xt(I.x,m)===o:!1}qr.verify=zXe;function v7(t){return xt(uu(t),Yn.n)}var Fw=class t{constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromHex(e){let r=Ld(e);if(r.length!==64)throw new TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${r.length}`);let n=uu(r.subarray(0,32)),i=uu(r.subarray(32,64));return new t(n,i)}assertValidity(){let{r:e,s:r}=this;if(!p7(e)||!Lw(r))throw new Error("Invalid signature")}toHex(){return Pm(this.r)+Pm(this.s)}toRawBytes(){return Bm(this.toHex())}};function WXe(t){return ci.fromPrivateKey(t).toRawX()}var x7=class{constructor(e,r,n=qr.utils.randomBytes()){if(e==null)throw new TypeError(`sign: Expected valid message, not "${e}"`);this.m=Ld(e);let{x:i,scalar:o}=this.getScalar(i1(r));if(this.px=i,this.d=o,this.rand=Ld(n),this.rand.length!==32)throw new TypeError("sign: Expected 32 bytes of aux randomness")}getScalar(e){let r=ci.fromPrivateKey(e),n=r.hasEvenY()?e:Yn.n-e;return{point:r,scalar:n,x:r.toRawX()}}initNonce(e,r){return Uw(e^uu(r))}finalizeNonce(e){let r=xt(uu(e),Yn.n);if(r===Zr)throw new Error("sign: Creation of signature failed. k is zero");let{point:n,x:i,scalar:o}=this.getScalar(r);return{R:n,rx:i,k:o}}finalizeSig(e,r,n,i){return new Fw(e.x,xt(r+n*i,Yn.n)).toRawBytes()}error(){throw new Error("sign: Invalid signature produced")}async calc(){let{m:e,d:r,px:n,rand:i}=this,o=qr.utils.taggedHash,s=this.initNonce(r,await o(Im.aux,i)),{R:c,rx:l,k:m}=this.finalizeNonce(await o(Im.nonce,s,n,e)),w=v7(await o(Im.challenge,l,n,e)),b=this.finalizeSig(c,m,w,r);return await Dye(b,e,n)||this.error(),b}calcSync(){let{m:e,d:r,px:n,rand:i}=this,o=qr.utils.taggedHashSync,s=this.initNonce(r,o(Im.aux,i)),{R:c,rx:l,k:m}=this.finalizeNonce(o(Im.nonce,s,n,e)),w=v7(o(Im.challenge,l,n,e)),b=this.finalizeSig(c,m,w,r);return Uye(b,e,n)||this.error(),b}};async function GXe(t,e,r){return new x7(t,e,r).calc()}function $Xe(t,e,r){return new x7(t,e,r).calcSync()}function Oye(t,e,r){let n=t instanceof Fw,i=n?t:Fw.fromHex(t);return n&&i.assertValidity(),{...i,m:Ld(e),P:HH(r)}}function Nye(t,e,r,n){let i=ci.BASE.multiplyAndAddUnsafe(e,i1(r),xt(-n,Yn.n));return!(!i||!i.hasEvenY()||i.x!==t)}async function Dye(t,e,r){try{let{r:n,s:i,m:o,P:s}=Oye(t,e,r),c=v7(await qr.utils.taggedHash(Im.challenge,Uw(n),s.toRawX(),o));return Nye(n,s,i,c)}catch{return!1}}function Uye(t,e,r){try{let{r:n,s:i,m:o,P:s}=Oye(t,e,r),c=v7(qr.utils.taggedHashSync(Im.challenge,Uw(n),s.toRawX(),o));return Nye(n,s,i,c)}catch(n){if(n instanceof R6)throw n;return!1}}qr.schnorr={Signature:Fw,getPublicKey:WXe,sign:GXe,verify:Dye,signSync:$Xe,verifySync:Uye};ci.BASE._setWindowSize(8);var cu={node:BXe,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},Im={challenge:"BIP0340/challenge",aux:"BIP0340/aux",nonce:"BIP0340/nonce"},h7={};qr.utils={bytesToHex:Dw,hexToBytes:Bm,concatBytes:Mm,mod:xt,invert:Vw,isValidPrivateKey(t){try{return i1(t),!0}catch{return!1}},_bigintTo32Bytes:Uw,_normalizePrivateKey:i1,hashToPrivateKey:t=>{t=Ld(t);let e=n1+8;if(t.length<e||t.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");let r=xt(uu(t),Yn.n-pi)+pi;return Uw(r)},randomBytes:(t=32)=>{if(cu.web)return cu.web.getRandomValues(new Uint8Array(t));if(cu.node){let{randomBytes:e}=cu.node;return Uint8Array.from(e(t))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>qr.utils.hashToPrivateKey(qr.utils.randomBytes(n1+8)),precompute(t=8,e=ci.BASE){let r=e===ci.BASE?e:new ci(e.x,e.y);return r._setWindowSize(t),r.multiply(P6),r},sha256:async(...t)=>{if(cu.web){let e=await cu.web.subtle.digest("SHA-256",Mm(...t));return new Uint8Array(e)}else if(cu.node){let{createHash:e}=cu.node,r=e("sha256");return t.forEach(n=>r.update(n)),Uint8Array.from(r.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(t,...e)=>{if(cu.web){let r=await cu.web.subtle.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=Mm(...e),i=await cu.web.subtle.sign("HMAC",r,n);return new Uint8Array(i)}else if(cu.node){let{createHmac:r}=cu.node,n=r("sha256",t);return e.forEach(i=>n.update(i)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(t,...e)=>{let r=h7[t];if(r===void 0){let n=await qr.utils.sha256(Uint8Array.from(t,i=>i.charCodeAt(0)));r=Mm(n,n),h7[t]=r}return qr.utils.sha256(r,...e)},taggedHashSync:(t,...e)=>{if(typeof Nw!="function")throw new R6("sha256Sync is undefined, you need to set it");let r=h7[t];if(r===void 0){let n=Nw(Uint8Array.from(t,i=>i.charCodeAt(0)));r=Mm(n,n),h7[t]=r}return Nw(r,...e)},_JacobianPoint:ja};Object.defineProperties(qr.utils,{sha256Sync:{configurable:!1,get(){return Nw},set(t){Nw||(Nw=t)}},hmacSha256Sync:{configurable:!1,get(){return B6},set(t){B6||(B6=t)}}})});var F7=V(lt=>{"use strict";d();h();Object.defineProperty(lt,"__esModule",{value:!0});var Wt=o3(),YXe=Sce(),ZXe=cme(),QXe=mb(),JXe=ta(),QH=ume(),zH=mme(),tge=u6(),JH=gH(),N=Ame(),XXe=Wme(),eet=sye(),tet=cye(),Lye=yye(),ret=bye(),net=jH();function z6(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}function gj(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var Om=gj(ZXe),Fye=z6(QXe),Bs=z6(JXe),fe=gj(tge),iet=z6(XXe),oet=z6(eet),set=z6(tet),N7=gj(net);Om.utils.sha512Sync=(...t)=>YXe.sha512(Om.utils.concatBytes(...t));var aet=Om.utils.randomPrivateKey,Vye=()=>{let t=Om.utils.randomPrivateKey(),e=_7(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),{publicKey:e,secretKey:r}},_7=Om.sync.getPublicKey;function qye(t){try{return Om.Point.fromHex(t,!0),!0}catch{return!1}}var bj=(t,e)=>Om.sync.sign(t,e.slice(0,32)),cet=Om.sync.verify,vr=t=>Wt.Buffer.isBuffer(t)?t:t instanceof Uint8Array?Wt.Buffer.from(t.buffer,t.byteOffset,t.byteLength):Wt.Buffer.from(t),D6=class{constructor(e){Object.assign(this,e)}encode(){return Wt.Buffer.from(zH.serialize(N6,this))}static decode(e){return zH.deserialize(N6,this,e)}static decodeUnchecked(e){return zH.deserializeUnchecked(N6,this,e)}},XH=class extends D6{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(r=>{this.enum=r})}},N6=new Map,rge,nge=32,Kd=32;function uet(t){return t._bn!==void 0}var Kye=1;rge=Symbol.toStringTag;var vt=class t extends D6{constructor(e){if(super({}),this._bn=void 0,uet(e))this._bn=e._bn;else{if(typeof e=="string"){let r=Bs.default.decode(e);if(r.length!=Kd)throw new Error("Invalid public key input");this._bn=new Fye.default(r)}else this._bn=new Fye.default(e);if(this._bn.byteLength()>Kd)throw new Error("Invalid public key input")}}static unique(){let e=new t(Kye);return Kye+=1,new t(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Bs.default.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){let e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){let e=this._bn.toArrayLike(Wt.Buffer);if(e.length===Kd)return e;let r=Wt.Buffer.alloc(32);return e.copy(r,32-e.length),r}get[rge](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,r,n){let i=Wt.Buffer.concat([e.toBuffer(),Wt.Buffer.from(r),n.toBuffer()]),o=QH.sha256(i);return new t(o)}static createProgramAddressSync(e,r){let n=Wt.Buffer.alloc(0);e.forEach(function(o){if(o.length>nge)throw new TypeError("Max seed length exceeded");n=Wt.Buffer.concat([n,vr(o)])}),n=Wt.Buffer.concat([n,r.toBuffer(),Wt.Buffer.from("ProgramDerivedAddress")]);let i=QH.sha256(n);if(qye(i))throw new Error("Invalid seeds, address must fall off the curve");return new t(i)}static async createProgramAddress(e,r){return this.createProgramAddressSync(e,r)}static findProgramAddressSync(e,r){let n=255,i;for(;n!=0;){try{let o=e.concat(Wt.Buffer.from([n]));i=this.createProgramAddressSync(o,r)}catch(o){if(o instanceof TypeError)throw o;n--;continue}return[i,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,r){return this.findProgramAddressSync(e,r)}static isOnCurve(e){let r=new t(e);return qye(r.toBytes())}};vt.default=new vt("11111111111111111111111111111111");N6.set(vt,{kind:"struct",fields:[["_bn","u256"]]});var ej=class{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){let r=vr(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=r.slice(32,64),this._secretKey=r.slice(0,32)}else this._secretKey=vr(aet()),this._publicKey=vr(_7(this._secretKey))}get publicKey(){return new vt(this._publicKey)}get secretKey(){return Wt.Buffer.concat([this._secretKey,this._publicKey],64)}},fet=new vt("BPFLoader1111111111111111111111111111111111"),Cm=1232,D7=127,U6=64,L6=class extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}};Object.defineProperty(L6.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});var F6=class extends Error{constructor(e,r){super(`Transaction was not confirmed in ${r.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}};Object.defineProperty(F6.prototype,"name",{value:"TransactionExpiredTimeoutError"});var Rm=class extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}};Object.defineProperty(Rm.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});var a1=class{constructor(e,r){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=r}keySegments(){let e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(let r of this.keySegments()){if(e<r.length)return r[e];e-=r.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");let n=new Map;this.keySegments().flat().forEach((o,s)=>{n.set(o.toBase58(),s)});let i=o=>{let s=n.get(o.toBase58());if(s===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return s};return e.map(o=>({programIdIndex:i(o.programId),accountKeyIndexes:o.keys.map(s=>i(s.pubkey)),data:o.data}))}},Dr=(t="publicKey")=>fe.blob(32,t),det=(t="signature")=>fe.blob(64,t),s1=(t="string")=>{let e=fe.struct([fe.u32("length"),fe.u32("lengthPadding"),fe.blob(fe.offset(fe.u32(),-8),"chars")],t),r=e.decode.bind(e),n=e.encode.bind(e),i=e;return i.decode=(o,s)=>r(o,s).chars.toString(),i.encode=(o,s,c)=>{let l={chars:Wt.Buffer.from(o,"utf8")};return n(l,s,c)},i.alloc=o=>fe.u32().span+fe.u32().span+Wt.Buffer.from(o,"utf8").length,i},het=(t="authorized")=>fe.struct([Dr("staker"),Dr("withdrawer")],t),pet=(t="lockup")=>fe.struct([fe.ns64("unixTimestamp"),fe.ns64("epoch"),Dr("custodian")],t),met=(t="voteInit")=>fe.struct([Dr("nodePubkey"),Dr("authorizedVoter"),Dr("authorizedWithdrawer"),fe.u8("commission")],t),yet=(t="voteAuthorizeWithSeedArgs")=>fe.struct([fe.u32("voteAuthorizationType"),Dr("currentAuthorityDerivedKeyOwnerPubkey"),s1("currentAuthorityDerivedKeySeed"),Dr("newAuthorized")],t);function ige(t,e){let r=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){let o=e[i.property];if(Array.isArray(o))return o.length*r(i.elementLayout)}else if("fields"in i)return ige({layout:i},e[i.property]);return 0},n=0;return t.layout.fields.forEach(i=>{n+=r(i)}),n}function Sc(t){let e=0,r=0;for(;;){let n=t.shift();if(e|=(n&127)<<r*7,r+=1,!(n&128))break}return e}function fu(t,e){let r=e;for(;;){let n=r&127;if(r>>=7,r==0){t.push(n);break}else n|=128,t.push(n)}}function vn(t,e){if(!t)throw new Error(e||"Assertion failed")}var T7=class t{constructor(e,r){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=r}static compile(e,r){let n=new Map,i=s=>{let c=s.toBase58(),l=n.get(c);return l===void 0&&(l={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(c,l)),l},o=i(r);o.isSigner=!0,o.isWritable=!0;for(let s of e){i(s.programId).isInvoked=!0;for(let c of s.keys){let l=i(c.pubkey);l.isSigner||=c.isSigner,l.isWritable||=c.isWritable}}return new t(r,n)}getMessageComponents(){let e=[...this.keyMetaMap.entries()];vn(e.length<=256,"Max static account keys length exceeded");let r=e.filter(([,l])=>l.isSigner&&l.isWritable),n=e.filter(([,l])=>l.isSigner&&!l.isWritable),i=e.filter(([,l])=>!l.isSigner&&l.isWritable),o=e.filter(([,l])=>!l.isSigner&&!l.isWritable),s={numRequiredSignatures:r.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:o.length};{vn(r.length>0,"Expected at least one writable signer key");let[l]=r[0];vn(l===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}let c=[...r.map(([l])=>new vt(l)),...n.map(([l])=>new vt(l)),...i.map(([l])=>new vt(l)),...o.map(([l])=>new vt(l))];return[s,c]}extractTableLookup(e){let[r,n]=this.drainKeysFoundInLookupTable(e.state.addresses,s=>!s.isSigner&&!s.isInvoked&&s.isWritable),[i,o]=this.drainKeysFoundInLookupTable(e.state.addresses,s=>!s.isSigner&&!s.isInvoked&&!s.isWritable);if(!(r.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:r,readonlyIndexes:i},{writable:n,readonly:o}]}drainKeysFoundInLookupTable(e,r){let n=new Array,i=new Array;for(let[o,s]of this.keyMetaMap.entries())if(r(s)){let c=new vt(o),l=e.findIndex(m=>m.equals(c));l>=0&&(vn(l<256,"Max lookup table index exceeded"),n.push(l),i.push(c),this.keyMetaMap.delete(o))}return[n,i]}},oge="Reached end of buffer unexpectedly";function Vd(t){if(t.length===0)throw new Error(oge);return t.shift()}function Ac(t,...e){let[r]=e;if(e.length===2?r+(e[1]??0)>t.length:r>=t.length)throw new Error(oge);return t.splice(...e)}var Hd=class t{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(r=>new vt(r)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(r=>this.indexToProgramIds.set(r.programIdIndex,this.accountKeys[r.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Bs.default.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new a1(this.staticAccountKeys)}static compile(e){let r=T7.compile(e.instructions,e.payerKey),[n,i]=r.getMessageComponents(),s=new a1(i).compileInstructions(e.instructions).map(c=>({programIdIndex:c.programIdIndex,accounts:c.accountKeyIndexes,data:Bs.default.encode(c.data)}));return new t({header:n,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:s})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let r=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){let n=e-r,o=this.accountKeys.length-r-this.header.numReadonlyUnsignedAccounts;return n<o}else{let n=r-this.header.numReadonlySignedAccounts;return e<n}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,r)=>!this.isProgramId(r))}serialize(){let e=this.accountKeys.length,r=[];fu(r,e);let n=this.instructions.map(b=>{let{accounts:E,programIdIndex:I}=b,M=Array.from(Bs.default.decode(b.data)),k=[];fu(k,E.length);let R=[];return fu(R,M.length),{programIdIndex:I,keyIndicesCount:Wt.Buffer.from(k),keyIndices:E,dataLength:Wt.Buffer.from(R),data:M}}),i=[];fu(i,n.length);let o=Wt.Buffer.alloc(Cm);Wt.Buffer.from(i).copy(o);let s=i.length;n.forEach(b=>{let I=fe.struct([fe.u8("programIdIndex"),fe.blob(b.keyIndicesCount.length,"keyIndicesCount"),fe.seq(fe.u8("keyIndex"),b.keyIndices.length,"keyIndices"),fe.blob(b.dataLength.length,"dataLength"),fe.seq(fe.u8("userdatum"),b.data.length,"data")]).encode(b,o,s);s+=I}),o=o.slice(0,s);let c=fe.struct([fe.blob(1,"numRequiredSignatures"),fe.blob(1,"numReadonlySignedAccounts"),fe.blob(1,"numReadonlyUnsignedAccounts"),fe.blob(r.length,"keyCount"),fe.seq(Dr("key"),e,"keys"),Dr("recentBlockhash")]),l={numRequiredSignatures:Wt.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Wt.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Wt.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Wt.Buffer.from(r),keys:this.accountKeys.map(b=>vr(b.toBytes())),recentBlockhash:Bs.default.decode(this.recentBlockhash)},m=Wt.Buffer.alloc(2048),w=c.encode(l,m);return o.copy(m,w),m.slice(0,w+o.length)}static from(e){let r=[...e],n=Vd(r);if(n!==(n&D7))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");let i=Vd(r),o=Vd(r),s=Sc(r),c=[];for(let E=0;E<s;E++){let I=Ac(r,0,Kd);c.push(new vt(Wt.Buffer.from(I)))}let l=Ac(r,0,Kd),m=Sc(r),w=[];for(let E=0;E<m;E++){let I=Vd(r),M=Sc(r),k=Ac(r,0,M),R=Sc(r),B=Ac(r,0,R),U=Bs.default.encode(Wt.Buffer.from(B));w.push({programIdIndex:I,accounts:k,data:U})}let b={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:o},recentBlockhash:Bs.default.encode(Wt.Buffer.from(l)),accountKeys:c,instructions:w};return new t(b)}},qw=class t{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(let r of this.addressTableLookups)e+=r.readonlyIndexes.length+r.writableIndexes.length;return e}getAccountKeys(e){let r;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");r=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)r=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new a1(this.staticAccountKeys,r)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let r=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){let i=e-n,o=this.addressTableLookups.reduce((s,c)=>s+c.writableIndexes.length,0);return i<o}else if(e>=this.header.numRequiredSignatures){let i=e-r,s=n-r-this.header.numReadonlyUnsignedAccounts;return i<s}else{let i=r-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){let r={writable:[],readonly:[]};for(let n of this.addressTableLookups){let i=e.find(o=>o.key.equals(n.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(let o of n.writableIndexes)if(o<i.state.addresses.length)r.writable.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${n.accountKey.toBase58()}`);for(let o of n.readonlyIndexes)if(o<i.state.addresses.length)r.readonly.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${n.accountKey.toBase58()}`)}return r}static compile(e){let r=T7.compile(e.instructions,e.payerKey),n=new Array,i={writable:new Array,readonly:new Array},o=e.addressLookupTableAccounts||[];for(let w of o){let b=r.extractTableLookup(w);if(b!==void 0){let[E,{writable:I,readonly:M}]=b;n.push(E),i.writable.push(...I),i.readonly.push(...M)}}let[s,c]=r.getMessageComponents(),m=new a1(c,i).compileInstructions(e.instructions);return new t({header:s,staticAccountKeys:c,recentBlockhash:e.recentBlockhash,compiledInstructions:m,addressTableLookups:n})}serialize(){let e=Array();fu(e,this.staticAccountKeys.length);let r=this.serializeInstructions(),n=Array();fu(n,this.compiledInstructions.length);let i=this.serializeAddressTableLookups(),o=Array();fu(o,this.addressTableLookups.length);let s=fe.struct([fe.u8("prefix"),fe.struct([fe.u8("numRequiredSignatures"),fe.u8("numReadonlySignedAccounts"),fe.u8("numReadonlyUnsignedAccounts")],"header"),fe.blob(e.length,"staticAccountKeysLength"),fe.seq(Dr(),this.staticAccountKeys.length,"staticAccountKeys"),Dr("recentBlockhash"),fe.blob(n.length,"instructionsLength"),fe.blob(r.length,"serializedInstructions"),fe.blob(o.length,"addressTableLookupsLength"),fe.blob(i.length,"serializedAddressTableLookups")]),c=new Uint8Array(Cm),m=s.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(w=>w.toBytes()),recentBlockhash:Bs.default.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:r,addressTableLookupsLength:new Uint8Array(o),serializedAddressTableLookups:i},c);return c.slice(0,m)}serializeInstructions(){let e=0,r=new Uint8Array(Cm);for(let n of this.compiledInstructions){let i=Array();fu(i,n.accountKeyIndexes.length);let o=Array();fu(o,n.data.length);let s=fe.struct([fe.u8("programIdIndex"),fe.blob(i.length,"encodedAccountKeyIndexesLength"),fe.seq(fe.u8(),n.accountKeyIndexes.length,"accountKeyIndexes"),fe.blob(o.length,"encodedDataLength"),fe.blob(n.data.length,"data")]);e+=s.encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(o),data:n.data},r,e)}return r.slice(0,e)}serializeAddressTableLookups(){let e=0,r=new Uint8Array(Cm);for(let n of this.addressTableLookups){let i=Array();fu(i,n.writableIndexes.length);let o=Array();fu(o,n.readonlyIndexes.length);let s=fe.struct([Dr("accountKey"),fe.blob(i.length,"encodedWritableIndexesLength"),fe.seq(fe.u8(),n.writableIndexes.length,"writableIndexes"),fe.blob(o.length,"encodedReadonlyIndexesLength"),fe.seq(fe.u8(),n.readonlyIndexes.length,"readonlyIndexes")]);e+=s.encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(o),readonlyIndexes:n.readonlyIndexes},r,e)}return r.slice(0,e)}static deserialize(e){let r=[...e],n=Vd(r),i=n&D7;vn(n!==i,"Expected versioned message but received legacy message");let o=i;vn(o===0,`Expected versioned message with version 0 but found version ${o}`);let s={numRequiredSignatures:Vd(r),numReadonlySignedAccounts:Vd(r),numReadonlyUnsignedAccounts:Vd(r)},c=[],l=Sc(r);for(let M=0;M<l;M++)c.push(new vt(Ac(r,0,Kd)));let m=Bs.default.encode(Ac(r,0,Kd)),w=Sc(r),b=[];for(let M=0;M<w;M++){let k=Vd(r),R=Sc(r),B=Ac(r,0,R),U=Sc(r),P=new Uint8Array(Ac(r,0,U));b.push({programIdIndex:k,accountKeyIndexes:B,data:P})}let E=Sc(r),I=[];for(let M=0;M<E;M++){let k=new vt(Ac(r,0,Kd)),R=Sc(r),B=Ac(r,0,R),U=Sc(r),P=Ac(r,0,U);I.push({accountKey:k,writableIndexes:B,readonlyIndexes:P})}return new t({header:s,staticAccountKeys:c,recentBlockhash:m,compiledInstructions:b,addressTableLookups:I})}},vj={deserializeMessageVersion(t){let e=t[0],r=e&D7;return r===e?"legacy":r},deserialize:t=>{let e=vj.deserializeMessageVersion(t);if(e==="legacy")return Hd.from(t);if(e===0)return qw.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};lt.TransactionStatus=void 0;(function(t){t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID"})(lt.TransactionStatus||(lt.TransactionStatus={}));var get=Wt.Buffer.alloc(U6).fill(0),jn=class{constructor(e){this.keys=void 0,this.programId=void 0,this.data=Wt.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:r,isWritable:n})=>({pubkey:e.toJSON(),isSigner:r,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}},Hn=class t{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){let{minContextSlot:r,nonceInfo:n}=e;this.minNonceContextSlot=r,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){let{blockhash:r,lastValidBlockHeight:n}=e;this.recentBlockhash=r,this.lastValidBlockHeight=n}else{let{recentBlockhash:r,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=r}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(r=>{"instructions"in r?this.instructions=this.instructions.concat(r.instructions):"data"in r&&"programId"in r&&"keys"in r?this.instructions.push(r):this.instructions.push(new jn(r))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,r;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?r=[this.nonceInfo.nonceInstruction,...this.instructions]:r=this.instructions):(e=this.recentBlockhash,r=this.instructions),!e)throw new Error("Transaction recentBlockhash required");r.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let k=0;k<r.length;k++)if(r[k].programId===void 0)throw new Error(`Transaction instruction index ${k} has undefined program id`);let i=[],o=[];r.forEach(k=>{k.keys.forEach(B=>{o.push({...B})});let R=k.programId.toString();i.includes(R)||i.push(R)}),i.forEach(k=>{o.push({pubkey:new vt(k),isSigner:!1,isWritable:!1})});let s=[];o.forEach(k=>{let R=k.pubkey.toString(),B=s.findIndex(U=>U.pubkey.toString()===R);B>-1?(s[B].isWritable=s[B].isWritable||k.isWritable,s[B].isSigner=s[B].isSigner||k.isSigner):s.push(k)}),s.sort(function(k,R){return k.isSigner!==R.isSigner?k.isSigner?-1:1:k.isWritable!==R.isWritable?k.isWritable?-1:1:k.pubkey.toBase58().localeCompare(R.pubkey.toBase58())});let c=s.findIndex(k=>k.pubkey.equals(n));if(c>-1){let[k]=s.splice(c,1);k.isSigner=!0,k.isWritable=!0,s.unshift(k)}else s.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(let k of this.signatures){let R=s.findIndex(B=>B.pubkey.equals(k.publicKey));if(R>-1)s[R].isSigner||(s[R].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${k.publicKey.toString()}`)}let l=0,m=0,w=0,b=[],E=[];s.forEach(({pubkey:k,isSigner:R,isWritable:B})=>{R?(b.push(k.toString()),l+=1,B||(m+=1)):(E.push(k.toString()),B||(w+=1))});let I=b.concat(E),M=r.map(k=>{let{data:R,programId:B}=k;return{programIdIndex:I.indexOf(B.toString()),accounts:k.keys.map(U=>I.indexOf(U.pubkey.toString())),data:Bs.default.encode(R)}});return M.forEach(k=>{vn(k.programIdIndex>=0),k.accounts.forEach(R=>vn(R>=0))}),new Hd({header:{numRequiredSignatures:l,numReadonlySignedAccounts:m,numReadonlyUnsignedAccounts:w},accountKeys:I,recentBlockhash:e,instructions:M})}_compile(){let e=this.compileMessage(),r=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===r.length&&this.signatures.every((i,o)=>r[o].equals(i.publicKey))||(this.signatures=r.map(n=>({signature:null,publicKey:n}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");let r=new Set;this.signatures=e.filter(n=>{let i=n.toString();return r.has(i)?!1:(r.add(i),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...e){if(e.length===0)throw new Error("No signers");let r=new Set,n=[];for(let o of e){let s=o.publicKey.toString();r.has(s)||(r.add(s),n.push(o))}this.signatures=n.map(o=>({signature:null,publicKey:o.publicKey}));let i=this._compile();this._partialSign(i,...n)}partialSign(...e){if(e.length===0)throw new Error("No signers");let r=new Set,n=[];for(let o of e){let s=o.publicKey.toString();r.has(s)||(r.add(s),n.push(o))}let i=this._compile();this._partialSign(i,...n)}_partialSign(e,...r){let n=e.serialize();r.forEach(i=>{let o=bj(n,i.secretKey);this._addSignature(i.publicKey,vr(o))})}addSignature(e,r){this._compile(),this._addSignature(e,r)}_addSignature(e,r){vn(r.length===64);let n=this.signatures.findIndex(i=>e.equals(i.publicKey));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=Wt.Buffer.from(r)}verifySignatures(e){return this._verifySignatures(this.serializeMessage(),e===void 0?!0:e)}_verifySignatures(e,r){for(let{signature:n,publicKey:i}of this.signatures)if(n===null){if(r)return!1}else if(!cet(n,e,i.toBytes()))return!1;return!0}serialize(e){let{requireAllSignatures:r,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(n&&!this._verifySignatures(i,r))throw new Error("Signature verification failed");return this._serialize(i)}_serialize(e){let{signatures:r}=this,n=[];fu(n,r.length);let i=n.length+r.length*64+e.length,o=Wt.Buffer.alloc(i);return vn(r.length<256),Wt.Buffer.from(n).copy(o,0),r.forEach(({signature:s},c)=>{s!==null&&(vn(s.length===64,"signature has invalid length"),Wt.Buffer.from(s).copy(o,n.length+c*64))}),e.copy(o,n.length+r.length*64),vn(o.length<=Cm,`Transaction too large: ${o.length} > ${Cm}`),o}get keys(){return vn(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return vn(this.instructions.length===1),this.instructions[0].programId}get data(){return vn(this.instructions.length===1),this.instructions[0].data}static from(e){let r=[...e],n=Sc(r),i=[];for(let o=0;o<n;o++){let s=Ac(r,0,U6);i.push(Bs.default.encode(Wt.Buffer.from(s)))}return t.populate(Hd.from(r),i)}static populate(e,r=[]){let n=new t;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),r.forEach((i,o)=>{let s={signature:i==Bs.default.encode(get)?null:Bs.default.decode(i),publicKey:e.accountKeys[o]};n.signatures.push(s)}),e.instructions.forEach(i=>{let o=i.accounts.map(s=>{let c=e.accountKeys[s];return{pubkey:c,isSigner:n.signatures.some(l=>l.publicKey.toString()===c.toString())||e.isAccountSigner(s),isWritable:e.isAccountWritable(s)}});n.instructions.push(new jn({keys:o,programId:e.accountKeys[i.programIdIndex],data:Bs.default.decode(i.data)}))}),n._message=e,n._json=n.toJSON(),n}},tj=class t{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,r){let{header:n,compiledInstructions:i,recentBlockhash:o}=e,{numRequiredSignatures:s,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:l}=n,m=s-c;vn(m>0,"Message header is invalid");let w=e.staticAccountKeys.length-s-l;vn(w>=0,"Message header is invalid");let b=e.getAccountKeys(r),E=b.get(0);if(E===void 0)throw new Error("Failed to decompile message because no account keys were found");let I=[];for(let M of i){let k=[];for(let B of M.accountKeyIndexes){let U=b.get(B);if(U===void 0)throw new Error(`Failed to find key for account key index ${B}`);let P=B<s,F;P?F=B<m:B<b.staticAccountKeys.length?F=B-s<w:F=B-b.staticAccountKeys.length<b.accountKeysFromLookups.writable.length,k.push({pubkey:U,isSigner:B<n.numRequiredSignatures,isWritable:F})}let R=b.get(M.programIdIndex);if(R===void 0)throw new Error(`Failed to find program id for program id index ${M.programIdIndex}`);I.push(new jn({programId:R,data:vr(M.data),keys:k}))}return new t({payerKey:E,instructions:I,recentBlockhash:o})}compileToLegacyMessage(){return Hd.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return qw.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}},rj=class t{get version(){return this.message.version}constructor(e,r){if(this.signatures=void 0,this.message=void 0,r!==void 0)vn(r.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=r;else{let n=[];for(let i=0;i<e.header.numRequiredSignatures;i++)n.push(new Uint8Array(U6));this.signatures=n}this.message=e}serialize(){let e=this.message.serialize(),r=Array();fu(r,this.signatures.length);let n=fe.struct([fe.blob(r.length,"encodedSignaturesLength"),fe.seq(det(),this.signatures.length,"signatures"),fe.blob(e.length,"serializedMessage")]),i=new Uint8Array(2048),o=n.encode({encodedSignaturesLength:new Uint8Array(r),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,o)}static deserialize(e){let r=[...e],n=[],i=Sc(r);for(let s=0;s<i;s++)n.push(new Uint8Array(Ac(r,0,U6)));let o=vj.deserialize(new Uint8Array(r));return new t(o,n)}sign(e){let r=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(let i of e){let o=n.findIndex(s=>s.equals(i.publicKey));vn(o>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[o]=bj(r,i.secretKey)}}addSignature(e,r){vn(r.byteLength===64,"Signature must be 64 bytes long");let i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(o=>o.equals(e));vn(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=r}},Fd=new vt("SysvarC1ock11111111111111111111111111111111"),bet=new vt("SysvarEpochSchedu1e111111111111111111111111"),vet=new vt("Sysvar1nstructions1111111111111111111111111"),S7=new vt("SysvarRecentB1ockHashes11111111111111111111"),Kw=new vt("SysvarRent111111111111111111111111111111111"),xet=new vt("SysvarRewards111111111111111111111111111111"),wet=new vt("SysvarS1otHashes111111111111111111111111111"),Aet=new vt("SysvarS1otHistory11111111111111111111111111"),A7=new vt("SysvarStakeHistory1111111111111111111111111");async function E7(t,e,r,n){let i=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},o=await t.sendTransaction(e,r,i),s;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)s=(await t.confirmTransaction({abortSignal:n?.abortSignal,signature:o,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},n&&n.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){let{nonceInstruction:c}=e.nonceInfo,l=c.keys[0].pubkey;s=(await t.confirmTransaction({abortSignal:n?.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:l,nonceValue:e.nonceInfo.nonce,signature:o},n&&n.commitment)).value}else n?.abortSignal!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),s=(await t.confirmTransaction(o,n&&n.commitment)).value;if(s.err)throw new Error(`Transaction ${o} failed (${JSON.stringify(s)})`);return o}function o1(t){return new Promise(e=>setTimeout(e,t))}function pn(t,e){let r=t.layout.span>=0?t.layout.span:ige(t,e),n=Wt.Buffer.alloc(r),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,n),n}function Nn(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.instruction!==t.index)throw new Error(`invalid instruction; instruction index mismatch ${r.instruction} != ${t.index}`);return r}var sge=fe.nu64("lamportsPerSignature"),age=fe.struct([fe.u32("version"),fe.u32("state"),Dr("authorizedPubkey"),Dr("nonce"),fe.struct([sge],"feeCalculator")]),nj=age.span,I7=class t{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){let r=age.decode(vr(e),0);return new t({authorizedPubkey:new vt(r.authorizedPubkey),nonce:new vt(r.nonce).toString(),feeCalculator:r.feeCalculator})}},Eet=t=>{let e=t.decode.bind(t),r=t.encode.bind(t);return{decode:e,encode:r}},_et=t=>e=>{let r=tge.blob(t,e),{encode:n,decode:i}=Eet(r),o=r;return o.decode=(s,c)=>{let l=i(s,c);return JH.toBigIntLE(Wt.Buffer.from(l))},o.encode=(s,c,l)=>{let m=JH.toBufferLE(s,t);return n(m,c,l)},o},Hw=_et(8),ij=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=fe.u32("instruction").decode(e.data),i;for(let[o,s]of Object.entries(ui))if(s.index==n){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a SystemInstruction");return i}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{lamports:r,space:n,programId:i}=Nn(ui.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:r,space:n,programId:new vt(i)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{lamports:r}=Nn(ui.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:r}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{lamports:r,seed:n,programId:i}=Nn(ui.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:r,seed:n,programId:new vt(i)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{space:r}=Nn(ui.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:r}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{base:r,seed:n,space:i,programId:o}=Nn(ui.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new vt(r),seed:n,space:i,programId:new vt(o)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{programId:r}=Nn(ui.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new vt(r)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{base:r,seed:n,programId:i}=Nn(ui.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new vt(r),seed:n,programId:new vt(i)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{base:r,seed:n,lamports:i,space:o,programId:s}=Nn(ui.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new vt(r),seed:n,lamports:i,space:o,programId:new vt(s)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{authorized:r}=Nn(ui.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new vt(r)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Nn(ui.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);let{lamports:r}=Nn(ui.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{authorized:r}=Nn(ui.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new vt(r)}}static checkProgramId(e){if(!e.equals(pa.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},ui=Object.freeze({Create:{index:0,layout:fe.struct([fe.u32("instruction"),fe.ns64("lamports"),fe.ns64("space"),Dr("programId")])},Assign:{index:1,layout:fe.struct([fe.u32("instruction"),Dr("programId")])},Transfer:{index:2,layout:fe.struct([fe.u32("instruction"),Hw("lamports")])},CreateWithSeed:{index:3,layout:fe.struct([fe.u32("instruction"),Dr("base"),s1("seed"),fe.ns64("lamports"),fe.ns64("space"),Dr("programId")])},AdvanceNonceAccount:{index:4,layout:fe.struct([fe.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:fe.struct([fe.u32("instruction"),fe.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:fe.struct([fe.u32("instruction"),Dr("authorized")])},AuthorizeNonceAccount:{index:7,layout:fe.struct([fe.u32("instruction"),Dr("authorized")])},Allocate:{index:8,layout:fe.struct([fe.u32("instruction"),fe.ns64("space")])},AllocateWithSeed:{index:9,layout:fe.struct([fe.u32("instruction"),Dr("base"),s1("seed"),fe.ns64("space"),Dr("programId")])},AssignWithSeed:{index:10,layout:fe.struct([fe.u32("instruction"),Dr("base"),s1("seed"),Dr("programId")])},TransferWithSeed:{index:11,layout:fe.struct([fe.u32("instruction"),Hw("lamports"),s1("seed"),Dr("programId")])},UpgradeNonceAccount:{index:12,layout:fe.struct([fe.u32("instruction")])}}),pa=class t{constructor(){}static createAccount(e){let r=ui.Create,n=pn(r,{lamports:e.lamports,space:e.space,programId:vr(e.programId.toBuffer())});return new jn({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:n})}static transfer(e){let r,n;if("basePubkey"in e){let i=ui.TransferWithSeed;r=pn(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:vr(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{let i=ui.Transfer;r=pn(i,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new jn({keys:n,programId:this.programId,data:r})}static assign(e){let r,n;if("basePubkey"in e){let i=ui.AssignWithSeed;r=pn(i,{base:vr(e.basePubkey.toBuffer()),seed:e.seed,programId:vr(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=ui.Assign;r=pn(i,{programId:vr(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new jn({keys:n,programId:this.programId,data:r})}static createAccountWithSeed(e){let r=ui.CreateWithSeed,n=pn(r,{base:vr(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:vr(e.programId.toBuffer())}),i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new jn({keys:i,programId:this.programId,data:n})}static createNonceAccount(e){let r=new Hn;"basePubkey"in e&&"seed"in e?r.add(t.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:nj,programId:this.programId})):r.add(t.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:nj,programId:this.programId}));let n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return r.add(this.nonceInitialize(n)),r}static nonceInitialize(e){let r=ui.InitializeNonceAccount,n=pn(r,{authorized:vr(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:S7,isSigner:!1,isWritable:!1},{pubkey:Kw,isSigner:!1,isWritable:!1}],programId:this.programId,data:n};return new jn(i)}static nonceAdvance(e){let r=ui.AdvanceNonceAccount,n=pn(r),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:S7,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new jn(i)}static nonceWithdraw(e){let r=ui.WithdrawNonceAccount,n=pn(r,{lamports:e.lamports});return new jn({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:S7,isSigner:!1,isWritable:!1},{pubkey:Kw,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static nonceAuthorize(e){let r=ui.AuthorizeNonceAccount,n=pn(r,{authorized:vr(e.newAuthorizedPubkey.toBuffer())});return new jn({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static allocate(e){let r,n;if("basePubkey"in e){let i=ui.AllocateWithSeed;r=pn(i,{base:vr(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:vr(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=ui.Allocate;r=pn(i,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new jn({keys:n,programId:this.programId,data:r})}};pa.programId=new vt("11111111111111111111111111111111");var Tet=Cm-300,jw=class t{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/t.chunkSize)+1+1)}static async load(e,r,n,i,o){{let b=await e.getMinimumBalanceForRentExemption(o.length),E=await e.getAccountInfo(n.publicKey,"confirmed"),I=null;if(E!==null){if(E.executable)return console.error("Program load failed, account is already executable"),!1;E.data.length!==o.length&&(I=I||new Hn,I.add(pa.allocate({accountPubkey:n.publicKey,space:o.length}))),E.owner.equals(i)||(I=I||new Hn,I.add(pa.assign({accountPubkey:n.publicKey,programId:i}))),E.lamports<b&&(I=I||new Hn,I.add(pa.transfer({fromPubkey:r.publicKey,toPubkey:n.publicKey,lamports:b-E.lamports})))}else I=new Hn().add(pa.createAccount({fromPubkey:r.publicKey,newAccountPubkey:n.publicKey,lamports:b>0?b:1,space:o.length,programId:i}));I!==null&&await E7(e,I,[r,n],{commitment:"confirmed"})}let s=fe.struct([fe.u32("instruction"),fe.u32("offset"),fe.u32("bytesLength"),fe.u32("bytesLengthPadding"),fe.seq(fe.u8("byte"),fe.offset(fe.u32(),-8),"bytes")]),c=t.chunkSize,l=0,m=o,w=[];for(;m.length>0;){let b=m.slice(0,c),E=Wt.Buffer.alloc(c+16);s.encode({instruction:0,offset:l,bytes:b,bytesLength:0,bytesLengthPadding:0},E);let I=new Hn().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:E});w.push(E7(e,I,[r,n],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await o1(1e3/4),l+=c,m=m.slice(c)}await Promise.all(w);{let b=fe.struct([fe.u32("instruction")]),E=Wt.Buffer.alloc(b.span);b.encode({instruction:1},E);let I=new Hn().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:Kw,isSigner:!1,isWritable:!1}],programId:i,data:E});await E7(e,I,[r,n],{commitment:"confirmed"})}return!0}};jw.chunkSize=Tet;var Iet=new vt("BPFLoader2111111111111111111111111111111111"),oj=class{static getMinNumSignatures(e){return jw.getMinNumSignatures(e)}static load(e,r,n,i,o){return jw.load(e,r,n,o,i)}},Met=Object.prototype.toString,ket=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};function O6(t,e){var r,n,i,o,s,c,l;if(t===!0)return"true";if(t===!1)return"false";switch(typeof t){case"object":if(t===null)return null;if(t.toJSON&&typeof t.toJSON=="function")return O6(t.toJSON(),e);if(l=Met.call(t),l==="[object Array]"){for(i="[",n=t.length-1,r=0;r<n;r++)i+=O6(t[r],!0)+",";return n>-1&&(i+=O6(t[r],!0)),i+"]"}else if(l==="[object Object]"){for(o=ket(t).sort(),n=o.length,i="",r=0;r<n;)s=o[r],c=O6(t[s],!1),c!==void 0&&(i&&(i+=","),i+=JSON.stringify(s)+":"+c),r++;return"{"+i+"}"}else return JSON.stringify(t);case"function":case"undefined":return e?null:void 0;case"string":return JSON.stringify(t);default:return isFinite(t)?t:null}}var Pet=function(t){var e=O6(t,!1);if(e!==void 0)return""+e},Bet=Pet,C6=32;function WH(t){let e=0;for(;t>1;)t/=2,e++;return e}function Ret(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}var M7=class{constructor(e,r,n,i,o){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=r,this.warmup=n,this.firstNormalEpoch=i,this.firstNormalSlot=o}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){let r=WH(Ret(e+C6+1))-WH(C6)-1,n=this.getSlotsInEpoch(r),i=e-(n-C6);return[r,i]}else{let r=e-this.firstNormalSlot,n=Math.floor(r/this.slotsPerEpoch),i=this.firstNormalEpoch+n,o=r%this.slotsPerEpoch;return[i,o]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*C6:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+WH(C6)):this.slotsPerEpoch}},V6=class extends Error{constructor(e,r){super(e),this.logs=void 0,this.logs=r}},Cet={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016},Ot=class extends Error{constructor({code:e,message:r,data:n},i){super(i!=null?`${i}: ${r}`:r),this.code=void 0,this.data=void 0,this.code=e,this.data=n,this.name="SolanaJSONRPCError"}},Oet=globalThis.fetch,sj=class extends oet.default{constructor(e,r,n){let i=o=>{let s=set.default(o,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...r});return"socket"in s?this.underlyingSocket=s.socket:this.underlyingSocket=s,s};super(i,e,r,n),this.underlyingSocket=void 0}call(...e){let r=this.underlyingSocket?.readyState;return r===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}notify(...e){let r=this.underlyingSocket?.readyState;return r===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}},Net=160,Det=64,Uet=Net/Det,Let=1e3/Uet;function Fet(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${r.typeIndex} != ${t.index}`);return r}var Hye=56,q6=class{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){let e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){let r=Fet(Vet,e),n=e.length-Hye;vn(n>=0,"lookup table is invalid"),vn(n%32===0,"lookup table is invalid");let i=n/32,{addresses:o}=fe.struct([fe.seq(Dr(),i,"addresses")]).decode(e.slice(Hye));return{deactivationSlot:r.deactivationSlot,lastExtendedSlot:r.lastExtendedSlot,lastExtendedSlotStartIndex:r.lastExtendedStartIndex,authority:r.authority.length!==0?new vt(r.authority[0]):void 0,addresses:o.map(s=>new vt(s))}}},Vet={index:1,layout:fe.struct([fe.u32("typeIndex"),Hw("deactivationSlot"),fe.nu64("lastExtendedSlot"),fe.u8("lastExtendedStartIndex"),fe.u8(),fe.seq(Dr(),fe.offset(fe.u8(),-1),"authority")])},qet=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function Ket(t){let e=t.match(qet);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);let[r,n,i,o]=e,s=t.startsWith("https:")?"wss:":"ws:",c=i==null?null:parseInt(i.slice(1),10),l=c==null?"":`:${c+1}`;return`${s}//${n}${l}${o}`}var xo=N.coerce(N.instance(vt),N.string(),t=>new vt(t)),cge=N.tuple([N.string(),N.literal("base64")]),xj=N.coerce(N.instance(Wt.Buffer),cge,t=>Wt.Buffer.from(t[0],"base64")),uge=30*1e3;function Het(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}function Ui(t){let e,r;if(typeof t=="string")e=t;else if(t){let{commitment:n,...i}=t;e=n,r=i}return{commitment:e,config:r}}function fge(t){return N.union([N.type({jsonrpc:N.literal("2.0"),id:N.string(),result:t}),N.type({jsonrpc:N.literal("2.0"),id:N.string(),error:N.type({code:N.unknown(),message:N.string(),data:N.optional(N.any())})})])}var jet=fge(N.unknown());function Er(t){return N.coerce(fge(t),jet,e=>"error"in e?e:{...e,result:N.create(e.result,t)})}function vo(t){return Er(N.type({context:N.type({slot:N.number()}),value:t}))}function U7(t){return N.type({context:N.type({slot:N.number()}),value:t})}function GH(t,e){return t===0?new qw({header:e.header,staticAccountKeys:e.accountKeys.map(r=>new vt(r)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(r=>({programIdIndex:r.programIdIndex,accountKeyIndexes:r.accounts,data:Bs.default.decode(r.data)})),addressTableLookups:e.addressTableLookups}):new Hd(e)}var zet=N.type({foundation:N.number(),foundationTerm:N.number(),initial:N.number(),taper:N.number(),terminal:N.number()}),Wet=Er(N.array(N.nullable(N.type({epoch:N.number(),effectiveSlot:N.number(),amount:N.number(),postBalance:N.number(),commission:N.optional(N.nullable(N.number()))})))),Get=N.type({total:N.number(),validator:N.number(),foundation:N.number(),epoch:N.number()}),$et=N.type({epoch:N.number(),slotIndex:N.number(),slotsInEpoch:N.number(),absoluteSlot:N.number(),blockHeight:N.optional(N.number()),transactionCount:N.optional(N.number())}),Yet=N.type({slotsPerEpoch:N.number(),leaderScheduleSlotOffset:N.number(),warmup:N.boolean(),firstNormalEpoch:N.number(),firstNormalSlot:N.number()}),Zet=N.record(N.string(),N.array(N.number())),u1=N.nullable(N.union([N.type({}),N.string()])),Qet=N.type({err:u1}),Jet=N.literal("receivedSignature"),Xet=N.type({"solana-core":N.string(),"feature-set":N.optional(N.number())}),jye=vo(N.type({err:N.nullable(N.union([N.type({}),N.string()])),logs:N.nullable(N.array(N.string())),accounts:N.optional(N.nullable(N.array(N.nullable(N.type({executable:N.boolean(),owner:N.string(),lamports:N.number(),data:N.array(N.string()),rentEpoch:N.optional(N.number())}))))),unitsConsumed:N.optional(N.number()),returnData:N.optional(N.nullable(N.type({programId:N.string(),data:N.tuple([N.string(),N.literal("base64")])})))})),ett=vo(N.type({byIdentity:N.record(N.string(),N.array(N.number())),range:N.type({firstSlot:N.number(),lastSlot:N.number()})}));function ttt(t,e,r,n,i,o){let s=r||Oet,c;o!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let l;return n&&(l=async(w,b)=>{let E=await new Promise((I,M)=>{try{n(w,b,(k,R)=>I([k,R]))}catch(k){M(k)}});return await s(...E)}),new iet.default(async(w,b)=>{let E={method:"POST",body:w,agent:c,headers:Object.assign({"Content-Type":"application/json"},e||{},ert)};try{let I=5,M,k=500;for(;l?M=await l(t,E):M=await s(t,E),!(M.status!==429||i===!0||(I-=1,I===0));)console.log(`Server responded with ${M.status} ${M.statusText}.  Retrying after ${k}ms delay...`),await o1(k),k*=2;let R=await M.text();M.ok?b(null,R):b(new Error(`${M.status} ${M.statusText}: ${R}`))}catch(I){I instanceof Error&&b(I)}},{})}function rtt(t){return(e,r)=>new Promise((n,i)=>{t.request(e,r,(o,s)=>{if(o){i(o);return}n(s)})})}function ntt(t){return e=>new Promise((r,n)=>{e.length===0&&r([]);let i=e.map(o=>t.request(o.methodName,o.args));t.request(i,(o,s)=>{if(o){n(o);return}r(s)})})}var itt=Er(zet),ott=Er(Get),stt=Er($et),att=Er(Yet),ctt=Er(Zet),utt=Er(N.number()),ftt=vo(N.type({total:N.number(),circulating:N.number(),nonCirculating:N.number(),nonCirculatingAccounts:N.array(xo)})),aj=N.type({amount:N.string(),uiAmount:N.nullable(N.number()),decimals:N.number(),uiAmountString:N.optional(N.string())}),ltt=vo(N.array(N.type({address:xo,amount:N.string(),uiAmount:N.nullable(N.number()),decimals:N.number(),uiAmountString:N.optional(N.string())}))),dtt=vo(N.array(N.type({pubkey:xo,account:N.type({executable:N.boolean(),owner:xo,lamports:N.number(),data:xj,rentEpoch:N.number()})}))),cj=N.type({program:N.string(),parsed:N.unknown(),space:N.number()}),htt=vo(N.array(N.type({pubkey:xo,account:N.type({executable:N.boolean(),owner:xo,lamports:N.number(),data:cj,rentEpoch:N.number()})}))),ptt=vo(N.array(N.type({lamports:N.number(),address:xo}))),K6=N.type({executable:N.boolean(),owner:xo,lamports:N.number(),data:xj,rentEpoch:N.number()}),mtt=N.type({pubkey:xo,account:K6}),ytt=N.coerce(N.union([N.instance(Wt.Buffer),cj]),N.union([cge,cj]),t=>Array.isArray(t)?N.create(t,xj):t),uj=N.type({executable:N.boolean(),owner:xo,lamports:N.number(),data:ytt,rentEpoch:N.number()}),gtt=N.type({pubkey:xo,account:uj}),btt=N.type({state:N.union([N.literal("active"),N.literal("inactive"),N.literal("activating"),N.literal("deactivating")]),active:N.number(),inactive:N.number()}),vtt=Er(N.array(N.type({signature:N.string(),slot:N.number(),err:u1,memo:N.nullable(N.string()),blockTime:N.optional(N.nullable(N.number()))}))),xtt=Er(N.array(N.type({signature:N.string(),slot:N.number(),err:u1,memo:N.nullable(N.string()),blockTime:N.optional(N.nullable(N.number()))}))),wtt=N.type({subscription:N.number(),result:U7(K6)}),Stt=N.type({pubkey:xo,account:K6}),Att=N.type({subscription:N.number(),result:U7(Stt)}),Ett=N.type({parent:N.number(),slot:N.number(),root:N.number()}),_tt=N.type({subscription:N.number(),result:Ett}),Ttt=N.union([N.type({type:N.union([N.literal("firstShredReceived"),N.literal("completed"),N.literal("optimisticConfirmation"),N.literal("root")]),slot:N.number(),timestamp:N.number()}),N.type({type:N.literal("createdBank"),parent:N.number(),slot:N.number(),timestamp:N.number()}),N.type({type:N.literal("frozen"),slot:N.number(),timestamp:N.number(),stats:N.type({numTransactionEntries:N.number(),numSuccessfulTransactions:N.number(),numFailedTransactions:N.number(),maxTransactionsPerEntry:N.number()})}),N.type({type:N.literal("dead"),slot:N.number(),timestamp:N.number(),err:N.string()})]),Itt=N.type({subscription:N.number(),result:Ttt}),Mtt=N.type({subscription:N.number(),result:U7(N.union([Qet,Jet]))}),ktt=N.type({subscription:N.number(),result:N.number()}),Ptt=N.type({pubkey:N.string(),gossip:N.nullable(N.string()),tpu:N.nullable(N.string()),rpc:N.nullable(N.string()),version:N.nullable(N.string())}),zye=N.type({votePubkey:N.string(),nodePubkey:N.string(),activatedStake:N.number(),epochVoteAccount:N.boolean(),epochCredits:N.array(N.tuple([N.number(),N.number(),N.number()])),commission:N.number(),lastVote:N.number(),rootSlot:N.nullable(N.number())}),Btt=Er(N.type({current:N.array(zye),delinquent:N.array(zye)})),Rtt=N.union([N.literal("processed"),N.literal("confirmed"),N.literal("finalized")]),Ctt=N.type({slot:N.number(),confirmations:N.nullable(N.number()),err:u1,confirmationStatus:N.optional(Rtt)}),Ott=vo(N.array(N.nullable(Ctt))),Ntt=Er(N.number()),lge=N.type({accountKey:xo,writableIndexes:N.array(N.number()),readonlyIndexes:N.array(N.number())}),wj=N.type({signatures:N.array(N.string()),message:N.type({accountKeys:N.array(N.string()),header:N.type({numRequiredSignatures:N.number(),numReadonlySignedAccounts:N.number(),numReadonlyUnsignedAccounts:N.number()}),instructions:N.array(N.type({accounts:N.array(N.number()),data:N.string(),programIdIndex:N.number()})),recentBlockhash:N.string(),addressTableLookups:N.optional(N.array(lge))})}),dge=N.type({pubkey:xo,signer:N.boolean(),writable:N.boolean(),source:N.optional(N.union([N.literal("transaction"),N.literal("lookupTable")]))}),hge=N.type({accountKeys:N.array(dge),signatures:N.array(N.string())}),pge=N.type({parsed:N.unknown(),program:N.string(),programId:xo}),mge=N.type({accounts:N.array(xo),data:N.string(),programId:xo}),Dtt=N.union([mge,pge]),Utt=N.union([N.type({parsed:N.unknown(),program:N.string(),programId:N.string()}),N.type({accounts:N.array(N.string()),data:N.string(),programId:N.string()})]),yge=N.coerce(Dtt,Utt,t=>"accounts"in t?N.create(t,mge):N.create(t,pge)),gge=N.type({signatures:N.array(N.string()),message:N.type({accountKeys:N.array(dge),instructions:N.array(yge),recentBlockhash:N.string(),addressTableLookups:N.optional(N.nullable(N.array(lge)))})}),k7=N.type({accountIndex:N.number(),mint:N.string(),owner:N.optional(N.string()),uiTokenAmount:aj}),bge=N.type({writable:N.array(xo),readonly:N.array(xo)}),L7=N.type({err:u1,fee:N.number(),innerInstructions:N.optional(N.nullable(N.array(N.type({index:N.number(),instructions:N.array(N.type({accounts:N.array(N.number()),data:N.string(),programIdIndex:N.number()}))})))),preBalances:N.array(N.number()),postBalances:N.array(N.number()),logMessages:N.optional(N.nullable(N.array(N.string()))),preTokenBalances:N.optional(N.nullable(N.array(k7))),postTokenBalances:N.optional(N.nullable(N.array(k7))),loadedAddresses:N.optional(bge),computeUnitsConsumed:N.optional(N.number())}),Sj=N.type({err:u1,fee:N.number(),innerInstructions:N.optional(N.nullable(N.array(N.type({index:N.number(),instructions:N.array(yge)})))),preBalances:N.array(N.number()),postBalances:N.array(N.number()),logMessages:N.optional(N.nullable(N.array(N.string()))),preTokenBalances:N.optional(N.nullable(N.array(k7))),postTokenBalances:N.optional(N.nullable(N.array(k7))),loadedAddresses:N.optional(bge),computeUnitsConsumed:N.optional(N.number())}),Gw=N.union([N.literal(0),N.literal("legacy")]),f1=N.type({pubkey:N.string(),lamports:N.number(),postBalance:N.nullable(N.number()),rewardType:N.nullable(N.string()),commission:N.optional(N.nullable(N.number()))}),Ltt=Er(N.nullable(N.type({blockhash:N.string(),previousBlockhash:N.string(),parentSlot:N.number(),transactions:N.array(N.type({transaction:wj,meta:N.nullable(L7),version:N.optional(Gw)})),rewards:N.optional(N.array(f1)),blockTime:N.nullable(N.number()),blockHeight:N.nullable(N.number())}))),Ftt=Er(N.nullable(N.type({blockhash:N.string(),previousBlockhash:N.string(),parentSlot:N.number(),rewards:N.optional(N.array(f1)),blockTime:N.nullable(N.number()),blockHeight:N.nullable(N.number())}))),Vtt=Er(N.nullable(N.type({blockhash:N.string(),previousBlockhash:N.string(),parentSlot:N.number(),transactions:N.array(N.type({transaction:hge,meta:N.nullable(L7),version:N.optional(Gw)})),rewards:N.optional(N.array(f1)),blockTime:N.nullable(N.number()),blockHeight:N.nullable(N.number())}))),qtt=Er(N.nullable(N.type({blockhash:N.string(),previousBlockhash:N.string(),parentSlot:N.number(),transactions:N.array(N.type({transaction:gge,meta:N.nullable(Sj),version:N.optional(Gw)})),rewards:N.optional(N.array(f1)),blockTime:N.nullable(N.number()),blockHeight:N.nullable(N.number())}))),Ktt=Er(N.nullable(N.type({blockhash:N.string(),previousBlockhash:N.string(),parentSlot:N.number(),transactions:N.array(N.type({transaction:hge,meta:N.nullable(Sj),version:N.optional(Gw)})),rewards:N.optional(N.array(f1)),blockTime:N.nullable(N.number()),blockHeight:N.nullable(N.number())}))),Htt=Er(N.nullable(N.type({blockhash:N.string(),previousBlockhash:N.string(),parentSlot:N.number(),rewards:N.optional(N.array(f1)),blockTime:N.nullable(N.number()),blockHeight:N.nullable(N.number())}))),jtt=Er(N.nullable(N.type({blockhash:N.string(),previousBlockhash:N.string(),parentSlot:N.number(),transactions:N.array(N.type({transaction:wj,meta:N.nullable(L7)})),rewards:N.optional(N.array(f1)),blockTime:N.nullable(N.number())}))),Wye=Er(N.nullable(N.type({blockhash:N.string(),previousBlockhash:N.string(),parentSlot:N.number(),signatures:N.array(N.string()),blockTime:N.nullable(N.number())}))),$H=Er(N.nullable(N.type({slot:N.number(),meta:L7,blockTime:N.optional(N.nullable(N.number())),transaction:wj,version:N.optional(Gw)}))),w7=Er(N.nullable(N.type({slot:N.number(),transaction:gge,meta:N.nullable(Sj),blockTime:N.optional(N.nullable(N.number())),version:N.optional(Gw)}))),ztt=vo(N.type({blockhash:N.string(),feeCalculator:N.type({lamportsPerSignature:N.number()})})),Wtt=vo(N.type({blockhash:N.string(),lastValidBlockHeight:N.number()})),Gtt=N.type({slot:N.number(),numTransactions:N.number(),numSlots:N.number(),samplePeriodSecs:N.number()}),$tt=Er(N.array(Gtt)),Ytt=vo(N.nullable(N.type({feeCalculator:N.type({lamportsPerSignature:N.number()})}))),Ztt=Er(N.string()),Qtt=Er(N.string()),Jtt=N.type({err:u1,logs:N.array(N.string()),signature:N.string()}),Xtt=N.type({result:U7(Jtt),subscription:N.number()}),ert={"solana-client":"js/1.73.5"},fj=class{constructor(e,r){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set;let n,i,o,s,c,l;r&&typeof r=="string"?this._commitment=r:r&&(this._commitment=r.commitment,this._confirmTransactionInitialTimeout=r.confirmTransactionInitialTimeout,n=r.wsEndpoint,i=r.httpHeaders,o=r.fetch,s=r.fetchMiddleware,c=r.disableRetryOnRateLimit,l=r.httpAgent),this._rpcEndpoint=Het(e),this._rpcWsEndpoint=n||Ket(e),this._rpcClient=ttt(e,i,o,s,c,l),this._rpcRequest=rtt(this._rpcClient),this._rpcBatchRequest=ntt(this._rpcClient),this._rpcWebSocket=new sj(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,r){let{commitment:n,config:i}=Ui(r),o=this._buildArgs([e.toBase58()],n,void 0,i),s=await this._rpcRequest("getBalance",o),c=N.create(s,vo(N.number()));if("error"in c)throw new Ot(c.error,`failed to get balance for ${e.toBase58()}`);return c.result}async getBalance(e,r){return await this.getBalanceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+n)})}async getBlockTime(e){let r=await this._rpcRequest("getBlockTime",[e]),n=N.create(r,Er(N.nullable(N.number())));if("error"in n)throw new Ot(n.error,`failed to get block time for slot ${e}`);return n.result}async getMinimumLedgerSlot(){let e=await this._rpcRequest("minimumLedgerSlot",[]),r=N.create(e,Er(N.number()));if("error"in r)throw new Ot(r.error,"failed to get minimum ledger slot");return r.result}async getFirstAvailableBlock(){let e=await this._rpcRequest("getFirstAvailableBlock",[]),r=N.create(e,utt);if("error"in r)throw new Ot(r.error,"failed to get first available block");return r.result}async getSupply(e){let r={};typeof e=="string"?r={commitment:e}:e?r={...e,commitment:e&&e.commitment||this.commitment}:r={commitment:this.commitment};let n=await this._rpcRequest("getSupply",[r]),i=N.create(n,ftt);if("error"in i)throw new Ot(i.error,"failed to get supply");return i.result}async getTokenSupply(e,r){let n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenSupply",n),o=N.create(i,vo(aj));if("error"in o)throw new Ot(o.error,"failed to get token supply");return o.result}async getTokenAccountBalance(e,r){let n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenAccountBalance",n),o=N.create(i,vo(aj));if("error"in o)throw new Ot(o.error,"failed to get token account balance");return o.result}async getTokenAccountsByOwner(e,r,n){let{commitment:i,config:o}=Ui(n),s=[e.toBase58()];"mint"in r?s.push({mint:r.mint.toBase58()}):s.push({programId:r.programId.toBase58()});let c=this._buildArgs(s,i,"base64",o),l=await this._rpcRequest("getTokenAccountsByOwner",c),m=N.create(l,dtt);if("error"in m)throw new Ot(m.error,`failed to get token accounts owned by account ${e.toBase58()}`);return m.result}async getParsedTokenAccountsByOwner(e,r,n){let i=[e.toBase58()];"mint"in r?i.push({mint:r.mint.toBase58()}):i.push({programId:r.programId.toBase58()});let o=this._buildArgs(i,n,"jsonParsed"),s=await this._rpcRequest("getTokenAccountsByOwner",o),c=N.create(s,htt);if("error"in c)throw new Ot(c.error,`failed to get token accounts owned by account ${e.toBase58()}`);return c.result}async getLargestAccounts(e){let r={...e,commitment:e&&e.commitment||this.commitment},n=r.filter||r.commitment?[r]:[],i=await this._rpcRequest("getLargestAccounts",n),o=N.create(i,ptt);if("error"in o)throw new Ot(o.error,"failed to get largest accounts");return o.result}async getTokenLargestAccounts(e,r){let n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenLargestAccounts",n),o=N.create(i,ltt);if("error"in o)throw new Ot(o.error,"failed to get token largest accounts");return o.result}async getAccountInfoAndContext(e,r){let{commitment:n,config:i}=Ui(r),o=this._buildArgs([e.toBase58()],n,"base64",i),s=await this._rpcRequest("getAccountInfo",o),c=N.create(s,vo(N.nullable(K6)));if("error"in c)throw new Ot(c.error,`failed to get info about account ${e.toBase58()}`);return c.result}async getParsedAccountInfo(e,r){let{commitment:n,config:i}=Ui(r),o=this._buildArgs([e.toBase58()],n,"jsonParsed",i),s=await this._rpcRequest("getAccountInfo",o),c=N.create(s,vo(N.nullable(uj)));if("error"in c)throw new Ot(c.error,`failed to get info about account ${e.toBase58()}`);return c.result}async getAccountInfo(e,r){try{return(await this.getAccountInfoAndContext(e,r)).value}catch(n){throw new Error("failed to get info about account "+e.toBase58()+": "+n)}}async getMultipleParsedAccounts(e,r){let{commitment:n,config:i}=Ui(r),o=e.map(m=>m.toBase58()),s=this._buildArgs([o],n,"jsonParsed",i),c=await this._rpcRequest("getMultipleAccounts",s),l=N.create(c,vo(N.array(N.nullable(uj))));if("error"in l)throw new Ot(l.error,`failed to get info for accounts ${o}`);return l.result}async getMultipleAccountsInfoAndContext(e,r){let{commitment:n,config:i}=Ui(r),o=e.map(m=>m.toBase58()),s=this._buildArgs([o],n,"base64",i),c=await this._rpcRequest("getMultipleAccounts",s),l=N.create(c,vo(N.array(N.nullable(K6))));if("error"in l)throw new Ot(l.error,`failed to get info for accounts ${o}`);return l.result}async getMultipleAccountsInfo(e,r){return(await this.getMultipleAccountsInfoAndContext(e,r)).value}async getStakeActivation(e,r,n){let{commitment:i,config:o}=Ui(r),s=this._buildArgs([e.toBase58()],i,void 0,{...o,epoch:n??o?.epoch}),c=await this._rpcRequest("getStakeActivation",s),l=N.create(c,Er(btt));if("error"in l)throw new Ot(l.error,`failed to get Stake Activation ${e.toBase58()}`);return l.result}async getProgramAccounts(e,r){let{commitment:n,config:i}=Ui(r),{encoding:o,...s}=i||{},c=this._buildArgs([e.toBase58()],n,o||"base64",s),l=await this._rpcRequest("getProgramAccounts",c),m=N.create(l,Er(N.array(mtt)));if("error"in m)throw new Ot(m.error,`failed to get accounts owned by program ${e.toBase58()}`);return m.result}async getParsedProgramAccounts(e,r){let{commitment:n,config:i}=Ui(r),o=this._buildArgs([e.toBase58()],n,"jsonParsed",i),s=await this._rpcRequest("getProgramAccounts",o),c=N.create(s,Er(N.array(gtt)));if("error"in c)throw new Ot(c.error,`failed to get accounts owned by program ${e.toBase58()}`);return c.result}async confirmTransaction(e,r){let n;if(typeof e=="string")n=e;else{let o=e;if(o.abortSignal?.aborted)return Promise.reject(o.abortSignal.reason);n=o.signature}let i;try{i=Bs.default.decode(n)}catch{throw new Error("signature must be base58 encoded: "+n)}return vn(i.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:r||this.commitment,signature:n}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:r||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:r||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((r,n)=>{e!=null&&(e.aborted?n(e.reason):e.addEventListener("abort",()=>{n(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:r}){let n,i,o=!1,s=new Promise((l,m)=>{try{n=this.onSignature(r,(b,E)=>{n=void 0;let I={context:E,value:b};l({__type:lt.TransactionStatus.PROCESSED,response:I})},e);let w=new Promise(b=>{n==null?b():i=this._onSubscriptionStateChange(n,E=>{E==="subscribed"&&b()})});(async()=>{if(await w,o)return;let b=await this.getSignatureStatus(r);if(o||b==null)return;let{context:E,value:I}=b;if(I!=null)if(I?.err)m(I.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(I.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(I.confirmationStatus==="processed"||I.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}o=!0,l({__type:lt.TransactionStatus.PROCESSED,response:{context:E,value:I}})}})()}catch(w){m(w)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),n!=null&&(this.removeSignatureListener(n),n=void 0)},confirmationPromise:s}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:r,lastValidBlockHeight:n,signature:i}}){let o=!1,s=new Promise(b=>{let E=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let I=await E();if(!o){for(;I<=n;)if(await o1(1e3),o||(I=await E(),o))return;b({__type:lt.TransactionStatus.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:c,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),m=this.getCancellationPromise(r),w;try{let b=await Promise.race([m,l,s]);if(b.__type===lt.TransactionStatus.PROCESSED)w=b.response;else throw new L6(i)}finally{o=!0,c()}return w}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:r,minContextSlot:n,nonceAccountPubkey:i,nonceValue:o,signature:s}}){let c=!1,l=new Promise(I=>{let M=o,k=null,R=async()=>{try{let{context:B,value:U}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:n});return k=B.slot,U?.nonce}catch{return M}};(async()=>{if(M=await R(),!c)for(;;){if(o!==M){I({__type:lt.TransactionStatus.NONCE_INVALID,slotInWhichNonceDidAdvance:k});return}if(await o1(2e3),c||(M=await R(),c))return}})()}),{abortConfirmation:m,confirmationPromise:w}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),b=this.getCancellationPromise(r),E;try{let I=await Promise.race([b,w,l]);if(I.__type===lt.TransactionStatus.PROCESSED)E=I.response;else{let M;for(;;){let k=await this.getSignatureStatus(s);if(k==null)break;if(k.context.slot<(I.slotInWhichNonceDidAdvance??n)){await o1(400);continue}M=k;break}if(M?.value){let k=e||"finalized",{confirmationStatus:R}=M.value;switch(k){case"processed":case"recent":if(R!=="processed"&&R!=="confirmed"&&R!=="finalized")throw new Rm(s);break;case"confirmed":case"single":case"singleGossip":if(R!=="confirmed"&&R!=="finalized")throw new Rm(s);break;case"finalized":case"max":case"root":if(R!=="finalized")throw new Rm(s);break;default:}E={context:M.context,value:{err:M.value.err}}}else throw new Rm(s)}}finally{c=!0,m()}return E}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:r}){let n,i=new Promise(l=>{let m=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{m=this._confirmTransactionInitialTimeout||3e4;break}}n=setTimeout(()=>l({__type:lt.TransactionStatus.TIMED_OUT,timeoutMs:m}),m)}),{abortConfirmation:o,confirmationPromise:s}=this.getTransactionConfirmationPromise({commitment:e,signature:r}),c;try{let l=await Promise.race([s,i]);if(l.__type===lt.TransactionStatus.PROCESSED)c=l.response;else throw new F6(r,l.timeoutMs/1e3)}finally{clearTimeout(n),o()}return c}async getClusterNodes(){let e=await this._rpcRequest("getClusterNodes",[]),r=N.create(e,Er(N.array(Ptt)));if("error"in r)throw new Ot(r.error,"failed to get cluster nodes");return r.result}async getVoteAccounts(e){let r=this._buildArgs([],e),n=await this._rpcRequest("getVoteAccounts",r),i=N.create(n,Btt);if("error"in i)throw new Ot(i.error,"failed to get vote accounts");return i.result}async getSlot(e){let{commitment:r,config:n}=Ui(e),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getSlot",i),s=N.create(o,Er(N.number()));if("error"in s)throw new Ot(s.error,"failed to get slot");return s.result}async getSlotLeader(e){let{commitment:r,config:n}=Ui(e),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getSlotLeader",i),s=N.create(o,Er(N.string()));if("error"in s)throw new Ot(s.error,"failed to get slot leader");return s.result}async getSlotLeaders(e,r){let n=[e,r],i=await this._rpcRequest("getSlotLeaders",n),o=N.create(i,Er(N.array(xo)));if("error"in o)throw new Ot(o.error,"failed to get slot leaders");return o.result}async getSignatureStatus(e,r){let{context:n,value:i}=await this.getSignatureStatuses([e],r);vn(i.length===1);let o=i[0];return{context:n,value:o}}async getSignatureStatuses(e,r){let n=[e];r&&n.push(r);let i=await this._rpcRequest("getSignatureStatuses",n),o=N.create(i,Ott);if("error"in o)throw new Ot(o.error,"failed to get signature status");return o.result}async getTransactionCount(e){let{commitment:r,config:n}=Ui(e),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getTransactionCount",i),s=N.create(o,Er(N.number()));if("error"in s)throw new Ot(s.error,"failed to get transaction count");return s.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){let r=this._buildArgs([],e),n=await this._rpcRequest("getInflationGovernor",r),i=N.create(n,itt);if("error"in i)throw new Ot(i.error,"failed to get inflation");return i.result}async getInflationReward(e,r,n){let{commitment:i,config:o}=Ui(n),s=this._buildArgs([e.map(m=>m.toBase58())],i,void 0,{...o,epoch:r??o?.epoch}),c=await this._rpcRequest("getInflationReward",s),l=N.create(c,Wet);if("error"in l)throw new Ot(l.error,"failed to get inflation reward");return l.result}async getInflationRate(){let e=await this._rpcRequest("getInflationRate",[]),r=N.create(e,ott);if("error"in r)throw new Ot(r.error,"failed to get inflation rate");return r.result}async getEpochInfo(e){let{commitment:r,config:n}=Ui(e),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getEpochInfo",i),s=N.create(o,stt);if("error"in s)throw new Ot(s.error,"failed to get epoch info");return s.result}async getEpochSchedule(){let e=await this._rpcRequest("getEpochSchedule",[]),r=N.create(e,att);if("error"in r)throw new Ot(r.error,"failed to get epoch schedule");let n=r.result;return new M7(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot)}async getLeaderSchedule(){let e=await this._rpcRequest("getLeaderSchedule",[]),r=N.create(e,ctt);if("error"in r)throw new Ot(r.error,"failed to get leader schedule");return r.result}async getMinimumBalanceForRentExemption(e,r){let n=this._buildArgs([e],r),i=await this._rpcRequest("getMinimumBalanceForRentExemption",n),o=N.create(i,Ntt);return"error"in o?(console.warn("Unable to fetch minimum balance for rent exemption"),0):o.result}async getRecentBlockhashAndContext(e){let r=this._buildArgs([],e),n=await this._rpcRequest("getRecentBlockhash",r),i=N.create(n,ztt);if("error"in i)throw new Ot(i.error,"failed to get recent blockhash");return i.result}async getRecentPerformanceSamples(e){let r=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),n=N.create(r,$tt);if("error"in n)throw new Ot(n.error,"failed to get recent performance samples");return n.result}async getFeeCalculatorForBlockhash(e,r){let n=this._buildArgs([e],r),i=await this._rpcRequest("getFeeCalculatorForBlockhash",n),o=N.create(i,Ytt);if("error"in o)throw new Ot(o.error,"failed to get fee calculator");let{context:s,value:c}=o.result;return{context:s,value:c!==null?c.feeCalculator:null}}async getFeeForMessage(e,r){let n=vr(e.serialize()).toString("base64"),i=this._buildArgs([n],r),o=await this._rpcRequest("getFeeForMessage",i),s=N.create(o,vo(N.nullable(N.number())));if("error"in s)throw new Ot(s.error,"failed to get fee for message");if(s.result===null)throw new Error("invalid blockhash");return s.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhashAndContext(e){let{commitment:r,config:n}=Ui(e),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getLatestBlockhash",i),s=N.create(o,Wtt);if("error"in s)throw new Ot(s.error,"failed to get latest blockhash");return s.result}async getVersion(){let e=await this._rpcRequest("getVersion",[]),r=N.create(e,Er(Xet));if("error"in r)throw new Ot(r.error,"failed to get version");return r.result}async getGenesisHash(){let e=await this._rpcRequest("getGenesisHash",[]),r=N.create(e,Er(N.string()));if("error"in r)throw new Ot(r.error,"failed to get genesis hash");return r.result}async getBlock(e,r){let{commitment:n,config:i}=Ui(r),o=this._buildArgsAtLeastConfirmed([e],n,void 0,i),s=await this._rpcRequest("getBlock",o);try{switch(i?.transactionDetails){case"accounts":{let c=N.create(s,Vtt);if("error"in c)throw c.error;return c.result}case"none":{let c=N.create(s,Ftt);if("error"in c)throw c.error;return c.result}default:{let c=N.create(s,Ltt);if("error"in c)throw c.error;let{result:l}=c;return l?{...l,transactions:l.transactions.map(({transaction:m,meta:w,version:b})=>({meta:w,transaction:{...m,message:GH(b,m.message)},version:b}))}:null}}}catch(c){throw new Ot(c,"failed to get confirmed block")}}async getParsedBlock(e,r){let{commitment:n,config:i}=Ui(r),o=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i),s=await this._rpcRequest("getBlock",o);try{switch(i?.transactionDetails){case"accounts":{let c=N.create(s,Ktt);if("error"in c)throw c.error;return c.result}case"none":{let c=N.create(s,Htt);if("error"in c)throw c.error;return c.result}default:{let c=N.create(s,qtt);if("error"in c)throw c.error;return c.result}}}catch(c){throw new Ot(c,"failed to get block")}}async getBlockHeight(e){let{commitment:r,config:n}=Ui(e),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getBlockHeight",i),s=N.create(o,Er(N.number()));if("error"in s)throw new Ot(s.error,"failed to get block height information");return s.result}async getBlockProduction(e){let r,n;if(typeof e=="string")n=e;else if(e){let{commitment:c,...l}=e;n=c,r=l}let i=this._buildArgs([],n,"base64",r),o=await this._rpcRequest("getBlockProduction",i),s=N.create(o,ett);if("error"in s)throw new Ot(s.error,"failed to get block production information");return s.result}async getTransaction(e,r){let{commitment:n,config:i}=Ui(r),o=this._buildArgsAtLeastConfirmed([e],n,void 0,i),s=await this._rpcRequest("getTransaction",o),c=N.create(s,$H);if("error"in c)throw new Ot(c.error,"failed to get transaction");let l=c.result;return l&&{...l,transaction:{...l.transaction,message:GH(l.version,l.transaction.message)}}}async getParsedTransaction(e,r){let{commitment:n,config:i}=Ui(r),o=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i),s=await this._rpcRequest("getTransaction",o),c=N.create(s,w7);if("error"in c)throw new Ot(c.error,"failed to get transaction");return c.result}async getParsedTransactions(e,r){let{commitment:n,config:i}=Ui(r),o=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],n,"jsonParsed",i)}));return(await this._rpcBatchRequest(o)).map(l=>{let m=N.create(l,w7);if("error"in m)throw new Ot(m.error,"failed to get transactions");return m.result})}async getTransactions(e,r){let{commitment:n,config:i}=Ui(r),o=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],n,void 0,i)}));return(await this._rpcBatchRequest(o)).map(l=>{let m=N.create(l,$H);if("error"in m)throw new Ot(m.error,"failed to get transactions");let w=m.result;return w&&{...w,transaction:{...w.transaction,message:GH(w.version,w.transaction.message)}}})}async getConfirmedBlock(e,r){let n=this._buildArgsAtLeastConfirmed([e],r),i=await this._rpcRequest("getConfirmedBlock",n),o=N.create(i,jtt);if("error"in o)throw new Ot(o.error,"failed to get confirmed block");let s=o.result;if(!s)throw new Error("Confirmed block "+e+" not found");let c={...s,transactions:s.transactions.map(({transaction:l,meta:m})=>{let w=new Hd(l.message);return{meta:m,transaction:{...l,message:w}}})};return{...c,transactions:c.transactions.map(({transaction:l,meta:m})=>({meta:m,transaction:Hn.populate(l.message,l.signatures)}))}}async getBlocks(e,r,n){let i=this._buildArgsAtLeastConfirmed(r!==void 0?[e,r]:[e],n),o=await this._rpcRequest("getBlocks",i),s=N.create(o,Er(N.array(N.number())));if("error"in s)throw new Ot(s.error,"failed to get blocks");return s.result}async getBlockSignatures(e,r){let n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",n),o=N.create(i,Wye);if("error"in o)throw new Ot(o.error,"failed to get block");let s=o.result;if(!s)throw new Error("Block "+e+" not found");return s}async getConfirmedBlockSignatures(e,r){let n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getConfirmedBlock",n),o=N.create(i,Wye);if("error"in o)throw new Ot(o.error,"failed to get confirmed block");let s=o.result;if(!s)throw new Error("Confirmed block "+e+" not found");return s}async getConfirmedTransaction(e,r){let n=this._buildArgsAtLeastConfirmed([e],r),i=await this._rpcRequest("getConfirmedTransaction",n),o=N.create(i,$H);if("error"in o)throw new Ot(o.error,"failed to get transaction");let s=o.result;if(!s)return s;let c=new Hd(s.transaction.message),l=s.transaction.signatures;return{...s,transaction:Hn.populate(c,l)}}async getParsedConfirmedTransaction(e,r){let n=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed"),i=await this._rpcRequest("getConfirmedTransaction",n),o=N.create(i,w7);if("error"in o)throw new Ot(o.error,"failed to get confirmed transaction");return o.result}async getParsedConfirmedTransactions(e,r){let n=e.map(s=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([s],r,"jsonParsed")}));return(await this._rpcBatchRequest(n)).map(s=>{let c=N.create(s,w7);if("error"in c)throw new Ot(c.error,"failed to get confirmed transactions");return c.result})}async getConfirmedSignaturesForAddress(e,r,n){let i={},o=await this.getFirstAvailableBlock();for(;!("until"in i)&&(r--,!(r<=0||r<o));)try{let l=await this.getConfirmedBlockSignatures(r,"finalized");l.signatures.length>0&&(i.until=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}let s=await this.getSlot("finalized");for(;!("before"in i)&&(n++,!(n>s));)try{let l=await this.getConfirmedBlockSignatures(n);l.signatures.length>0&&(i.before=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}return(await this.getConfirmedSignaturesForAddress2(e,i)).map(l=>l.signature)}async getConfirmedSignaturesForAddress2(e,r,n){let i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),o=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),s=N.create(o,vtt);if("error"in s)throw new Ot(s.error,"failed to get confirmed signatures for address");return s.result}async getSignaturesForAddress(e,r,n){let i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),o=await this._rpcRequest("getSignaturesForAddress",i),s=N.create(o,xtt);if("error"in s)throw new Ot(s.error,"failed to get signatures for address");return s.result}async getAddressLookupTable(e,r){let{context:n,value:i}=await this.getAccountInfoAndContext(e,r),o=null;return i!==null&&(o=new q6({key:e,state:q6.deserialize(i.data)})),{context:n,value:o}}async getNonceAndContext(e,r){let{context:n,value:i}=await this.getAccountInfoAndContext(e,r),o=null;return i!==null&&(o=I7.fromAccountData(i.data)),{context:n,value:o}}async getNonce(e,r){return await this.getNonceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+n)})}async requestAirdrop(e,r){let n=await this._rpcRequest("requestAirdrop",[e.toBase58(),r]),i=N.create(n,Ztt);if("error"in i)throw new Ot(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await o1(100);let n=Date.now()-this._blockhashInfo.lastFetch>=uge;if(this._blockhashInfo.latestBlockhash!==null&&!n)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{let e=Date.now(),r=this._blockhashInfo.latestBlockhash,n=r?r.blockhash:null;for(let i=0;i<50;i++){let o=await this.getLatestBlockhash("finalized");if(n!==o.blockhash)return this._blockhashInfo={latestBlockhash:o,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},o;await o1(Let/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){let{commitment:r,config:n}=Ui(e),i=this._buildArgs([],r,"base64",n),o=await this._rpcRequest("getStakeMinimumDelegation",i),s=N.create(o,vo(N.number()));if("error"in s)throw new Ot(s.error,"failed to get stake minimum delegation");return s.result}async simulateTransaction(e,r,n){if("message"in e){let k=e.serialize(),R=Wt.Buffer.from(k).toString("base64");if(Array.isArray(r)||n!==void 0)throw new Error("Invalid arguments");let B=r||{};B.encoding="base64","commitment"in B||(B.commitment=this.commitment);let U=[R,B],P=await this._rpcRequest("simulateTransaction",U),F=N.create(P,jye);if("error"in F)throw new Error("failed to simulate transaction: "+F.error.message);return F.result}let i;if(e instanceof Hn){let M=e;i=new Hn,i.feePayer=M.feePayer,i.instructions=e.instructions,i.nonceInfo=M.nonceInfo,i.signatures=M.signatures}else i=Hn.populate(e),i._message=i._json=void 0;if(r!==void 0&&!Array.isArray(r))throw new Error("Invalid arguments");let o=r;if(i.nonceInfo&&o)i.sign(...o);else{let M=this._disableBlockhashCaching;for(;;){let k=await this._blockhashWithExpiryBlockHeight(M);if(i.lastValidBlockHeight=k.lastValidBlockHeight,i.recentBlockhash=k.blockhash,!o)break;if(i.sign(...o),!i.signature)throw new Error("!signature");let R=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(R)&&!this._blockhashInfo.transactionSignatures.includes(R)){this._blockhashInfo.simulatedSignatures.push(R);break}else M=!0}}let s=i._compile(),c=s.serialize(),m=i._serialize(c).toString("base64"),w={encoding:"base64",commitment:this.commitment};if(n){let M=(Array.isArray(n)?n:s.nonProgramIds()).map(k=>k.toBase58());w.accounts={encoding:"base64",addresses:M}}o&&(w.sigVerify=!0);let b=[m,w],E=await this._rpcRequest("simulateTransaction",b),I=N.create(E,jye);if("error"in I){let M;if("data"in I.error&&(M=I.error.data.logs,M&&Array.isArray(M))){let k=`
    `,R=k+M.join(k);console.error(I.error.message,R)}throw new V6("failed to simulate transaction: "+I.error.message,M)}return I.result}async sendTransaction(e,r,n){if("version"in e){if(r&&Array.isArray(r))throw new Error("Invalid arguments");let s=e.serialize();return await this.sendRawTransaction(s,r)}if(r===void 0||!Array.isArray(r))throw new Error("Invalid arguments");let i=r;if(e.nonceInfo)e.sign(...i);else{let s=this._disableBlockhashCaching;for(;;){let c=await this._blockhashWithExpiryBlockHeight(s);if(e.lastValidBlockHeight=c.lastValidBlockHeight,e.recentBlockhash=c.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");let l=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(l))s=!0;else{this._blockhashInfo.transactionSignatures.push(l);break}}}let o=e.serialize();return await this.sendRawTransaction(o,n)}async sendRawTransaction(e,r){let n=vr(e).toString("base64");return await this.sendEncodedTransaction(n,r)}async sendEncodedTransaction(e,r){let n={encoding:"base64"},i=r&&r.skipPreflight,o=r&&r.preflightCommitment||this.commitment;r&&r.maxRetries!=null&&(n.maxRetries=r.maxRetries),r&&r.minContextSlot!=null&&(n.minContextSlot=r.minContextSlot),i&&(n.skipPreflight=i),o&&(n.preflightCommitment=o);let s=[e,n],c=await this._rpcRequest("sendTransaction",s),l=N.create(c,Qtt);if("error"in l){let m;throw"data"in l.error&&(m=l.error.data.logs),new V6("failed to send transaction: "+l.error.message,m)}return l.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([r,n])=>{this._setSubscription(r,{...n,state:"pending"})})}_setSubscription(e,r){let n=this._subscriptionsByHash[e]?.state;if(this._subscriptionsByHash[e]=r,n!==r.state){let i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(o=>{try{o(r.state)}catch{}})}}_onSubscriptionStateChange(e,r){let n=this._subscriptionHashByClientSubscriptionId[e];if(n==null)return()=>{};let i=this._subscriptionStateChangeCallbacksByHash[n]||=new Set;return i.add(r),()=>{i.delete(r),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[n]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(n){n instanceof Error&&console.log(`Error when closing socket connection: ${n.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}let e=this._rpcWebSocketGeneration,r=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async n=>{let i=this._subscriptionsByHash[n];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[n],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{let{args:o,method:s}=i;try{this._setSubscription(n,{...i,state:"subscribing"});let c=await this._rpcWebSocket.call(s,o);this._setSubscription(n,{...i,serverSubscriptionId:c,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[c]=i.callbacks,await this._updateSubscriptions()}catch(c){if(c instanceof Error&&console.error(`${s} error for argument`,o,c.message),!r())return;this._setSubscription(n,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{let{serverSubscriptionId:o,unsubscribeMethod:s}=i;if(this._subscriptionsAutoDisposedByRpc.has(o))this._subscriptionsAutoDisposedByRpc.delete(o);else{this._setSubscription(n,{...i,state:"unsubscribing"}),this._setSubscription(n,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(s,[o])}catch(c){if(c instanceof Error&&console.error(`${s} error:`,c.message),!r())return;this._setSubscription(n,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(n,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,r){let n=this._subscriptionCallbacksByServerSubscriptionId[e];n!==void 0&&n.forEach(i=>{try{i(...r)}catch(o){console.error(o)}})}_wsOnAccountNotification(e){let{result:r,subscription:n}=N.create(e,wtt);this._handleServerNotification(n,[r.value,r.context])}_makeSubscription(e,r){let n=this._nextClientSubscriptionId++,i=Bet([e.method,r]),o=this._subscriptionsByHash[i];return o===void 0?this._subscriptionsByHash[i]={...e,args:r,callbacks:new Set([e.callback]),state:"pending"}:o.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[n]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];let s=this._subscriptionsByHash[i];vn(s!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),s.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(e,r,n){let i=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64");return this._makeSubscription({callback:r,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},i)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){let{result:r,subscription:n}=N.create(e,Att);this._handleServerNotification(n,[{accountId:r.value.pubkey,accountInfo:r.value.account},r.context])}onProgramAccountChange(e,r,n,i){let o=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64",i?{filters:i}:void 0);return this._makeSubscription({callback:r,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},o)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,r,n){let i=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],n||this._commitment||"finalized");return this._makeSubscription({callback:r,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){let{result:r,subscription:n}=N.create(e,Xtt);this._handleServerNotification(n,[r.value,r.context])}_wsOnSlotNotification(e){let{result:r,subscription:n}=N.create(e,_tt);this._handleServerNotification(n,[r])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){let{result:r,subscription:n}=N.create(e,Itt);this._handleServerNotification(n,[r])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,r){let n=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${r}' events could not be found.`)}_buildArgs(e,r,n,i){let o=r||this._commitment;if(o||n||i){let s={};n&&(s.encoding=n),o&&(s.commitment=o),i&&(s=Object.assign(s,i)),e.push(s)}return e}_buildArgsAtLeastConfirmed(e,r,n,i){let o=r||this._commitment;if(o&&!["confirmed","finalized"].includes(o))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,r,n,i)}_wsOnSignatureNotification(e){let{result:r,subscription:n}=N.create(e,Mtt);r.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,r.value==="receivedSignature"?[{type:"received"},r.context]:[{type:"status",result:r.value},r.context])}onSignature(e,r,n){let i=this._buildArgs([e],n||this._commitment||"finalized"),o=this._makeSubscription({callback:(s,c)=>{if(s.type==="status"){r(s.result,c);try{this.removeSignatureListener(o)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return o}onSignatureWithOptions(e,r,n){let{commitment:i,...o}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},s=this._buildArgs([e],i,void 0,o),c=this._makeSubscription({callback:(l,m)=>{r(l,m);try{this.removeSignatureListener(c)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return c}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){let{result:r,subscription:n}=N.create(e,ktt);this._handleServerNotification(n,[r])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}},P7=class t{constructor(e){this._keypair=void 0,this._keypair=e??Vye()}static generate(){return new t(Vye())}static fromSecretKey(e,r){if(e.byteLength!==64)throw new Error("bad secret key size");let n=e.slice(32,64);if(!r||!r.skipValidation){let i=e.slice(0,32),o=_7(i);for(let s=0;s<32;s++)if(n[s]!==o[s])throw new Error("provided secretKey is invalid")}return new t({publicKey:n,secretKey:e})}static fromSeed(e){let r=_7(e),n=new Uint8Array(64);return n.set(e),n.set(r,32),new t({publicKey:r,secretKey:n})}get publicKey(){return new vt(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}},x0=Object.freeze({CreateLookupTable:{index:0,layout:fe.struct([fe.u32("instruction"),Hw("recentSlot"),fe.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:fe.struct([fe.u32("instruction")])},ExtendLookupTable:{index:2,layout:fe.struct([fe.u32("instruction"),Hw(),fe.seq(Dr(),fe.offset(fe.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:fe.struct([fe.u32("instruction")])},CloseLookupTable:{index:4,layout:fe.struct([fe.u32("instruction")])}}),lj=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=fe.u32("instruction").decode(e.data),i;for(let[o,s]of Object.entries(x0))if(s.index==n){i=o;break}if(!i)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return i}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);let{recentSlot:r}=Nn(x0.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(r)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);let{addresses:r}=Nn(x0.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:r.map(n=>new vt(n))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(H6.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},H6=class{constructor(){}static createLookupTable(e){let[r,n]=vt.findProgramAddressSync([e.authority.toBuffer(),JH.toBufferLE(BigInt(e.recentSlot),8)],this.programId),i=x0.CreateLookupTable,o=pn(i,{recentSlot:BigInt(e.recentSlot),bumpSeed:n}),s=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:pa.programId,isSigner:!1,isWritable:!1}];return[new jn({programId:this.programId,keys:s,data:o}),r]}static freezeLookupTable(e){let r=x0.FreezeLookupTable,n=pn(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new jn({programId:this.programId,keys:i,data:n})}static extendLookupTable(e){let r=x0.ExtendLookupTable,n=pn(r,{addresses:e.addresses.map(o=>o.toBytes())}),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&i.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:pa.programId,isSigner:!1,isWritable:!1}),new jn({programId:this.programId,keys:i,data:n})}static deactivateLookupTable(e){let r=x0.DeactivateLookupTable,n=pn(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new jn({programId:this.programId,keys:i,data:n})}static closeLookupTable(e){let r=x0.CloseLookupTable,n=pn(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new jn({programId:this.programId,keys:i,data:n})}};H6.programId=new vt("AddressLookupTab1e1111111111111111111111111");var dj=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=fe.u8("instruction").decode(e.data),i;for(let[o,s]of Object.entries(qd))if(s.index==n){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return i}static decodeRequestUnits(e){this.checkProgramId(e.programId);let{units:r,additionalFee:n}=Nn(qd.RequestUnits,e.data);return{units:r,additionalFee:n}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);let{bytes:r}=Nn(qd.RequestHeapFrame,e.data);return{bytes:r}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);let{units:r}=Nn(qd.SetComputeUnitLimit,e.data);return{units:r}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);let{microLamports:r}=Nn(qd.SetComputeUnitPrice,e.data);return{microLamports:r}}static checkProgramId(e){if(!e.equals(j6.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}},qd=Object.freeze({RequestUnits:{index:0,layout:fe.struct([fe.u8("instruction"),fe.u32("units"),fe.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:fe.struct([fe.u8("instruction"),fe.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:fe.struct([fe.u8("instruction"),fe.u32("units")])},SetComputeUnitPrice:{index:3,layout:fe.struct([fe.u8("instruction"),Hw("microLamports")])}}),j6=class{constructor(){}static requestUnits(e){let r=qd.RequestUnits,n=pn(r,e);return new jn({keys:[],programId:this.programId,data:n})}static requestHeapFrame(e){let r=qd.RequestHeapFrame,n=pn(r,e);return new jn({keys:[],programId:this.programId,data:n})}static setComputeUnitLimit(e){let r=qd.SetComputeUnitLimit,n=pn(r,e);return new jn({keys:[],programId:this.programId,data:n})}static setComputeUnitPrice(e){let r=qd.SetComputeUnitPrice,n=pn(r,{microLamports:BigInt(e.microLamports)});return new jn({keys:[],programId:this.programId,data:n})}};j6.programId=new vt("ComputeBudget111111111111111111111111111111");var Gye=64,$ye=32,Yye=64,Zye=fe.struct([fe.u8("numSignatures"),fe.u8("padding"),fe.u16("signatureOffset"),fe.u16("signatureInstructionIndex"),fe.u16("publicKeyOffset"),fe.u16("publicKeyInstructionIndex"),fe.u16("messageDataOffset"),fe.u16("messageDataSize"),fe.u16("messageInstructionIndex")]),B7=class t{constructor(){}static createInstructionWithPublicKey(e){let{publicKey:r,message:n,signature:i,instructionIndex:o}=e;vn(r.length===$ye,`Public Key must be ${$ye} bytes but received ${r.length} bytes`),vn(i.length===Yye,`Signature must be ${Yye} bytes but received ${i.length} bytes`);let s=Zye.span,c=s+r.length,l=c+i.length,m=1,w=Wt.Buffer.alloc(l+n.length),b=o??65535;return Zye.encode({numSignatures:m,padding:0,signatureOffset:c,signatureInstructionIndex:b,publicKeyOffset:s,publicKeyInstructionIndex:b,messageDataOffset:l,messageDataSize:n.length,messageInstructionIndex:b},w),w.fill(r,s),w.fill(i,c),w.fill(n,l),new jn({keys:[],programId:t.programId,data:w})}static createInstructionWithPrivateKey(e){let{privateKey:r,message:n,instructionIndex:i}=e;vn(r.length===Gye,`Private key must be ${Gye} bytes but received ${r.length} bytes`);try{let o=P7.fromSecretKey(r),s=o.publicKey.toBytes(),c=bj(n,o.secretKey);return this.createInstructionWithPublicKey({publicKey:s,message:n,signature:c,instructionIndex:i})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}};B7.programId=new vt("Ed25519SigVerify111111111111111111111111111");N7.utils.hmacSha256Sync=(t,...e)=>{let r=ret.hmac.create(QH.sha256,t);return e.forEach(n=>r.update(n)),r.digest()};var trt=(t,e)=>N7.signSync(t,e,{der:!1,recovered:!0});N7.utils.isValidPrivateKey;var rrt=N7.getPublicKey,Qye=32,YH=20,Jye=64,nrt=11,ZH=fe.struct([fe.u8("numSignatures"),fe.u16("signatureOffset"),fe.u8("signatureInstructionIndex"),fe.u16("ethAddressOffset"),fe.u8("ethAddressInstructionIndex"),fe.u16("messageDataOffset"),fe.u16("messageDataSize"),fe.u8("messageInstructionIndex"),fe.blob(20,"ethAddress"),fe.blob(64,"signature"),fe.u8("recoveryId")]),R7=class t{constructor(){}static publicKeyToEthAddress(e){vn(e.length===Jye,`Public key must be ${Jye} bytes but received ${e.length} bytes`);try{return Wt.Buffer.from(Lye.keccak_256(vr(e))).slice(-YH)}catch(r){throw new Error(`Error constructing Ethereum address: ${r}`)}}static createInstructionWithPublicKey(e){let{publicKey:r,message:n,signature:i,recoveryId:o,instructionIndex:s}=e;return t.createInstructionWithEthAddress({ethAddress:t.publicKeyToEthAddress(r),message:n,signature:i,recoveryId:o,instructionIndex:s})}static createInstructionWithEthAddress(e){let{ethAddress:r,message:n,signature:i,recoveryId:o,instructionIndex:s=0}=e,c;typeof r=="string"?r.startsWith("0x")?c=Wt.Buffer.from(r.substr(2),"hex"):c=Wt.Buffer.from(r,"hex"):c=r,vn(c.length===YH,`Address must be ${YH} bytes but received ${c.length} bytes`);let l=1+nrt,m=l,w=l+c.length,b=w+i.length+1,E=1,I=Wt.Buffer.alloc(ZH.span+n.length);return ZH.encode({numSignatures:E,signatureOffset:w,signatureInstructionIndex:s,ethAddressOffset:m,ethAddressInstructionIndex:s,messageDataOffset:b,messageDataSize:n.length,messageInstructionIndex:s,signature:vr(i),ethAddress:vr(c),recoveryId:o},I),I.fill(vr(n),ZH.span),new jn({keys:[],programId:t.programId,data:I})}static createInstructionWithPrivateKey(e){let{privateKey:r,message:n,instructionIndex:i}=e;vn(r.length===Qye,`Private key must be ${Qye} bytes but received ${r.length} bytes`);try{let o=vr(r),s=rrt(o,!1).slice(1),c=Wt.Buffer.from(Lye.keccak_256(vr(n))),[l,m]=trt(c,o);return this.createInstructionWithPublicKey({publicKey:s,message:n,signature:l,recoveryId:m,instructionIndex:i})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}};R7.programId=new vt("KeccakSecp256k11111111111111111111111111111");var vge=new vt("StakeConfig11111111111111111111111111111111"),C7=class{constructor(e,r){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=r}},c1=class{constructor(e,r,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=r,this.custodian=n}};c1.default=new c1(0,0,vt.default);var hj=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=fe.u32("instruction").decode(e.data),i;for(let[o,s]of Object.entries(cs))if(s.index==n){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a StakeInstruction");return i}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{authorized:r,lockup:n}=Nn(cs.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new C7(new vt(r.staker),new vt(r.withdrawer)),lockup:new c1(n.unixTimestamp,n.epoch,new vt(n.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),Nn(cs.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{newAuthorized:r,stakeAuthorizationType:n}=Nn(cs.Authorize,e.data),i={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new vt(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(i.custodianPubkey=e.keys[3].pubkey),i}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{newAuthorized:r,stakeAuthorizationType:n,authoritySeed:i,authorityOwner:o}=Nn(cs.AuthorizeWithSeed,e.data),s={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:i,authorityOwner:new vt(o),newAuthorizedPubkey:new vt(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{lamports:r}=Nn(cs.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:r}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Nn(cs.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);let{lamports:r}=Nn(cs.Withdraw,e.data),n={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r};return e.keys.length>5&&(n.custodianPubkey=e.keys[5].pubkey),n}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Nn(cs.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(zw.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},cs=Object.freeze({Initialize:{index:0,layout:fe.struct([fe.u32("instruction"),het(),pet()])},Authorize:{index:1,layout:fe.struct([fe.u32("instruction"),Dr("newAuthorized"),fe.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:fe.struct([fe.u32("instruction")])},Split:{index:3,layout:fe.struct([fe.u32("instruction"),fe.ns64("lamports")])},Withdraw:{index:4,layout:fe.struct([fe.u32("instruction"),fe.ns64("lamports")])},Deactivate:{index:5,layout:fe.struct([fe.u32("instruction")])},Merge:{index:7,layout:fe.struct([fe.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:fe.struct([fe.u32("instruction"),Dr("newAuthorized"),fe.u32("stakeAuthorizationType"),s1("authoritySeed"),Dr("authorityOwner")])}}),irt=Object.freeze({Staker:{index:0},Withdrawer:{index:1}}),zw=class{constructor(){}static initialize(e){let{stakePubkey:r,authorized:n,lockup:i}=e,o=i||c1.default,s=cs.Initialize,c=pn(s,{authorized:{staker:vr(n.staker.toBuffer()),withdrawer:vr(n.withdrawer.toBuffer())},lockup:{unixTimestamp:o.unixTimestamp,epoch:o.epoch,custodian:vr(o.custodian.toBuffer())}}),l={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Kw,isSigner:!1,isWritable:!1}],programId:this.programId,data:c};return new jn(l)}static createAccountWithSeed(e){let r=new Hn;r.add(pa.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:i,lockup:o}=e;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:o}))}static createAccount(e){let r=new Hn;r.add(pa.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:i,lockup:o}=e;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:o}))}static delegate(e){let{stakePubkey:r,authorizedPubkey:n,votePubkey:i}=e,o=cs.Delegate,s=pn(o);return new Hn().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:Fd,isSigner:!1,isWritable:!1},{pubkey:A7,isSigner:!1,isWritable:!1},{pubkey:vge,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static authorize(e){let{stakePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,stakeAuthorizationType:o,custodianPubkey:s}=e,c=cs.Authorize,l=pn(c,{newAuthorized:vr(i.toBuffer()),stakeAuthorizationType:o.index}),m=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Fd,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return s&&m.push({pubkey:s,isSigner:!1,isWritable:!1}),new Hn().add({keys:m,programId:this.programId,data:l})}static authorizeWithSeed(e){let{stakePubkey:r,authorityBase:n,authoritySeed:i,authorityOwner:o,newAuthorizedPubkey:s,stakeAuthorizationType:c,custodianPubkey:l}=e,m=cs.AuthorizeWithSeed,w=pn(m,{newAuthorized:vr(s.toBuffer()),stakeAuthorizationType:c.index,authoritySeed:i,authorityOwner:vr(o.toBuffer())}),b=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:Fd,isSigner:!1,isWritable:!1}];return l&&b.push({pubkey:l,isSigner:!1,isWritable:!1}),new Hn().add({keys:b,programId:this.programId,data:w})}static splitInstruction(e){let{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,lamports:o}=e,s=cs.Split,c=pn(s,{lamports:o});return new jn({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:c})}static split(e){let r=new Hn;return r.add(pa.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e){let{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,basePubkey:o,seed:s,lamports:c}=e,l=new Hn;return l.add(pa.allocate({accountPubkey:i,basePubkey:o,seed:s,space:this.space,programId:this.programId})),l.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,lamports:c}))}static merge(e){let{stakePubkey:r,sourceStakePubKey:n,authorizedPubkey:i}=e,o=cs.Merge,s=pn(o);return new Hn().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Fd,isSigner:!1,isWritable:!1},{pubkey:A7,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static withdraw(e){let{stakePubkey:r,authorizedPubkey:n,toPubkey:i,lamports:o,custodianPubkey:s}=e,c=cs.Withdraw,l=pn(c,{lamports:o}),m=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:Fd,isSigner:!1,isWritable:!1},{pubkey:A7,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return s&&m.push({pubkey:s,isSigner:!1,isWritable:!1}),new Hn().add({keys:m,programId:this.programId,data:l})}static deactivate(e){let{stakePubkey:r,authorizedPubkey:n}=e,i=cs.Deactivate,o=pn(i);return new Hn().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Fd,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}};zw.programId=new vt("Stake11111111111111111111111111111111111111");zw.space=200;var O7=class{constructor(e,r,n,i){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=r,this.authorizedWithdrawer=n,this.commission=i}},pj=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=fe.u32("instruction").decode(e.data),i;for(let[o,s]of Object.entries(w0))if(s.index==n){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a VoteInstruction");return i}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);let{voteInit:r}=Nn(w0.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new O7(new vt(r.nodePubkey),new vt(r.authorizedVoter),new vt(r.authorizedWithdrawer),r.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{newAuthorized:r,voteAuthorizationType:n}=Nn(w0.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new vt(r),voteAuthorizationType:{index:n}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:n,newAuthorized:i,voteAuthorizationType:o}}=Nn(w0.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new vt(r),currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:new vt(i),voteAuthorizationType:{index:o},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{lamports:r}=Nn(w0.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:r,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(Ww.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},w0=Object.freeze({InitializeAccount:{index:0,layout:fe.struct([fe.u32("instruction"),met()])},Authorize:{index:1,layout:fe.struct([fe.u32("instruction"),Dr("newAuthorized"),fe.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:fe.struct([fe.u32("instruction"),fe.ns64("lamports")])},AuthorizeWithSeed:{index:10,layout:fe.struct([fe.u32("instruction"),yet()])}}),ort=Object.freeze({Voter:{index:0},Withdrawer:{index:1}}),Ww=class t{constructor(){}static initializeAccount(e){let{votePubkey:r,nodePubkey:n,voteInit:i}=e,o=w0.InitializeAccount,s=pn(o,{voteInit:{nodePubkey:vr(i.nodePubkey.toBuffer()),authorizedVoter:vr(i.authorizedVoter.toBuffer()),authorizedWithdrawer:vr(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),c={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Kw,isSigner:!1,isWritable:!1},{pubkey:Fd,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s};return new jn(c)}static createAccount(e){let r=new Hn;return r.add(pa.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),r.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){let{votePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,voteAuthorizationType:o}=e,s=w0.Authorize,c=pn(s,{newAuthorized:vr(i.toBuffer()),voteAuthorizationType:o.index}),l=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Fd,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new Hn().add({keys:l,programId:this.programId,data:c})}static authorizeWithSeed(e){let{currentAuthorityDerivedKeyBasePubkey:r,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:o,voteAuthorizationType:s,votePubkey:c}=e,l=w0.AuthorizeWithSeed,m=pn(l,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:vr(n.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:vr(o.toBuffer()),voteAuthorizationType:s.index}}),w=[{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:Fd,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Hn().add({keys:w,programId:this.programId,data:m})}static withdraw(e){let{votePubkey:r,authorizedWithdrawerPubkey:n,lamports:i,toPubkey:o}=e,s=w0.Withdraw,c=pn(s,{lamports:i}),l=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return new Hn().add({keys:l,programId:this.programId,data:c})}static safeWithdraw(e,r,n){if(e.lamports>r-n)throw new Error("Withdraw will leave vote account with insuffcient funds.");return t.withdraw(e)}};Ww.programId=new vt("Vote111111111111111111111111111111111111111");Ww.space=3731;var xge=new vt("Va1idator1nfo111111111111111111111111111111"),srt=N.type({name:N.string(),website:N.optional(N.string()),details:N.optional(N.string()),keybaseUsername:N.optional(N.string())}),mj=class t{constructor(e,r){this.key=void 0,this.info=void 0,this.key=e,this.info=r}static fromConfigData(e){let r=[...e];if(Sc(r)!==2)return null;let i=[];for(let o=0;o<2;o++){let s=new vt(Ac(r,0,Kd)),c=Vd(r)===1;i.push({publicKey:s,isSigner:c})}if(i[0].publicKey.equals(xge)&&i[1].isSigner){let o=s1().decode(Wt.Buffer.from(r)),s=JSON.parse(o);return N.assert(s,srt),new t(i[1].publicKey,s)}return null}},art=new vt("Vote111111111111111111111111111111111111111"),crt=fe.struct([Dr("nodePubkey"),Dr("authorizedWithdrawer"),fe.u8("commission"),fe.nu64(),fe.seq(fe.struct([fe.nu64("slot"),fe.u32("confirmationCount")]),fe.offset(fe.u32(),-8),"votes"),fe.u8("rootSlotValid"),fe.nu64("rootSlot"),fe.nu64(),fe.seq(fe.struct([fe.nu64("epoch"),Dr("authorizedVoter")]),fe.offset(fe.u32(),-8),"authorizedVoters"),fe.struct([fe.seq(fe.struct([Dr("authorizedPubkey"),fe.nu64("epochOfLastAuthorizedSwitch"),fe.nu64("targetEpoch")]),32,"buf"),fe.nu64("idx"),fe.u8("isEmpty")],"priorVoters"),fe.nu64(),fe.seq(fe.struct([fe.nu64("epoch"),fe.nu64("credits"),fe.nu64("prevCredits")]),fe.offset(fe.u32(),-8),"epochCredits"),fe.struct([fe.nu64("slot"),fe.nu64("timestamp")],"lastTimestamp")]),yj=class t{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){let n=crt.decode(vr(e),4),i=n.rootSlot;return n.rootSlotValid||(i=null),new t({nodePubkey:new vt(n.nodePubkey),authorizedWithdrawer:new vt(n.authorizedWithdrawer),commission:n.commission,votes:n.votes,rootSlot:i,authorizedVoters:n.authorizedVoters.map(urt),priorVoters:frt(n.priorVoters),epochCredits:n.epochCredits,lastTimestamp:n.lastTimestamp})}};function urt({authorizedVoter:t,epoch:e}){return{epoch:e,authorizedVoter:new vt(t)}}function Xye({authorizedPubkey:t,epochOfLastAuthorizedSwitch:e,targetEpoch:r}){return{authorizedPubkey:new vt(t),epochOfLastAuthorizedSwitch:e,targetEpoch:r}}function frt({buf:t,idx:e,isEmpty:r}){return r?[]:[...t.slice(e+1).map(Xye),...t.slice(0,e).map(Xye)]}var ege={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function lrt(t,e){let r=e===!1?"http":"https";if(!t)return ege[r].devnet;let n=ege[r][t];if(!n)throw new Error(`Unknown ${r} cluster: ${t}`);return n}async function drt(t,e,r,n){let i,o;r&&Object.prototype.hasOwnProperty.call(r,"lastValidBlockHeight")||r&&Object.prototype.hasOwnProperty.call(r,"nonceValue")?(i=r,o=n):o=r;let s=o&&{skipPreflight:o.skipPreflight,preflightCommitment:o.preflightCommitment||o.commitment,minContextSlot:o.minContextSlot},c=await t.sendRawTransaction(e,s),l=o&&o.commitment,w=(await(i?t.confirmTransaction(i,l):t.confirmTransaction(c,l))).value;if(w.err)throw new Error(`Raw transaction ${c} failed (${JSON.stringify(w)})`);return c}var hrt=1e9;lt.Account=ej;lt.AddressLookupTableAccount=q6;lt.AddressLookupTableInstruction=lj;lt.AddressLookupTableProgram=H6;lt.Authorized=C7;lt.BLOCKHASH_CACHE_TIMEOUT_MS=uge;lt.BPF_LOADER_DEPRECATED_PROGRAM_ID=fet;lt.BPF_LOADER_PROGRAM_ID=Iet;lt.BpfLoader=oj;lt.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS=qd;lt.ComputeBudgetInstruction=dj;lt.ComputeBudgetProgram=j6;lt.Connection=fj;lt.Ed25519Program=B7;lt.Enum=XH;lt.EpochSchedule=M7;lt.FeeCalculatorLayout=sge;lt.Keypair=P7;lt.LAMPORTS_PER_SOL=hrt;lt.LOOKUP_TABLE_INSTRUCTION_LAYOUTS=x0;lt.Loader=jw;lt.Lockup=c1;lt.MAX_SEED_LENGTH=nge;lt.Message=Hd;lt.MessageAccountKeys=a1;lt.MessageV0=qw;lt.NONCE_ACCOUNT_LENGTH=nj;lt.NonceAccount=I7;lt.PACKET_DATA_SIZE=Cm;lt.PUBLIC_KEY_LENGTH=Kd;lt.PublicKey=vt;lt.SIGNATURE_LENGTH_IN_BYTES=U6;lt.SOLANA_SCHEMA=N6;lt.STAKE_CONFIG_ID=vge;lt.STAKE_INSTRUCTION_LAYOUTS=cs;lt.SYSTEM_INSTRUCTION_LAYOUTS=ui;lt.SYSVAR_CLOCK_PUBKEY=Fd;lt.SYSVAR_EPOCH_SCHEDULE_PUBKEY=bet;lt.SYSVAR_INSTRUCTIONS_PUBKEY=vet;lt.SYSVAR_RECENT_BLOCKHASHES_PUBKEY=S7;lt.SYSVAR_RENT_PUBKEY=Kw;lt.SYSVAR_REWARDS_PUBKEY=xet;lt.SYSVAR_SLOT_HASHES_PUBKEY=wet;lt.SYSVAR_SLOT_HISTORY_PUBKEY=Aet;lt.SYSVAR_STAKE_HISTORY_PUBKEY=A7;lt.Secp256k1Program=R7;lt.SendTransactionError=V6;lt.SolanaJSONRPCError=Ot;lt.SolanaJSONRPCErrorCode=Cet;lt.StakeAuthorizationLayout=irt;lt.StakeInstruction=hj;lt.StakeProgram=zw;lt.Struct=D6;lt.SystemInstruction=ij;lt.SystemProgram=pa;lt.Transaction=Hn;lt.TransactionExpiredBlockheightExceededError=L6;lt.TransactionExpiredNonceInvalidError=Rm;lt.TransactionExpiredTimeoutError=F6;lt.TransactionInstruction=jn;lt.TransactionMessage=tj;lt.VALIDATOR_INFO_KEY=xge;lt.VERSION_PREFIX_MASK=D7;lt.VOTE_PROGRAM_ID=art;lt.ValidatorInfo=mj;lt.VersionedMessage=vj;lt.VersionedTransaction=rj;lt.VoteAccount=yj;lt.VoteAuthorizationLayout=ort;lt.VoteInit=O7;lt.VoteInstruction=pj;lt.VoteProgram=Ww;lt.clusterApiUrl=lrt;lt.sendAndConfirmRawTransaction=drt;lt.sendAndConfirmTransaction=E7});var fz=V(b_=>{"use strict";d();h();Object.defineProperty(b_,"__esModule",{value:!0});b_.SupportedAlgorithm=void 0;var Nit;(function(t){t.sha256="sha256",t.sha512="sha512"})(Nit=b_.SupportedAlgorithm||(b_.SupportedAlgorithm={}))});var m1e=V(_9=>{"use strict";d();h();Object.defineProperty(_9,"__esModule",{value:!0});_9.version=void 0;_9.version="sha2/5.7.0"});var g1e=V(bf=>{"use strict";d();h();var Dit=bf&&bf.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(bf,"__esModule",{value:!0});bf.computeHmac=bf.sha512=bf.sha256=bf.ripemd160=void 0;var v_=Dit(fw()),x_=rs(),Uit=fz(),y1e=Va(),Lit=m1e(),Fit=new y1e.Logger(Lit.version);function Vit(t){return"0x"+v_.default.ripemd160().update((0,x_.arrayify)(t)).digest("hex")}bf.ripemd160=Vit;function qit(t){return"0x"+v_.default.sha256().update((0,x_.arrayify)(t)).digest("hex")}bf.sha256=qit;function Kit(t){return"0x"+v_.default.sha512().update((0,x_.arrayify)(t)).digest("hex")}bf.sha512=Kit;function Hit(t,e,r){return Uit.SupportedAlgorithm[t]||Fit.throwError("unsupported algorithm "+t,y1e.Logger.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:t}),"0x"+v_.default.hmac(v_.default[t],(0,x_.arrayify)(e)).update((0,x_.arrayify)(r)).digest("hex")}bf.computeHmac=Hit});var lz=V(vf=>{"use strict";d();h();Object.defineProperty(vf,"__esModule",{value:!0});vf.SupportedAlgorithm=vf.sha512=vf.sha256=vf.ripemd160=vf.computeHmac=void 0;var T9=g1e();Object.defineProperty(vf,"computeHmac",{enumerable:!0,get:function(){return T9.computeHmac}});Object.defineProperty(vf,"ripemd160",{enumerable:!0,get:function(){return T9.ripemd160}});Object.defineProperty(vf,"sha256",{enumerable:!0,get:function(){return T9.sha256}});Object.defineProperty(vf,"sha512",{enumerable:!0,get:function(){return T9.sha512}});var jit=fz();Object.defineProperty(vf,"SupportedAlgorithm",{enumerable:!0,get:function(){return jit.SupportedAlgorithm}})});var Oz=V((Cz,K1e)=>{"use strict";d();h();(function(t){function e(u){return parseInt(u)===u}function r(u){if(!e(u.length))return!1;for(var x=0;x<u.length;x++)if(!e(u[x])||u[x]<0||u[x]>255)return!1;return!0}function n(u,x){if(u.buffer&&ArrayBuffer.isView(u)&&u.name==="Uint8Array")return x&&(u.slice?u=u.slice():u=Array.prototype.slice.call(u)),u;if(Array.isArray(u)){if(!r(u))throw new Error("Array contains invalid value: "+u);return new Uint8Array(u)}if(e(u.length)&&r(u))return new Uint8Array(u);throw new Error("unsupported array-like object")}function i(u){return new Uint8Array(u)}function o(u,x,L,D,C){(D!=null||C!=null)&&(u.slice?u=u.slice(D,C):u=Array.prototype.slice.call(u,D,C)),x.set(u,L)}var s=function(){function u(L){var D=[],C=0;for(L=encodeURI(L);C<L.length;){var z=L.charCodeAt(C++);z===37?(D.push(parseInt(L.substr(C,2),16)),C+=2):D.push(z)}return n(D)}function x(L){for(var D=[],C=0;C<L.length;){var z=L[C];z<128?(D.push(String.fromCharCode(z)),C++):z>191&&z<224?(D.push(String.fromCharCode((z&31)<<6|L[C+1]&63)),C+=2):(D.push(String.fromCharCode((z&15)<<12|(L[C+1]&63)<<6|L[C+2]&63)),C+=3)}return D.join("")}return{toBytes:u,fromBytes:x}}(),c=function(){function u(D){for(var C=[],z=0;z<D.length;z+=2)C.push(parseInt(D.substr(z,2),16));return C}var x="0123456789abcdef";function L(D){for(var C=[],z=0;z<D.length;z++){var ee=D[z];C.push(x[(ee&240)>>4]+x[ee&15])}return C.join("")}return{toBytes:u,fromBytes:L}}(),l={16:10,24:12,32:14},m=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],w=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],b=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],E=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],I=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],M=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],k=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],R=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],B=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],U=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],P=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],F=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],q=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],K=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],re=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function Q(u){for(var x=[],L=0;L<u.length;L+=4)x.push(u[L]<<24|u[L+1]<<16|u[L+2]<<8|u[L+3]);return x}var ie=function(u){if(!(this instanceof ie))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:n(u,!0)}),this._prepare()};ie.prototype._prepare=function(){var u=l[this.key.length];if(u==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var x=0;x<=u;x++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var L=(u+1)*4,D=this.key.length/4,C=Q(this.key),z,x=0;x<D;x++)z=x>>2,this._Ke[z][x%4]=C[x],this._Kd[u-z][x%4]=C[x];for(var ee=0,ne=D,Ke;ne<L;){if(Ke=C[D-1],C[0]^=w[Ke>>16&255]<<24^w[Ke>>8&255]<<16^w[Ke&255]<<8^w[Ke>>24&255]^m[ee]<<24,ee+=1,D!=8)for(var x=1;x<D;x++)C[x]^=C[x-1];else{for(var x=1;x<D/2;x++)C[x]^=C[x-1];Ke=C[D/2-1],C[D/2]^=w[Ke&255]^w[Ke>>8&255]<<8^w[Ke>>16&255]<<16^w[Ke>>24&255]<<24;for(var x=D/2+1;x<D;x++)C[x]^=C[x-1]}for(var x=0,ae,W;x<D&&ne<L;)ae=ne>>2,W=ne%4,this._Ke[ae][W]=C[x],this._Kd[u-ae][W]=C[x++],ne++}for(var ae=1;ae<u;ae++)for(var W=0;W<4;W++)Ke=this._Kd[ae][W],this._Kd[ae][W]=F[Ke>>24&255]^q[Ke>>16&255]^K[Ke>>8&255]^re[Ke&255]},ie.prototype.encrypt=function(u){if(u.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var x=this._Ke.length-1,L=[0,0,0,0],D=Q(u),C=0;C<4;C++)D[C]^=this._Ke[0][C];for(var z=1;z<x;z++){for(var C=0;C<4;C++)L[C]=E[D[C]>>24&255]^I[D[(C+1)%4]>>16&255]^M[D[(C+2)%4]>>8&255]^k[D[(C+3)%4]&255]^this._Ke[z][C];D=L.slice()}for(var ee=i(16),ne,C=0;C<4;C++)ne=this._Ke[x][C],ee[4*C]=(w[D[C]>>24&255]^ne>>24)&255,ee[4*C+1]=(w[D[(C+1)%4]>>16&255]^ne>>16)&255,ee[4*C+2]=(w[D[(C+2)%4]>>8&255]^ne>>8)&255,ee[4*C+3]=(w[D[(C+3)%4]&255]^ne)&255;return ee},ie.prototype.decrypt=function(u){if(u.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var x=this._Kd.length-1,L=[0,0,0,0],D=Q(u),C=0;C<4;C++)D[C]^=this._Kd[0][C];for(var z=1;z<x;z++){for(var C=0;C<4;C++)L[C]=R[D[C]>>24&255]^B[D[(C+3)%4]>>16&255]^U[D[(C+2)%4]>>8&255]^P[D[(C+1)%4]&255]^this._Kd[z][C];D=L.slice()}for(var ee=i(16),ne,C=0;C<4;C++)ne=this._Kd[x][C],ee[4*C]=(b[D[C]>>24&255]^ne>>24)&255,ee[4*C+1]=(b[D[(C+3)%4]>>16&255]^ne>>16)&255,ee[4*C+2]=(b[D[(C+2)%4]>>8&255]^ne>>8)&255,ee[4*C+3]=(b[D[(C+1)%4]&255]^ne)&255;return ee};var S=function(u){if(!(this instanceof S))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new ie(u)};S.prototype.encrypt=function(u){if(u=n(u),u.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var x=i(u.length),L=i(16),D=0;D<u.length;D+=16)o(u,L,0,D,D+16),L=this._aes.encrypt(L),o(L,x,D);return x},S.prototype.decrypt=function(u){if(u=n(u),u.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var x=i(u.length),L=i(16),D=0;D<u.length;D+=16)o(u,L,0,D,D+16),L=this._aes.decrypt(L),o(L,x,D);return x};var a=function(u,x){if(!(this instanceof a))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",!x)x=i(16);else if(x.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=n(x,!0),this._aes=new ie(u)};a.prototype.encrypt=function(u){if(u=n(u),u.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var x=i(u.length),L=i(16),D=0;D<u.length;D+=16){o(u,L,0,D,D+16);for(var C=0;C<16;C++)L[C]^=this._lastCipherblock[C];this._lastCipherblock=this._aes.encrypt(L),o(this._lastCipherblock,x,D)}return x},a.prototype.decrypt=function(u){if(u=n(u),u.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var x=i(u.length),L=i(16),D=0;D<u.length;D+=16){o(u,L,0,D,D+16),L=this._aes.decrypt(L);for(var C=0;C<16;C++)x[D+C]=L[C]^this._lastCipherblock[C];o(u,this._lastCipherblock,0,D,D+16)}return x};var f=function(u,x,L){if(!(this instanceof f))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",!x)x=i(16);else if(x.length!=16)throw new Error("invalid initialation vector size (must be 16 size)");L||(L=1),this.segmentSize=L,this._shiftRegister=n(x,!0),this._aes=new ie(u)};f.prototype.encrypt=function(u){if(u.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var x=n(u,!0),L,D=0;D<x.length;D+=this.segmentSize){L=this._aes.encrypt(this._shiftRegister);for(var C=0;C<this.segmentSize;C++)x[D+C]^=L[C];o(this._shiftRegister,this._shiftRegister,0,this.segmentSize),o(x,this._shiftRegister,16-this.segmentSize,D,D+this.segmentSize)}return x},f.prototype.decrypt=function(u){if(u.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var x=n(u,!0),L,D=0;D<x.length;D+=this.segmentSize){L=this._aes.encrypt(this._shiftRegister);for(var C=0;C<this.segmentSize;C++)x[D+C]^=L[C];o(this._shiftRegister,this._shiftRegister,0,this.segmentSize),o(u,this._shiftRegister,16-this.segmentSize,D,D+this.segmentSize)}return x};var p=function(u,x){if(!(this instanceof p))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",!x)x=i(16);else if(x.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=n(x,!0),this._lastPrecipherIndex=16,this._aes=new ie(u)};p.prototype.encrypt=function(u){for(var x=n(u,!0),L=0;L<x.length;L++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),x[L]^=this._lastPrecipher[this._lastPrecipherIndex++];return x},p.prototype.decrypt=p.prototype.encrypt;var y=function(u){if(!(this instanceof y))throw Error("Counter must be instanitated with `new`");u!==0&&!u&&(u=1),typeof u=="number"?(this._counter=i(16),this.setValue(u)):this.setBytes(u)};y.prototype.setValue=function(u){if(typeof u!="number"||parseInt(u)!=u)throw new Error("invalid counter value (must be an integer)");for(var x=15;x>=0;--x)this._counter[x]=u%256,u=u>>8},y.prototype.setBytes=function(u){if(u=n(u,!0),u.length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=u},y.prototype.increment=function(){for(var u=15;u>=0;u--)if(this._counter[u]===255)this._counter[u]=0;else{this._counter[u]++;break}};var g=function(u,x){if(!(this instanceof g))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",x instanceof y||(x=new y(x)),this._counter=x,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new ie(u)};g.prototype.encrypt=function(u){for(var x=n(u,!0),L=0;L<x.length;L++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),x[L]^=this._remainingCounter[this._remainingCounterIndex++];return x},g.prototype.decrypt=g.prototype.encrypt;function A(u){u=n(u,!0);var x=16-u.length%16,L=i(u.length+x);o(u,L);for(var D=u.length;D<L.length;D++)L[D]=x;return L}function _(u){if(u=n(u,!0),u.length<16)throw new Error("PKCS#7 invalid length");var x=u[u.length-1];if(x>16)throw new Error("PKCS#7 padding byte out of range");for(var L=u.length-x,D=0;D<x;D++)if(u[L+D]!==x)throw new Error("PKCS#7 invalid padding byte");var C=i(L);return o(u,C,0,0,L),C}var v={AES:ie,Counter:y,ModeOfOperation:{ecb:S,cbc:a,cfb:f,ofb:p,ctr:g},utils:{hex:c,utf8:s},padding:{pkcs7:{pad:A,strip:_}},_arrayTest:{coerceArray:n,createArray:i,copyArray:o}};typeof Cz<"u"?K1e.exports=v:typeof define=="function"&&define.amd?define(v):(t.aesjs&&(v._aesjs=t.aesjs),t.aesjs=v)})(Cz)});var W1e=V((qz,z1e)=>{"use strict";d();h();(function(t){function r(I){let M=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),k=1779033703,R=3144134277,B=1013904242,U=2773480762,P=1359893119,F=2600822924,q=528734635,K=1541459225,re=new Uint32Array(64);function Q(g){let A=0,_=g.length;for(;_>=64;){let v=k,u=R,x=B,L=U,D=P,C=F,z=q,ee=K,ne,Ke,ae,W,he;for(Ke=0;Ke<16;Ke++)ae=A+Ke*4,re[Ke]=(g[ae]&255)<<24|(g[ae+1]&255)<<16|(g[ae+2]&255)<<8|g[ae+3]&255;for(Ke=16;Ke<64;Ke++)ne=re[Ke-2],W=(ne>>>17|ne<<15)^(ne>>>19|ne<<13)^ne>>>10,ne=re[Ke-15],he=(ne>>>7|ne<<25)^(ne>>>18|ne<<14)^ne>>>3,re[Ke]=(W+re[Ke-7]|0)+(he+re[Ke-16]|0)|0;for(Ke=0;Ke<64;Ke++)W=(((D>>>6|D<<26)^(D>>>11|D<<21)^(D>>>25|D<<7))+(D&C^~D&z)|0)+(ee+(M[Ke]+re[Ke]|0)|0)|0,he=((v>>>2|v<<30)^(v>>>13|v<<19)^(v>>>22|v<<10))+(v&u^v&x^u&x)|0,ee=z,z=C,C=D,D=L+W|0,L=x,x=u,u=v,v=W+he|0;k=k+v|0,R=R+u|0,B=B+x|0,U=U+L|0,P=P+D|0,F=F+C|0,q=q+z|0,K=K+ee|0,A+=64,_-=64}}Q(I);let ie,S=I.length%64,a=I.length/536870912|0,f=I.length<<3,p=S<56?56:120,y=I.slice(I.length-S,I.length);for(y.push(128),ie=S+1;ie<p;ie++)y.push(0);return y.push(a>>>24&255),y.push(a>>>16&255),y.push(a>>>8&255),y.push(a>>>0&255),y.push(f>>>24&255),y.push(f>>>16&255),y.push(f>>>8&255),y.push(f>>>0&255),Q(y),[k>>>24&255,k>>>16&255,k>>>8&255,k>>>0&255,R>>>24&255,R>>>16&255,R>>>8&255,R>>>0&255,B>>>24&255,B>>>16&255,B>>>8&255,B>>>0&255,U>>>24&255,U>>>16&255,U>>>8&255,U>>>0&255,P>>>24&255,P>>>16&255,P>>>8&255,P>>>0&255,F>>>24&255,F>>>16&255,F>>>8&255,F>>>0&255,q>>>24&255,q>>>16&255,q>>>8&255,q>>>0&255,K>>>24&255,K>>>16&255,K>>>8&255,K>>>0&255]}function n(I,M,k){I=I.length<=64?I:r(I);let R=64+M.length+4,B=new Array(R),U=new Array(64),P,F=[];for(P=0;P<64;P++)B[P]=54;for(P=0;P<I.length;P++)B[P]^=I[P];for(P=0;P<M.length;P++)B[64+P]=M[P];for(P=R-4;P<R;P++)B[P]=0;for(P=0;P<64;P++)U[P]=92;for(P=0;P<I.length;P++)U[P]^=I[P];function q(){for(let K=R-1;K>=R-4;K--){if(B[K]++,B[K]<=255)return;B[K]=0}}for(;k>=32;)q(),F=F.concat(r(U.concat(r(B)))),k-=32;return k>0&&(q(),F=F.concat(r(U.concat(r(B))).slice(0,k))),F}function i(I,M,k,R,B){let U;for(l(I,(2*k-1)*16,B,0,16),U=0;U<2*k;U++)c(I,U*16,B,16),s(B,R),l(B,0,I,M+U*16,16);for(U=0;U<k;U++)l(I,M+U*2*16,I,U*16,16);for(U=0;U<k;U++)l(I,M+(U*2+1)*16,I,(U+k)*16,16)}function o(I,M){return I<<M|I>>>32-M}function s(I,M){l(I,0,M,0,16);for(let k=8;k>0;k-=2)M[4]^=o(M[0]+M[12],7),M[8]^=o(M[4]+M[0],9),M[12]^=o(M[8]+M[4],13),M[0]^=o(M[12]+M[8],18),M[9]^=o(M[5]+M[1],7),M[13]^=o(M[9]+M[5],9),M[1]^=o(M[13]+M[9],13),M[5]^=o(M[1]+M[13],18),M[14]^=o(M[10]+M[6],7),M[2]^=o(M[14]+M[10],9),M[6]^=o(M[2]+M[14],13),M[10]^=o(M[6]+M[2],18),M[3]^=o(M[15]+M[11],7),M[7]^=o(M[3]+M[15],9),M[11]^=o(M[7]+M[3],13),M[15]^=o(M[11]+M[7],18),M[1]^=o(M[0]+M[3],7),M[2]^=o(M[1]+M[0],9),M[3]^=o(M[2]+M[1],13),M[0]^=o(M[3]+M[2],18),M[6]^=o(M[5]+M[4],7),M[7]^=o(M[6]+M[5],9),M[4]^=o(M[7]+M[6],13),M[5]^=o(M[4]+M[7],18),M[11]^=o(M[10]+M[9],7),M[8]^=o(M[11]+M[10],9),M[9]^=o(M[8]+M[11],13),M[10]^=o(M[9]+M[8],18),M[12]^=o(M[15]+M[14],7),M[13]^=o(M[12]+M[15],9),M[14]^=o(M[13]+M[12],13),M[15]^=o(M[14]+M[13],18);for(let k=0;k<16;++k)I[k]+=M[k]}function c(I,M,k,R){for(let B=0;B<R;B++)k[B]^=I[M+B]}function l(I,M,k,R,B){for(;B--;)k[R++]=I[M++]}function m(I){if(!I||typeof I.length!="number")return!1;for(let M=0;M<I.length;M++){let k=I[M];if(typeof k!="number"||k%1||k<0||k>=256)return!1}return!0}function w(I,M){if(typeof I!="number"||I%1)throw new Error("invalid "+M);return I}function b(I,M,k,R,B,U,P){if(k=w(k,"N"),R=w(R,"r"),B=w(B,"p"),U=w(U,"dkLen"),k===0||k&k-1)throw new Error("N must be power of 2");if(k>2147483647/128/R)throw new Error("N too large");if(R>2147483647/128/B)throw new Error("r too large");if(!m(I))throw new Error("password must be an array or buffer");if(I=Array.prototype.slice.call(I),!m(M))throw new Error("salt must be an array or buffer");M=Array.prototype.slice.call(M);let F=n(I,M,B*128*R),q=new Uint32Array(B*32*R);for(let D=0;D<q.length;D++){let C=D*4;q[D]=(F[C+3]&255)<<24|(F[C+2]&255)<<16|(F[C+1]&255)<<8|(F[C+0]&255)<<0}let K=new Uint32Array(64*R),re=new Uint32Array(32*R*k),Q=32*R,ie=new Uint32Array(16),S=new Uint32Array(16),a=B*k*2,f=0,p=null,y=!1,g=0,A=0,_,v,u=P?parseInt(1e3/R):4294967295,x=typeof setImmediate<"u"?setImmediate:setTimeout,L=function(){if(y)return P(new Error("cancelled"),f/a);let D;switch(g){case 0:v=A*32*R,l(q,v,K,0,Q),g=1,_=0;case 1:D=k-_,D>u&&(D=u);for(let z=0;z<D;z++)l(K,0,re,(_+z)*Q,Q),i(K,Q,R,ie,S);if(_+=D,f+=D,P){let z=parseInt(1e3*f/a);if(z!==p){if(y=P(null,f/a),y)break;p=z}}if(_<k)break;_=0,g=2;case 2:D=k-_,D>u&&(D=u);for(let z=0;z<D;z++){let ee=(2*R-1)*16,ne=K[ee]&k-1;c(re,ne*Q,K,Q),i(K,Q,R,ie,S)}if(_+=D,f+=D,P){let z=parseInt(1e3*f/a);if(z!==p){if(y=P(null,f/a),y)break;p=z}}if(_<k)break;if(l(K,0,q,v,Q),A++,A<B){g=0;break}F=[];for(let z=0;z<q.length;z++)F.push(q[z]>>0&255),F.push(q[z]>>8&255),F.push(q[z]>>16&255),F.push(q[z]>>24&255);let C=n(I,F,U);return P&&P(null,1,C),C}P&&x(L)};if(!P)for(;;){let D=L();if(D!=null)return D}L()}let E={scrypt:function(I,M,k,R,B,U,P){return new Promise(function(F,q){let K=0;P&&P(0),b(I,M,k,R,B,U,function(re,Q,ie){if(re)q(re);else if(ie)P&&K!==1&&P(1),F(new Uint8Array(ie));else if(P&&Q!==K)return K=Q,P(Q)})})},syncScrypt:function(I,M,k,R,B,U){return new Uint8Array(b(I,M,k,R,B,U))}};typeof qz<"u"?z1e.exports=E:typeof define=="function"&&define.amd?define(E):t&&(t.scrypt&&(t._scrypt=t.scrypt),t.scrypt=E)})(qz)});var w1=V(C2=>{"use strict";d();h();Object.defineProperty(C2,"__esModule",{value:!0});C2.bech32m=C2.bech32=void 0;var IP="qpzry9x8gf2tvdw0s3jn54khce6mua7l",uxe={};for(let t=0;t<IP.length;t++){let e=IP.charAt(t);uxe[e]=t}function R2(t){let e=t>>25;return(t&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function cxe(t){let e=1;for(let r=0;r<t.length;++r){let n=t.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+t+")";e=R2(e)^n>>5}e=R2(e);for(let r=0;r<t.length;++r){let n=t.charCodeAt(r);e=R2(e)^n&31}return e}function $W(t,e,r,n){let i=0,o=0,s=(1<<r)-1,c=[];for(let l=0;l<t.length;++l)for(i=i<<e|t[l],o+=e;o>=r;)o-=r,c.push(i>>o&s);if(n)o>0&&c.push(i<<r-o&s);else{if(o>=e)return"Excess padding";if(i<<r-o&s)return"Non-zero padding"}return c}function Jat(t){return $W(t,8,5,!0)}function Xat(t){let e=$W(t,5,8,!1);if(Array.isArray(e))return e}function ect(t){let e=$W(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}function fxe(t){let e;t==="bech32"?e=1:e=734539939;function r(s,c,l){if(l=l||90,s.length+7+c.length>l)throw new TypeError("Exceeds length limit");s=s.toLowerCase();let m=cxe(s);if(typeof m=="string")throw new Error(m);let w=s+"1";for(let b=0;b<c.length;++b){let E=c[b];if(E>>5)throw new Error("Non 5-bit word");m=R2(m)^E,w+=IP.charAt(E)}for(let b=0;b<6;++b)m=R2(m);m^=e;for(let b=0;b<6;++b){let E=m>>(5-b)*5&31;w+=IP.charAt(E)}return w}function n(s,c){if(c=c||90,s.length<8)return s+" too short";if(s.length>c)return"Exceeds length limit";let l=s.toLowerCase(),m=s.toUpperCase();if(s!==l&&s!==m)return"Mixed-case string "+s;s=l;let w=s.lastIndexOf("1");if(w===-1)return"No separator character for "+s;if(w===0)return"Missing prefix for "+s;let b=s.slice(0,w),E=s.slice(w+1);if(E.length<6)return"Data too short";let I=cxe(b);if(typeof I=="string")return I;let M=[];for(let k=0;k<E.length;++k){let R=E.charAt(k),B=uxe[R];if(B===void 0)return"Unknown character "+R;I=R2(I)^B,!(k+6>=E.length)&&M.push(B)}return I!==e?"Invalid checksum for "+s:{prefix:b,words:M}}function i(s,c){let l=n(s,c);if(typeof l=="object")return l}function o(s,c){let l=n(s,c);if(typeof l=="object")return l;throw new Error(l)}return{decodeUnsafe:i,decode:o,encode:r,toWords:Jat,fromWordsUnsafe:Xat,fromWords:ect}}C2.bech32=fxe("bech32");C2.bech32m=fxe("bech32m")});var ds=V((wlr,kP)=>{d();h();(function(t){"use strict";var e=function(Y){var j,H=new Float64Array(16);if(Y)for(j=0;j<Y.length;j++)H[j]=Y[j];return H},r=function(){throw new Error("no PRNG")},n=new Uint8Array(16),i=new Uint8Array(32);i[0]=9;var o=e(),s=e([1]),c=e([56129,1]),l=e([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),m=e([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),w=e([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),b=e([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),E=e([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function I(Y,j,H,O){Y[j]=H>>24&255,Y[j+1]=H>>16&255,Y[j+2]=H>>8&255,Y[j+3]=H&255,Y[j+4]=O>>24&255,Y[j+5]=O>>16&255,Y[j+6]=O>>8&255,Y[j+7]=O&255}function M(Y,j,H,O,Z){var X,pe=0;for(X=0;X<Z;X++)pe|=Y[j+X]^H[O+X];return(1&pe-1>>>8)-1}function k(Y,j,H,O){return M(Y,j,H,O,16)}function R(Y,j,H,O){return M(Y,j,H,O,32)}function B(Y,j,H,O){for(var Z=O[0]&255|(O[1]&255)<<8|(O[2]&255)<<16|(O[3]&255)<<24,X=H[0]&255|(H[1]&255)<<8|(H[2]&255)<<16|(H[3]&255)<<24,pe=H[4]&255|(H[5]&255)<<8|(H[6]&255)<<16|(H[7]&255)<<24,oe=H[8]&255|(H[9]&255)<<8|(H[10]&255)<<16|(H[11]&255)<<24,ue=H[12]&255|(H[13]&255)<<8|(H[14]&255)<<16|(H[15]&255)<<24,at=O[4]&255|(O[5]&255)<<8|(O[6]&255)<<16|(O[7]&255)<<24,Je=j[0]&255|(j[1]&255)<<8|(j[2]&255)<<16|(j[3]&255)<<24,At=j[4]&255|(j[5]&255)<<8|(j[6]&255)<<16|(j[7]&255)<<24,tt=j[8]&255|(j[9]&255)<<8|(j[10]&255)<<16|(j[11]&255)<<24,dt=j[12]&255|(j[13]&255)<<8|(j[14]&255)<<16|(j[15]&255)<<24,ht=O[8]&255|(O[9]&255)<<8|(O[10]&255)<<16|(O[11]&255)<<24,bt=H[16]&255|(H[17]&255)<<8|(H[18]&255)<<16|(H[19]&255)<<24,gt=H[20]&255|(H[21]&255)<<8|(H[22]&255)<<16|(H[23]&255)<<24,pt=H[24]&255|(H[25]&255)<<8|(H[26]&255)<<16|(H[27]&255)<<24,yt=H[28]&255|(H[29]&255)<<8|(H[30]&255)<<16|(H[31]&255)<<24,mt=O[12]&255|(O[13]&255)<<8|(O[14]&255)<<16|(O[15]&255)<<24,it=Z,ut=X,Xe=pe,ot=oe,st=ue,Qe=at,Fe=Je,Ve=At,nt=tt,$e=dt,Ye=ht,ct=bt,Kt=gt,ir=pt,ar=yt,or=mt,de,Ar=0;Ar<20;Ar+=2)de=it+Kt|0,st^=de<<7|de>>>25,de=st+it|0,nt^=de<<9|de>>>23,de=nt+st|0,Kt^=de<<13|de>>>19,de=Kt+nt|0,it^=de<<18|de>>>14,de=Qe+ut|0,$e^=de<<7|de>>>25,de=$e+Qe|0,ir^=de<<9|de>>>23,de=ir+$e|0,ut^=de<<13|de>>>19,de=ut+ir|0,Qe^=de<<18|de>>>14,de=Ye+Fe|0,ar^=de<<7|de>>>25,de=ar+Ye|0,Xe^=de<<9|de>>>23,de=Xe+ar|0,Fe^=de<<13|de>>>19,de=Fe+Xe|0,Ye^=de<<18|de>>>14,de=or+ct|0,ot^=de<<7|de>>>25,de=ot+or|0,Ve^=de<<9|de>>>23,de=Ve+ot|0,ct^=de<<13|de>>>19,de=ct+Ve|0,or^=de<<18|de>>>14,de=it+ot|0,ut^=de<<7|de>>>25,de=ut+it|0,Xe^=de<<9|de>>>23,de=Xe+ut|0,ot^=de<<13|de>>>19,de=ot+Xe|0,it^=de<<18|de>>>14,de=Qe+st|0,Fe^=de<<7|de>>>25,de=Fe+Qe|0,Ve^=de<<9|de>>>23,de=Ve+Fe|0,st^=de<<13|de>>>19,de=st+Ve|0,Qe^=de<<18|de>>>14,de=Ye+$e|0,ct^=de<<7|de>>>25,de=ct+Ye|0,nt^=de<<9|de>>>23,de=nt+ct|0,$e^=de<<13|de>>>19,de=$e+nt|0,Ye^=de<<18|de>>>14,de=or+ar|0,Kt^=de<<7|de>>>25,de=Kt+or|0,ir^=de<<9|de>>>23,de=ir+Kt|0,ar^=de<<13|de>>>19,de=ar+ir|0,or^=de<<18|de>>>14;it=it+Z|0,ut=ut+X|0,Xe=Xe+pe|0,ot=ot+oe|0,st=st+ue|0,Qe=Qe+at|0,Fe=Fe+Je|0,Ve=Ve+At|0,nt=nt+tt|0,$e=$e+dt|0,Ye=Ye+ht|0,ct=ct+bt|0,Kt=Kt+gt|0,ir=ir+pt|0,ar=ar+yt|0,or=or+mt|0,Y[0]=it>>>0&255,Y[1]=it>>>8&255,Y[2]=it>>>16&255,Y[3]=it>>>24&255,Y[4]=ut>>>0&255,Y[5]=ut>>>8&255,Y[6]=ut>>>16&255,Y[7]=ut>>>24&255,Y[8]=Xe>>>0&255,Y[9]=Xe>>>8&255,Y[10]=Xe>>>16&255,Y[11]=Xe>>>24&255,Y[12]=ot>>>0&255,Y[13]=ot>>>8&255,Y[14]=ot>>>16&255,Y[15]=ot>>>24&255,Y[16]=st>>>0&255,Y[17]=st>>>8&255,Y[18]=st>>>16&255,Y[19]=st>>>24&255,Y[20]=Qe>>>0&255,Y[21]=Qe>>>8&255,Y[22]=Qe>>>16&255,Y[23]=Qe>>>24&255,Y[24]=Fe>>>0&255,Y[25]=Fe>>>8&255,Y[26]=Fe>>>16&255,Y[27]=Fe>>>24&255,Y[28]=Ve>>>0&255,Y[29]=Ve>>>8&255,Y[30]=Ve>>>16&255,Y[31]=Ve>>>24&255,Y[32]=nt>>>0&255,Y[33]=nt>>>8&255,Y[34]=nt>>>16&255,Y[35]=nt>>>24&255,Y[36]=$e>>>0&255,Y[37]=$e>>>8&255,Y[38]=$e>>>16&255,Y[39]=$e>>>24&255,Y[40]=Ye>>>0&255,Y[41]=Ye>>>8&255,Y[42]=Ye>>>16&255,Y[43]=Ye>>>24&255,Y[44]=ct>>>0&255,Y[45]=ct>>>8&255,Y[46]=ct>>>16&255,Y[47]=ct>>>24&255,Y[48]=Kt>>>0&255,Y[49]=Kt>>>8&255,Y[50]=Kt>>>16&255,Y[51]=Kt>>>24&255,Y[52]=ir>>>0&255,Y[53]=ir>>>8&255,Y[54]=ir>>>16&255,Y[55]=ir>>>24&255,Y[56]=ar>>>0&255,Y[57]=ar>>>8&255,Y[58]=ar>>>16&255,Y[59]=ar>>>24&255,Y[60]=or>>>0&255,Y[61]=or>>>8&255,Y[62]=or>>>16&255,Y[63]=or>>>24&255}function U(Y,j,H,O){for(var Z=O[0]&255|(O[1]&255)<<8|(O[2]&255)<<16|(O[3]&255)<<24,X=H[0]&255|(H[1]&255)<<8|(H[2]&255)<<16|(H[3]&255)<<24,pe=H[4]&255|(H[5]&255)<<8|(H[6]&255)<<16|(H[7]&255)<<24,oe=H[8]&255|(H[9]&255)<<8|(H[10]&255)<<16|(H[11]&255)<<24,ue=H[12]&255|(H[13]&255)<<8|(H[14]&255)<<16|(H[15]&255)<<24,at=O[4]&255|(O[5]&255)<<8|(O[6]&255)<<16|(O[7]&255)<<24,Je=j[0]&255|(j[1]&255)<<8|(j[2]&255)<<16|(j[3]&255)<<24,At=j[4]&255|(j[5]&255)<<8|(j[6]&255)<<16|(j[7]&255)<<24,tt=j[8]&255|(j[9]&255)<<8|(j[10]&255)<<16|(j[11]&255)<<24,dt=j[12]&255|(j[13]&255)<<8|(j[14]&255)<<16|(j[15]&255)<<24,ht=O[8]&255|(O[9]&255)<<8|(O[10]&255)<<16|(O[11]&255)<<24,bt=H[16]&255|(H[17]&255)<<8|(H[18]&255)<<16|(H[19]&255)<<24,gt=H[20]&255|(H[21]&255)<<8|(H[22]&255)<<16|(H[23]&255)<<24,pt=H[24]&255|(H[25]&255)<<8|(H[26]&255)<<16|(H[27]&255)<<24,yt=H[28]&255|(H[29]&255)<<8|(H[30]&255)<<16|(H[31]&255)<<24,mt=O[12]&255|(O[13]&255)<<8|(O[14]&255)<<16|(O[15]&255)<<24,it=Z,ut=X,Xe=pe,ot=oe,st=ue,Qe=at,Fe=Je,Ve=At,nt=tt,$e=dt,Ye=ht,ct=bt,Kt=gt,ir=pt,ar=yt,or=mt,de,Ar=0;Ar<20;Ar+=2)de=it+Kt|0,st^=de<<7|de>>>25,de=st+it|0,nt^=de<<9|de>>>23,de=nt+st|0,Kt^=de<<13|de>>>19,de=Kt+nt|0,it^=de<<18|de>>>14,de=Qe+ut|0,$e^=de<<7|de>>>25,de=$e+Qe|0,ir^=de<<9|de>>>23,de=ir+$e|0,ut^=de<<13|de>>>19,de=ut+ir|0,Qe^=de<<18|de>>>14,de=Ye+Fe|0,ar^=de<<7|de>>>25,de=ar+Ye|0,Xe^=de<<9|de>>>23,de=Xe+ar|0,Fe^=de<<13|de>>>19,de=Fe+Xe|0,Ye^=de<<18|de>>>14,de=or+ct|0,ot^=de<<7|de>>>25,de=ot+or|0,Ve^=de<<9|de>>>23,de=Ve+ot|0,ct^=de<<13|de>>>19,de=ct+Ve|0,or^=de<<18|de>>>14,de=it+ot|0,ut^=de<<7|de>>>25,de=ut+it|0,Xe^=de<<9|de>>>23,de=Xe+ut|0,ot^=de<<13|de>>>19,de=ot+Xe|0,it^=de<<18|de>>>14,de=Qe+st|0,Fe^=de<<7|de>>>25,de=Fe+Qe|0,Ve^=de<<9|de>>>23,de=Ve+Fe|0,st^=de<<13|de>>>19,de=st+Ve|0,Qe^=de<<18|de>>>14,de=Ye+$e|0,ct^=de<<7|de>>>25,de=ct+Ye|0,nt^=de<<9|de>>>23,de=nt+ct|0,$e^=de<<13|de>>>19,de=$e+nt|0,Ye^=de<<18|de>>>14,de=or+ar|0,Kt^=de<<7|de>>>25,de=Kt+or|0,ir^=de<<9|de>>>23,de=ir+Kt|0,ar^=de<<13|de>>>19,de=ar+ir|0,or^=de<<18|de>>>14;Y[0]=it>>>0&255,Y[1]=it>>>8&255,Y[2]=it>>>16&255,Y[3]=it>>>24&255,Y[4]=Qe>>>0&255,Y[5]=Qe>>>8&255,Y[6]=Qe>>>16&255,Y[7]=Qe>>>24&255,Y[8]=Ye>>>0&255,Y[9]=Ye>>>8&255,Y[10]=Ye>>>16&255,Y[11]=Ye>>>24&255,Y[12]=or>>>0&255,Y[13]=or>>>8&255,Y[14]=or>>>16&255,Y[15]=or>>>24&255,Y[16]=Fe>>>0&255,Y[17]=Fe>>>8&255,Y[18]=Fe>>>16&255,Y[19]=Fe>>>24&255,Y[20]=Ve>>>0&255,Y[21]=Ve>>>8&255,Y[22]=Ve>>>16&255,Y[23]=Ve>>>24&255,Y[24]=nt>>>0&255,Y[25]=nt>>>8&255,Y[26]=nt>>>16&255,Y[27]=nt>>>24&255,Y[28]=$e>>>0&255,Y[29]=$e>>>8&255,Y[30]=$e>>>16&255,Y[31]=$e>>>24&255}function P(Y,j,H,O){B(Y,j,H,O)}function F(Y,j,H,O){U(Y,j,H,O)}var q=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function K(Y,j,H,O,Z,X,pe){var oe=new Uint8Array(16),ue=new Uint8Array(64),at,Je;for(Je=0;Je<16;Je++)oe[Je]=0;for(Je=0;Je<8;Je++)oe[Je]=X[Je];for(;Z>=64;){for(P(ue,oe,pe,q),Je=0;Je<64;Je++)Y[j+Je]=H[O+Je]^ue[Je];for(at=1,Je=8;Je<16;Je++)at=at+(oe[Je]&255)|0,oe[Je]=at&255,at>>>=8;Z-=64,j+=64,O+=64}if(Z>0)for(P(ue,oe,pe,q),Je=0;Je<Z;Je++)Y[j+Je]=H[O+Je]^ue[Je];return 0}function re(Y,j,H,O,Z){var X=new Uint8Array(16),pe=new Uint8Array(64),oe,ue;for(ue=0;ue<16;ue++)X[ue]=0;for(ue=0;ue<8;ue++)X[ue]=O[ue];for(;H>=64;){for(P(pe,X,Z,q),ue=0;ue<64;ue++)Y[j+ue]=pe[ue];for(oe=1,ue=8;ue<16;ue++)oe=oe+(X[ue]&255)|0,X[ue]=oe&255,oe>>>=8;H-=64,j+=64}if(H>0)for(P(pe,X,Z,q),ue=0;ue<H;ue++)Y[j+ue]=pe[ue];return 0}function Q(Y,j,H,O,Z){var X=new Uint8Array(32);F(X,O,Z,q);for(var pe=new Uint8Array(8),oe=0;oe<8;oe++)pe[oe]=O[oe+16];return re(Y,j,H,pe,X)}function ie(Y,j,H,O,Z,X,pe){var oe=new Uint8Array(32);F(oe,X,pe,q);for(var ue=new Uint8Array(8),at=0;at<8;at++)ue[at]=X[at+16];return K(Y,j,H,O,Z,ue,oe)}var S=function(Y){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var j,H,O,Z,X,pe,oe,ue;j=Y[0]&255|(Y[1]&255)<<8,this.r[0]=j&8191,H=Y[2]&255|(Y[3]&255)<<8,this.r[1]=(j>>>13|H<<3)&8191,O=Y[4]&255|(Y[5]&255)<<8,this.r[2]=(H>>>10|O<<6)&7939,Z=Y[6]&255|(Y[7]&255)<<8,this.r[3]=(O>>>7|Z<<9)&8191,X=Y[8]&255|(Y[9]&255)<<8,this.r[4]=(Z>>>4|X<<12)&255,this.r[5]=X>>>1&8190,pe=Y[10]&255|(Y[11]&255)<<8,this.r[6]=(X>>>14|pe<<2)&8191,oe=Y[12]&255|(Y[13]&255)<<8,this.r[7]=(pe>>>11|oe<<5)&8065,ue=Y[14]&255|(Y[15]&255)<<8,this.r[8]=(oe>>>8|ue<<8)&8191,this.r[9]=ue>>>5&127,this.pad[0]=Y[16]&255|(Y[17]&255)<<8,this.pad[1]=Y[18]&255|(Y[19]&255)<<8,this.pad[2]=Y[20]&255|(Y[21]&255)<<8,this.pad[3]=Y[22]&255|(Y[23]&255)<<8,this.pad[4]=Y[24]&255|(Y[25]&255)<<8,this.pad[5]=Y[26]&255|(Y[27]&255)<<8,this.pad[6]=Y[28]&255|(Y[29]&255)<<8,this.pad[7]=Y[30]&255|(Y[31]&255)<<8};S.prototype.blocks=function(Y,j,H){for(var O=this.fin?0:2048,Z,X,pe,oe,ue,at,Je,At,tt,dt,ht,bt,gt,pt,yt,mt,it,ut,Xe,ot=this.h[0],st=this.h[1],Qe=this.h[2],Fe=this.h[3],Ve=this.h[4],nt=this.h[5],$e=this.h[6],Ye=this.h[7],ct=this.h[8],Kt=this.h[9],ir=this.r[0],ar=this.r[1],or=this.r[2],de=this.r[3],Ar=this.r[4],fn=this.r[5],ln=this.r[6],yr=this.r[7],tn=this.r[8],rn=this.r[9];H>=16;)Z=Y[j+0]&255|(Y[j+1]&255)<<8,ot+=Z&8191,X=Y[j+2]&255|(Y[j+3]&255)<<8,st+=(Z>>>13|X<<3)&8191,pe=Y[j+4]&255|(Y[j+5]&255)<<8,Qe+=(X>>>10|pe<<6)&8191,oe=Y[j+6]&255|(Y[j+7]&255)<<8,Fe+=(pe>>>7|oe<<9)&8191,ue=Y[j+8]&255|(Y[j+9]&255)<<8,Ve+=(oe>>>4|ue<<12)&8191,nt+=ue>>>1&8191,at=Y[j+10]&255|(Y[j+11]&255)<<8,$e+=(ue>>>14|at<<2)&8191,Je=Y[j+12]&255|(Y[j+13]&255)<<8,Ye+=(at>>>11|Je<<5)&8191,At=Y[j+14]&255|(Y[j+15]&255)<<8,ct+=(Je>>>8|At<<8)&8191,Kt+=At>>>5|O,tt=0,dt=tt,dt+=ot*ir,dt+=st*(5*rn),dt+=Qe*(5*tn),dt+=Fe*(5*yr),dt+=Ve*(5*ln),tt=dt>>>13,dt&=8191,dt+=nt*(5*fn),dt+=$e*(5*Ar),dt+=Ye*(5*de),dt+=ct*(5*or),dt+=Kt*(5*ar),tt+=dt>>>13,dt&=8191,ht=tt,ht+=ot*ar,ht+=st*ir,ht+=Qe*(5*rn),ht+=Fe*(5*tn),ht+=Ve*(5*yr),tt=ht>>>13,ht&=8191,ht+=nt*(5*ln),ht+=$e*(5*fn),ht+=Ye*(5*Ar),ht+=ct*(5*de),ht+=Kt*(5*or),tt+=ht>>>13,ht&=8191,bt=tt,bt+=ot*or,bt+=st*ar,bt+=Qe*ir,bt+=Fe*(5*rn),bt+=Ve*(5*tn),tt=bt>>>13,bt&=8191,bt+=nt*(5*yr),bt+=$e*(5*ln),bt+=Ye*(5*fn),bt+=ct*(5*Ar),bt+=Kt*(5*de),tt+=bt>>>13,bt&=8191,gt=tt,gt+=ot*de,gt+=st*or,gt+=Qe*ar,gt+=Fe*ir,gt+=Ve*(5*rn),tt=gt>>>13,gt&=8191,gt+=nt*(5*tn),gt+=$e*(5*yr),gt+=Ye*(5*ln),gt+=ct*(5*fn),gt+=Kt*(5*Ar),tt+=gt>>>13,gt&=8191,pt=tt,pt+=ot*Ar,pt+=st*de,pt+=Qe*or,pt+=Fe*ar,pt+=Ve*ir,tt=pt>>>13,pt&=8191,pt+=nt*(5*rn),pt+=$e*(5*tn),pt+=Ye*(5*yr),pt+=ct*(5*ln),pt+=Kt*(5*fn),tt+=pt>>>13,pt&=8191,yt=tt,yt+=ot*fn,yt+=st*Ar,yt+=Qe*de,yt+=Fe*or,yt+=Ve*ar,tt=yt>>>13,yt&=8191,yt+=nt*ir,yt+=$e*(5*rn),yt+=Ye*(5*tn),yt+=ct*(5*yr),yt+=Kt*(5*ln),tt+=yt>>>13,yt&=8191,mt=tt,mt+=ot*ln,mt+=st*fn,mt+=Qe*Ar,mt+=Fe*de,mt+=Ve*or,tt=mt>>>13,mt&=8191,mt+=nt*ar,mt+=$e*ir,mt+=Ye*(5*rn),mt+=ct*(5*tn),mt+=Kt*(5*yr),tt+=mt>>>13,mt&=8191,it=tt,it+=ot*yr,it+=st*ln,it+=Qe*fn,it+=Fe*Ar,it+=Ve*de,tt=it>>>13,it&=8191,it+=nt*or,it+=$e*ar,it+=Ye*ir,it+=ct*(5*rn),it+=Kt*(5*tn),tt+=it>>>13,it&=8191,ut=tt,ut+=ot*tn,ut+=st*yr,ut+=Qe*ln,ut+=Fe*fn,ut+=Ve*Ar,tt=ut>>>13,ut&=8191,ut+=nt*de,ut+=$e*or,ut+=Ye*ar,ut+=ct*ir,ut+=Kt*(5*rn),tt+=ut>>>13,ut&=8191,Xe=tt,Xe+=ot*rn,Xe+=st*tn,Xe+=Qe*yr,Xe+=Fe*ln,Xe+=Ve*fn,tt=Xe>>>13,Xe&=8191,Xe+=nt*Ar,Xe+=$e*de,Xe+=Ye*or,Xe+=ct*ar,Xe+=Kt*ir,tt+=Xe>>>13,Xe&=8191,tt=(tt<<2)+tt|0,tt=tt+dt|0,dt=tt&8191,tt=tt>>>13,ht+=tt,ot=dt,st=ht,Qe=bt,Fe=gt,Ve=pt,nt=yt,$e=mt,Ye=it,ct=ut,Kt=Xe,j+=16,H-=16;this.h[0]=ot,this.h[1]=st,this.h[2]=Qe,this.h[3]=Fe,this.h[4]=Ve,this.h[5]=nt,this.h[6]=$e,this.h[7]=Ye,this.h[8]=ct,this.h[9]=Kt},S.prototype.finish=function(Y,j){var H=new Uint16Array(10),O,Z,X,pe;if(this.leftover){for(pe=this.leftover,this.buffer[pe++]=1;pe<16;pe++)this.buffer[pe]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(O=this.h[1]>>>13,this.h[1]&=8191,pe=2;pe<10;pe++)this.h[pe]+=O,O=this.h[pe]>>>13,this.h[pe]&=8191;for(this.h[0]+=O*5,O=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=O,O=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=O,H[0]=this.h[0]+5,O=H[0]>>>13,H[0]&=8191,pe=1;pe<10;pe++)H[pe]=this.h[pe]+O,O=H[pe]>>>13,H[pe]&=8191;for(H[9]-=8192,Z=(O^1)-1,pe=0;pe<10;pe++)H[pe]&=Z;for(Z=~Z,pe=0;pe<10;pe++)this.h[pe]=this.h[pe]&Z|H[pe];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,X=this.h[0]+this.pad[0],this.h[0]=X&65535,pe=1;pe<8;pe++)X=(this.h[pe]+this.pad[pe]|0)+(X>>>16)|0,this.h[pe]=X&65535;Y[j+0]=this.h[0]>>>0&255,Y[j+1]=this.h[0]>>>8&255,Y[j+2]=this.h[1]>>>0&255,Y[j+3]=this.h[1]>>>8&255,Y[j+4]=this.h[2]>>>0&255,Y[j+5]=this.h[2]>>>8&255,Y[j+6]=this.h[3]>>>0&255,Y[j+7]=this.h[3]>>>8&255,Y[j+8]=this.h[4]>>>0&255,Y[j+9]=this.h[4]>>>8&255,Y[j+10]=this.h[5]>>>0&255,Y[j+11]=this.h[5]>>>8&255,Y[j+12]=this.h[6]>>>0&255,Y[j+13]=this.h[6]>>>8&255,Y[j+14]=this.h[7]>>>0&255,Y[j+15]=this.h[7]>>>8&255},S.prototype.update=function(Y,j,H){var O,Z;if(this.leftover){for(Z=16-this.leftover,Z>H&&(Z=H),O=0;O<Z;O++)this.buffer[this.leftover+O]=Y[j+O];if(H-=Z,j+=Z,this.leftover+=Z,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(H>=16&&(Z=H-H%16,this.blocks(Y,j,Z),j+=Z,H-=Z),H){for(O=0;O<H;O++)this.buffer[this.leftover+O]=Y[j+O];this.leftover+=H}};function a(Y,j,H,O,Z,X){var pe=new S(X);return pe.update(H,O,Z),pe.finish(Y,j),0}function f(Y,j,H,O,Z,X){var pe=new Uint8Array(16);return a(pe,0,H,O,Z,X),k(Y,j,pe,0)}function p(Y,j,H,O,Z){var X;if(H<32)return-1;for(ie(Y,0,j,0,H,O,Z),a(Y,16,Y,32,H-32,Y),X=0;X<16;X++)Y[X]=0;return 0}function y(Y,j,H,O,Z){var X,pe=new Uint8Array(32);if(H<32||(Q(pe,0,32,O,Z),f(j,16,j,32,H-32,pe)!==0))return-1;for(ie(Y,0,j,0,H,O,Z),X=0;X<32;X++)Y[X]=0;return 0}function g(Y,j){var H;for(H=0;H<16;H++)Y[H]=j[H]|0}function A(Y){var j,H,O=1;for(j=0;j<16;j++)H=Y[j]+O+65535,O=Math.floor(H/65536),Y[j]=H-O*65536;Y[0]+=O-1+37*(O-1)}function _(Y,j,H){for(var O,Z=~(H-1),X=0;X<16;X++)O=Z&(Y[X]^j[X]),Y[X]^=O,j[X]^=O}function v(Y,j){var H,O,Z,X=e(),pe=e();for(H=0;H<16;H++)pe[H]=j[H];for(A(pe),A(pe),A(pe),O=0;O<2;O++){for(X[0]=pe[0]-65517,H=1;H<15;H++)X[H]=pe[H]-65535-(X[H-1]>>16&1),X[H-1]&=65535;X[15]=pe[15]-32767-(X[14]>>16&1),Z=X[15]>>16&1,X[14]&=65535,_(pe,X,1-Z)}for(H=0;H<16;H++)Y[2*H]=pe[H]&255,Y[2*H+1]=pe[H]>>8}function u(Y,j){var H=new Uint8Array(32),O=new Uint8Array(32);return v(H,Y),v(O,j),R(H,0,O,0)}function x(Y){var j=new Uint8Array(32);return v(j,Y),j[0]&1}function L(Y,j){var H;for(H=0;H<16;H++)Y[H]=j[2*H]+(j[2*H+1]<<8);Y[15]&=32767}function D(Y,j,H){for(var O=0;O<16;O++)Y[O]=j[O]+H[O]}function C(Y,j,H){for(var O=0;O<16;O++)Y[O]=j[O]-H[O]}function z(Y,j,H){var O,Z,X=0,pe=0,oe=0,ue=0,at=0,Je=0,At=0,tt=0,dt=0,ht=0,bt=0,gt=0,pt=0,yt=0,mt=0,it=0,ut=0,Xe=0,ot=0,st=0,Qe=0,Fe=0,Ve=0,nt=0,$e=0,Ye=0,ct=0,Kt=0,ir=0,ar=0,or=0,de=H[0],Ar=H[1],fn=H[2],ln=H[3],yr=H[4],tn=H[5],rn=H[6],oo=H[7],Fn=H[8],Gi=H[9],$i=H[10],Yi=H[11],Mo=H[12],Js=H[13],Xs=H[14],ea=H[15];O=j[0],X+=O*de,pe+=O*Ar,oe+=O*fn,ue+=O*ln,at+=O*yr,Je+=O*tn,At+=O*rn,tt+=O*oo,dt+=O*Fn,ht+=O*Gi,bt+=O*$i,gt+=O*Yi,pt+=O*Mo,yt+=O*Js,mt+=O*Xs,it+=O*ea,O=j[1],pe+=O*de,oe+=O*Ar,ue+=O*fn,at+=O*ln,Je+=O*yr,At+=O*tn,tt+=O*rn,dt+=O*oo,ht+=O*Fn,bt+=O*Gi,gt+=O*$i,pt+=O*Yi,yt+=O*Mo,mt+=O*Js,it+=O*Xs,ut+=O*ea,O=j[2],oe+=O*de,ue+=O*Ar,at+=O*fn,Je+=O*ln,At+=O*yr,tt+=O*tn,dt+=O*rn,ht+=O*oo,bt+=O*Fn,gt+=O*Gi,pt+=O*$i,yt+=O*Yi,mt+=O*Mo,it+=O*Js,ut+=O*Xs,Xe+=O*ea,O=j[3],ue+=O*de,at+=O*Ar,Je+=O*fn,At+=O*ln,tt+=O*yr,dt+=O*tn,ht+=O*rn,bt+=O*oo,gt+=O*Fn,pt+=O*Gi,yt+=O*$i,mt+=O*Yi,it+=O*Mo,ut+=O*Js,Xe+=O*Xs,ot+=O*ea,O=j[4],at+=O*de,Je+=O*Ar,At+=O*fn,tt+=O*ln,dt+=O*yr,ht+=O*tn,bt+=O*rn,gt+=O*oo,pt+=O*Fn,yt+=O*Gi,mt+=O*$i,it+=O*Yi,ut+=O*Mo,Xe+=O*Js,ot+=O*Xs,st+=O*ea,O=j[5],Je+=O*de,At+=O*Ar,tt+=O*fn,dt+=O*ln,ht+=O*yr,bt+=O*tn,gt+=O*rn,pt+=O*oo,yt+=O*Fn,mt+=O*Gi,it+=O*$i,ut+=O*Yi,Xe+=O*Mo,ot+=O*Js,st+=O*Xs,Qe+=O*ea,O=j[6],At+=O*de,tt+=O*Ar,dt+=O*fn,ht+=O*ln,bt+=O*yr,gt+=O*tn,pt+=O*rn,yt+=O*oo,mt+=O*Fn,it+=O*Gi,ut+=O*$i,Xe+=O*Yi,ot+=O*Mo,st+=O*Js,Qe+=O*Xs,Fe+=O*ea,O=j[7],tt+=O*de,dt+=O*Ar,ht+=O*fn,bt+=O*ln,gt+=O*yr,pt+=O*tn,yt+=O*rn,mt+=O*oo,it+=O*Fn,ut+=O*Gi,Xe+=O*$i,ot+=O*Yi,st+=O*Mo,Qe+=O*Js,Fe+=O*Xs,Ve+=O*ea,O=j[8],dt+=O*de,ht+=O*Ar,bt+=O*fn,gt+=O*ln,pt+=O*yr,yt+=O*tn,mt+=O*rn,it+=O*oo,ut+=O*Fn,Xe+=O*Gi,ot+=O*$i,st+=O*Yi,Qe+=O*Mo,Fe+=O*Js,Ve+=O*Xs,nt+=O*ea,O=j[9],ht+=O*de,bt+=O*Ar,gt+=O*fn,pt+=O*ln,yt+=O*yr,mt+=O*tn,it+=O*rn,ut+=O*oo,Xe+=O*Fn,ot+=O*Gi,st+=O*$i,Qe+=O*Yi,Fe+=O*Mo,Ve+=O*Js,nt+=O*Xs,$e+=O*ea,O=j[10],bt+=O*de,gt+=O*Ar,pt+=O*fn,yt+=O*ln,mt+=O*yr,it+=O*tn,ut+=O*rn,Xe+=O*oo,ot+=O*Fn,st+=O*Gi,Qe+=O*$i,Fe+=O*Yi,Ve+=O*Mo,nt+=O*Js,$e+=O*Xs,Ye+=O*ea,O=j[11],gt+=O*de,pt+=O*Ar,yt+=O*fn,mt+=O*ln,it+=O*yr,ut+=O*tn,Xe+=O*rn,ot+=O*oo,st+=O*Fn,Qe+=O*Gi,Fe+=O*$i,Ve+=O*Yi,nt+=O*Mo,$e+=O*Js,Ye+=O*Xs,ct+=O*ea,O=j[12],pt+=O*de,yt+=O*Ar,mt+=O*fn,it+=O*ln,ut+=O*yr,Xe+=O*tn,ot+=O*rn,st+=O*oo,Qe+=O*Fn,Fe+=O*Gi,Ve+=O*$i,nt+=O*Yi,$e+=O*Mo,Ye+=O*Js,ct+=O*Xs,Kt+=O*ea,O=j[13],yt+=O*de,mt+=O*Ar,it+=O*fn,ut+=O*ln,Xe+=O*yr,ot+=O*tn,st+=O*rn,Qe+=O*oo,Fe+=O*Fn,Ve+=O*Gi,nt+=O*$i,$e+=O*Yi,Ye+=O*Mo,ct+=O*Js,Kt+=O*Xs,ir+=O*ea,O=j[14],mt+=O*de,it+=O*Ar,ut+=O*fn,Xe+=O*ln,ot+=O*yr,st+=O*tn,Qe+=O*rn,Fe+=O*oo,Ve+=O*Fn,nt+=O*Gi,$e+=O*$i,Ye+=O*Yi,ct+=O*Mo,Kt+=O*Js,ir+=O*Xs,ar+=O*ea,O=j[15],it+=O*de,ut+=O*Ar,Xe+=O*fn,ot+=O*ln,st+=O*yr,Qe+=O*tn,Fe+=O*rn,Ve+=O*oo,nt+=O*Fn,$e+=O*Gi,Ye+=O*$i,ct+=O*Yi,Kt+=O*Mo,ir+=O*Js,ar+=O*Xs,or+=O*ea,X+=38*ut,pe+=38*Xe,oe+=38*ot,ue+=38*st,at+=38*Qe,Je+=38*Fe,At+=38*Ve,tt+=38*nt,dt+=38*$e,ht+=38*Ye,bt+=38*ct,gt+=38*Kt,pt+=38*ir,yt+=38*ar,mt+=38*or,Z=1,O=X+Z+65535,Z=Math.floor(O/65536),X=O-Z*65536,O=pe+Z+65535,Z=Math.floor(O/65536),pe=O-Z*65536,O=oe+Z+65535,Z=Math.floor(O/65536),oe=O-Z*65536,O=ue+Z+65535,Z=Math.floor(O/65536),ue=O-Z*65536,O=at+Z+65535,Z=Math.floor(O/65536),at=O-Z*65536,O=Je+Z+65535,Z=Math.floor(O/65536),Je=O-Z*65536,O=At+Z+65535,Z=Math.floor(O/65536),At=O-Z*65536,O=tt+Z+65535,Z=Math.floor(O/65536),tt=O-Z*65536,O=dt+Z+65535,Z=Math.floor(O/65536),dt=O-Z*65536,O=ht+Z+65535,Z=Math.floor(O/65536),ht=O-Z*65536,O=bt+Z+65535,Z=Math.floor(O/65536),bt=O-Z*65536,O=gt+Z+65535,Z=Math.floor(O/65536),gt=O-Z*65536,O=pt+Z+65535,Z=Math.floor(O/65536),pt=O-Z*65536,O=yt+Z+65535,Z=Math.floor(O/65536),yt=O-Z*65536,O=mt+Z+65535,Z=Math.floor(O/65536),mt=O-Z*65536,O=it+Z+65535,Z=Math.floor(O/65536),it=O-Z*65536,X+=Z-1+37*(Z-1),Z=1,O=X+Z+65535,Z=Math.floor(O/65536),X=O-Z*65536,O=pe+Z+65535,Z=Math.floor(O/65536),pe=O-Z*65536,O=oe+Z+65535,Z=Math.floor(O/65536),oe=O-Z*65536,O=ue+Z+65535,Z=Math.floor(O/65536),ue=O-Z*65536,O=at+Z+65535,Z=Math.floor(O/65536),at=O-Z*65536,O=Je+Z+65535,Z=Math.floor(O/65536),Je=O-Z*65536,O=At+Z+65535,Z=Math.floor(O/65536),At=O-Z*65536,O=tt+Z+65535,Z=Math.floor(O/65536),tt=O-Z*65536,O=dt+Z+65535,Z=Math.floor(O/65536),dt=O-Z*65536,O=ht+Z+65535,Z=Math.floor(O/65536),ht=O-Z*65536,O=bt+Z+65535,Z=Math.floor(O/65536),bt=O-Z*65536,O=gt+Z+65535,Z=Math.floor(O/65536),gt=O-Z*65536,O=pt+Z+65535,Z=Math.floor(O/65536),pt=O-Z*65536,O=yt+Z+65535,Z=Math.floor(O/65536),yt=O-Z*65536,O=mt+Z+65535,Z=Math.floor(O/65536),mt=O-Z*65536,O=it+Z+65535,Z=Math.floor(O/65536),it=O-Z*65536,X+=Z-1+37*(Z-1),Y[0]=X,Y[1]=pe,Y[2]=oe,Y[3]=ue,Y[4]=at,Y[5]=Je,Y[6]=At,Y[7]=tt,Y[8]=dt,Y[9]=ht,Y[10]=bt,Y[11]=gt,Y[12]=pt,Y[13]=yt,Y[14]=mt,Y[15]=it}function ee(Y,j){z(Y,j,j)}function ne(Y,j){var H=e(),O;for(O=0;O<16;O++)H[O]=j[O];for(O=253;O>=0;O--)ee(H,H),O!==2&&O!==4&&z(H,H,j);for(O=0;O<16;O++)Y[O]=H[O]}function Ke(Y,j){var H=e(),O;for(O=0;O<16;O++)H[O]=j[O];for(O=250;O>=0;O--)ee(H,H),O!==1&&z(H,H,j);for(O=0;O<16;O++)Y[O]=H[O]}function ae(Y,j,H){var O=new Uint8Array(32),Z=new Float64Array(80),X,pe,oe=e(),ue=e(),at=e(),Je=e(),At=e(),tt=e();for(pe=0;pe<31;pe++)O[pe]=j[pe];for(O[31]=j[31]&127|64,O[0]&=248,L(Z,H),pe=0;pe<16;pe++)ue[pe]=Z[pe],Je[pe]=oe[pe]=at[pe]=0;for(oe[0]=Je[0]=1,pe=254;pe>=0;--pe)X=O[pe>>>3]>>>(pe&7)&1,_(oe,ue,X),_(at,Je,X),D(At,oe,at),C(oe,oe,at),D(at,ue,Je),C(ue,ue,Je),ee(Je,At),ee(tt,oe),z(oe,at,oe),z(at,ue,At),D(At,oe,at),C(oe,oe,at),ee(ue,oe),C(at,Je,tt),z(oe,at,c),D(oe,oe,Je),z(at,at,oe),z(oe,Je,tt),z(Je,ue,Z),ee(ue,At),_(oe,ue,X),_(at,Je,X);for(pe=0;pe<16;pe++)Z[pe+16]=oe[pe],Z[pe+32]=at[pe],Z[pe+48]=ue[pe],Z[pe+64]=Je[pe];var dt=Z.subarray(32),ht=Z.subarray(16);return ne(dt,dt),z(ht,ht,dt),v(Y,ht),0}function W(Y,j){return ae(Y,j,i)}function he(Y,j){return r(j,32),W(Y,j)}function te(Y,j,H){var O=new Uint8Array(32);return ae(O,H,j),F(Y,n,O,q)}var ce=p,Ze=y;function se(Y,j,H,O,Z,X){var pe=new Uint8Array(32);return te(pe,Z,X),ce(Y,j,H,O,pe)}function le(Y,j,H,O,Z,X){var pe=new Uint8Array(32);return te(pe,Z,X),Ze(Y,j,H,O,pe)}var Bt=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function ge(Y,j,H,O){for(var Z=new Int32Array(16),X=new Int32Array(16),pe,oe,ue,at,Je,At,tt,dt,ht,bt,gt,pt,yt,mt,it,ut,Xe,ot,st,Qe,Fe,Ve,nt,$e,Ye,ct,Kt=Y[0],ir=Y[1],ar=Y[2],or=Y[3],de=Y[4],Ar=Y[5],fn=Y[6],ln=Y[7],yr=j[0],tn=j[1],rn=j[2],oo=j[3],Fn=j[4],Gi=j[5],$i=j[6],Yi=j[7],Mo=0;O>=128;){for(st=0;st<16;st++)Qe=8*st+Mo,Z[st]=H[Qe+0]<<24|H[Qe+1]<<16|H[Qe+2]<<8|H[Qe+3],X[st]=H[Qe+4]<<24|H[Qe+5]<<16|H[Qe+6]<<8|H[Qe+7];for(st=0;st<80;st++)if(pe=Kt,oe=ir,ue=ar,at=or,Je=de,At=Ar,tt=fn,dt=ln,ht=yr,bt=tn,gt=rn,pt=oo,yt=Fn,mt=Gi,it=$i,ut=Yi,Fe=ln,Ve=Yi,nt=Ve&65535,$e=Ve>>>16,Ye=Fe&65535,ct=Fe>>>16,Fe=(de>>>14|Fn<<18)^(de>>>18|Fn<<14)^(Fn>>>9|de<<23),Ve=(Fn>>>14|de<<18)^(Fn>>>18|de<<14)^(de>>>9|Fn<<23),nt+=Ve&65535,$e+=Ve>>>16,Ye+=Fe&65535,ct+=Fe>>>16,Fe=de&Ar^~de&fn,Ve=Fn&Gi^~Fn&$i,nt+=Ve&65535,$e+=Ve>>>16,Ye+=Fe&65535,ct+=Fe>>>16,Fe=Bt[st*2],Ve=Bt[st*2+1],nt+=Ve&65535,$e+=Ve>>>16,Ye+=Fe&65535,ct+=Fe>>>16,Fe=Z[st%16],Ve=X[st%16],nt+=Ve&65535,$e+=Ve>>>16,Ye+=Fe&65535,ct+=Fe>>>16,$e+=nt>>>16,Ye+=$e>>>16,ct+=Ye>>>16,Xe=Ye&65535|ct<<16,ot=nt&65535|$e<<16,Fe=Xe,Ve=ot,nt=Ve&65535,$e=Ve>>>16,Ye=Fe&65535,ct=Fe>>>16,Fe=(Kt>>>28|yr<<4)^(yr>>>2|Kt<<30)^(yr>>>7|Kt<<25),Ve=(yr>>>28|Kt<<4)^(Kt>>>2|yr<<30)^(Kt>>>7|yr<<25),nt+=Ve&65535,$e+=Ve>>>16,Ye+=Fe&65535,ct+=Fe>>>16,Fe=Kt&ir^Kt&ar^ir&ar,Ve=yr&tn^yr&rn^tn&rn,nt+=Ve&65535,$e+=Ve>>>16,Ye+=Fe&65535,ct+=Fe>>>16,$e+=nt>>>16,Ye+=$e>>>16,ct+=Ye>>>16,dt=Ye&65535|ct<<16,ut=nt&65535|$e<<16,Fe=at,Ve=pt,nt=Ve&65535,$e=Ve>>>16,Ye=Fe&65535,ct=Fe>>>16,Fe=Xe,Ve=ot,nt+=Ve&65535,$e+=Ve>>>16,Ye+=Fe&65535,ct+=Fe>>>16,$e+=nt>>>16,Ye+=$e>>>16,ct+=Ye>>>16,at=Ye&65535|ct<<16,pt=nt&65535|$e<<16,ir=pe,ar=oe,or=ue,de=at,Ar=Je,fn=At,ln=tt,Kt=dt,tn=ht,rn=bt,oo=gt,Fn=pt,Gi=yt,$i=mt,Yi=it,yr=ut,st%16===15)for(Qe=0;Qe<16;Qe++)Fe=Z[Qe],Ve=X[Qe],nt=Ve&65535,$e=Ve>>>16,Ye=Fe&65535,ct=Fe>>>16,Fe=Z[(Qe+9)%16],Ve=X[(Qe+9)%16],nt+=Ve&65535,$e+=Ve>>>16,Ye+=Fe&65535,ct+=Fe>>>16,Xe=Z[(Qe+1)%16],ot=X[(Qe+1)%16],Fe=(Xe>>>1|ot<<31)^(Xe>>>8|ot<<24)^Xe>>>7,Ve=(ot>>>1|Xe<<31)^(ot>>>8|Xe<<24)^(ot>>>7|Xe<<25),nt+=Ve&65535,$e+=Ve>>>16,Ye+=Fe&65535,ct+=Fe>>>16,Xe=Z[(Qe+14)%16],ot=X[(Qe+14)%16],Fe=(Xe>>>19|ot<<13)^(ot>>>29|Xe<<3)^Xe>>>6,Ve=(ot>>>19|Xe<<13)^(Xe>>>29|ot<<3)^(ot>>>6|Xe<<26),nt+=Ve&65535,$e+=Ve>>>16,Ye+=Fe&65535,ct+=Fe>>>16,$e+=nt>>>16,Ye+=$e>>>16,ct+=Ye>>>16,Z[Qe]=Ye&65535|ct<<16,X[Qe]=nt&65535|$e<<16;Fe=Kt,Ve=yr,nt=Ve&65535,$e=Ve>>>16,Ye=Fe&65535,ct=Fe>>>16,Fe=Y[0],Ve=j[0],nt+=Ve&65535,$e+=Ve>>>16,Ye+=Fe&65535,ct+=Fe>>>16,$e+=nt>>>16,Ye+=$e>>>16,ct+=Ye>>>16,Y[0]=Kt=Ye&65535|ct<<16,j[0]=yr=nt&65535|$e<<16,Fe=ir,Ve=tn,nt=Ve&65535,$e=Ve>>>16,Ye=Fe&65535,ct=Fe>>>16,Fe=Y[1],Ve=j[1],nt+=Ve&65535,$e+=Ve>>>16,Ye+=Fe&65535,ct+=Fe>>>16,$e+=nt>>>16,Ye+=$e>>>16,ct+=Ye>>>16,Y[1]=ir=Ye&65535|ct<<16,j[1]=tn=nt&65535|$e<<16,Fe=ar,Ve=rn,nt=Ve&65535,$e=Ve>>>16,Ye=Fe&65535,ct=Fe>>>16,Fe=Y[2],Ve=j[2],nt+=Ve&65535,$e+=Ve>>>16,Ye+=Fe&65535,ct+=Fe>>>16,$e+=nt>>>16,Ye+=$e>>>16,ct+=Ye>>>16,Y[2]=ar=Ye&65535|ct<<16,j[2]=rn=nt&65535|$e<<16,Fe=or,Ve=oo,nt=Ve&65535,$e=Ve>>>16,Ye=Fe&65535,ct=Fe>>>16,Fe=Y[3],Ve=j[3],nt+=Ve&65535,$e+=Ve>>>16,Ye+=Fe&65535,ct+=Fe>>>16,$e+=nt>>>16,Ye+=$e>>>16,ct+=Ye>>>16,Y[3]=or=Ye&65535|ct<<16,j[3]=oo=nt&65535|$e<<16,Fe=de,Ve=Fn,nt=Ve&65535,$e=Ve>>>16,Ye=Fe&65535,ct=Fe>>>16,Fe=Y[4],Ve=j[4],nt+=Ve&65535,$e+=Ve>>>16,Ye+=Fe&65535,ct+=Fe>>>16,$e+=nt>>>16,Ye+=$e>>>16,ct+=Ye>>>16,Y[4]=de=Ye&65535|ct<<16,j[4]=Fn=nt&65535|$e<<16,Fe=Ar,Ve=Gi,nt=Ve&65535,$e=Ve>>>16,Ye=Fe&65535,ct=Fe>>>16,Fe=Y[5],Ve=j[5],nt+=Ve&65535,$e+=Ve>>>16,Ye+=Fe&65535,ct+=Fe>>>16,$e+=nt>>>16,Ye+=$e>>>16,ct+=Ye>>>16,Y[5]=Ar=Ye&65535|ct<<16,j[5]=Gi=nt&65535|$e<<16,Fe=fn,Ve=$i,nt=Ve&65535,$e=Ve>>>16,Ye=Fe&65535,ct=Fe>>>16,Fe=Y[6],Ve=j[6],nt+=Ve&65535,$e+=Ve>>>16,Ye+=Fe&65535,ct+=Fe>>>16,$e+=nt>>>16,Ye+=$e>>>16,ct+=Ye>>>16,Y[6]=fn=Ye&65535|ct<<16,j[6]=$i=nt&65535|$e<<16,Fe=ln,Ve=Yi,nt=Ve&65535,$e=Ve>>>16,Ye=Fe&65535,ct=Fe>>>16,Fe=Y[7],Ve=j[7],nt+=Ve&65535,$e+=Ve>>>16,Ye+=Fe&65535,ct+=Fe>>>16,$e+=nt>>>16,Ye+=$e>>>16,ct+=Ye>>>16,Y[7]=ln=Ye&65535|ct<<16,j[7]=Yi=nt&65535|$e<<16,Mo+=128,O-=128}return O}function ye(Y,j,H){var O=new Int32Array(8),Z=new Int32Array(8),X=new Uint8Array(256),pe,oe=H;for(O[0]=1779033703,O[1]=3144134277,O[2]=1013904242,O[3]=2773480762,O[4]=1359893119,O[5]=2600822924,O[6]=528734635,O[7]=1541459225,Z[0]=4089235720,Z[1]=2227873595,Z[2]=4271175723,Z[3]=1595750129,Z[4]=2917565137,Z[5]=725511199,Z[6]=4215389547,Z[7]=327033209,ge(O,Z,j,H),H%=128,pe=0;pe<H;pe++)X[pe]=j[oe-H+pe];for(X[H]=128,H=256-128*(H<112?1:0),X[H-9]=0,I(X,H-8,oe/536870912|0,oe<<3),ge(O,Z,X,H),pe=0;pe<8;pe++)I(Y,8*pe,O[pe],Z[pe]);return 0}function $r(Y,j){var H=e(),O=e(),Z=e(),X=e(),pe=e(),oe=e(),ue=e(),at=e(),Je=e();C(H,Y[1],Y[0]),C(Je,j[1],j[0]),z(H,H,Je),D(O,Y[0],Y[1]),D(Je,j[0],j[1]),z(O,O,Je),z(Z,Y[3],j[3]),z(Z,Z,m),z(X,Y[2],j[2]),D(X,X,X),C(pe,O,H),C(oe,X,Z),D(ue,X,Z),D(at,O,H),z(Y[0],pe,oe),z(Y[1],at,ue),z(Y[2],ue,oe),z(Y[3],pe,at)}function Ie(Y,j,H){var O;for(O=0;O<4;O++)_(Y[O],j[O],H)}function we(Y,j){var H=e(),O=e(),Z=e();ne(Z,j[2]),z(H,j[0],Z),z(O,j[1],Z),v(Y,O),Y[31]^=x(H)<<7}function gn(Y,j,H){var O,Z;for(g(Y[0],o),g(Y[1],s),g(Y[2],s),g(Y[3],o),Z=255;Z>=0;--Z)O=H[Z/8|0]>>(Z&7)&1,Ie(Y,j,O),$r(j,Y),$r(Y,Y),Ie(Y,j,O)}function ve(Y,j){var H=[e(),e(),e(),e()];g(H[0],w),g(H[1],b),g(H[2],s),z(H[3],w,b),gn(Y,H,j)}function Be(Y,j,H){var O=new Uint8Array(64),Z=[e(),e(),e(),e()],X;for(H||r(j,32),ye(O,j,32),O[0]&=248,O[31]&=127,O[31]|=64,ve(Z,O),we(Y,Z),X=0;X<32;X++)j[X+32]=Y[X];return 0}var In=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function Re(Y,j){var H,O,Z,X;for(O=63;O>=32;--O){for(H=0,Z=O-32,X=O-12;Z<X;++Z)j[Z]+=H-16*j[O]*In[Z-(O-32)],H=Math.floor((j[Z]+128)/256),j[Z]-=H*256;j[Z]+=H,j[O]=0}for(H=0,Z=0;Z<32;Z++)j[Z]+=H-(j[31]>>4)*In[Z],H=j[Z]>>8,j[Z]&=255;for(Z=0;Z<32;Z++)j[Z]-=H*In[Z];for(O=0;O<32;O++)j[O+1]+=j[O]>>8,Y[O]=j[O]&255}function Ce(Y){var j=new Float64Array(64),H;for(H=0;H<64;H++)j[H]=Y[H];for(H=0;H<64;H++)Y[H]=0;Re(Y,j)}function Rn(Y,j,H,O){var Z=new Uint8Array(64),X=new Uint8Array(64),pe=new Uint8Array(64),oe,ue,at=new Float64Array(64),Je=[e(),e(),e(),e()];ye(Z,O,32),Z[0]&=248,Z[31]&=127,Z[31]|=64;var At=H+64;for(oe=0;oe<H;oe++)Y[64+oe]=j[oe];for(oe=0;oe<32;oe++)Y[32+oe]=Z[32+oe];for(ye(pe,Y.subarray(32),H+32),Ce(pe),ve(Je,pe),we(Y,Je),oe=32;oe<64;oe++)Y[oe]=O[oe];for(ye(X,Y,H+64),Ce(X),oe=0;oe<64;oe++)at[oe]=0;for(oe=0;oe<32;oe++)at[oe]=pe[oe];for(oe=0;oe<32;oe++)for(ue=0;ue<32;ue++)at[oe+ue]+=X[oe]*Z[ue];return Re(Y.subarray(32),at),At}function De(Y,j){var H=e(),O=e(),Z=e(),X=e(),pe=e(),oe=e(),ue=e();return g(Y[2],s),L(Y[1],j),ee(Z,Y[1]),z(X,Z,l),C(Z,Z,Y[2]),D(X,Y[2],X),ee(pe,X),ee(oe,pe),z(ue,oe,pe),z(H,ue,Z),z(H,H,X),Ke(H,H),z(H,H,Z),z(H,H,X),z(H,H,X),z(Y[0],H,X),ee(O,Y[0]),z(O,O,X),u(O,Z)&&z(Y[0],Y[0],E),ee(O,Y[0]),z(O,O,X),u(O,Z)?-1:(x(Y[0])===j[31]>>7&&C(Y[0],o,Y[0]),z(Y[3],Y[0],Y[1]),0)}function Me(Y,j,H,O){var Z,X=new Uint8Array(32),pe=new Uint8Array(64),oe=[e(),e(),e(),e()],ue=[e(),e(),e(),e()];if(H<64||De(ue,O))return-1;for(Z=0;Z<H;Z++)Y[Z]=j[Z];for(Z=0;Z<32;Z++)Y[Z+32]=O[Z];if(ye(pe,Y,H),Ce(pe),gn(oe,ue,pe),ve(ue,j.subarray(32)),$r(oe,ue),we(X,oe),H-=64,R(j,0,X,0)){for(Z=0;Z<H;Z++)Y[Z]=0;return-1}for(Z=0;Z<H;Z++)Y[Z]=j[Z+64];return H}var Mn=32,_e=24,Se=32,en=16,Ae=32,Te=32,un=32,Ee=32,ke=32,Cn=_e,Ue=Se,Le=en,Or=64,be=32,xe=64,kn=32,Pe=64;t.lowlevel={crypto_core_hsalsa20:F,crypto_stream_xor:ie,crypto_stream:Q,crypto_stream_salsa20_xor:K,crypto_stream_salsa20:re,crypto_onetimeauth:a,crypto_onetimeauth_verify:f,crypto_verify_16:k,crypto_verify_32:R,crypto_secretbox:p,crypto_secretbox_open:y,crypto_scalarmult:ae,crypto_scalarmult_base:W,crypto_box_beforenm:te,crypto_box_afternm:ce,crypto_box:se,crypto_box_open:le,crypto_box_keypair:he,crypto_hash:ye,crypto_sign:Rn,crypto_sign_keypair:Be,crypto_sign_open:Me,crypto_secretbox_KEYBYTES:Mn,crypto_secretbox_NONCEBYTES:_e,crypto_secretbox_ZEROBYTES:Se,crypto_secretbox_BOXZEROBYTES:en,crypto_scalarmult_BYTES:Ae,crypto_scalarmult_SCALARBYTES:Te,crypto_box_PUBLICKEYBYTES:un,crypto_box_SECRETKEYBYTES:Ee,crypto_box_BEFORENMBYTES:ke,crypto_box_NONCEBYTES:Cn,crypto_box_ZEROBYTES:Ue,crypto_box_BOXZEROBYTES:Le,crypto_sign_BYTES:Or,crypto_sign_PUBLICKEYBYTES:be,crypto_sign_SECRETKEYBYTES:xe,crypto_sign_SEEDBYTES:kn,crypto_hash_BYTES:Pe,gf:e,D:l,L:In,pack25519:v,unpack25519:L,M:z,A:D,S:ee,Z:C,pow2523:Ke,add:$r,set25519:g,modL:Re,scalarmult:gn,scalarbase:ve};function Oe(Y,j){if(Y.length!==Mn)throw new Error("bad key size");if(j.length!==_e)throw new Error("bad nonce size")}function Ln(Y,j){if(Y.length!==un)throw new Error("bad public key size");if(j.length!==Ee)throw new Error("bad secret key size")}function me(){for(var Y=0;Y<arguments.length;Y++)if(!(arguments[Y]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Ne(Y){for(var j=0;j<Y.length;j++)Y[j]=0}t.randomBytes=function(Y){var j=new Uint8Array(Y);return r(j,Y),j},t.secretbox=function(Y,j,H){me(Y,j,H),Oe(H,j);for(var O=new Uint8Array(Se+Y.length),Z=new Uint8Array(O.length),X=0;X<Y.length;X++)O[X+Se]=Y[X];return p(Z,O,O.length,j,H),Z.subarray(en)},t.secretbox.open=function(Y,j,H){me(Y,j,H),Oe(H,j);for(var O=new Uint8Array(en+Y.length),Z=new Uint8Array(O.length),X=0;X<Y.length;X++)O[X+en]=Y[X];return O.length<32||y(Z,O,O.length,j,H)!==0?null:Z.subarray(Se)},t.secretbox.keyLength=Mn,t.secretbox.nonceLength=_e,t.secretbox.overheadLength=en,t.scalarMult=function(Y,j){if(me(Y,j),Y.length!==Te)throw new Error("bad n size");if(j.length!==Ae)throw new Error("bad p size");var H=new Uint8Array(Ae);return ae(H,Y,j),H},t.scalarMult.base=function(Y){if(me(Y),Y.length!==Te)throw new Error("bad n size");var j=new Uint8Array(Ae);return W(j,Y),j},t.scalarMult.scalarLength=Te,t.scalarMult.groupElementLength=Ae,t.box=function(Y,j,H,O){var Z=t.box.before(H,O);return t.secretbox(Y,j,Z)},t.box.before=function(Y,j){me(Y,j),Ln(Y,j);var H=new Uint8Array(ke);return te(H,Y,j),H},t.box.after=t.secretbox,t.box.open=function(Y,j,H,O){var Z=t.box.before(H,O);return t.secretbox.open(Y,j,Z)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var Y=new Uint8Array(un),j=new Uint8Array(Ee);return he(Y,j),{publicKey:Y,secretKey:j}},t.box.keyPair.fromSecretKey=function(Y){if(me(Y),Y.length!==Ee)throw new Error("bad secret key size");var j=new Uint8Array(un);return W(j,Y),{publicKey:j,secretKey:new Uint8Array(Y)}},t.box.publicKeyLength=un,t.box.secretKeyLength=Ee,t.box.sharedKeyLength=ke,t.box.nonceLength=Cn,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(Y,j){if(me(Y,j),j.length!==xe)throw new Error("bad secret key size");var H=new Uint8Array(Or+Y.length);return Rn(H,Y,Y.length,j),H},t.sign.open=function(Y,j){if(me(Y,j),j.length!==be)throw new Error("bad public key size");var H=new Uint8Array(Y.length),O=Me(H,Y,Y.length,j);if(O<0)return null;for(var Z=new Uint8Array(O),X=0;X<Z.length;X++)Z[X]=H[X];return Z},t.sign.detached=function(Y,j){for(var H=t.sign(Y,j),O=new Uint8Array(Or),Z=0;Z<O.length;Z++)O[Z]=H[Z];return O},t.sign.detached.verify=function(Y,j,H){if(me(Y,j,H),j.length!==Or)throw new Error("bad signature size");if(H.length!==be)throw new Error("bad public key size");var O=new Uint8Array(Or+Y.length),Z=new Uint8Array(Or+Y.length),X;for(X=0;X<Or;X++)O[X]=j[X];for(X=0;X<Y.length;X++)O[X+Or]=Y[X];return Me(Z,O,O.length,H)>=0},t.sign.keyPair=function(){var Y=new Uint8Array(be),j=new Uint8Array(xe);return Be(Y,j),{publicKey:Y,secretKey:j}},t.sign.keyPair.fromSecretKey=function(Y){if(me(Y),Y.length!==xe)throw new Error("bad secret key size");for(var j=new Uint8Array(be),H=0;H<j.length;H++)j[H]=Y[32+H];return{publicKey:j,secretKey:new Uint8Array(Y)}},t.sign.keyPair.fromSeed=function(Y){if(me(Y),Y.length!==kn)throw new Error("bad seed size");for(var j=new Uint8Array(be),H=new Uint8Array(xe),O=0;O<32;O++)H[O]=Y[O];return Be(j,H,!0),{publicKey:j,secretKey:H}},t.sign.publicKeyLength=be,t.sign.secretKeyLength=xe,t.sign.seedLength=kn,t.sign.signatureLength=Or,t.hash=function(Y){me(Y);var j=new Uint8Array(Pe);return ye(j,Y,Y.length),j},t.hash.hashLength=Pe,t.verify=function(Y,j){return me(Y,j),Y.length===0||j.length===0||Y.length!==j.length?!1:M(Y,0,j,0,Y.length)===0},t.setPRNG=function(Y){r=Y},function(){var Y=typeof self<"u"?self.crypto||self.msCrypto:null;if(Y&&Y.getRandomValues){var j=65536;t.setPRNG(function(H,O){var Z,X=new Uint8Array(O);for(Z=0;Z<O;Z+=j)Y.getRandomValues(X.subarray(Z,Z+Math.min(O-Z,j)));for(Z=0;Z<O;Z++)H[Z]=X[Z];Ne(X)})}else typeof jse<"u"&&(Y=om(),Y&&Y.randomBytes&&t.setPRNG(function(H,O){var Z,X=Y.randomBytes(O);for(Z=0;Z<O;Z++)H[Z]=X[Z];Ne(X)}))}()})(typeof kP<"u"&&kP.exports?kP.exports:self.nacl=self.nacl||{})});var gxe=V(Ga=>{"use strict";d();h();Object.defineProperty(Ga,"__esModule",{value:!0});Ga.output=Ga.exists=Ga.hash=Ga.bytes=Ga.bool=Ga.number=void 0;function OP(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}Ga.number=OP;function hxe(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}Ga.bool=hxe;function nG(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}Ga.bytes=nG;function pxe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");OP(t.outputLen),OP(t.blockLen)}Ga.hash=pxe;function mxe(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}Ga.exists=mxe;function yxe(t,e){nG(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Ga.output=yxe;var lct={number:OP,bool:hxe,bytes:nG,hash:pxe,exists:mxe,output:yxe};Ga.default=lct});var bxe=V(NP=>{"use strict";d();h();Object.defineProperty(NP,"__esModule",{value:!0});NP.crypto=void 0;NP.crypto={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0}});var sG=V(kr=>{"use strict";d();h();Object.defineProperty(kr,"__esModule",{value:!0});kr.randomBytes=kr.wrapConstructorWithOpts=kr.wrapConstructor=kr.checkOpts=kr.Hash=kr.concatBytes=kr.toBytes=kr.utf8ToBytes=kr.asyncLoop=kr.nextTick=kr.hexToBytes=kr.bytesToHex=kr.isLE=kr.rotr=kr.createView=kr.u32=kr.u8=void 0;var DP=bxe(),dct=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength);kr.u8=dct;var hct=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4));kr.u32=hct;var pct=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);kr.createView=pct;var mct=(t,e)=>t<<32-e|t>>>e;kr.rotr=mct;kr.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!kr.isLE)throw new Error("Non little-endian hardware is not supported");var yct=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function gct(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=yct[t[r]];return e}kr.bytesToHex=gct;function bct(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");e[r]=o}return e}kr.hexToBytes=bct;var vct=async()=>{};kr.nextTick=vct;async function xct(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);let o=Date.now()-n;o>=0&&o<e||(await(0,kr.nextTick)(),n+=o)}}kr.asyncLoop=xct;function vxe(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}kr.utf8ToBytes=vxe;function oG(t){if(typeof t=="string"&&(t=vxe(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}kr.toBytes=oG;function wct(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let o=t[n];r.set(o,i),i+=o.length}return r}kr.concatBytes=wct;var iG=class{clone(){return this._cloneInto()}};kr.Hash=iG;var Sct=t=>Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object;function Act(t,e){if(e!==void 0&&(typeof e!="object"||!Sct(e)))throw new TypeError("Options should be object or undefined");return Object.assign(t,e)}kr.checkOpts=Act;function Ect(t){let e=n=>t().update(oG(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}kr.wrapConstructor=Ect;function _ct(t){let e=(n,i)=>t(i).update(oG(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}kr.wrapConstructorWithOpts=_ct;function Tct(t=32){if(DP.crypto.web)return DP.crypto.web.getRandomValues(new Uint8Array(t));if(DP.crypto.node)return new Uint8Array(DP.crypto.node.randomBytes(t).buffer);throw new Error("The environment doesn't have randomBytes function")}kr.randomBytes=Tct});var xxe=V(UP=>{"use strict";d();h();Object.defineProperty(UP,"__esModule",{value:!0});UP.SHA2=void 0;var aG=gxe(),L_=sG();function Ict(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),c=Number(r&o),l=n?4:0,m=n?0:4;t.setUint32(e+l,s,n),t.setUint32(e+m,c,n)}var cG=class extends L_.Hash{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,L_.createView)(this.buffer)}update(e){aG.default.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=(0,L_.toBytes)(e);let o=e.length;for(let s=0;s<o;){let c=Math.min(i-this.pos,o-s);if(c===i){let l=(0,L_.createView)(e);for(;i<=o-s;s+=i)this.process(l,s);continue}n.set(e.subarray(s,s+c),this.pos),this.pos+=c,s+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){aG.default.exists(this),aG.default.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let b=s;b<i;b++)r[b]=0;Ict(n,i-8,BigInt(this.length*8),o),this.process(n,0);let c=(0,L_.createView)(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let m=l/4,w=this.get();if(m>w.length)throw new Error("_sha2: outputLen bigger than state");for(let b=0;b<m;b++)c.setUint32(4*b,w[b],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:c}=this;return e.length=i,e.pos=c,e.finished=o,e.destroyed=s,i%r&&e.buffer.set(n),e}};UP.SHA2=cG});var wxe=V(N2=>{"use strict";d();h();Object.defineProperty(N2,"__esModule",{value:!0});N2.sha224=N2.sha256=void 0;var Mct=xxe(),Tf=sG(),kct=(t,e,r)=>t&e^~t&r,Pct=(t,e,r)=>t&e^t&r^e&r,Bct=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),py=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),my=new Uint32Array(64),LP=class extends Mct.SHA2{constructor(){super(64,32,8,!1),this.A=py[0]|0,this.B=py[1]|0,this.C=py[2]|0,this.D=py[3]|0,this.E=py[4]|0,this.F=py[5]|0,this.G=py[6]|0,this.H=py[7]|0}get(){let{A:e,B:r,C:n,D:i,E:o,F:s,G:c,H:l}=this;return[e,r,n,i,o,s,c,l]}set(e,r,n,i,o,s,c,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=c|0,this.H=l|0}process(e,r){for(let b=0;b<16;b++,r+=4)my[b]=e.getUint32(r,!1);for(let b=16;b<64;b++){let E=my[b-15],I=my[b-2],M=(0,Tf.rotr)(E,7)^(0,Tf.rotr)(E,18)^E>>>3,k=(0,Tf.rotr)(I,17)^(0,Tf.rotr)(I,19)^I>>>10;my[b]=k+my[b-7]+M+my[b-16]|0}let{A:n,B:i,C:o,D:s,E:c,F:l,G:m,H:w}=this;for(let b=0;b<64;b++){let E=(0,Tf.rotr)(c,6)^(0,Tf.rotr)(c,11)^(0,Tf.rotr)(c,25),I=w+E+kct(c,l,m)+Bct[b]+my[b]|0,k=((0,Tf.rotr)(n,2)^(0,Tf.rotr)(n,13)^(0,Tf.rotr)(n,22))+Pct(n,i,o)|0;w=m,m=l,l=c,c=s+I|0,s=o,o=i,i=n,n=I+k|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,c=c+this.E|0,l=l+this.F|0,m=m+this.G|0,w=w+this.H|0,this.set(n,i,o,s,c,l,m,w)}roundClean(){my.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},uG=class extends LP{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};N2.sha256=(0,Tf.wrapConstructor)(()=>new LP);N2.sha224=(0,Tf.wrapConstructor)(()=>new uG)});var Axe=V((Wdr,Sxe)=>{"use strict";d();h();function Rct(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),o=i.charCodeAt(0);if(e[o]!==255)throw new TypeError(i+" is ambiguous");e[o]=n}var s=t.length,c=t.charAt(0),l=Math.log(s)/Math.log(256),m=Math.log(256)/Math.log(s);function w(I){if(I instanceof Uint8Array||(ArrayBuffer.isView(I)?I=new Uint8Array(I.buffer,I.byteOffset,I.byteLength):Array.isArray(I)&&(I=Uint8Array.from(I))),!(I instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(I.length===0)return"";for(var M=0,k=0,R=0,B=I.length;R!==B&&I[R]===0;)R++,M++;for(var U=(B-R)*m+1>>>0,P=new Uint8Array(U);R!==B;){for(var F=I[R],q=0,K=U-1;(F!==0||q<k)&&K!==-1;K--,q++)F+=256*P[K]>>>0,P[K]=F%s>>>0,F=F/s>>>0;if(F!==0)throw new Error("Non-zero carry");k=q,R++}for(var re=U-k;re!==U&&P[re]===0;)re++;for(var Q=c.repeat(M);re<U;++re)Q+=t.charAt(P[re]);return Q}function b(I){if(typeof I!="string")throw new TypeError("Expected String");if(I.length===0)return new Uint8Array;for(var M=0,k=0,R=0;I[M]===c;)k++,M++;for(var B=(I.length-M)*l+1>>>0,U=new Uint8Array(B);I[M];){var P=e[I.charCodeAt(M)];if(P===255)return;for(var F=0,q=B-1;(P!==0||F<R)&&q!==-1;q--,F++)P+=s*U[q]>>>0,U[q]=P%256>>>0,P=P/256>>>0;if(P!==0)throw new Error("Non-zero carry");R=F,M++}for(var K=B-R;K!==B&&U[K]===0;)K++;for(var re=new Uint8Array(k+(B-K)),Q=k;K!==B;)re[Q++]=U[K++];return re}function E(I){var M=b(I);if(M)return M;throw new Error("Non-base"+s+" character")}return{encode:w,decodeUnsafe:b,decode:E}}Sxe.exports=Rct});var _xe=V((Ydr,Exe)=>{d();h();var Cct=Axe(),Oct="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";Exe.exports=Cct(Oct)});var Ixe=V((Jdr,Txe)=>{"use strict";d();h();var fG=_xe();Txe.exports=function(t){function e(o){var s=Uint8Array.from(o),c=t(s),l=s.length+4,m=new Uint8Array(l);return m.set(s,0),m.set(c.subarray(0,4),s.length),fG.encode(m,l)}function r(o){var s=o.slice(0,-4),c=o.slice(-4),l=t(s);if(!(c[0]^l[0]|c[1]^l[1]|c[2]^l[2]|c[3]^l[3]))return s}function n(o){var s=fG.decodeUnsafe(o);if(s)return r(s)}function i(o){var s=fG.decode(o),c=r(s,t);if(!c)throw new Error("Invalid checksum");return c}return{encode:e,decode:i,decodeUnsafe:n}}});var D2=V((thr,kxe)=>{"use strict";d();h();var{sha256:Mxe}=wxe(),Nct=Ixe();function Dct(t){return Mxe(Mxe(t))}kxe.exports=Nct(Dct)});var Bxe=V((ihr,Pxe)=>{"use strict";d();h();var lG=ta(),Uct=cr().Buffer;Pxe.exports=function(t){function e(o){var s=t(o);return lG.encode(Uct.concat([o,s],o.length+4))}function r(o){var s=o.slice(0,-4),c=o.slice(-4),l=t(s);if(!(c[0]^l[0]|c[1]^l[1]|c[2]^l[2]|c[3]^l[3]))return s}function n(o){var s=lG.decodeUnsafe(o);if(s)return r(s)}function i(o){var s=lG.decode(o),c=r(s,t);if(!c)throw new Error("Invalid checksum");return c}return{encode:e,decode:i,decodeUnsafe:n}}});var Oxe=V((ahr,Cxe)=>{"use strict";d();h();var Rxe=tm(),Lct=Bxe();function Fct(t){var e=Rxe("sha256").update(t).digest();return Rxe("sha256").update(e).digest()}Cxe.exports=Lct(Fct)});var FP=V((fhr,Dxe)=>{d();h();var dG=Oxe();function Nxe(t,e){if(e!==void 0&&t[0]!==e)throw new Error("Invalid network version");if(t.length===33)return{version:t[0],privateKey:t.slice(1,33),compressed:!1};if(t.length!==34)throw new Error("Invalid WIF length");if(t[33]!==1)throw new Error("Invalid compression flag");return{version:t[0],privateKey:t.slice(1,33),compressed:!0}}function hG(t,e,r){var n=new Buffer(r?34:33);return n.writeUInt8(t,0),e.copy(n,1),r&&(n[33]=1),n}function Vct(t,e){return Nxe(dG.decode(t),e)}function qct(t,e,r){return typeof t=="number"?dG.encode(hG(t,e,r)):dG.encode(hG(t.version,t.privateKey,t.compressed))}Dxe.exports={decode:Vct,decodeRaw:Nxe,encode:qct,encodeRaw:hG}});var yG=V($a=>{"use strict";d();h();Object.defineProperty($a,"__esModule",{value:!0});$a.output=$a.exists=$a.hash=$a.bytes=$a.bool=$a.number=void 0;function KP(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}$a.number=KP;function Hxe(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}$a.bool=Hxe;function mG(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}$a.bytes=mG;function jxe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");KP(t.outputLen),KP(t.blockLen)}$a.hash=jxe;function zxe(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}$a.exists=zxe;function Wxe(t,e){mG(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}$a.output=Wxe;var Gct={number:KP,bool:Hxe,bytes:mG,hash:jxe,exists:zxe,output:Wxe};$a.default=Gct});var Gxe=V(HP=>{"use strict";d();h();Object.defineProperty(HP,"__esModule",{value:!0});HP.crypto=void 0;HP.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});var zP=V(xr=>{"use strict";d();h();Object.defineProperty(xr,"__esModule",{value:!0});xr.randomBytes=xr.wrapXOFConstructorWithOpts=xr.wrapConstructorWithOpts=xr.wrapConstructor=xr.checkOpts=xr.Hash=xr.concatBytes=xr.toBytes=xr.utf8ToBytes=xr.asyncLoop=xr.nextTick=xr.hexToBytes=xr.bytesToHex=xr.isLE=xr.rotr=xr.createView=xr.u32=xr.u8=void 0;var gG=Gxe(),vG=t=>t instanceof Uint8Array,$ct=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength);xr.u8=$ct;var Yct=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4));xr.u32=Yct;var Zct=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);xr.createView=Zct;var Qct=(t,e)=>t<<32-e|t>>>e;xr.rotr=Qct;xr.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!xr.isLE)throw new Error("Non little-endian hardware is not supported");var Jct=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Xct(t){if(!vG(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=Jct[t[r]];return e}xr.bytesToHex=Xct;function eut(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let r=new Uint8Array(e/2);for(let n=0;n<r.length;n++){let i=n*2,o=t.slice(i,i+2),s=Number.parseInt(o,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");r[n]=s}return r}xr.hexToBytes=eut;var tut=async()=>{};xr.nextTick=tut;async function rut(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);let o=Date.now()-n;o>=0&&o<e||(await(0,xr.nextTick)(),n+=o)}}xr.asyncLoop=rut;function $xe(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}xr.utf8ToBytes=$xe;function jP(t){if(typeof t=="string"&&(t=$xe(t)),!vG(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}xr.toBytes=jP;function nut(...t){let e=new Uint8Array(t.reduce((n,i)=>n+i.length,0)),r=0;return t.forEach(n=>{if(!vG(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}xr.concatBytes=nut;var bG=class{clone(){return this._cloneInto()}};xr.Hash=bG;var iut=t=>Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object;function out(t,e){if(e!==void 0&&(typeof e!="object"||!iut(e)))throw new Error("Options should be object or undefined");return Object.assign(t,e)}xr.checkOpts=out;function sut(t){let e=n=>t().update(jP(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}xr.wrapConstructor=sut;function aut(t){let e=(n,i)=>t(i).update(jP(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}xr.wrapConstructorWithOpts=aut;function cut(t){let e=(n,i)=>t(i).update(jP(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}xr.wrapXOFConstructorWithOpts=cut;function uut(t=32){if(gG.crypto&&typeof gG.crypto.getRandomValues=="function")return gG.crypto.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}xr.randomBytes=uut});var Zxe=V(_1=>{"use strict";d();h();Object.defineProperty(_1,"__esModule",{value:!0});_1.hmac=_1.HMAC=void 0;var WP=yG(),Yxe=zP(),V_=class extends Yxe.Hash{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,WP.default.hash(e);let n=(0,Yxe.toBytes)(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?e.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(e){return WP.default.exists(this),this.iHash.update(e),this}digestInto(e){WP.default.exists(this),WP.default.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:c}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=c,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};_1.HMAC=V_;var fut=(t,e,r)=>new V_(t,e).update(r).digest();_1.hmac=fut;_1.hmac.create=(t,e)=>new V_(t,e)});var Qxe=V(GP=>{"use strict";d();h();Object.defineProperty(GP,"__esModule",{value:!0});GP.SHA2=void 0;var xG=yG(),q_=zP();function lut(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),c=Number(r&o),l=n?4:0,m=n?0:4;t.setUint32(e+l,s,n),t.setUint32(e+m,c,n)}var wG=class extends q_.Hash{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,q_.createView)(this.buffer)}update(e){xG.default.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=(0,q_.toBytes)(e);let o=e.length;for(let s=0;s<o;){let c=Math.min(i-this.pos,o-s);if(c===i){let l=(0,q_.createView)(e);for(;i<=o-s;s+=i)this.process(l,s);continue}n.set(e.subarray(s,s+c),this.pos),this.pos+=c,s+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){xG.default.exists(this),xG.default.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let b=s;b<i;b++)r[b]=0;lut(n,i-8,BigInt(this.length*8),o),this.process(n,0);let c=(0,q_.createView)(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let m=l/4,w=this.get();if(m>w.length)throw new Error("_sha2: outputLen bigger than state");for(let b=0;b<m;b++)c.setUint32(4*b,w[b],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:c}=this;return e.length=i,e.pos=c,e.finished=o,e.destroyed=s,i%r&&e.buffer.set(n),e}};GP.SHA2=wG});var Jxe=V(U2=>{"use strict";d();h();Object.defineProperty(U2,"__esModule",{value:!0});U2.sha224=U2.sha256=void 0;var dut=Qxe(),If=zP(),hut=(t,e,r)=>t&e^~t&r,put=(t,e,r)=>t&e^t&r^e&r,mut=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),yy=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),gy=new Uint32Array(64),$P=class extends dut.SHA2{constructor(){super(64,32,8,!1),this.A=yy[0]|0,this.B=yy[1]|0,this.C=yy[2]|0,this.D=yy[3]|0,this.E=yy[4]|0,this.F=yy[5]|0,this.G=yy[6]|0,this.H=yy[7]|0}get(){let{A:e,B:r,C:n,D:i,E:o,F:s,G:c,H:l}=this;return[e,r,n,i,o,s,c,l]}set(e,r,n,i,o,s,c,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=c|0,this.H=l|0}process(e,r){for(let b=0;b<16;b++,r+=4)gy[b]=e.getUint32(r,!1);for(let b=16;b<64;b++){let E=gy[b-15],I=gy[b-2],M=(0,If.rotr)(E,7)^(0,If.rotr)(E,18)^E>>>3,k=(0,If.rotr)(I,17)^(0,If.rotr)(I,19)^I>>>10;gy[b]=k+gy[b-7]+M+gy[b-16]|0}let{A:n,B:i,C:o,D:s,E:c,F:l,G:m,H:w}=this;for(let b=0;b<64;b++){let E=(0,If.rotr)(c,6)^(0,If.rotr)(c,11)^(0,If.rotr)(c,25),I=w+E+hut(c,l,m)+mut[b]+gy[b]|0,k=((0,If.rotr)(n,2)^(0,If.rotr)(n,13)^(0,If.rotr)(n,22))+put(n,i,o)|0;w=m,m=l,l=c,c=s+I|0,s=o,o=i,i=n,n=I+k|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,c=c+this.E|0,l=l+this.F|0,m=m+this.G|0,w=w+this.H|0,this.set(n,i,o,s,c,l,m,w)}roundClean(){gy.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},SG=class extends $P{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};U2.sha256=(0,If.wrapConstructor)(()=>new $P);U2.sha224=(0,If.wrapConstructor)(()=>new SG)});var ZP=V(wo=>{"use strict";d();h();var yut=jH(),gut=Zxe(),Xxe=Jxe();function but(t){var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var Bn=but(yut);Bn.utils.hmacSha256Sync=(t,...e)=>gut.hmac(Xxe.sha256,t,Bn.utils.concatBytes(...e));Bn.utils.sha256Sync=(...t)=>Xxe.sha256(Bn.utils.concatBytes(...t));var _G=Bn.utils._normalizePrivateKey,vut=32,xut=32,AG=new Uint8Array([255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65]),wut=32;function EG(t,e){for(let r=0;r<32;++r)if(t[r]!==e[r])return t[r]<e[r]?-1:1;return 0}function K_(t){return!(!(t instanceof Uint8Array)||t.length!==xut||EG(t,AG)>=0)}function ewe(t){return t instanceof Uint8Array&&t.length===64&&EG(t.subarray(0,32),AG)<0&&EG(t.subarray(32,64),AG)<0}function YP(t){return t instanceof Uint8Array&&t.length===vut}function twe(t){return t===void 0||t instanceof Uint8Array&&t.length===wut}function rwe(t){if(typeof t!="string")throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}function Sut(t){return rwe(Bn.utils.bytesToHex(t))}function TG(t){let e;if(typeof t=="bigint")e=t;else if(typeof t=="number"&&Number.isSafeInteger(t)&&t>=0)e=BigInt(t);else if(typeof t=="string"){if(t.length!==64)throw new Error("Expected 32 bytes of private scalar");e=rwe(t)}else if(t instanceof Uint8Array){if(t.length!==32)throw new Error("Expected 32 bytes of private scalar");e=Sut(t)}else throw new TypeError("Expected valid private scalar");if(e<0)throw new Error("Expected private scalar >= 0");return e}var Aut=(t,e)=>{let r=_G(t),n=TG(e),i=Bn.utils._bigintTo32Bytes(Bn.utils.mod(r+n,Bn.CURVE.n));return Bn.utils.isValidPrivateKey(i)?i:null},Eut=(t,e)=>{let r=_G(t),n=TG(e),i=Bn.utils._bigintTo32Bytes(Bn.utils.mod(r-n,Bn.CURVE.n));return Bn.utils.isValidPrivateKey(i)?i:null},_ut=t=>{let e=_G(t),r=Bn.utils._bigintTo32Bytes(Bn.CURVE.n-e);return Bn.utils.isValidPrivateKey(r)?r:null},nwe=(t,e,r)=>{let n=Bn.Point.fromHex(t),i=TG(e),o=Bn.Point.BASE.multiplyAndAddUnsafe(n,i,1n);if(!o)throw new Error("Tweaked point at infinity");return o.toRawBytes(r)},Tut=(t,e,r)=>{let n=Bn.Point.fromHex(t),i=typeof e=="string"?e:Bn.utils.bytesToHex(e),o=BigInt(`0x${i}`);return n.multiply(o).toRawBytes(r)};function H_(t,e){return t===void 0?e!==void 0?iwe(e):!0:!!t}function T1(t){try{return t()}catch{return null}}function IG(t,e){if(t.length===32!==e)return!1;try{return!!Bn.Point.fromHex(t)}catch{return!1}}function by(t){return IG(t,!1)}function iwe(t){return IG(t,!1)&&t.length===33}function vy(t){return Bn.utils.isValidPrivateKey(t)}function MG(t){return IG(t,!0)}function Iut(t,e){if(!MG(t))throw new Error("Expected Point");if(!K_(e))throw new Error("Expected Tweak");return T1(()=>{let r=nwe(t,e,!0);return{parity:r[0]%2===1?1:0,xOnlyPubkey:r.slice(1)}})}function owe(t){if(!by(t))throw new Error("Expected Point");return t.slice(1,33)}function swe(t,e){if(!vy(t))throw new Error("Expected Private");return T1(()=>Bn.getPublicKey(t,H_(e)))}function Mut(t){if(!vy(t))throw new Error("Expected Private");return owe(swe(t))}function kut(t,e){if(!by(t))throw new Error("Expected Point");return Bn.Point.fromHex(t).toRawBytes(H_(e,t))}function Put(t,e,r){if(!by(t))throw new Error("Expected Point");if(!K_(e))throw new Error("Expected Tweak");return T1(()=>Tut(t,e,H_(r,t)))}function But(t,e,r){if(!by(t)||!by(e))throw new Error("Expected Point");return T1(()=>{let n=Bn.Point.fromHex(t),i=Bn.Point.fromHex(e);return n.equals(i.negate())?null:n.add(i).toRawBytes(H_(r,t))})}function Rut(t,e,r){if(!by(t))throw new Error("Expected Point");if(!K_(e))throw new Error("Expected Tweak");return T1(()=>nwe(t,e,H_(r,t)))}function Cut(t,e){if(vy(t)===!1)throw new Error("Expected Private");if(K_(e)===!1)throw new Error("Expected Tweak");return T1(()=>Aut(t,e))}function Out(t,e){if(vy(t)===!1)throw new Error("Expected Private");if(K_(e)===!1)throw new Error("Expected Tweak");return T1(()=>Eut(t,e))}function Nut(t){if(vy(t)===!1)throw new Error("Expected Private");return _ut(t)}function Dut(t,e,r){if(!vy(e))throw new Error("Expected Private");if(!YP(t))throw new Error("Expected Scalar");if(!twe(r))throw new Error("Expected Extra Data (32 bytes)");return Bn.signSync(t,e,{der:!1,extraEntropy:r})}function Uut(t,e,r=Buffer.alloc(32,0)){if(!vy(e))throw new Error("Expected Private");if(!YP(t))throw new Error("Expected Scalar");if(!twe(r))throw new Error("Expected Extra Data (32 bytes)");return Bn.schnorr.signSync(t,e,r)}function Lut(t,e,r,n){if(!by(e))throw new Error("Expected Point");if(!ewe(r))throw new Error("Expected Signature");if(!YP(t))throw new Error("Expected Scalar");return Bn.verify(r,t,e,{strict:n})}function Fut(t,e,r){if(!MG(e))throw new Error("Expected Point");if(!ewe(r))throw new Error("Expected Signature");if(!YP(t))throw new Error("Expected Scalar");return Bn.schnorr.verifySync(r,t,e)}wo.isPoint=by;wo.isPointCompressed=iwe;wo.isPrivate=vy;wo.isXOnlyPoint=MG;wo.pointAdd=But;wo.pointAddScalar=Rut;wo.pointCompress=kut;wo.pointFromScalar=swe;wo.pointMultiply=Put;wo.privateAdd=Cut;wo.privateNegate=Nut;wo.privateSub=Out;wo.sign=Dut;wo.signSchnorr=Uut;wo.verify=Lut;wo.verifySchnorr=Fut;wo.xOnlyPointAddTweak=Iut;wo.xOnlyPointFromPoint=owe;wo.xOnlyPointFromScalar=Mut});var Mf=V(wy=>{"use strict";d();h();Object.defineProperty(wy,"__esModule",{value:!0});wy.testnet=wy.regtest=wy.bitcoin=void 0;wy.bitcoin={messagePrefix:`Bitcoin Signed Message:
`,bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128};wy.regtest={messagePrefix:`Bitcoin Signed Message:
`,bech32:"bcrt",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239};wy.testnet={messagePrefix:`Bitcoin Signed Message:
`,bech32:"tb",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239}});var PG=V(Sy=>{"use strict";d();h();Object.defineProperty(Sy,"__esModule",{value:!0});Sy.encode=Sy.decode=Sy.check=void 0;function $ut(t){if(t.length<8||t.length>72||t[0]!==48||t[1]!==t.length-2||t[2]!==2)return!1;let e=t[3];if(e===0||5+e>=t.length||t[4+e]!==2)return!1;let r=t[5+e];return!(r===0||6+e+r!==t.length||t[4]&128||e>1&&t[4]===0&&!(t[5]&128)||t[e+6]&128||r>1&&t[e+6]===0&&!(t[e+7]&128))}Sy.check=$ut;function Yut(t){if(t.length<8)throw new Error("DER sequence length is too short");if(t.length>72)throw new Error("DER sequence length is too long");if(t[0]!==48)throw new Error("Expected DER sequence");if(t[1]!==t.length-2)throw new Error("DER sequence length is invalid");if(t[2]!==2)throw new Error("Expected DER integer");let e=t[3];if(e===0)throw new Error("R length is zero");if(5+e>=t.length)throw new Error("R length is too long");if(t[4+e]!==2)throw new Error("Expected DER integer (2)");let r=t[5+e];if(r===0)throw new Error("S length is zero");if(6+e+r!==t.length)throw new Error("S length is invalid");if(t[4]&128)throw new Error("R value is negative");if(e>1&&t[4]===0&&!(t[5]&128))throw new Error("R value excessively padded");if(t[e+6]&128)throw new Error("S value is negative");if(r>1&&t[e+6]===0&&!(t[e+7]&128))throw new Error("S value excessively padded");return{r:t.slice(4,4+e),s:t.slice(6+e)}}Sy.decode=Yut;function Zut(t,e){let r=t.length,n=e.length;if(r===0)throw new Error("R length is zero");if(n===0)throw new Error("S length is zero");if(r>33)throw new Error("R length is too long");if(n>33)throw new Error("S length is too long");if(t[0]&128)throw new Error("R value is negative");if(e[0]&128)throw new Error("S value is negative");if(r>1&&t[0]===0&&!(t[1]&128))throw new Error("R value excessively padded");if(n>1&&e[0]===0&&!(e[1]&128))throw new Error("S value excessively padded");let i=Buffer.allocUnsafe(6+r+n);return i[0]=48,i[1]=i.length-2,i[2]=2,i[3]=t.length,t.copy(i,4),i[4+r]=2,i[5+r]=e.length,e.copy(i,6+r),i}Sy.encode=Zut});var JP=V(L2=>{"use strict";d();h();Object.defineProperty(L2,"__esModule",{value:!0});L2.REVERSE_OPS=L2.OPS=void 0;var BG={OP_FALSE:0,OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SUBSTR:127,OP_LEFT:128,OP_RIGHT:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_NOP1:176,OP_NOP2:177,OP_CHECKLOCKTIMEVERIFY:177,OP_NOP3:178,OP_CHECKSEQUENCEVERIFY:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_CHECKSIGADD:186,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255};L2.OPS=BG;var hwe={};L2.REVERSE_OPS=hwe;for(let t of Object.keys(BG)){let e=BG[t];hwe[e]=t}});var mwe=V(Ey=>{"use strict";d();h();Object.defineProperty(Ey,"__esModule",{value:!0});Ey.decode=Ey.encode=Ey.encodingLength=void 0;var Ay=JP();function pwe(t){return t<Ay.OPS.OP_PUSHDATA1?1:t<=255?2:t<=65535?3:5}Ey.encodingLength=pwe;function Qut(t,e,r){let n=pwe(e);return n===1?t.writeUInt8(e,r):n===2?(t.writeUInt8(Ay.OPS.OP_PUSHDATA1,r),t.writeUInt8(e,r+1)):n===3?(t.writeUInt8(Ay.OPS.OP_PUSHDATA2,r),t.writeUInt16LE(e,r+1)):(t.writeUInt8(Ay.OPS.OP_PUSHDATA4,r),t.writeUInt32LE(e,r+1)),n}Ey.encode=Qut;function Jut(t,e){let r=t.readUInt8(e),n,i;if(r<Ay.OPS.OP_PUSHDATA1)n=r,i=1;else if(r===Ay.OPS.OP_PUSHDATA1){if(e+2>t.length)return null;n=t.readUInt8(e+1),i=2}else if(r===Ay.OPS.OP_PUSHDATA2){if(e+3>t.length)return null;n=t.readUInt16LE(e+1),i=3}else{if(e+5>t.length)return null;if(r!==Ay.OPS.OP_PUSHDATA4)throw new Error("Unexpected opcode");n=t.readUInt32LE(e+1),i=5}return{opcode:r,number:n,size:i}}Ey.decode=Jut});var ywe=V(F2=>{"use strict";d();h();Object.defineProperty(F2,"__esModule",{value:!0});F2.encode=F2.decode=void 0;function Xut(t,e,r){e=e||4,r=r===void 0?!0:r;let n=t.length;if(n===0)return 0;if(n>e)throw new TypeError("Script number overflow");if(r&&!(t[n-1]&127)&&(n<=1||!(t[n-2]&128)))throw new Error("Non-minimally encoded script number");if(n===5){let o=t.readUInt32LE(0),s=t.readUInt8(4);return s&128?-((s&-129)*4294967296+o):s*4294967296+o}let i=0;for(let o=0;o<n;++o)i|=t[o]<<8*o;return t[n-1]&128?-(i&~(128<<8*(n-1))):i}F2.decode=Xut;function eft(t){return t>2147483647?5:t>8388607?4:t>32767?3:t>127?2:t>0?1:0}function tft(t){let e=Math.abs(t),r=eft(e),n=Buffer.allocUnsafe(r),i=t<0;for(let o=0;o<r;++o)n.writeUInt8(e&255,o),e>>=8;return n[r-1]&128?n.writeUInt8(i?128:0,r-1):i&&(n[r-1]|=128),n}F2.encode=tft});var XP=V((M0r,gwe)=>{d();h();var z_={Array:function(t){return t!=null&&t.constructor===Array},Boolean:function(t){return typeof t=="boolean"},Function:function(t){return typeof t=="function"},Nil:function(t){return t==null},Number:function(t){return typeof t=="number"},Object:function(t){return typeof t=="object"},String:function(t){return typeof t=="string"},"":function(){return!0}};z_.Null=z_.Nil;for(RG in z_)z_[RG].toJSON=function(t){return t}.bind(null,RG);var RG;gwe.exports=z_});var NG=V((B0r,xwe)=>{d();h();var I1=XP();function bwe(t){return t.name||t.toString().match(/function (.*?)\s*\(/)[1]}function CG(t){return I1.Nil(t)?"":bwe(t.constructor)}function rft(t){return I1.Function(t)?"":I1.String(t)?JSON.stringify(t):t&&I1.Object(t)?"":t}function OG(t,e){Error.captureStackTrace&&Error.captureStackTrace(t,e)}function eB(t){return I1.Function(t)?t.toJSON?t.toJSON():bwe(t):I1.Array(t)?"Array":t&&I1.Object(t)?"Object":t!==void 0?t:""}function vwe(t,e,r){var n=rft(e);return"Expected "+eB(t)+", got"+(r!==""?" "+r:"")+(n!==""?" "+n:"")}function D0(t,e,r){r=r||CG(e),this.message=vwe(t,e,r),OG(this,D0),this.__type=t,this.__value=e,this.__valueTypeName=r}D0.prototype=Object.create(Error.prototype);D0.prototype.constructor=D0;function nft(t,e,r,n,i){var o='" of type ';return e==="key"&&(o='" with key type '),vwe('property "'+eB(r)+o+eB(t),n,i)}function V2(t,e,r,n,i){t?(i=i||CG(n),this.message=nft(t,r,e,n,i)):this.message='Unexpected property "'+e+'"',OG(this,D0),this.__label=r,this.__property=e,this.__type=t,this.__value=n,this.__valueTypeName=i}V2.prototype=Object.create(Error.prototype);V2.prototype.constructor=D0;function ift(t,e){return new D0(t,{},e)}function oft(t,e,r){return t instanceof V2?(e=e+"."+t.__property,t=new V2(t.__type,e,t.__label,t.__value,t.__valueTypeName)):t instanceof D0&&(t=new V2(t.__type,e,r,t.__value,t.__valueTypeName)),OG(t),t}xwe.exports={TfTypeError:D0,TfPropertyTypeError:V2,tfCustomError:ift,tfSubError:oft,tfJSON:eB,getValueTypeName:CG}});var Ewe=V((O0r,Awe)=>{d();h();var FG=XP(),sft=NG();function wwe(t){return Buffer.isBuffer(t)}function Swe(t){return typeof t=="string"&&/^([0-9a-f]{2})+$/i.test(t)}function tB(t,e){var r=t.toJSON();function n(i){if(!t(i))return!1;if(i.length===e)return!0;throw sft.tfCustomError(r+"(Length: "+e+")",r+"(Length: "+i.length+")")}return n.toJSON=function(){return r},n}var aft=tB.bind(null,FG.Array),cft=tB.bind(null,wwe),uft=tB.bind(null,Swe),fft=tB.bind(null,FG.String);function lft(t,e,r){r=r||FG.Number;function n(i,o){return r(i,o)&&i>t&&i<e}return n.toJSON=function(){return`${r.toJSON()} between [${t}, ${e}]`},n}var UG=Math.pow(2,53)-1;function dft(t){return typeof t=="number"&&isFinite(t)}function hft(t){return t<<24>>24===t}function pft(t){return t<<16>>16===t}function mft(t){return(t|0)===t}function yft(t){return typeof t=="number"&&t>=-UG&&t<=UG&&Math.floor(t)===t}function gft(t){return(t&255)===t}function bft(t){return(t&65535)===t}function vft(t){return t>>>0===t}function xft(t){return typeof t=="number"&&t>=0&&t<=UG&&Math.floor(t)===t}var LG={ArrayN:aft,Buffer:wwe,BufferN:cft,Finite:dft,Hex:Swe,HexN:uft,Int8:hft,Int16:pft,Int32:mft,Int53:yft,Range:lft,StringN:fft,UInt8:gft,UInt16:bft,UInt32:vft,UInt53:xft};for(DG in LG)LG[DG].toJSON=function(t){return t}.bind(null,DG);var DG;Awe.exports=LG});var VG=V((U0r,Mwe)=>{d();h();var G_=NG(),Os=XP(),U0=G_.tfJSON,Twe=G_.TfTypeError,Iwe=G_.TfPropertyTypeError,W_=G_.tfSubError,wft=G_.getValueTypeName,L0={arrayOf:function(e,r){e=Xd(e),r=r||{};function n(i,o){return!Os.Array(i)||Os.Nil(i)||r.minLength!==void 0&&i.length<r.minLength||r.maxLength!==void 0&&i.length>r.maxLength||r.length!==void 0&&i.length!==r.length?!1:i.every(function(s,c){try{return Ya(e,s,o)}catch(l){throw W_(l,c)}})}return n.toJSON=function(){var i="["+U0(e)+"]";return r.length!==void 0?i+="{"+r.length+"}":(r.minLength!==void 0||r.maxLength!==void 0)&&(i+="{"+(r.minLength===void 0?0:r.minLength)+","+(r.maxLength===void 0?1/0:r.maxLength)+"}"),i},n},maybe:function t(e){e=Xd(e);function r(n,i){return Os.Nil(n)||e(n,i,t)}return r.toJSON=function(){return"?"+U0(e)},r},map:function(e,r){e=Xd(e),r&&(r=Xd(r));function n(i,o){if(!Os.Object(i)||Os.Nil(i))return!1;for(var s in i){try{r&&Ya(r,s,o)}catch(l){throw W_(l,s,"key")}try{var c=i[s];Ya(e,c,o)}catch(l){throw W_(l,s)}}return!0}return r?n.toJSON=function(){return"{"+U0(r)+": "+U0(e)+"}"}:n.toJSON=function(){return"{"+U0(e)+"}"},n},object:function(e){var r={};for(var n in e)r[n]=Xd(e[n]);function i(o,s){if(!Os.Object(o)||Os.Nil(o))return!1;var c;try{for(c in r){var l=r[c],m=o[c];Ya(l,m,s)}}catch(w){throw W_(w,c)}if(s){for(c in o)if(!r[c])throw new Iwe(void 0,c)}return!0}return i.toJSON=function(){return U0(r)},i},anyOf:function(){var e=[].slice.call(arguments).map(Xd);function r(n,i){return e.some(function(o){try{return Ya(o,n,i)}catch{return!1}})}return r.toJSON=function(){return e.map(U0).join("|")},r},allOf:function(){var e=[].slice.call(arguments).map(Xd);function r(n,i){return e.every(function(o){try{return Ya(o,n,i)}catch{return!1}})}return r.toJSON=function(){return e.map(U0).join(" & ")},r},quacksLike:function(e){function r(n){return e===wft(n)}return r.toJSON=function(){return e},r},tuple:function(){var e=[].slice.call(arguments).map(Xd);function r(n,i){return Os.Nil(n)||Os.Nil(n.length)||i&&n.length!==e.length?!1:e.every(function(o,s){try{return Ya(o,n[s],i)}catch(c){throw W_(c,s)}})}return r.toJSON=function(){return"("+e.map(U0).join(", ")+")"},r},value:function(e){function r(n){return n===e}return r.toJSON=function(){return e},r}};L0.oneOf=L0.anyOf;function Xd(t){if(Os.String(t))return t[0]==="?"?L0.maybe(t.slice(1)):Os[t]||L0.quacksLike(t);if(t&&Os.Object(t)){if(Os.Array(t)){if(t.length!==1)throw new TypeError("Expected compile() parameter of type Array of length 1");return L0.arrayOf(t[0])}return L0.object(t)}else if(Os.Function(t))return t;return L0.value(t)}function Ya(t,e,r,n){if(Os.Function(t)){if(t(e,r))return!0;throw new Twe(n||t,e)}return Ya(Xd(t),e,r)}for(F0 in Os)Ya[F0]=Os[F0];var F0;for(F0 in L0)Ya[F0]=L0[F0];var _we=Ewe();for(F0 in _we)Ya[F0]=_we[F0];Ya.compile=Xd;Ya.TfTypeError=Twe;Ya.TfPropertyTypeError=Iwe;Mwe.exports=Ya});var Ns=V(ft=>{"use strict";d();h();Object.defineProperty(ft,"__esModule",{value:!0});ft.oneOf=ft.Null=ft.BufferN=ft.Function=ft.UInt32=ft.UInt8=ft.tuple=ft.maybe=ft.Hex=ft.Buffer=ft.String=ft.Boolean=ft.Array=ft.Number=ft.Hash256bit=ft.Hash160bit=ft.Buffer256bit=ft.isTaptree=ft.isTapleaf=ft.TAPLEAF_VERSION_MASK=ft.Network=ft.ECPoint=ft.Satoshi=ft.Signer=ft.BIP32Path=ft.UInt31=ft.isPoint=ft.typeforce=void 0;var rB=Vn();ft.typeforce=VG();var kwe=rB.Buffer.alloc(32,0),Pwe=rB.Buffer.from("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f","hex");function Sft(t){if(!rB.Buffer.isBuffer(t)||t.length<33)return!1;let e=t[0],r=t.slice(1,33);if(r.compare(kwe)===0||r.compare(Pwe)>=0)return!1;if((e===2||e===3)&&t.length===33)return!0;let n=t.slice(33);return n.compare(kwe)===0||n.compare(Pwe)>=0?!1:e===4&&t.length===65}ft.isPoint=Sft;var Aft=Math.pow(2,31)-1;function Eft(t){return ft.typeforce.UInt32(t)&&t<=Aft}ft.UInt31=Eft;function Bwe(t){return ft.typeforce.String(t)&&!!t.match(/^(m\/)?(\d+'?\/)*\d+'?$/)}ft.BIP32Path=Bwe;Bwe.toJSON=()=>"BIP32 derivation path";function _ft(t){return(ft.typeforce.Buffer(t.publicKey)||typeof t.getPublicKey=="function")&&typeof t.sign=="function"}ft.Signer=_ft;var Tft=21*1e14;function Ift(t){return ft.typeforce.UInt53(t)&&t<=Tft}ft.Satoshi=Ift;ft.ECPoint=ft.typeforce.quacksLike("Point");ft.Network=ft.typeforce.compile({messagePrefix:ft.typeforce.oneOf(ft.typeforce.Buffer,ft.typeforce.String),bip32:{public:ft.typeforce.UInt32,private:ft.typeforce.UInt32},pubKeyHash:ft.typeforce.UInt8,scriptHash:ft.typeforce.UInt8,wif:ft.typeforce.UInt8});ft.TAPLEAF_VERSION_MASK=254;function Rwe(t){return!t||!("output"in t)||!rB.Buffer.isBuffer(t.output)?!1:t.version!==void 0?(t.version&ft.TAPLEAF_VERSION_MASK)===t.version:!0}ft.isTapleaf=Rwe;function Cwe(t){return(0,ft.Array)(t)?t.length!==2?!1:t.every(e=>Cwe(e)):Rwe(t)}ft.isTaptree=Cwe;ft.Buffer256bit=ft.typeforce.BufferN(32);ft.Hash160bit=ft.typeforce.BufferN(20);ft.Hash256bit=ft.typeforce.BufferN(32);ft.Number=ft.typeforce.Number;ft.Array=ft.typeforce.Array;ft.Boolean=ft.typeforce.Boolean;ft.String=ft.typeforce.String;ft.Buffer=ft.typeforce.Buffer;ft.Hex=ft.typeforce.Hex;ft.maybe=ft.typeforce.maybe;ft.tuple=ft.typeforce.tuple;ft.UInt8=ft.typeforce.UInt8;ft.UInt32=ft.typeforce.UInt32;ft.Function=ft.typeforce.Function;ft.BufferN=ft.typeforce.BufferN;ft.Null=ft.typeforce.Null;ft.oneOf=ft.typeforce.oneOf});var Lwe=V(K2=>{"use strict";d();h();Object.defineProperty(K2,"__esModule",{value:!0});K2.encode=K2.decode=void 0;var{Buffer:q2}=Vn(),Uwe=PG(),qG=Ns(),{typeforce:Mft}=qG,Owe=q2.alloc(1,0);function Nwe(t){let e=0;for(;t[e]===0;)++e;return e===t.length?Owe:(t=t.slice(e),t[0]&128?q2.concat([Owe,t],1+t.length):t)}function Dwe(t){t[0]===0&&(t=t.slice(1));let e=q2.alloc(32,0),r=Math.max(0,32-t.length);return t.copy(e,r),e}function kft(t){let e=t.readUInt8(t.length-1),r=e&-129;if(r<=0||r>=4)throw new Error("Invalid hashType "+e);let n=Uwe.decode(t.slice(0,-1)),i=Dwe(n.r),o=Dwe(n.s);return{signature:q2.concat([i,o],64),hashType:e}}K2.decode=kft;function Pft(t,e){Mft({signature:qG.BufferN(64),hashType:qG.UInt8},{signature:t,hashType:e});let r=e&-129;if(r<=0||r>=4)throw new Error("Invalid hashType "+e);let n=q2.allocUnsafe(1);n.writeUInt8(e,0);let i=Nwe(t.slice(0,32)),o=Nwe(t.slice(32,64));return q2.concat([Uwe.encode(i,o),n])}K2.encode=Pft});var Za=V(Zn=>{"use strict";d();h();Object.defineProperty(Zn,"__esModule",{value:!0});Zn.signature=Zn.number=Zn.isCanonicalScriptSignature=Zn.isDefinedHashType=Zn.isCanonicalPubKey=Zn.toStack=Zn.fromASM=Zn.toASM=Zn.decompile=Zn.compile=Zn.countNonPushOnlyOPs=Zn.isPushOnly=Zn.OPS=void 0;var Bft=PG(),Mc=JP();Object.defineProperty(Zn,"OPS",{enumerable:!0,get:function(){return Mc.OPS}});var KG=mwe(),Fwe=ywe(),Rft=Lwe(),eh=Ns(),{typeforce:$_}=eh,Vwe=Mc.OPS.OP_RESERVED;function Cft(t){return eh.Number(t)&&(t===Mc.OPS.OP_0||t>=Mc.OPS.OP_1&&t<=Mc.OPS.OP_16||t===Mc.OPS.OP_1NEGATE)}function qwe(t){return eh.Buffer(t)||Cft(t)}function Kwe(t){return eh.Array(t)&&t.every(qwe)}Zn.isPushOnly=Kwe;function Oft(t){return t.length-t.filter(qwe).length}Zn.countNonPushOnlyOPs=Oft;function nB(t){if(t.length===0)return Mc.OPS.OP_0;if(t.length===1){if(t[0]>=1&&t[0]<=16)return Vwe+t[0];if(t[0]===129)return Mc.OPS.OP_1NEGATE}}function Hwe(t){return Buffer.isBuffer(t)}function Nft(t){return eh.Array(t)}function iB(t){return Buffer.isBuffer(t)}function jwe(t){if(Hwe(t))return t;$_(eh.Array,t);let e=t.reduce((i,o)=>iB(o)?o.length===1&&nB(o)!==void 0?i+1:i+KG.encodingLength(o.length)+o.length:i+1,0),r=Buffer.allocUnsafe(e),n=0;if(t.forEach(i=>{if(iB(i)){let o=nB(i);if(o!==void 0){r.writeUInt8(o,n),n+=1;return}n+=KG.encode(r,i.length,n),i.copy(r,n),n+=i.length}else r.writeUInt8(i,n),n+=1}),n!==r.length)throw new Error("Could not decode chunks");return r}Zn.compile=jwe;function HG(t){if(Nft(t))return t;$_(eh.Buffer,t);let e=[],r=0;for(;r<t.length;){let n=t[r];if(n>Mc.OPS.OP_0&&n<=Mc.OPS.OP_PUSHDATA4){let i=KG.decode(t,r);if(i===null||(r+=i.size,r+i.number>t.length))return null;let o=t.slice(r,r+i.number);r+=i.number;let s=nB(o);s!==void 0?e.push(s):e.push(o)}else e.push(n),r+=1}return e}Zn.decompile=HG;function Dft(t){return Hwe(t)&&(t=HG(t)),t.map(e=>{if(iB(e)){let r=nB(e);if(r===void 0)return e.toString("hex");e=r}return Mc.REVERSE_OPS[e]}).join(" ")}Zn.toASM=Dft;function Uft(t){return $_(eh.String,t),jwe(t.split(" ").map(e=>Mc.OPS[e]!==void 0?Mc.OPS[e]:($_(eh.Hex,e),Buffer.from(e,"hex"))))}Zn.fromASM=Uft;function Lft(t){return t=HG(t),$_(Kwe,t),t.map(e=>iB(e)?e:e===Mc.OPS.OP_0?Buffer.allocUnsafe(0):Fwe.encode(e-Vwe))}Zn.toStack=Lft;function Fft(t){return eh.isPoint(t)}Zn.isCanonicalPubKey=Fft;function zwe(t){let e=t&-129;return e>0&&e<4}Zn.isDefinedHashType=zwe;function Vft(t){return!Buffer.isBuffer(t)||!zwe(t[t.length-1])?!1:Bft.check(t.slice(0,-1))}Zn.isCanonicalScriptSignature=Vft;Zn.number=Fwe;Zn.signature=Rft});var V0=V(H2=>{"use strict";d();h();Object.defineProperty(H2,"__esModule",{value:!0});H2.value=H2.prop=void 0;function qft(t,e,r){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get(){let n=r.call(this);return this[e]=n,n},set(n){Object.defineProperty(this,e,{configurable:!0,enumerable:!0,value:n,writable:!0})}})}H2.prop=qft;function Kft(t){let e;return()=>(e!==void 0||(e=t()),e)}H2.value=Kft});var $we=V(sB=>{"use strict";d();h();Object.defineProperty(sB,"__esModule",{value:!0});sB.p2data=void 0;var Hft=Mf(),oB=Za(),q0=Ns(),Wwe=V0(),Gwe=oB.OPS;function jft(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}function zft(t,e){if(!t.data&&!t.output)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,q0.typeforce)({network:q0.typeforce.maybe(q0.typeforce.Object),output:q0.typeforce.maybe(q0.typeforce.Buffer),data:q0.typeforce.maybe(q0.typeforce.arrayOf(q0.typeforce.Buffer))},t);let n={name:"embed",network:t.network||Hft.bitcoin};if(Wwe.prop(n,"output",()=>{if(t.data)return oB.compile([Gwe.OP_RETURN].concat(t.data))}),Wwe.prop(n,"data",()=>{if(t.output)return oB.decompile(t.output).slice(1)}),e.validate&&t.output){let i=oB.decompile(t.output);if(i[0]!==Gwe.OP_RETURN)throw new TypeError("Output is invalid");if(!i.slice(1).every(q0.typeforce.Buffer))throw new TypeError("Output is invalid");if(t.data&&!jft(t.data,n.data))throw new TypeError("Data mismatch")}return Object.assign(n,t)}sB.p2data=zft});var Zwe=V(cB=>{"use strict";d();h();Object.defineProperty(cB,"__esModule",{value:!0});cB.p2ms=void 0;var Wft=Mf(),j2=Za(),Oo=Ns(),_y=V0(),z2=j2.OPS,aB=z2.OP_RESERVED;function Ywe(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}function Gft(t,e){if(!t.input&&!t.output&&!(t.pubkeys&&t.m!==void 0)&&!t.signatures)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{});function r(l){return j2.isCanonicalScriptSignature(l)||(e.allowIncomplete&&l===z2.OP_0)!==void 0}(0,Oo.typeforce)({network:Oo.typeforce.maybe(Oo.typeforce.Object),m:Oo.typeforce.maybe(Oo.typeforce.Number),n:Oo.typeforce.maybe(Oo.typeforce.Number),output:Oo.typeforce.maybe(Oo.typeforce.Buffer),pubkeys:Oo.typeforce.maybe(Oo.typeforce.arrayOf(Oo.isPoint)),signatures:Oo.typeforce.maybe(Oo.typeforce.arrayOf(r)),input:Oo.typeforce.maybe(Oo.typeforce.Buffer)},t);let i={network:t.network||Wft.bitcoin},o=[],s=!1;function c(l){s||(s=!0,o=j2.decompile(l),i.m=o[0]-aB,i.n=o[o.length-2]-aB,i.pubkeys=o.slice(1,-2))}if(_y.prop(i,"output",()=>{if(t.m&&i.n&&t.pubkeys)return j2.compile([].concat(aB+t.m,t.pubkeys,aB+i.n,z2.OP_CHECKMULTISIG))}),_y.prop(i,"m",()=>{if(i.output)return c(i.output),i.m}),_y.prop(i,"n",()=>{if(i.pubkeys)return i.pubkeys.length}),_y.prop(i,"pubkeys",()=>{if(t.output)return c(t.output),i.pubkeys}),_y.prop(i,"signatures",()=>{if(t.input)return j2.decompile(t.input).slice(1)}),_y.prop(i,"input",()=>{if(t.signatures)return j2.compile([z2.OP_0].concat(t.signatures))}),_y.prop(i,"witness",()=>{if(i.input)return[]}),_y.prop(i,"name",()=>{if(!(!i.m||!i.n))return`p2ms(${i.m} of ${i.n})`}),e.validate){if(t.output){if(c(t.output),!Oo.typeforce.Number(o[0]))throw new TypeError("Output is invalid");if(!Oo.typeforce.Number(o[o.length-2]))throw new TypeError("Output is invalid");if(o[o.length-1]!==z2.OP_CHECKMULTISIG)throw new TypeError("Output is invalid");if(i.m<=0||i.n>16||i.m>i.n||i.n!==o.length-3)throw new TypeError("Output is invalid");if(!i.pubkeys.every(l=>(0,Oo.isPoint)(l)))throw new TypeError("Output is invalid");if(t.m!==void 0&&t.m!==i.m)throw new TypeError("m mismatch");if(t.n!==void 0&&t.n!==i.n)throw new TypeError("n mismatch");if(t.pubkeys&&!Ywe(t.pubkeys,i.pubkeys))throw new TypeError("Pubkeys mismatch")}if(t.pubkeys){if(t.n!==void 0&&t.n!==t.pubkeys.length)throw new TypeError("Pubkey count mismatch");if(i.n=t.pubkeys.length,i.n<i.m)throw new TypeError("Pubkey count cannot be less than m")}if(t.signatures){if(t.signatures.length<i.m)throw new TypeError("Not enough signatures provided");if(t.signatures.length>i.m)throw new TypeError("Too many signatures provided")}if(t.input){if(t.input[0]!==z2.OP_0)throw new TypeError("Input is invalid");if(i.signatures.length===0||!i.signatures.every(r))throw new TypeError("Input has invalid signature(s)");if(t.signatures&&!Ywe(t.signatures,i.signatures))throw new TypeError("Signature mismatch");if(t.m!==void 0&&t.m!==t.signatures.length)throw new TypeError("Signature count mismatch")}}return Object.assign(i,t)}cB.p2ms=Gft});var Jwe=V(uB=>{"use strict";d();h();Object.defineProperty(uB,"__esModule",{value:!0});uB.p2pk=void 0;var $ft=Mf(),G2=Za(),Ol=Ns(),W2=V0(),Qwe=G2.OPS;function Yft(t,e){if(!t.input&&!t.output&&!t.pubkey&&!t.input&&!t.signature)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,Ol.typeforce)({network:Ol.typeforce.maybe(Ol.typeforce.Object),output:Ol.typeforce.maybe(Ol.typeforce.Buffer),pubkey:Ol.typeforce.maybe(Ol.isPoint),signature:Ol.typeforce.maybe(G2.isCanonicalScriptSignature),input:Ol.typeforce.maybe(Ol.typeforce.Buffer)},t);let r=W2.value(()=>G2.decompile(t.input)),i={name:"p2pk",network:t.network||$ft.bitcoin};if(W2.prop(i,"output",()=>{if(t.pubkey)return G2.compile([t.pubkey,Qwe.OP_CHECKSIG])}),W2.prop(i,"pubkey",()=>{if(t.output)return t.output.slice(1,-1)}),W2.prop(i,"signature",()=>{if(t.input)return r()[0]}),W2.prop(i,"input",()=>{if(t.signature)return G2.compile([t.signature])}),W2.prop(i,"witness",()=>{if(i.input)return[]}),e.validate){if(t.output){if(t.output[t.output.length-1]!==Qwe.OP_CHECKSIG)throw new TypeError("Output is invalid");if(!(0,Ol.isPoint)(i.pubkey))throw new TypeError("Output pubkey is invalid");if(t.pubkey&&!t.pubkey.equals(i.pubkey))throw new TypeError("Pubkey mismatch")}if(t.signature&&t.input&&!t.input.equals(i.input))throw new TypeError("Signature mismatch");if(t.input){if(r().length!==1)throw new TypeError("Input is invalid");if(!G2.isCanonicalScriptSignature(i.signature))throw new TypeError("Input has invalid signature")}}return Object.assign(i,t)}uB.p2pk=Yft});var n2e=V(Qa=>{"use strict";d();h();Object.defineProperty(Qa,"__esModule",{value:!0});Qa.output=Qa.exists=Qa.hash=Qa.bytes=Qa.bool=Qa.number=void 0;function fB(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}Qa.number=fB;function Xwe(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}Qa.bool=Xwe;function jG(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}Qa.bytes=jG;function e2e(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");fB(t.outputLen),fB(t.blockLen)}Qa.hash=e2e;function t2e(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}Qa.exists=t2e;function r2e(t,e){jG(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Qa.output=r2e;var Zft={number:fB,bool:Xwe,bytes:jG,hash:e2e,exists:t2e,output:r2e};Qa.default=Zft});var i2e=V(lB=>{"use strict";d();h();Object.defineProperty(lB,"__esModule",{value:!0});lB.crypto=void 0;lB.crypto={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0}});var Y_=V(Pr=>{"use strict";d();h();Object.defineProperty(Pr,"__esModule",{value:!0});Pr.randomBytes=Pr.wrapConstructorWithOpts=Pr.wrapConstructor=Pr.checkOpts=Pr.Hash=Pr.concatBytes=Pr.toBytes=Pr.utf8ToBytes=Pr.asyncLoop=Pr.nextTick=Pr.hexToBytes=Pr.bytesToHex=Pr.isLE=Pr.rotr=Pr.createView=Pr.u32=Pr.u8=void 0;var dB=i2e(),Qft=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength);Pr.u8=Qft;var Jft=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4));Pr.u32=Jft;var Xft=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);Pr.createView=Xft;var elt=(t,e)=>t<<32-e|t>>>e;Pr.rotr=elt;Pr.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Pr.isLE)throw new Error("Non little-endian hardware is not supported");var tlt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function rlt(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=tlt[t[r]];return e}Pr.bytesToHex=rlt;function nlt(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");e[r]=o}return e}Pr.hexToBytes=nlt;var ilt=async()=>{};Pr.nextTick=ilt;async function olt(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);let o=Date.now()-n;o>=0&&o<e||(await(0,Pr.nextTick)(),n+=o)}}Pr.asyncLoop=olt;function o2e(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}Pr.utf8ToBytes=o2e;function WG(t){if(typeof t=="string"&&(t=o2e(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}Pr.toBytes=WG;function slt(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let o=t[n];r.set(o,i),i+=o.length}return r}Pr.concatBytes=slt;var zG=class{clone(){return this._cloneInto()}};Pr.Hash=zG;var alt=t=>Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object;function clt(t,e){if(e!==void 0&&(typeof e!="object"||!alt(e)))throw new TypeError("Options should be object or undefined");return Object.assign(t,e)}Pr.checkOpts=clt;function ult(t){let e=n=>t().update(WG(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}Pr.wrapConstructor=ult;function flt(t){let e=(n,i)=>t(i).update(WG(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}Pr.wrapConstructorWithOpts=flt;function llt(t=32){if(dB.crypto.web)return dB.crypto.web.getRandomValues(new Uint8Array(t));if(dB.crypto.node)return new Uint8Array(dB.crypto.node.randomBytes(t).buffer);throw new Error("The environment doesn't have randomBytes function")}Pr.randomBytes=llt});var pB=V(hB=>{"use strict";d();h();Object.defineProperty(hB,"__esModule",{value:!0});hB.SHA2=void 0;var GG=n2e(),Z_=Y_();function dlt(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),c=Number(r&o),l=n?4:0,m=n?0:4;t.setUint32(e+l,s,n),t.setUint32(e+m,c,n)}var $G=class extends Z_.Hash{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,Z_.createView)(this.buffer)}update(e){GG.default.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=(0,Z_.toBytes)(e);let o=e.length;for(let s=0;s<o;){let c=Math.min(i-this.pos,o-s);if(c===i){let l=(0,Z_.createView)(e);for(;i<=o-s;s+=i)this.process(l,s);continue}n.set(e.subarray(s,s+c),this.pos),this.pos+=c,s+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){GG.default.exists(this),GG.default.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let b=s;b<i;b++)r[b]=0;dlt(n,i-8,BigInt(this.length*8),o),this.process(n,0);let c=(0,Z_.createView)(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let m=l/4,w=this.get();if(m>w.length)throw new Error("_sha2: outputLen bigger than state");for(let b=0;b<m;b++)c.setUint32(4*b,w[b],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:c}=this;return e.length=i,e.pos=c,e.finished=o,e.destroyed=s,i%r&&e.buffer.set(n),e}};hB.SHA2=$G});var u2e=V($2=>{"use strict";d();h();Object.defineProperty($2,"__esModule",{value:!0});$2.ripemd160=$2.RIPEMD160=void 0;var hlt=pB(),plt=Y_(),mlt=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),a2e=Uint8Array.from({length:16},(t,e)=>e),ylt=a2e.map(t=>(9*t+5)%16),YG=[a2e],ZG=[ylt];for(let t=0;t<4;t++)for(let e of[YG,ZG])e.push(e[t].map(r=>mlt[r]));var c2e=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(t=>new Uint8Array(t)),glt=YG.map((t,e)=>t.map(r=>c2e[e][r])),blt=ZG.map((t,e)=>t.map(r=>c2e[e][r])),vlt=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),xlt=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),mB=(t,e)=>t<<e|t>>>32-e;function s2e(t,e,r,n){return t===0?e^r^n:t===1?e&r|~e&n:t===2?(e|~r)^n:t===3?e&n|r&~n:e^(r|~n)}var yB=new Uint32Array(16),gB=class extends hlt.SHA2{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0:e,h1:r,h2:n,h3:i,h4:o}=this;return[e,r,n,i,o]}set(e,r,n,i,o){this.h0=e|0,this.h1=r|0,this.h2=n|0,this.h3=i|0,this.h4=o|0}process(e,r){for(let I=0;I<16;I++,r+=4)yB[I]=e.getUint32(r,!0);let n=this.h0|0,i=n,o=this.h1|0,s=o,c=this.h2|0,l=c,m=this.h3|0,w=m,b=this.h4|0,E=b;for(let I=0;I<5;I++){let M=4-I,k=vlt[I],R=xlt[I],B=YG[I],U=ZG[I],P=glt[I],F=blt[I];for(let q=0;q<16;q++){let K=mB(n+s2e(I,o,c,m)+yB[B[q]]+k,P[q])+b|0;n=b,b=m,m=mB(c,10)|0,c=o,o=K}for(let q=0;q<16;q++){let K=mB(i+s2e(M,s,l,w)+yB[U[q]]+R,F[q])+E|0;i=E,E=w,w=mB(l,10)|0,l=s,s=K}}this.set(this.h1+c+w|0,this.h2+m+E|0,this.h3+b+i|0,this.h4+n+s|0,this.h0+o+l|0)}roundClean(){yB.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}};$2.RIPEMD160=gB;$2.ripemd160=(0,plt.wrapConstructor)(()=>new gB)});var f2e=V(bB=>{"use strict";d();h();Object.defineProperty(bB,"__esModule",{value:!0});bB.sha1=void 0;var wlt=pB(),Slt=Y_(),QG=(t,e)=>t<<e|t>>>32-e>>>0,Alt=(t,e,r)=>t&e^~t&r,Elt=(t,e,r)=>t&e^t&r^e&r,Q_=new Uint32Array([1732584193,4023233417,2562383102,271733878,3285377520]),Ty=new Uint32Array(80),JG=class extends wlt.SHA2{constructor(){super(64,20,8,!1),this.A=Q_[0]|0,this.B=Q_[1]|0,this.C=Q_[2]|0,this.D=Q_[3]|0,this.E=Q_[4]|0}get(){let{A:e,B:r,C:n,D:i,E:o}=this;return[e,r,n,i,o]}set(e,r,n,i,o){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0}process(e,r){for(let l=0;l<16;l++,r+=4)Ty[l]=e.getUint32(r,!1);for(let l=16;l<80;l++)Ty[l]=QG(Ty[l-3]^Ty[l-8]^Ty[l-14]^Ty[l-16],1);let{A:n,B:i,C:o,D:s,E:c}=this;for(let l=0;l<80;l++){let m,w;l<20?(m=Alt(i,o,s),w=1518500249):l<40?(m=i^o^s,w=1859775393):l<60?(m=Elt(i,o,s),w=2400959708):(m=i^o^s,w=3395469782);let b=QG(n,5)+m+c+w+Ty[l]|0;c=s,s=o,o=QG(i,30),i=n,n=b}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,c=c+this.E|0,this.set(n,i,o,s,c)}roundClean(){Ty.fill(0)}destroy(){this.set(0,0,0,0,0),this.buffer.fill(0)}};bB.sha1=(0,Slt.wrapConstructor)(()=>new JG)});var l2e=V(Y2=>{"use strict";d();h();Object.defineProperty(Y2,"__esModule",{value:!0});Y2.sha224=Y2.sha256=void 0;var _lt=pB(),kf=Y_(),Tlt=(t,e,r)=>t&e^~t&r,Ilt=(t,e,r)=>t&e^t&r^e&r,Mlt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Iy=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),My=new Uint32Array(64),vB=class extends _lt.SHA2{constructor(){super(64,32,8,!1),this.A=Iy[0]|0,this.B=Iy[1]|0,this.C=Iy[2]|0,this.D=Iy[3]|0,this.E=Iy[4]|0,this.F=Iy[5]|0,this.G=Iy[6]|0,this.H=Iy[7]|0}get(){let{A:e,B:r,C:n,D:i,E:o,F:s,G:c,H:l}=this;return[e,r,n,i,o,s,c,l]}set(e,r,n,i,o,s,c,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=c|0,this.H=l|0}process(e,r){for(let b=0;b<16;b++,r+=4)My[b]=e.getUint32(r,!1);for(let b=16;b<64;b++){let E=My[b-15],I=My[b-2],M=(0,kf.rotr)(E,7)^(0,kf.rotr)(E,18)^E>>>3,k=(0,kf.rotr)(I,17)^(0,kf.rotr)(I,19)^I>>>10;My[b]=k+My[b-7]+M+My[b-16]|0}let{A:n,B:i,C:o,D:s,E:c,F:l,G:m,H:w}=this;for(let b=0;b<64;b++){let E=(0,kf.rotr)(c,6)^(0,kf.rotr)(c,11)^(0,kf.rotr)(c,25),I=w+E+Tlt(c,l,m)+Mlt[b]+My[b]|0,k=((0,kf.rotr)(n,2)^(0,kf.rotr)(n,13)^(0,kf.rotr)(n,22))+Ilt(n,i,o)|0;w=m,m=l,l=c,c=s+I|0,s=o,o=i,i=n,n=I+k|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,c=c+this.E|0,l=l+this.F|0,m=m+this.G|0,w=w+this.H|0,this.set(n,i,o,s,c,l,m,w)}roundClean(){My.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},XG=class extends vB{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};Y2.sha256=(0,kf.wrapConstructor)(()=>new vB);Y2.sha224=(0,kf.wrapConstructor)(()=>new XG)});var th=V(No=>{"use strict";d();h();Object.defineProperty(No,"__esModule",{value:!0});No.taggedHash=No.TAGGED_HASH_PREFIXES=No.TAGS=No.hash256=No.hash160=No.sha256=No.sha1=No.ripemd160=void 0;var{Buffer:Ja}=Vn(),d2e=u2e(),klt=f2e(),xB=l2e();function Plt(t){return Ja.from((0,d2e.ripemd160)(Uint8Array.from(t)))}No.ripemd160=Plt;function Blt(t){return Ja.from((0,klt.sha1)(Uint8Array.from(t)))}No.sha1=Blt;function h2e(t){return Ja.from((0,xB.sha256)(Uint8Array.from(t)))}No.sha256=h2e;function Rlt(t){return Ja.from((0,d2e.ripemd160)((0,xB.sha256)(Uint8Array.from(t))))}No.hash160=Rlt;function Clt(t){return Ja.from((0,xB.sha256)((0,xB.sha256)(Uint8Array.from(t))))}No.hash256=Clt;No.TAGS=["BIP0340/challenge","BIP0340/aux","BIP0340/nonce","TapLeaf","TapBranch","TapSighash","TapTweak","KeyAgg list","KeyAgg coefficient"];No.TAGGED_HASH_PREFIXES={"BIP0340/challenge":Ja.from([123,181,45,122,159,239,88,50,62,177,191,122,64,125,179,130,210,243,242,216,27,177,34,79,73,254,81,143,109,72,211,124,123,181,45,122,159,239,88,50,62,177,191,122,64,125,179,130,210,243,242,216,27,177,34,79,73,254,81,143,109,72,211,124]),"BIP0340/aux":Ja.from([241,239,78,94,192,99,202,218,109,148,202,250,157,152,126,160,105,38,88,57,236,193,31,151,45,119,165,46,216,193,204,144,241,239,78,94,192,99,202,218,109,148,202,250,157,152,126,160,105,38,88,57,236,193,31,151,45,119,165,46,216,193,204,144]),"BIP0340/nonce":Ja.from([7,73,119,52,167,155,203,53,91,155,140,125,3,79,18,28,244,52,215,62,247,45,218,25,135,0,97,251,82,191,235,47,7,73,119,52,167,155,203,53,91,155,140,125,3,79,18,28,244,52,215,62,247,45,218,25,135,0,97,251,82,191,235,47]),TapLeaf:Ja.from([174,234,143,220,66,8,152,49,5,115,75,88,8,29,30,38,56,211,95,28,181,64,8,212,211,87,202,3,190,120,233,238,174,234,143,220,66,8,152,49,5,115,75,88,8,29,30,38,56,211,95,28,181,64,8,212,211,87,202,3,190,120,233,238]),TapBranch:Ja.from([25,65,161,242,229,110,185,95,162,169,241,148,190,92,1,247,33,111,51,237,130,176,145,70,52,144,208,91,245,22,160,21,25,65,161,242,229,110,185,95,162,169,241,148,190,92,1,247,33,111,51,237,130,176,145,70,52,144,208,91,245,22,160,21]),TapSighash:Ja.from([244,10,72,223,75,42,112,200,180,146,75,242,101,70,97,237,61,149,253,102,163,19,235,135,35,117,151,198,40,228,160,49,244,10,72,223,75,42,112,200,180,146,75,242,101,70,97,237,61,149,253,102,163,19,235,135,35,117,151,198,40,228,160,49]),TapTweak:Ja.from([232,15,225,99,156,156,160,80,227,175,27,57,193,67,198,62,66,156,188,235,21,217,64,251,181,197,161,244,175,87,197,233,232,15,225,99,156,156,160,80,227,175,27,57,193,67,198,62,66,156,188,235,21,217,64,251,181,197,161,244,175,87,197,233]),"KeyAgg list":Ja.from([72,28,151,28,60,11,70,215,240,178,117,174,89,141,78,44,126,215,49,156,89,74,92,110,199,158,160,212,153,2,148,240,72,28,151,28,60,11,70,215,240,178,117,174,89,141,78,44,126,215,49,156,89,74,92,110,199,158,160,212,153,2,148,240]),"KeyAgg coefficient":Ja.from([191,201,4,3,77,28,136,232,200,14,34,229,61,36,86,109,100,130,78,214,66,114,129,192,145,0,249,77,205,82,201,129,191,201,4,3,77,28,136,232,200,14,34,229,61,36,86,109,100,130,78,214,66,114,129,192,145,0,249,77,205,82,201,129])};function Olt(t,e){return h2e(Ja.concat([No.TAGGED_HASH_PREFIXES[t],e]))}No.taggedHash=Olt});var m2e=V(wB=>{"use strict";d();h();Object.defineProperty(wB,"__esModule",{value:!0});wB.p2pkh=void 0;var e$=th(),Nlt=Mf(),Z2=Za(),Xa=Ns(),K0=V0(),p2e=D2(),ky=Z2.OPS;function Dlt(t,e){if(!t.address&&!t.hash&&!t.output&&!t.pubkey&&!t.input)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,Xa.typeforce)({network:Xa.typeforce.maybe(Xa.typeforce.Object),address:Xa.typeforce.maybe(Xa.typeforce.String),hash:Xa.typeforce.maybe(Xa.typeforce.BufferN(20)),output:Xa.typeforce.maybe(Xa.typeforce.BufferN(25)),pubkey:Xa.typeforce.maybe(Xa.isPoint),signature:Xa.typeforce.maybe(Z2.isCanonicalScriptSignature),input:Xa.typeforce.maybe(Xa.typeforce.Buffer)},t);let r=K0.value(()=>{let s=Buffer.from(p2e.decode(t.address)),c=s.readUInt8(0),l=s.slice(1);return{version:c,hash:l}}),n=K0.value(()=>Z2.decompile(t.input)),i=t.network||Nlt.bitcoin,o={name:"p2pkh",network:i};if(K0.prop(o,"address",()=>{if(!o.hash)return;let s=Buffer.allocUnsafe(21);return s.writeUInt8(i.pubKeyHash,0),o.hash.copy(s,1),p2e.encode(s)}),K0.prop(o,"hash",()=>{if(t.output)return t.output.slice(3,23);if(t.address)return r().hash;if(t.pubkey||o.pubkey)return e$.hash160(t.pubkey||o.pubkey)}),K0.prop(o,"output",()=>{if(o.hash)return Z2.compile([ky.OP_DUP,ky.OP_HASH160,o.hash,ky.OP_EQUALVERIFY,ky.OP_CHECKSIG])}),K0.prop(o,"pubkey",()=>{if(t.input)return n()[1]}),K0.prop(o,"signature",()=>{if(t.input)return n()[0]}),K0.prop(o,"input",()=>{if(t.pubkey&&t.signature)return Z2.compile([t.signature,t.pubkey])}),K0.prop(o,"witness",()=>{if(o.input)return[]}),e.validate){let s=Buffer.from([]);if(t.address){if(r().version!==i.pubKeyHash)throw new TypeError("Invalid version or Network mismatch");if(r().hash.length!==20)throw new TypeError("Invalid address");s=r().hash}if(t.hash){if(s.length>0&&!s.equals(t.hash))throw new TypeError("Hash mismatch");s=t.hash}if(t.output){if(t.output.length!==25||t.output[0]!==ky.OP_DUP||t.output[1]!==ky.OP_HASH160||t.output[2]!==20||t.output[23]!==ky.OP_EQUALVERIFY||t.output[24]!==ky.OP_CHECKSIG)throw new TypeError("Output is invalid");let c=t.output.slice(3,23);if(s.length>0&&!s.equals(c))throw new TypeError("Hash mismatch");s=c}if(t.pubkey){let c=e$.hash160(t.pubkey);if(s.length>0&&!s.equals(c))throw new TypeError("Hash mismatch");s=c}if(t.input){let c=n();if(c.length!==2)throw new TypeError("Input is invalid");if(!Z2.isCanonicalScriptSignature(c[0]))throw new TypeError("Input has invalid signature");if(!(0,Xa.isPoint)(c[1]))throw new TypeError("Input has invalid pubkey");if(t.signature&&!t.signature.equals(c[0]))throw new TypeError("Signature mismatch");if(t.pubkey&&!t.pubkey.equals(c[1]))throw new TypeError("Pubkey mismatch");let l=e$.hash160(c[1]);if(s.length>0&&!s.equals(l))throw new TypeError("Hash mismatch")}}return Object.assign(o,t)}wB.p2pkh=Dlt});var b2e=V(SB=>{"use strict";d();h();Object.defineProperty(SB,"__esModule",{value:!0});SB.p2sh=void 0;var y2e=th(),Ult=Mf(),nh=Za(),Mi=Ns(),rh=V0(),g2e=D2(),J_=nh.OPS;function Llt(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}function Flt(t,e){if(!t.address&&!t.hash&&!t.output&&!t.redeem&&!t.input)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,Mi.typeforce)({network:Mi.typeforce.maybe(Mi.typeforce.Object),address:Mi.typeforce.maybe(Mi.typeforce.String),hash:Mi.typeforce.maybe(Mi.typeforce.BufferN(20)),output:Mi.typeforce.maybe(Mi.typeforce.BufferN(23)),redeem:Mi.typeforce.maybe({network:Mi.typeforce.maybe(Mi.typeforce.Object),output:Mi.typeforce.maybe(Mi.typeforce.Buffer),input:Mi.typeforce.maybe(Mi.typeforce.Buffer),witness:Mi.typeforce.maybe(Mi.typeforce.arrayOf(Mi.typeforce.Buffer))}),input:Mi.typeforce.maybe(Mi.typeforce.Buffer),witness:Mi.typeforce.maybe(Mi.typeforce.arrayOf(Mi.typeforce.Buffer))},t);let r=t.network;r||(r=t.redeem&&t.redeem.network||Ult.bitcoin);let n={network:r},i=rh.value(()=>{let c=Buffer.from(g2e.decode(t.address)),l=c.readUInt8(0),m=c.slice(1);return{version:l,hash:m}}),o=rh.value(()=>nh.decompile(t.input)),s=rh.value(()=>{let c=o(),l=c[c.length-1];return{network:r,output:l===J_.OP_FALSE?Buffer.from([]):l,input:nh.compile(c.slice(0,-1)),witness:t.witness||[]}});if(rh.prop(n,"address",()=>{if(!n.hash)return;let c=Buffer.allocUnsafe(21);return c.writeUInt8(n.network.scriptHash,0),n.hash.copy(c,1),g2e.encode(c)}),rh.prop(n,"hash",()=>{if(t.output)return t.output.slice(2,22);if(t.address)return i().hash;if(n.redeem&&n.redeem.output)return y2e.hash160(n.redeem.output)}),rh.prop(n,"output",()=>{if(n.hash)return nh.compile([J_.OP_HASH160,n.hash,J_.OP_EQUAL])}),rh.prop(n,"redeem",()=>{if(t.input)return s()}),rh.prop(n,"input",()=>{if(!(!t.redeem||!t.redeem.input||!t.redeem.output))return nh.compile([].concat(nh.decompile(t.redeem.input),t.redeem.output))}),rh.prop(n,"witness",()=>{if(n.redeem&&n.redeem.witness)return n.redeem.witness;if(n.input)return[]}),rh.prop(n,"name",()=>{let c=["p2sh"];return n.redeem!==void 0&&n.redeem.name!==void 0&&c.push(n.redeem.name),c.join("-")}),e.validate){let c=Buffer.from([]);if(t.address){if(i().version!==r.scriptHash)throw new TypeError("Invalid version or Network mismatch");if(i().hash.length!==20)throw new TypeError("Invalid address");c=i().hash}if(t.hash){if(c.length>0&&!c.equals(t.hash))throw new TypeError("Hash mismatch");c=t.hash}if(t.output){if(t.output.length!==23||t.output[0]!==J_.OP_HASH160||t.output[1]!==20||t.output[22]!==J_.OP_EQUAL)throw new TypeError("Output is invalid");let m=t.output.slice(2,22);if(c.length>0&&!c.equals(m))throw new TypeError("Hash mismatch");c=m}let l=m=>{if(m.output){let w=nh.decompile(m.output);if(!w||w.length<1)throw new TypeError("Redeem.output too short");if(m.output.byteLength>520)throw new TypeError("Redeem.output unspendable if larger than 520 bytes");if(nh.countNonPushOnlyOPs(w)>201)throw new TypeError("Redeem.output unspendable with more than 201 non-push ops");let b=y2e.hash160(m.output);if(c.length>0&&!c.equals(b))throw new TypeError("Hash mismatch");c=b}if(m.input){let w=m.input.length>0,b=m.witness&&m.witness.length>0;if(!w&&!b)throw new TypeError("Empty input");if(w&&b)throw new TypeError("Input and witness provided");if(w){let E=nh.decompile(m.input);if(!nh.isPushOnly(E))throw new TypeError("Non push-only scriptSig")}}};if(t.input){let m=o();if(!m||m.length<1)throw new TypeError("Input too short");if(!Buffer.isBuffer(s().output))throw new TypeError("Input is invalid");l(s())}if(t.redeem){if(t.redeem.network&&t.redeem.network!==r)throw new TypeError("Network mismatch");if(t.input){let m=s();if(t.redeem.output&&!t.redeem.output.equals(m.output))throw new TypeError("Redeem.output mismatch");if(t.redeem.input&&!t.redeem.input.equals(m.input))throw new TypeError("Redeem.input mismatch")}l(t.redeem)}if(t.witness&&t.redeem&&t.redeem.witness&&!Llt(t.redeem.witness,t.witness))throw new TypeError("Witness and redeem.witness mismatch")}return Object.assign(n,t)}SB.p2sh=Flt});var x2e=V(_B=>{"use strict";d();h();Object.defineProperty(_B,"__esModule",{value:!0});_B.p2wpkh=void 0;var{Buffer:r$}=Vn(),t$=th(),Vlt=Mf(),EB=Za(),Do=Ns(),Py=V0(),AB=w1(),v2e=EB.OPS,qlt=r$.alloc(0);function Klt(t,e){if(!t.address&&!t.hash&&!t.output&&!t.pubkey&&!t.witness)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,Do.typeforce)({address:Do.typeforce.maybe(Do.typeforce.String),hash:Do.typeforce.maybe(Do.typeforce.BufferN(20)),input:Do.typeforce.maybe(Do.typeforce.BufferN(0)),network:Do.typeforce.maybe(Do.typeforce.Object),output:Do.typeforce.maybe(Do.typeforce.BufferN(22)),pubkey:Do.typeforce.maybe(Do.isPoint),signature:Do.typeforce.maybe(EB.isCanonicalScriptSignature),witness:Do.typeforce.maybe(Do.typeforce.arrayOf(Do.typeforce.Buffer))},t);let r=Py.value(()=>{let o=AB.bech32.decode(t.address),s=o.words.shift(),c=AB.bech32.fromWords(o.words);return{version:s,prefix:o.prefix,data:r$.from(c)}}),n=t.network||Vlt.bitcoin,i={name:"p2wpkh",network:n};if(Py.prop(i,"address",()=>{if(!i.hash)return;let o=AB.bech32.toWords(i.hash);return o.unshift(0),AB.bech32.encode(n.bech32,o)}),Py.prop(i,"hash",()=>{if(t.output)return t.output.slice(2,22);if(t.address)return r().data;if(t.pubkey||i.pubkey)return t$.hash160(t.pubkey||i.pubkey)}),Py.prop(i,"output",()=>{if(i.hash)return EB.compile([v2e.OP_0,i.hash])}),Py.prop(i,"pubkey",()=>{if(t.pubkey)return t.pubkey;if(t.witness)return t.witness[1]}),Py.prop(i,"signature",()=>{if(t.witness)return t.witness[0]}),Py.prop(i,"input",()=>{if(i.witness)return qlt}),Py.prop(i,"witness",()=>{if(t.pubkey&&t.signature)return[t.signature,t.pubkey]}),e.validate){let o=r$.from([]);if(t.address){if(n&&n.bech32!==r().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(r().version!==0)throw new TypeError("Invalid address version");if(r().data.length!==20)throw new TypeError("Invalid address data");o=r().data}if(t.hash){if(o.length>0&&!o.equals(t.hash))throw new TypeError("Hash mismatch");o=t.hash}if(t.output){if(t.output.length!==22||t.output[0]!==v2e.OP_0||t.output[1]!==20)throw new TypeError("Output is invalid");if(o.length>0&&!o.equals(t.output.slice(2)))throw new TypeError("Hash mismatch");o=t.output.slice(2)}if(t.pubkey){let s=t$.hash160(t.pubkey);if(o.length>0&&!o.equals(s))throw new TypeError("Hash mismatch");if(o=s,!(0,Do.isPoint)(t.pubkey)||t.pubkey.length!==33)throw new TypeError("Invalid pubkey for p2wpkh")}if(t.witness){if(t.witness.length!==2)throw new TypeError("Witness is invalid");if(!EB.isCanonicalScriptSignature(t.witness[0]))throw new TypeError("Witness has invalid signature");if(!(0,Do.isPoint)(t.witness[1])||t.witness[1].length!==33)throw new TypeError("Witness has invalid pubkey");if(t.signature&&!t.signature.equals(t.witness[0]))throw new TypeError("Signature mismatch");if(t.pubkey&&!t.pubkey.equals(t.witness[1]))throw new TypeError("Pubkey mismatch");let s=t$.hash160(t.witness[1]);if(o.length>0&&!o.equals(s))throw new TypeError("Hash mismatch")}}return Object.assign(i,t)}_B.p2wpkh=Klt});var A2e=V(kB=>{"use strict";d();h();Object.defineProperty(kB,"__esModule",{value:!0});kB.p2wsh=void 0;var{Buffer:MB}=Vn(),w2e=th(),Hlt=Mf(),j0=Za(),bi=Ns(),H0=V0(),TB=w1(),S2e=j0.OPS,n$=MB.alloc(0);function jlt(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}function IB(t){return!!(MB.isBuffer(t)&&t.length===65&&t[0]===4&&(0,bi.isPoint)(t))}function zlt(t,e){if(!t.address&&!t.hash&&!t.output&&!t.redeem&&!t.witness)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,bi.typeforce)({network:bi.typeforce.maybe(bi.typeforce.Object),address:bi.typeforce.maybe(bi.typeforce.String),hash:bi.typeforce.maybe(bi.typeforce.BufferN(32)),output:bi.typeforce.maybe(bi.typeforce.BufferN(34)),redeem:bi.typeforce.maybe({input:bi.typeforce.maybe(bi.typeforce.Buffer),network:bi.typeforce.maybe(bi.typeforce.Object),output:bi.typeforce.maybe(bi.typeforce.Buffer),witness:bi.typeforce.maybe(bi.typeforce.arrayOf(bi.typeforce.Buffer))}),input:bi.typeforce.maybe(bi.typeforce.BufferN(0)),witness:bi.typeforce.maybe(bi.typeforce.arrayOf(bi.typeforce.Buffer))},t);let r=H0.value(()=>{let s=TB.bech32.decode(t.address),c=s.words.shift(),l=TB.bech32.fromWords(s.words);return{version:c,prefix:s.prefix,data:MB.from(l)}}),n=H0.value(()=>j0.decompile(t.redeem.input)),i=t.network;i||(i=t.redeem&&t.redeem.network||Hlt.bitcoin);let o={network:i};if(H0.prop(o,"address",()=>{if(!o.hash)return;let s=TB.bech32.toWords(o.hash);return s.unshift(0),TB.bech32.encode(i.bech32,s)}),H0.prop(o,"hash",()=>{if(t.output)return t.output.slice(2);if(t.address)return r().data;if(o.redeem&&o.redeem.output)return w2e.sha256(o.redeem.output)}),H0.prop(o,"output",()=>{if(o.hash)return j0.compile([S2e.OP_0,o.hash])}),H0.prop(o,"redeem",()=>{if(t.witness)return{output:t.witness[t.witness.length-1],input:n$,witness:t.witness.slice(0,-1)}}),H0.prop(o,"input",()=>{if(o.witness)return n$}),H0.prop(o,"witness",()=>{if(t.redeem&&t.redeem.input&&t.redeem.input.length>0&&t.redeem.output&&t.redeem.output.length>0){let s=j0.toStack(n());return o.redeem=Object.assign({witness:s},t.redeem),o.redeem.input=n$,[].concat(s,t.redeem.output)}if(t.redeem&&t.redeem.output&&t.redeem.witness)return[].concat(t.redeem.witness,t.redeem.output)}),H0.prop(o,"name",()=>{let s=["p2wsh"];return o.redeem!==void 0&&o.redeem.name!==void 0&&s.push(o.redeem.name),s.join("-")}),e.validate){let s=MB.from([]);if(t.address){if(r().prefix!==i.bech32)throw new TypeError("Invalid prefix or Network mismatch");if(r().version!==0)throw new TypeError("Invalid address version");if(r().data.length!==32)throw new TypeError("Invalid address data");s=r().data}if(t.hash){if(s.length>0&&!s.equals(t.hash))throw new TypeError("Hash mismatch");s=t.hash}if(t.output){if(t.output.length!==34||t.output[0]!==S2e.OP_0||t.output[1]!==32)throw new TypeError("Output is invalid");let c=t.output.slice(2);if(s.length>0&&!s.equals(c))throw new TypeError("Hash mismatch");s=c}if(t.redeem){if(t.redeem.network&&t.redeem.network!==i)throw new TypeError("Network mismatch");if(t.redeem.input&&t.redeem.input.length>0&&t.redeem.witness&&t.redeem.witness.length>0)throw new TypeError("Ambiguous witness source");if(t.redeem.output){let c=j0.decompile(t.redeem.output);if(!c||c.length<1)throw new TypeError("Redeem.output is invalid");if(t.redeem.output.byteLength>3600)throw new TypeError("Redeem.output unspendable if larger than 3600 bytes");if(j0.countNonPushOnlyOPs(c)>201)throw new TypeError("Redeem.output unspendable with more than 201 non-push ops");let l=w2e.sha256(t.redeem.output);if(s.length>0&&!s.equals(l))throw new TypeError("Hash mismatch");s=l}if(t.redeem.input&&!j0.isPushOnly(n()))throw new TypeError("Non push-only scriptSig");if(t.witness&&t.redeem.witness&&!jlt(t.witness,t.redeem.witness))throw new TypeError("Witness and redeem.witness mismatch");if(t.redeem.input&&n().some(IB)||t.redeem.output&&(j0.decompile(t.redeem.output)||[]).some(IB))throw new TypeError("redeem.input or redeem.output contains uncompressed pubkey")}if(t.witness&&t.witness.length>0){let c=t.witness[t.witness.length-1];if(t.redeem&&t.redeem.output&&!t.redeem.output.equals(c))throw new TypeError("Witness and redeem.output mismatch");if(t.witness.some(IB)||(j0.decompile(c)||[]).some(IB))throw new TypeError("Witness contains uncompressed pubkey")}}return Object.assign(o,t)}kB.p2wsh=zlt});var PB=V(Q2=>{"use strict";d();h();Object.defineProperty(Q2,"__esModule",{value:!0});Q2.getEccLib=Q2.initEccLib=void 0;var X_={};function Wlt(t){t?t!==X_.eccLib&&($lt(t),X_.eccLib=t):X_.eccLib=t}Q2.initEccLib=Wlt;function Glt(){if(!X_.eccLib)throw new Error("No ECC Library provided. You must call initEccLib() with a valid TinySecp256k1Interface instance");return X_.eccLib}Q2.getEccLib=Glt;var z0=t=>Buffer.from(t,"hex");function $lt(t){Pf(typeof t.isXOnlyPoint=="function"),Pf(t.isXOnlyPoint(z0("79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),Pf(t.isXOnlyPoint(z0("fffffffffffffffffffffffffffffffffffffffffffffffffffffffeeffffc2e"))),Pf(t.isXOnlyPoint(z0("f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9"))),Pf(t.isXOnlyPoint(z0("0000000000000000000000000000000000000000000000000000000000000001"))),Pf(!t.isXOnlyPoint(z0("0000000000000000000000000000000000000000000000000000000000000000"))),Pf(!t.isXOnlyPoint(z0("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"))),Pf(typeof t.xOnlyPointAddTweak=="function"),Ylt.forEach(e=>{let r=t.xOnlyPointAddTweak(z0(e.pubkey),z0(e.tweak));e.result===null?Pf(r===null):(Pf(r!==null),Pf(r.parity===e.parity),Pf(Buffer.from(r.xOnlyPubkey).equals(z0(e.result))))})}function Pf(t){if(!t)throw new Error("ecc library invalid")}var Ylt=[{pubkey:"79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798",tweak:"fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140",parity:-1,result:null},{pubkey:"1617d38ed8d8657da4d4761e8057bc396ea9e4b9d29776d4be096016dbd2509b",tweak:"a8397a935f0dfceba6ba9618f6451ef4d80637abf4e6af2669fbc9de6a8fd2ac",parity:1,result:"e478f99dab91052ab39a33ea35fd5e6e4933f4d28023cd597c9a1f6760346adf"},{pubkey:"2c0b7cf95324a07d05398b240174dc0c2be444d96b159aa6c7f7b1e668680991",tweak:"823c3cd2142744b075a87eade7e1b8678ba308d566226a0056ca2b7a76f86b47",parity:0,result:"9534f8dc8c6deda2dc007655981c78b49c5d96c778fbf363462a11ec9dfd948c"}]});var s$=V((Wpr,_2e)=>{"use strict";d();h();var i$=cr().Buffer,Zlt=9007199254740991;function o$(t){if(t<0||t>Zlt||t%1!==0)throw new RangeError("value out of range")}function e4(t,e,r){if(o$(t),e||(e=i$.allocUnsafe(E2e(t))),!i$.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");return r||(r=0),t<253?(e.writeUInt8(t,r),e4.bytes=1):t<=65535?(e.writeUInt8(253,r),e.writeUInt16LE(t,r+1),e4.bytes=3):t<=4294967295?(e.writeUInt8(254,r),e.writeUInt32LE(t,r+1),e4.bytes=5):(e.writeUInt8(255,r),e.writeUInt32LE(t>>>0,r+1),e.writeUInt32LE(t/4294967296|0,r+5),e4.bytes=9),e}function t4(t,e){if(!i$.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");e||(e=0);var r=t.readUInt8(e);if(r<253)return t4.bytes=1,r;if(r===253)return t4.bytes=3,t.readUInt16LE(e+1);if(r===254)return t4.bytes=5,t.readUInt32LE(e+1);t4.bytes=9;var n=t.readUInt32LE(e+1),i=t.readUInt32LE(e+5),o=i*4294967296+n;return o$(o),o}function E2e(t){return o$(t),t<253?1:t<=65535?3:t<=4294967295?5:9}_2e.exports={encode:e4,decode:t4,encodingLength:E2e}});var n4=V(xa=>{"use strict";d();h();Object.defineProperty(xa,"__esModule",{value:!0});xa.BufferReader=xa.BufferWriter=xa.cloneBuffer=xa.reverseBuffer=xa.writeUInt64LE=xa.readUInt64LE=xa.varuint=void 0;var M1=Ns(),{typeforce:T2e}=M1,r4=s$();xa.varuint=r4;function I2e(t,e){if(typeof t!="number")throw new Error("cannot write a non-number as a number");if(t<0)throw new Error("specified a negative value for writing an unsigned value");if(t>e)throw new Error("RangeError: value out of range");if(Math.floor(t)!==t)throw new Error("value has a fractional component")}function M2e(t,e){let r=t.readUInt32LE(e),n=t.readUInt32LE(e+4);return n*=4294967296,I2e(n+r,9007199254740991),n+r}xa.readUInt64LE=M2e;function k2e(t,e,r){return I2e(e,9007199254740991),t.writeInt32LE(e&-1,r),t.writeUInt32LE(Math.floor(e/4294967296),r+4),r+8}xa.writeUInt64LE=k2e;function Qlt(t){if(t.length<1)return t;let e=t.length-1,r=0;for(let n=0;n<t.length/2;n++)r=t[n],t[n]=t[e],t[e]=r,e--;return t}xa.reverseBuffer=Qlt;function Jlt(t){let e=Buffer.allocUnsafe(t.length);return t.copy(e),e}xa.cloneBuffer=Jlt;var a$=class t{static withCapacity(e){return new t(Buffer.alloc(e))}constructor(e,r=0){this.buffer=e,this.offset=r,T2e(M1.tuple(M1.Buffer,M1.UInt32),[e,r])}writeUInt8(e){this.offset=this.buffer.writeUInt8(e,this.offset)}writeInt32(e){this.offset=this.buffer.writeInt32LE(e,this.offset)}writeUInt32(e){this.offset=this.buffer.writeUInt32LE(e,this.offset)}writeUInt64(e){this.offset=k2e(this.buffer,e,this.offset)}writeVarInt(e){r4.encode(e,this.buffer,this.offset),this.offset+=r4.encode.bytes}writeSlice(e){if(this.buffer.length<this.offset+e.length)throw new Error("Cannot write slice out of bounds");this.offset+=e.copy(this.buffer,this.offset)}writeVarSlice(e){this.writeVarInt(e.length),this.writeSlice(e)}writeVector(e){this.writeVarInt(e.length),e.forEach(r=>this.writeVarSlice(r))}end(){if(this.buffer.length===this.offset)return this.buffer;throw new Error(`buffer size ${this.buffer.length}, offset ${this.offset}`)}};xa.BufferWriter=a$;var c$=class{constructor(e,r=0){this.buffer=e,this.offset=r,T2e(M1.tuple(M1.Buffer,M1.UInt32),[e,r])}readUInt8(){let e=this.buffer.readUInt8(this.offset);return this.offset++,e}readInt32(){let e=this.buffer.readInt32LE(this.offset);return this.offset+=4,e}readUInt32(){let e=this.buffer.readUInt32LE(this.offset);return this.offset+=4,e}readUInt64(){let e=M2e(this.buffer,this.offset);return this.offset+=8,e}readVarInt(){let e=r4.decode(this.buffer,this.offset);return this.offset+=r4.decode.bytes,e}readSlice(e){if(this.buffer.length<this.offset+e)throw new Error("Cannot read slice out of bounds");let r=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,r}readVarSlice(){return this.readSlice(this.readVarInt())}readVector(){let e=this.readVarInt(),r=[];for(let n=0;n<e;n++)r.push(this.readVarSlice());return r}};xa.BufferReader=c$});var BB=V(Uo=>{"use strict";d();h();Object.defineProperty(Uo,"__esModule",{value:!0});Uo.tweakKey=Uo.tapTweakHash=Uo.tapleafHash=Uo.findScriptPath=Uo.toHashTree=Uo.rootHashFromPath=Uo.MAX_TAPTREE_DEPTH=Uo.LEAF_VERSION_TAPSCRIPT=void 0;var By=Vn(),Xlt=PB(),d$=th(),P2e=n4(),edt=Ns();Uo.LEAF_VERSION_TAPSCRIPT=192;Uo.MAX_TAPTREE_DEPTH=128;var tdt=t=>"left"in t&&"right"in t;function rdt(t,e){if(t.length<33)throw new TypeError(`The control-block length is too small. Got ${t.length}, expected min 33.`);let r=(t.length-33)/32,n=e;for(let i=0;i<r;i++){let o=t.slice(33+32*i,65+32*i);n.compare(o)<0?n=l$(n,o):n=l$(o,n)}return n}Uo.rootHashFromPath=rdt;function u$(t){if((0,edt.isTapleaf)(t))return{hash:B2e(t)};let e=[u$(t[0]),u$(t[1])];e.sort((i,o)=>i.hash.compare(o.hash));let[r,n]=e;return{hash:l$(r.hash,n.hash),left:r,right:n}}Uo.toHashTree=u$;function f$(t,e){if(tdt(t)){let r=f$(t.left,e);if(r!==void 0)return[...r,t.right.hash];let n=f$(t.right,e);if(n!==void 0)return[...n,t.left.hash]}else if(t.hash.equals(e))return[]}Uo.findScriptPath=f$;function B2e(t){let e=t.version||Uo.LEAF_VERSION_TAPSCRIPT;return d$.taggedHash("TapLeaf",By.Buffer.concat([By.Buffer.from([e]),idt(t.output)]))}Uo.tapleafHash=B2e;function R2e(t,e){return d$.taggedHash("TapTweak",By.Buffer.concat(e?[t,e]:[t]))}Uo.tapTweakHash=R2e;function ndt(t,e){if(!By.Buffer.isBuffer(t)||t.length!==32||e&&e.length!==32)return null;let r=R2e(t,e),n=(0,Xlt.getEccLib)().xOnlyPointAddTweak(t,r);return!n||n.xOnlyPubkey===null?null:{parity:n.parity,x:By.Buffer.from(n.xOnlyPubkey)}}Uo.tweakKey=ndt;function l$(t,e){return d$.taggedHash("TapBranch",By.Buffer.concat([t,e]))}function idt(t){let e=P2e.varuint.encodingLength(t.length),r=By.Buffer.allocUnsafe(e);return P2e.varuint.encode(t.length,r),By.Buffer.concat([r,t])}});var D2e=V(OB=>{"use strict";d();h();Object.defineProperty(OB,"__esModule",{value:!0});OB.p2tr=void 0;var RB=Vn(),odt=Mf(),h$=Za(),Ur=Ns(),C2e=PB(),kc=BB(),Bf=V0(),CB=w1(),O2e=h$.OPS,N2e=1,sdt=80;function adt(t,e){if(!t.address&&!t.output&&!t.pubkey&&!t.internalPubkey&&!(t.witness&&t.witness.length>1))throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,Ur.typeforce)({address:Ur.typeforce.maybe(Ur.typeforce.String),input:Ur.typeforce.maybe(Ur.typeforce.BufferN(0)),network:Ur.typeforce.maybe(Ur.typeforce.Object),output:Ur.typeforce.maybe(Ur.typeforce.BufferN(34)),internalPubkey:Ur.typeforce.maybe(Ur.typeforce.BufferN(32)),hash:Ur.typeforce.maybe(Ur.typeforce.BufferN(32)),pubkey:Ur.typeforce.maybe(Ur.typeforce.BufferN(32)),signature:Ur.typeforce.maybe(Ur.typeforce.anyOf(Ur.typeforce.BufferN(64),Ur.typeforce.BufferN(65))),witness:Ur.typeforce.maybe(Ur.typeforce.arrayOf(Ur.typeforce.Buffer)),scriptTree:Ur.typeforce.maybe(Ur.isTaptree),redeem:Ur.typeforce.maybe({output:Ur.typeforce.maybe(Ur.typeforce.Buffer),redeemVersion:Ur.typeforce.maybe(Ur.typeforce.Number),witness:Ur.typeforce.maybe(Ur.typeforce.arrayOf(Ur.typeforce.Buffer))}),redeemVersion:Ur.typeforce.maybe(Ur.typeforce.Number)},t);let r=Bf.value(()=>{let c=CB.bech32m.decode(t.address),l=c.words.shift(),m=CB.bech32m.fromWords(c.words);return{version:l,prefix:c.prefix,data:RB.Buffer.from(m)}}),n=Bf.value(()=>{if(!(!t.witness||!t.witness.length))return t.witness.length>=2&&t.witness[t.witness.length-1][0]===sdt?t.witness.slice(0,-1):t.witness.slice()}),i=Bf.value(()=>{if(t.scriptTree)return(0,kc.toHashTree)(t.scriptTree);if(t.hash)return{hash:t.hash}}),o=t.network||odt.bitcoin,s={name:"p2tr",network:o};if(Bf.prop(s,"address",()=>{if(!s.pubkey)return;let c=CB.bech32m.toWords(s.pubkey);return c.unshift(N2e),CB.bech32m.encode(o.bech32,c)}),Bf.prop(s,"hash",()=>{let c=i();if(c)return c.hash;let l=n();if(l&&l.length>1){let m=l[l.length-1],w=m[0]&Ur.TAPLEAF_VERSION_MASK,b=l[l.length-2],E=(0,kc.tapleafHash)({output:b,version:w});return(0,kc.rootHashFromPath)(m,E)}return null}),Bf.prop(s,"output",()=>{if(s.pubkey)return h$.compile([O2e.OP_1,s.pubkey])}),Bf.prop(s,"redeemVersion",()=>t.redeemVersion?t.redeemVersion:t.redeem&&t.redeem.redeemVersion!==void 0&&t.redeem.redeemVersion!==null?t.redeem.redeemVersion:kc.LEAF_VERSION_TAPSCRIPT),Bf.prop(s,"redeem",()=>{let c=n();if(!(!c||c.length<2))return{output:c[c.length-2],witness:c.slice(0,-2),redeemVersion:c[c.length-1][0]&Ur.TAPLEAF_VERSION_MASK}}),Bf.prop(s,"pubkey",()=>{if(t.pubkey)return t.pubkey;if(t.output)return t.output.slice(2);if(t.address)return r().data;if(s.internalPubkey){let c=(0,kc.tweakKey)(s.internalPubkey,s.hash);if(c)return c.x}}),Bf.prop(s,"internalPubkey",()=>{if(t.internalPubkey)return t.internalPubkey;let c=n();if(c&&c.length>1)return c[c.length-1].slice(1,33)}),Bf.prop(s,"signature",()=>{if(t.signature)return t.signature;let c=n();if(!(!c||c.length!==1))return c[0]}),Bf.prop(s,"witness",()=>{if(t.witness)return t.witness;let c=i();if(c&&t.redeem&&t.redeem.output&&t.internalPubkey){let l=(0,kc.tapleafHash)({output:t.redeem.output,version:s.redeemVersion}),m=(0,kc.findScriptPath)(c,l);if(!m)return;let w=(0,kc.tweakKey)(t.internalPubkey,c.hash);if(!w)return;let b=RB.Buffer.concat([RB.Buffer.from([s.redeemVersion|w.parity]),t.internalPubkey].concat(m));return[t.redeem.output,b]}if(t.signature)return[t.signature]}),e.validate){let c=RB.Buffer.from([]);if(t.address){if(o&&o.bech32!==r().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(r().version!==N2e)throw new TypeError("Invalid address version");if(r().data.length!==32)throw new TypeError("Invalid address data");c=r().data}if(t.pubkey){if(c.length>0&&!c.equals(t.pubkey))throw new TypeError("Pubkey mismatch");c=t.pubkey}if(t.output){if(t.output.length!==34||t.output[0]!==O2e.OP_1||t.output[1]!==32)throw new TypeError("Output is invalid");if(c.length>0&&!c.equals(t.output.slice(2)))throw new TypeError("Pubkey mismatch");c=t.output.slice(2)}if(t.internalPubkey){let w=(0,kc.tweakKey)(t.internalPubkey,s.hash);if(c.length>0&&!c.equals(w.x))throw new TypeError("Pubkey mismatch");c=w.x}if(c&&c.length&&!(0,C2e.getEccLib)().isXOnlyPoint(c))throw new TypeError("Invalid pubkey for p2tr");let l=i();if(t.hash&&l&&!t.hash.equals(l.hash))throw new TypeError("Hash mismatch");if(t.redeem&&t.redeem.output&&l){let w=(0,kc.tapleafHash)({output:t.redeem.output,version:s.redeemVersion});if(!(0,kc.findScriptPath)(l,w))throw new TypeError("Redeem script not in tree")}let m=n();if(t.redeem&&s.redeem){if(t.redeem.redeemVersion&&t.redeem.redeemVersion!==s.redeem.redeemVersion)throw new TypeError("Redeem.redeemVersion and witness mismatch");if(t.redeem.output){if(h$.decompile(t.redeem.output).length===0)throw new TypeError("Redeem.output is invalid");if(s.redeem.output&&!t.redeem.output.equals(s.redeem.output))throw new TypeError("Redeem.output and witness mismatch")}if(t.redeem.witness&&s.redeem.witness&&!cdt(t.redeem.witness,s.redeem.witness))throw new TypeError("Redeem.witness and witness mismatch")}if(m&&m.length)if(m.length===1){if(t.signature&&!t.signature.equals(m[0]))throw new TypeError("Signature mismatch")}else{let w=m[m.length-1];if(w.length<33)throw new TypeError(`The control-block length is too small. Got ${w.length}, expected min 33.`);if((w.length-33)%32!==0)throw new TypeError(`The control-block length of ${w.length} is incorrect!`);let b=(w.length-33)/32;if(b>128)throw new TypeError(`The script path is too long. Got ${b}, expected max 128.`);let E=w.slice(1,33);if(t.internalPubkey&&!t.internalPubkey.equals(E))throw new TypeError("Internal pubkey mismatch");if(!(0,C2e.getEccLib)().isXOnlyPoint(E))throw new TypeError("Invalid internalPubkey for p2tr witness");let I=w[0]&Ur.TAPLEAF_VERSION_MASK,M=m[m.length-2],k=(0,kc.tapleafHash)({output:M,version:I}),R=(0,kc.rootHashFromPath)(w,k),B=(0,kc.tweakKey)(E,R);if(!B)throw new TypeError("Invalid outputKey for p2tr witness");if(c.length&&!c.equals(B.x))throw new TypeError("Pubkey mismatch for p2tr witness");if(B.parity!==(w[0]&1))throw new Error("Incorrect parity")}}return Object.assign(s,t)}OB.p2tr=adt;function cdt(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}});var J2=V(hs=>{"use strict";d();h();Object.defineProperty(hs,"__esModule",{value:!0});hs.p2tr=hs.p2wsh=hs.p2wpkh=hs.p2sh=hs.p2pkh=hs.p2pk=hs.p2ms=hs.embed=void 0;var udt=$we();Object.defineProperty(hs,"embed",{enumerable:!0,get:function(){return udt.p2data}});var fdt=Zwe();Object.defineProperty(hs,"p2ms",{enumerable:!0,get:function(){return fdt.p2ms}});var ldt=Jwe();Object.defineProperty(hs,"p2pk",{enumerable:!0,get:function(){return ldt.p2pk}});var ddt=m2e();Object.defineProperty(hs,"p2pkh",{enumerable:!0,get:function(){return ddt.p2pkh}});var hdt=b2e();Object.defineProperty(hs,"p2sh",{enumerable:!0,get:function(){return hdt.p2sh}});var pdt=x2e();Object.defineProperty(hs,"p2wpkh",{enumerable:!0,get:function(){return pdt.p2wpkh}});var mdt=A2e();Object.defineProperty(hs,"p2wsh",{enumerable:!0,get:function(){return mdt.p2wsh}});var ydt=D2e();Object.defineProperty(hs,"p2tr",{enumerable:!0,get:function(){return ydt.p2tr}})});var p$=V(Pc=>{"use strict";d();h();Object.defineProperty(Pc,"__esModule",{value:!0});Pc.toOutputScript=Pc.fromOutputScript=Pc.toBech32=Pc.toBase58Check=Pc.fromBech32=Pc.fromBase58Check=void 0;var U2e=Mf(),ih=J2(),L2e=Za(),NB=Ns(),X2=w1(),F2e=D2(),V2e=40,q2e=2,K2e=16,H2e=2,j2e=80,z2e="WARNING: Sending to a future segwit version address can lead to loss of funds. End users MUST be warned carefully in the GUI and asked if they wish to proceed with caution. Wallets should verify the segwit version from the output of fromBech32, then decide when it is safe to use which version of segwit.";function gdt(t,e){let r=t.slice(2);if(r.length<q2e||r.length>V2e)throw new TypeError("Invalid program length for segwit address");let n=t[0]-j2e;if(n<H2e||n>K2e)throw new TypeError("Invalid version for segwit address");if(t[1]!==r.length)throw new TypeError("Invalid script for segwit address");return console.warn(z2e),$2e(r,n,e.bech32)}function W2e(t){let e=Buffer.from(F2e.decode(t));if(e.length<21)throw new TypeError(t+" is too short");if(e.length>21)throw new TypeError(t+" is too long");let r=e.readUInt8(0),n=e.slice(1);return{version:r,hash:n}}Pc.fromBase58Check=W2e;function G2e(t){let e,r;try{e=X2.bech32.decode(t)}catch{}if(e){if(r=e.words[0],r!==0)throw new TypeError(t+" uses wrong encoding")}else if(e=X2.bech32m.decode(t),r=e.words[0],r===0)throw new TypeError(t+" uses wrong encoding");let n=X2.bech32.fromWords(e.words.slice(1));return{version:r,prefix:e.prefix,data:Buffer.from(n)}}Pc.fromBech32=G2e;function bdt(t,e){(0,NB.typeforce)((0,NB.tuple)(NB.Hash160bit,NB.UInt8),arguments);let r=Buffer.allocUnsafe(21);return r.writeUInt8(e,0),t.copy(r,1),F2e.encode(r)}Pc.toBase58Check=bdt;function $2e(t,e,r){let n=X2.bech32.toWords(t);return n.unshift(e),e===0?X2.bech32.encode(r,n):X2.bech32m.encode(r,n)}Pc.toBech32=$2e;function vdt(t,e){e=e||U2e.bitcoin;try{return ih.p2pkh({output:t,network:e}).address}catch{}try{return ih.p2sh({output:t,network:e}).address}catch{}try{return ih.p2wpkh({output:t,network:e}).address}catch{}try{return ih.p2wsh({output:t,network:e}).address}catch{}try{return ih.p2tr({output:t,network:e}).address}catch{}try{return gdt(t,e)}catch{}throw new Error(L2e.toASM(t)+" has no matching Address")}Pc.fromOutputScript=vdt;function xdt(t,e){e=e||U2e.bitcoin;let r,n;try{r=W2e(t)}catch{}if(r){if(r.version===e.pubKeyHash)return ih.p2pkh({hash:r.hash}).output;if(r.version===e.scriptHash)return ih.p2sh({hash:r.hash}).output}else{try{n=G2e(t)}catch{}if(n){if(n.prefix!==e.bech32)throw new Error(t+" has an invalid prefix");if(n.version===0){if(n.data.length===20)return ih.p2wpkh({hash:n.data}).output;if(n.data.length===32)return ih.p2wsh({hash:n.data}).output}else if(n.version===1){if(n.data.length===32)return ih.p2tr({pubkey:n.data}).output}else if(n.version>=H2e&&n.version<=K2e&&n.data.length>=q2e&&n.data.length<=V2e)return console.warn(z2e),L2e.compile([n.version+j2e,n.data])}}throw new Error(t+" has no matching Script")}Pc.toOutputScript=xdt});var Y2e=V(DB=>{"use strict";d();h();Object.defineProperty(DB,"__esModule",{value:!0});DB.fastMerkleRoot=void 0;function wdt(t,e){if(!Array.isArray(t))throw TypeError("Expected values Array");if(typeof e!="function")throw TypeError("Expected digest Function");let r=t.length,n=t.concat();for(;r>1;){let i=0;for(let o=0;o<r;o+=2,++i){let s=n[o],c=o+1===r?s:n[o+1],l=Buffer.concat([s,c]);n[i]=e(l)}r=i}return n[0]}DB.fastMerkleRoot=wdt});var eS=V(UB=>{"use strict";d();h();Object.defineProperty(UB,"__esModule",{value:!0});UB.Transaction=void 0;var{Buffer:wa}=Vn(),So=n4(),ec=th(),Z2e=Za(),Sdt=Za(),yn=Ns(),{typeforce:oh}=yn;function sh(t){let e=t.length;return So.varuint.encodingLength(e)+e}function Adt(t){let e=t.length;return So.varuint.encodingLength(e)+t.reduce((r,n)=>r+sh(n),0)}var Ry=wa.allocUnsafe(0),Q2e=[],m$=wa.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),J2e=wa.from("0000000000000000000000000000000000000000000000000000000000000001","hex"),Edt=wa.from("ffffffffffffffff","hex"),_dt={script:Ry,valueBuffer:Edt};function Tdt(t){return t.value!==void 0}var gu=class t{constructor(){this.version=1,this.locktime=0,this.ins=[],this.outs=[]}static fromBuffer(e,r){let n=new So.BufferReader(e),i=new t;i.version=n.readInt32();let o=n.readUInt8(),s=n.readUInt8(),c=!1;o===t.ADVANCED_TRANSACTION_MARKER&&s===t.ADVANCED_TRANSACTION_FLAG?c=!0:n.offset-=2;let l=n.readVarInt();for(let w=0;w<l;++w)i.ins.push({hash:n.readSlice(32),index:n.readUInt32(),script:n.readVarSlice(),sequence:n.readUInt32(),witness:Q2e});let m=n.readVarInt();for(let w=0;w<m;++w)i.outs.push({value:n.readUInt64(),script:n.readVarSlice()});if(c){for(let w=0;w<l;++w)i.ins[w].witness=n.readVector();if(!i.hasWitnesses())throw new Error("Transaction has superfluous witness data")}if(i.locktime=n.readUInt32(),r)return i;if(n.offset!==e.length)throw new Error("Transaction has unexpected data");return i}static fromHex(e){return t.fromBuffer(wa.from(e,"hex"),!1)}static isCoinbaseHash(e){oh(yn.Hash256bit,e);for(let r=0;r<32;++r)if(e[r]!==0)return!1;return!0}isCoinbase(){return this.ins.length===1&&t.isCoinbaseHash(this.ins[0].hash)}addInput(e,r,n,i){return oh(yn.tuple(yn.Hash256bit,yn.UInt32,yn.maybe(yn.UInt32),yn.maybe(yn.Buffer)),arguments),yn.Null(n)&&(n=t.DEFAULT_SEQUENCE),this.ins.push({hash:e,index:r,script:i||Ry,sequence:n,witness:Q2e})-1}addOutput(e,r){return oh(yn.tuple(yn.Buffer,yn.Satoshi),arguments),this.outs.push({script:e,value:r})-1}hasWitnesses(){return this.ins.some(e=>e.witness.length!==0)}weight(){let e=this.byteLength(!1),r=this.byteLength(!0);return e*3+r}virtualSize(){return Math.ceil(this.weight()/4)}byteLength(e=!0){let r=e&&this.hasWitnesses();return(r?10:8)+So.varuint.encodingLength(this.ins.length)+So.varuint.encodingLength(this.outs.length)+this.ins.reduce((n,i)=>n+40+sh(i.script),0)+this.outs.reduce((n,i)=>n+8+sh(i.script),0)+(r?this.ins.reduce((n,i)=>n+Adt(i.witness),0):0)}clone(){let e=new t;return e.version=this.version,e.locktime=this.locktime,e.ins=this.ins.map(r=>({hash:r.hash,index:r.index,script:r.script,sequence:r.sequence,witness:r.witness})),e.outs=this.outs.map(r=>({script:r.script,value:r.value})),e}hashForSignature(e,r,n){if(oh(yn.tuple(yn.UInt32,yn.Buffer,yn.Number),arguments),e>=this.ins.length)return J2e;let i=Z2e.compile(Z2e.decompile(r).filter(c=>c!==Sdt.OPS.OP_CODESEPARATOR)),o=this.clone();if((n&31)===t.SIGHASH_NONE)o.outs=[],o.ins.forEach((c,l)=>{l!==e&&(c.sequence=0)});else if((n&31)===t.SIGHASH_SINGLE){if(e>=this.outs.length)return J2e;o.outs.length=e+1;for(let c=0;c<e;c++)o.outs[c]=_dt;o.ins.forEach((c,l)=>{l!==e&&(c.sequence=0)})}n&t.SIGHASH_ANYONECANPAY?(o.ins=[o.ins[e]],o.ins[0].script=i):(o.ins.forEach(c=>{c.script=Ry}),o.ins[e].script=i);let s=wa.allocUnsafe(o.byteLength(!1)+4);return s.writeInt32LE(n,s.length-4),o.__toBuffer(s,0,!1),ec.hash256(s)}hashForWitnessV1(e,r,n,i,o,s){if(oh(yn.tuple(yn.UInt32,oh.arrayOf(yn.Buffer),oh.arrayOf(yn.Satoshi),yn.UInt32),arguments),n.length!==this.ins.length||r.length!==this.ins.length)throw new Error("Must supply prevout script and value for all inputs");let c=i===t.SIGHASH_DEFAULT?t.SIGHASH_ALL:i&t.SIGHASH_OUTPUT_MASK,m=(i&t.SIGHASH_INPUT_MASK)===t.SIGHASH_ANYONECANPAY,w=c===t.SIGHASH_NONE,b=c===t.SIGHASH_SINGLE,E=Ry,I=Ry,M=Ry,k=Ry,R=Ry;if(!m){let F=So.BufferWriter.withCapacity(36*this.ins.length);this.ins.forEach(q=>{F.writeSlice(q.hash),F.writeUInt32(q.index)}),E=ec.sha256(F.end()),F=So.BufferWriter.withCapacity(8*this.ins.length),n.forEach(q=>F.writeUInt64(q)),I=ec.sha256(F.end()),F=So.BufferWriter.withCapacity(r.map(sh).reduce((q,K)=>q+K)),r.forEach(q=>F.writeVarSlice(q)),M=ec.sha256(F.end()),F=So.BufferWriter.withCapacity(4*this.ins.length),this.ins.forEach(q=>F.writeUInt32(q.sequence)),k=ec.sha256(F.end())}if(w||b){if(b&&e<this.outs.length){let F=this.outs[e],q=So.BufferWriter.withCapacity(8+sh(F.script));q.writeUInt64(F.value),q.writeVarSlice(F.script),R=ec.sha256(q.end())}}else{let F=this.outs.map(K=>8+sh(K.script)).reduce((K,re)=>K+re),q=So.BufferWriter.withCapacity(F);this.outs.forEach(K=>{q.writeUInt64(K.value),q.writeVarSlice(K.script)}),R=ec.sha256(q.end())}let B=(o?2:0)+(s?1:0),U=174-(m?49:0)-(w?32:0)+(s?32:0)+(o?37:0),P=So.BufferWriter.withCapacity(U);if(P.writeUInt8(i),P.writeInt32(this.version),P.writeUInt32(this.locktime),P.writeSlice(E),P.writeSlice(I),P.writeSlice(M),P.writeSlice(k),w||b||P.writeSlice(R),P.writeUInt8(B),m){let F=this.ins[e];P.writeSlice(F.hash),P.writeUInt32(F.index),P.writeUInt64(n[e]),P.writeVarSlice(r[e]),P.writeUInt32(F.sequence)}else P.writeUInt32(e);if(s){let F=So.BufferWriter.withCapacity(sh(s));F.writeVarSlice(s),P.writeSlice(ec.sha256(F.end()))}return b&&P.writeSlice(R),o&&(P.writeSlice(o),P.writeUInt8(0),P.writeUInt32(4294967295)),ec.taggedHash("TapSighash",wa.concat([wa.from([0]),P.end()]))}hashForWitnessV0(e,r,n,i){oh(yn.tuple(yn.UInt32,yn.Buffer,yn.Satoshi,yn.UInt32),arguments);let o=wa.from([]),s,c=m$,l=m$,m=m$;if(i&t.SIGHASH_ANYONECANPAY||(o=wa.allocUnsafe(36*this.ins.length),s=new So.BufferWriter(o,0),this.ins.forEach(b=>{s.writeSlice(b.hash),s.writeUInt32(b.index)}),l=ec.hash256(o)),!(i&t.SIGHASH_ANYONECANPAY)&&(i&31)!==t.SIGHASH_SINGLE&&(i&31)!==t.SIGHASH_NONE&&(o=wa.allocUnsafe(4*this.ins.length),s=new So.BufferWriter(o,0),this.ins.forEach(b=>{s.writeUInt32(b.sequence)}),m=ec.hash256(o)),(i&31)!==t.SIGHASH_SINGLE&&(i&31)!==t.SIGHASH_NONE){let b=this.outs.reduce((E,I)=>E+8+sh(I.script),0);o=wa.allocUnsafe(b),s=new So.BufferWriter(o,0),this.outs.forEach(E=>{s.writeUInt64(E.value),s.writeVarSlice(E.script)}),c=ec.hash256(o)}else if((i&31)===t.SIGHASH_SINGLE&&e<this.outs.length){let b=this.outs[e];o=wa.allocUnsafe(8+sh(b.script)),s=new So.BufferWriter(o,0),s.writeUInt64(b.value),s.writeVarSlice(b.script),c=ec.hash256(o)}o=wa.allocUnsafe(156+sh(r)),s=new So.BufferWriter(o,0);let w=this.ins[e];return s.writeInt32(this.version),s.writeSlice(l),s.writeSlice(m),s.writeSlice(w.hash),s.writeUInt32(w.index),s.writeVarSlice(r),s.writeUInt64(n),s.writeUInt32(w.sequence),s.writeSlice(c),s.writeUInt32(this.locktime),s.writeUInt32(i),ec.hash256(o)}getHash(e){return e&&this.isCoinbase()?wa.alloc(32,0):ec.hash256(this.__toBuffer(void 0,void 0,e))}getId(){return(0,So.reverseBuffer)(this.getHash(!1)).toString("hex")}toBuffer(e,r){return this.__toBuffer(e,r,!0)}toHex(){return this.toBuffer(void 0,void 0).toString("hex")}setInputScript(e,r){oh(yn.tuple(yn.Number,yn.Buffer),arguments),this.ins[e].script=r}setWitness(e,r){oh(yn.tuple(yn.Number,[yn.Buffer]),arguments),this.ins[e].witness=r}__toBuffer(e,r,n=!1){e||(e=wa.allocUnsafe(this.byteLength(n)));let i=new So.BufferWriter(e,r||0);i.writeInt32(this.version);let o=n&&this.hasWitnesses();return o&&(i.writeUInt8(t.ADVANCED_TRANSACTION_MARKER),i.writeUInt8(t.ADVANCED_TRANSACTION_FLAG)),i.writeVarInt(this.ins.length),this.ins.forEach(s=>{i.writeSlice(s.hash),i.writeUInt32(s.index),i.writeVarSlice(s.script),i.writeUInt32(s.sequence)}),i.writeVarInt(this.outs.length),this.outs.forEach(s=>{Tdt(s)?i.writeUInt64(s.value):i.writeSlice(s.valueBuffer),i.writeVarSlice(s.script)}),o&&this.ins.forEach(s=>{i.writeVector(s.witness)}),i.writeUInt32(this.locktime),r!==void 0?e.slice(r,i.offset):e}};UB.Transaction=gu;gu.DEFAULT_SEQUENCE=4294967295;gu.SIGHASH_DEFAULT=0;gu.SIGHASH_ALL=1;gu.SIGHASH_NONE=2;gu.SIGHASH_SINGLE=3;gu.SIGHASH_ANYONECANPAY=128;gu.SIGHASH_OUTPUT_MASK=3;gu.SIGHASH_INPUT_MASK=128;gu.ADVANCED_TRANSACTION_MARKER=0;gu.ADVANCED_TRANSACTION_FLAG=1});var rSe=V(LB=>{"use strict";d();h();Object.defineProperty(LB,"__esModule",{value:!0});LB.Block=void 0;var k1=n4(),y$=th(),Idt=Y2e(),Mdt=eS(),tSe=Ns(),{typeforce:kdt}=tSe,g$=new TypeError("Cannot compute merkle root for zero transactions"),X2e=new TypeError("Cannot compute witness commit for non-segwit block"),b$=class t{constructor(){this.version=1,this.prevHash=void 0,this.merkleRoot=void 0,this.timestamp=0,this.witnessCommit=void 0,this.bits=0,this.nonce=0,this.transactions=void 0}static fromBuffer(e){if(e.length<80)throw new Error("Buffer too small (< 80 bytes)");let r=new k1.BufferReader(e),n=new t;if(n.version=r.readInt32(),n.prevHash=r.readSlice(32),n.merkleRoot=r.readSlice(32),n.timestamp=r.readUInt32(),n.bits=r.readUInt32(),n.nonce=r.readUInt32(),e.length===80)return n;let i=()=>{let c=Mdt.Transaction.fromBuffer(r.buffer.slice(r.offset),!0);return r.offset+=c.byteLength(),c},o=r.readVarInt();n.transactions=[];for(let c=0;c<o;++c){let l=i();n.transactions.push(l)}let s=n.getWitnessCommit();return s&&(n.witnessCommit=s),n}static fromHex(e){return t.fromBuffer(Buffer.from(e,"hex"))}static calculateTarget(e){let r=((e&4278190080)>>24)-3,n=e&8388607,i=Buffer.alloc(32,0);return i.writeUIntBE(n,29-r,3),i}static calculateMerkleRoot(e,r){if(kdt([{getHash:tSe.Function}],e),e.length===0)throw g$;if(r&&!eSe(e))throw X2e;let n=e.map(o=>o.getHash(r)),i=(0,Idt.fastMerkleRoot)(n,y$.hash256);return r?y$.hash256(Buffer.concat([i,e[0].ins[0].witness[0]])):i}getWitnessCommit(){if(!eSe(this.transactions))return null;let e=this.transactions[0].outs.filter(n=>n.script.slice(0,6).equals(Buffer.from("6a24aa21a9ed","hex"))).map(n=>n.script.slice(6,38));if(e.length===0)return null;let r=e[e.length-1];return r instanceof Buffer&&r.length===32?r:null}hasWitnessCommit(){return this.witnessCommit instanceof Buffer&&this.witnessCommit.length===32||this.getWitnessCommit()!==null}hasWitness(){return Pdt(this.transactions)}weight(){let e=this.byteLength(!1,!1),r=this.byteLength(!1,!0);return e*3+r}byteLength(e,r=!0){return e||!this.transactions?80:80+k1.varuint.encodingLength(this.transactions.length)+this.transactions.reduce((n,i)=>n+i.byteLength(r),0)}getHash(){return y$.hash256(this.toBuffer(!0))}getId(){return(0,k1.reverseBuffer)(this.getHash()).toString("hex")}getUTCDate(){let e=new Date(0);return e.setUTCSeconds(this.timestamp),e}toBuffer(e){let r=Buffer.allocUnsafe(this.byteLength(e)),n=new k1.BufferWriter(r);return n.writeInt32(this.version),n.writeSlice(this.prevHash),n.writeSlice(this.merkleRoot),n.writeUInt32(this.timestamp),n.writeUInt32(this.bits),n.writeUInt32(this.nonce),e||!this.transactions||(k1.varuint.encode(this.transactions.length,r,n.offset),n.offset+=k1.varuint.encode.bytes,this.transactions.forEach(i=>{let o=i.byteLength();i.toBuffer(r,n.offset),n.offset+=o})),r}toHex(e){return this.toBuffer(e).toString("hex")}checkTxRoots(){let e=this.hasWitnessCommit();return!e&&this.hasWitness()?!1:this.__checkMerkleRoot()&&(e?this.__checkWitnessCommit():!0)}checkProofOfWork(){let e=(0,k1.reverseBuffer)(this.getHash()),r=t.calculateTarget(this.bits);return e.compare(r)<=0}__checkMerkleRoot(){if(!this.transactions)throw g$;let e=t.calculateMerkleRoot(this.transactions);return this.merkleRoot.compare(e)===0}__checkWitnessCommit(){if(!this.transactions)throw g$;if(!this.hasWitnessCommit())throw X2e;let e=t.calculateMerkleRoot(this.transactions,!0);return this.witnessCommit.compare(e)===0}};LB.Block=b$;function eSe(t){return t instanceof Array&&t[0]&&t[0].ins&&t[0].ins instanceof Array&&t[0].ins[0]&&t[0].ins[0].witness&&t[0].ins[0].witness instanceof Array&&t[0].ins[0].witness.length>0}function Pdt(t){return t instanceof Array&&t.some(e=>typeof e=="object"&&e.ins instanceof Array&&e.ins.some(r=>typeof r=="object"&&r.witness instanceof Array&&r.witness.length>0))}});var ps=V(Nl=>{"use strict";d();h();Object.defineProperty(Nl,"__esModule",{value:!0});var Bdt;(function(t){t[t.UNSIGNED_TX=0]="UNSIGNED_TX",t[t.GLOBAL_XPUB=1]="GLOBAL_XPUB"})(Bdt=Nl.GlobalTypes||(Nl.GlobalTypes={}));Nl.GLOBAL_TYPE_NAMES=["unsignedTx","globalXpub"];var Rdt;(function(t){t[t.NON_WITNESS_UTXO=0]="NON_WITNESS_UTXO",t[t.WITNESS_UTXO=1]="WITNESS_UTXO",t[t.PARTIAL_SIG=2]="PARTIAL_SIG",t[t.SIGHASH_TYPE=3]="SIGHASH_TYPE",t[t.REDEEM_SCRIPT=4]="REDEEM_SCRIPT",t[t.WITNESS_SCRIPT=5]="WITNESS_SCRIPT",t[t.BIP32_DERIVATION=6]="BIP32_DERIVATION",t[t.FINAL_SCRIPTSIG=7]="FINAL_SCRIPTSIG",t[t.FINAL_SCRIPTWITNESS=8]="FINAL_SCRIPTWITNESS",t[t.POR_COMMITMENT=9]="POR_COMMITMENT",t[t.TAP_KEY_SIG=19]="TAP_KEY_SIG",t[t.TAP_SCRIPT_SIG=20]="TAP_SCRIPT_SIG",t[t.TAP_LEAF_SCRIPT=21]="TAP_LEAF_SCRIPT",t[t.TAP_BIP32_DERIVATION=22]="TAP_BIP32_DERIVATION",t[t.TAP_INTERNAL_KEY=23]="TAP_INTERNAL_KEY",t[t.TAP_MERKLE_ROOT=24]="TAP_MERKLE_ROOT"})(Rdt=Nl.InputTypes||(Nl.InputTypes={}));Nl.INPUT_TYPE_NAMES=["nonWitnessUtxo","witnessUtxo","partialSig","sighashType","redeemScript","witnessScript","bip32Derivation","finalScriptSig","finalScriptWitness","porCommitment","tapKeySig","tapScriptSig","tapLeafScript","tapBip32Derivation","tapInternalKey","tapMerkleRoot"];var Cdt;(function(t){t[t.REDEEM_SCRIPT=0]="REDEEM_SCRIPT",t[t.WITNESS_SCRIPT=1]="WITNESS_SCRIPT",t[t.BIP32_DERIVATION=2]="BIP32_DERIVATION",t[t.TAP_INTERNAL_KEY=5]="TAP_INTERNAL_KEY",t[t.TAP_TREE=6]="TAP_TREE",t[t.TAP_BIP32_DERIVATION=7]="TAP_BIP32_DERIVATION"})(Cdt=Nl.OutputTypes||(Nl.OutputTypes={}));Nl.OUTPUT_TYPE_NAMES=["redeemScript","witnessScript","bip32Derivation","tapInternalKey","tapTree","tapBip32Derivation"]});var iSe=V(P1=>{"use strict";d();h();Object.defineProperty(P1,"__esModule",{value:!0});var nSe=ps(),Odt=t=>[...Array(t).keys()];function Ndt(t){if(t.key[0]!==nSe.GlobalTypes.GLOBAL_XPUB)throw new Error("Decode Error: could not decode globalXpub with key 0x"+t.key.toString("hex"));if(t.key.length!==79||![2,3].includes(t.key[46]))throw new Error("Decode Error: globalXpub has invalid extended pubkey in key 0x"+t.key.toString("hex"));if(t.value.length/4%1!==0)throw new Error("Decode Error: Global GLOBAL_XPUB value length should be multiple of 4");let e=t.key.slice(1),r={masterFingerprint:t.value.slice(0,4),extendedPubkey:e,path:"m"};for(let n of Odt(t.value.length/4-1)){let i=t.value.readUInt32LE(n*4+4),o=!!(i&2147483648),s=i&2147483647;r.path+="/"+s.toString(10)+(o?"'":"")}return r}P1.decode=Ndt;function Ddt(t){let e=Buffer.from([nSe.GlobalTypes.GLOBAL_XPUB]),r=Buffer.concat([e,t.extendedPubkey]),n=t.path.split("/"),i=Buffer.allocUnsafe(n.length*4);t.masterFingerprint.copy(i,0);let o=4;return n.slice(1).forEach(s=>{let c=s.slice(-1)==="'",l=2147483647&parseInt(c?s.slice(0,-1):s,10);c&&(l+=2147483648),i.writeUInt32LE(l,o),o+=4}),{key:r,value:i}}P1.encode=Ddt;P1.expected="{ masterFingerprint: Buffer; extendedPubkey: Buffer; path: string; }";function Udt(t){let e=t.extendedPubkey,r=t.masterFingerprint,n=t.path;return Buffer.isBuffer(e)&&e.length===78&&[2,3].indexOf(e[45])>-1&&Buffer.isBuffer(r)&&r.length===4&&typeof n=="string"&&!!n.match(/^m(\/\d+'?)*$/)}P1.check=Udt;function Ldt(t,e,r){let n=e.extendedPubkey.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(i=>i.extendedPubkey.equals(e.extendedPubkey)).length===0)}P1.canAddToArray=Ldt});var oSe=V(v$=>{"use strict";d();h();Object.defineProperty(v$,"__esModule",{value:!0});var Fdt=ps();function Vdt(t){return{key:Buffer.from([Fdt.GlobalTypes.UNSIGNED_TX]),value:t.toBuffer()}}v$.encode=Vdt});var aSe=V(B1=>{"use strict";d();h();Object.defineProperty(B1,"__esModule",{value:!0});var sSe=ps();function qdt(t){if(t.key[0]!==sSe.InputTypes.FINAL_SCRIPTSIG)throw new Error("Decode Error: could not decode finalScriptSig with key 0x"+t.key.toString("hex"));return t.value}B1.decode=qdt;function Kdt(t){return{key:Buffer.from([sSe.InputTypes.FINAL_SCRIPTSIG]),value:t}}B1.encode=Kdt;B1.expected="Buffer";function Hdt(t){return Buffer.isBuffer(t)}B1.check=Hdt;function jdt(t,e){return!!t&&!!e&&t.finalScriptSig===void 0}B1.canAdd=jdt});var uSe=V(R1=>{"use strict";d();h();Object.defineProperty(R1,"__esModule",{value:!0});var cSe=ps();function zdt(t){if(t.key[0]!==cSe.InputTypes.FINAL_SCRIPTWITNESS)throw new Error("Decode Error: could not decode finalScriptWitness with key 0x"+t.key.toString("hex"));return t.value}R1.decode=zdt;function Wdt(t){return{key:Buffer.from([cSe.InputTypes.FINAL_SCRIPTWITNESS]),value:t}}R1.encode=Wdt;R1.expected="Buffer";function Gdt(t){return Buffer.isBuffer(t)}R1.check=Gdt;function $dt(t,e){return!!t&&!!e&&t.finalScriptWitness===void 0}R1.canAdd=$dt});var lSe=V(C1=>{"use strict";d();h();Object.defineProperty(C1,"__esModule",{value:!0});var fSe=ps();function Ydt(t){if(t.key[0]!==fSe.InputTypes.NON_WITNESS_UTXO)throw new Error("Decode Error: could not decode nonWitnessUtxo with key 0x"+t.key.toString("hex"));return t.value}C1.decode=Ydt;function Zdt(t){return{key:Buffer.from([fSe.InputTypes.NON_WITNESS_UTXO]),value:t}}C1.encode=Zdt;C1.expected="Buffer";function Qdt(t){return Buffer.isBuffer(t)}C1.check=Qdt;function Jdt(t,e){return!!t&&!!e&&t.nonWitnessUtxo===void 0}C1.canAdd=Jdt});var hSe=V(O1=>{"use strict";d();h();Object.defineProperty(O1,"__esModule",{value:!0});var dSe=ps();function Xdt(t){if(t.key[0]!==dSe.InputTypes.PARTIAL_SIG)throw new Error("Decode Error: could not decode partialSig with key 0x"+t.key.toString("hex"));if(!(t.key.length===34||t.key.length===66)||![2,3,4].includes(t.key[1]))throw new Error("Decode Error: partialSig has invalid pubkey in key 0x"+t.key.toString("hex"));return{pubkey:t.key.slice(1),signature:t.value}}O1.decode=Xdt;function eht(t){let e=Buffer.from([dSe.InputTypes.PARTIAL_SIG]);return{key:Buffer.concat([e,t.pubkey]),value:t.signature}}O1.encode=eht;O1.expected="{ pubkey: Buffer; signature: Buffer; }";function tht(t){return Buffer.isBuffer(t.pubkey)&&Buffer.isBuffer(t.signature)&&[33,65].includes(t.pubkey.length)&&[2,3,4].includes(t.pubkey[0])&&rht(t.signature)}O1.check=tht;function rht(t){if(!Buffer.isBuffer(t)||t.length<9||t[0]!==48||t.length!==t[1]+3||t[2]!==2)return!1;let e=t[3];if(e>33||e<1||t[3+e+1]!==2)return!1;let r=t[3+e+2];return!(r>33||r<1||t.length!==3+e+2+r+2)}function nht(t,e,r){let n=e.pubkey.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(i=>i.pubkey.equals(e.pubkey)).length===0)}O1.canAddToArray=nht});var mSe=V(N1=>{"use strict";d();h();Object.defineProperty(N1,"__esModule",{value:!0});var pSe=ps();function iht(t){if(t.key[0]!==pSe.InputTypes.POR_COMMITMENT)throw new Error("Decode Error: could not decode porCommitment with key 0x"+t.key.toString("hex"));return t.value.toString("utf8")}N1.decode=iht;function oht(t){return{key:Buffer.from([pSe.InputTypes.POR_COMMITMENT]),value:Buffer.from(t,"utf8")}}N1.encode=oht;N1.expected="string";function sht(t){return typeof t=="string"}N1.check=sht;function aht(t,e){return!!t&&!!e&&t.porCommitment===void 0}N1.canAdd=aht});var gSe=V(D1=>{"use strict";d();h();Object.defineProperty(D1,"__esModule",{value:!0});var ySe=ps();function cht(t){if(t.key[0]!==ySe.InputTypes.SIGHASH_TYPE)throw new Error("Decode Error: could not decode sighashType with key 0x"+t.key.toString("hex"));return t.value.readUInt32LE(0)}D1.decode=cht;function uht(t){let e=Buffer.from([ySe.InputTypes.SIGHASH_TYPE]),r=Buffer.allocUnsafe(4);return r.writeUInt32LE(t,0),{key:e,value:r}}D1.encode=uht;D1.expected="number";function fht(t){return typeof t=="number"}D1.check=fht;function lht(t,e){return!!t&&!!e&&t.sighashType===void 0}D1.canAdd=lht});var xSe=V(U1=>{"use strict";d();h();Object.defineProperty(U1,"__esModule",{value:!0});var bSe=ps();function dht(t){if(t.key[0]!==bSe.InputTypes.TAP_KEY_SIG||t.key.length!==1)throw new Error("Decode Error: could not decode tapKeySig with key 0x"+t.key.toString("hex"));if(!vSe(t.value))throw new Error("Decode Error: tapKeySig not a valid 64-65-byte BIP340 signature");return t.value}U1.decode=dht;function hht(t){return{key:Buffer.from([bSe.InputTypes.TAP_KEY_SIG]),value:t}}U1.encode=hht;U1.expected="Buffer";function vSe(t){return Buffer.isBuffer(t)&&(t.length===64||t.length===65)}U1.check=vSe;function pht(t,e){return!!t&&!!e&&t.tapKeySig===void 0}U1.canAdd=pht});var SSe=V(L1=>{"use strict";d();h();Object.defineProperty(L1,"__esModule",{value:!0});var wSe=ps();function mht(t){if(t.key[0]!==wSe.InputTypes.TAP_LEAF_SCRIPT)throw new Error("Decode Error: could not decode tapLeafScript with key 0x"+t.key.toString("hex"));if((t.key.length-2)%32!==0)throw new Error("Decode Error: tapLeafScript has invalid control block in key 0x"+t.key.toString("hex"));let e=t.value[t.value.length-1];if((t.key[1]&254)!==e)throw new Error("Decode Error: tapLeafScript bad leaf version in key 0x"+t.key.toString("hex"));let r=t.value.slice(0,-1);return{controlBlock:t.key.slice(1),script:r,leafVersion:e}}L1.decode=mht;function yht(t){let e=Buffer.from([wSe.InputTypes.TAP_LEAF_SCRIPT]),r=Buffer.from([t.leafVersion]);return{key:Buffer.concat([e,t.controlBlock]),value:Buffer.concat([t.script,r])}}L1.encode=yht;L1.expected="{ controlBlock: Buffer; leafVersion: number, script: Buffer; }";function ght(t){return Buffer.isBuffer(t.controlBlock)&&(t.controlBlock.length-1)%32===0&&(t.controlBlock[0]&254)===t.leafVersion&&Buffer.isBuffer(t.script)}L1.check=ght;function bht(t,e,r){let n=e.controlBlock.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(i=>i.controlBlock.equals(e.controlBlock)).length===0)}L1.canAddToArray=bht});var _Se=V(F1=>{"use strict";d();h();Object.defineProperty(F1,"__esModule",{value:!0});var ASe=ps();function vht(t){if(t.key[0]!==ASe.InputTypes.TAP_MERKLE_ROOT||t.key.length!==1)throw new Error("Decode Error: could not decode tapMerkleRoot with key 0x"+t.key.toString("hex"));if(!ESe(t.value))throw new Error("Decode Error: tapMerkleRoot not a 32-byte hash");return t.value}F1.decode=vht;function xht(t){return{key:Buffer.from([ASe.InputTypes.TAP_MERKLE_ROOT]),value:t}}F1.encode=xht;F1.expected="Buffer";function ESe(t){return Buffer.isBuffer(t)&&t.length===32}F1.check=ESe;function wht(t,e){return!!t&&!!e&&t.tapMerkleRoot===void 0}F1.canAdd=wht});var ISe=V(V1=>{"use strict";d();h();Object.defineProperty(V1,"__esModule",{value:!0});var TSe=ps();function Sht(t){if(t.key[0]!==TSe.InputTypes.TAP_SCRIPT_SIG)throw new Error("Decode Error: could not decode tapScriptSig with key 0x"+t.key.toString("hex"));if(t.key.length!==65)throw new Error("Decode Error: tapScriptSig has invalid key 0x"+t.key.toString("hex"));if(t.value.length!==64&&t.value.length!==65)throw new Error("Decode Error: tapScriptSig has invalid signature in key 0x"+t.key.toString("hex"));let e=t.key.slice(1,33),r=t.key.slice(33);return{pubkey:e,leafHash:r,signature:t.value}}V1.decode=Sht;function Aht(t){let e=Buffer.from([TSe.InputTypes.TAP_SCRIPT_SIG]);return{key:Buffer.concat([e,t.pubkey,t.leafHash]),value:t.signature}}V1.encode=Aht;V1.expected="{ pubkey: Buffer; leafHash: Buffer; signature: Buffer; }";function Eht(t){return Buffer.isBuffer(t.pubkey)&&Buffer.isBuffer(t.leafHash)&&Buffer.isBuffer(t.signature)&&t.pubkey.length===32&&t.leafHash.length===32&&(t.signature.length===64||t.signature.length===65)}V1.check=Eht;function _ht(t,e,r){let n=e.pubkey.toString("hex")+e.leafHash.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(i=>i.pubkey.equals(e.pubkey)&&i.leafHash.equals(e.leafHash)).length===0)}V1.canAddToArray=_ht});var Cy=V(s4=>{"use strict";d();h();Object.defineProperty(s4,"__esModule",{value:!0});var Tht=9007199254740991;function x$(t){if(t<0||t>Tht||t%1!==0)throw new RangeError("value out of range")}function i4(t,e,r){if(x$(t),e||(e=Buffer.allocUnsafe(MSe(t))),!Buffer.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");return r||(r=0),t<253?(e.writeUInt8(t,r),Object.assign(i4,{bytes:1})):t<=65535?(e.writeUInt8(253,r),e.writeUInt16LE(t,r+1),Object.assign(i4,{bytes:3})):t<=4294967295?(e.writeUInt8(254,r),e.writeUInt32LE(t,r+1),Object.assign(i4,{bytes:5})):(e.writeUInt8(255,r),e.writeUInt32LE(t>>>0,r+1),e.writeUInt32LE(t/4294967296|0,r+5),Object.assign(i4,{bytes:9})),e}s4.encode=i4;function o4(t,e){if(!Buffer.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");e||(e=0);let r=t.readUInt8(e);if(r<253)return Object.assign(o4,{bytes:1}),r;if(r===253)return Object.assign(o4,{bytes:3}),t.readUInt16LE(e+1);if(r===254)return Object.assign(o4,{bytes:5}),t.readUInt32LE(e+1);{Object.assign(o4,{bytes:9});let n=t.readUInt32LE(e+1),o=t.readUInt32LE(e+5)*4294967296+n;return x$(o),o}}s4.decode=o4;function MSe(t){return x$(t),t<253?1:t<=65535?3:t<=4294967295?5:9}s4.encodingLength=MSe});var VB=V(Oy=>{"use strict";d();h();Object.defineProperty(Oy,"__esModule",{value:!0});var FB=Cy();Oy.range=t=>[...Array(t).keys()];function Iht(t){if(t.length<1)return t;let e=t.length-1,r=0;for(let n=0;n<t.length/2;n++)r=t[n],t[n]=t[e],t[e]=r,e--;return t}Oy.reverseBuffer=Iht;function Mht(t){let e=t.map(kSe);return e.push(Buffer.from([0])),Buffer.concat(e)}Oy.keyValsToBuffer=Mht;function kSe(t){let e=t.key.length,r=t.value.length,n=FB.encodingLength(e),i=FB.encodingLength(r),o=Buffer.allocUnsafe(n+e+i+r);return FB.encode(e,o,0),t.key.copy(o,n),FB.encode(r,o,n+e),t.value.copy(o,n+e+i),o}Oy.keyValToBuffer=kSe;function PSe(t,e){if(typeof t!="number")throw new Error("cannot write a non-number as a number");if(t<0)throw new Error("specified a negative value for writing an unsigned value");if(t>e)throw new Error("RangeError: value out of range");if(Math.floor(t)!==t)throw new Error("value has a fractional component")}function kht(t,e){let r=t.readUInt32LE(e),n=t.readUInt32LE(e+4);return n*=4294967296,PSe(n+r,9007199254740991),n+r}Oy.readUInt64LE=kht;function Pht(t,e,r){return PSe(e,9007199254740991),t.writeInt32LE(e&-1,r),t.writeUInt32LE(Math.floor(e/4294967296),r+4),r+8}Oy.writeUInt64LE=Pht});var CSe=V(q1=>{"use strict";d();h();Object.defineProperty(q1,"__esModule",{value:!0});var BSe=ps(),RSe=VB(),qB=Cy();function Bht(t){if(t.key[0]!==BSe.InputTypes.WITNESS_UTXO)throw new Error("Decode Error: could not decode witnessUtxo with key 0x"+t.key.toString("hex"));let e=RSe.readUInt64LE(t.value,0),r=8,n=qB.decode(t.value,r);r+=qB.encodingLength(n);let i=t.value.slice(r);if(i.length!==n)throw new Error("Decode Error: WITNESS_UTXO script is not proper length");return{script:i,value:e}}q1.decode=Bht;function Rht(t){let{script:e,value:r}=t,n=qB.encodingLength(e.length),i=Buffer.allocUnsafe(8+n+e.length);return RSe.writeUInt64LE(i,r,0),qB.encode(e.length,i,8),e.copy(i,8+n),{key:Buffer.from([BSe.InputTypes.WITNESS_UTXO]),value:i}}q1.encode=Rht;q1.expected="{ script: Buffer; value: number; }";function Cht(t){return Buffer.isBuffer(t.script)&&typeof t.value=="number"}q1.check=Cht;function Oht(t,e){return!!t&&!!e&&t.witnessUtxo===void 0}q1.canAdd=Oht});var NSe=V(K1=>{"use strict";d();h();Object.defineProperty(K1,"__esModule",{value:!0});var OSe=ps(),w$=Cy();function Nht(t){if(t.key[0]!==OSe.OutputTypes.TAP_TREE||t.key.length!==1)throw new Error("Decode Error: could not decode tapTree with key 0x"+t.key.toString("hex"));let e=0,r=[];for(;e<t.value.length;){let n=t.value[e++],i=t.value[e++],o=w$.decode(t.value,e);e+=w$.encodingLength(o),r.push({depth:n,leafVersion:i,script:t.value.slice(e,e+o)}),e+=o}return{leaves:r}}K1.decode=Nht;function Dht(t){let e=Buffer.from([OSe.OutputTypes.TAP_TREE]),r=[].concat(...t.leaves.map(n=>[Buffer.of(n.depth,n.leafVersion),w$.encode(n.script.length),n.script]));return{key:e,value:Buffer.concat(r)}}K1.encode=Dht;K1.expected="{ leaves: [{ depth: number; leafVersion: number, script: Buffer; }] }";function Uht(t){return Array.isArray(t.leaves)&&t.leaves.every(e=>e.depth>=0&&e.depth<=128&&(e.leafVersion&254)===e.leafVersion&&Buffer.isBuffer(e.script))}K1.check=Uht;function Lht(t,e){return!!t&&!!e&&t.tapTree===void 0}K1.canAdd=Lht});var A$=V(S$=>{"use strict";d();h();Object.defineProperty(S$,"__esModule",{value:!0});var Fht=t=>[...Array(t).keys()],Vht=t=>t.length===33&&[2,3].includes(t[0])||t.length===65&&t[0]===4;function qht(t,e=Vht){function r(c){if(c.key[0]!==t)throw new Error("Decode Error: could not decode bip32Derivation with key 0x"+c.key.toString("hex"));let l=c.key.slice(1);if(!e(l))throw new Error("Decode Error: bip32Derivation has invalid pubkey in key 0x"+c.key.toString("hex"));if(c.value.length/4%1!==0)throw new Error("Decode Error: Input BIP32_DERIVATION value length should be multiple of 4");let m={masterFingerprint:c.value.slice(0,4),pubkey:l,path:"m"};for(let w of Fht(c.value.length/4-1)){let b=c.value.readUInt32LE(w*4+4),E=!!(b&2147483648),I=b&2147483647;m.path+="/"+I.toString(10)+(E?"'":"")}return m}function n(c){let l=Buffer.from([t]),m=Buffer.concat([l,c.pubkey]),w=c.path.split("/"),b=Buffer.allocUnsafe(w.length*4);c.masterFingerprint.copy(b,0);let E=4;return w.slice(1).forEach(I=>{let M=I.slice(-1)==="'",k=2147483647&parseInt(M?I.slice(0,-1):I,10);M&&(k+=2147483648),b.writeUInt32LE(k,E),E+=4}),{key:m,value:b}}let i="{ masterFingerprint: Buffer; pubkey: Buffer; path: string; }";function o(c){return Buffer.isBuffer(c.pubkey)&&Buffer.isBuffer(c.masterFingerprint)&&typeof c.path=="string"&&e(c.pubkey)&&c.masterFingerprint.length===4}function s(c,l,m){let w=l.pubkey.toString("hex");return m.has(w)?!1:(m.add(w),c.filter(b=>b.pubkey.equals(l.pubkey)).length===0)}return{decode:r,encode:n,check:o,expected:i,canAddToArray:s}}S$.makeConverter=qht});var DSe=V(E$=>{"use strict";d();h();Object.defineProperty(E$,"__esModule",{value:!0});function Kht(t){return e;function e(r){let n;if(t.includes(r.key[0])&&(n=r.key.slice(1),!(n.length===33||n.length===65)||![2,3,4].includes(n[0])))throw new Error("Format Error: invalid pubkey in key 0x"+r.key.toString("hex"));return n}}E$.makeChecker=Kht});var USe=V(_$=>{"use strict";d();h();Object.defineProperty(_$,"__esModule",{value:!0});function Hht(t){function e(s){if(s.key[0]!==t)throw new Error("Decode Error: could not decode redeemScript with key 0x"+s.key.toString("hex"));return s.value}function r(s){return{key:Buffer.from([t]),value:s}}let n="Buffer";function i(s){return Buffer.isBuffer(s)}function o(s,c){return!!s&&!!c&&s.redeemScript===void 0}return{decode:e,encode:r,check:i,expected:n,canAdd:o}}_$.makeConverter=Hht});var LSe=V(T$=>{"use strict";d();h();Object.defineProperty(T$,"__esModule",{value:!0});var KB=Cy(),jht=A$(),zht=t=>t.length===32;function Wht(t){let e=jht.makeConverter(t,zht);function r(s){let c=KB.decode(s.value),l=KB.encodingLength(c),m=e.decode({key:s.key,value:s.value.slice(l+c*32)}),w=new Array(c);for(let b=0,E=l;b<c;b++,E+=32)w[b]=s.value.slice(E,E+32);return Object.assign({},m,{leafHashes:w})}function n(s){let c=e.encode(s),l=KB.encodingLength(s.leafHashes.length),m=Buffer.allocUnsafe(l);KB.encode(s.leafHashes.length,m);let w=Buffer.concat([m,...s.leafHashes,c.value]);return Object.assign({},c,{value:w})}let i="{ masterFingerprint: Buffer; pubkey: Buffer; path: string; leafHashes: Buffer[]; }";function o(s){return Array.isArray(s.leafHashes)&&s.leafHashes.every(c=>Buffer.isBuffer(c)&&c.length===32)&&e.check(s)}return{decode:r,encode:n,check:o,expected:i,canAddToArray:e.canAddToArray}}T$.makeConverter=Wht});var FSe=V(I$=>{"use strict";d();h();Object.defineProperty(I$,"__esModule",{value:!0});function Ght(t){function e(s){if(s.key[0]!==t||s.key.length!==1)throw new Error("Decode Error: could not decode tapInternalKey with key 0x"+s.key.toString("hex"));if(s.value.length!==32)throw new Error("Decode Error: tapInternalKey not a 32-byte x-only pubkey");return s.value}function r(s){return{key:Buffer.from([t]),value:s}}let n="Buffer";function i(s){return Buffer.isBuffer(s)&&s.length===32}function o(s,c){return!!s&&!!c&&s.tapInternalKey===void 0}return{decode:e,encode:r,check:i,expected:n,canAdd:o}}I$.makeConverter=Ght});var VSe=V(M$=>{"use strict";d();h();Object.defineProperty(M$,"__esModule",{value:!0});function $ht(t){function e(s){if(s.key[0]!==t)throw new Error("Decode Error: could not decode witnessScript with key 0x"+s.key.toString("hex"));return s.value}function r(s){return{key:Buffer.from([t]),value:s}}let n="Buffer";function i(s){return Buffer.isBuffer(s)}function o(s,c){return!!s&&!!c&&s.witnessScript===void 0}return{decode:e,encode:r,check:i,expected:n,canAdd:o}}M$.makeConverter=$ht});var HB=V(a4=>{"use strict";d();h();Object.defineProperty(a4,"__esModule",{value:!0});var bu=ps(),Yht=iSe(),Zht=oSe(),Qht=aSe(),Jht=uSe(),Xht=lSe(),e0t=hSe(),t0t=mSe(),r0t=gSe(),n0t=xSe(),i0t=SSe(),o0t=_Se(),s0t=ISe(),a0t=CSe(),c0t=NSe(),qSe=A$(),k$=DSe(),KSe=USe(),HSe=LSe(),jSe=FSe(),zSe=VSe(),u0t={unsignedTx:Zht,globalXpub:Yht,checkPubkey:k$.makeChecker([])};a4.globals=u0t;var f0t={nonWitnessUtxo:Xht,partialSig:e0t,sighashType:r0t,finalScriptSig:Qht,finalScriptWitness:Jht,porCommitment:t0t,witnessUtxo:a0t,bip32Derivation:qSe.makeConverter(bu.InputTypes.BIP32_DERIVATION),redeemScript:KSe.makeConverter(bu.InputTypes.REDEEM_SCRIPT),witnessScript:zSe.makeConverter(bu.InputTypes.WITNESS_SCRIPT),checkPubkey:k$.makeChecker([bu.InputTypes.PARTIAL_SIG,bu.InputTypes.BIP32_DERIVATION]),tapKeySig:n0t,tapScriptSig:s0t,tapLeafScript:i0t,tapBip32Derivation:HSe.makeConverter(bu.InputTypes.TAP_BIP32_DERIVATION),tapInternalKey:jSe.makeConverter(bu.InputTypes.TAP_INTERNAL_KEY),tapMerkleRoot:o0t};a4.inputs=f0t;var l0t={bip32Derivation:qSe.makeConverter(bu.OutputTypes.BIP32_DERIVATION),redeemScript:KSe.makeConverter(bu.OutputTypes.REDEEM_SCRIPT),witnessScript:zSe.makeConverter(bu.OutputTypes.WITNESS_SCRIPT),checkPubkey:k$.makeChecker([bu.OutputTypes.BIP32_DERIVATION]),tapBip32Derivation:HSe.makeConverter(bu.OutputTypes.TAP_BIP32_DERIVATION),tapTree:c0t,tapInternalKey:jSe.makeConverter(bu.OutputTypes.TAP_INTERNAL_KEY)};a4.outputs=l0t});var $Se=V(c4=>{"use strict";d();h();Object.defineProperty(c4,"__esModule",{value:!0});var vi=HB(),jB=VB(),WSe=Cy(),hr=ps();function d0t(t,e){let r=0;function n(){let R=WSe.decode(t,r);r+=WSe.encodingLength(R);let B=t.slice(r,r+R);return r+=R,B}function i(){let R=t.readUInt32BE(r);return r+=4,R}function o(){let R=t.readUInt8(r);return r+=1,R}function s(){let R=n(),B=n();return{key:R,value:B}}function c(){if(r>=t.length)throw new Error("Format Error: Unexpected End of PSBT");let R=t.readUInt8(r)===0;return R&&r++,R}if(i()!==1886610036)throw new Error("Format Error: Invalid Magic Number");if(o()!==255)throw new Error("Format Error: Magic Number must be followed by 0xff separator");let l=[],m={};for(;!c();){let R=s(),B=R.key.toString("hex");if(m[B])throw new Error("Format Error: Keys must be unique for global keymap: key "+B);m[B]=1,l.push(R)}let w=l.filter(R=>R.key[0]===hr.GlobalTypes.UNSIGNED_TX);if(w.length!==1)throw new Error("Format Error: Only one UNSIGNED_TX allowed");let b=e(w[0].value),{inputCount:E,outputCount:I}=b.getInputOutputCounts(),M=[],k=[];for(let R of jB.range(E)){let B={},U=[];for(;!c();){let P=s(),F=P.key.toString("hex");if(B[F])throw new Error("Format Error: Keys must be unique for each input: input index "+R+" key "+F);B[F]=1,U.push(P)}M.push(U)}for(let R of jB.range(I)){let B={},U=[];for(;!c();){let P=s(),F=P.key.toString("hex");if(B[F])throw new Error("Format Error: Keys must be unique for each output: output index "+R+" key "+F);B[F]=1,U.push(P)}k.push(U)}return GSe(b,{globalMapKeyVals:l,inputKeyVals:M,outputKeyVals:k})}c4.psbtFromBuffer=d0t;function Ds(t,e,r){if(!e.equals(Buffer.from([r])))throw new Error(`Format Error: Invalid ${t} key: ${e.toString("hex")}`)}c4.checkKeyBuffer=Ds;function GSe(t,{globalMapKeyVals:e,inputKeyVals:r,outputKeyVals:n}){let i={unsignedTx:t},o=0;for(let w of e)switch(w.key[0]){case hr.GlobalTypes.UNSIGNED_TX:if(Ds("global",w.key,hr.GlobalTypes.UNSIGNED_TX),o>0)throw new Error("Format Error: GlobalMap has multiple UNSIGNED_TX");o++;break;case hr.GlobalTypes.GLOBAL_XPUB:i.globalXpub===void 0&&(i.globalXpub=[]),i.globalXpub.push(vi.globals.globalXpub.decode(w));break;default:i.unknownKeyVals||(i.unknownKeyVals=[]),i.unknownKeyVals.push(w)}let s=r.length,c=n.length,l=[],m=[];for(let w of jB.range(s)){let b={};for(let E of r[w])switch(vi.inputs.checkPubkey(E),E.key[0]){case hr.InputTypes.NON_WITNESS_UTXO:if(Ds("input",E.key,hr.InputTypes.NON_WITNESS_UTXO),b.nonWitnessUtxo!==void 0)throw new Error("Format Error: Input has multiple NON_WITNESS_UTXO");b.nonWitnessUtxo=vi.inputs.nonWitnessUtxo.decode(E);break;case hr.InputTypes.WITNESS_UTXO:if(Ds("input",E.key,hr.InputTypes.WITNESS_UTXO),b.witnessUtxo!==void 0)throw new Error("Format Error: Input has multiple WITNESS_UTXO");b.witnessUtxo=vi.inputs.witnessUtxo.decode(E);break;case hr.InputTypes.PARTIAL_SIG:b.partialSig===void 0&&(b.partialSig=[]),b.partialSig.push(vi.inputs.partialSig.decode(E));break;case hr.InputTypes.SIGHASH_TYPE:if(Ds("input",E.key,hr.InputTypes.SIGHASH_TYPE),b.sighashType!==void 0)throw new Error("Format Error: Input has multiple SIGHASH_TYPE");b.sighashType=vi.inputs.sighashType.decode(E);break;case hr.InputTypes.REDEEM_SCRIPT:if(Ds("input",E.key,hr.InputTypes.REDEEM_SCRIPT),b.redeemScript!==void 0)throw new Error("Format Error: Input has multiple REDEEM_SCRIPT");b.redeemScript=vi.inputs.redeemScript.decode(E);break;case hr.InputTypes.WITNESS_SCRIPT:if(Ds("input",E.key,hr.InputTypes.WITNESS_SCRIPT),b.witnessScript!==void 0)throw new Error("Format Error: Input has multiple WITNESS_SCRIPT");b.witnessScript=vi.inputs.witnessScript.decode(E);break;case hr.InputTypes.BIP32_DERIVATION:b.bip32Derivation===void 0&&(b.bip32Derivation=[]),b.bip32Derivation.push(vi.inputs.bip32Derivation.decode(E));break;case hr.InputTypes.FINAL_SCRIPTSIG:Ds("input",E.key,hr.InputTypes.FINAL_SCRIPTSIG),b.finalScriptSig=vi.inputs.finalScriptSig.decode(E);break;case hr.InputTypes.FINAL_SCRIPTWITNESS:Ds("input",E.key,hr.InputTypes.FINAL_SCRIPTWITNESS),b.finalScriptWitness=vi.inputs.finalScriptWitness.decode(E);break;case hr.InputTypes.POR_COMMITMENT:Ds("input",E.key,hr.InputTypes.POR_COMMITMENT),b.porCommitment=vi.inputs.porCommitment.decode(E);break;case hr.InputTypes.TAP_KEY_SIG:Ds("input",E.key,hr.InputTypes.TAP_KEY_SIG),b.tapKeySig=vi.inputs.tapKeySig.decode(E);break;case hr.InputTypes.TAP_SCRIPT_SIG:b.tapScriptSig===void 0&&(b.tapScriptSig=[]),b.tapScriptSig.push(vi.inputs.tapScriptSig.decode(E));break;case hr.InputTypes.TAP_LEAF_SCRIPT:b.tapLeafScript===void 0&&(b.tapLeafScript=[]),b.tapLeafScript.push(vi.inputs.tapLeafScript.decode(E));break;case hr.InputTypes.TAP_BIP32_DERIVATION:b.tapBip32Derivation===void 0&&(b.tapBip32Derivation=[]),b.tapBip32Derivation.push(vi.inputs.tapBip32Derivation.decode(E));break;case hr.InputTypes.TAP_INTERNAL_KEY:Ds("input",E.key,hr.InputTypes.TAP_INTERNAL_KEY),b.tapInternalKey=vi.inputs.tapInternalKey.decode(E);break;case hr.InputTypes.TAP_MERKLE_ROOT:Ds("input",E.key,hr.InputTypes.TAP_MERKLE_ROOT),b.tapMerkleRoot=vi.inputs.tapMerkleRoot.decode(E);break;default:b.unknownKeyVals||(b.unknownKeyVals=[]),b.unknownKeyVals.push(E)}l.push(b)}for(let w of jB.range(c)){let b={};for(let E of n[w])switch(vi.outputs.checkPubkey(E),E.key[0]){case hr.OutputTypes.REDEEM_SCRIPT:if(Ds("output",E.key,hr.OutputTypes.REDEEM_SCRIPT),b.redeemScript!==void 0)throw new Error("Format Error: Output has multiple REDEEM_SCRIPT");b.redeemScript=vi.outputs.redeemScript.decode(E);break;case hr.OutputTypes.WITNESS_SCRIPT:if(Ds("output",E.key,hr.OutputTypes.WITNESS_SCRIPT),b.witnessScript!==void 0)throw new Error("Format Error: Output has multiple WITNESS_SCRIPT");b.witnessScript=vi.outputs.witnessScript.decode(E);break;case hr.OutputTypes.BIP32_DERIVATION:b.bip32Derivation===void 0&&(b.bip32Derivation=[]),b.bip32Derivation.push(vi.outputs.bip32Derivation.decode(E));break;case hr.OutputTypes.TAP_INTERNAL_KEY:Ds("output",E.key,hr.OutputTypes.TAP_INTERNAL_KEY),b.tapInternalKey=vi.outputs.tapInternalKey.decode(E);break;case hr.OutputTypes.TAP_TREE:Ds("output",E.key,hr.OutputTypes.TAP_TREE),b.tapTree=vi.outputs.tapTree.decode(E);break;case hr.OutputTypes.TAP_BIP32_DERIVATION:b.tapBip32Derivation===void 0&&(b.tapBip32Derivation=[]),b.tapBip32Derivation.push(vi.outputs.tapBip32Derivation.decode(E));break;default:b.unknownKeyVals||(b.unknownKeyVals=[]),b.unknownKeyVals.push(E)}m.push(b)}return{globalMap:i,inputs:l,outputs:m}}c4.psbtFromKeyVals=GSe});var QSe=V(zB=>{"use strict";d();h();Object.defineProperty(zB,"__esModule",{value:!0});var P$=HB(),YSe=VB();function h0t({globalMap:t,inputs:e,outputs:r}){let{globalKeyVals:n,inputKeyVals:i,outputKeyVals:o}=ZSe({globalMap:t,inputs:e,outputs:r}),s=YSe.keyValsToBuffer(n),c=b=>b.length===0?[Buffer.from([0])]:b.map(YSe.keyValsToBuffer),l=c(i),m=c(o),w=Buffer.allocUnsafe(5);return w.writeUIntBE(482972169471,0,5),Buffer.concat([w,s].concat(l,m))}zB.psbtToBuffer=h0t;var p0t=(t,e)=>t.key.compare(e.key);function B$(t,e){let r=new Set,n=Object.entries(t).reduce((o,[s,c])=>{if(s==="unknownKeyVals")return o;let l=e[s];if(l===void 0)return o;let m=(Array.isArray(c)?c:[c]).map(l.encode);return m.map(b=>b.key.toString("hex")).forEach(b=>{if(r.has(b))throw new Error("Serialize Error: Duplicate key: "+b);r.add(b)}),o.concat(m)},[]),i=t.unknownKeyVals?t.unknownKeyVals.filter(o=>!r.has(o.key.toString("hex"))):[];return n.concat(i).sort(p0t)}function ZSe({globalMap:t,inputs:e,outputs:r}){return{globalKeyVals:B$(t,P$.globals),inputKeyVals:e.map(n=>B$(n,P$.inputs)),outputKeyVals:r.map(n=>B$(n,P$.outputs))}}zB.psbtToKeyVals=ZSe});var R$=V(WB=>{"use strict";d();h();function JSe(t){for(var e in t)WB.hasOwnProperty(e)||(WB[e]=t[e])}Object.defineProperty(WB,"__esModule",{value:!0});JSe($Se());JSe(QSe())});var eAe=V(N$=>{"use strict";d();h();Object.defineProperty(N$,"__esModule",{value:!0});var C$=R$();function m0t(t){let e=t[0],r=C$.psbtToKeyVals(e),n=t.slice(1);if(n.length===0)throw new Error("Combine: Nothing to combine");let i=XSe(e);if(i===void 0)throw new Error("Combine: Self missing transaction");let o=tS(r.globalKeyVals),s=r.inputKeyVals.map(tS),c=r.outputKeyVals.map(tS);for(let l of n){let m=XSe(l);if(m===void 0||!m.toBuffer().equals(i.toBuffer()))throw new Error("Combine: One of the Psbts does not have the same transaction.");let w=C$.psbtToKeyVals(l);tS(w.globalKeyVals).forEach(O$(o,r.globalKeyVals,w.globalKeyVals)),w.inputKeyVals.map(tS).forEach((M,k)=>M.forEach(O$(s[k],r.inputKeyVals[k],w.inputKeyVals[k]))),w.outputKeyVals.map(tS).forEach((M,k)=>M.forEach(O$(c[k],r.outputKeyVals[k],w.outputKeyVals[k])))}return C$.psbtFromKeyVals(i,{globalMapKeyVals:r.globalKeyVals,inputKeyVals:r.inputKeyVals,outputKeyVals:r.outputKeyVals})}N$.combine=m0t;function O$(t,e,r){return n=>{if(t.has(n))return;let i=r.filter(o=>o.key.toString("hex")===n)[0];e.push(i),t.add(n)}}function XSe(t){return t.globalMap.unsignedTx}function tS(t){let e=new Set;return t.forEach(r=>{let n=r.key.toString("hex");if(e.has(n))throw new Error("Combine: KeyValue Map keys should be unique");e.add(n)}),e}});var U$=V(Sa=>{"use strict";d();h();Object.defineProperty(Sa,"__esModule",{value:!0});var y0t=HB();function rAe(t,e){let r=t[e];if(r===void 0)throw new Error(`No input #${e}`);return r}Sa.checkForInput=rAe;function nAe(t,e){let r=t[e];if(r===void 0)throw new Error(`No output #${e}`);return r}Sa.checkForOutput=nAe;function g0t(t,e,r){if(t.key[0]<r)throw new Error("Use the method for your specific key instead of addUnknownKeyVal*");if(e&&e.filter(n=>n.key.equals(t.key)).length!==0)throw new Error(`Duplicate Key: ${t.key.toString("hex")}`)}Sa.checkHasKey=g0t;function b0t(t){let e=0;return Object.keys(t).forEach(r=>{Number(isNaN(Number(r)))&&e++}),e}Sa.getEnumLength=b0t;function v0t(t,e){let r=!1;if(e.nonWitnessUtxo||e.witnessUtxo){let n=!!e.redeemScript,i=!!e.witnessScript,o=!n||!!e.finalScriptSig,s=!i||!!e.finalScriptWitness,c=!!e.finalScriptSig||!!e.finalScriptWitness;r=o&&s&&c}if(r===!1)throw new Error(`Input #${t} has too much or too little data to clean`)}Sa.inputCheckUncleanFinalized=v0t;function tAe(t,e,r,n){throw new Error(`Data for ${t} key ${e} is incorrect: Expected ${r} and got ${JSON.stringify(n)}`)}function D$(t){return(e,r)=>{for(let n of Object.keys(e)){let i=e[n],{canAdd:o,canAddToArray:s,check:c,expected:l}=y0t[t+"s"][n]||{},m=!!s;if(c)if(m){if(!Array.isArray(i)||r[n]&&!Array.isArray(r[n]))throw new Error(`Key type ${n} must be an array`);i.every(c)||tAe(t,n,l,i);let w=r[n]||[],b=new Set;if(!i.every(E=>s(w,E,b)))throw new Error("Can not add duplicate data to array");r[n]=w.concat(i)}else{if(c(i)||tAe(t,n,l,i),!o(r,i))throw new Error(`Can not add duplicate data to ${t}`);r[n]=i}}}}Sa.updateGlobal=D$("global");Sa.updateInput=D$("input");Sa.updateOutput=D$("output");function x0t(t,e){let r=t.length-1,n=rAe(t,r);Sa.updateInput(e,n)}Sa.addInputAttributes=x0t;function w0t(t,e){let r=t.length-1,n=nAe(t,r);Sa.updateOutput(e,n)}Sa.addOutputAttributes=w0t;function S0t(t,e){if(!Buffer.isBuffer(e)||e.length<4)throw new Error("Set Version: Invalid Transaction");return e.writeUInt32LE(t,0),e}Sa.defaultVersionSetter=S0t;function A0t(t,e){if(!Buffer.isBuffer(e)||e.length<4)throw new Error("Set Locktime: Invalid Transaction");return e.writeUInt32LE(t,e.length-4),e}Sa.defaultLocktimeSetter=A0t});var oAe=V(V$=>{"use strict";d();h();Object.defineProperty(V$,"__esModule",{value:!0});var E0t=eAe(),iAe=R$(),L$=ps(),Us=U$(),F$=class{constructor(e){this.inputs=[],this.outputs=[],this.globalMap={unsignedTx:e}}static fromBase64(e,r){let n=Buffer.from(e,"base64");return this.fromBuffer(n,r)}static fromHex(e,r){let n=Buffer.from(e,"hex");return this.fromBuffer(n,r)}static fromBuffer(e,r){let n=iAe.psbtFromBuffer(e,r),i=new this(n.globalMap.unsignedTx);return Object.assign(i,n),i}toBase64(){return this.toBuffer().toString("base64")}toHex(){return this.toBuffer().toString("hex")}toBuffer(){return iAe.psbtToBuffer(this)}updateGlobal(e){return Us.updateGlobal(e,this.globalMap),this}updateInput(e,r){let n=Us.checkForInput(this.inputs,e);return Us.updateInput(r,n),this}updateOutput(e,r){let n=Us.checkForOutput(this.outputs,e);return Us.updateOutput(r,n),this}addUnknownKeyValToGlobal(e){return Us.checkHasKey(e,this.globalMap.unknownKeyVals,Us.getEnumLength(L$.GlobalTypes)),this.globalMap.unknownKeyVals||(this.globalMap.unknownKeyVals=[]),this.globalMap.unknownKeyVals.push(e),this}addUnknownKeyValToInput(e,r){let n=Us.checkForInput(this.inputs,e);return Us.checkHasKey(r,n.unknownKeyVals,Us.getEnumLength(L$.InputTypes)),n.unknownKeyVals||(n.unknownKeyVals=[]),n.unknownKeyVals.push(r),this}addUnknownKeyValToOutput(e,r){let n=Us.checkForOutput(this.outputs,e);return Us.checkHasKey(r,n.unknownKeyVals,Us.getEnumLength(L$.OutputTypes)),n.unknownKeyVals||(n.unknownKeyVals=[]),n.unknownKeyVals.push(r),this}addInput(e){this.globalMap.unsignedTx.addInput(e),this.inputs.push({unknownKeyVals:[]});let r=e.unknownKeyVals||[],n=this.inputs.length-1;if(!Array.isArray(r))throw new Error("unknownKeyVals must be an Array");return r.forEach(i=>this.addUnknownKeyValToInput(n,i)),Us.addInputAttributes(this.inputs,e),this}addOutput(e){this.globalMap.unsignedTx.addOutput(e),this.outputs.push({unknownKeyVals:[]});let r=e.unknownKeyVals||[],n=this.outputs.length-1;if(!Array.isArray(r))throw new Error("unknownKeyVals must be an Array");return r.forEach(i=>this.addUnknownKeyValToOutput(n,i)),Us.addOutputAttributes(this.outputs,e),this}clearFinalizedInput(e){let r=Us.checkForInput(this.inputs,e);Us.inputCheckUncleanFinalized(e,r);for(let n of Object.keys(r))["witnessUtxo","nonWitnessUtxo","finalScriptSig","finalScriptWitness","unknownKeyVals"].includes(n)||delete r[n];return this}combine(...e){let r=E0t.combine([this].concat(e));return Object.assign(this,r),this}getTransaction(){return this.globalMap.unsignedTx.toBuffer()}};V$.Psbt=F$});var $B=V(fi=>{"use strict";d();h();Object.defineProperty(fi,"__esModule",{value:!0});fi.signatureBlocksAction=fi.checkInputForSig=fi.pubkeyInScript=fi.pubkeyPositionInScript=fi.witnessStackToScriptWitness=fi.isP2TR=fi.isP2SHScript=fi.isP2WSHScript=fi.isP2WPKH=fi.isP2PKH=fi.isP2PK=fi.isP2MS=void 0;var sAe=Cy(),u4=Za(),GB=eS(),_0t=th(),H1=J2();function j1(t){return e=>{try{return t({output:e}),!0}catch{return!1}}}fi.isP2MS=j1(H1.p2ms);fi.isP2PK=j1(H1.p2pk);fi.isP2PKH=j1(H1.p2pkh);fi.isP2WPKH=j1(H1.p2wpkh);fi.isP2WSHScript=j1(H1.p2wsh);fi.isP2SHScript=j1(H1.p2sh);fi.isP2TR=j1(H1.p2tr);function T0t(t){let e=Buffer.allocUnsafe(0);function r(s){e=Buffer.concat([e,Buffer.from(s)])}function n(s){let c=e.length,l=sAe.encodingLength(s);e=Buffer.concat([e,Buffer.allocUnsafe(l)]),sAe.encode(s,e,c)}function i(s){n(s.length),r(s)}function o(s){n(s.length),s.forEach(i)}return o(t),e}fi.witnessStackToScriptWitness=T0t;function aAe(t,e){let r=(0,_0t.hash160)(t),n=t.slice(1,33),i=u4.decompile(e);if(i===null)throw new Error("Unknown script error");return i.findIndex(o=>typeof o=="number"?!1:o.equals(t)||o.equals(r)||o.equals(n))}fi.pubkeyPositionInScript=aAe;function I0t(t,e){return aAe(t,e)!==-1}fi.pubkeyInScript=I0t;function M0t(t,e){return k0t(t).some(n=>cAe(n,u4.signature.decode,e))}fi.checkInputForSig=M0t;function cAe(t,e,r){let{hashType:n}=e(t),i=[];switch(n&GB.Transaction.SIGHASH_ANYONECANPAY&&i.push("addInput"),n&31){case GB.Transaction.SIGHASH_ALL:break;case GB.Transaction.SIGHASH_SINGLE:case GB.Transaction.SIGHASH_NONE:i.push("addOutput"),i.push("setInputSequence");break}return i.indexOf(r)===-1}fi.signatureBlocksAction=cAe;function k0t(t){let e=[];if((t.partialSig||[]).length===0){if(!t.finalScriptSig&&!t.finalScriptWitness)return[];e=P0t(t)}else e=t.partialSig;return e.map(r=>r.signature)}function P0t(t){let e=t.finalScriptSig?u4.decompile(t.finalScriptSig)||[]:[],r=t.finalScriptWitness?u4.decompile(t.finalScriptWitness)||[]:[];return e.concat(r).filter(n=>Buffer.isBuffer(n)&&u4.isCanonicalScriptSignature(n)).map(n=>({signature:n}))}});var fAe=V(ki=>{"use strict";d();h();Object.defineProperty(ki,"__esModule",{value:!0});ki.checkTaprootInputForSigs=ki.tapTreeFromList=ki.tapTreeToList=ki.tweakInternalPubKey=ki.checkTaprootOutputFields=ki.checkTaprootInputFields=ki.isTaprootOutput=ki.isTaprootInput=ki.serializeTaprootSignature=ki.tapScriptFinalizer=ki.toXOnly=void 0;var j$=Ns(),B0t=eS(),QB=$B(),Ny=BB(),R0t=J2(),C0t=$B(),O0t=t=>t.length===32?t:t.slice(1,33);ki.toXOnly=O0t;function N0t(t,e,r){let n=X0t(e,t,r);try{let o=Q0t(e,n).concat(n.script).concat(n.controlBlock);return{finalScriptWitness:(0,QB.witnessStackToScriptWitness)(o)}}catch(i){throw new Error(`Can not finalize taproot input #${t}: ${i}`)}}ki.tapScriptFinalizer=N0t;function D0t(t,e){let r=e?Buffer.from([e]):Buffer.from([]);return Buffer.concat([t,r])}ki.serializeTaprootSignature=D0t;function YB(t){return t&&!!(t.tapInternalKey||t.tapMerkleRoot||t.tapLeafScript&&t.tapLeafScript.length||t.tapBip32Derivation&&t.tapBip32Derivation.length||t.witnessUtxo&&(0,QB.isP2TR)(t.witnessUtxo.script))}ki.isTaprootInput=YB;function ZB(t,e){return t&&!!(t.tapInternalKey||t.tapTree||t.tapBip32Derivation&&t.tapBip32Derivation.length||e&&(0,QB.isP2TR)(e))}ki.isTaprootOutput=ZB;function U0t(t,e,r){$0t(t,e,r),Z0t(t,e,r)}ki.checkTaprootInputFields=U0t;function L0t(t,e,r){Y0t(t,e,r),F0t(t,e)}ki.checkTaprootOutputFields=L0t;function F0t(t,e){if(!e.tapTree&&!e.tapInternalKey)return;let r=e.tapInternalKey||t.tapInternalKey,n=e.tapTree||t.tapTree;if(r){let{script:i}=t,o=V0t(r,n);if(i&&!i.equals(o))throw new Error("Error adding output. Script or address missmatch.")}}function V0t(t,e){let r=e&&uAe(e.leaves),{output:n}=(0,R0t.p2tr)({internalPubkey:t,scriptTree:r});return n}function q0t(t,e){let r=e.tapInternalKey,n=r&&(0,Ny.tweakKey)(r,e.tapMerkleRoot);if(!n)throw new Error(`Cannot tweak tap internal key for input #${t}. Public key: ${r&&r.toString("hex")}`);return n.x}ki.tweakInternalPubKey=q0t;function K0t(t){if(!(0,j$.isTaptree)(t))throw new Error("Cannot convert taptree to tapleaf list. Expecting a tapree structure.");return K$(t)}ki.tapTreeToList=K0t;function uAe(t=[]){return t.length===1&&t[0].depth===0?{output:t[0].script,version:t[0].leafVersion}:G0t(t)}ki.tapTreeFromList=uAe;function H0t(t,e){return z0t(t).some(n=>(0,C0t.signatureBlocksAction)(n,j0t,e))}ki.checkTaprootInputForSigs=H0t;function j0t(t){return{signature:t.slice(0,64),hashType:t.slice(64)[0]||B0t.Transaction.SIGHASH_DEFAULT}}function z0t(t){let e=[];if(t.tapKeySig&&e.push(t.tapKeySig),t.tapScriptSig&&e.push(...t.tapScriptSig.map(r=>r.signature)),!e.length){let r=W0t(t.finalScriptWitness);r&&e.push(r)}return e}function W0t(t){if(!t)return;let e=t.slice(2);if(e.length===64||e.length===65)return e}function K$(t,e=[],r=0){if(r>Ny.MAX_TAPTREE_DEPTH)throw new Error("Max taptree depth exceeded.");return t?(0,j$.isTapleaf)(t)?(e.push({depth:r,leafVersion:t.version||Ny.LEAF_VERSION_TAPSCRIPT,script:t.output}),e):(t[0]&&K$(t[0],e,r+1),t[1]&&K$(t[1],e,r+1),e):[]}function G0t(t){let e;for(let r of t)if(e=H$(r,e),!e)throw new Error("No room left to insert tapleaf in tree");return e}function H$(t,e,r=0){if(r>Ny.MAX_TAPTREE_DEPTH)throw new Error("Max taptree depth exceeded.");if(t.depth===r)return e?void 0:{output:t.script,version:t.leafVersion};if((0,j$.isTapleaf)(e))return;let n=H$(t,e&&e[0],r+1);if(n)return[n,e&&e[1]];let i=H$(t,e&&e[1],r+1);if(i)return[e&&e[0],i]}function $0t(t,e,r){let n=YB(t)&&rS(e),i=rS(t)&&YB(e),o=t===e&&YB(e)&&rS(e);if(n||i||o)throw new Error(`Invalid arguments for Psbt.${r}. Cannot use both taproot and non-taproot fields.`)}function Y0t(t,e,r){let n=ZB(t)&&rS(e),i=rS(t)&&ZB(e),o=t===e&&ZB(e)&&rS(e);if(n||i||o)throw new Error(`Invalid arguments for Psbt.${r}. Cannot use both taproot and non-taproot fields.`)}function Z0t(t,e,r){if(e.tapMerkleRoot){let n=(e.tapLeafScript||[]).every(o=>q$(o,e.tapMerkleRoot)),i=(t.tapLeafScript||[]).every(o=>q$(o,e.tapMerkleRoot));if(!n||!i)throw new Error(`Invalid arguments for Psbt.${r}. Tapleaf not part of taptree.`)}else if(t.tapMerkleRoot&&!(e.tapLeafScript||[]).every(i=>q$(i,t.tapMerkleRoot)))throw new Error(`Invalid arguments for Psbt.${r}. Tapleaf not part of taptree.`)}function q$(t,e){if(!e)return!0;let r=(0,Ny.tapleafHash)({output:t.script,version:t.leafVersion});return(0,Ny.rootHashFromPath)(t.controlBlock,r).equals(e)}function Q0t(t,e){let r=(0,Ny.tapleafHash)({output:e.script,version:e.leafVersion});return(t.tapScriptSig||[]).filter(n=>n.leafHash.equals(r)).map(n=>J0t(e.script,n)).sort((n,i)=>i.positionInScript-n.positionInScript).map(n=>n.signature)}function J0t(t,e){return Object.assign({positionInScript:(0,QB.pubkeyPositionInScript)(e.pubkey,t)},e)}function X0t(t,e,r){if(!t.tapScriptSig||!t.tapScriptSig.length)throw new Error(`Can not finalize taproot input #${e}. No tapleaf script signature provided.`);let n=(t.tapLeafScript||[]).sort((i,o)=>i.controlBlock.length-o.controlBlock.length).find(i=>ept(i,t.tapScriptSig,r));if(!n)throw new Error(`Can not finalize taproot input #${e}. Signature for tapleaf script not found.`);return n}function ept(t,e,r){let n=(0,Ny.tapleafHash)({output:t.script,version:t.leafVersion});return(!r||r.equals(n))&&e.find(o=>o.leafHash.equals(n))!==void 0}function rS(t){return t&&!!(t.redeemScript||t.witnessScript||t.bip32Derivation&&t.bip32Derivation.length)}});var OAe=V(iR=>{"use strict";d();h();Object.defineProperty(iR,"__esModule",{value:!0});iR.Psbt=void 0;var lAe=oAe(),dAe=Cy(),tc=U$(),hAe=p$(),XB=n4(),tpt=Mf(),Rf=J2(),rpt=BB(),W0=Za(),Ls=eS(),qi=fAe(),Ao=$B(),npt={network:tpt.bitcoin,maximumFeeRate:5e3},W$=class t{static fromBase64(e,r={}){let n=Buffer.from(e,"base64");return this.fromBuffer(n,r)}static fromHex(e,r={}){let n=Buffer.from(e,"hex");return this.fromBuffer(n,r)}static fromBuffer(e,r={}){let n=lAe.Psbt.fromBuffer(e,ipt),i=new t(r,n);return upt(i.__CACHE.__TX,i.__CACHE),i}constructor(e={},r=new lAe.Psbt(new eR)){this.data=r,this.opts=Object.assign({},npt,e),this.__CACHE={__NON_WITNESS_UTXO_TX_CACHE:[],__NON_WITNESS_UTXO_BUF_CACHE:[],__TX_IN_CACHE:{},__TX:this.data.globalMap.unsignedTx.tx,__UNSAFE_SIGN_NONSEGWIT:!1},this.data.inputs.length===0&&this.setVersion(2);let n=(i,o,s,c)=>Object.defineProperty(i,o,{enumerable:s,writable:c});n(this,"__CACHE",!1,!0),n(this,"opts",!1,!0)}get inputCount(){return this.data.inputs.length}get version(){return this.__CACHE.__TX.version}set version(e){this.setVersion(e)}get locktime(){return this.__CACHE.__TX.locktime}set locktime(e){this.setLocktime(e)}get txInputs(){return this.__CACHE.__TX.ins.map(e=>({hash:(0,XB.cloneBuffer)(e.hash),index:e.index,sequence:e.sequence}))}get txOutputs(){return this.__CACHE.__TX.outs.map(e=>{let r;try{r=(0,hAe.fromOutputScript)(e.script,this.opts.network)}catch{}return{script:(0,XB.cloneBuffer)(e.script),value:e.value,address:r}})}combine(...e){return this.data.combine(...e.map(r=>r.data)),this}clone(){let e=t.fromBuffer(this.data.toBuffer());return e.opts=JSON.parse(JSON.stringify(this.opts)),e}setMaximumFeeRate(e){JB(e),this.opts.maximumFeeRate=e}setVersion(e){JB(e),f4(this.data.inputs,"setVersion");let r=this.__CACHE;return r.__TX.version=e,r.__EXTRACTED_TX=void 0,this}setLocktime(e){JB(e),f4(this.data.inputs,"setLocktime");let r=this.__CACHE;return r.__TX.locktime=e,r.__EXTRACTED_TX=void 0,this}setInputSequence(e,r){JB(r),f4(this.data.inputs,"setInputSequence");let n=this.__CACHE;if(n.__TX.ins.length<=e)throw new Error("Input index too high");return n.__TX.ins[e].sequence=r,n.__EXTRACTED_TX=void 0,this}addInputs(e){return e.forEach(r=>this.addInput(r)),this}addInput(e){if(arguments.length>1||!e||e.hash===void 0||e.index===void 0)throw new Error("Invalid arguments for Psbt.addInput. Requires single object with at least [hash] and [index]");(0,qi.checkTaprootInputFields)(e,e,"addInput"),f4(this.data.inputs,"addInput"),e.witnessScript&&tR(e.witnessScript);let r=this.__CACHE;this.data.addInput(e);let n=r.__TX.ins[r.__TX.ins.length-1];EAe(r,n);let i=this.data.inputs.length-1,o=this.data.inputs[i];return o.nonWitnessUtxo&&$$(this.__CACHE,o,i),r.__FEE=void 0,r.__FEE_RATE=void 0,r.__EXTRACTED_TX=void 0,this}addOutputs(e){return e.forEach(r=>this.addOutput(r)),this}addOutput(e){if(arguments.length>1||!e||e.value===void 0||e.address===void 0&&e.script===void 0)throw new Error("Invalid arguments for Psbt.addOutput. Requires single object with at least [script or address] and [value]");f4(this.data.inputs,"addOutput");let{address:r}=e;if(typeof r=="string"){let{network:i}=this.opts,o=(0,hAe.toOutputScript)(r,i);e=Object.assign(e,{script:o})}(0,qi.checkTaprootOutputFields)(e,e,"addOutput");let n=this.__CACHE;return this.data.addOutput(e),n.__FEE=void 0,n.__FEE_RATE=void 0,n.__EXTRACTED_TX=void 0,this}extractTransaction(e){if(!this.data.inputs.every(SAe))throw new Error("Not finalized");let r=this.__CACHE;if(e||spt(this,r,this.opts),r.__EXTRACTED_TX)return r.__EXTRACTED_TX;let n=r.__TX.clone();return PAe(this.data.inputs,n,r,!0),n}getFeeRate(){return bAe("__FEE_RATE","fee rate",this.data.inputs,this.__CACHE)}getFee(){return bAe("__FEE","fee",this.data.inputs,this.__CACHE)}finalizeAllInputs(){return(0,tc.checkForInput)(this.data.inputs,0),l4(this.data.inputs.length).forEach(e=>this.finalizeInput(e)),this}finalizeInput(e,r){let n=(0,tc.checkForInput)(this.data.inputs,e);return(0,qi.isTaprootInput)(n)?this._finalizeTaprootInput(e,n,void 0,r):this._finalizeInput(e,n,r)}finalizeTaprootInput(e,r,n=qi.tapScriptFinalizer){let i=(0,tc.checkForInput)(this.data.inputs,e);if((0,qi.isTaprootInput)(i))return this._finalizeTaprootInput(e,i,r,n);throw new Error(`Cannot finalize input #${e}. Not Taproot.`)}_finalizeInput(e,r,n=fpt){let{script:i,isP2SH:o,isP2WSH:s,isSegwit:c}=ppt(e,r,this.__CACHE);if(!i)throw new Error(`No script found for input #${e}`);apt(r);let{finalScriptSig:l,finalScriptWitness:m}=n(e,r,i,c,o,s);if(l&&this.data.updateInput(e,{finalScriptSig:l}),m&&this.data.updateInput(e,{finalScriptWitness:m}),!l&&!m)throw new Error(`Unknown error finalizing input #${e}`);return this.data.clearFinalizedInput(e),this}_finalizeTaprootInput(e,r,n,i=qi.tapScriptFinalizer){if(!r.witnessUtxo)throw new Error(`Cannot finalize input #${e}. Missing withness utxo.`);if(r.tapKeySig){let o=Rf.p2tr({output:r.witnessUtxo.script,signature:r.tapKeySig}),s=(0,Ao.witnessStackToScriptWitness)(o.witness);this.data.updateInput(e,{finalScriptWitness:s})}else{let{finalScriptWitness:o}=i(e,r,n);this.data.updateInput(e,{finalScriptWitness:o})}return this.data.clearFinalizedInput(e),this}getInputType(e){let r=(0,tc.checkForInput)(this.data.inputs,e),n=BAe(e,r,this.__CACHE),i=nR(n,e,"input",r.redeemScript||vpt(r.finalScriptSig),r.witnessScript||xpt(r.finalScriptWitness)),o=i.type==="raw"?"":i.type+"-",s=CAe(i.meaningfulScript);return o+s}inputHasPubkey(e,r){let n=(0,tc.checkForInput)(this.data.inputs,e);return gpt(r,n,e,this.__CACHE)}inputHasHDKey(e,r){let n=(0,tc.checkForInput)(this.data.inputs,e),i=mAe(r);return!!n.bip32Derivation&&n.bip32Derivation.some(i)}outputHasPubkey(e,r){let n=(0,tc.checkForOutput)(this.data.outputs,e);return bpt(r,n,e,this.__CACHE)}outputHasHDKey(e,r){let n=(0,tc.checkForOutput)(this.data.outputs,e),i=mAe(r);return!!n.bip32Derivation&&n.bip32Derivation.some(i)}validateSignaturesOfAllInputs(e){return(0,tc.checkForInput)(this.data.inputs,0),l4(this.data.inputs.length).map(n=>this.validateSignaturesOfInput(n,e)).reduce((n,i)=>i===!0&&n,!0)}validateSignaturesOfInput(e,r,n){let i=this.data.inputs[e];return(0,qi.isTaprootInput)(i)?this.validateSignaturesOfTaprootInput(e,r,n):this._validateSignaturesOfInput(e,r,n)}_validateSignaturesOfInput(e,r,n){let i=this.data.inputs[e],o=(i||{}).partialSig;if(!i||!o||o.length<1)throw new Error("No signatures to validate");if(typeof r!="function")throw new Error("Need validator function to validate signatures");let s=n?o.filter(b=>b.pubkey.equals(n)):o;if(s.length<1)throw new Error("No signatures for this pubkey");let c=[],l,m,w;for(let b of s){let E=W0.signature.decode(b.signature),{hash:I,script:M}=w!==E.hashType?TAe(e,Object.assign({},i,{sighashType:E.hashType}),this.__CACHE,!0):{hash:l,script:m};w=E.hashType,l=I,m=M,AAe(b.pubkey,M,"verify"),c.push(r(b.pubkey,I,E.signature))}return c.every(b=>b===!0)}validateSignaturesOfTaprootInput(e,r,n){let i=this.data.inputs[e],o=(i||{}).tapKeySig,s=(i||{}).tapScriptSig;if(!i&&!o&&!(s&&!s.length))throw new Error("No signatures to validate");if(typeof r!="function")throw new Error("Need validator function to validate signatures");n=n&&(0,qi.toXOnly)(n);let c=n?G$(e,i,this.data.inputs,n,this.__CACHE):dpt(e,i,this.data.inputs,this.__CACHE);if(!c.length)throw new Error("No signatures for this pubkey");let l=c.find(w=>!w.leafHash),m=0;if(o&&l){if(!r(l.pubkey,l.hash,xAe(o)))return!1;m++}if(s)for(let w of s){let b=c.find(E=>w.pubkey.equals(E.pubkey));if(b){if(!r(w.pubkey,b.hash,xAe(w.signature)))return!1;m++}}return m>0}signAllInputsHD(e,r=[Ls.Transaction.SIGHASH_ALL]){if(!e||!e.publicKey||!e.fingerprint)throw new Error("Need HDSigner to sign input");let n=[];for(let i of l4(this.data.inputs.length))try{this.signInputHD(i,e,r),n.push(!0)}catch{n.push(!1)}if(n.every(i=>i===!1))throw new Error("No inputs were signed");return this}signAllInputsHDAsync(e,r=[Ls.Transaction.SIGHASH_ALL]){return new Promise((n,i)=>{if(!e||!e.publicKey||!e.fingerprint)return i(new Error("Need HDSigner to sign input"));let o=[],s=[];for(let c of l4(this.data.inputs.length))s.push(this.signInputHDAsync(c,e,r).then(()=>{o.push(!0)},()=>{o.push(!1)}));return Promise.all(s).then(()=>{if(o.every(c=>c===!1))return i(new Error("No inputs were signed"));n()})})}signInputHD(e,r,n=[Ls.Transaction.SIGHASH_ALL]){if(!r||!r.publicKey||!r.fingerprint)throw new Error("Need HDSigner to sign input");return wAe(e,this.data.inputs,r).forEach(o=>this.signInput(e,o,n)),this}signInputHDAsync(e,r,n=[Ls.Transaction.SIGHASH_ALL]){return new Promise((i,o)=>{if(!r||!r.publicKey||!r.fingerprint)return o(new Error("Need HDSigner to sign input"));let c=wAe(e,this.data.inputs,r).map(l=>this.signInputAsync(e,l,n));return Promise.all(c).then(()=>{i()}).catch(o)})}signAllInputs(e,r){if(!e||!e.publicKey)throw new Error("Need Signer to sign input");let n=[];for(let i of l4(this.data.inputs.length))try{this.signInput(i,e,r),n.push(!0)}catch{n.push(!1)}if(n.every(i=>i===!1))throw new Error("No inputs were signed");return this}signAllInputsAsync(e,r){return new Promise((n,i)=>{if(!e||!e.publicKey)return i(new Error("Need Signer to sign input"));let o=[],s=[];for(let[c]of this.data.inputs.entries())s.push(this.signInputAsync(c,e,r).then(()=>{o.push(!0)},()=>{o.push(!1)}));return Promise.all(s).then(()=>{if(o.every(c=>c===!1))return i(new Error("No inputs were signed"));n()})})}signInput(e,r,n){if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let i=(0,tc.checkForInput)(this.data.inputs,e);return(0,qi.isTaprootInput)(i)?this._signTaprootInput(e,i,r,void 0,n):this._signInput(e,r,n)}signTaprootInput(e,r,n,i){if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let o=(0,tc.checkForInput)(this.data.inputs,e);if((0,qi.isTaprootInput)(o))return this._signTaprootInput(e,o,r,n,i);throw new Error(`Input #${e} is not of type Taproot.`)}_signInput(e,r,n=[Ls.Transaction.SIGHASH_ALL]){let{hash:i,sighashType:o}=vAe(this.data.inputs,e,r.publicKey,this.__CACHE,n),s=[{pubkey:r.publicKey,signature:W0.signature.encode(r.sign(i),o)}];return this.data.updateInput(e,{partialSig:s}),this}_signTaprootInput(e,r,n,i,o=[Ls.Transaction.SIGHASH_DEFAULT]){let s=this.checkTaprootHashesForSig(e,r,n,i,o),c=s.filter(m=>!m.leafHash).map(m=>(0,qi.serializeTaprootSignature)(n.signSchnorr(m.hash),r.sighashType))[0],l=s.filter(m=>!!m.leafHash).map(m=>({pubkey:(0,qi.toXOnly)(n.publicKey),signature:(0,qi.serializeTaprootSignature)(n.signSchnorr(m.hash),r.sighashType),leafHash:m.leafHash}));return c&&this.data.updateInput(e,{tapKeySig:c}),l.length&&this.data.updateInput(e,{tapScriptSig:l}),this}signInputAsync(e,r,n){return Promise.resolve().then(()=>{if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let i=(0,tc.checkForInput)(this.data.inputs,e);return(0,qi.isTaprootInput)(i)?this._signTaprootInputAsync(e,i,r,void 0,n):this._signInputAsync(e,r,n)})}signTaprootInputAsync(e,r,n,i){return Promise.resolve().then(()=>{if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let o=(0,tc.checkForInput)(this.data.inputs,e);if((0,qi.isTaprootInput)(o))return this._signTaprootInputAsync(e,o,r,n,i);throw new Error(`Input #${e} is not of type Taproot.`)})}_signInputAsync(e,r,n=[Ls.Transaction.SIGHASH_ALL]){let{hash:i,sighashType:o}=vAe(this.data.inputs,e,r.publicKey,this.__CACHE,n);return Promise.resolve(r.sign(i)).then(s=>{let c=[{pubkey:r.publicKey,signature:W0.signature.encode(s,o)}];this.data.updateInput(e,{partialSig:c})})}async _signTaprootInputAsync(e,r,n,i,o=[Ls.Transaction.SIGHASH_DEFAULT]){let s=this.checkTaprootHashesForSig(e,r,n,i,o),c=[],l=s.filter(w=>!w.leafHash)[0];if(l){let w=Promise.resolve(n.signSchnorr(l.hash)).then(b=>({tapKeySig:(0,qi.serializeTaprootSignature)(b,r.sighashType)}));c.push(w)}let m=s.filter(w=>!!w.leafHash);if(m.length){let w=m.map(b=>Promise.resolve(n.signSchnorr(b.hash)).then(E=>({tapScriptSig:[{pubkey:(0,qi.toXOnly)(n.publicKey),signature:(0,qi.serializeTaprootSignature)(E,r.sighashType),leafHash:b.leafHash}]})));c.push(...w)}return Promise.all(c).then(w=>{w.forEach(b=>this.data.updateInput(e,b))})}checkTaprootHashesForSig(e,r,n,i,o){if(typeof n.signSchnorr!="function")throw new Error(`Need Schnorr Signer to sign taproot input #${e}.`);let s=G$(e,r,this.data.inputs,n.publicKey,this.__CACHE,i,o);if(!s||!s.length)throw new Error(`Can not sign for input #${e} with the key ${n.publicKey.toString("hex")}`);return s}toBuffer(){return z$(this.__CACHE),this.data.toBuffer()}toHex(){return z$(this.__CACHE),this.data.toHex()}toBase64(){return z$(this.__CACHE),this.data.toBase64()}updateGlobal(e){return this.data.updateGlobal(e),this}updateInput(e,r){return r.witnessScript&&tR(r.witnessScript),(0,qi.checkTaprootInputFields)(this.data.inputs[e],r,"updateInput"),this.data.updateInput(e,r),r.nonWitnessUtxo&&$$(this.__CACHE,this.data.inputs[e],e),this}updateOutput(e,r){let n=this.data.outputs[e];return(0,qi.checkTaprootOutputFields)(n,r,"updateOutput"),this.data.updateOutput(e,r),this}addUnknownKeyValToGlobal(e){return this.data.addUnknownKeyValToGlobal(e),this}addUnknownKeyValToInput(e,r){return this.data.addUnknownKeyValToInput(e,r),this}addUnknownKeyValToOutput(e,r){return this.data.addUnknownKeyValToOutput(e,r),this}clearFinalizedInput(e){return this.data.clearFinalizedInput(e),this}};iR.Psbt=W$;var ipt=t=>new eR(t),eR=class{constructor(e=Buffer.from([2,0,0,0,0,0,0,0,0,0])){this.tx=Ls.Transaction.fromBuffer(e),cpt(this.tx),Object.defineProperty(this,"tx",{enumerable:!1,writable:!0})}getInputOutputCounts(){return{inputCount:this.tx.ins.length,outputCount:this.tx.outs.length}}addInput(e){if(e.hash===void 0||e.index===void 0||!Buffer.isBuffer(e.hash)&&typeof e.hash!="string"||typeof e.index!="number")throw new Error("Error adding input.");let r=typeof e.hash=="string"?(0,XB.reverseBuffer)(Buffer.from(e.hash,"hex")):e.hash;this.tx.addInput(r,e.index,e.sequence)}addOutput(e){if(e.script===void 0||e.value===void 0||!Buffer.isBuffer(e.script)||typeof e.value!="number")throw new Error("Error adding output.");this.tx.addOutput(e.script,e.value)}toBuffer(){return this.tx.toBuffer()}};function opt(t,e,r){switch(r){case"pubkey":case"pubkeyhash":case"witnesspubkeyhash":return pAe(1,t.partialSig);case"multisig":let n=Rf.p2ms({output:e});return pAe(n.m,t.partialSig,n.pubkeys);default:return!1}}function z$(t){if(t.__UNSAFE_SIGN_NONSEGWIT!==!1)throw new Error("Not BIP174 compliant, can not export")}function pAe(t,e,r){if(!e)return!1;let n;if(r?n=r.map(i=>{let o=wpt(i);return e.find(s=>s.pubkey.equals(o))}).filter(i=>!!i):n=e,n.length>t)throw new Error("Too many signatures");return n.length===t}function SAe(t){return!!t.finalScriptSig||!!t.finalScriptWitness}function mAe(t){return e=>!(!e.masterFingerprint.equals(t.fingerprint)||!t.derivePath(e.path).publicKey.equals(e.pubkey))}function JB(t){if(typeof t!="number"||t!==Math.floor(t)||t>4294967295||t<0)throw new Error("Invalid 32 bit integer")}function spt(t,e,r){let n=e.__FEE_RATE||t.getFeeRate(),i=e.__EXTRACTED_TX.virtualSize(),o=n*i;if(n>=r.maximumFeeRate)throw new Error(`Warning: You are paying around ${(o/1e8).toFixed(8)} in fees, which is ${n} satoshi per byte for a transaction with a VSize of ${i} bytes (segwit counted as 0.25 byte per byte). Use setMaximumFeeRate method to raise your threshold, or pass true to the first arg of extractTransaction.`)}function f4(t,e){t.forEach(r=>{if((0,qi.isTaprootInput)(r)?(0,qi.checkTaprootInputForSigs)(r,e):(0,Ao.checkInputForSig)(r,e))throw new Error("Can not modify transaction, signatures exist.")})}function apt(t){if(!t.sighashType||!t.partialSig)return;let{partialSig:e,sighashType:r}=t;e.forEach(n=>{let{hashType:i}=W0.signature.decode(n.signature);if(r!==i)throw new Error("Signature sighash does not match input sighash type")})}function AAe(t,e,r){if(!(0,Ao.pubkeyInScript)(t,e))throw new Error(`Can not ${r} for this input with the key ${t.toString("hex")}`)}function cpt(t){if(!t.ins.every(r=>r.script&&r.script.length===0&&r.witness&&r.witness.length===0))throw new Error("Format Error: Transaction ScriptSigs are not empty")}function upt(t,e){t.ins.forEach(r=>{EAe(e,r)})}function EAe(t,e){let r=(0,XB.reverseBuffer)(Buffer.from(e.hash)).toString("hex")+":"+e.index;if(t.__TX_IN_CACHE[r])throw new Error("Duplicate input detected.");t.__TX_IN_CACHE[r]=1}function _Ae(t,e){return(r,n,i,o)=>{let s=t({redeem:{output:i}}).output;if(!n.equals(s))throw new Error(`${e} for ${o} #${r} doesn't match the scriptPubKey in the prevout`)}}var yAe=_Ae(Rf.p2sh,"Redeem script"),gAe=_Ae(Rf.p2wsh,"Witness script");function bAe(t,e,r,n){if(!r.every(SAe))throw new Error(`PSBT must be finalized to calculate ${e}`);if(t==="__FEE_RATE"&&n.__FEE_RATE)return n.__FEE_RATE;if(t==="__FEE"&&n.__FEE)return n.__FEE;let i,o=!0;if(n.__EXTRACTED_TX?(i=n.__EXTRACTED_TX,o=!1):i=n.__TX.clone(),PAe(r,i,n,o),t==="__FEE_RATE")return n.__FEE_RATE;if(t==="__FEE")return n.__FEE}function fpt(t,e,r,n,i,o){let s=CAe(r);if(!opt(e,r,s))throw new Error(`Can not finalize input #${t}`);return lpt(r,s,e.partialSig,n,i,o)}function lpt(t,e,r,n,i,o){let s,c,l=hpt(t,e,r),m=o?Rf.p2wsh({redeem:l}):null,w=i?Rf.p2sh({redeem:m||l}):null;return n?(m?c=(0,Ao.witnessStackToScriptWitness)(m.witness):c=(0,Ao.witnessStackToScriptWitness)(l.witness),w&&(s=w.input)):w?s=w.input:s=l.input,{finalScriptSig:s,finalScriptWitness:c}}function vAe(t,e,r,n,i){let o=(0,tc.checkForInput)(t,e),{hash:s,sighashType:c,script:l}=TAe(e,o,n,!1,i);return AAe(r,l,"sign"),{hash:s,sighashType:c}}function TAe(t,e,r,n,i){let o=r.__TX,s=e.sighashType||Ls.Transaction.SIGHASH_ALL;MAe(s,i);let c,l;if(e.nonWitnessUtxo){let b=rR(r,e,t),E=o.ins[t].hash,I=b.getHash();if(!E.equals(I))throw new Error(`Non-witness UTXO hash for input #${t} doesn't match the hash specified in the prevout`);let M=o.ins[t].index;l=b.outs[M]}else if(e.witnessUtxo)l=e.witnessUtxo;else throw new Error("Need a Utxo input item for signing");let{meaningfulScript:m,type:w}=nR(l.script,t,"input",e.redeemScript,e.witnessScript);if(["p2sh-p2wsh","p2wsh"].indexOf(w)>=0)c=o.hashForWitnessV0(t,m,l.value,s);else if((0,Ao.isP2WPKH)(m)){let b=Rf.p2pkh({hash:m.slice(2)}).output;c=o.hashForWitnessV0(t,b,l.value,s)}else{if(e.nonWitnessUtxo===void 0&&r.__UNSAFE_SIGN_NONSEGWIT===!1)throw new Error(`Input #${t} has witnessUtxo but non-segwit script: ${m.toString("hex")}`);!n&&r.__UNSAFE_SIGN_NONSEGWIT!==!1&&console.warn(`Warning: Signing non-segwit inputs without the full parent transaction means there is a chance that a miner could feed you incorrect information to trick you into paying large fees. This behavior is the same as Psbt's predecesor (TransactionBuilder - now removed) when signing non-segwit scripts. You are not able to export this Psbt with toBuffer|toBase64|toHex since it is not BIP174 compliant.
*********************
PROCEED WITH CAUTION!
*********************`),c=o.hashForSignature(t,m,s)}return{script:m,sighashType:s,hash:c}}function dpt(t,e,r,n){let i=[];if(e.tapInternalKey){let s=IAe(t,e,n);s&&i.push(s)}if(e.tapScriptSig){let s=e.tapScriptSig.map(c=>c.pubkey);i.push(...s)}return i.map(s=>G$(t,e,r,s,n)).flat()}function IAe(t,e,r){let{script:n}=Y$(t,e,r);return(0,Ao.isP2TR)(n)?n.subarray(2,34):null}function xAe(t){return t.length===64?t:t.subarray(0,64)}function G$(t,e,r,n,i,o,s){let c=i.__TX,l=e.sighashType||Ls.Transaction.SIGHASH_DEFAULT;MAe(l,s);let m=r.map((M,k)=>Y$(k,M,i)),w=m.map(M=>M.script),b=m.map(M=>M.value),E=[];if(e.tapInternalKey&&!o){let M=IAe(t,e,i)||Buffer.from([]);if((0,qi.toXOnly)(n).equals(M)){let k=c.hashForWitnessV1(t,w,b,l);E.push({pubkey:n,hash:k})}}let I=(e.tapLeafScript||[]).filter(M=>(0,Ao.pubkeyInScript)(n,M.script)).map(M=>{let k=(0,rpt.tapleafHash)({output:M.script,version:M.leafVersion});return Object.assign({hash:k},M)}).filter(M=>!o||o.equals(M.hash)).map(M=>{let k=c.hashForWitnessV1(t,w,b,Ls.Transaction.SIGHASH_DEFAULT,M.hash);return{pubkey:n,hash:k,leafHash:M.hash}});return E.concat(I)}function MAe(t,e){if(e&&e.indexOf(t)<0){let r=ypt(t);throw new Error(`Sighash type is not allowed. Retry the sign method passing the sighashTypes array of whitelisted types. Sighash type: ${r}`)}}function hpt(t,e,r){let n;switch(e){case"multisig":let i=mpt(t,r);n=Rf.p2ms({output:t,signatures:i});break;case"pubkey":n=Rf.p2pk({output:t,signature:r[0].signature});break;case"pubkeyhash":n=Rf.p2pkh({output:t,pubkey:r[0].pubkey,signature:r[0].signature});break;case"witnesspubkeyhash":n=Rf.p2wpkh({output:t,pubkey:r[0].pubkey,signature:r[0].signature});break}return n}function ppt(t,e,r){let n=r.__TX,i={script:null,isSegwit:!1,isP2SH:!1,isP2WSH:!1};if(i.isP2SH=!!e.redeemScript,i.isP2WSH=!!e.witnessScript,e.witnessScript)i.script=e.witnessScript;else if(e.redeemScript)i.script=e.redeemScript;else if(e.nonWitnessUtxo){let o=rR(r,e,t),s=n.ins[t].index;i.script=o.outs[s].script}else e.witnessUtxo&&(i.script=e.witnessUtxo.script);return(e.witnessScript||(0,Ao.isP2WPKH)(i.script))&&(i.isSegwit=!0),i}function wAe(t,e,r){let n=(0,tc.checkForInput)(e,t);if(!n.bip32Derivation||n.bip32Derivation.length===0)throw new Error("Need bip32Derivation to sign with HD");let i=n.bip32Derivation.map(s=>{if(s.masterFingerprint.equals(r.fingerprint))return s}).filter(s=>!!s);if(i.length===0)throw new Error("Need one bip32Derivation masterFingerprint to match the HDSigner fingerprint");return i.map(s=>{let c=r.derivePath(s.path);if(!s.pubkey.equals(c.publicKey))throw new Error("pubkey did not match bip32Derivation");return c})}function mpt(t,e){return Rf.p2ms({output:t}).pubkeys.map(n=>(e.filter(i=>i.pubkey.equals(n))[0]||{}).signature).filter(n=>!!n)}function kAe(t){let e=0;function r(s){return e+=s,t.slice(e-s,e)}function n(){let s=dAe.decode(t,e);return e+=dAe.decode.bytes,s}function i(){return r(n())}function o(){let s=n(),c=[];for(let l=0;l<s;l++)c.push(i());return c}return o()}function ypt(t){let e=t&Ls.Transaction.SIGHASH_ANYONECANPAY?"SIGHASH_ANYONECANPAY | ":"";switch(t&31){case Ls.Transaction.SIGHASH_ALL:e+="SIGHASH_ALL";break;case Ls.Transaction.SIGHASH_SINGLE:e+="SIGHASH_SINGLE";break;case Ls.Transaction.SIGHASH_NONE:e+="SIGHASH_NONE";break}return e}function $$(t,e,r){t.__NON_WITNESS_UTXO_BUF_CACHE[r]=e.nonWitnessUtxo;let n=Ls.Transaction.fromBuffer(e.nonWitnessUtxo);t.__NON_WITNESS_UTXO_TX_CACHE[r]=n;let i=t,o=r;delete e.nonWitnessUtxo,Object.defineProperty(e,"nonWitnessUtxo",{enumerable:!0,get(){let s=i.__NON_WITNESS_UTXO_BUF_CACHE[o],c=i.__NON_WITNESS_UTXO_TX_CACHE[o];if(s!==void 0)return s;{let l=c.toBuffer();return i.__NON_WITNESS_UTXO_BUF_CACHE[o]=l,l}},set(s){i.__NON_WITNESS_UTXO_BUF_CACHE[o]=s}})}function PAe(t,e,r,n){let i=0;t.forEach((l,m)=>{if(n&&l.finalScriptSig&&(e.ins[m].script=l.finalScriptSig),n&&l.finalScriptWitness&&(e.ins[m].witness=kAe(l.finalScriptWitness)),l.witnessUtxo)i+=l.witnessUtxo.value;else if(l.nonWitnessUtxo){let w=rR(r,l,m),b=e.ins[m].index,E=w.outs[b];i+=E.value}});let o=e.outs.reduce((l,m)=>l+m.value,0),s=i-o;if(s<0)throw new Error("Outputs are spending more than Inputs");let c=e.virtualSize();r.__FEE=s,r.__EXTRACTED_TX=e,r.__FEE_RATE=Math.floor(s/c)}function rR(t,e,r){let n=t.__NON_WITNESS_UTXO_TX_CACHE;return n[r]||$$(t,e,r),n[r]}function BAe(t,e,r){let{script:n}=Y$(t,e,r);return n}function Y$(t,e,r){if(e.witnessUtxo!==void 0)return{script:e.witnessUtxo.script,value:e.witnessUtxo.value};if(e.nonWitnessUtxo!==void 0){let i=rR(r,e,t).outs[r.__TX.ins[t].index];return{script:i.script,value:i.value}}else throw new Error("Can't find pubkey in input without Utxo data")}function gpt(t,e,r,n){let i=BAe(r,e,n),{meaningfulScript:o}=nR(i,r,"input",e.redeemScript,e.witnessScript);return(0,Ao.pubkeyInScript)(t,o)}function bpt(t,e,r,n){let i=n.__TX.outs[r].script,{meaningfulScript:o}=nR(i,r,"output",e.redeemScript,e.witnessScript);return(0,Ao.pubkeyInScript)(t,o)}function vpt(t){if(!t)return;let e=W0.decompile(t);if(!e)return;let r=e[e.length-1];if(!(!Buffer.isBuffer(r)||RAe(r)||Spt(r)||!W0.decompile(r)))return r}function xpt(t){if(!t)return;let e=kAe(t),r=e[e.length-1];if(!(RAe(r)||!W0.decompile(r)))return r}function wpt(t){if(t.length===65){let e=t[64]&1,r=t.slice(0,33);return r[0]=2|e,r}return t.slice()}function RAe(t){return t.length===33&&W0.isCanonicalPubKey(t)}function Spt(t){return W0.isCanonicalScriptSignature(t)}function nR(t,e,r,n,i){let o=(0,Ao.isP2SHScript)(t),s=o&&n&&(0,Ao.isP2WSHScript)(n),c=(0,Ao.isP2WSHScript)(t);if(o&&n===void 0)throw new Error("scriptPubkey is P2SH but redeemScript missing");if((c||s)&&i===void 0)throw new Error("scriptPubkey or redeemScript is P2WSH but witnessScript missing");let l;return s?(l=i,yAe(e,t,n,r),gAe(e,n,i,r),tR(l)):c?(l=i,gAe(e,t,i,r),tR(l)):o?(l=n,yAe(e,t,n,r)):l=t,{meaningfulScript:l,type:s?"p2sh-p2wsh":o?"p2sh":c?"p2wsh":"raw"}}function tR(t){if((0,Ao.isP2WPKH)(t)||(0,Ao.isP2SHScript)(t))throw new Error("P2WPKH or P2SH can not be contained within P2WSH")}function CAe(t){return(0,Ao.isP2WPKH)(t)?"witnesspubkeyhash":(0,Ao.isP2PKH)(t)?"pubkeyhash":(0,Ao.isP2MS)(t)?"multisig":(0,Ao.isP2PK)(t)?"pubkey":"nonstandard"}function l4(t){return[...Array(t).keys()]}});var d4=V(to=>{"use strict";d();h();Object.defineProperty(to,"__esModule",{value:!0});to.initEccLib=to.Transaction=to.opcodes=to.Psbt=to.Block=to.script=to.payments=to.networks=to.crypto=to.address=void 0;var Apt=p$();to.address=Apt;var Ept=th();to.crypto=Ept;var _pt=Mf();to.networks=_pt;var Tpt=J2();to.payments=Tpt;var Ipt=Za();to.script=Ipt;var Mpt=rSe();Object.defineProperty(to,"Block",{enumerable:!0,get:function(){return Mpt.Block}});var kpt=OAe();Object.defineProperty(to,"Psbt",{enumerable:!0,get:function(){return kpt.Psbt}});var Ppt=JP();Object.defineProperty(to,"opcodes",{enumerable:!0,get:function(){return Ppt.OPS}});var Bpt=eS();Object.defineProperty(to,"Transaction",{enumerable:!0,get:function(){return Bpt.Transaction}});var Rpt=PB();Object.defineProperty(to,"initEccLib",{enumerable:!0,get:function(){return Rpt.initEccLib}})});var $0=V(Qr=>{"use strict";d();h();Object.defineProperty(Qr,"__esModule",{value:!0});Qr.DEFAULT_TLRU_TTL_MS=Qr.BANDIT_ASSIGNMENT_SHARDS=Qr.MAX_EVENT_QUEUE_SIZE=Qr.NULL_SENTINEL=Qr.SESSION_ASSIGNMENT_CONFIG_LOADED=Qr.PRECOMPUTED_FLAGS_ENDPOINT=Qr.PRECOMPUTED_BASE_URL=Qr.BANDIT_ENDPOINT=Qr.UFC_ENDPOINT=Qr.BASE_URL=Qr.DEFAULT_POLL_CONFIG_REQUEST_RETRIES=Qr.DEFAULT_INITIAL_CONFIG_REQUEST_RETRIES=Qr.POLL_JITTER_PCT=Qr.DEFAULT_POLL_INTERVAL_MS=Qr.REQUEST_TIMEOUT_MILLIS=Qr.DEFAULT_REQUEST_TIMEOUT_MS=void 0;Qr.DEFAULT_REQUEST_TIMEOUT_MS=5e3;Qr.REQUEST_TIMEOUT_MILLIS=Qr.DEFAULT_REQUEST_TIMEOUT_MS;Qr.DEFAULT_POLL_INTERVAL_MS=3e4;Qr.POLL_JITTER_PCT=.1;Qr.DEFAULT_INITIAL_CONFIG_REQUEST_RETRIES=1;Qr.DEFAULT_POLL_CONFIG_REQUEST_RETRIES=7;Qr.BASE_URL="https://fscdn.eppo.cloud/api";Qr.UFC_ENDPOINT="/flag-config/v1/config";Qr.BANDIT_ENDPOINT="/flag-config/v1/bandits";Qr.PRECOMPUTED_BASE_URL="https://fs-edge-assignment.eppo.cloud";Qr.PRECOMPUTED_FLAGS_ENDPOINT="/assignments";Qr.SESSION_ASSIGNMENT_CONFIG_LOADED="eppo-session-assignment-config-loaded";Qr.NULL_SENTINEL="EPPO_NULL";Qr.MAX_EVENT_QUEUE_SIZE=100;Qr.BANDIT_ASSIGNMENT_SHARDS=1e4;Qr.DEFAULT_TLRU_TTL_MS=6e5});var VR=V(HY=>{"use strict";d();h();Object.defineProperty(HY,"__esModule",{value:!0});var FR=$0(),KY=class{constructor(e){this.params=e,this.params.baseUrl=e.baseUrl??FR.BASE_URL}endpoint(e){let r=new URL(this.params.baseUrl+e);return Object.entries(this.params.queryParams??{}).forEach(([n,i])=>r.searchParams.append(n,i)),r}ufcEndpoint(){return this.endpoint(FR.UFC_ENDPOINT)}banditParametersEndpoint(){return this.endpoint(FR.BANDIT_ENDPOINT)}precomputedFlagsEndpoint(){return this.endpoint(FR.PRECOMPUTED_FLAGS_ENDPOINT)}};HY.default=KY});var BEe=V((WAr,PEe)=>{"use strict";d();h();function kmt(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}PEe.exports=Pmt;function Pmt(t,e,r){var n=r&&r.stringify||kmt,i=1;if(typeof t=="object"&&t!==null){var o=e.length+i;if(o===1)return t;var s=new Array(o);s[0]=n(t);for(var c=1;c<o;c++)s[c]=n(e[c]);return s.join(" ")}if(typeof t!="string")return t;var l=e.length;if(l===0)return t;for(var m="",w=1-i,b=-1,E=t&&t.length||0,I=0;I<E;){if(t.charCodeAt(I)===37&&I+1<E){switch(b=b>-1?b:0,t.charCodeAt(I+1)){case 100:case 102:if(w>=l||e[w]==null)break;b<I&&(m+=t.slice(b,I)),m+=Number(e[w]),b=I+2,I++;break;case 105:if(w>=l||e[w]==null)break;b<I&&(m+=t.slice(b,I)),m+=Math.floor(Number(e[w])),b=I+2,I++;break;case 79:case 111:case 106:if(w>=l||e[w]===void 0)break;b<I&&(m+=t.slice(b,I));var M=typeof e[w];if(M==="string"){m+="'"+e[w]+"'",b=I+2,I++;break}if(M==="function"){m+=e[w].name||"<anonymous>",b=I+2,I++;break}m+=n(e[w]),b=I+2,I++;break;case 115:if(w>=l)break;b<I&&(m+=t.slice(b,I)),m+=String(e[w]),b=I+2,I++;break;case 37:b<I&&(m+=t.slice(b,I)),m+="%",b=I+2,I++,w--;break}++w}++I}return b===-1?t:(b<E&&(m+=t.slice(b)),m)}});var UEe=V((YAr,KR)=>{"use strict";d();h();var REe=BEe();KR.exports=Y0;var U4=zmt().console||{},Bmt={mapHttpRequest:qR,mapHttpResponse:qR,wrapRequestSerializer:jY,wrapResponseSerializer:jY,wrapErrorSerializer:jY,req:qR,res:qR,err:OEe,errWithCause:OEe};function Wy(t,e){return t==="silent"?1/0:e.levels.values[t]}var GY=Symbol("pino.logFuncs"),zY=Symbol("pino.hierarchy"),Rmt={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function CEe(t,e){let r={logger:e,parent:t[zY]};e[zY]=r}function Cmt(t,e,r){let n={};e.forEach(i=>{n[i]=r[i]?r[i]:U4[i]||U4[Rmt[i]||"log"]||cS}),t[GY]=n}function Omt(t,e){return Array.isArray(t)?t.filter(function(n){return n!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function Y0(t){t=t||{},t.browser=t.browser||{};let e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");let r=t.browser.write||U4;t.browser.write&&(t.browser.asObject=!0);let n=t.serializers||{},i=Omt(t.browser.serialize,n),o=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(o=!1);let s=Object.keys(t.customLevels||{}),c=["error","fatal","warn","info","debug","trace"].concat(s);typeof r=="function"&&c.forEach(function(k){r[k]=r}),(t.enabled===!1||t.browser.disabled)&&(t.level="silent");let l=t.level||"info",m=Object.create(r);m.log||(m.log=cS),Cmt(m,c,r),CEe({},m),Object.defineProperty(m,"levelVal",{get:b}),Object.defineProperty(m,"level",{get:E,set:I});let w={transmit:e,serialize:i,asObject:t.browser.asObject,formatters:t.browser.formatters,levels:c,timestamp:Kmt(t),messageKey:t.messageKey||"msg",onChild:t.onChild||cS};m.levels=Nmt(t),m.level=l,m.setMaxListeners=m.getMaxListeners=m.emit=m.addListener=m.on=m.prependListener=m.once=m.prependOnceListener=m.removeListener=m.removeAllListeners=m.listeners=m.listenerCount=m.eventNames=m.write=m.flush=cS,m.serializers=n,m._serialize=i,m._stdErrSerialize=o,m.child=function(...k){return M.call(this,w,...k)},e&&(m._logEvent=WY());function b(){return Wy(this.level,this)}function E(){return this._level}function I(k){if(k!=="silent"&&!this.levels.values[k])throw Error("unknown level "+k);this._level=k,Z1(this,w,m,"error"),Z1(this,w,m,"fatal"),Z1(this,w,m,"warn"),Z1(this,w,m,"info"),Z1(this,w,m,"debug"),Z1(this,w,m,"trace"),s.forEach(R=>{Z1(this,w,m,R)})}function M(k,R,B){if(!R)throw new Error("missing bindings for child Pino");B=B||{},i&&R.serializers&&(B.serializers=R.serializers);let U=B.serializers;if(i&&U){var P=Object.assign({},n,U),F=t.browser.serialize===!0?Object.keys(P):i;delete R.serializers,$Y([R],F,P,this._stdErrSerialize)}function q(re){this._childLevel=(re._childLevel|0)+1,this.bindings=R,P&&(this.serializers=P,this._serialize=F),e&&(this._logEvent=WY([].concat(re._logEvent.bindings,R)))}q.prototype=this;let K=new q(this);return CEe(this,K),K.child=function(...re){return M.call(this,k,...re)},K.level=B.level||this.level,k.onChild(K),K}return m}function Nmt(t){let e=t.customLevels||{},r=Object.assign({},Y0.levels.values,e),n=Object.assign({},Y0.levels.labels,Dmt(e));return{values:r,labels:n}}function Dmt(t){let e={};return Object.keys(t).forEach(function(r){e[t[r]]=r}),e}Y0.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};Y0.stdSerializers=Bmt;Y0.stdTimeFunctions=Object.assign({},{nullTime:NEe,epochTime:DEe,unixTime:Hmt,isoTime:jmt});function Umt(t){let e=[];t.bindings&&e.push(t.bindings);let r=t[zY];for(;r.parent;)r=r.parent,r.logger.bindings&&e.push(r.logger.bindings);return e.reverse()}function Z1(t,e,r,n){if(Object.defineProperty(t,n,{value:Wy(t.level,r)>Wy(n,r)?cS:r[GY][n],writable:!0,enumerable:!0,configurable:!0}),t[n]===cS){if(!e.transmit)return;let o=e.transmit.level||t.level,s=Wy(o,r);if(Wy(n,r)<s)return}t[n]=Fmt(t,e,r,n);let i=Umt(t);i.length!==0&&(t[n]=Lmt(i,t[n]))}function Lmt(t,e){return function(){return e.apply(this,[...t,...arguments])}}function Fmt(t,e,r,n){return function(i){return function(){let s=e.timestamp(),c=new Array(arguments.length),l=Object.getPrototypeOf&&Object.getPrototypeOf(this)===U4?U4:this;for(var m=0;m<c.length;m++)c[m]=arguments[m];var w=!1;if(e.serialize&&($Y(c,this._serialize,this.serializers,this._stdErrSerialize),w=!0),e.asObject||e.formatters?i.call(l,Vmt(this,n,c,s,e)):i.apply(l,c),e.transmit){let b=e.transmit.level||t._level,E=Wy(b,r),I=Wy(n,r);if(I<E)return;qmt(this,{ts:s,methodLevel:n,methodValue:I,transmitLevel:b,transmitValue:r.levels.values[e.transmit.level||t._level],send:e.transmit.send,val:Wy(t._level,r)},c,w)}}}(t[GY][n])}function Vmt(t,e,r,n,i){let{level:o,log:s=E=>E}=i.formatters||{},c=r.slice(),l=c[0],m={};if(n&&(m.time=n),o){let E=o(e,t.levels.values[e]);Object.assign(m,E)}else m.level=t.levels.values[e];let w=(t._childLevel|0)+1;if(w<1&&(w=1),l!==null&&typeof l=="object"){for(;w--&&typeof c[0]=="object";)Object.assign(m,c.shift());l=c.length?REe(c.shift(),c):void 0}else typeof l=="string"&&(l=REe(c.shift(),c));return l!==void 0&&(m[i.messageKey]=l),s(m)}function $Y(t,e,r,n){for(let i in t)if(n&&t[i]instanceof Error)t[i]=Y0.stdSerializers.err(t[i]);else if(typeof t[i]=="object"&&!Array.isArray(t[i])&&e)for(let o in t[i])e.indexOf(o)>-1&&o in r&&(t[i][o]=r[o](t[i][o]))}function qmt(t,e,r,n=!1){let i=e.send,o=e.ts,s=e.methodLevel,c=e.methodValue,l=e.val,m=t._logEvent.bindings;n||$Y(r,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=o,t._logEvent.messages=r.filter(function(w){return m.indexOf(w)===-1}),t._logEvent.level.label=s,t._logEvent.level.value=c,i(s,t._logEvent,l),t._logEvent=WY(m)}function WY(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function OEe(t){let e={type:t.constructor.name,msg:t.message,stack:t.stack};for(let r in t)e[r]===void 0&&(e[r]=t[r]);return e}function Kmt(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?NEe:DEe}function qR(){return{}}function jY(t){return t}function cS(){}function NEe(){return!1}function DEe(){return Date.now()}function Hmt(){return Math.round(Date.now()/1e3)}function jmt(){return new Date(Date.now()).toISOString()}function zmt(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(self)||t(this)||{}}}KR.exports.default=Y0;KR.exports.pino=Y0});var uh=V(uS=>{"use strict";d();h();Object.defineProperty(uS,"__esModule",{value:!0});uS.logger=uS.loggerPrefix=void 0;var Wmt=UEe();uS.loggerPrefix="[Eppo SDK]";uS.logger=(0,Wmt.default)({level:T.LOG_LEVEL??(T.NODE_ENV==="production"?"warn":"info"),browser:{disabled:!0}})});var QY=V((YY,ZY)=>{d();h();(function(t,e){typeof YY=="object"&&typeof ZY<"u"?ZY.exports=e():typeof define=="function"&&define.amd?define(e):function(){var r=t.Base64,n=e();n.noConflict=function(){return t.Base64=r,n},t.Meteor&&(Base64=n),t.Base64=n}()})(typeof self<"u"||typeof self<"u"||typeof self<"u"?self:YY,function(){"use strict";var t="3.7.7",e=t,r=typeof Buffer=="function",n=typeof TextDecoder=="function"?new TextDecoder:void 0,i=typeof TextEncoder=="function"?new TextEncoder:void 0,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s=Array.prototype.slice.call(o),c=function(C){var z={};return C.forEach(function(ee,ne){return z[ee]=ne}),z}(s),l=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,m=String.fromCharCode.bind(String),w=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):function(C){return new Uint8Array(Array.prototype.slice.call(C,0))},b=function(C){return C.replace(/=/g,"").replace(/[+\/]/g,function(z){return z=="+"?"-":"_"})},E=function(C){return C.replace(/[^A-Za-z0-9\+\/]/g,"")},I=function(C){for(var z,ee,ne,Ke,ae="",W=C.length%3,he=0;he<C.length;){if((ee=C.charCodeAt(he++))>255||(ne=C.charCodeAt(he++))>255||(Ke=C.charCodeAt(he++))>255)throw new TypeError("invalid character found");z=ee<<16|ne<<8|Ke,ae+=s[z>>18&63]+s[z>>12&63]+s[z>>6&63]+s[z&63]}return W?ae.slice(0,W-3)+"===".substring(W):ae},M=typeof btoa=="function"?function(C){return btoa(C)}:r?function(C){return Buffer.from(C,"binary").toString("base64")}:I,k=r?function(C){return Buffer.from(C).toString("base64")}:function(C){for(var z=4096,ee=[],ne=0,Ke=C.length;ne<Ke;ne+=z)ee.push(m.apply(null,C.subarray(ne,ne+z)));return M(ee.join(""))},R=function(C,z){return z===void 0&&(z=!1),z?b(k(C)):k(C)},B=function(C){if(C.length<2){var z=C.charCodeAt(0);return z<128?C:z<2048?m(192|z>>>6)+m(128|z&63):m(224|z>>>12&15)+m(128|z>>>6&63)+m(128|z&63)}else{var z=65536+(C.charCodeAt(0)-55296)*1024+(C.charCodeAt(1)-56320);return m(240|z>>>18&7)+m(128|z>>>12&63)+m(128|z>>>6&63)+m(128|z&63)}},U=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,P=function(C){return C.replace(U,B)},F=r?function(C){return Buffer.from(C,"utf8").toString("base64")}:i?function(C){return k(i.encode(C))}:function(C){return M(P(C))},q=function(C,z){return z===void 0&&(z=!1),z?b(F(C)):F(C)},K=function(C){return q(C,!0)},re=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,Q=function(C){switch(C.length){case 4:var z=(7&C.charCodeAt(0))<<18|(63&C.charCodeAt(1))<<12|(63&C.charCodeAt(2))<<6|63&C.charCodeAt(3),ee=z-65536;return m((ee>>>10)+55296)+m((ee&1023)+56320);case 3:return m((15&C.charCodeAt(0))<<12|(63&C.charCodeAt(1))<<6|63&C.charCodeAt(2));default:return m((31&C.charCodeAt(0))<<6|63&C.charCodeAt(1))}},ie=function(C){return C.replace(re,Q)},S=function(C){if(C=C.replace(/\s+/g,""),!l.test(C))throw new TypeError("malformed base64.");C+="==".slice(2-(C.length&3));for(var z,ee="",ne,Ke,ae=0;ae<C.length;)z=c[C.charAt(ae++)]<<18|c[C.charAt(ae++)]<<12|(ne=c[C.charAt(ae++)])<<6|(Ke=c[C.charAt(ae++)]),ee+=ne===64?m(z>>16&255):Ke===64?m(z>>16&255,z>>8&255):m(z>>16&255,z>>8&255,z&255);return ee},a=typeof atob=="function"?function(C){return atob(E(C))}:r?function(C){return Buffer.from(C,"base64").toString("binary")}:S,f=r?function(C){return w(Buffer.from(C,"base64"))}:function(C){return w(a(C).split("").map(function(z){return z.charCodeAt(0)}))},p=function(C){return f(g(C))},y=r?function(C){return Buffer.from(C,"base64").toString("utf8")}:n?function(C){return n.decode(f(C))}:function(C){return ie(a(C))},g=function(C){return E(C.replace(/[-_]/g,function(z){return z=="-"?"+":"/"}))},A=function(C){return y(g(C))},_=function(C){if(typeof C!="string")return!1;var z=C.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(z)||!/[^\s0-9a-zA-Z\-_]/.test(z)},v=function(C){return{value:C,enumerable:!1,writable:!0,configurable:!0}},u=function(){var C=function(z,ee){return Object.defineProperty(String.prototype,z,v(ee))};C("fromBase64",function(){return A(this)}),C("toBase64",function(z){return q(this,z)}),C("toBase64URI",function(){return q(this,!0)}),C("toBase64URL",function(){return q(this,!0)}),C("toUint8Array",function(){return p(this)})},x=function(){var C=function(z,ee){return Object.defineProperty(Uint8Array.prototype,z,v(ee))};C("toBase64",function(z){return R(this,z)}),C("toBase64URI",function(){return R(this,!0)}),C("toBase64URL",function(){return R(this,!0)})},L=function(){u(),x()},D={version:t,VERSION:e,atob:a,atobPolyfill:S,btoa:M,btoaPolyfill:I,fromBase64:A,toBase64:q,encode:q,encodeURI:K,encodeURL:K,utob:P,btou:ie,decode:A,isValid:_,fromUint8Array:R,toUint8Array:p,extendString:u,extendUint8Array:x,extendBuiltins:L};return D.Base64={},Object.keys(D).forEach(function(C){return D.Base64[C]=D[C]}),D})});var VEe=V((LEe,FEe)=>{d();h();(function(t){if(typeof LEe=="object")FEe.exports=t();else if(typeof define=="function"&&define.amd)define(t);else{var e;try{e=self}catch{e=self}e.SparkMD5=t()}})(function(t){"use strict";var e=function(B,U){return B+U&4294967295},r=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(B,U,P,F,q,K){return U=e(e(U,B),e(F,K)),e(U<<q|U>>>32-q,P)}function i(B,U){var P=B[0],F=B[1],q=B[2],K=B[3];P+=(F&q|~F&K)+U[0]-680876936|0,P=(P<<7|P>>>25)+F|0,K+=(P&F|~P&q)+U[1]-389564586|0,K=(K<<12|K>>>20)+P|0,q+=(K&P|~K&F)+U[2]+606105819|0,q=(q<<17|q>>>15)+K|0,F+=(q&K|~q&P)+U[3]-1044525330|0,F=(F<<22|F>>>10)+q|0,P+=(F&q|~F&K)+U[4]-176418897|0,P=(P<<7|P>>>25)+F|0,K+=(P&F|~P&q)+U[5]+1200080426|0,K=(K<<12|K>>>20)+P|0,q+=(K&P|~K&F)+U[6]-1473231341|0,q=(q<<17|q>>>15)+K|0,F+=(q&K|~q&P)+U[7]-45705983|0,F=(F<<22|F>>>10)+q|0,P+=(F&q|~F&K)+U[8]+1770035416|0,P=(P<<7|P>>>25)+F|0,K+=(P&F|~P&q)+U[9]-1958414417|0,K=(K<<12|K>>>20)+P|0,q+=(K&P|~K&F)+U[10]-42063|0,q=(q<<17|q>>>15)+K|0,F+=(q&K|~q&P)+U[11]-1990404162|0,F=(F<<22|F>>>10)+q|0,P+=(F&q|~F&K)+U[12]+1804603682|0,P=(P<<7|P>>>25)+F|0,K+=(P&F|~P&q)+U[13]-40341101|0,K=(K<<12|K>>>20)+P|0,q+=(K&P|~K&F)+U[14]-1502002290|0,q=(q<<17|q>>>15)+K|0,F+=(q&K|~q&P)+U[15]+1236535329|0,F=(F<<22|F>>>10)+q|0,P+=(F&K|q&~K)+U[1]-165796510|0,P=(P<<5|P>>>27)+F|0,K+=(P&q|F&~q)+U[6]-1069501632|0,K=(K<<9|K>>>23)+P|0,q+=(K&F|P&~F)+U[11]+643717713|0,q=(q<<14|q>>>18)+K|0,F+=(q&P|K&~P)+U[0]-373897302|0,F=(F<<20|F>>>12)+q|0,P+=(F&K|q&~K)+U[5]-701558691|0,P=(P<<5|P>>>27)+F|0,K+=(P&q|F&~q)+U[10]+38016083|0,K=(K<<9|K>>>23)+P|0,q+=(K&F|P&~F)+U[15]-660478335|0,q=(q<<14|q>>>18)+K|0,F+=(q&P|K&~P)+U[4]-405537848|0,F=(F<<20|F>>>12)+q|0,P+=(F&K|q&~K)+U[9]+568446438|0,P=(P<<5|P>>>27)+F|0,K+=(P&q|F&~q)+U[14]-1019803690|0,K=(K<<9|K>>>23)+P|0,q+=(K&F|P&~F)+U[3]-187363961|0,q=(q<<14|q>>>18)+K|0,F+=(q&P|K&~P)+U[8]+1163531501|0,F=(F<<20|F>>>12)+q|0,P+=(F&K|q&~K)+U[13]-1444681467|0,P=(P<<5|P>>>27)+F|0,K+=(P&q|F&~q)+U[2]-51403784|0,K=(K<<9|K>>>23)+P|0,q+=(K&F|P&~F)+U[7]+1735328473|0,q=(q<<14|q>>>18)+K|0,F+=(q&P|K&~P)+U[12]-1926607734|0,F=(F<<20|F>>>12)+q|0,P+=(F^q^K)+U[5]-378558|0,P=(P<<4|P>>>28)+F|0,K+=(P^F^q)+U[8]-2022574463|0,K=(K<<11|K>>>21)+P|0,q+=(K^P^F)+U[11]+1839030562|0,q=(q<<16|q>>>16)+K|0,F+=(q^K^P)+U[14]-35309556|0,F=(F<<23|F>>>9)+q|0,P+=(F^q^K)+U[1]-1530992060|0,P=(P<<4|P>>>28)+F|0,K+=(P^F^q)+U[4]+1272893353|0,K=(K<<11|K>>>21)+P|0,q+=(K^P^F)+U[7]-155497632|0,q=(q<<16|q>>>16)+K|0,F+=(q^K^P)+U[10]-1094730640|0,F=(F<<23|F>>>9)+q|0,P+=(F^q^K)+U[13]+681279174|0,P=(P<<4|P>>>28)+F|0,K+=(P^F^q)+U[0]-358537222|0,K=(K<<11|K>>>21)+P|0,q+=(K^P^F)+U[3]-722521979|0,q=(q<<16|q>>>16)+K|0,F+=(q^K^P)+U[6]+76029189|0,F=(F<<23|F>>>9)+q|0,P+=(F^q^K)+U[9]-640364487|0,P=(P<<4|P>>>28)+F|0,K+=(P^F^q)+U[12]-421815835|0,K=(K<<11|K>>>21)+P|0,q+=(K^P^F)+U[15]+530742520|0,q=(q<<16|q>>>16)+K|0,F+=(q^K^P)+U[2]-995338651|0,F=(F<<23|F>>>9)+q|0,P+=(q^(F|~K))+U[0]-198630844|0,P=(P<<6|P>>>26)+F|0,K+=(F^(P|~q))+U[7]+1126891415|0,K=(K<<10|K>>>22)+P|0,q+=(P^(K|~F))+U[14]-1416354905|0,q=(q<<15|q>>>17)+K|0,F+=(K^(q|~P))+U[5]-57434055|0,F=(F<<21|F>>>11)+q|0,P+=(q^(F|~K))+U[12]+1700485571|0,P=(P<<6|P>>>26)+F|0,K+=(F^(P|~q))+U[3]-1894986606|0,K=(K<<10|K>>>22)+P|0,q+=(P^(K|~F))+U[10]-1051523|0,q=(q<<15|q>>>17)+K|0,F+=(K^(q|~P))+U[1]-2054922799|0,F=(F<<21|F>>>11)+q|0,P+=(q^(F|~K))+U[8]+1873313359|0,P=(P<<6|P>>>26)+F|0,K+=(F^(P|~q))+U[15]-30611744|0,K=(K<<10|K>>>22)+P|0,q+=(P^(K|~F))+U[6]-1560198380|0,q=(q<<15|q>>>17)+K|0,F+=(K^(q|~P))+U[13]+1309151649|0,F=(F<<21|F>>>11)+q|0,P+=(q^(F|~K))+U[4]-145523070|0,P=(P<<6|P>>>26)+F|0,K+=(F^(P|~q))+U[11]-1120210379|0,K=(K<<10|K>>>22)+P|0,q+=(P^(K|~F))+U[2]+718787259|0,q=(q<<15|q>>>17)+K|0,F+=(K^(q|~P))+U[9]-343485551|0,F=(F<<21|F>>>11)+q|0,B[0]=P+B[0]|0,B[1]=F+B[1]|0,B[2]=q+B[2]|0,B[3]=K+B[3]|0}function o(B){var U=[],P;for(P=0;P<64;P+=4)U[P>>2]=B.charCodeAt(P)+(B.charCodeAt(P+1)<<8)+(B.charCodeAt(P+2)<<16)+(B.charCodeAt(P+3)<<24);return U}function s(B){var U=[],P;for(P=0;P<64;P+=4)U[P>>2]=B[P]+(B[P+1]<<8)+(B[P+2]<<16)+(B[P+3]<<24);return U}function c(B){var U=B.length,P=[1732584193,-271733879,-1732584194,271733878],F,q,K,re,Q,ie;for(F=64;F<=U;F+=64)i(P,o(B.substring(F-64,F)));for(B=B.substring(F-64),q=B.length,K=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],F=0;F<q;F+=1)K[F>>2]|=B.charCodeAt(F)<<(F%4<<3);if(K[F>>2]|=128<<(F%4<<3),F>55)for(i(P,K),F=0;F<16;F+=1)K[F]=0;return re=U*8,re=re.toString(16).match(/(.*?)(.{0,8})$/),Q=parseInt(re[2],16),ie=parseInt(re[1],16)||0,K[14]=Q,K[15]=ie,i(P,K),P}function l(B){var U=B.length,P=[1732584193,-271733879,-1732584194,271733878],F,q,K,re,Q,ie;for(F=64;F<=U;F+=64)i(P,s(B.subarray(F-64,F)));for(B=F-64<U?B.subarray(F-64):new Uint8Array(0),q=B.length,K=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],F=0;F<q;F+=1)K[F>>2]|=B[F]<<(F%4<<3);if(K[F>>2]|=128<<(F%4<<3),F>55)for(i(P,K),F=0;F<16;F+=1)K[F]=0;return re=U*8,re=re.toString(16).match(/(.*?)(.{0,8})$/),Q=parseInt(re[2],16),ie=parseInt(re[1],16)||0,K[14]=Q,K[15]=ie,i(P,K),P}function m(B){var U="",P;for(P=0;P<4;P+=1)U+=r[B>>P*8+4&15]+r[B>>P*8&15];return U}function w(B){var U;for(U=0;U<B.length;U+=1)B[U]=m(B[U]);return B.join("")}w(c("hello"))!=="5d41402abc4b2a76b9719d911017c592"&&(e=function(B,U){var P=(B&65535)+(U&65535),F=(B>>16)+(U>>16)+(P>>16);return F<<16|P&65535}),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function B(U,P){return U=U|0||0,U<0?Math.max(U+P,0):Math.min(U,P)}ArrayBuffer.prototype.slice=function(U,P){var F=this.byteLength,q=B(U,F),K=F,re,Q,ie,S;return P!==t&&(K=B(P,F)),q>K?new ArrayBuffer(0):(re=K-q,Q=new ArrayBuffer(re),ie=new Uint8Array(Q),S=new Uint8Array(this,q,re),ie.set(S),Q)}}();function b(B){return/[\u0080-\uFFFF]/.test(B)&&(B=unescape(encodeURIComponent(B))),B}function E(B,U){var P=B.length,F=new ArrayBuffer(P),q=new Uint8Array(F),K;for(K=0;K<P;K+=1)q[K]=B.charCodeAt(K);return U?q:F}function I(B){return String.fromCharCode.apply(null,new Uint8Array(B))}function M(B,U,P){var F=new Uint8Array(B.byteLength+U.byteLength);return F.set(new Uint8Array(B)),F.set(new Uint8Array(U),B.byteLength),P?F:F.buffer}function k(B){var U=[],P=B.length,F;for(F=0;F<P-1;F+=2)U.push(parseInt(B.substr(F,2),16));return String.fromCharCode.apply(String,U)}function R(){this.reset()}return R.prototype.append=function(B){return this.appendBinary(b(B)),this},R.prototype.appendBinary=function(B){this._buff+=B,this._length+=B.length;var U=this._buff.length,P;for(P=64;P<=U;P+=64)i(this._hash,o(this._buff.substring(P-64,P)));return this._buff=this._buff.substring(P-64),this},R.prototype.end=function(B){var U=this._buff,P=U.length,F,q=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],K;for(F=0;F<P;F+=1)q[F>>2]|=U.charCodeAt(F)<<(F%4<<3);return this._finish(q,P),K=w(this._hash),B&&(K=k(K)),this.reset(),K},R.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},R.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},R.prototype.setState=function(B){return this._buff=B.buff,this._length=B.length,this._hash=B.hash,this},R.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},R.prototype._finish=function(B,U){var P=U,F,q,K;if(B[P>>2]|=128<<(P%4<<3),P>55)for(i(this._hash,B),P=0;P<16;P+=1)B[P]=0;F=this._length*8,F=F.toString(16).match(/(.*?)(.{0,8})$/),q=parseInt(F[2],16),K=parseInt(F[1],16)||0,B[14]=q,B[15]=K,i(this._hash,B)},R.hash=function(B,U){return R.hashBinary(b(B),U)},R.hashBinary=function(B,U){var P=c(B),F=w(P);return U?k(F):F},R.ArrayBuffer=function(){this.reset()},R.ArrayBuffer.prototype.append=function(B){var U=M(this._buff.buffer,B,!0),P=U.length,F;for(this._length+=B.byteLength,F=64;F<=P;F+=64)i(this._hash,s(U.subarray(F-64,F)));return this._buff=F-64<P?new Uint8Array(U.buffer.slice(F-64)):new Uint8Array(0),this},R.ArrayBuffer.prototype.end=function(B){var U=this._buff,P=U.length,F=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],q,K;for(q=0;q<P;q+=1)F[q>>2]|=U[q]<<(q%4<<3);return this._finish(F,P),K=w(this._hash),B&&(K=k(K)),this.reset(),K},R.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},R.ArrayBuffer.prototype.getState=function(){var B=R.prototype.getState.call(this);return B.buff=I(B.buff),B},R.ArrayBuffer.prototype.setState=function(B){return B.buff=E(B.buff,!0),R.prototype.setState.call(this,B)},R.ArrayBuffer.prototype.destroy=R.prototype.destroy,R.ArrayBuffer.prototype._finish=R.prototype._finish,R.ArrayBuffer.hash=function(B,U){var P=l(new Uint8Array(B)),F=w(P);return U?k(F):F},R})});var Z0=V(Gy=>{"use strict";d();h();Object.defineProperty(Gy,"__esModule",{value:!0});Gy.getMD5Hash=JY;Gy.encodeBase64=Ll;Gy.attributeEncodeBase64=HEe;Gy.decodeBase64=$mt;Gy.obfuscatePrecomputedBanditMap=Ymt;Gy.obfuscatePrecomputedFlags=Qmt;var KEe=QY(),Gmt=VEe();function JY(t,e=""){return new Gmt().append(e).append(t).end()}function Ll(t){return KEe.encode(t)}function HEe(t){return Ll(typeof t!="string"?String(t):t)}function $mt(t){return KEe.decode(t)}function Ymt(t,e){return Object.fromEntries(Object.entries(e).map(([r,n])=>[JY(r,t),Zmt(n)]))}function Zmt(t){return{banditKey:Ll(t.banditKey),action:Ll(t.action),actionProbability:t.actionProbability,optimalityGap:t.optimalityGap,modelVersion:Ll(t.modelVersion),actionNumericAttributes:qEe(t.actionNumericAttributes),actionCategoricalAttributes:qEe(t.actionCategoricalAttributes)}}function qEe(t){return Object.fromEntries(Object.entries(t).map(([e,r])=>[Ll(e),HEe(r)]))}function Qmt(t,e){let r={};return Object.keys(e).forEach(n=>{let i=e[n],o=Object.fromEntries(Object.entries(i.extraLogging??{}).map(c=>c.map(Ll))),s=JY(n,t);r[s]={flagKey:s,variationType:i.variationType,extraLogging:o,doLog:i.doLog,allocationKey:Ll(i.allocationKey??""),variationKey:Ll(i.variationKey??""),variationValue:Ll(i.variationValue)}}),r}});var L4=V(fS=>{"use strict";d();h();Object.defineProperty(fS,"__esModule",{value:!0});fS.AbstractAssignmentCache=void 0;fS.assignmentCacheKeyToString=XY;fS.assignmentCacheValueToString=eZ;var jEe=Z0();function XY({subjectKey:t,flagKey:e}){return(0,jEe.getMD5Hash)([t,e].join(";"))}function eZ(t){return(0,jEe.getMD5Hash)(Object.values(t).join(";"))}var tZ=class{constructor(e){this.delegate=e}has(e){return this.get(e)===eZ(e)}get(e){return this.delegate.get(XY(e))}set(e){this.delegate.set(XY(e),eZ(e))}entries(){return this.delegate.entries()}};fS.AbstractAssignmentCache=tZ});var nZ=V(HR=>{"use strict";d();h();Object.defineProperty(HR,"__esModule",{value:!0});HR.LRUCache=void 0;var rZ=class{constructor(e){this.capacity=e,this.cache=new Map,this.size=this.cache.size}[Symbol.iterator](){return this.cache[Symbol.iterator]()}forEach(e,r){this.cache.forEach(e,r)}entries(){return this.cache.entries()}clear(){this.cache.clear()}delete(e){return this.cache.delete(e)}keys(){return this.cache.keys()}values(){return this.cache.values()}has(e){return this.cache.has(e)}get(e){if(!this.has(e))return;let r=this.cache.get(e);return r!==void 0&&(this.delete(e),this.cache.set(e,r)),r}set(e,r){if(this.capacity===0)return this;if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.capacity){let n=this.cache.keys().next().value;n&&this.delete(n)}return this.cache.set(e,r),this}};HR.LRUCache=rZ});var zR=V(jR=>{"use strict";d();h();Object.defineProperty(jR,"__esModule",{value:!0});jR.LRUInMemoryAssignmentCache=void 0;var Jmt=L4(),Xmt=nZ(),iZ=class extends Jmt.AbstractAssignmentCache{constructor(e){super(new Xmt.LRUCache(e))}};jR.LRUInMemoryAssignmentCache=iZ});var GR=V(WR=>{"use strict";d();h();Object.defineProperty(WR,"__esModule",{value:!0});WR.NonExpiringInMemoryAssignmentCache=void 0;var eyt=L4(),oZ=class extends eyt.AbstractAssignmentCache{constructor(e=new Map){super(e)}};WR.NonExpiringInMemoryAssignmentCache=oZ});var zEe=V(sZ=>{"use strict";d();h();Object.defineProperty(sZ,"__esModule",{value:!0});sZ.default="ffffffff-ffff-ffff-ffff-ffffffffffff"});var WEe=V(aZ=>{"use strict";d();h();Object.defineProperty(aZ,"__esModule",{value:!0});aZ.default="00000000-0000-0000-0000-000000000000"});var GEe=V(cZ=>{"use strict";d();h();Object.defineProperty(cZ,"__esModule",{value:!0});cZ.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i});var F4=V(uZ=>{"use strict";d();h();Object.defineProperty(uZ,"__esModule",{value:!0});var tyt=GEe();function ryt(t){return typeof t=="string"&&tyt.default.test(t)}uZ.default=ryt});var V4=V(fZ=>{"use strict";d();h();Object.defineProperty(fZ,"__esModule",{value:!0});var nyt=F4();function iyt(t){if(!(0,nyt.default)(t))throw TypeError("Invalid UUID");let e;return Uint8Array.of((e=parseInt(t.slice(0,8),16))>>>24,e>>>16&255,e>>>8&255,e&255,(e=parseInt(t.slice(9,13),16))>>>8,e&255,(e=parseInt(t.slice(14,18),16))>>>8,e&255,(e=parseInt(t.slice(19,23),16))>>>8,e&255,(e=parseInt(t.slice(24,36),16))/1099511627776&255,e/4294967296&255,e>>>24&255,e>>>16&255,e>>>8&255,e&255)}fZ.default=iyt});var Q0=V(q4=>{"use strict";d();h();Object.defineProperty(q4,"__esModule",{value:!0});q4.unsafeStringify=void 0;var oyt=F4(),qs=[];for(let t=0;t<256;++t)qs.push((t+256).toString(16).slice(1));function $Ee(t,e=0){return(qs[t[e+0]]+qs[t[e+1]]+qs[t[e+2]]+qs[t[e+3]]+"-"+qs[t[e+4]]+qs[t[e+5]]+"-"+qs[t[e+6]]+qs[t[e+7]]+"-"+qs[t[e+8]]+qs[t[e+9]]+"-"+qs[t[e+10]]+qs[t[e+11]]+qs[t[e+12]]+qs[t[e+13]]+qs[t[e+14]]+qs[t[e+15]]).toLowerCase()}q4.unsafeStringify=$Ee;function syt(t,e=0){let r=$Ee(t,e);if(!(0,oyt.default)(r))throw TypeError("Stringified UUID is invalid");return r}q4.default=syt});var $R=V(dZ=>{"use strict";d();h();Object.defineProperty(dZ,"__esModule",{value:!0});var lZ,ayt=new Uint8Array(16);function cyt(){if(!lZ){if(typeof self.crypto>"u"||!self.crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");lZ=self.crypto.getRandomValues.bind(self.crypto)}return lZ(ayt)}dZ.default=cyt});var hZ=V(H4=>{"use strict";d();h();Object.defineProperty(H4,"__esModule",{value:!0});H4.updateV1State=void 0;var YEe=$R(),uyt=Q0(),K4={};function fyt(t,e,r){let n,i=t?._v6??!1;if(t){let o=Object.keys(t);o.length===1&&o[0]==="_v6"&&(t=void 0)}if(t)n=ZEe(t.random??t.rng?.()??(0,YEe.default)(),t.msecs,t.nsecs,t.clockseq,t.node,e,r);else{let o=Date.now(),s=(0,YEe.default)();QEe(K4,o,s),n=ZEe(s,K4.msecs,K4.nsecs,i?void 0:K4.clockseq,i?void 0:K4.node,e,r)}return e?n:(0,uyt.unsafeStringify)(n)}function QEe(t,e,r){return t.msecs??=-1/0,t.nsecs??=0,e===t.msecs?(t.nsecs++,t.nsecs>=1e4&&(t.node=void 0,t.nsecs=0)):e>t.msecs?t.nsecs=0:e<t.msecs&&(t.node=void 0),t.node||(t.node=r.slice(10,16),t.node[0]|=1,t.clockseq=(r[8]<<8|r[9])&16383),t.msecs=e,t}H4.updateV1State=QEe;function ZEe(t,e,r,n,i,o,s=0){if(t.length<16)throw new Error("Random bytes length must be >= 16");if(!o)o=new Uint8Array(16),s=0;else if(s<0||s+16>o.length)throw new RangeError(`UUID byte range ${s}:${s+15} is out of buffer bounds`);e??=Date.now(),r??=0,n??=(t[8]<<8|t[9])&16383,i??=t.slice(10,16),e+=122192928e5;let c=((e&268435455)*1e4+r)%4294967296;o[s++]=c>>>24&255,o[s++]=c>>>16&255,o[s++]=c>>>8&255,o[s++]=c&255;let l=e/4294967296*1e4&268435455;o[s++]=l>>>8&255,o[s++]=l&255,o[s++]=l>>>24&15|16,o[s++]=l>>>16&255,o[s++]=n>>>8|128,o[s++]=n&255;for(let m=0;m<6;++m)o[s++]=i[m];return o}H4.default=fyt});var mZ=V(pZ=>{"use strict";d();h();Object.defineProperty(pZ,"__esModule",{value:!0});var lyt=V4(),dyt=Q0();function hyt(t){let e=typeof t=="string"?(0,lyt.default)(t):t,r=pyt(e);return typeof t=="string"?(0,dyt.unsafeStringify)(r):r}pZ.default=hyt;function pyt(t){return Uint8Array.of((t[6]&15)<<4|t[7]>>4&15,(t[7]&15)<<4|(t[4]&240)>>4,(t[4]&15)<<4|(t[5]&240)>>4,(t[5]&15)<<4|(t[0]&240)>>4,(t[0]&15)<<4|(t[1]&240)>>4,(t[1]&15)<<4|(t[2]&240)>>4,96|t[2]&15,t[3],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}});var XEe=V(yZ=>{"use strict";d();h();Object.defineProperty(yZ,"__esModule",{value:!0});function myt(t){let e=byt(t),r=gyt(e,t.length*8);return yyt(r)}function yyt(t){let e=new Uint8Array(t.length*4);for(let r=0;r<t.length*4;r++)e[r]=t[r>>2]>>>r%4*8&255;return e}function JEe(t){return(t+64>>>9<<4)+14+1}function gyt(t,e){let r=new Uint32Array(JEe(e)).fill(0);r.set(t),r[e>>5]|=128<<e%32,r[r.length-1]=e,t=r;let n=1732584193,i=-271733879,o=-1732584194,s=271733878;for(let c=0;c<t.length;c+=16){let l=n,m=i,w=o,b=s;n=Aa(n,i,o,s,t[c],7,-680876936),s=Aa(s,n,i,o,t[c+1],12,-389564586),o=Aa(o,s,n,i,t[c+2],17,606105819),i=Aa(i,o,s,n,t[c+3],22,-1044525330),n=Aa(n,i,o,s,t[c+4],7,-176418897),s=Aa(s,n,i,o,t[c+5],12,1200080426),o=Aa(o,s,n,i,t[c+6],17,-1473231341),i=Aa(i,o,s,n,t[c+7],22,-45705983),n=Aa(n,i,o,s,t[c+8],7,1770035416),s=Aa(s,n,i,o,t[c+9],12,-1958414417),o=Aa(o,s,n,i,t[c+10],17,-42063),i=Aa(i,o,s,n,t[c+11],22,-1990404162),n=Aa(n,i,o,s,t[c+12],7,1804603682),s=Aa(s,n,i,o,t[c+13],12,-40341101),o=Aa(o,s,n,i,t[c+14],17,-1502002290),i=Aa(i,o,s,n,t[c+15],22,1236535329),n=Ea(n,i,o,s,t[c+1],5,-165796510),s=Ea(s,n,i,o,t[c+6],9,-1069501632),o=Ea(o,s,n,i,t[c+11],14,643717713),i=Ea(i,o,s,n,t[c],20,-373897302),n=Ea(n,i,o,s,t[c+5],5,-701558691),s=Ea(s,n,i,o,t[c+10],9,38016083),o=Ea(o,s,n,i,t[c+15],14,-660478335),i=Ea(i,o,s,n,t[c+4],20,-405537848),n=Ea(n,i,o,s,t[c+9],5,568446438),s=Ea(s,n,i,o,t[c+14],9,-1019803690),o=Ea(o,s,n,i,t[c+3],14,-187363961),i=Ea(i,o,s,n,t[c+8],20,1163531501),n=Ea(n,i,o,s,t[c+13],5,-1444681467),s=Ea(s,n,i,o,t[c+2],9,-51403784),o=Ea(o,s,n,i,t[c+7],14,1735328473),i=Ea(i,o,s,n,t[c+12],20,-1926607734),n=_a(n,i,o,s,t[c+5],4,-378558),s=_a(s,n,i,o,t[c+8],11,-2022574463),o=_a(o,s,n,i,t[c+11],16,1839030562),i=_a(i,o,s,n,t[c+14],23,-35309556),n=_a(n,i,o,s,t[c+1],4,-1530992060),s=_a(s,n,i,o,t[c+4],11,1272893353),o=_a(o,s,n,i,t[c+7],16,-155497632),i=_a(i,o,s,n,t[c+10],23,-1094730640),n=_a(n,i,o,s,t[c+13],4,681279174),s=_a(s,n,i,o,t[c],11,-358537222),o=_a(o,s,n,i,t[c+3],16,-722521979),i=_a(i,o,s,n,t[c+6],23,76029189),n=_a(n,i,o,s,t[c+9],4,-640364487),s=_a(s,n,i,o,t[c+12],11,-421815835),o=_a(o,s,n,i,t[c+15],16,530742520),i=_a(i,o,s,n,t[c+2],23,-995338651),n=Ta(n,i,o,s,t[c],6,-198630844),s=Ta(s,n,i,o,t[c+7],10,1126891415),o=Ta(o,s,n,i,t[c+14],15,-1416354905),i=Ta(i,o,s,n,t[c+5],21,-57434055),n=Ta(n,i,o,s,t[c+12],6,1700485571),s=Ta(s,n,i,o,t[c+3],10,-1894986606),o=Ta(o,s,n,i,t[c+10],15,-1051523),i=Ta(i,o,s,n,t[c+1],21,-2054922799),n=Ta(n,i,o,s,t[c+8],6,1873313359),s=Ta(s,n,i,o,t[c+15],10,-30611744),o=Ta(o,s,n,i,t[c+6],15,-1560198380),i=Ta(i,o,s,n,t[c+13],21,1309151649),n=Ta(n,i,o,s,t[c+4],6,-145523070),s=Ta(s,n,i,o,t[c+11],10,-1120210379),o=Ta(o,s,n,i,t[c+2],15,718787259),i=Ta(i,o,s,n,t[c+9],21,-343485551),n=$y(n,l),i=$y(i,m),o=$y(o,w),s=$y(s,b)}return Uint32Array.of(n,i,o,s)}function byt(t){if(t.length===0)return new Uint32Array;let e=new Uint32Array(JEe(t.length*8)).fill(0);for(let r=0;r<t.length;r++)e[r>>2]|=(t[r]&255)<<r%4*8;return e}function $y(t,e){let r=(t&65535)+(e&65535);return(t>>16)+(e>>16)+(r>>16)<<16|r&65535}function vyt(t,e){return t<<e|t>>>32-e}function YR(t,e,r,n,i,o){return $y(vyt($y($y(e,t),$y(n,o)),i),r)}function Aa(t,e,r,n,i,o,s){return YR(e&r|~e&n,t,e,i,o,s)}function Ea(t,e,r,n,i,o,s){return YR(e&n|r&~n,t,e,i,o,s)}function _a(t,e,r,n,i,o,s){return YR(e^r^n,t,e,i,o,s)}function Ta(t,e,r,n,i,o,s){return YR(r^(e|~n),t,e,i,o,s)}yZ.default=myt});var j4=V(J0=>{"use strict";d();h();Object.defineProperty(J0,"__esModule",{value:!0});J0.URL=J0.DNS=J0.stringToBytes=void 0;var e3e=V4(),xyt=Q0();function t3e(t){t=unescape(encodeURIComponent(t));let e=new Uint8Array(t.length);for(let r=0;r<t.length;++r)e[r]=t.charCodeAt(r);return e}J0.stringToBytes=t3e;J0.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8";J0.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function wyt(t,e,r,n,i,o){let s=typeof r=="string"?t3e(r):r,c=typeof n=="string"?(0,e3e.default)(n):n;if(typeof n=="string"&&(n=(0,e3e.default)(n)),n?.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+s.length);if(l.set(c),l.set(s,c.length),l=e(l),l[6]=l[6]&15|t,l[8]=l[8]&63|128,i){o=o||0;for(let m=0;m<16;++m)i[o+m]=l[m];return i}return(0,xyt.unsafeStringify)(l)}J0.default=wyt});var n3e=V(Q1=>{"use strict";d();h();Object.defineProperty(Q1,"__esModule",{value:!0});Q1.URL=Q1.DNS=void 0;var Syt=XEe(),gZ=j4(),r3e=j4();Object.defineProperty(Q1,"DNS",{enumerable:!0,get:function(){return r3e.DNS}});Object.defineProperty(Q1,"URL",{enumerable:!0,get:function(){return r3e.URL}});function bZ(t,e,r,n){return(0,gZ.default)(48,Syt.default,t,e,r,n)}bZ.DNS=gZ.DNS;bZ.URL=gZ.URL;Q1.default=bZ});var i3e=V(vZ=>{"use strict";d();h();Object.defineProperty(vZ,"__esModule",{value:!0});var Ayt=typeof self.crypto<"u"&&self.crypto.randomUUID&&self.crypto.randomUUID.bind(self.crypto);vZ.default={randomUUID:Ayt}});var s3e=V(xZ=>{"use strict";d();h();Object.defineProperty(xZ,"__esModule",{value:!0});var o3e=i3e(),Eyt=$R(),_yt=Q0();function Tyt(t,e,r){if(o3e.default.randomUUID&&!e&&!t)return o3e.default.randomUUID();t=t||{};let n=t.random??t.rng?.()??(0,Eyt.default)();if(n.length<16)throw new Error("Random bytes length must be >= 16");if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){if(r=r||0,r<0||r+16>e.length)throw new RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let i=0;i<16;++i)e[r+i]=n[i];return e}return(0,_yt.unsafeStringify)(n)}xZ.default=Tyt});var a3e=V(SZ=>{"use strict";d();h();Object.defineProperty(SZ,"__esModule",{value:!0});function Iyt(t,e,r,n){switch(t){case 0:return e&r^~e&n;case 1:return e^r^n;case 2:return e&r^e&n^r&n;case 3:return e^r^n}}function wZ(t,e){return t<<e|t>>>32-e}function Myt(t){let e=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520],n=new Uint8Array(t.length+1);n.set(t),n[t.length]=128,t=n;let i=t.length/4+2,o=Math.ceil(i/16),s=new Array(o);for(let c=0;c<o;++c){let l=new Uint32Array(16);for(let m=0;m<16;++m)l[m]=t[c*64+m*4]<<24|t[c*64+m*4+1]<<16|t[c*64+m*4+2]<<8|t[c*64+m*4+3];s[c]=l}s[o-1][14]=(t.length-1)*8/Math.pow(2,32),s[o-1][14]=Math.floor(s[o-1][14]),s[o-1][15]=(t.length-1)*8&4294967295;for(let c=0;c<o;++c){let l=new Uint32Array(80);for(let M=0;M<16;++M)l[M]=s[c][M];for(let M=16;M<80;++M)l[M]=wZ(l[M-3]^l[M-8]^l[M-14]^l[M-16],1);let m=r[0],w=r[1],b=r[2],E=r[3],I=r[4];for(let M=0;M<80;++M){let k=Math.floor(M/20),R=wZ(m,5)+Iyt(k,w,b,E)+I+e[k]+l[M]>>>0;I=E,E=b,b=wZ(w,30)>>>0,w=m,m=R}r[0]=r[0]+m>>>0,r[1]=r[1]+w>>>0,r[2]=r[2]+b>>>0,r[3]=r[3]+E>>>0,r[4]=r[4]+I>>>0}return Uint8Array.of(r[0]>>24,r[0]>>16,r[0]>>8,r[0],r[1]>>24,r[1]>>16,r[1]>>8,r[1],r[2]>>24,r[2]>>16,r[2]>>8,r[2],r[3]>>24,r[3]>>16,r[3]>>8,r[3],r[4]>>24,r[4]>>16,r[4]>>8,r[4])}SZ.default=Myt});var u3e=V(J1=>{"use strict";d();h();Object.defineProperty(J1,"__esModule",{value:!0});J1.URL=J1.DNS=void 0;var kyt=a3e(),AZ=j4(),c3e=j4();Object.defineProperty(J1,"DNS",{enumerable:!0,get:function(){return c3e.DNS}});Object.defineProperty(J1,"URL",{enumerable:!0,get:function(){return c3e.URL}});function EZ(t,e,r,n){return(0,AZ.default)(80,kyt.default,t,e,r,n)}EZ.DNS=AZ.DNS;EZ.URL=AZ.URL;J1.default=EZ});var f3e=V(_Z=>{"use strict";d();h();Object.defineProperty(_Z,"__esModule",{value:!0});var Pyt=Q0(),Byt=hZ(),Ryt=mZ();function Cyt(t,e,r){t??={},r??=0;let n=(0,Byt.default)({...t,_v6:!0},new Uint8Array(16));if(n=(0,Ryt.default)(n),e){for(let i=0;i<16;i++)e[r+i]=n[i];return e}return(0,Pyt.unsafeStringify)(n)}_Z.default=Cyt});var l3e=V(TZ=>{"use strict";d();h();Object.defineProperty(TZ,"__esModule",{value:!0});var Oyt=V4(),Nyt=Q0();function Dyt(t){let e=typeof t=="string"?(0,Oyt.default)(t):t,r=Uyt(e);return typeof t=="string"?(0,Nyt.unsafeStringify)(r):r}TZ.default=Dyt;function Uyt(t){return Uint8Array.of((t[3]&15)<<4|t[4]>>4&15,(t[4]&15)<<4|(t[5]&240)>>4,(t[5]&15)<<4|t[6]&15,t[7],(t[1]&15)<<4|(t[2]&240)>>4,(t[2]&15)<<4|(t[3]&240)>>4,16|(t[0]&240)>>4,(t[0]&15)<<4|(t[1]&240)>>4,t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}});var m3e=V(z4=>{"use strict";d();h();Object.defineProperty(z4,"__esModule",{value:!0});z4.updateV7State=void 0;var d3e=$R(),Lyt=Q0(),IZ={};function Fyt(t,e,r){let n;if(t)n=h3e(t.random??t.rng?.()??(0,d3e.default)(),t.msecs,t.seq,e,r);else{let i=Date.now(),o=(0,d3e.default)();p3e(IZ,i,o),n=h3e(o,IZ.msecs,IZ.seq,e,r)}return e?n:(0,Lyt.unsafeStringify)(n)}function p3e(t,e,r){return t.msecs??=-1/0,t.seq??=0,e>t.msecs?(t.seq=r[6]<<23|r[7]<<16|r[8]<<8|r[9],t.msecs=e):(t.seq=t.seq+1|0,t.seq===0&&t.msecs++),t}z4.updateV7State=p3e;function h3e(t,e,r,n,i=0){if(t.length<16)throw new Error("Random bytes length must be >= 16");if(!n)n=new Uint8Array(16),i=0;else if(i<0||i+16>n.length)throw new RangeError(`UUID byte range ${i}:${i+15} is out of buffer bounds`);return e??=Date.now(),r??=t[6]*127<<24|t[7]<<16|t[8]<<8|t[9],n[i++]=e/1099511627776&255,n[i++]=e/4294967296&255,n[i++]=e/16777216&255,n[i++]=e/65536&255,n[i++]=e/256&255,n[i++]=e&255,n[i++]=112|r>>>28&15,n[i++]=r>>>20&255,n[i++]=128|r>>>14&63,n[i++]=r>>>6&255,n[i++]=r<<2&255|t[10]&3,n[i++]=t[11],n[i++]=t[12],n[i++]=t[13],n[i++]=t[14],n[i++]=t[15],n}z4.default=Fyt});var y3e=V(MZ=>{"use strict";d();h();Object.defineProperty(MZ,"__esModule",{value:!0});var Vyt=F4();function qyt(t){if(!(0,Vyt.default)(t))throw TypeError("Invalid UUID");return parseInt(t.slice(14,15),16)}MZ.default=qyt});var g3e=V(Dn=>{"use strict";d();h();Object.defineProperty(Dn,"__esModule",{value:!0});Dn.version=Dn.validate=Dn.v7=Dn.v6ToV1=Dn.v6=Dn.v5=Dn.v4=Dn.v3=Dn.v1ToV6=Dn.v1=Dn.stringify=Dn.parse=Dn.NIL=Dn.MAX=void 0;var Kyt=zEe();Object.defineProperty(Dn,"MAX",{enumerable:!0,get:function(){return Kyt.default}});var Hyt=WEe();Object.defineProperty(Dn,"NIL",{enumerable:!0,get:function(){return Hyt.default}});var jyt=V4();Object.defineProperty(Dn,"parse",{enumerable:!0,get:function(){return jyt.default}});var zyt=Q0();Object.defineProperty(Dn,"stringify",{enumerable:!0,get:function(){return zyt.default}});var Wyt=hZ();Object.defineProperty(Dn,"v1",{enumerable:!0,get:function(){return Wyt.default}});var Gyt=mZ();Object.defineProperty(Dn,"v1ToV6",{enumerable:!0,get:function(){return Gyt.default}});var $yt=n3e();Object.defineProperty(Dn,"v3",{enumerable:!0,get:function(){return $yt.default}});var Yyt=s3e();Object.defineProperty(Dn,"v4",{enumerable:!0,get:function(){return Yyt.default}});var Zyt=u3e();Object.defineProperty(Dn,"v5",{enumerable:!0,get:function(){return Zyt.default}});var Qyt=f3e();Object.defineProperty(Dn,"v6",{enumerable:!0,get:function(){return Qyt.default}});var Jyt=l3e();Object.defineProperty(Dn,"v6ToV1",{enumerable:!0,get:function(){return Jyt.default}});var Xyt=m3e();Object.defineProperty(Dn,"v7",{enumerable:!0,get:function(){return Xyt.default}});var egt=F4();Object.defineProperty(Dn,"validate",{enumerable:!0,get:function(){return egt.default}});var tgt=y3e();Object.defineProperty(Dn,"version",{enumerable:!0,get:function(){return tgt.default}})});var PZ=V(X1=>{"use strict";d();h();Object.defineProperty(X1,"__esModule",{value:!0});X1.isInstanceOfContextualAttributes=ZR;X1.ensureNonContextualSubjectAttributes=rgt;X1.ensureContextualSubjectAttributes=ngt;X1.deduceAttributeContext=kZ;X1.ensureActionsWithContextualAttributes=igt;function ZR(t){return!!(typeof t=="object"&&t&&"numericAttributes"in t&&"categoricalAttributes"in t)}function rgt(t){let e;if(ZR(t)){let r=t;e={...r.numericAttributes,...r.categoricalAttributes}}else e=t;return e}function ngt(t){return ZR(t)?t:kZ(t)}function kZ(t){let e={numericAttributes:{},categoricalAttributes:{}};return Object.entries(t).forEach(([r,n])=>{typeof n=="number"?e.numericAttributes[r]=n:e.categoricalAttributes[r]=n}),e}function igt(t){let e={};return Array.isArray(t)?t.forEach(r=>{e[r]={numericAttributes:{},categoricalAttributes:{}}}):Object.values(t).every(ZR)?e=t:Object.entries(t).forEach(([r,n])=>{e[r]=kZ(n)}),e}});var CZ=V(Yy=>{"use strict";d();h();Object.defineProperty(Yy,"__esModule",{value:!0});Yy.DeterministicSharder=Yy.MD5Sharder=Yy.Sharder=void 0;var ogt=Z0(),W4=class{};Yy.Sharder=W4;var BZ=class extends W4{getShard(e,r){let n=(0,ogt.getMD5Hash)(e);return parseInt(n.slice(0,8),16)%r}};Yy.MD5Sharder=BZ;var RZ=class extends W4{constructor(e){super(),this.lookup=e}getShard(e,r){return this.lookup[e]??0}};Yy.DeterministicSharder=RZ});var b3e=V(QR=>{"use strict";d();h();Object.defineProperty(QR,"__esModule",{value:!0});QR.BanditEvaluator=void 0;var sgt=$0(),agt=CZ(),OZ=class{constructor(){this.assignmentShards=sgt.BANDIT_ASSIGNMENT_SHARDS,this.sharder=new agt.MD5Sharder}evaluateBestBanditAction(e,r,n){let i=this.scoreActions(e,r,n),{topAction:o}=this.getTopScore(i);return o}evaluateBandit(e,r,n,i,o){let s=this.scoreActions(n,i,o),c=this.weighActions(s,o.gamma,o.actionProbabilityFloor),l=this.selectAction(e,r,c),w=Object.values(s).reduce((b,E)=>E>b?E:b,-1/0)-s[l];return{flagKey:e,subjectKey:r,subjectAttributes:n,actionKey:l,actionAttributes:i[l],actionScore:s[l],actionWeight:c[l],gamma:o.gamma,optimalityGap:w}}scoreActions(e,r,n){let i={};return Object.entries(r).forEach(([o,s])=>{let c=n.defaultActionScore,l=n.coefficients[o];l&&(c=l.intercept,c+=this.scoreNumericAttributes(l.subjectNumericCoefficients,e.numericAttributes),c+=this.scoreCategoricalAttributes(l.subjectCategoricalCoefficients,e.categoricalAttributes),c+=this.scoreNumericAttributes(l.actionNumericCoefficients,s.numericAttributes),c+=this.scoreCategoricalAttributes(l.actionCategoricalCoefficients,s.categoricalAttributes)),i[o]=c}),i}scoreNumericAttributes(e,r){return e.reduce((n,i)=>{let o=r[i.attributeKey];return typeof o=="number"&&isFinite(o)?n+=o*i.coefficient:n+=i.missingValueCoefficient,n},0)}scoreCategoricalAttributes(e,r){return e.reduce((n,i)=>{let o=r[i.attributeKey]?.toString(),s=o&&i.valueCoefficients[o];return n+=typeof s=="number"?s:i.missingValueCoefficient,n},0)}weighActions(e,r,n){let i={},o=Object.entries(e);if(!o.length)return i;let{topScore:s,topAction:c}=this.getTopScore(e);if(s===null||c===null)throw new Error("Unable to find top score");let l=s,m=c,w=o.length,b=n/w,E=0;return o.forEach(([I,M])=>{if(I===m)return;let k=1/(w+r*(l-M)),R=Math.max(k,b);E+=R,i[I]=R}),i[m]=Math.max(1-E,0),i}selectAction(e,r,n){let i=Object.entries(n).sort((m,w)=>{let b=this.sharder.getShard(`${e}-${r}-${m[0]}`,this.assignmentShards),E=this.sharder.getShard(`${e}-${r}-${w[0]}`,this.assignmentShards),I=b-E;return I===0&&(I=m[0]<w[0]?-1:1),I}),s=this.sharder.getShard(`${e}-${r}`,this.assignmentShards)/this.assignmentShards,c=0,l=null;for(let m of i)if(c+=m[1],c>s){l=m[0];break}if(l===null)throw new Error(`No bandit action selected for flag "${e}" and subject "${r}"`);return l}getTopScore(e){let r=Object.entries(e),n=null,i=null;return r.forEach(([o,s])=>{(n===null||i===null||s>n||s===n&&o<i)&&(n=s,i=o)}),{topScore:n,topAction:i}}};QR.BanditEvaluator=OZ});var v3e=V(JR=>{"use strict";d();h();Object.defineProperty(JR,"__esModule",{value:!0});JR.TLRUCache=void 0;var cgt=nZ(),NZ=class extends cgt.LRUCache{constructor(e,r){super(e),this.maxSize=e,this.ttl=r,this.cacheEntriesTTLRegistry=new Map}getCacheEntryEvictionTime(){return new Date(Date.now()+this.ttl)}clearCacheEntryEvictionTimeIfExists(e){this.cacheEntriesTTLRegistry.has(e)&&this.cacheEntriesTTLRegistry.delete(e)}isCacheEntryValid(e){let r=new Date(Date.now()),n=this.cacheEntriesTTLRegistry.get(e);return n!==void 0?r<n:!1}setCacheEntryEvictionTime(e){this.cacheEntriesTTLRegistry.set(e,this.getCacheEntryEvictionTime())}resetCacheEntryEvictionTime(e){this.clearCacheEntryEvictionTimeIfExists(e),this.setCacheEntryEvictionTime(e)}evictExpiredCacheEntries(){let e;for(e of this.cache.keys())if(!this.isCacheEntryValid(e))this.delete(e);else break}entries(){return this.evictExpiredCacheEntries(),super.entries()}keys(){return this.evictExpiredCacheEntries(),super.keys()}values(){return this.evictExpiredCacheEntries(),super.values()}delete(e){return this.clearCacheEntryEvictionTimeIfExists(e),super.delete(e)}has(e){return this.isCacheEntryValid(e)?this.cache.has(e):(this.delete(e),!1)}get(e){if(!this.isCacheEntryValid(e)){this.delete(e);return}let r=super.get(e);return r!==void 0&&this.resetCacheEntryEvictionTime(e),r}set(e,r){let n=super.set(e,r);return this.resetCacheEntryEvictionTime(e),n}};JR.TLRUCache=NZ});var x3e=V(XR=>{"use strict";d();h();Object.defineProperty(XR,"__esModule",{value:!0});XR.TLRUInMemoryAssignmentCache=void 0;var ugt=$0(),fgt=L4(),lgt=v3e(),DZ=class extends fgt.AbstractAssignmentCache{constructor(e,r=ugt.DEFAULT_TLRU_TTL_MS){super(new lgt.TLRUCache(e,r))}};XR.TLRUInMemoryAssignmentCache=DZ});var X0=V(Zy=>{"use strict";d();h();Object.defineProperty(Zy,"__esModule",{value:!0});Zy.FormatEnum=Zy.UNKNOWN_ENVIRONMENT_NAME=Zy.VariationType=void 0;var w3e;(function(t){t.STRING="STRING",t.INTEGER="INTEGER",t.NUMERIC="NUMERIC",t.BOOLEAN="BOOLEAN",t.JSON="JSON"})(w3e||(Zy.VariationType=w3e={}));Zy.UNKNOWN_ENVIRONMENT_NAME="UNKNOWN";var S3e;(function(t){t.SERVER="SERVER",t.CLIENT="CLIENT",t.PRECOMPUTED="PRECOMPUTED"})(S3e||(Zy.FormatEnum=S3e={}))});var E3e=V(fh=>{"use strict";d();h();Object.defineProperty(fh,"__esModule",{value:!0});fh.ConfigurationWireV1=fh.ObfuscatedPrecomputedConfigurationResponse=fh.PrecomputedConfigurationResponse=fh.PrecomputedConfiguration=void 0;var dgt=X0(),A3e=Z0(),eC=class{constructor(e,r,n){this.subjectKey=e,this.subjectAttributes=r,this.environment=n,this.format=dgt.FormatEnum.PRECOMPUTED,this.createdAt=new Date().toISOString()}},UZ=class t{constructor(e,r,n){this.response=e,this.subjectKey=r,this.subjectAttributes=n}static obfuscated(e,r,n,i,o,s){let c=new rC(e,r,n,i,o,s);return new t(JSON.stringify(c),e,o)}static unobfuscated(e,r,n,i,o){let s=new tC(e,r,n,i,o);return new t(JSON.stringify(s),e,i)}};fh.PrecomputedConfiguration=UZ;var tC=class extends eC{constructor(e,r,n,i,o){super(e,i,o),this.flags=r,this.bandits=n,this.obfuscated=!1}};fh.PrecomputedConfigurationResponse=tC;var rC=class extends eC{constructor(e,r,n,i,o,s){super(e,o,s),this.obfuscated=!0,this.salt=i,this.bandits=(0,A3e.obfuscatePrecomputedBanditMap)(this.salt,n),this.flags=(0,A3e.obfuscatePrecomputedFlags)(this.salt,r)}};fh.ObfuscatedPrecomputedConfigurationResponse=rC;var LZ=class{constructor(e){this.precomputed=e,this.version=1}};fh.ConfigurationWireV1=LZ});var VZ=V(FZ=>{"use strict";d();h();Object.defineProperty(FZ,"__esModule",{value:!0});FZ.hydrateConfigurationStore=hgt;async function hgt(t,e){t&&await t.setEntries(e.entries)&&(t.setEnvironment(e.environment),t.setConfigFetchedAt(new Date().toISOString()),t.setConfigPublishedAt(e.createdAt),t.setFormat(e.format),t.salt=e.salt)}});var jZ=V(HZ=>{"use strict";d();h();Object.defineProperty(HZ,"__esModule",{value:!0});var qZ=VZ(),KZ=class{constructor(e,r,n,i){this.httpClient=e,this.flagConfigurationStore=r,this.banditVariationConfigurationStore=n,this.banditModelConfigurationStore=i,this.banditModelVersions=[]}async fetchAndStoreConfigurations(){let e=await this.httpClient.getUniversalFlagConfiguration();if(!e?.flags)return;await(0,qZ.hydrateConfigurationStore)(this.flagConfigurationStore,{entries:e.flags,environment:e.environment,createdAt:e.createdAt,format:e.format});let r=Object.keys(e.banditReferences??{}).length>0,n=!!(this.banditVariationConfigurationStore&&this.banditModelConfigurationStore);if(r&&n){let i=this.indexBanditVariationsByFlagKey(e.banditReferences);if(await(0,qZ.hydrateConfigurationStore)(this.banditVariationConfigurationStore,{entries:i,environment:e.environment,createdAt:e.createdAt,format:e.format}),this.requiresBanditModelConfigurationStoreUpdate(this.banditModelVersions,e.banditReferences)){let o=await this.httpClient.getBanditParameters();o?.bandits&&(await(0,qZ.hydrateConfigurationStore)(this.banditModelConfigurationStore,{entries:o.bandits,environment:e.environment,createdAt:e.createdAt,format:e.format}),this.banditModelVersions=this.getLoadedBanditModelVersionsFromStore(this.banditModelConfigurationStore))}}}getLoadedBanditModelVersionsFromStore(e){return e===null?[]:Object.values(e.entries()).map(r=>r.modelVersion)}requiresBanditModelConfigurationStoreUpdate(e,r){return!Object.values(r).map(i=>i.modelVersion).every(i=>e.includes(i))}indexBanditVariationsByFlagKey(e){let r={};return Object.values(e).forEach(n=>{n.flagVariations.forEach(i=>{let o=r[i.flagKey];o||(o=[],r[i.flagKey]=o),o.push(i)})}),r}};HZ.default=KZ});var iC=V(Nf=>{"use strict";d();h();Object.defineProperty(Nf,"__esModule",{value:!0});Nf.decodeFlag=pgt;Nf.decodeVariations=_3e;Nf.decodeValue=WZ;Nf.decodeAllocation=T3e;Nf.decodeSplit=I3e;Nf.decodeShard=M3e;Nf.decodeObject=nC;Nf.decodeObjectTo=GZ;Nf.decodePrecomputedFlag=mgt;Nf.decodePrecomputedBandit=ygt;var zZ=X0(),Ia=Z0();function pgt(t){return{...t,variations:_3e(t.variations,t.variationType),allocations:t.allocations.map(T3e)}}function _3e(t,e){return Object.fromEntries(Object.entries(t).map(([,r])=>{let n=(0,Ia.decodeBase64)(r.key);return[n,{key:n,value:WZ(r.value,e)}]}))}function WZ(t,e){switch(e){case zZ.VariationType.INTEGER:case zZ.VariationType.NUMERIC:return Number((0,Ia.decodeBase64)(t));case zZ.VariationType.BOOLEAN:return(0,Ia.decodeBase64)(t)==="true";default:return(0,Ia.decodeBase64)(t)}}function T3e(t){return{...t,key:(0,Ia.decodeBase64)(t.key),splits:t.splits.map(I3e),startAt:t.startAt?new Date((0,Ia.decodeBase64)(t.startAt)).toISOString():void 0,endAt:t.endAt?new Date((0,Ia.decodeBase64)(t.endAt)).toISOString():void 0}}function I3e(t){return{extraLogging:t.extraLogging?nC(t.extraLogging):void 0,variationKey:(0,Ia.decodeBase64)(t.variationKey),shards:t.shards.map(M3e)}}function M3e(t){return{...t,salt:(0,Ia.decodeBase64)(t.salt)}}function nC(t){return GZ(t,e=>e)}function GZ(t,e){return Object.fromEntries(Object.entries(t).map(([r,n])=>[(0,Ia.decodeBase64)(r),e((0,Ia.decodeBase64)(n))]))}function mgt(t){return{...t,allocationKey:(0,Ia.decodeBase64)(t.allocationKey??""),variationKey:(0,Ia.decodeBase64)(t.variationKey??""),variationValue:WZ(t.variationValue,t.variationType),extraLogging:nC(t.extraLogging??{})}}function ygt(t){return{...t,banditKey:(0,Ia.decodeBase64)(t.banditKey),action:(0,Ia.decodeBase64)(t.action),modelVersion:(0,Ia.decodeBase64)(t.modelVersion),actionNumericAttributes:GZ(t.actionNumericAttributes??{},e=>+e),actionCategoricalAttributes:nC(t.actionCategoricalAttributes??{})}}});var k3e=V(lS=>{"use strict";d();h();Object.defineProperty(lS,"__esModule",{value:!0});lS.EppoValue=lS.EppoValueType=void 0;var G4=X0(),ggt=Z0(),Df;(function(t){t[t.NullType=0]="NullType",t[t.BoolType=1]="BoolType",t[t.NumericType=2]="NumericType",t[t.StringType=3]="StringType",t[t.JSONType=4]="JSONType"})(Df||(lS.EppoValueType=Df={}));var $Z=class t{constructor(e,r,n,i,o){this.valueType=e,this.boolValue=r,this.numericValue=n,this.stringValue=i,this.objectValue=o}static valueOf(e,r){if(e==null)return t.Null();switch(r){case G4.VariationType.BOOLEAN:return t.Bool(e);case G4.VariationType.NUMERIC:return t.Numeric(e);case G4.VariationType.INTEGER:return t.Numeric(e);case G4.VariationType.STRING:return t.String(e);case G4.VariationType.JSON:return t.JSON(e);default:return t.String(e)}}toString(){switch(this.valueType){case Df.NullType:return"null";case Df.BoolType:return this.boolValue?"true":"false";case Df.NumericType:return this.numericValue?this.numericValue.toString():"0";case Df.StringType:return this.stringValue??"";case Df.JSONType:try{return JSON.stringify(this.objectValue)??""}catch{return this.stringValue??""}}}toHashedString(){let e=this.toString();return(0,ggt.getMD5Hash)(e)}static Bool(e){return new t(Df.BoolType,e,void 0,void 0,void 0)}static Numeric(e){return new t(Df.NumericType,void 0,e,void 0,void 0)}static String(e){return new t(Df.StringType,void 0,void 0,e,void 0)}static JSON(e){return new t(Df.JSONType,void 0,void 0,void 0,typeof e=="string"?JSON.parse(e):e)}static Null(){return new t(Df.NullType,void 0,void 0,void 0,void 0)}};lS.EppoValue=$Z});var ZZ=V(Qy=>{"use strict";d();h();Object.defineProperty(Qy,"__esModule",{value:!0});Qy.FlagEvaluationDetailsBuilder=Qy.AllocationEvaluationCode=Qy.flagEvaluationCodes=void 0;var bgt=X0();Qy.flagEvaluationCodes=["MATCH","FLAG_UNRECOGNIZED_OR_DISABLED","TYPE_MISMATCH","ASSIGNMENT_ERROR","DEFAULT_ALLOCATION_NULL","NO_ACTIONS_SUPPLIED_FOR_BANDIT","BANDIT_ERROR"];var oC;(function(t){t.UNEVALUATED="UNEVALUATED",t.MATCH="MATCH",t.BEFORE_START_TIME="BEFORE_START_TIME",t.TRAFFIC_EXPOSURE_MISS="TRAFFIC_EXPOSURE_MISS",t.AFTER_END_TIME="AFTER_END_TIME",t.FAILING_RULE="FAILING_RULE"})(oC||(Qy.AllocationEvaluationCode=oC={}));var YZ=class{constructor(e,r,n,i){this.environmentName=e,this.allocations=r,this.configFetchedAt=n,this.configPublishedAt=i,this.variationKey=null,this.variationValue=null,this.matchedRule=null,this.matchedAllocation=null,this.unmatchedAllocations=[],this.addUnmatchedAllocation=o=>{this.unmatchedAllocations.push(o)},this.setNone=()=>(this.variationKey=null,this.variationValue=null,this.matchedRule=null,this.matchedAllocation=null,this),this.setMatch=(o,s,c,l,m)=>(this.variationKey=s.key,this.variationValue=m===bgt.VariationType.JSON&&typeof s.value=="string"?JSON.parse(s.value):s.value,this.matchedRule=l,this.matchedAllocation={key:c.key,allocationEvaluationCode:oC.MATCH,orderPosition:o+1},this),this.buildForNoneResult=(o,s)=>this.setNone().build(o,s),this.build=(o,s)=>({environmentName:this.environmentName,flagEvaluationCode:o,flagEvaluationDescription:s,variationKey:this.variationKey,variationValue:this.variationValue,banditKey:null,banditAction:null,configFetchedAt:this.configFetchedAt,configPublishedAt:this.configPublishedAt,matchedRule:this.matchedRule,matchedAllocation:this.matchedAllocation,unmatchedAllocations:this.unmatchedAllocations,unevaluatedAllocations:this.calculateUnevaluatedAllocations()}),this.gracefulBuild=(o,s)=>{try{return this.build(o,s)}catch{return null}},this.calculateUnevaluatedAllocations=()=>{let o=this.matchedAllocation?this.unmatchedAllocations.length+1:this.unmatchedAllocations.length,s=o+1;return this.allocations.slice(o).map((c,l)=>({key:c.key,allocationEvaluationCode:oC.UNEVALUATED,orderPosition:s+l}))},this.setNone()}};Qy.FlagEvaluationDetailsBuilder=YZ});var JZ=V(sC=>{"use strict";d();h();Object.defineProperty(sC,"__esModule",{value:!0});sC.FlagEvaluationError=void 0;var QZ=class extends Error{};sC.FlagEvaluationError=QZ});var $4=V((p6r,P3e)=>{d();h();var vgt="2.0.0",xgt=Number.MAX_SAFE_INTEGER||9007199254740991,wgt=16,Sgt=["major","premajor","minor","preminor","patch","prepatch","prerelease"];P3e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:wgt,MAX_SAFE_INTEGER:xgt,RELEASE_TYPES:Sgt,SEMVER_SPEC_VERSION:vgt,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var Y4=V((g6r,B3e)=>{d();h();var Agt=typeof process=="object"&&T&&T.NODE_DEBUG&&/\bsemver\b/i.test(T.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};B3e.exports=Agt});var dS=V((ep,R3e)=>{d();h();var{MAX_SAFE_COMPONENT_LENGTH:XZ}=$4(),Egt=Y4();ep=R3e.exports={};var _gt=ep.re=[],Tgt=ep.safeRe=[],Mt=ep.src=[],kt=ep.t={},Igt=0,wr=(t,e,r)=>{let n=e.split("\\s*").join("\\s{0,1}").split("\\s+").join("\\s"),i=Igt++;Egt(t,i,e),kt[t]=i,Mt[i]=e,_gt[i]=new RegExp(e,r?"g":void 0),Tgt[i]=new RegExp(n,r?"g":void 0)};wr("NUMERICIDENTIFIER","0|[1-9]\\d*");wr("NUMERICIDENTIFIERLOOSE","[0-9]+");wr("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");wr("MAINVERSION",`(${Mt[kt.NUMERICIDENTIFIER]})\\.(${Mt[kt.NUMERICIDENTIFIER]})\\.(${Mt[kt.NUMERICIDENTIFIER]})`);wr("MAINVERSIONLOOSE",`(${Mt[kt.NUMERICIDENTIFIERLOOSE]})\\.(${Mt[kt.NUMERICIDENTIFIERLOOSE]})\\.(${Mt[kt.NUMERICIDENTIFIERLOOSE]})`);wr("PRERELEASEIDENTIFIER",`(?:${Mt[kt.NUMERICIDENTIFIER]}|${Mt[kt.NONNUMERICIDENTIFIER]})`);wr("PRERELEASEIDENTIFIERLOOSE",`(?:${Mt[kt.NUMERICIDENTIFIERLOOSE]}|${Mt[kt.NONNUMERICIDENTIFIER]})`);wr("PRERELEASE",`(?:-(${Mt[kt.PRERELEASEIDENTIFIER]}(?:\\.${Mt[kt.PRERELEASEIDENTIFIER]})*))`);wr("PRERELEASELOOSE",`(?:-?(${Mt[kt.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${Mt[kt.PRERELEASEIDENTIFIERLOOSE]})*))`);wr("BUILDIDENTIFIER","[0-9A-Za-z-]+");wr("BUILD",`(?:\\+(${Mt[kt.BUILDIDENTIFIER]}(?:\\.${Mt[kt.BUILDIDENTIFIER]})*))`);wr("FULLPLAIN",`v?${Mt[kt.MAINVERSION]}${Mt[kt.PRERELEASE]}?${Mt[kt.BUILD]}?`);wr("FULL",`^${Mt[kt.FULLPLAIN]}$`);wr("LOOSEPLAIN",`[v=\\s]*${Mt[kt.MAINVERSIONLOOSE]}${Mt[kt.PRERELEASELOOSE]}?${Mt[kt.BUILD]}?`);wr("LOOSE",`^${Mt[kt.LOOSEPLAIN]}$`);wr("GTLT","((?:<|>)?=?)");wr("XRANGEIDENTIFIERLOOSE",`${Mt[kt.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);wr("XRANGEIDENTIFIER",`${Mt[kt.NUMERICIDENTIFIER]}|x|X|\\*`);wr("XRANGEPLAIN",`[v=\\s]*(${Mt[kt.XRANGEIDENTIFIER]})(?:\\.(${Mt[kt.XRANGEIDENTIFIER]})(?:\\.(${Mt[kt.XRANGEIDENTIFIER]})(?:${Mt[kt.PRERELEASE]})?${Mt[kt.BUILD]}?)?)?`);wr("XRANGEPLAINLOOSE",`[v=\\s]*(${Mt[kt.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Mt[kt.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Mt[kt.XRANGEIDENTIFIERLOOSE]})(?:${Mt[kt.PRERELEASELOOSE]})?${Mt[kt.BUILD]}?)?)?`);wr("XRANGE",`^${Mt[kt.GTLT]}\\s*${Mt[kt.XRANGEPLAIN]}$`);wr("XRANGELOOSE",`^${Mt[kt.GTLT]}\\s*${Mt[kt.XRANGEPLAINLOOSE]}$`);wr("COERCE",`(^|[^\\d])(\\d{1,${XZ}})(?:\\.(\\d{1,${XZ}}))?(?:\\.(\\d{1,${XZ}}))?(?:$|[^\\d])`);wr("COERCERTL",Mt[kt.COERCE],!0);wr("LONETILDE","(?:~>?)");wr("TILDETRIM",`(\\s*)${Mt[kt.LONETILDE]}\\s+`,!0);ep.tildeTrimReplace="$1~";wr("TILDE",`^${Mt[kt.LONETILDE]}${Mt[kt.XRANGEPLAIN]}$`);wr("TILDELOOSE",`^${Mt[kt.LONETILDE]}${Mt[kt.XRANGEPLAINLOOSE]}$`);wr("LONECARET","(?:\\^)");wr("CARETTRIM",`(\\s*)${Mt[kt.LONECARET]}\\s+`,!0);ep.caretTrimReplace="$1^";wr("CARET",`^${Mt[kt.LONECARET]}${Mt[kt.XRANGEPLAIN]}$`);wr("CARETLOOSE",`^${Mt[kt.LONECARET]}${Mt[kt.XRANGEPLAINLOOSE]}$`);wr("COMPARATORLOOSE",`^${Mt[kt.GTLT]}\\s*(${Mt[kt.LOOSEPLAIN]})$|^$`);wr("COMPARATOR",`^${Mt[kt.GTLT]}\\s*(${Mt[kt.FULLPLAIN]})$|^$`);wr("COMPARATORTRIM",`(\\s*)${Mt[kt.GTLT]}\\s*(${Mt[kt.LOOSEPLAIN]}|${Mt[kt.XRANGEPLAIN]})`,!0);ep.comparatorTrimReplace="$1$2$3";wr("HYPHENRANGE",`^\\s*(${Mt[kt.XRANGEPLAIN]})\\s+-\\s+(${Mt[kt.XRANGEPLAIN]})\\s*$`);wr("HYPHENRANGELOOSE",`^\\s*(${Mt[kt.XRANGEPLAINLOOSE]})\\s+-\\s+(${Mt[kt.XRANGEPLAINLOOSE]})\\s*$`);wr("STAR","(<|>)?=?\\s*\\*");wr("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");wr("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var aC=V((S6r,C3e)=>{d();h();var Mgt=Object.freeze({loose:!0}),kgt=Object.freeze({}),Pgt=t=>t?typeof t!="object"?Mgt:t:kgt;C3e.exports=Pgt});var eQ=V((_6r,D3e)=>{d();h();var O3e=/^[0-9]+$/,N3e=(t,e)=>{let r=O3e.test(t),n=O3e.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},Bgt=(t,e)=>N3e(e,t);D3e.exports={compareIdentifiers:N3e,rcompareIdentifiers:Bgt}});var Ma=V((M6r,V3e)=>{d();h();var cC=Y4(),{MAX_LENGTH:U3e,MAX_SAFE_INTEGER:uC}=$4(),{safeRe:L3e,t:F3e}=dS(),Rgt=aC(),{compareIdentifiers:hS}=eQ(),tQ=class t{constructor(e,r){if(r=Rgt(r),e instanceof t){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>U3e)throw new TypeError(`version is longer than ${U3e} characters`);cC("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=e.trim().match(r.loose?L3e[F3e.LOOSE]:L3e[F3e.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>uC||this.major<0)throw new TypeError("Invalid major version");if(this.minor>uC||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>uC||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let o=+i;if(o>=0&&o<uC)return o}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(cC("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),hS(this.major,e.major)||hS(this.minor,e.minor)||hS(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],i=e.prerelease[r];if(cC("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return hS(n,i)}while(++r)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let r=0;do{let n=this.build[r],i=e.build[r];if(cC("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return hS(n,i)}while(++r)}inc(e,r,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let o=this.prerelease.length;for(;--o>=0;)typeof this.prerelease[o]=="number"&&(this.prerelease[o]++,o=-2);if(o===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let o=[r,i];n===!1&&(o=[r]),hS(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=o):this.prerelease=o}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};V3e.exports=tQ});var ev=V((B6r,K3e)=>{d();h();var q3e=Ma(),Cgt=(t,e,r=!1)=>{if(t instanceof q3e)return t;try{return new q3e(t,e)}catch(n){if(!r)return null;throw n}};K3e.exports=Cgt});var j3e=V((O6r,H3e)=>{d();h();var Ogt=ev(),Ngt=(t,e)=>{let r=Ogt(t,e);return r?r.version:null};H3e.exports=Ngt});var W3e=V((U6r,z3e)=>{d();h();var Dgt=ev(),Ugt=(t,e)=>{let r=Dgt(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};z3e.exports=Ugt});var Y3e=V((V6r,$3e)=>{d();h();var G3e=Ma(),Lgt=(t,e,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new G3e(t instanceof G3e?t.version:t,r).inc(e,n,i).version}catch{return null}};$3e.exports=Lgt});var J3e=V((H6r,Q3e)=>{d();h();var Z3e=ev(),Fgt=(t,e)=>{let r=Z3e(t,null,!0),n=Z3e(e,null,!0),i=r.compare(n);if(i===0)return null;let o=i>0,s=o?r:n,c=o?n:r,l=!!s.prerelease.length;if(!!c.prerelease.length&&!l)return!c.patch&&!c.minor?"major":s.patch?"patch":s.minor?"minor":"major";let w=l?"pre":"";return r.major!==n.major?w+"major":r.minor!==n.minor?w+"minor":r.patch!==n.patch?w+"patch":"prerelease"};Q3e.exports=Fgt});var e6e=V((W6r,X3e)=>{d();h();var Vgt=Ma(),qgt=(t,e)=>new Vgt(t,e).major;X3e.exports=qgt});var r6e=V((Y6r,t6e)=>{d();h();var Kgt=Ma(),Hgt=(t,e)=>new Kgt(t,e).minor;t6e.exports=Hgt});var i6e=V((J6r,n6e)=>{d();h();var jgt=Ma(),zgt=(t,e)=>new jgt(t,e).patch;n6e.exports=zgt});var s6e=V((t_r,o6e)=>{d();h();var Wgt=ev(),Ggt=(t,e)=>{let r=Wgt(t,e);return r&&r.prerelease.length?r.prerelease:null};o6e.exports=Ggt});var Uf=V((i_r,c6e)=>{d();h();var a6e=Ma(),$gt=(t,e,r)=>new a6e(t,r).compare(new a6e(e,r));c6e.exports=$gt});var f6e=V((a_r,u6e)=>{d();h();var Ygt=Uf(),Zgt=(t,e,r)=>Ygt(e,t,r);u6e.exports=Zgt});var d6e=V((f_r,l6e)=>{d();h();var Qgt=Uf(),Jgt=(t,e)=>Qgt(t,e,!0);l6e.exports=Jgt});var fC=V((h_r,p6e)=>{d();h();var h6e=Ma(),Xgt=(t,e,r)=>{let n=new h6e(t,r),i=new h6e(e,r);return n.compare(i)||n.compareBuild(i)};p6e.exports=Xgt});var y6e=V((y_r,m6e)=>{d();h();var ebt=fC(),tbt=(t,e)=>t.sort((r,n)=>ebt(r,n,e));m6e.exports=tbt});var b6e=V((v_r,g6e)=>{d();h();var rbt=fC(),nbt=(t,e)=>t.sort((r,n)=>rbt(n,r,e));g6e.exports=nbt});var Z4=V((S_r,v6e)=>{d();h();var ibt=Uf(),obt=(t,e,r)=>ibt(t,e,r)>0;v6e.exports=obt});var lC=V((__r,x6e)=>{d();h();var sbt=Uf(),abt=(t,e,r)=>sbt(t,e,r)<0;x6e.exports=abt});var rQ=V((M_r,w6e)=>{d();h();var cbt=Uf(),ubt=(t,e,r)=>cbt(t,e,r)===0;w6e.exports=ubt});var nQ=V((B_r,S6e)=>{d();h();var fbt=Uf(),lbt=(t,e,r)=>fbt(t,e,r)!==0;S6e.exports=lbt});var dC=V((O_r,A6e)=>{d();h();var dbt=Uf(),hbt=(t,e,r)=>dbt(t,e,r)>=0;A6e.exports=hbt});var hC=V((U_r,E6e)=>{d();h();var pbt=Uf(),mbt=(t,e,r)=>pbt(t,e,r)<=0;E6e.exports=mbt});var iQ=V((V_r,_6e)=>{d();h();var ybt=rQ(),gbt=nQ(),bbt=Z4(),vbt=dC(),xbt=lC(),wbt=hC(),Sbt=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return ybt(t,r,n);case"!=":return gbt(t,r,n);case">":return bbt(t,r,n);case">=":return vbt(t,r,n);case"<":return xbt(t,r,n);case"<=":return wbt(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};_6e.exports=Sbt});var I6e=V((H_r,T6e)=>{d();h();var Abt=Ma(),Ebt=ev(),{safeRe:pC,t:mC}=dS(),_bt=(t,e)=>{if(t instanceof Abt)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(pC[mC.COERCE]);else{let n;for(;(n=pC[mC.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),pC[mC.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;pC[mC.COERCERTL].lastIndex=-1}return r===null?null:Ebt(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,e)};T6e.exports=_bt});var k6e=V((W_r,M6e)=>{"use strict";d();h();M6e.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var B6e=V((Y_r,P6e)=>{"use strict";d();h();P6e.exports=An;An.Node=tv;An.create=An;function An(t){var e=this;if(e instanceof An||(e=new An),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}An.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};An.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};An.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};An.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)Ibt(this,arguments[t]);return this.length};An.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)Mbt(this,arguments[t]);return this.length};An.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};An.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};An.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};An.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};An.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};An.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};An.prototype.map=function(t,e){e=e||this;for(var r=new An,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};An.prototype.mapReverse=function(t,e){e=e||this;for(var r=new An,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};An.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=t(r,n.value,i),n=n.next;return r};An.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=t(r,n.value,i),n=n.prev;return r};An.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};An.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};An.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new An;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(;i!==null&&n<e;n++,i=i.next)r.push(i.value);return r};An.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new An;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;i!==null&&n>e;n--)i=i.prev;for(;i!==null&&n>t;n--,i=i.prev)r.push(i.value);return r};An.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(var o=[],n=0;i&&n<e;n++)o.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=Tbt(this,i,r[n]);return o};An.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function Tbt(t,e,r){var n=e===t.head?new tv(r,null,e,t):new tv(r,e,e.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}function Ibt(t,e){t.tail=new tv(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function Mbt(t,e){t.head=new tv(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function tv(t,e,r,n){if(!(this instanceof tv))return new tv(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{k6e()(An)}catch{}});var D6e=V((J_r,N6e)=>{"use strict";d();h();var kbt=B6e(),rv=Symbol("max"),rp=Symbol("length"),pS=Symbol("lengthCalculator"),J4=Symbol("allowStale"),nv=Symbol("maxAge"),tp=Symbol("dispose"),R6e=Symbol("noDisposeOnSet"),ys=Symbol("lruList"),Fl=Symbol("cache"),O6e=Symbol("updateAgeOnGet"),oQ=()=>1,aQ=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let r=this[rv]=e.max||1/0,n=e.length||oQ;if(this[pS]=typeof n!="function"?oQ:n,this[J4]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[nv]=e.maxAge||0,this[tp]=e.dispose,this[R6e]=e.noDisposeOnSet||!1,this[O6e]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[rv]=e||1/0,Q4(this)}get max(){return this[rv]}set allowStale(e){this[J4]=!!e}get allowStale(){return this[J4]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[nv]=e,Q4(this)}get maxAge(){return this[nv]}set lengthCalculator(e){typeof e!="function"&&(e=oQ),e!==this[pS]&&(this[pS]=e,this[rp]=0,this[ys].forEach(r=>{r.length=this[pS](r.value,r.key),this[rp]+=r.length})),Q4(this)}get lengthCalculator(){return this[pS]}get length(){return this[rp]}get itemCount(){return this[ys].length}rforEach(e,r){r=r||this;for(let n=this[ys].tail;n!==null;){let i=n.prev;C6e(this,e,n,r),n=i}}forEach(e,r){r=r||this;for(let n=this[ys].head;n!==null;){let i=n.next;C6e(this,e,n,r),n=i}}keys(){return this[ys].toArray().map(e=>e.key)}values(){return this[ys].toArray().map(e=>e.value)}reset(){this[tp]&&this[ys]&&this[ys].length&&this[ys].forEach(e=>this[tp](e.key,e.value)),this[Fl]=new Map,this[ys]=new kbt,this[rp]=0}dump(){return this[ys].map(e=>yC(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[ys]}set(e,r,n){if(n=n||this[nv],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let i=n?Date.now():0,o=this[pS](r,e);if(this[Fl].has(e)){if(o>this[rv])return mS(this,this[Fl].get(e)),!1;let l=this[Fl].get(e).value;return this[tp]&&(this[R6e]||this[tp](e,l.value)),l.now=i,l.maxAge=n,l.value=r,this[rp]+=o-l.length,l.length=o,this.get(e),Q4(this),!0}let s=new cQ(e,r,o,i,n);return s.length>this[rv]?(this[tp]&&this[tp](e,r),!1):(this[rp]+=s.length,this[ys].unshift(s),this[Fl].set(e,this[ys].head),Q4(this),!0)}has(e){if(!this[Fl].has(e))return!1;let r=this[Fl].get(e).value;return!yC(this,r)}get(e){return sQ(this,e,!0)}peek(e){return sQ(this,e,!1)}pop(){let e=this[ys].tail;return e?(mS(this,e),e.value):null}del(e){mS(this,this[Fl].get(e))}load(e){this.reset();let r=Date.now();for(let n=e.length-1;n>=0;n--){let i=e[n],o=i.e||0;if(o===0)this.set(i.k,i.v);else{let s=o-r;s>0&&this.set(i.k,i.v,s)}}}prune(){this[Fl].forEach((e,r)=>sQ(this,r,!1))}},sQ=(t,e,r)=>{let n=t[Fl].get(e);if(n){let i=n.value;if(yC(t,i)){if(mS(t,n),!t[J4])return}else r&&(t[O6e]&&(n.value.now=Date.now()),t[ys].unshiftNode(n));return i.value}},yC=(t,e)=>{if(!e||!e.maxAge&&!t[nv])return!1;let r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[nv]&&r>t[nv]},Q4=t=>{if(t[rp]>t[rv])for(let e=t[ys].tail;t[rp]>t[rv]&&e!==null;){let r=e.prev;mS(t,e),e=r}},mS=(t,e)=>{if(e){let r=e.value;t[tp]&&t[tp](r.key,r.value),t[rp]-=r.length,t[Fl].delete(r.key),t[ys].removeNode(e)}},cQ=class{constructor(e,r,n,i,o){this.key=e,this.value=r,this.length=n,this.now=i,this.maxAge=o||0}},C6e=(t,e,r,n)=>{let i=r.value;yC(t,i)&&(mS(t,r),t[J4]||(i=void 0)),i&&e.call(n,i.value,i.key,t)};N6e.exports=aQ});var Lf=V((t4r,V6e)=>{d();h();var uQ=class t{constructor(e,r){if(r=Bbt(r),e instanceof t)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new t(e.raw,r);if(e instanceof fQ)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(n=>this.parseRange(n)).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!L6e(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&Lbt(i[0])){this.set=[i];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){let n=((this.options.includePrerelease&&Dbt)|(this.options.loose&&Ubt))+":"+e,i=U6e.get(n);if(i)return i;let o=this.options.loose,s=o?Rc[nc.HYPHENRANGELOOSE]:Rc[nc.HYPHENRANGE];e=e.replace(s,$bt(this.options.includePrerelease)),Ki("hyphen replace",e),e=e.replace(Rc[nc.COMPARATORTRIM],Cbt),Ki("comparator trim",e),e=e.replace(Rc[nc.TILDETRIM],Obt),e=e.replace(Rc[nc.CARETTRIM],Nbt);let c=e.split(" ").map(b=>Fbt(b,this.options)).join(" ").split(/\s+/).map(b=>Gbt(b,this.options));o&&(c=c.filter(b=>(Ki("loose invalid filter",b,this.options),!!b.match(Rc[nc.COMPARATORLOOSE])))),Ki("range list",c);let l=new Map,m=c.map(b=>new fQ(b,this.options));for(let b of m){if(L6e(b))return[b];l.set(b.value,b)}l.size>1&&l.has("")&&l.delete("");let w=[...l.values()];return U6e.set(n,w),w}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(n=>F6e(n,r)&&e.set.some(i=>F6e(i,r)&&n.every(o=>i.every(s=>o.intersects(s,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new Rbt(e,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(Ybt(this.set[r],e,this.options))return!0;return!1}};V6e.exports=uQ;var Pbt=D6e(),U6e=new Pbt({max:1e3}),Bbt=aC(),fQ=X4(),Ki=Y4(),Rbt=Ma(),{safeRe:Rc,t:nc,comparatorTrimReplace:Cbt,tildeTrimReplace:Obt,caretTrimReplace:Nbt}=dS(),{FLAG_INCLUDE_PRERELEASE:Dbt,FLAG_LOOSE:Ubt}=$4(),L6e=t=>t.value==="<0.0.0-0",Lbt=t=>t.value==="",F6e=(t,e)=>{let r=!0,n=t.slice(),i=n.pop();for(;r&&n.length;)r=n.every(o=>i.intersects(o,e)),i=n.pop();return r},Fbt=(t,e)=>(Ki("comp",t,e),t=Kbt(t,e),Ki("caret",t),t=Vbt(t,e),Ki("tildes",t),t=jbt(t,e),Ki("xrange",t),t=Wbt(t,e),Ki("stars",t),t),ic=t=>!t||t.toLowerCase()==="x"||t==="*",Vbt=(t,e)=>t.trim().split(/\s+/).map(r=>qbt(r,e)).join(" "),qbt=(t,e)=>{let r=e.loose?Rc[nc.TILDELOOSE]:Rc[nc.TILDE];return t.replace(r,(n,i,o,s,c)=>{Ki("tilde",t,n,i,o,s,c);let l;return ic(i)?l="":ic(o)?l=`>=${i}.0.0 <${+i+1}.0.0-0`:ic(s)?l=`>=${i}.${o}.0 <${i}.${+o+1}.0-0`:c?(Ki("replaceTilde pr",c),l=`>=${i}.${o}.${s}-${c} <${i}.${+o+1}.0-0`):l=`>=${i}.${o}.${s} <${i}.${+o+1}.0-0`,Ki("tilde return",l),l})},Kbt=(t,e)=>t.trim().split(/\s+/).map(r=>Hbt(r,e)).join(" "),Hbt=(t,e)=>{Ki("caret",t,e);let r=e.loose?Rc[nc.CARETLOOSE]:Rc[nc.CARET],n=e.includePrerelease?"-0":"";return t.replace(r,(i,o,s,c,l)=>{Ki("caret",t,i,o,s,c,l);let m;return ic(o)?m="":ic(s)?m=`>=${o}.0.0${n} <${+o+1}.0.0-0`:ic(c)?o==="0"?m=`>=${o}.${s}.0${n} <${o}.${+s+1}.0-0`:m=`>=${o}.${s}.0${n} <${+o+1}.0.0-0`:l?(Ki("replaceCaret pr",l),o==="0"?s==="0"?m=`>=${o}.${s}.${c}-${l} <${o}.${s}.${+c+1}-0`:m=`>=${o}.${s}.${c}-${l} <${o}.${+s+1}.0-0`:m=`>=${o}.${s}.${c}-${l} <${+o+1}.0.0-0`):(Ki("no pr"),o==="0"?s==="0"?m=`>=${o}.${s}.${c}${n} <${o}.${s}.${+c+1}-0`:m=`>=${o}.${s}.${c}${n} <${o}.${+s+1}.0-0`:m=`>=${o}.${s}.${c} <${+o+1}.0.0-0`),Ki("caret return",m),m})},jbt=(t,e)=>(Ki("replaceXRanges",t,e),t.split(/\s+/).map(r=>zbt(r,e)).join(" ")),zbt=(t,e)=>{t=t.trim();let r=e.loose?Rc[nc.XRANGELOOSE]:Rc[nc.XRANGE];return t.replace(r,(n,i,o,s,c,l)=>{Ki("xRange",t,n,i,o,s,c,l);let m=ic(o),w=m||ic(s),b=w||ic(c),E=b;return i==="="&&E&&(i=""),l=e.includePrerelease?"-0":"",m?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&E?(w&&(s=0),c=0,i===">"?(i=">=",w?(o=+o+1,s=0,c=0):(s=+s+1,c=0)):i==="<="&&(i="<",w?o=+o+1:s=+s+1),i==="<"&&(l="-0"),n=`${i+o}.${s}.${c}${l}`):w?n=`>=${o}.0.0${l} <${+o+1}.0.0-0`:b&&(n=`>=${o}.${s}.0${l} <${o}.${+s+1}.0-0`),Ki("xRange return",n),n})},Wbt=(t,e)=>(Ki("replaceStars",t,e),t.trim().replace(Rc[nc.STAR],"")),Gbt=(t,e)=>(Ki("replaceGTE0",t,e),t.trim().replace(Rc[e.includePrerelease?nc.GTE0PRE:nc.GTE0],"")),$bt=t=>(e,r,n,i,o,s,c,l,m,w,b,E,I)=>(ic(n)?r="":ic(i)?r=`>=${n}.0.0${t?"-0":""}`:ic(o)?r=`>=${n}.${i}.0${t?"-0":""}`:s?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,ic(m)?l="":ic(w)?l=`<${+m+1}.0.0-0`:ic(b)?l=`<${m}.${+w+1}.0-0`:E?l=`<=${m}.${w}.${b}-${E}`:t?l=`<${m}.${w}.${+b+1}-0`:l=`<=${l}`,`${r} ${l}`.trim()),Ybt=(t,e,r)=>{for(let n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let n=0;n<t.length;n++)if(Ki(t[n].semver),t[n].semver!==fQ.ANY&&t[n].semver.prerelease.length>0){let i=t[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}});var X4=V((i4r,W6e)=>{d();h();var e8=Symbol("SemVer ANY"),hQ=class t{static get ANY(){return e8}constructor(e,r){if(r=q6e(r),e instanceof t){if(e.loose===!!r.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),dQ("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===e8?this.value="":this.value=this.operator+this.semver.version,dQ("comp",this)}parse(e){let r=this.options.loose?K6e[H6e.COMPARATORLOOSE]:K6e[H6e.COMPARATOR],n=e.match(r);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new j6e(n[2],this.options.loose):this.semver=e8}toString(){return this.value}test(e){if(dQ("Comparator.test",e,this.options.loose),this.semver===e8||e===e8)return!0;if(typeof e=="string")try{e=new j6e(e,this.options)}catch{return!1}return lQ(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new z6e(e.value,r).test(this.value):e.operator===""?e.value===""?!0:new z6e(this.value,r).test(e.semver):(r=q6e(r),r.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||lQ(this.semver,"<",e.semver,r)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||lQ(this.semver,">",e.semver,r)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};W6e.exports=hQ;var q6e=aC(),{safeRe:K6e,t:H6e}=dS(),lQ=iQ(),dQ=Y4(),j6e=Ma(),z6e=Lf()});var t8=V((a4r,G6e)=>{d();h();var Zbt=Lf(),Qbt=(t,e,r)=>{try{e=new Zbt(e,r)}catch{return!1}return e.test(t)};G6e.exports=Qbt});var Y6e=V((f4r,$6e)=>{d();h();var Jbt=Lf(),Xbt=(t,e)=>new Jbt(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));$6e.exports=Xbt});var Q6e=V((h4r,Z6e)=>{d();h();var e1t=Ma(),t1t=Lf(),r1t=(t,e,r)=>{let n=null,i=null,o=null;try{o=new t1t(e,r)}catch{return null}return t.forEach(s=>{o.test(s)&&(!n||i.compare(s)===-1)&&(n=s,i=new e1t(n,r))}),n};Z6e.exports=r1t});var X6e=V((y4r,J6e)=>{d();h();var n1t=Ma(),i1t=Lf(),o1t=(t,e,r)=>{let n=null,i=null,o=null;try{o=new i1t(e,r)}catch{return null}return t.forEach(s=>{o.test(s)&&(!n||i.compare(s)===1)&&(n=s,i=new n1t(n,r))}),n};J6e.exports=o1t});var r_e=V((v4r,t_e)=>{d();h();var pQ=Ma(),s1t=Lf(),e_e=Z4(),a1t=(t,e)=>{t=new s1t(t,e);let r=new pQ("0.0.0");if(t.test(r)||(r=new pQ("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){let i=t.set[n],o=null;i.forEach(s=>{let c=new pQ(s.semver.version);switch(s.operator){case">":c.prerelease.length===0?c.patch++:c.prerelease.push(0),c.raw=c.format();case"":case">=":(!o||e_e(c,o))&&(o=c);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${s.operator}`)}}),o&&(!r||e_e(r,o))&&(r=o)}return r&&t.test(r)?r:null};t_e.exports=a1t});var i_e=V((S4r,n_e)=>{d();h();var c1t=Lf(),u1t=(t,e)=>{try{return new c1t(t,e).range||"*"}catch{return null}};n_e.exports=u1t});var gC=V((_4r,c_e)=>{d();h();var f1t=Ma(),a_e=X4(),{ANY:l1t}=a_e,d1t=Lf(),h1t=t8(),o_e=Z4(),s_e=lC(),p1t=hC(),m1t=dC(),y1t=(t,e,r,n)=>{t=new f1t(t,n),e=new d1t(e,n);let i,o,s,c,l;switch(r){case">":i=o_e,o=p1t,s=s_e,c=">",l=">=";break;case"<":i=s_e,o=m1t,s=o_e,c="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(h1t(t,e,n))return!1;for(let m=0;m<e.set.length;++m){let w=e.set[m],b=null,E=null;if(w.forEach(I=>{I.semver===l1t&&(I=new a_e(">=0.0.0")),b=b||I,E=E||I,i(I.semver,b.semver,n)?b=I:s(I.semver,E.semver,n)&&(E=I)}),b.operator===c||b.operator===l||(!E.operator||E.operator===c)&&o(t,E.semver))return!1;if(E.operator===l&&s(t,E.semver))return!1}return!0};c_e.exports=y1t});var f_e=V((M4r,u_e)=>{d();h();var g1t=gC(),b1t=(t,e,r)=>g1t(t,e,">",r);u_e.exports=b1t});var d_e=V((B4r,l_e)=>{d();h();var v1t=gC(),x1t=(t,e,r)=>v1t(t,e,"<",r);l_e.exports=x1t});var m_e=V((O4r,p_e)=>{d();h();var h_e=Lf(),w1t=(t,e,r)=>(t=new h_e(t,r),e=new h_e(e,r),t.intersects(e,r));p_e.exports=w1t});var g_e=V((U4r,y_e)=>{d();h();var S1t=t8(),A1t=Uf();y_e.exports=(t,e,r)=>{let n=[],i=null,o=null,s=t.sort((w,b)=>A1t(w,b,r));for(let w of s)S1t(w,e,r)?(o=w,i||(i=w)):(o&&n.push([i,o]),o=null,i=null);i&&n.push([i,null]);let c=[];for(let[w,b]of n)w===b?c.push(w):!b&&w===s[0]?c.push("*"):b?w===s[0]?c.push(`<=${b}`):c.push(`${w} - ${b}`):c.push(`>=${w}`);let l=c.join(" || "),m=typeof e.raw=="string"?e.raw:String(e);return l.length<m.length?l:e}});var A_e=V((V4r,S_e)=>{d();h();var b_e=Lf(),yQ=X4(),{ANY:mQ}=yQ,r8=t8(),gQ=Uf(),E1t=(t,e,r={})=>{if(t===e)return!0;t=new b_e(t,r),e=new b_e(e,r);let n=!1;e:for(let i of t.set){for(let o of e.set){let s=T1t(i,o,r);if(n=n||s!==null,s)continue e}if(n)return!1}return!0},_1t=[new yQ(">=0.0.0-0")],v_e=[new yQ(">=0.0.0")],T1t=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===mQ){if(e.length===1&&e[0].semver===mQ)return!0;r.includePrerelease?t=_1t:t=v_e}if(e.length===1&&e[0].semver===mQ){if(r.includePrerelease)return!0;e=v_e}let n=new Set,i,o;for(let I of t)I.operator===">"||I.operator===">="?i=x_e(i,I,r):I.operator==="<"||I.operator==="<="?o=w_e(o,I,r):n.add(I.semver);if(n.size>1)return null;let s;if(i&&o){if(s=gQ(i.semver,o.semver,r),s>0)return null;if(s===0&&(i.operator!==">="||o.operator!=="<="))return null}for(let I of n){if(i&&!r8(I,String(i),r)||o&&!r8(I,String(o),r))return null;for(let M of e)if(!r8(I,String(M),r))return!1;return!0}let c,l,m,w,b=o&&!r.includePrerelease&&o.semver.prerelease.length?o.semver:!1,E=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;b&&b.prerelease.length===1&&o.operator==="<"&&b.prerelease[0]===0&&(b=!1);for(let I of e){if(w=w||I.operator===">"||I.operator===">=",m=m||I.operator==="<"||I.operator==="<=",i){if(E&&I.semver.prerelease&&I.semver.prerelease.length&&I.semver.major===E.major&&I.semver.minor===E.minor&&I.semver.patch===E.patch&&(E=!1),I.operator===">"||I.operator===">="){if(c=x_e(i,I,r),c===I&&c!==i)return!1}else if(i.operator===">="&&!r8(i.semver,String(I),r))return!1}if(o){if(b&&I.semver.prerelease&&I.semver.prerelease.length&&I.semver.major===b.major&&I.semver.minor===b.minor&&I.semver.patch===b.patch&&(b=!1),I.operator==="<"||I.operator==="<="){if(l=w_e(o,I,r),l===I&&l!==o)return!1}else if(o.operator==="<="&&!r8(o.semver,String(I),r))return!1}if(!I.operator&&(o||i)&&s!==0)return!1}return!(i&&m&&!o&&s!==0||o&&w&&!i&&s!==0||E||b)},x_e=(t,e,r)=>{if(!t)return e;let n=gQ(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},w_e=(t,e,r)=>{if(!t)return e;let n=gQ(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};S_e.exports=E1t});var I_e=V((H4r,T_e)=>{d();h();var bQ=dS(),E_e=$4(),I1t=Ma(),__e=eQ(),M1t=ev(),k1t=j3e(),P1t=W3e(),B1t=Y3e(),R1t=J3e(),C1t=e6e(),O1t=r6e(),N1t=i6e(),D1t=s6e(),U1t=Uf(),L1t=f6e(),F1t=d6e(),V1t=fC(),q1t=y6e(),K1t=b6e(),H1t=Z4(),j1t=lC(),z1t=rQ(),W1t=nQ(),G1t=dC(),$1t=hC(),Y1t=iQ(),Z1t=I6e(),Q1t=X4(),J1t=Lf(),X1t=t8(),evt=Y6e(),tvt=Q6e(),rvt=X6e(),nvt=r_e(),ivt=i_e(),ovt=gC(),svt=f_e(),avt=d_e(),cvt=m_e(),uvt=g_e(),fvt=A_e();T_e.exports={parse:M1t,valid:k1t,clean:P1t,inc:B1t,diff:R1t,major:C1t,minor:O1t,patch:N1t,prerelease:D1t,compare:U1t,rcompare:L1t,compareLoose:F1t,compareBuild:V1t,sort:q1t,rsort:K1t,gt:H1t,lt:j1t,eq:z1t,neq:W1t,gte:G1t,lte:$1t,cmp:Y1t,coerce:Z1t,Comparator:Q1t,Range:J1t,satisfies:X1t,toComparators:evt,maxSatisfying:tvt,minSatisfying:rvt,minVersion:nvt,validRange:ivt,outside:ovt,gtr:svt,ltr:avt,intersects:cvt,simplifyRange:uvt,subset:fvt,SemVer:I1t,re:bQ.re,src:bQ.src,tokens:bQ.t,SEMVER_SPEC_VERSION:E_e.SEMVER_SPEC_VERSION,RELEASE_TYPES:E_e.RELEASE_TYPES,compareIdentifiers:__e.compareIdentifiers,rcompareIdentifiers:__e.rcompareIdentifiers}});var O_e=V(ov=>{"use strict";d();h();Object.defineProperty(ov,"__esModule",{value:!0});ov.ObfuscatedOperatorType=ov.OperatorType=void 0;ov.matchesRule=lvt;var Vl=I_e(),iv=Z0(),Ks;(function(t){t.MATCHES="MATCHES",t.NOT_MATCHES="NOT_MATCHES",t.GTE="GTE",t.GT="GT",t.LTE="LTE",t.LT="LT",t.ONE_OF="ONE_OF",t.NOT_ONE_OF="NOT_ONE_OF",t.IS_NULL="IS_NULL"})(Ks||(ov.OperatorType=Ks={}));var Hs;(function(t){t.MATCHES="05015086bdd8402218f6aad6528bef08",t.NOT_MATCHES="8323761667755378c3a78e0a6ed37a78",t.GTE="32d35312e8f24bc1669bd2b45c00d47c",t.GT="cd6a9bd2a175104eed40f0d33a8b4020",t.LTE="cc981ecc65ecf63ad1673cbec9c64198",t.LT="c562607189d77eb9dfb707464c1e7b0b",t.ONE_OF="27457ce369f2a74203396a35ef537c0b",t.NOT_ONE_OF="602f5ee0b6e84fe29f43ab48b9e1addf",t.IS_NULL="dbd9c38e0339e6c34bd48cafc59be388"})(Hs||(ov.ObfuscatedOperatorType=Hs={}));var np;(function(t){t.PLAIN_STRING="PLAIN_STRING",t.STRING_ARRAY="STRING_ARRAY",t.SEM_VER="SEM_VER",t.NUMERIC="NUMERIC"})(np||(np={}));function lvt(t,e,r){return!dvt(e,t.conditions,r).includes(!1)}function dvt(t,e,r){return e.map(n=>r?pvt(Object.entries(t).reduce((i,[o,s])=>({[(0,iv.getMD5Hash)(o)]:s,...i}),{}),n):hvt(t,n))}function hvt(t,e){let r=t[e.attribute];if(e.operator===Ks.IS_NULL)return e.value?r==null:r!=null;if(r!=null)switch(e.operator){case Ks.GTE:case Ks.GT:case Ks.LTE:case Ks.LT:{if(C_e(e.value)===np.SEM_VER){let o=e.operator===Ks.GTE?Vl.gte:e.operator===Ks.GT?Vl.gt:e.operator===Ks.LTE?Vl.lte:Vl.lt;return R_e(r,e.value,o)}let i=(o,s)=>e.operator===Ks.GTE?o>=s:e.operator===Ks.GT?o>s:e.operator===Ks.LTE?o<=s:o<s;return B_e(r,e.value,i)}case Ks.MATCHES:return new RegExp(e.value).test(r);case Ks.NOT_MATCHES:return!new RegExp(e.value).test(r);case Ks.ONE_OF:return M_e(r.toString(),e.value);case Ks.NOT_ONE_OF:return k_e(r.toString(),e.value)}return!1}function pvt(t,e){let r=t[e.attribute];if(e.operator===Hs.IS_NULL)return e.value===(0,iv.getMD5Hash)("true")?r==null:r!=null;if(r!=null)switch(e.operator){case Hs.GTE:case Hs.GT:case Hs.LTE:case Hs.LT:{let n=(0,iv.decodeBase64)(e.value);if(C_e(n)===np.SEM_VER){let s=e.operator===Hs.GTE?Vl.gte:e.operator===Hs.GT?Vl.gt:e.operator===Hs.LTE?Vl.lte:Vl.lt;return R_e(r,n,s)}let o=(s,c)=>e.operator===Hs.GTE?s>=c:e.operator===Hs.GT?s>c:e.operator===Hs.LTE?s<=c:s<c;return B_e(r,Number(n),o)}case Hs.MATCHES:return new RegExp((0,iv.decodeBase64)(e.value)).test(r);case Hs.NOT_MATCHES:return!new RegExp((0,iv.decodeBase64)(e.value)).test(r);case Hs.ONE_OF:return M_e((0,iv.getMD5Hash)(r.toString()),e.value);case Hs.NOT_ONE_OF:return k_e((0,iv.getMD5Hash)(r.toString()),e.value)}return!1}function M_e(t,e){return P_e(t,e).length>0}function k_e(t,e){return P_e(t,e).length===0}function P_e(t,e){return e.filter(r=>r===t)}function B_e(t,e,r){return r(Number(t),Number(e))}function R_e(t,e,r){return!!(0,Vl.valid)(t)&&!!(0,Vl.valid)(e)&&r(t,e)}function C_e(t){return typeof t=="number"?np.NUMERIC:Array.isArray(t)?np.STRING_ARRAY:typeof t=="string"&&(0,Vl.valid)(t)?np.SEM_VER:isNaN(Number(t))?np.PLAIN_STRING:np.NUMERIC}});var L_e=V(Jy=>{"use strict";d();h();Object.defineProperty(Jy,"__esModule",{value:!0});Jy.Evaluator=void 0;Jy.isInShardRange=N_e;Jy.hashKey=D_e;Jy.noneResult=xQ;Jy.matchesRules=U_e;var mvt=bC(),n8=ZZ(),yvt=JZ(),gvt=O_e(),bvt=CZ(),vQ=class{constructor(e){this.getMatchedEvaluationCodeAndDescription=(r,n,i,o,s)=>{if(!(0,mvt.checkValueTypeMatch)(s,r.value)){let{key:b,value:E}=r;return{flagEvaluationCode:"ASSIGNMENT_ERROR",flagEvaluationDescription:`Variation (${b}) is configured for type ${s}, but is set to incompatible value (${E})`}}let c=!!n.rules?.length,l=n.splits.length>1,m=i.shards.length>1,w=l||m;return c&&w?{flagEvaluationCode:"MATCH",flagEvaluationDescription:`Supplied attributes match rules defined in allocation "${n.key}" and ${o} belongs to the range of traffic assigned to "${i.variationKey}".`}:c&&!w?{flagEvaluationCode:"MATCH",flagEvaluationDescription:`Supplied attributes match rules defined in allocation "${n.key}".`}:{flagEvaluationCode:"MATCH",flagEvaluationDescription:`${o} belongs to the range of traffic assigned to "${i.variationKey}" defined in allocation "${n.key}".`}},this.sharder=e??new bvt.MD5Sharder}evaluateFlag(e,r,n,i,o,s){let c=new n8.FlagEvaluationDetailsBuilder(r.configEnvironment.name,e.allocations,r.configFetchedAt,r.configPublishedAt);try{if(!e.enabled)return xQ(e.key,n,i,c.buildForNoneResult("FLAG_UNRECOGNIZED_OR_DISABLED",`Unrecognized or disabled flag: ${e.key}`),r.configFormat);let l=new Date;for(let m=0;m<e.allocations.length;m++){let w=e.allocations[m],b=M=>{c.addUnmatchedAllocation({key:w.key,allocationEvaluationCode:M,orderPosition:m+1})};if(w.startAt&&l<new Date(w.startAt)){b(n8.AllocationEvaluationCode.BEFORE_START_TIME);continue}if(w.endAt&&l>new Date(w.endAt)){b(n8.AllocationEvaluationCode.AFTER_END_TIME);continue}let{matched:E,matchedRule:I}=U_e(w?.rules??[],{id:n,...i},o);if(E){for(let M of w.splits)if(M.shards.every(k=>this.matchesShard(k,n,e.totalShards))){let k=e.variations[M.variationKey],{flagEvaluationCode:R,flagEvaluationDescription:B}=this.getMatchedEvaluationCodeAndDescription(k,w,M,n,s),U=c.setMatch(m,k,w,I,s).build(R,B);return{flagKey:e.key,format:r.configFormat,subjectKey:n,subjectAttributes:i,allocationKey:w.key,variation:k,extraLogging:M.extraLogging??{},doLog:w.doLog,flagEvaluationDetails:U}}b(n8.AllocationEvaluationCode.TRAFFIC_EXPOSURE_MISS)}else b(n8.AllocationEvaluationCode.FAILING_RULE)}return xQ(e.key,n,i,c.buildForNoneResult("DEFAULT_ALLOCATION_NULL",'No allocations matched. Falling back to "Default Allocation", serving NULL'),r.configFormat)}catch(l){console.error(">>>>",l);let m=c.gracefulBuild("ASSIGNMENT_ERROR",`Assignment Error: ${l.message}`);if(m){let w=new yvt.FlagEvaluationError(l.message);throw w.flagEvaluationDetails=m,w}throw l}}matchesShard(e,r,n){let i=this.sharder.getShard(D_e(e.salt,r),n);return e.ranges.some(o=>N_e(i,o))}};Jy.Evaluator=vQ;function N_e(t,e){return e.start<=t&&t<e.end}function D_e(t,e){return`${t}-${e}`}function xQ(t,e,r,n,i){return{flagKey:t,format:i,subjectKey:e,subjectAttributes:r,allocationKey:null,variation:null,extraLogging:{},doLog:!1,flagEvaluationDetails:n}}function U_e(t,e,r){if(!t.length)return{matched:!0,matchedRule:null};let n=null;return t.some(o=>{let s=(0,gvt.matchesRule)(o,e,r);return s&&(n=o),s})?{matched:!0,matchedRule:n}:{matched:!1,matchedRule:null}}});var SQ=V(vC=>{"use strict";d();h();Object.defineProperty(vC,"__esModule",{value:!0});vC.BoundedEventQueue=void 0;var vvt=uh(),xvt=$0(),wQ=class{constructor(e,r=new Array,n=xvt.MAX_EVENT_QUEUE_SIZE){this.name=e,this.queue=r,this.maxSize=n}get length(){return this.queue.length}splice(e){return this.queue.splice(e)}isEmpty(){return this.queue.length===0}[Symbol.iterator](){return this.queue[Symbol.iterator]()}push(...e){let{name:r,maxSize:n,queue:i}=this;for(;i.length<n&&e.length>0;)i.push(...e.splice(0,1));e.length>0&&vvt.logger.warn(`Dropping ${e.length} events for queue ${r} since maxSize of ${n} reached.`)}flush(){let e=[...this.queue];return this.queue.length=0,e}};vC.BoundedEventQueue=wQ});var _Q=V(EQ=>{"use strict";d();h();Object.defineProperty(EQ,"__esModule",{value:!0});var AQ=class{dispatch(e){}};EQ.default=AQ});var xC=V(i8=>{"use strict";d();h();Object.defineProperty(i8,"__esModule",{value:!0});i8.HttpRequestError=void 0;var ql=class extends Error{constructor(e,r,n){super(e),this.message=e,this.status=r,this.cause=n,n&&(this.cause=n)}};i8.HttpRequestError=ql;var TQ=class{constructor(e,r){this.apiEndpoints=e,this.timeout=r}async getUniversalFlagConfiguration(){let e=this.apiEndpoints.ufcEndpoint();return await this.rawGet(e)}async getBanditParameters(){let e=this.apiEndpoints.banditParametersEndpoint();return await this.rawGet(e)}async getPrecomputedFlags(e){let r=this.apiEndpoints.precomputedFlagsEndpoint();return await this.rawPost(r,e)}async rawGet(e){try{let r=new AbortController,n=r.signal,i=setTimeout(()=>r.abort(),this.timeout),o=await fetch(e.toString(),{signal:n});if(clearTimeout(i),!o?.ok)throw new ql("Failed to fetch data",o?.status);return await o.json()}catch(r){throw r.name==="AbortError"?new ql("Request timed out",408,r):r instanceof ql?r:new ql("Network error",0,r)}}async rawPost(e,r){try{let n=new AbortController,i=n.signal,o=setTimeout(()=>n.abort(),this.timeout),s=await fetch(e.toString(),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r),signal:i});if(clearTimeout(o),!s?.ok){let c=await s.text();throw new ql(c||"Failed to post data",s?.status)}return await s.json()}catch(n){throw n.name==="AbortError"?new ql("Request timed out",408,n):n instanceof ql?n:new ql("Network error",0,n)}}};i8.default=TQ});var F_e=V(IQ=>{"use strict";d();h();Object.defineProperty(IQ,"__esModule",{value:!0});IQ.waitForMs=wvt;async function wvt(t){await new Promise(e=>setTimeout(e,t))}});var kQ=V(MQ=>{"use strict";d();h();Object.defineProperty(MQ,"__esModule",{value:!0});MQ.default=Avt;var vu=uh(),wC=$0(),Svt=F_e();function Avt(t,e,r){let n=!1,i=0,o=t,s=!1,c,l=async()=>{n=!1;let b=!1,E=r?.skipInitialPoll?0:1+(r?.maxStartRetries??wC.DEFAULT_INITIAL_CONFIG_REQUEST_RETRIES),I=null;for(;!b&&E>0;)try{await e(),b=!0,s=!1,vu.logger.info("Eppo SDK successfully requested initial configuration")}catch(k){if(s=!0,vu.logger.warn(`Eppo SDK encountered an error with initial poll of configurations: ${k.message}`),--E>0){let R=V_e(t);vu.logger.warn(`Eppo SDK will retry the initial poll again in ${R} ms (${E} attempts remaining)`),await(0,Svt.waitForMs)(R)}else r?.pollAfterFailedStart?vu.logger.warn("Eppo SDK initial poll failed; will attempt regular polling"):(vu.logger.error("Eppo SDK initial poll failed. Aborting polling"),m()),r?.errorOnFailedStart&&(I=k)}if(!n&&(b&&r?.pollAfterSuccessfulStart||!b&&r?.pollAfterFailedStart)?(vu.logger.info(`Eppo SDK starting regularly polling every ${t} ms`),c=setTimeout(w,t)):vu.logger.info("Eppo SDK will not poll for configuration updates"),I)throw vu.logger.info("Eppo SDK rethrowing start error"),I},m=()=>{n||(n=!0,c&&clearTimeout(c),vu.logger.info("Eppo SDK polling stopped"))};async function w(){if(!n){try{await e(),i=0,o=t,s&&(s=!1,vu.logger.info("Eppo SDK poll successful; resuming normal polling"))}catch(b){s=!0,vu.logger.warn(`Eppo SDK encountered an error polling configurations: ${b.message}`);let E=1+(r?.maxPollRetries??wC.DEFAULT_POLL_CONFIG_REQUEST_RETRIES);if(++i<E){let I=Math.pow(2,i),M=V_e(t);o=I*t+M,vu.logger.warn(`Eppo SDK will try polling again in ${o} ms (${E-i} attempts remaining)`)}else vu.logger.error(`Eppo SDK reached maximum of ${i} failed polling attempts. Stopping polling`),m()}setTimeout(w,o)}}return{start:l,stop:m}}function V_e(t){let e=t*wC.POLL_JITTER_PCT/2,r=Math.max(Math.floor(Math.random()*t*wC.POLL_JITTER_PCT/2),1);return e+r}});var AC=V(o8=>{"use strict";d();h();Object.defineProperty(o8,"__esModule",{value:!0});o8.InvalidArgumentError=void 0;o8.validateNotBlank=Evt;var SC=class extends Error{};o8.InvalidArgumentError=SC;function Evt(t,e){if(t==null||t.length===0)throw new SC(e)}});var q_e=V((y8r,_vt)=>{_vt.exports={name:"@eppo/js-client-sdk-common",version:"4.8.4",description:"Common library for Eppo JavaScript SDKs (web, react native, and node)",main:"dist/index.js",files:["/dist","/src","!*.spec.ts"],types:"./dist/index.d.ts",engines:{node:">=18.x"},exports:{".":{types:"./dist/index.d.ts",default:"./dist/index.js"}},scripts:{lint:"eslint '**/*.{ts,tsx}' --cache","lint:fix":"eslint --fix '**/*.{ts,tsx}' --cache","lint:fix-pre-commit":"eslint -c .eslintrc.pre-commit.js --fix '**/*.{ts,tsx}' --no-eslintrc --cache",prepare:"make prepare","pre-commit":"lint-staged && tsc",typecheck:"tsc",test:"yarn test:unit","test:unit":"NODE_ENV=test jest '.*\\.spec\\.ts'","obfuscate-mock-ufc":"ts-node test/writeObfuscatedMockUFC"},jsdelivr:"dist/eppo-sdk.js",repository:{type:"git",url:"git+https://github.com/Eppo-exp/js-client-sdk-common.git"},author:"",license:"MIT",bugs:{url:"https://github.com/Eppo-exp/js-client-sdk-common/issues"},homepage:"https://github.com/Eppo-exp/js-client-sdk-common#readme",devDependencies:{"@types/jest":"^29.5.11","@types/js-base64":"^3.3.1","@types/lodash":"^4.17.5","@types/semver":"^7.5.6","@types/spark-md5":"^3.0.5","@types/uuid":"^10.0.0","@typescript-eslint/eslint-plugin":"^5.13.0","@typescript-eslint/parser":"^5.13.0",eslint:"^8.17.0","eslint-config-prettier":"^10.0.1","eslint-import-resolver-typescript":"^3.7.0","eslint-plugin-import":"^2.25.4","eslint-plugin-prettier":"5.0.0","eslint-plugin-promise":"^7.2.1","eslint-plugin-unused-imports":"^4.1.4",jest:"^29.7.0","jest-environment-jsdom":"^29.7.0",lodash:"^4.17.21",prettier:"^3.4.2","terser-webpack-plugin":"^5.3.3",testdouble:"^3.20.1","ts-jest":"^29.1.1","ts-loader":"^9.3.1","ts-node":"^10.9.1",typescript:"^5.7.2",webpack:"^5.73.0","webpack-cli":"^6.0.1"},dependencies:{buffer:"npm:@eppo/buffer@6.2.0","js-base64":"^3.7.7",pino:"^9.5.0",semver:"^7.5.4","spark-md5":"^3.0.2",uuid:"^11.0.5"},packageManager:"yarn@1.22.22+sha512.a6b2f7906b721bba3d67d4aff083df04dad64c399707841b7acf00f6b133b7ac24255f2652fa22ae3534329dc6180534e98d17432037ff6fd140556e2bb3137e"}});var PQ=V(EC=>{"use strict";d();h();Object.defineProperty(EC,"__esModule",{value:!0});EC.LIB_VERSION=void 0;var Tvt=q_e();EC.LIB_VERSION=Tvt.version});var bC=V(a8=>{"use strict";d();h();Object.defineProperty(a8,"__esModule",{value:!0});a8.checkTypeMatch=G_e;a8.checkValueTypeMatch=Vvt;var Ivt=g3e(),Mvt=VR(),Hi=uh(),sv=PZ(),kvt=b3e(),Pvt=zR(),K_e=GR(),Bvt=x3e(),H_e=E3e(),Rvt=jZ(),s8=$0(),Cvt=iC(),av=k3e(),_C=L_e(),j_e=SQ(),Ovt=_Q(),z_e=ZZ(),Nvt=JZ(),Dvt=xC(),lh=X0(),Uvt=Z0(),Lvt=kQ(),W_e=AC(),Fvt=PQ(),BQ=class{constructor({eventDispatcher:e=new Ovt.default,isObfuscated:r=!1,flagConfigurationStore:n,banditVariationConfigurationStore:i,banditModelConfigurationStore:o,configurationRequestParameters:s}){this.assignmentEventsQueue=new j_e.BoundedEventQueue("assignments"),this.banditEventsQueue=new j_e.BoundedEventQueue("bandit"),this.banditEvaluator=new kvt.BanditEvaluator,this.isGracefulFailureMode=!0,this.evaluator=new _C.Evaluator,this.eventDispatcher=e,this.flagConfigurationStore=n,this.banditVariationConfigurationStore=i,this.banditModelConfigurationStore=o,this.configurationRequestParameters=s,this.isObfuscated=r}setConfigurationRequestParameters(e){this.configurationRequestParameters=e}setFlagConfigurationStore(e){this.flagConfigurationStore=e}setBanditVariationConfigurationStore(e){this.banditVariationConfigurationStore=e}setEventDispatcher(e){this.eventDispatcher=e}setBanditModelConfigurationStore(e){this.banditModelConfigurationStore=e}setIsObfuscated(e){this.isObfuscated=e}async fetchFlagConfigurations(){if(!this.configurationRequestParameters)throw new Error("Eppo SDK unable to fetch flag configurations without configuration request parameters");this.requestPoller?.stop();let{apiKey:e,sdkName:r,sdkVersion:n,baseUrl:i,requestTimeoutMs:o=s8.DEFAULT_REQUEST_TIMEOUT_MS,numInitialRequestRetries:s=s8.DEFAULT_INITIAL_CONFIG_REQUEST_RETRIES,numPollRequestRetries:c=s8.DEFAULT_POLL_CONFIG_REQUEST_RETRIES,pollAfterSuccessfulInitialization:l=!1,pollAfterFailedInitialization:m=!1,throwOnFailedInitialization:w=!1,skipInitialPoll:b=!1}=this.configurationRequestParameters,{pollingIntervalMs:E=s8.DEFAULT_POLL_INTERVAL_MS}=this.configurationRequestParameters;E<=0&&(Hi.logger.error("pollingIntervalMs must be greater than 0. Using default"),E=s8.DEFAULT_POLL_INTERVAL_MS);let I=new Mvt.default({baseUrl:i,queryParams:{apiKey:e,sdkName:r,sdkVersion:n}}),M=new Dvt.default(I,o),k=new Rvt.default(M,this.flagConfigurationStore,this.banditVariationConfigurationStore??null,this.banditModelConfigurationStore??null),R=async()=>{if(await this.flagConfigurationStore.isExpired())return k.fetchAndStoreConfigurations()};this.requestPoller=(0,Lvt.default)(E,R,{maxStartRetries:s,maxPollRetries:c,pollAfterSuccessfulStart:l,pollAfterFailedStart:m,errorOnFailedStart:w,skipInitialPoll:b}),await this.requestPoller.start()}stopPolling(){this.requestPoller&&this.requestPoller.stop()}getStringAssignment(e,r,n,i){return this.getStringAssignmentDetails(e,r,n,i).variation}getStringAssignmentDetails(e,r,n,i){let{eppoValue:o,flagEvaluationDetails:s}=this.getAssignmentVariation(e,r,n,av.EppoValue.String(i),lh.VariationType.STRING);return{variation:o.stringValue??i,action:null,evaluationDetails:s}}getBoolAssignment(e,r,n,i){return this.getBooleanAssignment(e,r,n,i)}getBooleanAssignment(e,r,n,i){return this.getBooleanAssignmentDetails(e,r,n,i).variation}getBooleanAssignmentDetails(e,r,n,i){let{eppoValue:o,flagEvaluationDetails:s}=this.getAssignmentVariation(e,r,n,av.EppoValue.Bool(i),lh.VariationType.BOOLEAN);return{variation:o.boolValue??i,action:null,evaluationDetails:s}}getIntegerAssignment(e,r,n,i){return this.getIntegerAssignmentDetails(e,r,n,i).variation}getIntegerAssignmentDetails(e,r,n,i){let{eppoValue:o,flagEvaluationDetails:s}=this.getAssignmentVariation(e,r,n,av.EppoValue.Numeric(i),lh.VariationType.INTEGER);return{variation:o.numericValue??i,action:null,evaluationDetails:s}}getNumericAssignment(e,r,n,i){return this.getNumericAssignmentDetails(e,r,n,i).variation}getNumericAssignmentDetails(e,r,n,i){let{eppoValue:o,flagEvaluationDetails:s}=this.getAssignmentVariation(e,r,n,av.EppoValue.Numeric(i),lh.VariationType.NUMERIC);return{variation:o.numericValue??i,action:null,evaluationDetails:s}}getJSONAssignment(e,r,n,i){return this.getJSONAssignmentDetails(e,r,n,i).variation}getJSONAssignmentDetails(e,r,n,i){let{eppoValue:o,flagEvaluationDetails:s}=this.getAssignmentVariation(e,r,n,av.EppoValue.JSON(i),lh.VariationType.JSON);return{variation:o.objectValue??i,action:null,evaluationDetails:s}}getBanditAction(e,r,n,i,o){let{variation:s,action:c}=this.getBanditActionDetails(e,r,n,i,o);return{variation:s,action:c}}getBestAction(e,r,n,i){let o=null,c=this.banditVariationConfigurationStore?.get(e)?.at(0)?.key;if(c){let l=this.getBandit(c);if(l){let m=(0,sv.ensureContextualSubjectAttributes)(r),w=(0,sv.ensureActionsWithContextualAttributes)(n);o=this.banditEvaluator.evaluateBestBanditAction(m,w,l.modelData)}}return o??i}getBanditActionDetails(e,r,n,i,o){let s=o,c=null,l=this.newFlagEvaluationDetailsBuilder(e).buildForNoneResult("ASSIGNMENT_ERROR","Unexpected error getting assigned variation for bandit action");try{let m=(0,sv.ensureNonContextualSubjectAttributes)(n),{variation:w,evaluationDetails:b}=this.getStringAssignmentDetails(e,r,m,o);s=w,l=b;let E=this.findBanditByVariation(e,s);if(!E)return{variation:s,action:null,evaluationDetails:l};l.banditKey=E.banditKey;let I=this.evaluateBanditAction(e,r,n,i,E.modelData);if(I?.actionKey){c=I.actionKey;let M={timestamp:new Date().toISOString(),featureFlag:e,bandit:E.banditKey,subject:r,action:c,actionProbability:I.actionWeight,optimalityGap:I.optimalityGap,modelVersion:E.modelVersion,subjectNumericAttributes:I.subjectAttributes.numericAttributes,subjectCategoricalAttributes:I.subjectAttributes.categoricalAttributes,actionNumericAttributes:I.actionAttributes.numericAttributes,actionCategoricalAttributes:I.actionAttributes.categoricalAttributes,metaData:this.buildLoggerMetadata(),evaluationDetails:l};try{this.logBanditAction(M)}catch(k){Hi.logger.error("Error logging bandit event",k)}l.banditAction=c}}catch(m){if(Hi.logger.error("Error determining bandit action",m),!this.isGracefulFailureMode)throw m;s&&(l.flagEvaluationCode="BANDIT_ERROR"),l.flagEvaluationDescription=`Error evaluating bandit action: ${m.message}`}return{variation:s,action:c,evaluationDetails:l}}getExperimentContainerEntry(e,r,n){let{flagKey:i,controlVariationEntry:o,treatmentVariationEntries:s}=e,c=this.getStringAssignment(i,r,n,"control");if(c==="control")return o;if(!c.startsWith("treatment-"))return Hi.logger.warn(`Variation '${c}' cannot be mapped to a container. Defaulting to control variation.`),o;let l=Number.parseInt(c.split("-")[1])-1;return isNaN(l)?(Hi.logger.warn(`Variation '${c}' cannot be mapped to a container. Defaulting to control variation.`),o):l>=s.length?(Hi.logger.warn(`Selected treatment variation (${l}) index is out of bounds. Defaulting to control variation.`),o):s[l]}evaluateBanditAction(e,r,n,i,o){if(!Object.keys(i).length)return null;let s=(0,sv.ensureContextualSubjectAttributes)(n),c=(0,sv.ensureActionsWithContextualAttributes)(i);return this.banditEvaluator.evaluateBandit(e,r,s,c,o)}logBanditAction(e){let r=e.subject,n=e.featureFlag,i=e.bandit,o=e.action??"__eppo_no_action",s={flagKey:n,subjectKey:r,banditKey:i,actionKey:o};if(!this.banditAssignmentCache?.has(s))try{this.banditLogger?this.banditLogger.logBanditAction(e):this.banditEventsQueue.push(e),this.banditAssignmentCache?.set(s)}catch(c){Hi.logger.warn("Error encountered logging bandit action",c)}}getAssignmentVariation(e,r,n,i,o){try{let s=this.getAssignmentDetail(e,r,n,o);return this.parseVariationWithDetails(s,i,o)}catch(s){let c=this.rethrowIfNotGraceful(s,i);if(s instanceof Nvt.FlagEvaluationError&&s.flagEvaluationDetails)return{eppoValue:c,flagEvaluationDetails:s.flagEvaluationDetails};{let l=new z_e.FlagEvaluationDetailsBuilder("",[],"","").buildForNoneResult("ASSIGNMENT_ERROR",`Assignment Error: ${s.message}`);return{eppoValue:c,flagEvaluationDetails:l}}}}parseVariationWithDetails({flagEvaluationDetails:e,variation:r},n,i){try{return!r||e.flagEvaluationCode!=="MATCH"?{eppoValue:n,flagEvaluationDetails:e}:{eppoValue:av.EppoValue.valueOf(r.value,i),flagEvaluationDetails:e}}catch(o){return{eppoValue:this.rethrowIfNotGraceful(o,n),flagEvaluationDetails:e}}}rethrowIfNotGraceful(e,r){if(this.isGracefulFailureMode)return Hi.logger.error(`${Hi.loggerPrefix} Error getting assignment: ${e.message}`),r??av.EppoValue.Null();throw e}getAllAssignments(e,r={}){let n=this.getConfigDetails(),i=this.getFlagKeys(),o={};return i.forEach(s=>{let c=this.getFlag(s);if(!c){Hi.logger.debug(`${Hi.loggerPrefix} No assigned variation. Flag does not exist.`);return}let l=this.evaluator.evaluateFlag(c,n,e,r,this.isObfuscated);if(!l.variation||!l.allocationKey){Hi.logger.debug(`${Hi.loggerPrefix} No assigned variation: ${s}`);return}o[s]={flagKey:s,allocationKey:l.allocationKey,doLog:l.doLog,extraLogging:l.extraLogging,variationKey:l.variation.key,variationType:c.variationType,variationValue:l.variation.value.toString()}}),o}getPrecomputedConfiguration(e,r={},n={},i){let o=this.getConfigDetails(),s=(0,sv.ensureContextualSubjectAttributes)(r),c=(0,sv.ensureNonContextualSubjectAttributes)(r),l=this.getAllAssignments(e,c),m=this.computeBanditsForFlags(e,s,n,l),w=H_e.PrecomputedConfiguration.obfuscated(e,l,m,i??"",s,o.configEnvironment),b=new H_e.ConfigurationWireV1(w);return JSON.stringify(b)}getAssignmentDetail(e,r,n={},i){(0,W_e.validateNotBlank)(r,"Invalid argument: subjectKey cannot be blank"),(0,W_e.validateNotBlank)(e,"Invalid argument: flagKey cannot be blank");let o=this.newFlagEvaluationDetailsBuilder(e),s=this.getConfigDetails(),c=this.getFlag(e);if(c===null){Hi.logger.warn(`${Hi.loggerPrefix} No assigned variation. Flag not found: ${e}`);let m=o.buildForNoneResult("FLAG_UNRECOGNIZED_OR_DISABLED",`Unrecognized or disabled flag: ${e}`);return(0,_C.noneResult)(e,r,n,m,s.configFormat)}if(!G_e(i,c.variationType)){let m=`Variation value does not have the correct type. Found ${c.variationType}, but expected ${i} for flag ${e}`;if(this.isGracefulFailureMode){let w=o.buildForNoneResult("TYPE_MISMATCH",m);return(0,_C.noneResult)(e,r,n,w,s.configFormat)}throw new TypeError(m)}if(!c.enabled){Hi.logger.info(`${Hi.loggerPrefix} No assigned variation. Flag is disabled: ${e}`);let m=o.buildForNoneResult("FLAG_UNRECOGNIZED_OR_DISABLED",`Unrecognized or disabled flag: ${e}`);return(0,_C.noneResult)(e,r,n,m,s.configFormat)}let l=this.evaluator.evaluateFlag(c,s,r,n,this.isObfuscated,i);this.isObfuscated&&(l.flagKey=e);try{l?.doLog&&this.maybeLogAssignment(l)}catch(m){Hi.logger.error(`${Hi.loggerPrefix} Error logging assignment event: ${m}`)}return l}track(e,r){this.eventDispatcher.dispatch({uuid:(0,Ivt.v4)(),type:e,timestamp:new Date().getTime(),payload:r})}newFlagEvaluationDetailsBuilder(e){let r=this.getFlag(e),n=this.getConfigDetails();return new z_e.FlagEvaluationDetailsBuilder(n.configEnvironment.name,r?.allocations??[],n.configFetchedAt,n.configPublishedAt)}getConfigDetails(){return{configFetchedAt:this.flagConfigurationStore.getConfigFetchedAt()??"",configPublishedAt:this.flagConfigurationStore.getConfigPublishedAt()??"",configEnvironment:this.flagConfigurationStore.getEnvironment()??{name:""},configFormat:this.flagConfigurationStore.getFormat()??""}}getFlag(e){return this.isObfuscated?this.getObfuscatedFlag(e):this.flagConfigurationStore.get(e)}getObfuscatedFlag(e){let r=this.flagConfigurationStore.get((0,Uvt.getMD5Hash)(e));return r?(0,Cvt.decodeFlag)(r):null}getBandit(e){return this.banditModelConfigurationStore?.get(e)??null}getFlagKeys(){return this.flagConfigurationStore.getKeys()}isInitialized(){return this.flagConfigurationStore.isInitialized()&&(!this.banditVariationConfigurationStore||this.banditVariationConfigurationStore.isInitialized())&&(!this.banditModelConfigurationStore||this.banditModelConfigurationStore.isInitialized())}setLogger(e){this.setAssignmentLogger(e)}setAssignmentLogger(e){this.assignmentLogger=e,this.flushQueuedEvents(this.assignmentEventsQueue,this.assignmentLogger?.logAssignment)}setBanditLogger(e){this.banditLogger=e,this.flushQueuedEvents(this.banditEventsQueue,this.banditLogger?.logBanditAction)}disableAssignmentCache(){this.assignmentCache=void 0}useNonExpiringInMemoryAssignmentCache(){this.assignmentCache=new K_e.NonExpiringInMemoryAssignmentCache}useLRUInMemoryAssignmentCache(e){this.assignmentCache=new Pvt.LRUInMemoryAssignmentCache(e)}useCustomAssignmentCache(e){this.assignmentCache=e}disableBanditAssignmentCache(){this.banditAssignmentCache=void 0}useNonExpiringInMemoryBanditAssignmentCache(){this.banditAssignmentCache=new K_e.NonExpiringInMemoryAssignmentCache}useExpiringInMemoryBanditAssignmentCache(e,r){this.banditAssignmentCache=new Bvt.TLRUInMemoryAssignmentCache(e,r)}useCustomBanditAssignmentCache(e){this.banditAssignmentCache=e}setIsGracefulFailureMode(e){this.isGracefulFailureMode=e}getFlagConfigurations(){return this.flagConfigurationStore.entries()}flushQueuedEvents(e,r){let n=e.flush();r&&n.forEach(i=>{try{r(i)}catch(o){Hi.logger.error(`${Hi.loggerPrefix} Error flushing event to logger: ${o.message}`)}})}maybeLogAssignment(e){let{flagKey:r,format:n,subjectKey:i,allocationKey:o,subjectAttributes:s,variation:c}=e,l={...e.extraLogging??{},allocation:o??null,experiment:o?`${r}-${o}`:null,featureFlag:r,format:n,variation:c?.key??null,subject:i,timestamp:new Date().toISOString(),subjectAttributes:s,metaData:this.buildLoggerMetadata(),evaluationDetails:e.flagEvaluationDetails};if(!(c&&o&&this.assignmentCache?.has({flagKey:r,subjectKey:i,allocationKey:o,variationKey:c.key})))try{this.assignmentLogger?this.assignmentLogger.logAssignment(l):this.assignmentEventsQueue.push(l),this.assignmentCache?.set({flagKey:r,subjectKey:i,allocationKey:o??"__eppo_no_allocation",variationKey:c?.key??"__eppo_no_variation"})}catch(m){Hi.logger.error(`${Hi.loggerPrefix} Error logging assignment event: ${m.message}`)}}buildLoggerMetadata(){return{obfuscated:this.isObfuscated,sdkLanguage:"javascript",sdkLibVersion:Fvt.LIB_VERSION}}computeBanditsForFlags(e,r,n,i){let o={};return Object.keys(n).forEach(s=>{let c=i[s];if(c){let l=this.getPrecomputedBandit(s,c.variationValue,e,r,n[s]);l&&(o[s]=l)}}),o}findBanditByVariation(e,r){let i=this.banditVariationConfigurationStore?.get(e)?.find(o=>o.variationValue===r)?.key;return i?this.getBandit(i):null}getPrecomputedBandit(e,r,n,i,o){let s=this.findBanditByVariation(e,r);if(!s)return null;let c=this.evaluateBanditAction(e,n,i,o,s.modelData);return c?{banditKey:s.banditKey,action:c.actionKey,actionNumericAttributes:c.actionAttributes.numericAttributes,actionCategoricalAttributes:c.actionAttributes.categoricalAttributes,actionProbability:c.actionWeight,modelVersion:s.modelVersion,optimalityGap:c.optimalityGap}:null}};a8.default=BQ;function G_e(t,e){return t===void 0||e===t}function Vvt(t,e){if(t==null)return!0;switch(t){case lh.VariationType.STRING:return typeof e=="string";case lh.VariationType.BOOLEAN:return typeof e=="boolean";case lh.VariationType.INTEGER:return typeof e=="number"&&Number.isInteger(e);case lh.VariationType.NUMERIC:return typeof e=="number";case lh.VariationType.JSON:return typeof e=="string";default:return!1}}});var Z_e=V(CQ=>{"use strict";d();h();Object.defineProperty(CQ,"__esModule",{value:!0});var $_e=VZ(),Y_e=X0(),RQ=class{constructor(e,r,n,i,o,s){this.httpClient=e,this.precomputedFlagStore=r,this.subjectKey=n,this.subjectAttributes=i,this.precomputedBanditsStore=o,this.banditActions=s}async fetchAndStorePrecomputedFlags(){let e=await this.httpClient.getPrecomputedFlags({subject_key:this.subjectKey,subject_attributes:this.subjectAttributes,bandit_actions:this.banditActions});if(!e)return;let r=[];r.push((0,$_e.hydrateConfigurationStore)(this.precomputedFlagStore,{entries:e.flags,environment:e.environment??{name:Y_e.UNKNOWN_ENVIRONMENT_NAME},createdAt:e.createdAt,format:e.format,salt:e.salt})),this.precomputedBanditsStore&&r.push((0,$_e.hydrateConfigurationStore)(this.precomputedBanditsStore,{entries:e.bandits,environment:e.environment??{name:Y_e.UNKNOWN_ENVIRONMENT_NAME},createdAt:e.createdAt,format:e.format,salt:e.salt}))}};CQ.default=RQ});var e4e=V(NQ=>{"use strict";d();h();Object.defineProperty(NQ,"__esModule",{value:!0});var qvt=VR(),li=uh(),Q_e=PZ(),Kvt=zR(),Hvt=GR(),cv=$0(),J_e=iC(),jvt=xC(),c8=X0(),X_e=Z0(),zvt=kQ(),Wvt=Z_e(),Gvt=AC(),$vt=PQ(),Yvt=bC(),OQ=class{constructor(e){this.queuedAssignmentEvents=[],this.banditEventsQueue=[],this.precomputedFlagStore=e.precomputedFlagStore,this.precomputedBanditStore=e.precomputedBanditStore;let{subjectKey:r,subjectAttributes:n}=e.subject;this.subject={subjectKey:r,subjectAttributes:(0,Q_e.ensureContextualSubjectAttributes)(n)},this.banditActions=e.banditActions,e.requestParameters?this.requestParameters=e.requestParameters:(this.precomputedFlagStore.isInitialized()||li.logger.error(`${li.loggerPrefix} EppoPrecomputedClient requires an initialized precomputedFlagStore if requestParameters are not provided`),this.precomputedBanditStore&&!this.precomputedBanditStore.isInitialized()&&li.logger.error(`${li.loggerPrefix} Passing banditOptions without requestParameters requires an initialized precomputedBanditStore`),this.precomputedFlagStore.salt||li.logger.error(`${li.loggerPrefix} EppoPrecomputedClient requires a precomputedFlagStore with a salt if requestParameters are not provided`),this.precomputedBanditStore&&!this.precomputedBanditStore.salt&&li.logger.warn(`${li.loggerPrefix} EppoPrecomputedClient missing or empty salt for precomputedBanditStore`))}async fetchPrecomputedFlags(){if(!this.requestParameters)throw new Error("Eppo SDK unable to fetch precomputed flags without the request parameters");this.requestPoller?.stop();let{apiKey:e,sdkName:r,sdkVersion:n,baseUrl:i,requestTimeoutMs:o=cv.DEFAULT_REQUEST_TIMEOUT_MS,numInitialRequestRetries:s=cv.DEFAULT_INITIAL_CONFIG_REQUEST_RETRIES,numPollRequestRetries:c=cv.DEFAULT_POLL_CONFIG_REQUEST_RETRIES,pollAfterSuccessfulInitialization:l=!1,pollAfterFailedInitialization:m=!1,throwOnFailedInitialization:w=!1,skipInitialPoll:b=!1}=this.requestParameters,{subjectKey:E,subjectAttributes:I}=this.subject,{pollingIntervalMs:M=cv.DEFAULT_POLL_INTERVAL_MS}=this.requestParameters;M<=0&&(li.logger.error("pollingIntervalMs must be greater than 0. Using default"),M=cv.DEFAULT_POLL_INTERVAL_MS);let k=new qvt.default({baseUrl:i??cv.PRECOMPUTED_BASE_URL,queryParams:{apiKey:e,sdkName:r,sdkVersion:n}}),R=new jvt.default(k,o),B=new Wvt.default(R,this.precomputedFlagStore,E,I,this.precomputedBanditStore,this.banditActions),U=async()=>{if(await this.precomputedFlagStore.isExpired())return B.fetchAndStorePrecomputedFlags()};this.requestPoller=(0,zvt.default)(M,U,{maxStartRetries:s,maxPollRetries:c,pollAfterSuccessfulStart:l,pollAfterFailedStart:m,errorOnFailedStart:w,skipInitialPoll:b}),await this.requestPoller.start()}stopPolling(){this.requestPoller&&this.requestPoller.stop()}getPrecomputedAssignment(e,r,n,i=o=>o){(0,Gvt.validateNotBlank)(e,"Invalid argument: flagKey cannot be blank");let o=this.getPrecomputedFlag(e);if(o==null)return li.logger.warn(`${li.loggerPrefix} No assigned variation. Flag not found: ${e}`),r;if(!(0,Yvt.checkTypeMatch)(n,o.variationType)){let c=`${li.loggerPrefix} Type mismatch: expected ${n} but flag ${e} has type ${o.variationType}`;return li.logger.error(c),r}let s={flagKey:e,format:this.precomputedFlagStore.getFormat()??"",subjectKey:this.subject.subjectKey??"",subjectAttributes:(0,Q_e.ensureNonContextualSubjectAttributes)(this.subject.subjectAttributes??{}),variation:{key:o.variationKey??"",value:o.variationValue},allocationKey:o.allocationKey??"",extraLogging:o.extraLogging??{},doLog:o.doLog};try{s?.doLog&&this.logAssignment(s)}catch(c){li.logger.error(`${li.loggerPrefix} Error logging assignment event: ${c}`)}try{return s.variation?.value!==void 0?i(s.variation.value):r}catch(c){return li.logger.error(`${li.loggerPrefix} Error transforming value: ${c}`),r}}getStringAssignment(e,r){return this.getPrecomputedAssignment(e,r,c8.VariationType.STRING)}getBooleanAssignment(e,r){return this.getPrecomputedAssignment(e,r,c8.VariationType.BOOLEAN)}getIntegerAssignment(e,r){return this.getPrecomputedAssignment(e,r,c8.VariationType.INTEGER)}getNumericAssignment(e,r){return this.getPrecomputedAssignment(e,r,c8.VariationType.NUMERIC)}getJSONAssignment(e,r){return this.getPrecomputedAssignment(e,r,c8.VariationType.JSON,n=>typeof n=="string"?JSON.parse(n):r)}getBanditAction(e,r){let n=this.getPrecomputedBandit(e);if(n==null)return li.logger.warn(`${li.loggerPrefix} No assigned variation. Bandit not found: ${e}`),{variation:r,action:null};let i=this.getStringAssignment(e,r),o={timestamp:new Date().toISOString(),featureFlag:e,bandit:n.banditKey,subject:this.subject.subjectKey??"",action:n.action,actionProbability:n.actionProbability,optimalityGap:n.optimalityGap,modelVersion:n.modelVersion,subjectNumericAttributes:n.actionNumericAttributes,subjectCategoricalAttributes:n.actionCategoricalAttributes,actionNumericAttributes:n.actionNumericAttributes,actionCategoricalAttributes:n.actionCategoricalAttributes,metaData:this.buildLoggerMetadata(),evaluationDetails:null};try{this.logBanditAction(o)}catch(s){li.logger.error(`${li.loggerPrefix} Error logging bandit action: ${s}`)}return{variation:i,action:o.action}}getPrecomputedFlag(e){return this.getObfuscatedFlag(e)}getObfuscatedFlag(e){let r=this.precomputedFlagStore.salt,n=(0,X_e.getMD5Hash)(e,r),i=this.precomputedFlagStore.get(n);return i?(0,J_e.decodePrecomputedFlag)(i):null}getPrecomputedBandit(e){let r=this.getObfuscatedPrecomputedBandit(e);return r?(0,J_e.decodePrecomputedBandit)(r):null}getObfuscatedPrecomputedBandit(e){let r=this.precomputedBanditStore?.salt,n=(0,X_e.getMD5Hash)(e,r);return this.precomputedBanditStore?.get(n)??null}isInitialized(){return this.precomputedFlagStore.isInitialized()}setAssignmentLogger(e){this.assignmentLogger=e,this.flushQueuedEvents(this.queuedAssignmentEvents,this.assignmentLogger?.logAssignment)}setBanditLogger(e){this.banditLogger=e,this.flushQueuedEvents(this.banditEventsQueue,this.banditLogger?.logBanditAction)}disableAssignmentCache(){this.assignmentCache=void 0}useNonExpiringInMemoryAssignmentCache(){this.assignmentCache=new Hvt.NonExpiringInMemoryAssignmentCache}useLRUInMemoryAssignmentCache(e){this.assignmentCache=new Kvt.LRUInMemoryAssignmentCache(e)}useCustomAssignmentCache(e){this.assignmentCache=e}flushQueuedEvents(e,r){let n=[...e];e.length=0,r&&n.forEach(i=>{try{r(i)}catch(o){li.logger.error(`${li.loggerPrefix} Error flushing event to logger: ${o.message}`)}})}logAssignment(e){let{flagKey:r,subjectKey:n,allocationKey:i,subjectAttributes:o,variation:s,format:c}=e,l={...e.extraLogging??{},allocation:i??null,experiment:i?`${r}-${i}`:null,featureFlag:r,format:c,variation:s?.key??null,subject:n,timestamp:new Date().toISOString(),subjectAttributes:o,metaData:this.buildLoggerMetadata(),evaluationDetails:null};if(!(s&&i&&this.assignmentCache?.has({flagKey:r,subjectKey:n,allocationKey:i,variationKey:s.key})))try{this.assignmentLogger?this.assignmentLogger.logAssignment(l):this.queuedAssignmentEvents.length<cv.MAX_EVENT_QUEUE_SIZE&&this.queuedAssignmentEvents.push(l),this.assignmentCache?.set({flagKey:r,subjectKey:n,allocationKey:i??"__eppo_no_allocation",variationKey:s?.key??"__eppo_no_variation"})}catch(m){li.logger.error(`${li.loggerPrefix} Error logging assignment event: ${m.message}`)}}logBanditAction(e){let r=e.subject,n=e.featureFlag,i=e.bandit,o=e.action??"__eppo_no_action",s={flagKey:n,subjectKey:r,banditKey:i,actionKey:o};if(!this.banditAssignmentCache?.has(s))try{this.banditLogger?this.banditLogger.logBanditAction(e):this.banditEventsQueue.push(e),this.banditAssignmentCache?.set(s)}catch(c){li.logger.warn("Error encountered logging bandit action",c)}}buildLoggerMetadata(){return{obfuscated:!0,sdkLanguage:"javascript",sdkLibVersion:$vt.LIB_VERSION}}};NQ.default=OQ});var t4e=V(IC=>{"use strict";d();h();Object.defineProperty(IC,"__esModule",{value:!0});IC.HybridConfigurationStore=void 0;var TC=uh(),DQ=class{constructor(e,r){this.servingStore=e,this.persistentStore=r,this.environment=null,this.configFetchedAt=null,this.configPublishedAt=null,this.format=null}async init(){if(!this.persistentStore)return;this.persistentStore.isInitialized()||TC.logger.warn(`${TC.loggerPrefix} Persistent store is not initialized from remote configuration. Serving assignments that may be stale.`);let e=await this.persistentStore.entries();this.servingStore.setEntries(e)}isInitialized(){return this.servingStore.isInitialized()&&(this.persistentStore?.isInitialized()??!0)}async isExpired(){return await this.persistentStore?.isExpired()??!0}get(e){return this.servingStore.isInitialized()||TC.logger.warn(`${TC.loggerPrefix} getting a value from a ServingStore that is not initialized.`),this.servingStore.get(e)}entries(){return this.servingStore.entries()}getKeys(){return this.servingStore.getKeys()}async setEntries(e){return this.persistentStore&&await this.persistentStore.setEntries(e),this.servingStore.setEntries(e),!0}setEnvironment(e){this.environment=e}getEnvironment(){return this.environment}getConfigFetchedAt(){return this.configFetchedAt}setConfigFetchedAt(e){this.configFetchedAt=e}getConfigPublishedAt(){return this.configPublishedAt}setConfigPublishedAt(e){this.configPublishedAt=e}getFormat(){return this.format}setFormat(e){this.format=e}};IC.HybridConfigurationStore=DQ});var r4e=V(yS=>{"use strict";d();h();Object.defineProperty(yS,"__esModule",{value:!0});yS.MemoryOnlyConfigurationStore=yS.MemoryStore=void 0;var MC=class{constructor(){this.store={},this.initialized=!1}get(e){return this.store[e]??null}entries(){return this.store}getKeys(){return Object.keys(this.store)}isInitialized(){return this.initialized}setEntries(e){this.store={...e},this.initialized=!0}};yS.MemoryStore=MC;var UQ=class{constructor(){this.servingStore=new MC,this.initialized=!1,this.configFetchedAt=null,this.configPublishedAt=null,this.environment=null,this.format=null}init(){return this.initialized=!0,Promise.resolve()}get(e){return this.servingStore.get(e)}entries(){return this.servingStore.entries()}getKeys(){return this.servingStore.getKeys()}async isExpired(){return!0}isInitialized(){return this.initialized}async setEntries(e){return this.servingStore.setEntries(e),this.initialized=!0,!0}getEnvironment(){return this.environment}setEnvironment(e){this.environment=e}getConfigFetchedAt(){return this.configFetchedAt}setConfigFetchedAt(e){this.configFetchedAt=e}getConfigPublishedAt(){return this.configPublishedAt}setConfigPublishedAt(e){this.configPublishedAt=e}getFormat(){return this.format}setFormat(e){this.format=e}};yS.MemoryOnlyConfigurationStore=UQ});var VQ=V(FQ=>{"use strict";d();h();Object.defineProperty(FQ,"__esModule",{value:!0});var Zvt=100,Qvt=1e4,LQ=class{constructor(e,r){this.eventQueue=e,this.batchSize=Math.max(Zvt,Math.min(Qvt,r))}nextBatch(){return this.eventQueue.splice(this.batchSize)}push(...e){this.eventQueue.push(...e)}isEmpty(){return this.eventQueue.isEmpty()}};FQ.default=LQ});var n4e=V(HQ=>{"use strict";d();h();Object.defineProperty(HQ,"__esModule",{value:!0});var qQ=uh(),KQ=class{constructor(e,r){this.delivery=e,this.config=r}async retry(e,r=0){let{retryIntervalMs:n,maxRetryDelayMs:i,maxRetries:o}=this.config,s=Math.min(n*Math.pow(2,r),i);qQ.logger.info(`[BatchRetryManager] Retrying batch delivery of ${e.length} events in ${s}ms...`),await new Promise(l=>setTimeout(l,s));let{failedEvents:c}=await this.delivery.deliver(e);return c.length===0?(qQ.logger.info(`[BatchRetryManager] Batch delivery successfully after ${r+1} tries.`),[]):r<o-1?this.retry(c,r+1):(qQ.logger.warn(`[BatchRetryManager] Failed to deliver batch after ${o} tries, bailing`),e)}};HQ.default=KQ});var i4e=V(zQ=>{"use strict";d();h();Object.defineProperty(zQ,"__esModule",{value:!0});var kC=uh(),jQ=class{constructor(e,r){this.sdkKey=e,this.ingestionUrl=r}async deliver(e){try{kC.logger.info(`[EventDispatcher] Delivering batch of ${e.length} events to ${this.ingestionUrl}...`);let r=await fetch(this.ingestionUrl,{method:"POST",headers:{"Content-Type":"application/json","x-eppo-token":this.sdkKey},body:JSON.stringify({eppo_events:e})});return r.ok?await this.parseFailedEvents(r,e):{failedEvents:e}}catch(r){return kC.logger.warn("Failed to upload event batch",r),{failedEvents:e}}}async parseFailedEvents(e,r){kC.logger.info("[EventDispatcher] Batch delivered successfully.");let n=await e.json(),i=new Set(n?.failed_events||[]);return i.size>0?(kC.logger.warn(`[EventDispatcher] ${i.size}/${r.length} events failed ingestion.`),{failedEvents:r.filter(({uuid:o})=>i.has(o))}):{failedEvents:[]}}};zQ.default=jQ});var s4e=V(GQ=>{"use strict";d();h();Object.defineProperty(GQ,"__esModule",{value:!0});var Jvt=QY(),o4e="v0/i",WQ=class{decodeEventIngestionUrl(e){let r=e.split(".")[1];if(!r)return null;let n=Jvt.Base64.decode(r),o=new URLSearchParams(n).get("eh");if(!o)return null;let s=o.endsWith("/")?`${o}${o4e}`:`${o}/${o4e}`;return!s.startsWith("http://")&&!s.startsWith("https://")?`https://${s}`:s}};GQ.default=WQ});var a4e=V(dh=>{"use strict";d();h();Object.defineProperty(dh,"__esModule",{value:!0});dh.DEFAULT_EVENT_DISPATCHER_CONFIG=dh.DEFAULT_EVENT_DISPATCHER_BATCH_SIZE=void 0;dh.newDefaultEventDispatcher=ixt;var gS=uh(),Xvt=VQ(),ext=n4e(),txt=i4e(),rxt=_Q(),nxt=s4e();dh.DEFAULT_EVENT_DISPATCHER_BATCH_SIZE=1e3;dh.DEFAULT_EVENT_DISPATCHER_CONFIG={deliveryIntervalMs:1e4,retryIntervalMs:5e3,maxRetryDelayMs:3e4,maxRetries:3};var PC=class{constructor(e,r,n){this.batchProcessor=e,this.networkStatusListener=r,this.dispatchTimer=null,this.isOffline=!1,this.ensureConfigFields(n);let{sdkKey:i,ingestionUrl:o,retryIntervalMs:s,maxRetryDelayMs:c,maxRetries:l=3}=n;this.eventDelivery=new txt.default(i,o),this.retryManager=new ext.default(this.eventDelivery,{retryIntervalMs:s,maxRetryDelayMs:c,maxRetries:l}),this.deliveryIntervalMs=n.deliveryIntervalMs,this.networkStatusListener.onNetworkStatusChange(m=>{gS.logger.info(`[EventDispatcher] Network status change, isOffline=${m}.`),this.isOffline=m,m?this.dispatchTimer=null:this.maybeScheduleNextDelivery()})}dispatch(e){this.batchProcessor.push(e),this.maybeScheduleNextDelivery()}async deliverNextBatch(){if(this.isOffline){gS.logger.warn("[EventDispatcher] Skipping delivery; network status is offline.");return}let e=this.batchProcessor.nextBatch();if(e.length===0){this.dispatchTimer=null;return}let{failedEvents:r}=await this.eventDelivery.deliver(e);if(r.length>0){gS.logger.warn("[EventDispatcher] Failed to deliver some events from batch, retrying...");let n=await this.retryManager.retry(r);n.length>0&&this.batchProcessor.push(...n)}gS.logger.debug(`[EventDispatcher] Delivered batch of ${e.length} events.`),this.dispatchTimer=null,this.maybeScheduleNextDelivery()}maybeScheduleNextDelivery(){!this.isOffline&&!this.batchProcessor.isEmpty()&&!this.dispatchTimer&&(gS.logger.info(`[EventDispatcher] Scheduling next delivery in ${this.deliveryIntervalMs}ms.`),this.dispatchTimer=setTimeout(()=>this.deliverNextBatch(),this.deliveryIntervalMs))}ensureConfigFields(e){if(!e.ingestionUrl)throw new Error("Missing required ingestionUrl in EventDispatcherConfig");if(!e.deliveryIntervalMs)throw new Error("Missing required deliveryIntervalMs in EventDispatcherConfig");if(!e.retryIntervalMs)throw new Error("Missing required retryIntervalMs in EventDispatcherConfig");if(!e.maxRetryDelayMs)throw new Error("Missing required maxRetryDelayMs in EventDispatcherConfig")}};dh.default=PC;function ixt(t,e,r,n=dh.DEFAULT_EVENT_DISPATCHER_BATCH_SIZE,i=dh.DEFAULT_EVENT_DISPATCHER_CONFIG){let s=new nxt.default().decodeEventIngestionUrl(r);return s?new PC(new Xvt.default(t,n),e,{...i,ingestionUrl:s,sdkKey:r}):(gS.logger.debug("Unable to parse Event ingestion URL from SDK key, falling back to no-op event dispatcher"),new rxt.default)}});var l4e=V(Vt=>{"use strict";d();h();Object.defineProperty(Vt,"__esModule",{value:!0});Vt.decodePrecomputedFlag=Vt.DefaultEventDispatcher=Vt.BatchEventProcessor=Vt.newDefaultEventDispatcher=Vt.DEFAULT_EVENT_DISPATCHER_BATCH_SIZE=Vt.DEFAULT_EVENT_DISPATCHER_CONFIG=Vt.BoundedEventQueue=Vt.FormatEnum=Vt.VariationType=Vt.assignmentCacheValueToString=Vt.assignmentCacheKeyToString=Vt.LRUInMemoryAssignmentCache=Vt.NonExpiringInMemoryAssignmentCache=Vt.MemoryOnlyConfigurationStore=Vt.HybridConfigurationStore=Vt.MemoryStore=Vt.EppoPrecomputedClient=Vt.validation=Vt.HttpClient=Vt.FlagConfigRequestor=Vt.ApiEndpoints=Vt.constants=Vt.EppoClient=Vt.AbstractAssignmentCache=Vt.applicationLogger=Vt.loggerPrefix=void 0;var oxt=VR();Vt.ApiEndpoints=oxt.default;var c4e=uh();Object.defineProperty(Vt,"applicationLogger",{enumerable:!0,get:function(){return c4e.logger}});Object.defineProperty(Vt,"loggerPrefix",{enumerable:!0,get:function(){return c4e.loggerPrefix}});var $Q=L4();Object.defineProperty(Vt,"AbstractAssignmentCache",{enumerable:!0,get:function(){return $Q.AbstractAssignmentCache}});Object.defineProperty(Vt,"assignmentCacheKeyToString",{enumerable:!0,get:function(){return $Q.assignmentCacheKeyToString}});Object.defineProperty(Vt,"assignmentCacheValueToString",{enumerable:!0,get:function(){return $Q.assignmentCacheValueToString}});var sxt=zR();Object.defineProperty(Vt,"LRUInMemoryAssignmentCache",{enumerable:!0,get:function(){return sxt.LRUInMemoryAssignmentCache}});var axt=GR();Object.defineProperty(Vt,"NonExpiringInMemoryAssignmentCache",{enumerable:!0,get:function(){return axt.NonExpiringInMemoryAssignmentCache}});var cxt=bC();Vt.EppoClient=cxt.default;var uxt=e4e();Vt.EppoPrecomputedClient=uxt.default;var fxt=jZ();Vt.FlagConfigRequestor=fxt.default;var lxt=t4e();Object.defineProperty(Vt,"HybridConfigurationStore",{enumerable:!0,get:function(){return lxt.HybridConfigurationStore}});var u4e=r4e();Object.defineProperty(Vt,"MemoryStore",{enumerable:!0,get:function(){return u4e.MemoryStore}});Object.defineProperty(Vt,"MemoryOnlyConfigurationStore",{enumerable:!0,get:function(){return u4e.MemoryOnlyConfigurationStore}});var dxt=$0();Vt.constants=dxt;var hxt=iC();Object.defineProperty(Vt,"decodePrecomputedFlag",{enumerable:!0,get:function(){return hxt.decodePrecomputedFlag}});var pxt=VQ();Vt.BatchEventProcessor=pxt.default;var mxt=SQ();Object.defineProperty(Vt,"BoundedEventQueue",{enumerable:!0,get:function(){return mxt.BoundedEventQueue}});var BC=a4e();Vt.DefaultEventDispatcher=BC.default;Object.defineProperty(Vt,"DEFAULT_EVENT_DISPATCHER_CONFIG",{enumerable:!0,get:function(){return BC.DEFAULT_EVENT_DISPATCHER_CONFIG}});Object.defineProperty(Vt,"DEFAULT_EVENT_DISPATCHER_BATCH_SIZE",{enumerable:!0,get:function(){return BC.DEFAULT_EVENT_DISPATCHER_BATCH_SIZE}});Object.defineProperty(Vt,"newDefaultEventDispatcher",{enumerable:!0,get:function(){return BC.newDefaultEventDispatcher}});var yxt=xC();Vt.HttpClient=yxt.default;var f4e=X0();Object.defineProperty(Vt,"VariationType",{enumerable:!0,get:function(){return f4e.VariationType}});Object.defineProperty(Vt,"FormatEnum",{enumerable:!0,get:function(){return f4e.FormatEnum}});var gxt=AC();Vt.validation=gxt});var STe=V((_zr,wTe)=>{d();h();var SEt=hLe(),AEt=UF(),EEt="[object Date]";function _Et(t){return AEt(t)&&SEt(t)==EEt}wTe.exports=_Et});var TTe=V((Mzr,_Te)=>{d();h();var TEt=STe(),IEt=LF(),ATe=FF(),ETe=ATe&&ATe.isDate,MEt=ETe?IEt(ETe):TEt;_Te.exports=MEt});var hA=V(HN=>{"use strict";d();h();Object.defineProperty(HN,"__esModule",{value:!0});HN.AppAuthError=void 0;var O6t=function(){function t(e,r){this.message=e,this.extras=r}return t}();HN.AppAuthError=O6t});var jN=V(Mh=>{"use strict";d();h();Object.defineProperty(Mh,"__esModule",{value:!0});Mh.DefaultCrypto=Mh.textEncodeLite=Mh.urlSafe=Mh.bufferToString=void 0;var N6t=zse(),iMe=hA(),oMe=typeof self<"u"&&!!self.crypto,D6t=oMe&&!!self.crypto.subtle,Nee="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";function sMe(t){for(var e=[],r=0;r<t.byteLength;r+=1){var n=t[r]%Nee.length;e.push(Nee[n])}return e.join("")}Mh.bufferToString=sMe;function aMe(t){var e=N6t.fromByteArray(new Uint8Array(t));return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}Mh.urlSafe=aMe;function cMe(t){for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r}Mh.textEncodeLite=cMe;var U6t=function(){function t(){}return t.prototype.generateRandom=function(e){var r=new Uint8Array(e);if(oMe)self.crypto.getRandomValues(r);else for(var n=0;n<e;n+=1)r[n]=Math.random()*Nee.length|0;return sMe(r)},t.prototype.deriveChallenge=function(e){return e.length<43||e.length>128?Promise.reject(new iMe.AppAuthError("Invalid code length.")):D6t?new Promise(function(r,n){self.crypto.subtle.digest("SHA-256",cMe(e)).then(function(i){return r(aMe(new Uint8Array(i)))},function(i){return n(i)})}):Promise.reject(new iMe.AppAuthError("window.crypto.subtle is unavailable."))},t}();Mh.DefaultCrypto=U6t});var Dee=V(Iu=>{"use strict";d();h();Object.defineProperty(Iu,"__esModule",{value:!0});Iu.IS_PROFILE=Iu.IS_LOG=Iu.setFlag=Iu.Flags=void 0;Iu.Flags={IS_LOG:!0,IS_PROFILE:!1};function L6t(t,e){Iu.Flags[t]=e}Iu.setFlag=L6t;Iu.IS_LOG=Iu.Flags.IS_LOG,Iu.IS_PROFILE=Iu.Flags.IS_PROFILE});var d5=V(xg=>{"use strict";d();h();var Uee=xg&&xg.__spreadArray||function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))};Object.defineProperty(xg,"__esModule",{value:!0});xg.profile=xg.log=void 0;var uMe=Dee();function Lee(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(uMe.Flags.IS_LOG){var n=e?e.length:0;n>0?console.log.apply(console,Uee([t],e,!1)):console.log(t)}}xg.log=Lee;var F6t=typeof self<"u"&&!!self.performance&&!!console.profile;function V6t(t,e,r){return uMe.Flags.IS_PROFILE?q6t(t,e,r):r}xg.profile=V6t;function q6t(t,e,r){var n=r.value,i=n.name;return i||(i="anonymous function"),F6t?r.value=function(o){console.profile(i);var s=self.performance.now(),c=n.call.apply(n,Uee([this||self],o,!1)),l=self.performance.now()-s;return console.log("".concat(i," took ").concat(l," ms")),console.profileEnd(),c}:r.value=function(o){Lee("Profile start ".concat(i));var s=Date.now(),c=n.call.apply(n,Uee([this||self],o,!1)),l=Date.now()-s;return Lee("Profile end ".concat(i," took ").concat(l," ms.")),c},r}});var Fee=V(zN=>{"use strict";d();h();Object.defineProperty(zN,"__esModule",{value:!0});zN.AuthorizationRequest=void 0;var K6t=jN(),H6t=d5(),j6t=10,z6t=function(t){return t.generateRandom(j6t)},W6t=function(){function t(e,r,n){r===void 0&&(r=new K6t.DefaultCrypto),n===void 0&&(n=!0),this.crypto=r,this.usePkce=n,this.clientId=e.client_id,this.redirectUri=e.redirect_uri,this.scope=e.scope,this.responseType=e.response_type||t.RESPONSE_TYPE_CODE,this.state=e.state||z6t(r),this.extras=e.extras,this.internal=e.internal}return t.prototype.setupCodeVerifier=function(){var e=this;if(this.usePkce){var r=this.crypto.generateRandom(128),n=this.crypto.deriveChallenge(r).catch(function(i){(0,H6t.log)("Unable to generate PKCE challenge. Not using PKCE",i)});return n.then(function(i){i&&(e.internal=e.internal||{},e.internal.code_verifier=r,e.extras=e.extras||{},e.extras.code_challenge=i,e.extras.code_challenge_method="S256")})}else return Promise.resolve()},t.prototype.toJson=function(){var e=this;return this.setupCodeVerifier().then(function(){return{response_type:e.responseType,client_id:e.clientId,redirect_uri:e.redirectUri,scope:e.scope,state:e.state,extras:e.extras,internal:e.internal}})},t.RESPONSE_TYPE_TOKEN="token",t.RESPONSE_TYPE_CODE="code",t}();zN.AuthorizationRequest=W6t});var fMe=V(WN=>{"use strict";d();h();Object.defineProperty(WN,"__esModule",{value:!0});WN.requireValidUrl=void 0;var G6t=hA();function $6t(t){try{return new URL(t),t}catch{throw new G6t.AppAuthError("Invalid input url ".concat(t))}}WN.requireValidUrl=$6t});var qee=V(vp=>{"use strict";d();h();Object.defineProperty(vp,"__esModule",{value:!0});vp.AuthorizationRequestHandler=vp.BUILT_IN_PARAMETERS=vp.AuthorizationNotifier=void 0;var Vee=d5(),Y6t=fMe(),Z6t=function(){function t(){this.listener=null}return t.prototype.setAuthorizationListener=function(e){this.listener=e},t.prototype.onAuthorizationComplete=function(e,r,n){this.listener&&this.listener(e,r,n)},t}();vp.AuthorizationNotifier=Z6t;vp.BUILT_IN_PARAMETERS=["redirect_uri","client_id","response_type","state","scope"];var Q6t=function(){function t(e,r){this.utils=e,this.crypto=r,this.notifier=null}return t.prototype.buildRequestUrl=function(e,r){var n={redirect_uri:r.redirectUri,client_id:r.clientId,response_type:r.responseType,state:r.state,scope:r.scope};if(r.extras)for(var i in r.extras)r.extras.hasOwnProperty(i)&&vp.BUILT_IN_PARAMETERS.indexOf(i)<0&&(n[i]=r.extras[i]);var o=this.utils.stringify(n),s=(0,Y6t.requireValidUrl)(e.authorizationEndpoint),c="".concat(s,"?").concat(o);return c},t.prototype.completeAuthorizationRequestIfPossible=function(){var e=this;return(0,Vee.log)("Checking to see if there is an authorization response to be delivered."),this.notifier||(0,Vee.log)(`Notifier is not present on AuthorizationRequest handler.
          No delivery of result will be possible`),this.completeAuthorizationRequest().then(function(r){r||(0,Vee.log)("No result is available yet."),r&&e.notifier&&e.notifier.onAuthorizationComplete(r.request,r.response,r.error)})},t.prototype.setAuthorizationNotifier=function(e){return this.notifier=e,this},t}();vp.AuthorizationRequestHandler=Q6t});var Kee=V(pA=>{"use strict";d();h();Object.defineProperty(pA,"__esModule",{value:!0});pA.AuthorizationError=pA.AuthorizationResponse=void 0;var J6t=function(){function t(e){this.code=e.code,this.state=e.state}return t.prototype.toJson=function(){return{code:this.code,state:this.state}},t}();pA.AuthorizationResponse=J6t;var X6t=function(){function t(e){this.error=e.error,this.errorDescription=e.error_description,this.errorUri=e.error_uri,this.state=e.state}return t.prototype.toJson=function(){return{error:this.error,error_description:this.errorDescription,error_uri:this.errorUri,state:this.state}},t}();pA.AuthorizationError=X6t});var $N=V(Wf=>{"use strict";d();h();var jee=Wf&&Wf.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Wf,"__esModule",{value:!0});Wf.TestRequestor=Wf.FetchRequestor=Wf.JQueryRequestor=Wf.Requestor=void 0;var Hee=hA(),GN=function(){function t(){}return t}();Wf.Requestor=GN;var e_t=function(t){jee(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.xhr=function(r){var n=$.ajax(r);return new Promise(function(i,o){n.then(function(s,c,l){i(s)},function(s,c,l){o(new Hee.AppAuthError(l))})})},e}(GN);Wf.JQueryRequestor=e_t;var t_t=function(t){jee(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.xhr=function(r){if(!r.url)return Promise.reject(new Hee.AppAuthError("A URL must be provided."));var n=new URL(r.url),i={};if(i.method=r.method,i.mode="cors",r.data)if(r.method&&r.method.toUpperCase()==="POST")i.body=r.data;else{var o=new URLSearchParams(r.data);o.forEach(function(l,m){n.searchParams.append(m,l)})}if(i.headers={},r.headers)for(var s in r.headers)r.headers.hasOwnProperty(s)&&(i.headers[s]=r.headers[s]);var c=r.dataType&&r.dataType.toLowerCase()==="json";return c&&(i.headers.Accept="application/json, text/javascript, */*; q=0.01"),fetch(n.toString(),i).then(function(l){if(l.status>=200&&l.status<300){var m=l.headers.get("content-type");return c||m&&m.indexOf("application/json")!==-1?l.json():l.text()}else return Promise.reject(new Hee.AppAuthError(l.status.toString(),l.statusText))})},e}(GN);Wf.FetchRequestor=t_t;var r_t=function(t){jee(e,t);function e(r){var n=t.call(this)||this;return n.promise=r,n}return e.prototype.xhr=function(r){return this.promise},e}(GN);Wf.TestRequestor=r_t});var lMe=V(YN=>{"use strict";d();h();Object.defineProperty(YN,"__esModule",{value:!0});YN.AuthorizationServiceConfiguration=void 0;var n_t=$N(),i_t=".well-known",o_t="openid-configuration",s_t=function(){function t(e){this.authorizationEndpoint=e.authorization_endpoint,this.tokenEndpoint=e.token_endpoint,this.revocationEndpoint=e.revocation_endpoint,this.userInfoEndpoint=e.userinfo_endpoint,this.endSessionEndpoint=e.end_session_endpoint}return t.prototype.toJson=function(){return{authorization_endpoint:this.authorizationEndpoint,token_endpoint:this.tokenEndpoint,revocation_endpoint:this.revocationEndpoint,end_session_endpoint:this.endSessionEndpoint,userinfo_endpoint:this.userInfoEndpoint}},t.fetchFromIssuer=function(e,r){var n="".concat(e,"/").concat(i_t,"/").concat(o_t),i=r||new n_t.JQueryRequestor;return i.xhr({url:n,dataType:"json",method:"GET"}).then(function(o){return new t(o)})},t}();YN.AuthorizationServiceConfiguration=s_t});var QN=V(ZN=>{"use strict";d();h();Object.defineProperty(ZN,"__esModule",{value:!0});ZN.BasicQueryStringUtils=void 0;var a_t=function(){function t(){}return t.prototype.parse=function(e,r){return r?this.parseQueryString(e.hash):this.parseQueryString(e.search)},t.prototype.parseQueryString=function(e){var r={};e=e.trim().replace(/^(\?|#|&)/,"");for(var n=e.split("&"),i=0;i<n.length;i+=1){var o=n[i],s=o.split("=");if(s.length>=2){var c=decodeURIComponent(s.shift()),l=s.length>0?s.join("="):null;l&&(r[c]=decodeURIComponent(l))}}return r},t.prototype.stringify=function(e){var r=[];for(var n in e)e.hasOwnProperty(n)&&e[n]&&r.push("".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(e[n])));return r.join("&")},t}();ZN.BasicQueryStringUtils=a_t});var zee=V(wg=>{"use strict";d();h();var c_t=wg&&wg.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(wg,"__esModule",{value:!0});wg.LocalStorageBackend=wg.StorageBackend=void 0;var dMe=function(){function t(){}return t}();wg.StorageBackend=dMe;var u_t=function(t){c_t(e,t);function e(r){var n=t.call(this)||this;return n.storage=r||self.localStorage,n}return e.prototype.getItem=function(r){var n=this;return new Promise(function(i,o){var s=n.storage.getItem(r);i(s||null)})},e.prototype.removeItem=function(r){var n=this;return new Promise(function(i,o){n.storage.removeItem(r),i()})},e.prototype.clear=function(){var r=this;return new Promise(function(n,i){r.storage.clear(),n()})},e.prototype.setItem=function(r,n){var i=this;return new Promise(function(o,s){i.storage.setItem(r,n),o()})},e}(dMe);wg.LocalStorageBackend=u_t});var mMe=V(mA=>{"use strict";d();h();var f_t=mA&&mA.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(mA,"__esModule",{value:!0});mA.RedirectRequestHandler=void 0;var l_t=Fee(),d_t=qee(),hMe=Kee(),h_t=jN(),JN=d5(),p_t=QN(),m_t=zee(),Wee=function(t){return"".concat(t,"_appauth_authorization_request")},pMe=function(t){return"".concat(t,"_appauth_authorization_service_configuration")},Gee="appauth_current_authorization_request",y_t=function(t){f_t(e,t);function e(r,n,i,o){r===void 0&&(r=new m_t.LocalStorageBackend),n===void 0&&(n=new p_t.BasicQueryStringUtils),i===void 0&&(i=self.location),o===void 0&&(o=new h_t.DefaultCrypto);var s=t.call(this,n,o)||this;return s.storageBackend=r,s.locationLike=i,s}return e.prototype.performAuthorizationRequest=function(r,n){var i=this,o=this.crypto.generateRandom(10),s=Promise.all([this.storageBackend.setItem(Gee,o),n.toJson().then(function(c){return i.storageBackend.setItem(Wee(o),JSON.stringify(c))}),this.storageBackend.setItem(pMe(o),JSON.stringify(r.toJson()))]);s.then(function(){var c=i.buildRequestUrl(r,n);(0,JN.log)("Making a request to ",n,c),i.locationLike.assign(c)})},e.prototype.completeAuthorizationRequest=function(){var r=this;return this.storageBackend.getItem(Gee).then(function(n){return n?r.storageBackend.getItem(Wee(n)).then(function(i){return JSON.parse(i)}).then(function(i){return new l_t.AuthorizationRequest(i)}).then(function(i){var o="".concat(r.locationLike.origin).concat(r.locationLike.pathname),s=r.utils.parse(r.locationLike,!0),c=s.state,l=s.code,m=s.error;(0,JN.log)("Potential authorization request ",o,s,c,l,m);var w=c===i.state,b=null,E=null;if(w){if(m){var I=s.error_uri,M=s.error_description;E=new hMe.AuthorizationError({error:m,error_description:M,error_uri:I,state:c})}else b=new hMe.AuthorizationResponse({code:l,state:c});return Promise.all([r.storageBackend.removeItem(Gee),r.storageBackend.removeItem(Wee(n)),r.storageBackend.removeItem(pMe(n))]).then(function(){return(0,JN.log)("Delivering authorization response"),{request:i,response:b,error:E}})}else return(0,JN.log)("Mismatched request (state and request_uri) dont match."),Promise.resolve(null)}):null})},e}(d_t.AuthorizationRequestHandler);mA.RedirectRequestHandler=y_t});var yMe=V(XN=>{"use strict";d();h();Object.defineProperty(XN,"__esModule",{value:!0});XN.RevokeTokenRequest=void 0;var g_t=function(){function t(e){this.token=e.token,this.tokenTypeHint=e.token_type_hint,this.clientId=e.client_id,this.clientSecret=e.client_secret}return t.prototype.toJson=function(){var e={token:this.token};return this.tokenTypeHint&&(e.token_type_hint=this.tokenTypeHint),this.clientId&&(e.client_id=this.clientId),this.clientSecret&&(e.client_secret=this.clientSecret),e},t.prototype.toStringMap=function(){var e=this.toJson();return e},t}();XN.RevokeTokenRequest=g_t});var gMe=V(Sg=>{"use strict";d();h();Object.defineProperty(Sg,"__esModule",{value:!0});Sg.TokenRequest=Sg.GRANT_TYPE_REFRESH_TOKEN=Sg.GRANT_TYPE_AUTHORIZATION_CODE=void 0;Sg.GRANT_TYPE_AUTHORIZATION_CODE="authorization_code";Sg.GRANT_TYPE_REFRESH_TOKEN="refresh_token";var b_t=function(){function t(e){this.clientId=e.client_id,this.redirectUri=e.redirect_uri,this.grantType=e.grant_type,this.code=e.code,this.refreshToken=e.refresh_token,this.extras=e.extras}return t.prototype.toJson=function(){return{grant_type:this.grantType,code:this.code,refresh_token:this.refreshToken,redirect_uri:this.redirectUri,client_id:this.clientId,extras:this.extras}},t.prototype.toStringMap=function(){var e={grant_type:this.grantType,client_id:this.clientId,redirect_uri:this.redirectUri};if(this.code&&(e.code=this.code),this.refreshToken&&(e.refresh_token=this.refreshToken),this.extras)for(var r in this.extras)this.extras.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=this.extras[r]);return e},t}();Sg.TokenRequest=b_t});var $ee=V(kh=>{"use strict";d();h();Object.defineProperty(kh,"__esModule",{value:!0});kh.TokenError=kh.TokenResponse=kh.nowInSeconds=void 0;var v_t=10*60*-1,x_t=function(){return Math.round(new Date().getTime()/1e3)};kh.nowInSeconds=x_t;var w_t=function(){function t(e){this.accessToken=e.access_token,this.tokenType=e.token_type||"bearer",e.expires_in&&(this.expiresIn=parseInt(e.expires_in,10)),this.refreshToken=e.refresh_token,this.scope=e.scope,this.idToken=e.id_token,this.issuedAt=e.issued_at||(0,kh.nowInSeconds)()}return t.prototype.toJson=function(){var e;return{access_token:this.accessToken,id_token:this.idToken,refresh_token:this.refreshToken,scope:this.scope,token_type:this.tokenType,issued_at:this.issuedAt,expires_in:(e=this.expiresIn)===null||e===void 0?void 0:e.toString()}},t.prototype.isValid=function(e){if(e===void 0&&(e=v_t),this.expiresIn){var r=(0,kh.nowInSeconds)();return r<this.issuedAt+this.expiresIn+e}else return!0},t}();kh.TokenResponse=w_t;var S_t=function(){function t(e){this.error=e.error,this.errorDescription=e.error_description,this.errorUri=e.error_uri}return t.prototype.toJson=function(){return{error:this.error,error_description:this.errorDescription,error_uri:this.errorUri}},t}();kh.TokenError=S_t});var vMe=V(eD=>{"use strict";d();h();Object.defineProperty(eD,"__esModule",{value:!0});eD.BaseTokenRequestHandler=void 0;var A_t=hA(),E_t=QN(),bMe=$ee(),__t=$N(),T_t=function(){function t(e,r){e===void 0&&(e=new __t.JQueryRequestor),r===void 0&&(r=new E_t.BasicQueryStringUtils),this.requestor=e,this.utils=r}return t.prototype.isTokenResponse=function(e){return e.error===void 0},t.prototype.performRevokeTokenRequest=function(e,r){var n=this.requestor.xhr({url:e.revocationEndpoint,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:this.utils.stringify(r.toStringMap())});return n.then(function(i){return!0})},t.prototype.performTokenRequest=function(e,r){var n=this,i=this.requestor.xhr({url:e.tokenEndpoint,method:"POST",dataType:"json",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:this.utils.stringify(r.toStringMap())});return i.then(function(o){return n.isTokenResponse(o)?new bMe.TokenResponse(o):Promise.reject(new A_t.AppAuthError(o.error,new bMe.TokenError(o)))})},t}();eD.BaseTokenRequestHandler=T_t});var wMe=V(xMe=>{"use strict";d();h();Object.defineProperty(xMe,"__esModule",{value:!0})});var Yee=V(ji=>{"use strict";d();h();var I_t=ji&&ji.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Ws=ji&&ji.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&I_t(e,t,r)};Object.defineProperty(ji,"__esModule",{value:!0});Ws(Fee(),ji);Ws(qee(),ji);Ws(Kee(),ji);Ws(lMe(),ji);Ws(jN(),ji);Ws(hA(),ji);Ws(Dee(),ji);Ws(d5(),ji);Ws(QN(),ji);Ws(mMe(),ji);Ws(yMe(),ji);Ws(zee(),ji);Ws(gMe(),ji);Ws(vMe(),ji);Ws($ee(),ji);Ws(wMe(),ji);Ws($N(),ji)});var pke=V((Z0n,hke)=>{d();h();function C8t(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}hke.exports=C8t});var yke=V((X0n,mke)=>{d();h();var O8t=aI(),N8t=eae();function D8t(t,e){return t&&O8t(e,N8t(e),t)}mke.exports=D8t});var bke=V((rpn,gke)=>{d();h();var U8t=aI(),L8t=HF();function F8t(t,e){return t&&U8t(e,L8t(e),t)}gke.exports=F8t});var xke=V((opn,vke)=>{d();h();var V8t=aI(),q8t=Zae();function K8t(t,e){return V8t(t,q8t(t),e)}vke.exports=K8t});var Wte=V((cpn,wke)=>{d();h();var H8t=ALe(),j8t=ELe(),z8t=Zae(),W8t=SLe(),G8t=Object.getOwnPropertySymbols,$8t=G8t?function(t){for(var e=[];t;)H8t(e,z8t(t)),t=j8t(t);return e}:W8t;wke.exports=$8t});var Ake=V((lpn,Ske)=>{d();h();var Y8t=aI(),Z8t=Wte();function Q8t(t,e){return Y8t(t,Z8t(t),e)}Ske.exports=Q8t});var _ke=V((ppn,Eke)=>{d();h();var J8t=_Le(),X8t=Wte(),e5t=HF();function t5t(t){return J8t(t,e5t,X8t)}Eke.exports=t5t});var Ike=V((gpn,Tke)=>{d();h();var r5t=Object.prototype,n5t=r5t.hasOwnProperty;function i5t(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&n5t.call(t,"index")&&(r.index=t.index,r.input=t.input),r}Tke.exports=i5t});var kke=V((xpn,Mke)=>{d();h();var o5t=Qae();function s5t(t,e){var r=e?o5t(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}Mke.exports=s5t});var Bke=V((Apn,Pke)=>{d();h();var a5t=/\w*$/;function c5t(t){var e=new t.constructor(t.source,a5t.exec(t));return e.lastIndex=t.lastIndex,e}Pke.exports=c5t});var Dke=V((Tpn,Nke)=>{d();h();var Rke=dLe(),Cke=Rke?Rke.prototype:void 0,Oke=Cke?Cke.valueOf:void 0;function u5t(t){return Oke?Object(Oke.call(t)):{}}Nke.exports=u5t});var Lke=V((kpn,Uke)=>{d();h();var f5t=Qae(),l5t=kke(),d5t=Bke(),h5t=Dke(),p5t=ILe(),m5t="[object Boolean]",y5t="[object Date]",g5t="[object Map]",b5t="[object Number]",v5t="[object RegExp]",x5t="[object Set]",w5t="[object String]",S5t="[object Symbol]",A5t="[object ArrayBuffer]",E5t="[object DataView]",_5t="[object Float32Array]",T5t="[object Float64Array]",I5t="[object Int8Array]",M5t="[object Int16Array]",k5t="[object Int32Array]",P5t="[object Uint8Array]",B5t="[object Uint8ClampedArray]",R5t="[object Uint16Array]",C5t="[object Uint32Array]";function O5t(t,e,r){var n=t.constructor;switch(e){case A5t:return f5t(t);case m5t:case y5t:return new n(+t);case E5t:return l5t(t,r);case _5t:case T5t:case I5t:case M5t:case k5t:case P5t:case B5t:case R5t:case C5t:return p5t(t,r);case g5t:return new n;case b5t:case w5t:return new n(t);case v5t:return d5t(t);case x5t:return new n;case S5t:return h5t(t)}}Uke.exports=O5t});var Vke=V((Rpn,Fke)=>{d();h();var N5t=jF(),D5t=UF(),U5t="[object Map]";function L5t(t){return D5t(t)&&N5t(t)==U5t}Fke.exports=L5t});var jke=V((Npn,Hke)=>{d();h();var F5t=Vke(),V5t=LF(),qke=FF(),Kke=qke&&qke.isMap,q5t=Kke?V5t(Kke):F5t;Hke.exports=q5t});var Wke=V((Lpn,zke)=>{d();h();var K5t=jF(),H5t=UF(),j5t="[object Set]";function z5t(t){return H5t(t)&&K5t(t)==j5t}zke.exports=z5t});var Zke=V((qpn,Yke)=>{d();h();var W5t=Wke(),G5t=LF(),Gke=FF(),$ke=Gke&&Gke.isSet,$5t=$ke?G5t($ke):W5t;Yke.exports=$5t});var t7e=V((jpn,e7e)=>{d();h();var Y5t=vLe(),Z5t=pke(),Q5t=mLe(),J5t=yke(),X5t=bke(),eTt=xLe(),tTt=wLe(),rTt=xke(),nTt=Ake(),iTt=TLe(),oTt=_ke(),sTt=jF(),aTt=Ike(),cTt=Lke(),uTt=MLe(),fTt=yLe(),lTt=gLe(),dTt=jke(),hTt=pLe(),pTt=Zke(),mTt=eae(),yTt=HF(),gTt=1,bTt=2,vTt=4,Qke="[object Arguments]",xTt="[object Array]",wTt="[object Boolean]",STt="[object Date]",ATt="[object Error]",Jke="[object Function]",ETt="[object GeneratorFunction]",_Tt="[object Map]",TTt="[object Number]",Xke="[object Object]",ITt="[object RegExp]",MTt="[object Set]",kTt="[object String]",PTt="[object Symbol]",BTt="[object WeakMap]",RTt="[object ArrayBuffer]",CTt="[object DataView]",OTt="[object Float32Array]",NTt="[object Float64Array]",DTt="[object Int8Array]",UTt="[object Int16Array]",LTt="[object Int32Array]",FTt="[object Uint8Array]",VTt="[object Uint8ClampedArray]",qTt="[object Uint16Array]",KTt="[object Uint32Array]",di={};di[Qke]=di[xTt]=di[RTt]=di[CTt]=di[wTt]=di[STt]=di[OTt]=di[NTt]=di[DTt]=di[UTt]=di[LTt]=di[_Tt]=di[TTt]=di[Xke]=di[ITt]=di[MTt]=di[kTt]=di[PTt]=di[FTt]=di[VTt]=di[qTt]=di[KTt]=!0;di[ATt]=di[Jke]=di[BTt]=!1;function _D(t,e,r,n,i,o){var s,c=e&gTt,l=e&bTt,m=e&vTt;if(r&&(s=i?r(t,n,i,o):r(t)),s!==void 0)return s;if(!hTt(t))return t;var w=fTt(t);if(w){if(s=aTt(t),!c)return tTt(t,s)}else{var b=sTt(t),E=b==Jke||b==ETt;if(lTt(t))return eTt(t,c);if(b==Xke||b==Qke||E&&!i){if(s=l||E?{}:uTt(t),!c)return l?nTt(t,X5t(s,t)):rTt(t,J5t(s,t))}else{if(!di[b])return i?t:{};s=cTt(t,b,c)}}o||(o=new Y5t);var I=o.get(t);if(I)return I;o.set(t,s),pTt(t)?t.forEach(function(R){s.add(_D(R,e,r,R,t,o))}):dTt(t)&&t.forEach(function(R,B){s.set(B,_D(R,e,r,B,t,o))});var M=m?l?oTt:iTt:l?yTt:mTt,k=w?void 0:M(t);return Z5t(k||t,function(R,B){k&&(B=R,R=t[B]),Q5t(s,B,_D(R,e,r,B,t,o))}),s}e7e.exports=_D});var n7e=V((Gpn,r7e)=>{d();h();var HTt=t7e(),jTt=1,zTt=4;function WTt(t){return HTt(t,jTt|zTt)}r7e.exports=WTt});var y7e=V((mmn,m7e)=>{d();h();var Tn={IMPOSSIBLE_CASE:"Impossible case. Please create issue.",TWEAK_ADD:"The tweak was out of range or the resulted private key is invalid",TWEAK_MUL:"The tweak was out of range or equal to zero",CONTEXT_RANDOMIZE_UNKNOW:"Unknow error on context randomization",SECKEY_INVALID:"Private Key is invalid",PUBKEY_PARSE:"Public Key could not be parsed",PUBKEY_SERIALIZE:"Public Key serialization error",PUBKEY_COMBINE:"The sum of the public keys is not valid",SIG_PARSE:"Signature could not be parsed",SIGN:"The nonce generation function failed, or the private key was invalid",RECOVER:"Public key could not be recover",ECDH:"Scalar was invalid (zero or overflow)"};function $f(t,e){if(!t)throw new Error(e)}function sn(t,e,r){if($f(e instanceof Uint8Array,`Expected ${t} to be an Uint8Array`),r!==void 0)if(Array.isArray(r)){let n=r.join(", "),i=`Expected ${t} to be an Uint8Array with length [${n}]`;$f(r.includes(e.length),i)}else{let n=`Expected ${t} to be an Uint8Array with length ${r}`;$f(e.length===r,n)}}function qv(t){$f(RA(t)==="Boolean","Expected compressed to be a Boolean")}function rd(t=r=>new Uint8Array(r),e){return typeof t=="function"&&(t=t(e)),sn("output",t,e),t}function RA(t){return Object.prototype.toString.call(t).slice(8,-1)}m7e.exports=t=>({contextRandomize(e){switch($f(e===null||e instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),e!==null&&sn("seed",e,32),t.contextRandomize(e)){case 1:throw new Error(Tn.CONTEXT_RANDOMIZE_UNKNOW)}},privateKeyVerify(e){return sn("private key",e,32),t.privateKeyVerify(e)===0},privateKeyNegate(e){switch(sn("private key",e,32),t.privateKeyNegate(e)){case 0:return e;case 1:throw new Error(Tn.IMPOSSIBLE_CASE)}},privateKeyTweakAdd(e,r){switch(sn("private key",e,32),sn("tweak",r,32),t.privateKeyTweakAdd(e,r)){case 0:return e;case 1:throw new Error(Tn.TWEAK_ADD)}},privateKeyTweakMul(e,r){switch(sn("private key",e,32),sn("tweak",r,32),t.privateKeyTweakMul(e,r)){case 0:return e;case 1:throw new Error(Tn.TWEAK_MUL)}},publicKeyVerify(e){return sn("public key",e,[33,65]),t.publicKeyVerify(e)===0},publicKeyCreate(e,r=!0,n){switch(sn("private key",e,32),qv(r),n=rd(n,r?33:65),t.publicKeyCreate(n,e)){case 0:return n;case 1:throw new Error(Tn.SECKEY_INVALID);case 2:throw new Error(Tn.PUBKEY_SERIALIZE)}},publicKeyConvert(e,r=!0,n){switch(sn("public key",e,[33,65]),qv(r),n=rd(n,r?33:65),t.publicKeyConvert(n,e)){case 0:return n;case 1:throw new Error(Tn.PUBKEY_PARSE);case 2:throw new Error(Tn.PUBKEY_SERIALIZE)}},publicKeyNegate(e,r=!0,n){switch(sn("public key",e,[33,65]),qv(r),n=rd(n,r?33:65),t.publicKeyNegate(n,e)){case 0:return n;case 1:throw new Error(Tn.PUBKEY_PARSE);case 2:throw new Error(Tn.IMPOSSIBLE_CASE);case 3:throw new Error(Tn.PUBKEY_SERIALIZE)}},publicKeyCombine(e,r=!0,n){$f(Array.isArray(e),"Expected public keys to be an Array"),$f(e.length>0,"Expected public keys array will have more than zero items");for(let i of e)sn("public key",i,[33,65]);switch(qv(r),n=rd(n,r?33:65),t.publicKeyCombine(n,e)){case 0:return n;case 1:throw new Error(Tn.PUBKEY_PARSE);case 2:throw new Error(Tn.PUBKEY_COMBINE);case 3:throw new Error(Tn.PUBKEY_SERIALIZE)}},publicKeyTweakAdd(e,r,n=!0,i){switch(sn("public key",e,[33,65]),sn("tweak",r,32),qv(n),i=rd(i,n?33:65),t.publicKeyTweakAdd(i,e,r)){case 0:return i;case 1:throw new Error(Tn.PUBKEY_PARSE);case 2:throw new Error(Tn.TWEAK_ADD)}},publicKeyTweakMul(e,r,n=!0,i){switch(sn("public key",e,[33,65]),sn("tweak",r,32),qv(n),i=rd(i,n?33:65),t.publicKeyTweakMul(i,e,r)){case 0:return i;case 1:throw new Error(Tn.PUBKEY_PARSE);case 2:throw new Error(Tn.TWEAK_MUL)}},signatureNormalize(e){switch(sn("signature",e,64),t.signatureNormalize(e)){case 0:return e;case 1:throw new Error(Tn.SIG_PARSE)}},signatureExport(e,r){sn("signature",e,64),r=rd(r,72);let n={output:r,outputlen:72};switch(t.signatureExport(n,e)){case 0:return r.slice(0,n.outputlen);case 1:throw new Error(Tn.SIG_PARSE);case 2:throw new Error(Tn.IMPOSSIBLE_CASE)}},signatureImport(e,r){switch(sn("signature",e),r=rd(r,64),t.signatureImport(r,e)){case 0:return r;case 1:throw new Error(Tn.SIG_PARSE);case 2:throw new Error(Tn.IMPOSSIBLE_CASE)}},ecdsaSign(e,r,n={},i){sn("message",e,32),sn("private key",r,32),$f(RA(n)==="Object","Expected options to be an Object"),n.data!==void 0&&sn("options.data",n.data),n.noncefn!==void 0&&$f(RA(n.noncefn)==="Function","Expected options.noncefn to be a Function"),i=rd(i,64);let o={signature:i,recid:null};switch(t.ecdsaSign(o,e,r,n.data,n.noncefn)){case 0:return o;case 1:throw new Error(Tn.SIGN);case 2:throw new Error(Tn.IMPOSSIBLE_CASE)}},ecdsaVerify(e,r,n){switch(sn("signature",e,64),sn("message",r,32),sn("public key",n,[33,65]),t.ecdsaVerify(e,r,n)){case 0:return!0;case 3:return!1;case 1:throw new Error(Tn.SIG_PARSE);case 2:throw new Error(Tn.PUBKEY_PARSE)}},ecdsaRecover(e,r,n,i=!0,o){switch(sn("signature",e,64),$f(RA(r)==="Number"&&r>=0&&r<=3,"Expected recovery id to be a Number within interval [0, 3]"),sn("message",n,32),qv(i),o=rd(o,i?33:65),t.ecdsaRecover(o,e,r,n)){case 0:return o;case 1:throw new Error(Tn.SIG_PARSE);case 2:throw new Error(Tn.RECOVER);case 3:throw new Error(Tn.IMPOSSIBLE_CASE)}},ecdh(e,r,n={},i){switch(sn("public key",e,[33,65]),sn("private key",r,32),$f(RA(n)==="Object","Expected options to be an Object"),n.data!==void 0&&sn("options.data",n.data),n.hashfn!==void 0?($f(RA(n.hashfn)==="Function","Expected options.hashfn to be a Function"),n.xbuf!==void 0&&sn("options.xbuf",n.xbuf,32),n.ybuf!==void 0&&sn("options.ybuf",n.ybuf,32),sn("output",i)):i=rd(i,32),t.ecdh(i,e,r,n.data,n.hashfn,n.xbuf,n.ybuf)){case 0:return i;case 1:throw new Error(Tn.PUBKEY_PARSE);case 2:throw new Error(Tn.ECDH)}}})});var b7e=V((bmn,g7e)=>{d();h();var eIt=hw().ec,Ch=new eIt("secp256k1"),Xr=Ch.curve,ri=Xr.n.constructor;function tIt(t,e){let r=new ri(e);if(r.cmp(Xr.p)>=0)return null;r=r.toRed(Xr.red);let n=r.redSqr().redIMul(r).redIAdd(Xr.b).redSqrt();return t===3!==n.isOdd()&&(n=n.redNeg()),Ch.keyPair({pub:{x:r,y:n}})}function rIt(t,e,r){let n=new ri(e),i=new ri(r);if(n.cmp(Xr.p)>=0||i.cmp(Xr.p)>=0||(n=n.toRed(Xr.red),i=i.toRed(Xr.red),(t===6||t===7)&&i.isOdd()!==(t===7)))return null;let o=n.redSqr().redIMul(n);return i.redSqr().redISub(o.redIAdd(Xr.b)).isZero()?Ch.keyPair({pub:{x:n,y:i}}):null}function Pg(t){let e=t[0];switch(e){case 2:case 3:return t.length!==33?null:tIt(e,t.subarray(1,33));case 4:case 6:case 7:return t.length!==65?null:rIt(e,t.subarray(1,33),t.subarray(33,65));default:return null}}function Kv(t,e){let r=e.encode(null,t.length===33);for(let n=0;n<t.length;++n)t[n]=r[n]}g7e.exports={contextRandomize(){return 0},privateKeyVerify(t){let e=new ri(t);return e.cmp(Xr.n)<0&&!e.isZero()?0:1},privateKeyNegate(t){let e=new ri(t),r=Xr.n.sub(e).umod(Xr.n).toArrayLike(Uint8Array,"be",32);return t.set(r),0},privateKeyTweakAdd(t,e){let r=new ri(e);if(r.cmp(Xr.n)>=0||(r.iadd(new ri(t)),r.cmp(Xr.n)>=0&&r.isub(Xr.n),r.isZero()))return 1;let n=r.toArrayLike(Uint8Array,"be",32);return t.set(n),0},privateKeyTweakMul(t,e){let r=new ri(e);if(r.cmp(Xr.n)>=0||r.isZero())return 1;r.imul(new ri(t)),r.cmp(Xr.n)>=0&&(r=r.umod(Xr.n));let n=r.toArrayLike(Uint8Array,"be",32);return t.set(n),0},publicKeyVerify(t){return Pg(t)===null?1:0},publicKeyCreate(t,e){let r=new ri(e);if(r.cmp(Xr.n)>=0||r.isZero())return 1;let n=Ch.keyFromPrivate(e).getPublic();return Kv(t,n),0},publicKeyConvert(t,e){let r=Pg(e);if(r===null)return 1;let n=r.getPublic();return Kv(t,n),0},publicKeyNegate(t,e){let r=Pg(e);if(r===null)return 1;let n=r.getPublic();return n.y=n.y.redNeg(),Kv(t,n),0},publicKeyCombine(t,e){let r=new Array(e.length);for(let i=0;i<e.length;++i)if(r[i]=Pg(e[i]),r[i]===null)return 1;let n=r[0].getPublic();for(let i=1;i<r.length;++i)n=n.add(r[i].pub);return n.isInfinity()?2:(Kv(t,n),0)},publicKeyTweakAdd(t,e,r){let n=Pg(e);if(n===null)return 1;if(r=new ri(r),r.cmp(Xr.n)>=0)return 2;let i=n.getPublic().add(Xr.g.mul(r));return i.isInfinity()?2:(Kv(t,i),0)},publicKeyTweakMul(t,e,r){let n=Pg(e);if(n===null)return 1;if(r=new ri(r),r.cmp(Xr.n)>=0||r.isZero())return 2;let i=n.getPublic().mul(r);return Kv(t,i),0},signatureNormalize(t){let e=new ri(t.subarray(0,32)),r=new ri(t.subarray(32,64));return e.cmp(Xr.n)>=0||r.cmp(Xr.n)>=0?1:(r.cmp(Ch.nh)===1&&t.set(Xr.n.sub(r).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(t,e){let r=e.subarray(0,32),n=e.subarray(32,64);if(new ri(r).cmp(Xr.n)>=0||new ri(n).cmp(Xr.n)>=0)return 1;let{output:i}=t,o=i.subarray(4,37);o[0]=0,o.set(r,1);let s=33,c=0;for(;s>1&&o[c]===0&&!(o[c+1]&128);--s,++c);if(o=o.subarray(c),o[0]&128||s>1&&o[0]===0&&!(o[1]&128))return 1;let l=i.subarray(39,72);l[0]=0,l.set(n,1);let m=33,w=0;for(;m>1&&l[w]===0&&!(l[w+1]&128);--m,++w);return l=l.subarray(w),l[0]&128||m>1&&l[0]===0&&!(l[1]&128)?1:(t.outputlen=6+s+m,i[0]=48,i[1]=t.outputlen-2,i[2]=2,i[3]=o.length,i.set(o,4),i[4+s]=2,i[5+s]=l.length,i.set(l,6+s),0)},signatureImport(t,e){if(e.length<8||e.length>72||e[0]!==48||e[1]!==e.length-2||e[2]!==2)return 1;let r=e[3];if(r===0||5+r>=e.length||e[4+r]!==2)return 1;let n=e[5+r];if(n===0||6+r+n!==e.length||e[4]&128||r>1&&e[4]===0&&!(e[5]&128)||e[r+6]&128||n>1&&e[r+6]===0&&!(e[r+7]&128))return 1;let i=e.subarray(4,4+r);if(i.length===33&&i[0]===0&&(i=i.subarray(1)),i.length>32)return 1;let o=e.subarray(6+r);if(o.length===33&&o[0]===0&&(o=o.slice(1)),o.length>32)throw new Error("S length is too long");let s=new ri(i);s.cmp(Xr.n)>=0&&(s=new ri(0));let c=new ri(e.subarray(6+r));return c.cmp(Xr.n)>=0&&(c=new ri(0)),t.set(s.toArrayLike(Uint8Array,"be",32),0),t.set(c.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(t,e,r,n,i){if(i){let c=i;i=l=>{let m=c(e,r,null,n,l);if(!(m instanceof Uint8Array&&m.length===32))throw new Error("This is the way");return new ri(m)}}let o=new ri(r);if(o.cmp(Xr.n)>=0||o.isZero())return 1;let s;try{s=Ch.sign(e,r,{canonical:!0,k:i,pers:n})}catch{return 1}return t.signature.set(s.r.toArrayLike(Uint8Array,"be",32),0),t.signature.set(s.s.toArrayLike(Uint8Array,"be",32),32),t.recid=s.recoveryParam,0},ecdsaVerify(t,e,r){let n={r:t.subarray(0,32),s:t.subarray(32,64)},i=new ri(n.r),o=new ri(n.s);if(i.cmp(Xr.n)>=0||o.cmp(Xr.n)>=0)return 1;if(o.cmp(Ch.nh)===1||i.isZero()||o.isZero())return 3;let s=Pg(r);if(s===null)return 2;let c=s.getPublic();return Ch.verify(e,n,c)?0:3},ecdsaRecover(t,e,r,n){let i={r:e.slice(0,32),s:e.slice(32,64)},o=new ri(i.r),s=new ri(i.s);if(o.cmp(Xr.n)>=0||s.cmp(Xr.n)>=0)return 1;if(o.isZero()||s.isZero())return 2;let c;try{c=Ch.recoverPubKey(n,i,r)}catch{return 2}return Kv(t,c),0},ecdh(t,e,r,n,i,o,s){let c=Pg(e);if(c===null)return 1;let l=new ri(r);if(l.cmp(Xr.n)>=0||l.isZero())return 2;let m=c.getPublic().mul(l);if(i===void 0){let w=m.encode(null,!0),b=Ch.hash().update(w).digest();for(let E=0;E<32;++E)t[E]=b[E]}else{o||(o=new Uint8Array(32));let w=m.getX().toArray("be",32);for(let M=0;M<32;++M)o[M]=w[M];s||(s=new Uint8Array(32));let b=m.getY().toArray("be",32);for(let M=0;M<32;++M)s[M]=b[M];let E=i(o,s,n);if(!(E instanceof Uint8Array&&E.length===t.length))return 2;t.set(E)}return 0}}});var Zte=V((wmn,v7e)=>{d();h();v7e.exports=y7e()(b7e())});var w7e=V(RD=>{"use strict";d();h();Object.defineProperty(RD,"__esModule",{value:!0});var x7e=Jh();function nIt(t){return new Promise(function(e,r){x7e(t,function(n,i){if(n){r(n);return}e(i)})})}RD.getRandomBytes=nIt;function iIt(t){return x7e(t)}RD.getRandomBytesSync=iIt});var _7e=V(Oh=>{"use strict";d();h();var oIt=Oh&&Oh.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function c(w){try{m(n.next(w))}catch(b){s(b)}}function l(w){try{m(n.throw(w))}catch(b){s(b)}}function m(w){w.done?o(w.value):i(w.value).then(c,l)}m((n=n.apply(t,e||[])).next())})},sIt=Oh&&Oh.__generator||function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(m){return function(w){return l([m,w])}}function l(m){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=m[0]&2?i.return:m[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,m[1])).done)return o;switch(i=0,o&&(m=[m[0]&2,o.value]),m[0]){case 0:case 1:o=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,i=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!o||m[1]>o[0]&&m[1]<o[3])){r.label=m[1];break}if(m[0]===6&&r.label<o[1]){r.label=o[1],o=m;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(m);break}o[2]&&r.ops.pop(),r.trys.pop();continue}m=e.call(t,r)}catch(w){m=[6,w],i=0}finally{n=o=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}};function aIt(t){for(var e in t)Oh.hasOwnProperty(e)||(Oh[e]=t[e])}Object.defineProperty(Oh,"__esModule",{value:!0});var S7e=Zte(),A7e=w7e(),E7e=32;function cIt(){return oIt(this,void 0,void 0,function(){var t;return sIt(this,function(e){switch(e.label){case 0:return[4,A7e.getRandomBytes(E7e)];case 1:return t=e.sent(),S7e.privateKeyVerify(t)?[2,t]:[3,0];case 2:return[2]}})})}Oh.createPrivateKey=cIt;function uIt(){for(;;){var t=A7e.getRandomBytesSync(E7e);if(S7e.privateKeyVerify(t))return t}}Oh.createPrivateKeySync=uIt;aIt(Zte())});var Hv=V((T7e,Qte)=>{d();h();(function(t,e){"use strict";function r(S,a){if(!S)throw new Error(a||"Assertion failed")}function n(S,a){S.super_=a;var f=function(){};f.prototype=a.prototype,S.prototype=new f,S.prototype.constructor=S}function i(S,a,f){if(i.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((a==="le"||a==="be")&&(f=a,a=10),this._init(S||0,a||10,f||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof self<"u"&&typeof self.Buffer<"u"?o=self.Buffer:o=Fp().Buffer}catch{}i.isBN=function(a){return a instanceof i?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===i.wordSize&&Array.isArray(a.words)},i.max=function(a,f){return a.cmp(f)>0?a:f},i.min=function(a,f){return a.cmp(f)<0?a:f},i.prototype._init=function(a,f,p){if(typeof a=="number")return this._initNumber(a,f,p);if(typeof a=="object")return this._initArray(a,f,p);f==="hex"&&(f=16),r(f===(f|0)&&f>=2&&f<=36),a=a.toString().replace(/\s+/g,"");var y=0;a[0]==="-"&&(y++,this.negative=1),y<a.length&&(f===16?this._parseHex(a,y,p):(this._parseBase(a,f,y),p==="le"&&this._initArray(this.toArray(),f,p)))},i.prototype._initNumber=function(a,f,p){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(r(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),f,p)},i.prototype._initArray=function(a,f,p){if(r(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var g,A,_=0;if(p==="be")for(y=a.length-1,g=0;y>=0;y-=3)A=a[y]|a[y-1]<<8|a[y-2]<<16,this.words[g]|=A<<_&67108863,this.words[g+1]=A>>>26-_&67108863,_+=24,_>=26&&(_-=26,g++);else if(p==="le")for(y=0,g=0;y<a.length;y+=3)A=a[y]|a[y+1]<<8|a[y+2]<<16,this.words[g]|=A<<_&67108863,this.words[g+1]=A>>>26-_&67108863,_+=24,_>=26&&(_-=26,g++);return this.strip()};function s(S,a){var f=S.charCodeAt(a);return f>=65&&f<=70?f-55:f>=97&&f<=102?f-87:f-48&15}function c(S,a,f){var p=s(S,f);return f-1>=a&&(p|=s(S,f-1)<<4),p}i.prototype._parseHex=function(a,f,p){this.length=Math.ceil((a.length-f)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var g=0,A=0,_;if(p==="be")for(y=a.length-1;y>=f;y-=2)_=c(a,f,y)<<g,this.words[A]|=_&67108863,g>=18?(g-=18,A+=1,this.words[A]|=_>>>26):g+=8;else{var v=a.length-f;for(y=v%2===0?f+1:f;y<a.length;y+=2)_=c(a,f,y)<<g,this.words[A]|=_&67108863,g>=18?(g-=18,A+=1,this.words[A]|=_>>>26):g+=8}this.strip()};function l(S,a,f,p){for(var y=0,g=Math.min(S.length,f),A=a;A<g;A++){var _=S.charCodeAt(A)-48;y*=p,_>=49?y+=_-49+10:_>=17?y+=_-17+10:y+=_}return y}i.prototype._parseBase=function(a,f,p){this.words=[0],this.length=1;for(var y=0,g=1;g<=67108863;g*=f)y++;y--,g=g/f|0;for(var A=a.length-p,_=A%y,v=Math.min(A,A-_)+p,u=0,x=p;x<v;x+=y)u=l(a,x,x+y,f),this.imuln(g),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(_!==0){var L=1;for(u=l(a,x,a.length,f),x=0;x<_;x++)L*=f;this.imuln(L),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},i.prototype.copy=function(a){a.words=new Array(this.length);for(var f=0;f<this.length;f++)a.words[f]=this.words[f];a.length=this.length,a.negative=this.negative,a.red=this.red},i.prototype.clone=function(){var a=new i(null);return this.copy(a),a},i.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],w=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(a,f){a=a||10,f=f|0||1;var p;if(a===16||a==="hex"){p="";for(var y=0,g=0,A=0;A<this.length;A++){var _=this.words[A],v=((_<<y|g)&16777215).toString(16);g=_>>>24-y&16777215,g!==0||A!==this.length-1?p=m[6-v.length]+v+p:p=v+p,y+=2,y>=26&&(y-=26,A--)}for(g!==0&&(p=g.toString(16)+p);p.length%f!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(a===(a|0)&&a>=2&&a<=36){var u=w[a],x=b[a];p="";var L=this.clone();for(L.negative=0;!L.isZero();){var D=L.modn(x).toString(a);L=L.idivn(x),L.isZero()?p=D+p:p=m[u-D.length]+D+p}for(this.isZero()&&(p="0"+p);p.length%f!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(a,f){return r(typeof o<"u"),this.toArrayLike(o,a,f)},i.prototype.toArray=function(a,f){return this.toArrayLike(Array,a,f)},i.prototype.toArrayLike=function(a,f,p){var y=this.byteLength(),g=p||Math.max(1,y);r(y<=g,"byte array longer than desired length"),r(g>0,"Requested array length <= 0"),this.strip();var A=f==="le",_=new a(g),v,u,x=this.clone();if(A){for(u=0;!x.isZero();u++)v=x.andln(255),x.iushrn(8),_[u]=v;for(;u<g;u++)_[u]=0}else{for(u=0;u<g-y;u++)_[u]=0;for(u=0;!x.isZero();u++)v=x.andln(255),x.iushrn(8),_[g-u-1]=v}return _},Math.clz32?i.prototype._countBits=function(a){return 32-Math.clz32(a)}:i.prototype._countBits=function(a){var f=a,p=0;return f>=4096&&(p+=13,f>>>=13),f>=64&&(p+=7,f>>>=7),f>=8&&(p+=4,f>>>=4),f>=2&&(p+=2,f>>>=2),p+f},i.prototype._zeroBits=function(a){if(a===0)return 26;var f=a,p=0;return f&8191||(p+=13,f>>>=13),f&127||(p+=7,f>>>=7),f&15||(p+=4,f>>>=4),f&3||(p+=2,f>>>=2),f&1||p++,p},i.prototype.bitLength=function(){var a=this.words[this.length-1],f=this._countBits(a);return(this.length-1)*26+f};function E(S){for(var a=new Array(S.bitLength()),f=0;f<a.length;f++){var p=f/26|0,y=f%26;a[f]=(S.words[p]&1<<y)>>>y}return a}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,f=0;f<this.length;f++){var p=this._zeroBits(this.words[f]);if(a+=p,p!==26)break}return a},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},i.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var f=0;f<a.length;f++)this.words[f]=this.words[f]|a.words[f];return this.strip()},i.prototype.ior=function(a){return r((this.negative|a.negative)===0),this.iuor(a)},i.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},i.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},i.prototype.iuand=function(a){var f;this.length>a.length?f=a:f=this;for(var p=0;p<f.length;p++)this.words[p]=this.words[p]&a.words[p];return this.length=f.length,this.strip()},i.prototype.iand=function(a){return r((this.negative|a.negative)===0),this.iuand(a)},i.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},i.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},i.prototype.iuxor=function(a){var f,p;this.length>a.length?(f=this,p=a):(f=a,p=this);for(var y=0;y<p.length;y++)this.words[y]=f.words[y]^p.words[y];if(this!==f)for(;y<f.length;y++)this.words[y]=f.words[y];return this.length=f.length,this.strip()},i.prototype.ixor=function(a){return r((this.negative|a.negative)===0),this.iuxor(a)},i.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},i.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},i.prototype.inotn=function(a){r(typeof a=="number"&&a>=0);var f=Math.ceil(a/26)|0,p=a%26;this._expand(f),p>0&&f--;for(var y=0;y<f;y++)this.words[y]=~this.words[y]&67108863;return p>0&&(this.words[y]=~this.words[y]&67108863>>26-p),this.strip()},i.prototype.notn=function(a){return this.clone().inotn(a)},i.prototype.setn=function(a,f){r(typeof a=="number"&&a>=0);var p=a/26|0,y=a%26;return this._expand(p+1),f?this.words[p]=this.words[p]|1<<y:this.words[p]=this.words[p]&~(1<<y),this.strip()},i.prototype.iadd=function(a){var f;if(this.negative!==0&&a.negative===0)return this.negative=0,f=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,f=this.isub(a),a.negative=1,f._normSign();var p,y;this.length>a.length?(p=this,y=a):(p=a,y=this);for(var g=0,A=0;A<y.length;A++)f=(p.words[A]|0)+(y.words[A]|0)+g,this.words[A]=f&67108863,g=f>>>26;for(;g!==0&&A<p.length;A++)f=(p.words[A]|0)+g,this.words[A]=f&67108863,g=f>>>26;if(this.length=p.length,g!==0)this.words[this.length]=g,this.length++;else if(p!==this)for(;A<p.length;A++)this.words[A]=p.words[A];return this},i.prototype.add=function(a){var f;return a.negative!==0&&this.negative===0?(a.negative=0,f=this.sub(a),a.negative^=1,f):a.negative===0&&this.negative!==0?(this.negative=0,f=a.sub(this),this.negative=1,f):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},i.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var f=this.iadd(a);return a.negative=1,f._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var p=this.cmp(a);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var y,g;p>0?(y=this,g=a):(y=a,g=this);for(var A=0,_=0;_<g.length;_++)f=(y.words[_]|0)-(g.words[_]|0)+A,A=f>>26,this.words[_]=f&67108863;for(;A!==0&&_<y.length;_++)f=(y.words[_]|0)+A,A=f>>26,this.words[_]=f&67108863;if(A===0&&_<y.length&&y!==this)for(;_<y.length;_++)this.words[_]=y.words[_];return this.length=Math.max(this.length,_),y!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(a){return this.clone().isub(a)};function I(S,a,f){f.negative=a.negative^S.negative;var p=S.length+a.length|0;f.length=p,p=p-1|0;var y=S.words[0]|0,g=a.words[0]|0,A=y*g,_=A&67108863,v=A/67108864|0;f.words[0]=_;for(var u=1;u<p;u++){for(var x=v>>>26,L=v&67108863,D=Math.min(u,a.length-1),C=Math.max(0,u-S.length+1);C<=D;C++){var z=u-C|0;y=S.words[z]|0,g=a.words[C]|0,A=y*g+L,x+=A/67108864|0,L=A&67108863}f.words[u]=L|0,v=x|0}return v!==0?f.words[u]=v|0:f.length--,f.strip()}var M=function(a,f,p){var y=a.words,g=f.words,A=p.words,_=0,v,u,x,L=y[0]|0,D=L&8191,C=L>>>13,z=y[1]|0,ee=z&8191,ne=z>>>13,Ke=y[2]|0,ae=Ke&8191,W=Ke>>>13,he=y[3]|0,te=he&8191,ce=he>>>13,Ze=y[4]|0,se=Ze&8191,le=Ze>>>13,Bt=y[5]|0,ge=Bt&8191,ye=Bt>>>13,$r=y[6]|0,Ie=$r&8191,we=$r>>>13,gn=y[7]|0,ve=gn&8191,Be=gn>>>13,In=y[8]|0,Re=In&8191,Ce=In>>>13,Rn=y[9]|0,De=Rn&8191,Me=Rn>>>13,Mn=g[0]|0,_e=Mn&8191,Se=Mn>>>13,en=g[1]|0,Ae=en&8191,Te=en>>>13,un=g[2]|0,Ee=un&8191,ke=un>>>13,Cn=g[3]|0,Ue=Cn&8191,Le=Cn>>>13,Or=g[4]|0,be=Or&8191,xe=Or>>>13,kn=g[5]|0,Pe=kn&8191,Oe=kn>>>13,Ln=g[6]|0,me=Ln&8191,Ne=Ln>>>13,Y=g[7]|0,j=Y&8191,H=Y>>>13,O=g[8]|0,Z=O&8191,X=O>>>13,pe=g[9]|0,oe=pe&8191,ue=pe>>>13;p.negative=a.negative^f.negative,p.length=19,v=Math.imul(D,_e),u=Math.imul(D,Se),u=u+Math.imul(C,_e)|0,x=Math.imul(C,Se);var at=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(at>>>26)|0,at&=67108863,v=Math.imul(ee,_e),u=Math.imul(ee,Se),u=u+Math.imul(ne,_e)|0,x=Math.imul(ne,Se),v=v+Math.imul(D,Ae)|0,u=u+Math.imul(D,Te)|0,u=u+Math.imul(C,Ae)|0,x=x+Math.imul(C,Te)|0;var Je=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(Je>>>26)|0,Je&=67108863,v=Math.imul(ae,_e),u=Math.imul(ae,Se),u=u+Math.imul(W,_e)|0,x=Math.imul(W,Se),v=v+Math.imul(ee,Ae)|0,u=u+Math.imul(ee,Te)|0,u=u+Math.imul(ne,Ae)|0,x=x+Math.imul(ne,Te)|0,v=v+Math.imul(D,Ee)|0,u=u+Math.imul(D,ke)|0,u=u+Math.imul(C,Ee)|0,x=x+Math.imul(C,ke)|0;var At=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(At>>>26)|0,At&=67108863,v=Math.imul(te,_e),u=Math.imul(te,Se),u=u+Math.imul(ce,_e)|0,x=Math.imul(ce,Se),v=v+Math.imul(ae,Ae)|0,u=u+Math.imul(ae,Te)|0,u=u+Math.imul(W,Ae)|0,x=x+Math.imul(W,Te)|0,v=v+Math.imul(ee,Ee)|0,u=u+Math.imul(ee,ke)|0,u=u+Math.imul(ne,Ee)|0,x=x+Math.imul(ne,ke)|0,v=v+Math.imul(D,Ue)|0,u=u+Math.imul(D,Le)|0,u=u+Math.imul(C,Ue)|0,x=x+Math.imul(C,Le)|0;var tt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(tt>>>26)|0,tt&=67108863,v=Math.imul(se,_e),u=Math.imul(se,Se),u=u+Math.imul(le,_e)|0,x=Math.imul(le,Se),v=v+Math.imul(te,Ae)|0,u=u+Math.imul(te,Te)|0,u=u+Math.imul(ce,Ae)|0,x=x+Math.imul(ce,Te)|0,v=v+Math.imul(ae,Ee)|0,u=u+Math.imul(ae,ke)|0,u=u+Math.imul(W,Ee)|0,x=x+Math.imul(W,ke)|0,v=v+Math.imul(ee,Ue)|0,u=u+Math.imul(ee,Le)|0,u=u+Math.imul(ne,Ue)|0,x=x+Math.imul(ne,Le)|0,v=v+Math.imul(D,be)|0,u=u+Math.imul(D,xe)|0,u=u+Math.imul(C,be)|0,x=x+Math.imul(C,xe)|0;var dt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(dt>>>26)|0,dt&=67108863,v=Math.imul(ge,_e),u=Math.imul(ge,Se),u=u+Math.imul(ye,_e)|0,x=Math.imul(ye,Se),v=v+Math.imul(se,Ae)|0,u=u+Math.imul(se,Te)|0,u=u+Math.imul(le,Ae)|0,x=x+Math.imul(le,Te)|0,v=v+Math.imul(te,Ee)|0,u=u+Math.imul(te,ke)|0,u=u+Math.imul(ce,Ee)|0,x=x+Math.imul(ce,ke)|0,v=v+Math.imul(ae,Ue)|0,u=u+Math.imul(ae,Le)|0,u=u+Math.imul(W,Ue)|0,x=x+Math.imul(W,Le)|0,v=v+Math.imul(ee,be)|0,u=u+Math.imul(ee,xe)|0,u=u+Math.imul(ne,be)|0,x=x+Math.imul(ne,xe)|0,v=v+Math.imul(D,Pe)|0,u=u+Math.imul(D,Oe)|0,u=u+Math.imul(C,Pe)|0,x=x+Math.imul(C,Oe)|0;var ht=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(ht>>>26)|0,ht&=67108863,v=Math.imul(Ie,_e),u=Math.imul(Ie,Se),u=u+Math.imul(we,_e)|0,x=Math.imul(we,Se),v=v+Math.imul(ge,Ae)|0,u=u+Math.imul(ge,Te)|0,u=u+Math.imul(ye,Ae)|0,x=x+Math.imul(ye,Te)|0,v=v+Math.imul(se,Ee)|0,u=u+Math.imul(se,ke)|0,u=u+Math.imul(le,Ee)|0,x=x+Math.imul(le,ke)|0,v=v+Math.imul(te,Ue)|0,u=u+Math.imul(te,Le)|0,u=u+Math.imul(ce,Ue)|0,x=x+Math.imul(ce,Le)|0,v=v+Math.imul(ae,be)|0,u=u+Math.imul(ae,xe)|0,u=u+Math.imul(W,be)|0,x=x+Math.imul(W,xe)|0,v=v+Math.imul(ee,Pe)|0,u=u+Math.imul(ee,Oe)|0,u=u+Math.imul(ne,Pe)|0,x=x+Math.imul(ne,Oe)|0,v=v+Math.imul(D,me)|0,u=u+Math.imul(D,Ne)|0,u=u+Math.imul(C,me)|0,x=x+Math.imul(C,Ne)|0;var bt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(bt>>>26)|0,bt&=67108863,v=Math.imul(ve,_e),u=Math.imul(ve,Se),u=u+Math.imul(Be,_e)|0,x=Math.imul(Be,Se),v=v+Math.imul(Ie,Ae)|0,u=u+Math.imul(Ie,Te)|0,u=u+Math.imul(we,Ae)|0,x=x+Math.imul(we,Te)|0,v=v+Math.imul(ge,Ee)|0,u=u+Math.imul(ge,ke)|0,u=u+Math.imul(ye,Ee)|0,x=x+Math.imul(ye,ke)|0,v=v+Math.imul(se,Ue)|0,u=u+Math.imul(se,Le)|0,u=u+Math.imul(le,Ue)|0,x=x+Math.imul(le,Le)|0,v=v+Math.imul(te,be)|0,u=u+Math.imul(te,xe)|0,u=u+Math.imul(ce,be)|0,x=x+Math.imul(ce,xe)|0,v=v+Math.imul(ae,Pe)|0,u=u+Math.imul(ae,Oe)|0,u=u+Math.imul(W,Pe)|0,x=x+Math.imul(W,Oe)|0,v=v+Math.imul(ee,me)|0,u=u+Math.imul(ee,Ne)|0,u=u+Math.imul(ne,me)|0,x=x+Math.imul(ne,Ne)|0,v=v+Math.imul(D,j)|0,u=u+Math.imul(D,H)|0,u=u+Math.imul(C,j)|0,x=x+Math.imul(C,H)|0;var gt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(gt>>>26)|0,gt&=67108863,v=Math.imul(Re,_e),u=Math.imul(Re,Se),u=u+Math.imul(Ce,_e)|0,x=Math.imul(Ce,Se),v=v+Math.imul(ve,Ae)|0,u=u+Math.imul(ve,Te)|0,u=u+Math.imul(Be,Ae)|0,x=x+Math.imul(Be,Te)|0,v=v+Math.imul(Ie,Ee)|0,u=u+Math.imul(Ie,ke)|0,u=u+Math.imul(we,Ee)|0,x=x+Math.imul(we,ke)|0,v=v+Math.imul(ge,Ue)|0,u=u+Math.imul(ge,Le)|0,u=u+Math.imul(ye,Ue)|0,x=x+Math.imul(ye,Le)|0,v=v+Math.imul(se,be)|0,u=u+Math.imul(se,xe)|0,u=u+Math.imul(le,be)|0,x=x+Math.imul(le,xe)|0,v=v+Math.imul(te,Pe)|0,u=u+Math.imul(te,Oe)|0,u=u+Math.imul(ce,Pe)|0,x=x+Math.imul(ce,Oe)|0,v=v+Math.imul(ae,me)|0,u=u+Math.imul(ae,Ne)|0,u=u+Math.imul(W,me)|0,x=x+Math.imul(W,Ne)|0,v=v+Math.imul(ee,j)|0,u=u+Math.imul(ee,H)|0,u=u+Math.imul(ne,j)|0,x=x+Math.imul(ne,H)|0,v=v+Math.imul(D,Z)|0,u=u+Math.imul(D,X)|0,u=u+Math.imul(C,Z)|0,x=x+Math.imul(C,X)|0;var pt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(pt>>>26)|0,pt&=67108863,v=Math.imul(De,_e),u=Math.imul(De,Se),u=u+Math.imul(Me,_e)|0,x=Math.imul(Me,Se),v=v+Math.imul(Re,Ae)|0,u=u+Math.imul(Re,Te)|0,u=u+Math.imul(Ce,Ae)|0,x=x+Math.imul(Ce,Te)|0,v=v+Math.imul(ve,Ee)|0,u=u+Math.imul(ve,ke)|0,u=u+Math.imul(Be,Ee)|0,x=x+Math.imul(Be,ke)|0,v=v+Math.imul(Ie,Ue)|0,u=u+Math.imul(Ie,Le)|0,u=u+Math.imul(we,Ue)|0,x=x+Math.imul(we,Le)|0,v=v+Math.imul(ge,be)|0,u=u+Math.imul(ge,xe)|0,u=u+Math.imul(ye,be)|0,x=x+Math.imul(ye,xe)|0,v=v+Math.imul(se,Pe)|0,u=u+Math.imul(se,Oe)|0,u=u+Math.imul(le,Pe)|0,x=x+Math.imul(le,Oe)|0,v=v+Math.imul(te,me)|0,u=u+Math.imul(te,Ne)|0,u=u+Math.imul(ce,me)|0,x=x+Math.imul(ce,Ne)|0,v=v+Math.imul(ae,j)|0,u=u+Math.imul(ae,H)|0,u=u+Math.imul(W,j)|0,x=x+Math.imul(W,H)|0,v=v+Math.imul(ee,Z)|0,u=u+Math.imul(ee,X)|0,u=u+Math.imul(ne,Z)|0,x=x+Math.imul(ne,X)|0,v=v+Math.imul(D,oe)|0,u=u+Math.imul(D,ue)|0,u=u+Math.imul(C,oe)|0,x=x+Math.imul(C,ue)|0;var yt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(yt>>>26)|0,yt&=67108863,v=Math.imul(De,Ae),u=Math.imul(De,Te),u=u+Math.imul(Me,Ae)|0,x=Math.imul(Me,Te),v=v+Math.imul(Re,Ee)|0,u=u+Math.imul(Re,ke)|0,u=u+Math.imul(Ce,Ee)|0,x=x+Math.imul(Ce,ke)|0,v=v+Math.imul(ve,Ue)|0,u=u+Math.imul(ve,Le)|0,u=u+Math.imul(Be,Ue)|0,x=x+Math.imul(Be,Le)|0,v=v+Math.imul(Ie,be)|0,u=u+Math.imul(Ie,xe)|0,u=u+Math.imul(we,be)|0,x=x+Math.imul(we,xe)|0,v=v+Math.imul(ge,Pe)|0,u=u+Math.imul(ge,Oe)|0,u=u+Math.imul(ye,Pe)|0,x=x+Math.imul(ye,Oe)|0,v=v+Math.imul(se,me)|0,u=u+Math.imul(se,Ne)|0,u=u+Math.imul(le,me)|0,x=x+Math.imul(le,Ne)|0,v=v+Math.imul(te,j)|0,u=u+Math.imul(te,H)|0,u=u+Math.imul(ce,j)|0,x=x+Math.imul(ce,H)|0,v=v+Math.imul(ae,Z)|0,u=u+Math.imul(ae,X)|0,u=u+Math.imul(W,Z)|0,x=x+Math.imul(W,X)|0,v=v+Math.imul(ee,oe)|0,u=u+Math.imul(ee,ue)|0,u=u+Math.imul(ne,oe)|0,x=x+Math.imul(ne,ue)|0;var mt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(mt>>>26)|0,mt&=67108863,v=Math.imul(De,Ee),u=Math.imul(De,ke),u=u+Math.imul(Me,Ee)|0,x=Math.imul(Me,ke),v=v+Math.imul(Re,Ue)|0,u=u+Math.imul(Re,Le)|0,u=u+Math.imul(Ce,Ue)|0,x=x+Math.imul(Ce,Le)|0,v=v+Math.imul(ve,be)|0,u=u+Math.imul(ve,xe)|0,u=u+Math.imul(Be,be)|0,x=x+Math.imul(Be,xe)|0,v=v+Math.imul(Ie,Pe)|0,u=u+Math.imul(Ie,Oe)|0,u=u+Math.imul(we,Pe)|0,x=x+Math.imul(we,Oe)|0,v=v+Math.imul(ge,me)|0,u=u+Math.imul(ge,Ne)|0,u=u+Math.imul(ye,me)|0,x=x+Math.imul(ye,Ne)|0,v=v+Math.imul(se,j)|0,u=u+Math.imul(se,H)|0,u=u+Math.imul(le,j)|0,x=x+Math.imul(le,H)|0,v=v+Math.imul(te,Z)|0,u=u+Math.imul(te,X)|0,u=u+Math.imul(ce,Z)|0,x=x+Math.imul(ce,X)|0,v=v+Math.imul(ae,oe)|0,u=u+Math.imul(ae,ue)|0,u=u+Math.imul(W,oe)|0,x=x+Math.imul(W,ue)|0;var it=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(it>>>26)|0,it&=67108863,v=Math.imul(De,Ue),u=Math.imul(De,Le),u=u+Math.imul(Me,Ue)|0,x=Math.imul(Me,Le),v=v+Math.imul(Re,be)|0,u=u+Math.imul(Re,xe)|0,u=u+Math.imul(Ce,be)|0,x=x+Math.imul(Ce,xe)|0,v=v+Math.imul(ve,Pe)|0,u=u+Math.imul(ve,Oe)|0,u=u+Math.imul(Be,Pe)|0,x=x+Math.imul(Be,Oe)|0,v=v+Math.imul(Ie,me)|0,u=u+Math.imul(Ie,Ne)|0,u=u+Math.imul(we,me)|0,x=x+Math.imul(we,Ne)|0,v=v+Math.imul(ge,j)|0,u=u+Math.imul(ge,H)|0,u=u+Math.imul(ye,j)|0,x=x+Math.imul(ye,H)|0,v=v+Math.imul(se,Z)|0,u=u+Math.imul(se,X)|0,u=u+Math.imul(le,Z)|0,x=x+Math.imul(le,X)|0,v=v+Math.imul(te,oe)|0,u=u+Math.imul(te,ue)|0,u=u+Math.imul(ce,oe)|0,x=x+Math.imul(ce,ue)|0;var ut=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(ut>>>26)|0,ut&=67108863,v=Math.imul(De,be),u=Math.imul(De,xe),u=u+Math.imul(Me,be)|0,x=Math.imul(Me,xe),v=v+Math.imul(Re,Pe)|0,u=u+Math.imul(Re,Oe)|0,u=u+Math.imul(Ce,Pe)|0,x=x+Math.imul(Ce,Oe)|0,v=v+Math.imul(ve,me)|0,u=u+Math.imul(ve,Ne)|0,u=u+Math.imul(Be,me)|0,x=x+Math.imul(Be,Ne)|0,v=v+Math.imul(Ie,j)|0,u=u+Math.imul(Ie,H)|0,u=u+Math.imul(we,j)|0,x=x+Math.imul(we,H)|0,v=v+Math.imul(ge,Z)|0,u=u+Math.imul(ge,X)|0,u=u+Math.imul(ye,Z)|0,x=x+Math.imul(ye,X)|0,v=v+Math.imul(se,oe)|0,u=u+Math.imul(se,ue)|0,u=u+Math.imul(le,oe)|0,x=x+Math.imul(le,ue)|0;var Xe=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,v=Math.imul(De,Pe),u=Math.imul(De,Oe),u=u+Math.imul(Me,Pe)|0,x=Math.imul(Me,Oe),v=v+Math.imul(Re,me)|0,u=u+Math.imul(Re,Ne)|0,u=u+Math.imul(Ce,me)|0,x=x+Math.imul(Ce,Ne)|0,v=v+Math.imul(ve,j)|0,u=u+Math.imul(ve,H)|0,u=u+Math.imul(Be,j)|0,x=x+Math.imul(Be,H)|0,v=v+Math.imul(Ie,Z)|0,u=u+Math.imul(Ie,X)|0,u=u+Math.imul(we,Z)|0,x=x+Math.imul(we,X)|0,v=v+Math.imul(ge,oe)|0,u=u+Math.imul(ge,ue)|0,u=u+Math.imul(ye,oe)|0,x=x+Math.imul(ye,ue)|0;var ot=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(ot>>>26)|0,ot&=67108863,v=Math.imul(De,me),u=Math.imul(De,Ne),u=u+Math.imul(Me,me)|0,x=Math.imul(Me,Ne),v=v+Math.imul(Re,j)|0,u=u+Math.imul(Re,H)|0,u=u+Math.imul(Ce,j)|0,x=x+Math.imul(Ce,H)|0,v=v+Math.imul(ve,Z)|0,u=u+Math.imul(ve,X)|0,u=u+Math.imul(Be,Z)|0,x=x+Math.imul(Be,X)|0,v=v+Math.imul(Ie,oe)|0,u=u+Math.imul(Ie,ue)|0,u=u+Math.imul(we,oe)|0,x=x+Math.imul(we,ue)|0;var st=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(st>>>26)|0,st&=67108863,v=Math.imul(De,j),u=Math.imul(De,H),u=u+Math.imul(Me,j)|0,x=Math.imul(Me,H),v=v+Math.imul(Re,Z)|0,u=u+Math.imul(Re,X)|0,u=u+Math.imul(Ce,Z)|0,x=x+Math.imul(Ce,X)|0,v=v+Math.imul(ve,oe)|0,u=u+Math.imul(ve,ue)|0,u=u+Math.imul(Be,oe)|0,x=x+Math.imul(Be,ue)|0;var Qe=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,v=Math.imul(De,Z),u=Math.imul(De,X),u=u+Math.imul(Me,Z)|0,x=Math.imul(Me,X),v=v+Math.imul(Re,oe)|0,u=u+Math.imul(Re,ue)|0,u=u+Math.imul(Ce,oe)|0,x=x+Math.imul(Ce,ue)|0;var Fe=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,v=Math.imul(De,oe),u=Math.imul(De,ue),u=u+Math.imul(Me,oe)|0,x=Math.imul(Me,ue);var Ve=(_+v|0)+((u&8191)<<13)|0;return _=(x+(u>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,A[0]=at,A[1]=Je,A[2]=At,A[3]=tt,A[4]=dt,A[5]=ht,A[6]=bt,A[7]=gt,A[8]=pt,A[9]=yt,A[10]=mt,A[11]=it,A[12]=ut,A[13]=Xe,A[14]=ot,A[15]=st,A[16]=Qe,A[17]=Fe,A[18]=Ve,_!==0&&(A[19]=_,p.length++),p};Math.imul||(M=I);function k(S,a,f){f.negative=a.negative^S.negative,f.length=S.length+a.length;for(var p=0,y=0,g=0;g<f.length-1;g++){var A=y;y=0;for(var _=p&67108863,v=Math.min(g,a.length-1),u=Math.max(0,g-S.length+1);u<=v;u++){var x=g-u,L=S.words[x]|0,D=a.words[u]|0,C=L*D,z=C&67108863;A=A+(C/67108864|0)|0,z=z+_|0,_=z&67108863,A=A+(z>>>26)|0,y+=A>>>26,A&=67108863}f.words[g]=_,p=A,A=y}return p!==0?f.words[g]=p:f.length--,f.strip()}function R(S,a,f){var p=new B;return p.mulp(S,a,f)}i.prototype.mulTo=function(a,f){var p,y=this.length+a.length;return this.length===10&&a.length===10?p=M(this,a,f):y<63?p=I(this,a,f):y<1024?p=k(this,a,f):p=R(this,a,f),p};function B(S,a){this.x=S,this.y=a}B.prototype.makeRBT=function(a){for(var f=new Array(a),p=i.prototype._countBits(a)-1,y=0;y<a;y++)f[y]=this.revBin(y,p,a);return f},B.prototype.revBin=function(a,f,p){if(a===0||a===p-1)return a;for(var y=0,g=0;g<f;g++)y|=(a&1)<<f-g-1,a>>=1;return y},B.prototype.permute=function(a,f,p,y,g,A){for(var _=0;_<A;_++)y[_]=f[a[_]],g[_]=p[a[_]]},B.prototype.transform=function(a,f,p,y,g,A){this.permute(A,a,f,p,y,g);for(var _=1;_<g;_<<=1)for(var v=_<<1,u=Math.cos(2*Math.PI/v),x=Math.sin(2*Math.PI/v),L=0;L<g;L+=v)for(var D=u,C=x,z=0;z<_;z++){var ee=p[L+z],ne=y[L+z],Ke=p[L+z+_],ae=y[L+z+_],W=D*Ke-C*ae;ae=D*ae+C*Ke,Ke=W,p[L+z]=ee+Ke,y[L+z]=ne+ae,p[L+z+_]=ee-Ke,y[L+z+_]=ne-ae,z!==v&&(W=u*D-x*C,C=u*C+x*D,D=W)}},B.prototype.guessLen13b=function(a,f){var p=Math.max(f,a)|1,y=p&1,g=0;for(p=p/2|0;p;p=p>>>1)g++;return 1<<g+1+y},B.prototype.conjugate=function(a,f,p){if(!(p<=1))for(var y=0;y<p/2;y++){var g=a[y];a[y]=a[p-y-1],a[p-y-1]=g,g=f[y],f[y]=-f[p-y-1],f[p-y-1]=-g}},B.prototype.normalize13b=function(a,f){for(var p=0,y=0;y<f/2;y++){var g=Math.round(a[2*y+1]/f)*8192+Math.round(a[2*y]/f)+p;a[y]=g&67108863,g<67108864?p=0:p=g/67108864|0}return a},B.prototype.convert13b=function(a,f,p,y){for(var g=0,A=0;A<f;A++)g=g+(a[A]|0),p[2*A]=g&8191,g=g>>>13,p[2*A+1]=g&8191,g=g>>>13;for(A=2*f;A<y;++A)p[A]=0;r(g===0),r((g&-8192)===0)},B.prototype.stub=function(a){for(var f=new Array(a),p=0;p<a;p++)f[p]=0;return f},B.prototype.mulp=function(a,f,p){var y=2*this.guessLen13b(a.length,f.length),g=this.makeRBT(y),A=this.stub(y),_=new Array(y),v=new Array(y),u=new Array(y),x=new Array(y),L=new Array(y),D=new Array(y),C=p.words;C.length=y,this.convert13b(a.words,a.length,_,y),this.convert13b(f.words,f.length,x,y),this.transform(_,A,v,u,y,g),this.transform(x,A,L,D,y,g);for(var z=0;z<y;z++){var ee=v[z]*L[z]-u[z]*D[z];u[z]=v[z]*D[z]+u[z]*L[z],v[z]=ee}return this.conjugate(v,u,y),this.transform(v,u,C,A,y,g),this.conjugate(C,A,y),this.normalize13b(C,y),p.negative=a.negative^f.negative,p.length=a.length+f.length,p.strip()},i.prototype.mul=function(a){var f=new i(null);return f.words=new Array(this.length+a.length),this.mulTo(a,f)},i.prototype.mulf=function(a){var f=new i(null);return f.words=new Array(this.length+a.length),R(this,a,f)},i.prototype.imul=function(a){return this.clone().mulTo(a,this)},i.prototype.imuln=function(a){r(typeof a=="number"),r(a<67108864);for(var f=0,p=0;p<this.length;p++){var y=(this.words[p]|0)*a,g=(y&67108863)+(f&67108863);f>>=26,f+=y/67108864|0,f+=g>>>26,this.words[p]=g&67108863}return f!==0&&(this.words[p]=f,this.length++),this},i.prototype.muln=function(a){return this.clone().imuln(a)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(a){var f=E(a);if(f.length===0)return new i(1);for(var p=this,y=0;y<f.length&&f[y]===0;y++,p=p.sqr());if(++y<f.length)for(var g=p.sqr();y<f.length;y++,g=g.sqr())f[y]!==0&&(p=p.mul(g));return p},i.prototype.iushln=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26,y=67108863>>>26-f<<26-f,g;if(f!==0){var A=0;for(g=0;g<this.length;g++){var _=this.words[g]&y,v=(this.words[g]|0)-_<<f;this.words[g]=v|A,A=_>>>26-f}A&&(this.words[g]=A,this.length++)}if(p!==0){for(g=this.length-1;g>=0;g--)this.words[g+p]=this.words[g];for(g=0;g<p;g++)this.words[g]=0;this.length+=p}return this.strip()},i.prototype.ishln=function(a){return r(this.negative===0),this.iushln(a)},i.prototype.iushrn=function(a,f,p){r(typeof a=="number"&&a>=0);var y;f?y=(f-f%26)/26:y=0;var g=a%26,A=Math.min((a-g)/26,this.length),_=67108863^67108863>>>g<<g,v=p;if(y-=A,y=Math.max(0,y),v){for(var u=0;u<A;u++)v.words[u]=this.words[u];v.length=A}if(A!==0)if(this.length>A)for(this.length-=A,u=0;u<this.length;u++)this.words[u]=this.words[u+A];else this.words[0]=0,this.length=1;var x=0;for(u=this.length-1;u>=0&&(x!==0||u>=y);u--){var L=this.words[u]|0;this.words[u]=x<<26-g|L>>>g,x=L&_}return v&&x!==0&&(v.words[v.length++]=x),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(a,f,p){return r(this.negative===0),this.iushrn(a,f,p)},i.prototype.shln=function(a){return this.clone().ishln(a)},i.prototype.ushln=function(a){return this.clone().iushln(a)},i.prototype.shrn=function(a){return this.clone().ishrn(a)},i.prototype.ushrn=function(a){return this.clone().iushrn(a)},i.prototype.testn=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26,y=1<<f;if(this.length<=p)return!1;var g=this.words[p];return!!(g&y)},i.prototype.imaskn=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(f!==0&&p++,this.length=Math.min(p,this.length),f!==0){var y=67108863^67108863>>>f<<f;this.words[this.length-1]&=y}return this.strip()},i.prototype.maskn=function(a){return this.clone().imaskn(a)},i.prototype.iaddn=function(a){return r(typeof a=="number"),r(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},i.prototype._iaddn=function(a){this.words[0]+=a;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)this.words[f]-=67108864,f===this.length-1?this.words[f+1]=1:this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},i.prototype.isubn=function(a){if(r(typeof a=="number"),r(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this.strip()},i.prototype.addn=function(a){return this.clone().iaddn(a)},i.prototype.subn=function(a){return this.clone().isubn(a)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(a,f,p){var y=a.length+p,g;this._expand(y);var A,_=0;for(g=0;g<a.length;g++){A=(this.words[g+p]|0)+_;var v=(a.words[g]|0)*f;A-=v&67108863,_=(A>>26)-(v/67108864|0),this.words[g+p]=A&67108863}for(;g<this.length-p;g++)A=(this.words[g+p]|0)+_,_=A>>26,this.words[g+p]=A&67108863;if(_===0)return this.strip();for(r(_===-1),_=0,g=0;g<this.length;g++)A=-(this.words[g]|0)+_,_=A>>26,this.words[g]=A&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(a,f){var p=this.length-a.length,y=this.clone(),g=a,A=g.words[g.length-1]|0,_=this._countBits(A);p=26-_,p!==0&&(g=g.ushln(p),y.iushln(p),A=g.words[g.length-1]|0);var v=y.length-g.length,u;if(f!=="mod"){u=new i(null),u.length=v+1,u.words=new Array(u.length);for(var x=0;x<u.length;x++)u.words[x]=0}var L=y.clone()._ishlnsubmul(g,1,v);L.negative===0&&(y=L,u&&(u.words[v]=1));for(var D=v-1;D>=0;D--){var C=(y.words[g.length+D]|0)*67108864+(y.words[g.length+D-1]|0);for(C=Math.min(C/A|0,67108863),y._ishlnsubmul(g,C,D);y.negative!==0;)C--,y.negative=0,y._ishlnsubmul(g,1,D),y.isZero()||(y.negative^=1);u&&(u.words[D]=C)}return u&&u.strip(),y.strip(),f!=="div"&&p!==0&&y.iushrn(p),{div:u||null,mod:y}},i.prototype.divmod=function(a,f,p){if(r(!a.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var y,g,A;return this.negative!==0&&a.negative===0?(A=this.neg().divmod(a,f),f!=="mod"&&(y=A.div.neg()),f!=="div"&&(g=A.mod.neg(),p&&g.negative!==0&&g.iadd(a)),{div:y,mod:g}):this.negative===0&&a.negative!==0?(A=this.divmod(a.neg(),f),f!=="mod"&&(y=A.div.neg()),{div:y,mod:A.mod}):this.negative&a.negative?(A=this.neg().divmod(a.neg(),f),f!=="div"&&(g=A.mod.neg(),p&&g.negative!==0&&g.isub(a)),{div:A.div,mod:g}):a.length>this.length||this.cmp(a)<0?{div:new i(0),mod:this}:a.length===1?f==="div"?{div:this.divn(a.words[0]),mod:null}:f==="mod"?{div:null,mod:new i(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new i(this.modn(a.words[0]))}:this._wordDiv(a,f)},i.prototype.div=function(a){return this.divmod(a,"div",!1).div},i.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},i.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},i.prototype.divRound=function(a){var f=this.divmod(a);if(f.mod.isZero())return f.div;var p=f.div.negative!==0?f.mod.isub(a):f.mod,y=a.ushrn(1),g=a.andln(1),A=p.cmp(y);return A<0||g===1&&A===0?f.div:f.div.negative!==0?f.div.isubn(1):f.div.iaddn(1)},i.prototype.modn=function(a){r(a<=67108863);for(var f=(1<<26)%a,p=0,y=this.length-1;y>=0;y--)p=(f*p+(this.words[y]|0))%a;return p},i.prototype.idivn=function(a){r(a<=67108863);for(var f=0,p=this.length-1;p>=0;p--){var y=(this.words[p]|0)+f*67108864;this.words[p]=y/a|0,f=y%a}return this.strip()},i.prototype.divn=function(a){return this.clone().idivn(a)},i.prototype.egcd=function(a){r(a.negative===0),r(!a.isZero());var f=this,p=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var y=new i(1),g=new i(0),A=new i(0),_=new i(1),v=0;f.isEven()&&p.isEven();)f.iushrn(1),p.iushrn(1),++v;for(var u=p.clone(),x=f.clone();!f.isZero();){for(var L=0,D=1;!(f.words[0]&D)&&L<26;++L,D<<=1);if(L>0)for(f.iushrn(L);L-- >0;)(y.isOdd()||g.isOdd())&&(y.iadd(u),g.isub(x)),y.iushrn(1),g.iushrn(1);for(var C=0,z=1;!(p.words[0]&z)&&C<26;++C,z<<=1);if(C>0)for(p.iushrn(C);C-- >0;)(A.isOdd()||_.isOdd())&&(A.iadd(u),_.isub(x)),A.iushrn(1),_.iushrn(1);f.cmp(p)>=0?(f.isub(p),y.isub(A),g.isub(_)):(p.isub(f),A.isub(y),_.isub(g))}return{a:A,b:_,gcd:p.iushln(v)}},i.prototype._invmp=function(a){r(a.negative===0),r(!a.isZero());var f=this,p=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var y=new i(1),g=new i(0),A=p.clone();f.cmpn(1)>0&&p.cmpn(1)>0;){for(var _=0,v=1;!(f.words[0]&v)&&_<26;++_,v<<=1);if(_>0)for(f.iushrn(_);_-- >0;)y.isOdd()&&y.iadd(A),y.iushrn(1);for(var u=0,x=1;!(p.words[0]&x)&&u<26;++u,x<<=1);if(u>0)for(p.iushrn(u);u-- >0;)g.isOdd()&&g.iadd(A),g.iushrn(1);f.cmp(p)>=0?(f.isub(p),y.isub(g)):(p.isub(f),g.isub(y))}var L;return f.cmpn(1)===0?L=y:L=g,L.cmpn(0)<0&&L.iadd(a),L},i.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var f=this.clone(),p=a.clone();f.negative=0,p.negative=0;for(var y=0;f.isEven()&&p.isEven();y++)f.iushrn(1),p.iushrn(1);do{for(;f.isEven();)f.iushrn(1);for(;p.isEven();)p.iushrn(1);var g=f.cmp(p);if(g<0){var A=f;f=p,p=A}else if(g===0||p.cmpn(1)===0)break;f.isub(p)}while(!0);return p.iushln(y)},i.prototype.invm=function(a){return this.egcd(a).a.umod(a)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(a){return this.words[0]&a},i.prototype.bincn=function(a){r(typeof a=="number");var f=a%26,p=(a-f)/26,y=1<<f;if(this.length<=p)return this._expand(p+1),this.words[p]|=y,this;for(var g=y,A=p;g!==0&&A<this.length;A++){var _=this.words[A]|0;_+=g,g=_>>>26,_&=67108863,this.words[A]=_}return g!==0&&(this.words[A]=g,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(a){var f=a<0;if(this.negative!==0&&!f)return-1;if(this.negative===0&&f)return 1;this.strip();var p;if(this.length>1)p=1;else{f&&(a=-a),r(a<=67108863,"Number is too big");var y=this.words[0]|0;p=y===a?0:y<a?-1:1}return this.negative!==0?-p|0:p},i.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var f=this.ucmp(a);return this.negative!==0?-f|0:f},i.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var f=0,p=this.length-1;p>=0;p--){var y=this.words[p]|0,g=a.words[p]|0;if(y!==g){y<g?f=-1:y>g&&(f=1);break}}return f},i.prototype.gtn=function(a){return this.cmpn(a)===1},i.prototype.gt=function(a){return this.cmp(a)===1},i.prototype.gten=function(a){return this.cmpn(a)>=0},i.prototype.gte=function(a){return this.cmp(a)>=0},i.prototype.ltn=function(a){return this.cmpn(a)===-1},i.prototype.lt=function(a){return this.cmp(a)===-1},i.prototype.lten=function(a){return this.cmpn(a)<=0},i.prototype.lte=function(a){return this.cmp(a)<=0},i.prototype.eqn=function(a){return this.cmpn(a)===0},i.prototype.eq=function(a){return this.cmp(a)===0},i.red=function(a){return new Q(a)},i.prototype.toRed=function(a){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(a){return this.red=a,this},i.prototype.forceRed=function(a){return r(!this.red,"Already a number in reduction context"),this._forceRed(a)},i.prototype.redAdd=function(a){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},i.prototype.redIAdd=function(a){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},i.prototype.redSub=function(a){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},i.prototype.redISub=function(a){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},i.prototype.redShl=function(a){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},i.prototype.redMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},i.prototype.redIMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(a){return r(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var U={k256:null,p224:null,p192:null,p25519:null};function P(S,a){this.name=S,this.p=new i(a,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}P.prototype._tmp=function(){var a=new i(null);return a.words=new Array(Math.ceil(this.n/13)),a},P.prototype.ireduce=function(a){var f=a,p;do this.split(f,this.tmp),f=this.imulK(f),f=f.iadd(this.tmp),p=f.bitLength();while(p>this.n);var y=p<this.n?-1:f.ucmp(this.p);return y===0?(f.words[0]=0,f.length=1):y>0?f.isub(this.p):f.strip!==void 0?f.strip():f._strip(),f},P.prototype.split=function(a,f){a.iushrn(this.n,0,f)},P.prototype.imulK=function(a){return a.imul(this.k)};function F(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(F,P),F.prototype.split=function(a,f){for(var p=4194303,y=Math.min(a.length,9),g=0;g<y;g++)f.words[g]=a.words[g];if(f.length=y,a.length<=9){a.words[0]=0,a.length=1;return}var A=a.words[9];for(f.words[f.length++]=A&p,g=10;g<a.length;g++){var _=a.words[g]|0;a.words[g-10]=(_&p)<<4|A>>>22,A=_}A>>>=22,a.words[g-10]=A,A===0&&a.length>10?a.length-=10:a.length-=9},F.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var f=0,p=0;p<a.length;p++){var y=a.words[p]|0;f+=y*977,a.words[p]=f&67108863,f=y*64+(f/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function q(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(q,P);function K(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(K,P);function re(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(re,P),re.prototype.imulK=function(a){for(var f=0,p=0;p<a.length;p++){var y=(a.words[p]|0)*19+f,g=y&67108863;y>>>=26,a.words[p]=g,f=y}return f!==0&&(a.words[a.length++]=f),a},i._prime=function(a){if(U[a])return U[a];var f;if(a==="k256")f=new F;else if(a==="p224")f=new q;else if(a==="p192")f=new K;else if(a==="p25519")f=new re;else throw new Error("Unknown prime "+a);return U[a]=f,f};function Q(S){if(typeof S=="string"){var a=i._prime(S);this.m=a.p,this.prime=a}else r(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}Q.prototype._verify1=function(a){r(a.negative===0,"red works only with positives"),r(a.red,"red works only with red numbers")},Q.prototype._verify2=function(a,f){r((a.negative|f.negative)===0,"red works only with positives"),r(a.red&&a.red===f.red,"red works only with red numbers")},Q.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},Q.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},Q.prototype.add=function(a,f){this._verify2(a,f);var p=a.add(f);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},Q.prototype.iadd=function(a,f){this._verify2(a,f);var p=a.iadd(f);return p.cmp(this.m)>=0&&p.isub(this.m),p},Q.prototype.sub=function(a,f){this._verify2(a,f);var p=a.sub(f);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},Q.prototype.isub=function(a,f){this._verify2(a,f);var p=a.isub(f);return p.cmpn(0)<0&&p.iadd(this.m),p},Q.prototype.shl=function(a,f){return this._verify1(a),this.imod(a.ushln(f))},Q.prototype.imul=function(a,f){return this._verify2(a,f),this.imod(a.imul(f))},Q.prototype.mul=function(a,f){return this._verify2(a,f),this.imod(a.mul(f))},Q.prototype.isqr=function(a){return this.imul(a,a.clone())},Q.prototype.sqr=function(a){return this.mul(a,a)},Q.prototype.sqrt=function(a){if(a.isZero())return a.clone();var f=this.m.andln(3);if(r(f%2===1),f===3){var p=this.m.add(new i(1)).iushrn(2);return this.pow(a,p)}for(var y=this.m.subn(1),g=0;!y.isZero()&&y.andln(1)===0;)g++,y.iushrn(1);r(!y.isZero());var A=new i(1).toRed(this),_=A.redNeg(),v=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new i(2*u*u).toRed(this);this.pow(u,v).cmp(_)!==0;)u.redIAdd(_);for(var x=this.pow(u,y),L=this.pow(a,y.addn(1).iushrn(1)),D=this.pow(a,y),C=g;D.cmp(A)!==0;){for(var z=D,ee=0;z.cmp(A)!==0;ee++)z=z.redSqr();r(ee<C);var ne=this.pow(x,new i(1).iushln(C-ee-1));L=L.redMul(ne),x=ne.redSqr(),D=D.redMul(x),C=ee}return L},Q.prototype.invm=function(a){var f=a._invmp(this.m);return f.negative!==0?(f.negative=0,this.imod(f).redNeg()):this.imod(f)},Q.prototype.pow=function(a,f){if(f.isZero())return new i(1).toRed(this);if(f.cmpn(1)===0)return a.clone();var p=4,y=new Array(1<<p);y[0]=new i(1).toRed(this),y[1]=a;for(var g=2;g<y.length;g++)y[g]=this.mul(y[g-1],a);var A=y[0],_=0,v=0,u=f.bitLength()%26;for(u===0&&(u=26),g=f.length-1;g>=0;g--){for(var x=f.words[g],L=u-1;L>=0;L--){var D=x>>L&1;if(A!==y[0]&&(A=this.sqr(A)),D===0&&_===0){v=0;continue}_<<=1,_|=D,v++,!(v!==p&&(g!==0||L!==0))&&(A=this.mul(A,y[_]),v=0,_=0)}u=26}return A},Q.prototype.convertTo=function(a){var f=a.umod(this.m);return f===a?f.clone():f},Q.prototype.convertFrom=function(a){var f=a.clone();return f.red=null,f},i.mont=function(a){return new ie(a)};function ie(S){Q.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(ie,Q),ie.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},ie.prototype.convertFrom=function(a){var f=this.imod(a.mul(this.rinv));return f.red=null,f},ie.prototype.imul=function(a,f){if(a.isZero()||f.isZero())return a.words[0]=0,a.length=1,a;var p=a.imul(f),y=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=p.isub(y).iushrn(this.shift),A=g;return g.cmp(this.m)>=0?A=g.isub(this.m):g.cmpn(0)<0&&(A=g.iadd(this.m)),A._forceRed(this)},ie.prototype.mul=function(a,f){if(a.isZero()||f.isZero())return new i(0)._forceRed(this);var p=a.mul(f),y=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=p.isub(y).iushrn(this.shift),A=g;return g.cmp(this.m)>=0?A=g.isub(this.m):g.cmpn(0)<0&&(A=g.iadd(this.m)),A._forceRed(this)},ie.prototype.invm=function(a){var f=this.imod(a._invmp(this.m).mul(this.r2));return f._forceRed(this)}})(typeof Qte>"u"||Qte,T7e)});var M7e=V(OA=>{"use strict";d();h();Object.defineProperty(OA,"__esModule",{value:!0});var jv=Hv(),fIt=hw().ec,Jte=new fIt("secp256k1"),CA=Jte.curve;OA.privateKeyExport=function(t,e){e===void 0&&(e=!0);var r=new jv(t);if(r.ucmp(CA.n)>=0)throw new Error("couldn't export to DER format");var n=Jte.g.mul(r);return I7e(n.getX(),n.getY(),e)};OA.privateKeyModInverse=function(t){var e=new jv(t);if(e.ucmp(CA.n)>=0||e.isZero())throw new Error("private key range is invalid");return e.invm(CA.n).toArrayLike(Buffer,"be",32)};OA.signatureImport=function(t){var e=new jv(t.r);e.ucmp(CA.n)>=0&&(e=new jv(0));var r=new jv(t.s);return r.ucmp(CA.n)>=0&&(r=new jv(0)),Buffer.concat([e.toArrayLike(Buffer,"be",32),r.toArrayLike(Buffer,"be",32)])};OA.ecdhUnsafe=function(t,e,r){r===void 0&&(r=!0);var n=Jte.keyFromPublic(t),i=new jv(e);if(i.ucmp(CA.n)>=0||i.isZero())throw new Error("scalar was invalid (zero or overflow)");var o=n.pub.mul(i);return I7e(o.getX(),o.getY(),r)};var I7e=function(t,e,r){var n;return r?(n=Buffer.alloc(33),n[0]=e.isOdd()?3:2,t.toArrayLike(Buffer,"be",32).copy(n,1)):(n=Buffer.alloc(65),n[0]=4,t.toArrayLike(Buffer,"be",32).copy(n,1),e.toArrayLike(Buffer,"be",32).copy(n,33)),n}});var k7e=V(L5=>{"use strict";d();h();Object.defineProperty(L5,"__esModule",{value:!0});var{Buffer:U5}=Vn(),lIt=U5.from([48,129,211,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,133,48,129,130,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,33,2,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,36,3,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),dIt=U5.from([48,130,1,19,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,165,48,129,162,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,65,4,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,72,58,218,119,38,163,196,101,93,164,251,252,14,17,8,168,253,23,180,72,166,133,84,25,156,71,208,143,251,16,212,184,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,68,3,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);L5.privateKeyExport=function(t,e,r){r===void 0&&(r=!0);var n=U5.from(r?lIt:dIt);return t.copy(n,r?8:9),e.copy(n,r?181:214),n};L5.privateKeyImport=function(t){var e=t.length,r=0;if(e<r+1||t[r]!==48||(r+=1,e<r+1||!(t[r]&128)))return null;var n=t[r]&127;if(r+=1,n<1||n>2||e<r+n)return null;var i=t[r+n-1]|(n>1?t[r+n-2]<<8:0);return r+=n,e<r+i||e<r+3||t[r]!==2||t[r+1]!==1||t[r+2]!==1||(r+=3,e<r+2||t[r]!==4||t[r+1]>32||e<r+2+t[r+1])?null:t.slice(r+2,r+2+t[r+1])};L5.signatureImportLax=function(t){var e=U5.alloc(32,0),r=U5.alloc(32,0),n=t.length,i=0;if(t[i++]!==48)return null;var o=t[i++];if(o&128&&(i+=o-128,i>n)||t[i++]!==2)return null;var s=t[i++];if(s&128){if(o=s-128,i+o>n)return null;for(;o>0&&t[i]===0;i+=1,o-=1);for(s=0;o>0;i+=1,o-=1)s=(s<<8)+t[i]}if(s>n-i)return null;var c=i;if(i+=s,t[i++]!==2)return null;var l=t[i++];if(l&128){if(o=l-128,i+o>n)return null;for(;o>0&&t[i]===0;i+=1,o-=1);for(l=0;o>0;i+=1,o-=1)l=(l<<8)+t[i]}if(l>n-i)return null;var m=i;for(i+=l;s>0&&t[c]===0;s-=1,c+=1);if(s>32)return null;var w=t.slice(c,c+s);for(w.copy(e,32-w.length);l>0&&t[m]===0;l-=1,m+=1);if(l>32)return null;var b=t.slice(m,m+l);return b.copy(r,32-b.length),{r:e,s:r}}});var OD=V(Jt=>{"use strict";d();h();Object.defineProperty(Jt,"__esModule",{value:!0});Jt.ecdhUnsafe=Jt.ecdh=Jt.recover=Jt.verify=Jt.sign=Jt.signatureImportLax=Jt.signatureImport=Jt.signatureExport=Jt.signatureNormalize=Jt.publicKeyCombine=Jt.publicKeyTweakMul=Jt.publicKeyTweakAdd=Jt.publicKeyVerify=Jt.publicKeyConvert=Jt.publicKeyCreate=Jt.privateKeyTweakMul=Jt.privateKeyTweakAdd=Jt.privateKeyModInverse=Jt.privateKeyNegate=Jt.privateKeyImport=Jt.privateKeyExport=Jt.privateKeyVerify=void 0;var $s=_7e(),CD=M7e(),Xte=k7e();Jt.privateKeyVerify=function(t){return t.length!==32?!1:$s.privateKeyVerify(Uint8Array.from(t))};Jt.privateKeyExport=function(t,e){if(t.length!==32)throw new RangeError("private key length is invalid");var r=CD.privateKeyExport(t,e);return Xte.privateKeyExport(t,r,e)};Jt.privateKeyImport=function(t){if(t=Xte.privateKeyImport(t),t!==null&&t.length===32&&Jt.privateKeyVerify(t))return t;throw new Error("couldn't import from DER format")};Jt.privateKeyNegate=function(t){return Buffer.from($s.privateKeyNegate(Uint8Array.from(t)))};Jt.privateKeyModInverse=function(t){if(t.length!==32)throw new Error("private key length is invalid");return Buffer.from(CD.privateKeyModInverse(Uint8Array.from(t)))};Jt.privateKeyTweakAdd=function(t,e){return Buffer.from($s.privateKeyTweakAdd(Uint8Array.from(t),e))};Jt.privateKeyTweakMul=function(t,e){return Buffer.from($s.privateKeyTweakMul(Uint8Array.from(t),Uint8Array.from(e)))};Jt.publicKeyCreate=function(t,e){return Buffer.from($s.publicKeyCreate(Uint8Array.from(t),e))};Jt.publicKeyConvert=function(t,e){return Buffer.from($s.publicKeyConvert(Uint8Array.from(t),e))};Jt.publicKeyVerify=function(t){return t.length!==33&&t.length!==65?!1:$s.publicKeyVerify(Uint8Array.from(t))};Jt.publicKeyTweakAdd=function(t,e,r){return Buffer.from($s.publicKeyTweakAdd(Uint8Array.from(t),Uint8Array.from(e),r))};Jt.publicKeyTweakMul=function(t,e,r){return Buffer.from($s.publicKeyTweakMul(Uint8Array.from(t),Uint8Array.from(e),r))};Jt.publicKeyCombine=function(t,e){var r=[];return t.forEach(function(n){r.push(Uint8Array.from(n))}),Buffer.from($s.publicKeyCombine(r,e))};Jt.signatureNormalize=function(t){return Buffer.from($s.signatureNormalize(Uint8Array.from(t)))};Jt.signatureExport=function(t){return Buffer.from($s.signatureExport(Uint8Array.from(t)))};Jt.signatureImport=function(t){return Buffer.from($s.signatureImport(Uint8Array.from(t)))};Jt.signatureImportLax=function(t){if(t.length===0)throw new RangeError("signature length is invalid");var e=Xte.signatureImportLax(t);if(e===null)throw new Error("couldn't parse DER signature");return CD.signatureImport(e)};Jt.sign=function(t,e,r){if(r===null)throw new TypeError("options should be an Object");var n=void 0;if(r){if(n={},r.data===null)throw new TypeError("options.data should be a Buffer");if(r.data){if(r.data.length!=32)throw new RangeError("options.data length is invalid");n.data=new Uint8Array(r.data)}if(r.noncefn===null)throw new TypeError("options.noncefn should be a Function");r.noncefn&&(n.noncefn=function(o,s,c,l,m){var w=c!=null?Buffer.from(c):null,b=l!=null?Buffer.from(l):null,E=Buffer.from("");return r.noncefn&&(E=r.noncefn(Buffer.from(o),Buffer.from(s),w,b,m)),new Uint8Array(E)})}var i=$s.ecdsaSign(Uint8Array.from(t),Uint8Array.from(e),n);return{signature:Buffer.from(i.signature),recovery:i.recid}};Jt.verify=function(t,e,r){return $s.ecdsaVerify(Uint8Array.from(e),Uint8Array.from(t),r)};Jt.recover=function(t,e,r,n){return Buffer.from($s.ecdsaRecover(Uint8Array.from(e),r,Uint8Array.from(t),n))};Jt.ecdh=function(t,e){return Buffer.from($s.ecdh(Uint8Array.from(t),Uint8Array.from(e),{}))};Jt.ecdhUnsafe=function(t,e,r){if(t.length!==33&&t.length!==65)throw new RangeError("public key length is invalid");if(e.length!==32)throw new RangeError("private key length is invalid");return Buffer.from(CD.ecdhUnsafe(Uint8Array.from(t),Uint8Array.from(e),r))}});var ere=V((qmn,P7e)=>{d();h();P7e.exports=function(e){if(typeof e!="string")throw new Error("[is-hex-prefixed] value must be type 'string', is currently type "+typeof e+", while checking isHexPrefixed.");return e.slice(0,2)==="0x"}});var R7e=V((jmn,B7e)=>{d();h();var hIt=ere();B7e.exports=function(e){return typeof e!="string"?e:hIt(e)?e.slice(2):e}});var zv=V((Gmn,N7e)=>{"use strict";d();h();var pIt=ere(),C7e=R7e();function ND(t){var e=t;if(typeof e!="string")throw new Error("[ethjs-util] while padding to even, value must be string, is currently "+typeof e+", while padToEven.");return e.length%2&&(e="0"+e),e}function O7e(t){var e=t.toString(16);return"0x"+e}function mIt(t){var e=O7e(t);return new Buffer(ND(e.slice(2)),"hex")}function yIt(t){if(typeof t!="string")throw new Error("[ethjs-util] while getting binary size, method getBinarySize requires input 'str' to be type String, got '"+typeof t+"'.");return Buffer.byteLength(t,"utf8")}function gIt(t,e,r){if(Array.isArray(t)!==!0)throw new Error("[ethjs-util] method arrayContainsArray requires input 'superset' to be an array got type '"+typeof t+"'");if(Array.isArray(e)!==!0)throw new Error("[ethjs-util] method arrayContainsArray requires input 'subset' to be an array got type '"+typeof e+"'");return e[!!r&&"some"||"every"](function(n){return t.indexOf(n)>=0})}function bIt(t){var e=new Buffer(ND(C7e(t).replace(/^0+|0+$/g,"")),"hex");return e.toString("utf8")}function vIt(t){var e="",r=0,n=t.length;for(t.substring(0,2)==="0x"&&(r=2);r<n;r+=2){var i=parseInt(t.substr(r,2),16);e+=String.fromCharCode(i)}return e}function xIt(t){var e=new Buffer(t,"utf8");return"0x"+ND(e.toString("hex")).replace(/^0+|0+$/g,"")}function wIt(t){for(var e="",r=0;r<t.length;r++){var n=t.charCodeAt(r),i=n.toString(16);e+=i.length<2?"0"+i:i}return"0x"+e}function SIt(t,e,r){if(!Array.isArray(t))throw new Error("[ethjs-util] method getKeys expecting type Array as 'params' input, got '"+typeof t+"'");if(typeof e!="string")throw new Error("[ethjs-util] method getKeys expecting type String for input 'key' got '"+typeof e+"'.");for(var n=[],i=0;i<t.length;i++){var o=t[i][e];if(r&&!o)o="";else if(typeof o!="string")throw new Error("invalid abi");n.push(o)}return n}function AIt(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}N7e.exports={arrayContainsArray:gIt,intToBuffer:mIt,getBinarySize:yIt,isHexPrefixed:pIt,stripHexPrefix:C7e,padToEven:ND,intToHex:O7e,fromAscii:wIt,fromUtf8:xIt,toAscii:vIt,toUtf8:bIt,getKeys:SIt,isHexString:AIt}});var DD=V(Nh=>{"use strict";d();h();var EIt=Nh&&Nh.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Nh,"__esModule",{value:!0});Nh.getLength=Nh.decode=Nh.encode=void 0;var _It=EIt(mb());function U7e(t){if(Array.isArray(t)){for(var e=[],r=0;r<t.length;r++)e.push(U7e(t[r]));var n=Buffer.concat(e);return Buffer.concat([D7e(n.length,192),n])}else{var i=ire(t);return i.length===1&&i[0]<128?i:Buffer.concat([D7e(i.length,128),i])}}Nh.encode=U7e;function tre(t,e){if(t[0]==="0"&&t[1]==="0")throw new Error("invalid RLP: extra zeros");return parseInt(t,e)}function D7e(t,e){if(t<56)return Buffer.from([t+e]);var r=nre(t),n=r.length/2,i=nre(e+55+n);return Buffer.from(i+r,"hex")}function TIt(t,e){if(e===void 0&&(e=!1),!t||t.length===0)return Buffer.from([]);var r=ire(t),n=rre(r);if(e)return n;if(n.remainder.length!==0)throw new Error("invalid remainder");return n.data}Nh.decode=TIt;function IIt(t){if(!t||t.length===0)return Buffer.from([]);var e=ire(t),r=e[0];if(r<=127)return e.length;if(r<=183)return r-127;if(r<=191)return r-182;if(r<=247)return r-191;var n=r-246,i=tre(e.slice(1,n).toString("hex"),16);return n+i}Nh.getLength=IIt;function rre(t){var e,r,n,i,o,s=[],c=t[0];if(c<=127)return{data:t.slice(0,1),remainder:t.slice(1)};if(c<=183){if(e=c-127,c===128?n=Buffer.from([]):n=t.slice(1,e),e===2&&n[0]<128)throw new Error("invalid rlp encoding: byte must be less 0x80");return{data:n,remainder:t.slice(e)}}else if(c<=191){if(r=c-182,t.length-1<r)throw new Error("invalid RLP: not enough bytes for string length");if(e=tre(t.slice(1,r).toString("hex"),16),e<=55)throw new Error("invalid RLP: expected string length to be greater than 55");if(n=t.slice(r,e+r),n.length<e)throw new Error("invalid RLP: not enough bytes for string");return{data:n,remainder:t.slice(e+r)}}else if(c<=247){for(e=c-191,i=t.slice(1,e);i.length;)o=rre(i),s.push(o.data),i=o.remainder;return{data:s,remainder:t.slice(e)}}else{r=c-246,e=tre(t.slice(1,r).toString("hex"),16);var l=r+e;if(l>t.length)throw new Error("invalid rlp: total length is larger than the data");if(i=t.slice(r,l),i.length===0)throw new Error("invalid rlp, List has a invalid length");for(;i.length;)o=rre(i),s.push(o.data),i=o.remainder;return{data:s,remainder:t.slice(l)}}}function L7e(t){return t.slice(0,2)==="0x"}function MIt(t){return typeof t!="string"?t:L7e(t)?t.slice(2):t}function nre(t){if(t<0)throw new Error("Invalid integer as argument, must be unsigned!");var e=t.toString(16);return e.length%2?"0"+e:e}function kIt(t){return t.length%2?"0"+t:t}function PIt(t){var e=nre(t);return Buffer.from(e,"hex")}function ire(t){if(!Buffer.isBuffer(t)){if(typeof t=="string")return L7e(t)?Buffer.from(kIt(MIt(t)),"hex"):Buffer.from(t);if(typeof t=="number"||typeof t=="bigint")return t?PIt(t):Buffer.from([]);if(t==null)return Buffer.from([]);if(t instanceof Uint8Array)return Buffer.from(t);if(_It.default.isBN(t))return Buffer.from(t.toArray());throw new Error("invalid type")}return t}});var V7e=V(po=>{"use strict";d();h();Object.defineProperty(po,"__esModule",{value:!0});po.KECCAK256_RLP=po.KECCAK256_RLP_S=po.KECCAK256_RLP_ARRAY=po.KECCAK256_RLP_ARRAY_S=po.KECCAK256_NULL=po.KECCAK256_NULL_S=po.TWO_POW256=po.MAX_INTEGER=void 0;var F7e=Hv(),{Buffer:ore}=Vn();po.MAX_INTEGER=new F7e("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16);po.TWO_POW256=new F7e("10000000000000000000000000000000000000000000000000000000000000000",16);po.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470";po.KECCAK256_NULL=ore.from(po.KECCAK256_NULL_S,"hex");po.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347";po.KECCAK256_RLP_ARRAY=ore.from(po.KECCAK256_RLP_ARRAY_S,"hex");po.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421";po.KECCAK256_RLP=ore.from(po.KECCAK256_RLP_S,"hex")});var sre=V((ryn,q7e)=>{"use strict";d();h();q7e.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(e,r);if(s.value!==i||s.enumerable!==!0)return!1}return!0}});var F5=V((oyn,K7e)=>{"use strict";d();h();var BIt=sre();K7e.exports=function(){return BIt()&&!!Symbol.toStringTag}});var V5=V((cyn,j7e)=>{"use strict";d();h();var H7e=typeof Symbol<"u"&&Symbol,RIt=sre();j7e.exports=function(){return typeof H7e!="function"||typeof Symbol!="function"||typeof H7e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:RIt()}});var W7e=V((lyn,z7e)=>{"use strict";d();h();var CIt="Function.prototype.bind called on incompatible ",are=Array.prototype.slice,OIt=Object.prototype.toString,NIt="[object Function]";z7e.exports=function(e){var r=this;if(typeof r!="function"||OIt.call(r)!==NIt)throw new TypeError(CIt+r);for(var n=are.call(arguments,1),i,o=function(){if(this instanceof i){var w=r.apply(this,n.concat(are.call(arguments)));return Object(w)===w?w:this}else return r.apply(e,n.concat(are.call(arguments)))},s=Math.max(0,r.length-n.length),c=[],l=0;l<s;l++)c.push("$"+l);if(i=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var m=function(){};m.prototype=r.prototype,i.prototype=new m,m.prototype=null}return i}});var $7e=V((pyn,G7e)=>{"use strict";d();h();var DIt=W7e();G7e.exports=Function.prototype.bind||DIt});var Z7e=V((gyn,Y7e)=>{"use strict";d();h();var UIt="Function.prototype.bind called on incompatible ",cre=Array.prototype.slice,LIt=Object.prototype.toString,FIt="[object Function]";Y7e.exports=function(e){var r=this;if(typeof r!="function"||LIt.call(r)!==FIt)throw new TypeError(UIt+r);for(var n=cre.call(arguments,1),i,o=function(){if(this instanceof i){var w=r.apply(this,n.concat(cre.call(arguments)));return Object(w)===w?w:this}else return r.apply(e,n.concat(cre.call(arguments)))},s=Math.max(0,r.length-n.length),c=[],l=0;l<s;l++)c.push("$"+l);if(i=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var m=function(){};m.prototype=r.prototype,i.prototype=new m,m.prototype=null}return i}});var J7e=V((xyn,Q7e)=>{"use strict";d();h();var VIt=Z7e();Q7e.exports=Function.prototype.bind||VIt});var q5=V((Ayn,X7e)=>{"use strict";d();h();var qIt=J7e();X7e.exports=qIt.call(Function.call,Object.prototype.hasOwnProperty)});var H5=V((Tyn,n9e)=>{"use strict";d();h();var an,FA=SyntaxError,r9e=Function,UA=TypeError,ure=function(t){try{return r9e('"use strict"; return ('+t+").constructor;")()}catch{}},Wv=Object.getOwnPropertyDescriptor;if(Wv)try{Wv({},"")}catch{Wv=null}var fre=function(){throw new UA},KIt=Wv?function(){try{return arguments.callee,fre}catch{try{return Wv(arguments,"callee").get}catch{return fre}}}():fre,NA=V5()(),Bg=Object.getPrototypeOf||function(t){return t.__proto__},DA={},HIt=typeof Uint8Array>"u"?an:Bg(Uint8Array),LA={"%AggregateError%":typeof AggregateError>"u"?an:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?an:ArrayBuffer,"%ArrayIteratorPrototype%":NA?Bg([][Symbol.iterator]()):an,"%AsyncFromSyncIteratorPrototype%":an,"%AsyncFunction%":DA,"%AsyncGenerator%":DA,"%AsyncGeneratorFunction%":DA,"%AsyncIteratorPrototype%":DA,"%Atomics%":typeof Atomics>"u"?an:Atomics,"%BigInt%":typeof BigInt>"u"?an:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?an:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?an:Float32Array,"%Float64Array%":typeof Float64Array>"u"?an:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?an:FinalizationRegistry,"%Function%":r9e,"%GeneratorFunction%":DA,"%Int8Array%":typeof Int8Array>"u"?an:Int8Array,"%Int16Array%":typeof Int16Array>"u"?an:Int16Array,"%Int32Array%":typeof Int32Array>"u"?an:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":NA?Bg(Bg([][Symbol.iterator]())):an,"%JSON%":typeof JSON=="object"?JSON:an,"%Map%":typeof Map>"u"?an:Map,"%MapIteratorPrototype%":typeof Map>"u"||!NA?an:Bg(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?an:Promise,"%Proxy%":typeof Proxy>"u"?an:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?an:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?an:Set,"%SetIteratorPrototype%":typeof Set>"u"||!NA?an:Bg(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?an:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":NA?Bg(""[Symbol.iterator]()):an,"%Symbol%":NA?Symbol:an,"%SyntaxError%":FA,"%ThrowTypeError%":KIt,"%TypedArray%":HIt,"%TypeError%":UA,"%Uint8Array%":typeof Uint8Array>"u"?an:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?an:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?an:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?an:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?an:WeakMap,"%WeakRef%":typeof WeakRef>"u"?an:WeakRef,"%WeakSet%":typeof WeakSet>"u"?an:WeakSet},jIt=function t(e){var r;if(e==="%AsyncFunction%")r=ure("async function () {}");else if(e==="%GeneratorFunction%")r=ure("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=ure("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&(r=Bg(i.prototype))}return LA[e]=r,r},e9e={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},K5=$7e(),UD=q5(),zIt=K5.call(Function.call,Array.prototype.concat),WIt=K5.call(Function.apply,Array.prototype.splice),t9e=K5.call(Function.call,String.prototype.replace),LD=K5.call(Function.call,String.prototype.slice),GIt=K5.call(Function.call,RegExp.prototype.exec),$It=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,YIt=/\\(\\)?/g,ZIt=function(e){var r=LD(e,0,1),n=LD(e,-1);if(r==="%"&&n!=="%")throw new FA("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new FA("invalid intrinsic syntax, expected opening `%`");var i=[];return t9e(e,$It,function(o,s,c,l){i[i.length]=c?t9e(l,YIt,"$1"):s||o}),i},QIt=function(e,r){var n=e,i;if(UD(e9e,n)&&(i=e9e[n],n="%"+i[0]+"%"),UD(LA,n)){var o=LA[n];if(o===DA&&(o=jIt(n)),typeof o>"u"&&!r)throw new UA("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:o}}throw new FA("intrinsic "+e+" does not exist!")};n9e.exports=function(e,r){if(typeof e!="string"||e.length===0)throw new UA("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new UA('"allowMissing" argument must be a boolean');if(GIt(/^%?[^%]*%?$/,e)===null)throw new FA("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=ZIt(e),i=n.length>0?n[0]:"",o=QIt("%"+i+"%",r),s=o.name,c=o.value,l=!1,m=o.alias;m&&(i=m[0],WIt(n,zIt([0,1],m)));for(var w=1,b=!0;w<n.length;w+=1){var E=n[w],I=LD(E,0,1),M=LD(E,-1);if((I==='"'||I==="'"||I==="`"||M==='"'||M==="'"||M==="`")&&I!==M)throw new FA("property names with quotes must have matching quotes");if((E==="constructor"||!b)&&(l=!0),i+="."+E,s="%"+i+"%",UD(LA,s))c=LA[s];else if(c!=null){if(!(E in c)){if(!r)throw new UA("base intrinsic for "+e+" exists, but the property is not available.");return}if(Wv&&w+1>=n.length){var k=Wv(c,E);b=!!k,b&&"get"in k&&!("originalValue"in k.get)?c=k.get:c=c[E]}else b=UD(c,E),c=c[E];b&&!l&&(LA[s]=c)}}return c}});var o9e=V((kyn,i9e)=>{"use strict";d();h();var JIt="Function.prototype.bind called on incompatible ",lre=Array.prototype.slice,XIt=Object.prototype.toString,eMt="[object Function]";i9e.exports=function(e){var r=this;if(typeof r!="function"||XIt.call(r)!==eMt)throw new TypeError(JIt+r);for(var n=lre.call(arguments,1),i,o=function(){if(this instanceof i){var w=r.apply(this,n.concat(lre.call(arguments)));return Object(w)===w?w:this}else return r.apply(e,n.concat(lre.call(arguments)))},s=Math.max(0,r.length-n.length),c=[],l=0;l<s;l++)c.push("$"+l);if(i=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var m=function(){};m.prototype=r.prototype,i.prototype=new m,m.prototype=null}return i}});var a9e=V((Ryn,s9e)=>{"use strict";d();h();var tMt=o9e();s9e.exports=Function.prototype.bind||tMt});var VD=V((Nyn,FD)=>{"use strict";d();h();var dre=a9e(),VA=H5(),f9e=VA("%Function.prototype.apply%"),l9e=VA("%Function.prototype.call%"),d9e=VA("%Reflect.apply%",!0)||dre.call(l9e,f9e),c9e=VA("%Object.getOwnPropertyDescriptor%",!0),Gv=VA("%Object.defineProperty%",!0),rMt=VA("%Math.max%");if(Gv)try{Gv({},"a",{value:1})}catch{Gv=null}FD.exports=function(e){var r=d9e(dre,l9e,arguments);if(c9e&&Gv){var n=c9e(r,"length");n.configurable&&Gv(r,"length",{value:1+rMt(0,e.length-(arguments.length-1))})}return r};var u9e=function(){return d9e(dre,f9e,arguments)};Gv?Gv(FD.exports,"apply",{value:u9e}):FD.exports.apply=u9e});var hre=V((Lyn,m9e)=>{"use strict";d();h();var h9e=H5(),p9e=VD(),nMt=p9e(h9e("String.prototype.indexOf"));m9e.exports=function(e,r){var n=h9e(e,!!r);return typeof n=="function"&&nMt(e,".prototype.")>-1?p9e(n):n}});var b9e=V((qyn,g9e)=>{"use strict";d();h();var iMt=F5()(),oMt=hre(),pre=oMt("Object.prototype.toString"),qD=function(e){return iMt&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:pre(e)==="[object Arguments]"},y9e=function(e){return qD(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&pre(e)!=="[object Array]"&&pre(e.callee)==="[object Function]"},sMt=function(){return qD(arguments)}();qD.isLegacyArguments=y9e;g9e.exports=sMt?qD:y9e});var w9e=V((jyn,x9e)=>{"use strict";d();h();var aMt=Object.prototype.toString,cMt=Function.prototype.toString,uMt=/^\s*(?:function)?\*/,v9e=F5()(),mre=Object.getPrototypeOf,fMt=function(){if(!v9e)return!1;try{return Function("return function*() {}")()}catch{}},yre;x9e.exports=function(e){if(typeof e!="function")return!1;if(uMt.test(cMt.call(e)))return!0;if(!v9e){var r=aMt.call(e);return r==="[object GeneratorFunction]"}if(!mre)return!1;if(typeof yre>"u"){var n=fMt();yre=n?mre(n):!1}return mre(e)===yre}});var _9e=V((Gyn,E9e)=>{"use strict";d();h();var A9e=Function.prototype.toString,qA=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,bre,KD;if(typeof qA=="function"&&typeof Object.defineProperty=="function")try{bre=Object.defineProperty({},"length",{get:function(){throw KD}}),KD={},qA(function(){throw 42},null,bre)}catch(t){t!==KD&&(qA=null)}else qA=null;var lMt=/^\s*class\b/,vre=function(e){try{var r=A9e.call(e);return lMt.test(r)}catch{return!1}},gre=function(e){try{return vre(e)?!1:(A9e.call(e),!0)}catch{return!1}},HD=Object.prototype.toString,dMt="[object Object]",hMt="[object Function]",pMt="[object GeneratorFunction]",mMt="[object HTMLAllCollection]",yMt="[object HTML document.all class]",gMt="[object HTMLCollection]",bMt=typeof Symbol=="function"&&!!Symbol.toStringTag,vMt=!(0 in[,]),xre=function(){return!1};typeof document=="object"&&(S9e=document.all,HD.call(S9e)===HD.call(document.all)&&(xre=function(e){if((vMt||!e)&&(typeof e>"u"||typeof e=="object"))try{var r=HD.call(e);return(r===mMt||r===yMt||r===gMt||r===dMt)&&e("")==null}catch{}return!1}));var S9e;E9e.exports=qA?function(e){if(xre(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{qA(e,null,bre)}catch(r){if(r!==KD)return!1}return!vre(e)&&gre(e)}:function(e){if(xre(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(bMt)return gre(e);if(vre(e))return!1;var r=HD.call(e);return r!==hMt&&r!==pMt&&!/^\[object HTML/.test(r)?!1:gre(e)}});var M9e=V((Zyn,I9e)=>{"use strict";d();h();var xMt=_9e(),wMt=Object.prototype.toString,T9e=Object.prototype.hasOwnProperty,SMt=function(e,r,n){for(var i=0,o=e.length;i<o;i++)T9e.call(e,i)&&(n==null?r(e[i],i,e):r.call(n,e[i],i,e))},AMt=function(e,r,n){for(var i=0,o=e.length;i<o;i++)n==null?r(e.charAt(i),i,e):r.call(n,e.charAt(i),i,e)},EMt=function(e,r,n){for(var i in e)T9e.call(e,i)&&(n==null?r(e[i],i,e):r.call(n,e[i],i,e))},_Mt=function(e,r,n){if(!xMt(r))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=n),wMt.call(e)==="[object Array]"?SMt(e,r,i):typeof e=="string"?AMt(e,r,i):EMt(e,r,i)};I9e.exports=_Mt});var Sre=V((Xyn,k9e)=>{"use strict";d();h();var wre=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],TMt=typeof globalThis>"u"?self:globalThis;k9e.exports=function(){for(var e=[],r=0;r<wre.length;r++)typeof TMt[wre[r]]=="function"&&(e[e.length]=wre[r]);return e}});var R9e=V((rgn,B9e)=>{"use strict";d();h();var IMt="Function.prototype.bind called on incompatible ",MMt=Object.prototype.toString,kMt=Math.max,PMt="[object Function]",P9e=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var o=0;o<r.length;o+=1)n[o+e.length]=r[o];return n},BMt=function(e,r){for(var n=[],i=r||0,o=0;i<e.length;i+=1,o+=1)n[o]=e[i];return n},RMt=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r};B9e.exports=function(e){var r=this;if(typeof r!="function"||MMt.apply(r)!==PMt)throw new TypeError(IMt+r);for(var n=BMt(arguments,1),i,o=function(){if(this instanceof i){var w=r.apply(this,P9e(n,arguments));return Object(w)===w?w:this}return r.apply(e,P9e(n,arguments))},s=kMt(0,r.length-n.length),c=[],l=0;l<s;l++)c[l]="$"+l;if(i=Function("binder","return function ("+RMt(c,",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var m=function(){};m.prototype=r.prototype,i.prototype=new m,m.prototype=null}return i}});var O9e=V((ogn,C9e)=>{"use strict";d();h();var CMt=R9e();C9e.exports=Function.prototype.bind||CMt});var jD=V((cgn,D9e)=>{"use strict";d();h();var N9e={foo:{}},OMt=Object;D9e.exports=function(){return{__proto__:N9e}.foo===N9e.foo&&!({__proto__:null}instanceof OMt)}});var L9e=V((lgn,U9e)=>{"use strict";d();h();var NMt="Function.prototype.bind called on incompatible ",Are=Array.prototype.slice,DMt=Object.prototype.toString,UMt="[object Function]";U9e.exports=function(e){var r=this;if(typeof r!="function"||DMt.call(r)!==UMt)throw new TypeError(NMt+r);for(var n=Are.call(arguments,1),i,o=function(){if(this instanceof i){var w=r.apply(this,n.concat(Are.call(arguments)));return Object(w)===w?w:this}else return r.apply(e,n.concat(Are.call(arguments)))},s=Math.max(0,r.length-n.length),c=[],l=0;l<s;l++)c.push("$"+l);if(i=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var m=function(){};m.prototype=r.prototype,i.prototype=new m,m.prototype=null}return i}});var V9e=V((pgn,F9e)=>{"use strict";d();h();var LMt=L9e();F9e.exports=Function.prototype.bind||LMt});var Tre=V((ggn,z9e)=>{"use strict";d();h();var jr,zA=SyntaxError,j9e=Function,jA=TypeError,Ere=function(t){try{return j9e('"use strict"; return ('+t+").constructor;")()}catch{}},$v=Object.getOwnPropertyDescriptor;if($v)try{$v({},"")}catch{$v=null}var _re=function(){throw new jA},FMt=$v?function(){try{return arguments.callee,_re}catch{try{return $v(arguments,"callee").get}catch{return _re}}}():_re,KA=V5()(),VMt=jD()(),bs=Object.getPrototypeOf||(VMt?function(t){return t.__proto__}:null),HA={},qMt=typeof Uint8Array>"u"||!bs?jr:bs(Uint8Array),Yv={"%AggregateError%":typeof AggregateError>"u"?jr:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?jr:ArrayBuffer,"%ArrayIteratorPrototype%":KA&&bs?bs([][Symbol.iterator]()):jr,"%AsyncFromSyncIteratorPrototype%":jr,"%AsyncFunction%":HA,"%AsyncGenerator%":HA,"%AsyncGeneratorFunction%":HA,"%AsyncIteratorPrototype%":HA,"%Atomics%":typeof Atomics>"u"?jr:Atomics,"%BigInt%":typeof BigInt>"u"?jr:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?jr:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?jr:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?jr:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?jr:Float32Array,"%Float64Array%":typeof Float64Array>"u"?jr:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?jr:FinalizationRegistry,"%Function%":j9e,"%GeneratorFunction%":HA,"%Int8Array%":typeof Int8Array>"u"?jr:Int8Array,"%Int16Array%":typeof Int16Array>"u"?jr:Int16Array,"%Int32Array%":typeof Int32Array>"u"?jr:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":KA&&bs?bs(bs([][Symbol.iterator]())):jr,"%JSON%":typeof JSON=="object"?JSON:jr,"%Map%":typeof Map>"u"?jr:Map,"%MapIteratorPrototype%":typeof Map>"u"||!KA||!bs?jr:bs(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?jr:Promise,"%Proxy%":typeof Proxy>"u"?jr:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?jr:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?jr:Set,"%SetIteratorPrototype%":typeof Set>"u"||!KA||!bs?jr:bs(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?jr:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":KA&&bs?bs(""[Symbol.iterator]()):jr,"%Symbol%":KA?Symbol:jr,"%SyntaxError%":zA,"%ThrowTypeError%":FMt,"%TypedArray%":qMt,"%TypeError%":jA,"%Uint8Array%":typeof Uint8Array>"u"?jr:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?jr:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?jr:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?jr:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?jr:WeakMap,"%WeakRef%":typeof WeakRef>"u"?jr:WeakRef,"%WeakSet%":typeof WeakSet>"u"?jr:WeakSet};if(bs)try{null.error}catch(t){q9e=bs(bs(t)),Yv["%Error.prototype%"]=q9e}var q9e,KMt=function t(e){var r;if(e==="%AsyncFunction%")r=Ere("async function () {}");else if(e==="%GeneratorFunction%")r=Ere("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Ere("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&bs&&(r=bs(i.prototype))}return Yv[e]=r,r},K9e={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},j5=V9e(),zD=q5(),HMt=j5.call(Function.call,Array.prototype.concat),jMt=j5.call(Function.apply,Array.prototype.splice),H9e=j5.call(Function.call,String.prototype.replace),WD=j5.call(Function.call,String.prototype.slice),zMt=j5.call(Function.call,RegExp.prototype.exec),WMt=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,GMt=/\\(\\)?/g,$Mt=function(e){var r=WD(e,0,1),n=WD(e,-1);if(r==="%"&&n!=="%")throw new zA("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new zA("invalid intrinsic syntax, expected opening `%`");var i=[];return H9e(e,WMt,function(o,s,c,l){i[i.length]=c?H9e(l,GMt,"$1"):s||o}),i},YMt=function(e,r){var n=e,i;if(zD(K9e,n)&&(i=K9e[n],n="%"+i[0]+"%"),zD(Yv,n)){var o=Yv[n];if(o===HA&&(o=KMt(n)),typeof o>"u"&&!r)throw new jA("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:o}}throw new zA("intrinsic "+e+" does not exist!")};z9e.exports=function(e,r){if(typeof e!="string"||e.length===0)throw new jA("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new jA('"allowMissing" argument must be a boolean');if(zMt(/^%?[^%]*%?$/,e)===null)throw new zA("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=$Mt(e),i=n.length>0?n[0]:"",o=YMt("%"+i+"%",r),s=o.name,c=o.value,l=!1,m=o.alias;m&&(i=m[0],jMt(n,HMt([0,1],m)));for(var w=1,b=!0;w<n.length;w+=1){var E=n[w],I=WD(E,0,1),M=WD(E,-1);if((I==='"'||I==="'"||I==="`"||M==='"'||M==="'"||M==="`")&&I!==M)throw new zA("property names with quotes must have matching quotes");if((E==="constructor"||!b)&&(l=!0),i+="."+E,s="%"+i+"%",zD(Yv,s))c=Yv[s];else if(c!=null){if(!(E in c)){if(!r)throw new jA("base intrinsic for "+e+" exists, but the property is not available.");return}if($v&&w+1>=n.length){var k=$v(c,E);b=!!k,b&&"get"in k&&!("originalValue"in k.get)?c=k.get:c=c[E]}else b=zD(c,E),c=c[E];b&&!l&&(Yv[s]=c)}}return c}});var G9e=V((xgn,W9e)=>{"use strict";d();h();var ZMt="Function.prototype.bind called on incompatible ",Ire=Array.prototype.slice,QMt=Object.prototype.toString,JMt="[object Function]";W9e.exports=function(e){var r=this;if(typeof r!="function"||QMt.call(r)!==JMt)throw new TypeError(ZMt+r);for(var n=Ire.call(arguments,1),i,o=function(){if(this instanceof i){var w=r.apply(this,n.concat(Ire.call(arguments)));return Object(w)===w?w:this}else return r.apply(e,n.concat(Ire.call(arguments)))},s=Math.max(0,r.length-n.length),c=[],l=0;l<s;l++)c.push("$"+l);if(i=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var m=function(){};m.prototype=r.prototype,i.prototype=new m,m.prototype=null}return i}});var Y9e=V((Agn,$9e)=>{"use strict";d();h();var XMt=G9e();$9e.exports=Function.prototype.bind||XMt});var tPe=V((Tgn,ePe)=>{"use strict";d();h();var zr,YA=SyntaxError,X9e=Function,$A=TypeError,Mre=function(t){try{return X9e('"use strict"; return ('+t+").constructor;")()}catch{}},Zv=Object.getOwnPropertyDescriptor;if(Zv)try{Zv({},"")}catch{Zv=null}var kre=function(){throw new $A},ekt=Zv?function(){try{return arguments.callee,kre}catch{try{return Zv(arguments,"callee").get}catch{return kre}}}():kre,WA=V5()(),tkt=jD()(),vs=Object.getPrototypeOf||(tkt?function(t){return t.__proto__}:null),GA={},rkt=typeof Uint8Array>"u"||!vs?zr:vs(Uint8Array),Qv={"%AggregateError%":typeof AggregateError>"u"?zr:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?zr:ArrayBuffer,"%ArrayIteratorPrototype%":WA&&vs?vs([][Symbol.iterator]()):zr,"%AsyncFromSyncIteratorPrototype%":zr,"%AsyncFunction%":GA,"%AsyncGenerator%":GA,"%AsyncGeneratorFunction%":GA,"%AsyncIteratorPrototype%":GA,"%Atomics%":typeof Atomics>"u"?zr:Atomics,"%BigInt%":typeof BigInt>"u"?zr:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?zr:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?zr:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?zr:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?zr:Float32Array,"%Float64Array%":typeof Float64Array>"u"?zr:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?zr:FinalizationRegistry,"%Function%":X9e,"%GeneratorFunction%":GA,"%Int8Array%":typeof Int8Array>"u"?zr:Int8Array,"%Int16Array%":typeof Int16Array>"u"?zr:Int16Array,"%Int32Array%":typeof Int32Array>"u"?zr:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":WA&&vs?vs(vs([][Symbol.iterator]())):zr,"%JSON%":typeof JSON=="object"?JSON:zr,"%Map%":typeof Map>"u"?zr:Map,"%MapIteratorPrototype%":typeof Map>"u"||!WA||!vs?zr:vs(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?zr:Promise,"%Proxy%":typeof Proxy>"u"?zr:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?zr:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?zr:Set,"%SetIteratorPrototype%":typeof Set>"u"||!WA||!vs?zr:vs(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?zr:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":WA&&vs?vs(""[Symbol.iterator]()):zr,"%Symbol%":WA?Symbol:zr,"%SyntaxError%":YA,"%ThrowTypeError%":ekt,"%TypedArray%":rkt,"%TypeError%":$A,"%Uint8Array%":typeof Uint8Array>"u"?zr:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?zr:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?zr:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?zr:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?zr:WeakMap,"%WeakRef%":typeof WeakRef>"u"?zr:WeakRef,"%WeakSet%":typeof WeakSet>"u"?zr:WeakSet};if(vs)try{null.error}catch(t){Z9e=vs(vs(t)),Qv["%Error.prototype%"]=Z9e}var Z9e,nkt=function t(e){var r;if(e==="%AsyncFunction%")r=Mre("async function () {}");else if(e==="%GeneratorFunction%")r=Mre("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Mre("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&vs&&(r=vs(i.prototype))}return Qv[e]=r,r},Q9e={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},z5=Y9e(),GD=q5(),ikt=z5.call(Function.call,Array.prototype.concat),okt=z5.call(Function.apply,Array.prototype.splice),J9e=z5.call(Function.call,String.prototype.replace),$D=z5.call(Function.call,String.prototype.slice),skt=z5.call(Function.call,RegExp.prototype.exec),akt=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ckt=/\\(\\)?/g,ukt=function(e){var r=$D(e,0,1),n=$D(e,-1);if(r==="%"&&n!=="%")throw new YA("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new YA("invalid intrinsic syntax, expected opening `%`");var i=[];return J9e(e,akt,function(o,s,c,l){i[i.length]=c?J9e(l,ckt,"$1"):s||o}),i},fkt=function(e,r){var n=e,i;if(GD(Q9e,n)&&(i=Q9e[n],n="%"+i[0]+"%"),GD(Qv,n)){var o=Qv[n];if(o===GA&&(o=nkt(n)),typeof o>"u"&&!r)throw new $A("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:o}}throw new YA("intrinsic "+e+" does not exist!")};ePe.exports=function(e,r){if(typeof e!="string"||e.length===0)throw new $A("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new $A('"allowMissing" argument must be a boolean');if(skt(/^%?[^%]*%?$/,e)===null)throw new YA("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=ukt(e),i=n.length>0?n[0]:"",o=fkt("%"+i+"%",r),s=o.name,c=o.value,l=!1,m=o.alias;m&&(i=m[0],okt(n,ikt([0,1],m)));for(var w=1,b=!0;w<n.length;w+=1){var E=n[w],I=$D(E,0,1),M=$D(E,-1);if((I==='"'||I==="'"||I==="`"||M==='"'||M==="'"||M==="`")&&I!==M)throw new YA("property names with quotes must have matching quotes");if((E==="constructor"||!b)&&(l=!0),i+="."+E,s="%"+i+"%",GD(Qv,s))c=Qv[s];else if(c!=null){if(!(E in c)){if(!r)throw new $A("base intrinsic for "+e+" exists, but the property is not available.");return}if(Zv&&w+1>=n.length){var k=Zv(c,E);b=!!k,b&&"get"in k&&!("originalValue"in k.get)?c=k.get:c=c[E]}else b=GD(c,E),c=c[E];b&&!l&&(Qv[s]=c)}}return c}});var YD=V((kgn,rPe)=>{"use strict";d();h();var lkt=H5(),Pre=lkt("%Object.defineProperty%",!0),Bre=function(){if(Pre)try{return Pre({},"a",{value:1}),!0}catch{return!1}return!1};Bre.hasArrayLengthDefineBug=function(){if(!Bre())return null;try{return Pre([],"length",{value:1}).length!==1}catch{return!0}};rPe.exports=Bre});var iPe=V((Rgn,nPe)=>{"use strict";d();h();var dkt="Function.prototype.bind called on incompatible ",Rre=Array.prototype.slice,hkt=Object.prototype.toString,pkt="[object Function]";nPe.exports=function(e){var r=this;if(typeof r!="function"||hkt.call(r)!==pkt)throw new TypeError(dkt+r);for(var n=Rre.call(arguments,1),i,o=function(){if(this instanceof i){var w=r.apply(this,n.concat(Rre.call(arguments)));return Object(w)===w?w:this}else return r.apply(e,n.concat(Rre.call(arguments)))},s=Math.max(0,r.length-n.length),c=[],l=0;l<s;l++)c.push("$"+l);if(i=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var m=function(){};m.prototype=r.prototype,i.prototype=new m,m.prototype=null}return i}});var sPe=V((Ngn,oPe)=>{"use strict";d();h();var mkt=iPe();oPe.exports=Function.prototype.bind||mkt});var dPe=V((Lgn,lPe)=>{"use strict";d();h();var Wr,XA=SyntaxError,fPe=Function,JA=TypeError,Cre=function(t){try{return fPe('"use strict"; return ('+t+").constructor;")()}catch{}},Jv=Object.getOwnPropertyDescriptor;if(Jv)try{Jv({},"")}catch{Jv=null}var Ore=function(){throw new JA},ykt=Jv?function(){try{return arguments.callee,Ore}catch{try{return Jv(arguments,"callee").get}catch{return Ore}}}():Ore,ZA=V5()(),gkt=jD()(),xs=Object.getPrototypeOf||(gkt?function(t){return t.__proto__}:null),QA={},bkt=typeof Uint8Array>"u"||!xs?Wr:xs(Uint8Array),Xv={"%AggregateError%":typeof AggregateError>"u"?Wr:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Wr:ArrayBuffer,"%ArrayIteratorPrototype%":ZA&&xs?xs([][Symbol.iterator]()):Wr,"%AsyncFromSyncIteratorPrototype%":Wr,"%AsyncFunction%":QA,"%AsyncGenerator%":QA,"%AsyncGeneratorFunction%":QA,"%AsyncIteratorPrototype%":QA,"%Atomics%":typeof Atomics>"u"?Wr:Atomics,"%BigInt%":typeof BigInt>"u"?Wr:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Wr:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Wr:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Wr:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Wr:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Wr:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Wr:FinalizationRegistry,"%Function%":fPe,"%GeneratorFunction%":QA,"%Int8Array%":typeof Int8Array>"u"?Wr:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Wr:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Wr:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":ZA&&xs?xs(xs([][Symbol.iterator]())):Wr,"%JSON%":typeof JSON=="object"?JSON:Wr,"%Map%":typeof Map>"u"?Wr:Map,"%MapIteratorPrototype%":typeof Map>"u"||!ZA||!xs?Wr:xs(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Wr:Promise,"%Proxy%":typeof Proxy>"u"?Wr:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Wr:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Wr:Set,"%SetIteratorPrototype%":typeof Set>"u"||!ZA||!xs?Wr:xs(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Wr:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":ZA&&xs?xs(""[Symbol.iterator]()):Wr,"%Symbol%":ZA?Symbol:Wr,"%SyntaxError%":XA,"%ThrowTypeError%":ykt,"%TypedArray%":bkt,"%TypeError%":JA,"%Uint8Array%":typeof Uint8Array>"u"?Wr:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Wr:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Wr:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Wr:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Wr:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Wr:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Wr:WeakSet};if(xs)try{null.error}catch(t){aPe=xs(xs(t)),Xv["%Error.prototype%"]=aPe}var aPe,vkt=function t(e){var r;if(e==="%AsyncFunction%")r=Cre("async function () {}");else if(e==="%GeneratorFunction%")r=Cre("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Cre("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&xs&&(r=xs(i.prototype))}return Xv[e]=r,r},cPe={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},W5=sPe(),ZD=q5(),xkt=W5.call(Function.call,Array.prototype.concat),wkt=W5.call(Function.apply,Array.prototype.splice),uPe=W5.call(Function.call,String.prototype.replace),QD=W5.call(Function.call,String.prototype.slice),Skt=W5.call(Function.call,RegExp.prototype.exec),Akt=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Ekt=/\\(\\)?/g,_kt=function(e){var r=QD(e,0,1),n=QD(e,-1);if(r==="%"&&n!=="%")throw new XA("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new XA("invalid intrinsic syntax, expected opening `%`");var i=[];return uPe(e,Akt,function(o,s,c,l){i[i.length]=c?uPe(l,Ekt,"$1"):s||o}),i},Tkt=function(e,r){var n=e,i;if(ZD(cPe,n)&&(i=cPe[n],n="%"+i[0]+"%"),ZD(Xv,n)){var o=Xv[n];if(o===QA&&(o=vkt(n)),typeof o>"u"&&!r)throw new JA("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:o}}throw new XA("intrinsic "+e+" does not exist!")};lPe.exports=function(e,r){if(typeof e!="string"||e.length===0)throw new JA("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new JA('"allowMissing" argument must be a boolean');if(Skt(/^%?[^%]*%?$/,e)===null)throw new XA("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=_kt(e),i=n.length>0?n[0]:"",o=Tkt("%"+i+"%",r),s=o.name,c=o.value,l=!1,m=o.alias;m&&(i=m[0],wkt(n,xkt([0,1],m)));for(var w=1,b=!0;w<n.length;w+=1){var E=n[w],I=QD(E,0,1),M=QD(E,-1);if((I==='"'||I==="'"||I==="`"||M==='"'||M==="'"||M==="`")&&I!==M)throw new XA("property names with quotes must have matching quotes");if((E==="constructor"||!b)&&(l=!0),i+="."+E,s="%"+i+"%",ZD(Xv,s))c=Xv[s];else if(c!=null){if(!(E in c)){if(!r)throw new JA("base intrinsic for "+e+" exists, but the property is not available.");return}if(Jv&&w+1>=n.length){var k=Jv(c,E);b=!!k,b&&"get"in k&&!("originalValue"in k.get)?c=k.get:c=c[E]}else b=ZD(c,E),c=c[E];b&&!l&&(Xv[s]=c)}}return c}});var G5=V((qgn,hPe)=>{"use strict";d();h();var Ikt=H5(),JD=Ikt("%Object.getOwnPropertyDescriptor%",!0);if(JD)try{JD([],"length")}catch{JD=null}hPe.exports=JD});var yPe=V((jgn,mPe)=>{"use strict";d();h();var Mkt=YD()(),Nre=dPe(),$5=Mkt&&Nre("%Object.defineProperty%",!0);if($5)try{$5({},"a",{value:1})}catch{$5=!1}var kkt=Nre("%SyntaxError%"),eE=Nre("%TypeError%"),pPe=G5();mPe.exports=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new eE("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new eE("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new eE("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new eE("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new eE("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new eE("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,s=arguments.length>5?arguments[5]:null,c=arguments.length>6?arguments[6]:!1,l=!!pPe&&pPe(e,r);if($5)$5(e,r,{configurable:s===null&&l?l.configurable:!s,enumerable:i===null&&l?l.enumerable:!i,value:n,writable:o===null&&l?l.writable:!o});else if(c||!i&&!o&&!s)e[r]=n;else throw new kkt("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}});var SPe=V((Ggn,wPe)=>{"use strict";d();h();var xPe=tPe(),gPe=yPe(),Pkt=YD()(),bPe=G5(),vPe=xPe("%TypeError%"),Bkt=xPe("%Math.floor%");wPe.exports=function(e,r){if(typeof e!="function")throw new vPe("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||Bkt(r)!==r)throw new vPe("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,o=!0;if("length"in e&&bPe){var s=bPe(e,"length");s&&!s.configurable&&(i=!1),s&&!s.writable&&(o=!1)}return(i||o||!n)&&(Pkt?gPe(e,"length",r,!0,!0):gPe(e,"length",r)),e}});var Ure=V((Zgn,XD)=>{"use strict";d();h();var Dre=O9e(),tE=Tre(),Rkt=SPe(),Ckt=tE("%TypeError%"),EPe=tE("%Function.prototype.apply%"),_Pe=tE("%Function.prototype.call%"),TPe=tE("%Reflect.apply%",!0)||Dre.call(_Pe,EPe),Y5=tE("%Object.defineProperty%",!0),Okt=tE("%Math.max%");if(Y5)try{Y5({},"a",{value:1})}catch{Y5=null}XD.exports=function(e){if(typeof e!="function")throw new Ckt("a function is required");var r=TPe(Dre,_Pe,arguments);return Rkt(r,1+Okt(0,e.length-(arguments.length-1)),!0)};var APe=function(){return TPe(Dre,EPe,arguments)};Y5?Y5(XD.exports,"apply",{value:APe}):XD.exports.apply=APe});var PPe=V((Xgn,kPe)=>{"use strict";d();h();var IPe=Tre(),MPe=Ure(),Nkt=MPe(IPe("String.prototype.indexOf"));kPe.exports=function(e,r){var n=IPe(e,!!r);return typeof n=="function"&&Nkt(e,".prototype.")>-1?MPe(n):n}});var NPe=V((rbn,OPe)=>{"use strict";d();h();var tU=M9e(),Dkt=Sre(),BPe=Ure(),Vre=PPe(),eU=G5(),Ukt=Vre("Object.prototype.toString"),CPe=F5()(),RPe=typeof globalThis>"u"?self:globalThis,Fre=Dkt(),qre=Vre("String.prototype.slice"),Lre=Object.getPrototypeOf,Lkt=Vre("Array.prototype.indexOf",!0)||function(e,r){for(var n=0;n<e.length;n+=1)if(e[n]===r)return n;return-1},rU={__proto__:null};CPe&&eU&&Lre?tU(Fre,function(t){var e=new RPe[t];if(Symbol.toStringTag in e){var r=Lre(e),n=eU(r,Symbol.toStringTag);if(!n){var i=Lre(r);n=eU(i,Symbol.toStringTag)}rU["$"+t]=BPe(n.get)}}):tU(Fre,function(t){var e=new RPe[t],r=e.slice||e.set;r&&(rU["$"+t]=BPe(r))});var Fkt=function(e){var r=!1;return tU(rU,function(n,i){if(!r)try{"$"+n(e)===i&&(r=qre(i,1))}catch{}}),r},Vkt=function(e){var r=!1;return tU(rU,function(n,i){if(!r)try{n(e),r=qre(i,1)}catch{}}),r};OPe.exports=function(e){if(!e||typeof e!="object")return!1;if(!CPe){var r=qre(Ukt(e),8,-1);return Lkt(Fre,r)>-1?r:r!=="Object"?!1:Vkt(e)}return eU?Fkt(e):null}});var UPe=V((obn,DPe)=>{d();h();var qkt=Object.prototype.hasOwnProperty,Kkt=Object.prototype.toString;DPe.exports=function(e,r,n){if(Kkt.call(r)!=="[object Function]")throw new TypeError("iterator must be a function");var i=e.length;if(i===+i)for(var o=0;o<i;o++)r.call(n,e[o],o,e);else for(var s in e)qkt.call(e,s)&&r.call(n,e[s],s,e)}});var FPe=V((cbn,LPe)=>{"use strict";d();h();LPe.exports=G5()});var zPe=V((lbn,jPe)=>{"use strict";d();h();var VPe=UPe(),Hkt=Sre(),Hre=hre(),jkt=Hre("Object.prototype.toString"),qPe=F5()(),zkt=typeof globalThis>"u"?self:globalThis,KPe=Hkt(),Wkt=Hre("Array.prototype.indexOf",!0)||function(e,r){for(var n=0;n<e.length;n+=1)if(e[n]===r)return n;return-1},Gkt=Hre("String.prototype.slice"),HPe={},nU=FPe(),Kre=Object.getPrototypeOf;qPe&&nU&&Kre&&VPe(KPe,function(t){var e=new zkt[t];if(Symbol.toStringTag in e){var r=Kre(e),n=nU(r,Symbol.toStringTag);if(!n){var i=Kre(r);n=nU(i,Symbol.toStringTag)}HPe[t]=n.get}});var $kt=function(e){var r=!1;return VPe(HPe,function(n,i){if(!r)try{r=n.call(e)===i}catch{}}),r};jPe.exports=function(e){if(!e||typeof e!="object")return!1;if(!qPe||!(Symbol.toStringTag in e)){var r=Gkt(jkt(e),8,-1);return Wkt(KPe,r)>-1}return nU?$kt(e):!1}});var oBe=V(Fr=>{"use strict";d();h();var Ykt=b9e(),Zkt=w9e(),nd=NPe(),WPe=zPe();function rE(t){return t.call.bind(t)}var GPe=typeof BigInt<"u",$Pe=typeof Symbol<"u",Yf=rE(Object.prototype.toString),Qkt=rE(Number.prototype.valueOf),Jkt=rE(String.prototype.valueOf),Xkt=rE(Boolean.prototype.valueOf);GPe&&(YPe=rE(BigInt.prototype.valueOf));var YPe;$Pe&&(ZPe=rE(Symbol.prototype.valueOf));var ZPe;function Q5(t,e){if(typeof t!="object")return!1;try{return e(t),!0}catch{return!1}}Fr.isArgumentsObject=Ykt;Fr.isGeneratorFunction=Zkt;Fr.isTypedArray=WPe;function e7t(t){return typeof Promise<"u"&&t instanceof Promise||t!==null&&typeof t=="object"&&typeof t.then=="function"&&typeof t.catch=="function"}Fr.isPromise=e7t;function t7t(t){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(t):WPe(t)||JPe(t)}Fr.isArrayBufferView=t7t;function r7t(t){return nd(t)==="Uint8Array"}Fr.isUint8Array=r7t;function n7t(t){return nd(t)==="Uint8ClampedArray"}Fr.isUint8ClampedArray=n7t;function i7t(t){return nd(t)==="Uint16Array"}Fr.isUint16Array=i7t;function o7t(t){return nd(t)==="Uint32Array"}Fr.isUint32Array=o7t;function s7t(t){return nd(t)==="Int8Array"}Fr.isInt8Array=s7t;function a7t(t){return nd(t)==="Int16Array"}Fr.isInt16Array=a7t;function c7t(t){return nd(t)==="Int32Array"}Fr.isInt32Array=c7t;function u7t(t){return nd(t)==="Float32Array"}Fr.isFloat32Array=u7t;function f7t(t){return nd(t)==="Float64Array"}Fr.isFloat64Array=f7t;function l7t(t){return nd(t)==="BigInt64Array"}Fr.isBigInt64Array=l7t;function d7t(t){return nd(t)==="BigUint64Array"}Fr.isBigUint64Array=d7t;function iU(t){return Yf(t)==="[object Map]"}iU.working=typeof Map<"u"&&iU(new Map);function h7t(t){return typeof Map>"u"?!1:iU.working?iU(t):t instanceof Map}Fr.isMap=h7t;function oU(t){return Yf(t)==="[object Set]"}oU.working=typeof Set<"u"&&oU(new Set);function p7t(t){return typeof Set>"u"?!1:oU.working?oU(t):t instanceof Set}Fr.isSet=p7t;function sU(t){return Yf(t)==="[object WeakMap]"}sU.working=typeof WeakMap<"u"&&sU(new WeakMap);function m7t(t){return typeof WeakMap>"u"?!1:sU.working?sU(t):t instanceof WeakMap}Fr.isWeakMap=m7t;function zre(t){return Yf(t)==="[object WeakSet]"}zre.working=typeof WeakSet<"u"&&zre(new WeakSet);function y7t(t){return zre(t)}Fr.isWeakSet=y7t;function aU(t){return Yf(t)==="[object ArrayBuffer]"}aU.working=typeof ArrayBuffer<"u"&&aU(new ArrayBuffer);function QPe(t){return typeof ArrayBuffer>"u"?!1:aU.working?aU(t):t instanceof ArrayBuffer}Fr.isArrayBuffer=QPe;function cU(t){return Yf(t)==="[object DataView]"}cU.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&cU(new DataView(new ArrayBuffer(1),0,1));function JPe(t){return typeof DataView>"u"?!1:cU.working?cU(t):t instanceof DataView}Fr.isDataView=JPe;var jre=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function Z5(t){return Yf(t)==="[object SharedArrayBuffer]"}function XPe(t){return typeof jre>"u"?!1:(typeof Z5.working>"u"&&(Z5.working=Z5(new jre)),Z5.working?Z5(t):t instanceof jre)}Fr.isSharedArrayBuffer=XPe;function g7t(t){return Yf(t)==="[object AsyncFunction]"}Fr.isAsyncFunction=g7t;function b7t(t){return Yf(t)==="[object Map Iterator]"}Fr.isMapIterator=b7t;function v7t(t){return Yf(t)==="[object Set Iterator]"}Fr.isSetIterator=v7t;function x7t(t){return Yf(t)==="[object Generator]"}Fr.isGeneratorObject=x7t;function w7t(t){return Yf(t)==="[object WebAssembly.Module]"}Fr.isWebAssemblyCompiledModule=w7t;function eBe(t){return Q5(t,Qkt)}Fr.isNumberObject=eBe;function tBe(t){return Q5(t,Jkt)}Fr.isStringObject=tBe;function rBe(t){return Q5(t,Xkt)}Fr.isBooleanObject=rBe;function nBe(t){return GPe&&Q5(t,YPe)}Fr.isBigIntObject=nBe;function iBe(t){return $Pe&&Q5(t,ZPe)}Fr.isSymbolObject=iBe;function S7t(t){return eBe(t)||tBe(t)||rBe(t)||nBe(t)||iBe(t)}Fr.isBoxedPrimitive=S7t;function A7t(t){return typeof Uint8Array<"u"&&(QPe(t)||XPe(t))}Fr.isAnyArrayBuffer=A7t;["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(t){Object.defineProperty(Fr,t,{enumerable:!1,value:function(){throw new Error(t+" is not supported in userland")}})})});var aBe=V((gbn,sBe)=>{d();h();sBe.exports=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}});var iE=V(Vr=>{d();h();var cBe=Object.getOwnPropertyDescriptors||function(e){for(var r=Object.keys(e),n={},i=0;i<r.length;i++)n[r[i]]=Object.getOwnPropertyDescriptor(e,r[i]);return n},E7t=/%[sdj%]/g;Vr.format=function(t){if(!mU(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(Rg(arguments[r]));return e.join(" ")}for(var r=1,n=arguments,i=n.length,o=String(t).replace(E7t,function(c){if(c==="%%")return"%";if(r>=i)return c;switch(c){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch{return"[Circular]"}default:return c}}),s=n[r];r<i;s=n[++r])pU(s)||!nE(s)?o+=" "+s:o+=" "+Rg(s);return o};Vr.deprecate=function(t,e){if(typeof process<"u"&&process.noDeprecation===!0)return t;if(typeof process>"u")return function(){return Vr.deprecate(t,e).apply(this,arguments)};var r=!1;function n(){if(!r){if(process.throwDeprecation)throw new Error(e);process.traceDeprecation?console.trace(e):console.error(e),r=!0}return t.apply(this,arguments)}return n};var uU={},uBe=/^$/;T.NODE_DEBUG&&(fU=T.NODE_DEBUG,fU=fU.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),uBe=new RegExp("^"+fU+"$","i"));var fU;Vr.debuglog=function(t){if(t=t.toUpperCase(),!uU[t])if(uBe.test(t)){var e=process.pid;uU[t]=function(){var r=Vr.format.apply(Vr,arguments);console.error("%s %d: %s",t,e,r)}}else uU[t]=function(){};return uU[t]};function Rg(t,e){var r={seen:[],stylize:T7t};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),Yre(e)?r.showHidden=e:e&&Vr._extend(r,e),tx(r.showHidden)&&(r.showHidden=!1),tx(r.depth)&&(r.depth=2),tx(r.colors)&&(r.colors=!1),tx(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=_7t),dU(r,t,r.depth)}Vr.inspect=Rg;Rg.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};Rg.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function _7t(t,e){var r=Rg.styles[e];return r?"\x1B["+Rg.colors[r][0]+"m"+t+"\x1B["+Rg.colors[r][1]+"m":t}function T7t(t,e){return t}function I7t(t){var e={};return t.forEach(function(r,n){e[r]=!0}),e}function dU(t,e,r){if(t.customInspect&&e&&lU(e.inspect)&&e.inspect!==Vr.inspect&&!(e.constructor&&e.constructor.prototype===e)){var n=e.inspect(r,t);return mU(n)||(n=dU(t,n,r)),n}var i=M7t(t,e);if(i)return i;var o=Object.keys(e),s=I7t(o);if(t.showHidden&&(o=Object.getOwnPropertyNames(e)),X5(e)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return Wre(e);if(o.length===0){if(lU(e)){var c=e.name?": "+e.name:"";return t.stylize("[Function"+c+"]","special")}if(J5(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(hU(e))return t.stylize(Date.prototype.toString.call(e),"date");if(X5(e))return Wre(e)}var l="",m=!1,w=["{","}"];if(fBe(e)&&(m=!0,w=["[","]"]),lU(e)){var b=e.name?": "+e.name:"";l=" [Function"+b+"]"}if(J5(e)&&(l=" "+RegExp.prototype.toString.call(e)),hU(e)&&(l=" "+Date.prototype.toUTCString.call(e)),X5(e)&&(l=" "+Wre(e)),o.length===0&&(!m||e.length==0))return w[0]+l+w[1];if(r<0)return J5(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var E;return m?E=k7t(t,e,r,s,o):E=o.map(function(I){return $re(t,e,r,s,I,m)}),t.seen.pop(),P7t(E,l,w)}function M7t(t,e){if(tx(e))return t.stylize("undefined","undefined");if(mU(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(lBe(e))return t.stylize(""+e,"number");if(Yre(e))return t.stylize(""+e,"boolean");if(pU(e))return t.stylize("null","null")}function Wre(t){return"["+Error.prototype.toString.call(t)+"]"}function k7t(t,e,r,n,i){for(var o=[],s=0,c=e.length;s<c;++s)dBe(e,String(s))?o.push($re(t,e,r,n,String(s),!0)):o.push("");return i.forEach(function(l){l.match(/^\d+$/)||o.push($re(t,e,r,n,l,!0))}),o}function $re(t,e,r,n,i,o){var s,c,l;if(l=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},l.get?l.set?c=t.stylize("[Getter/Setter]","special"):c=t.stylize("[Getter]","special"):l.set&&(c=t.stylize("[Setter]","special")),dBe(n,i)||(s="["+i+"]"),c||(t.seen.indexOf(l.value)<0?(pU(r)?c=dU(t,l.value,null):c=dU(t,l.value,r-1),c.indexOf(`
`)>-1&&(o?c=c.split(`
`).map(function(m){return"  "+m}).join(`
`).slice(2):c=`
`+c.split(`
`).map(function(m){return"   "+m}).join(`
`))):c=t.stylize("[Circular]","special")),tx(s)){if(o&&i.match(/^\d+$/))return c;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.slice(1,-1),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+c}function P7t(t,e,r){var n=0,i=t.reduce(function(o,s){return n++,s.indexOf(`
`)>=0&&n++,o+s.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?r[0]+(e===""?"":e+`
 `)+" "+t.join(`,
  `)+" "+r[1]:r[0]+e+" "+t.join(", ")+" "+r[1]}Vr.types=oBe();function fBe(t){return Array.isArray(t)}Vr.isArray=fBe;function Yre(t){return typeof t=="boolean"}Vr.isBoolean=Yre;function pU(t){return t===null}Vr.isNull=pU;function B7t(t){return t==null}Vr.isNullOrUndefined=B7t;function lBe(t){return typeof t=="number"}Vr.isNumber=lBe;function mU(t){return typeof t=="string"}Vr.isString=mU;function R7t(t){return typeof t=="symbol"}Vr.isSymbol=R7t;function tx(t){return t===void 0}Vr.isUndefined=tx;function J5(t){return nE(t)&&Zre(t)==="[object RegExp]"}Vr.isRegExp=J5;Vr.types.isRegExp=J5;function nE(t){return typeof t=="object"&&t!==null}Vr.isObject=nE;function hU(t){return nE(t)&&Zre(t)==="[object Date]"}Vr.isDate=hU;Vr.types.isDate=hU;function X5(t){return nE(t)&&(Zre(t)==="[object Error]"||t instanceof Error)}Vr.isError=X5;Vr.types.isNativeError=X5;function lU(t){return typeof t=="function"}Vr.isFunction=lU;function C7t(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}Vr.isPrimitive=C7t;Vr.isBuffer=aBe();function Zre(t){return Object.prototype.toString.call(t)}function Gre(t){return t<10?"0"+t.toString(10):t.toString(10)}var O7t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function N7t(){var t=new Date,e=[Gre(t.getHours()),Gre(t.getMinutes()),Gre(t.getSeconds())].join(":");return[t.getDate(),O7t[t.getMonth()],e].join(" ")}Vr.log=function(){console.log("%s - %s",N7t(),Vr.format.apply(Vr,arguments))};Vr.inherits=Xt();Vr._extend=function(t,e){if(!e||!nE(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t};function dBe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var ex=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;Vr.promisify=function(e){if(typeof e!="function")throw new TypeError('The "original" argument must be of type Function');if(ex&&e[ex]){var r=e[ex];if(typeof r!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(r,ex,{value:r,enumerable:!1,writable:!1,configurable:!0}),r}function r(){for(var n,i,o=new Promise(function(l,m){n=l,i=m}),s=[],c=0;c<arguments.length;c++)s.push(arguments[c]);s.push(function(l,m){l?i(l):n(m)});try{e.apply(this,s)}catch(l){i(l)}return o}return Object.setPrototypeOf(r,Object.getPrototypeOf(e)),ex&&Object.defineProperty(r,ex,{value:r,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(r,cBe(e))};Vr.promisify.custom=ex;function D7t(t,e){if(!t){var r=new Error("Promise was rejected with a falsy value");r.reason=t,t=r}return e(t)}function U7t(t){if(typeof t!="function")throw new TypeError('The "original" argument must be of type Function');function e(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var i=r.pop();if(typeof i!="function")throw new TypeError("The last argument must be of type Function");var o=this,s=function(){return i.apply(o,arguments)};t.apply(this,r).then(function(c){process.nextTick(s.bind(null,null,c))},function(c){process.nextTick(D7t.bind(null,c,s))})}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Object.defineProperties(e,cBe(t)),e}Vr.callbackify=U7t});var ene=V((Abn,mBe)=>{"use strict";d();h();function oE(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?oE=function(r){return typeof r}:oE=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},oE(t)}function L7t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F7t(t,e){return e&&(oE(e)==="object"||typeof e=="function")?e:V7t(t)}function V7t(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jre(t){return Jre=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Jre(t)}function q7t(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xre(t,e)}function Xre(t,e){return Xre=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Xre(t,e)}var pBe={},sE,Qre;function eT(t,e,r){r||(r=Error);function n(o,s,c){return typeof e=="string"?e:e(o,s,c)}var i=function(o){q7t(s,o);function s(c,l,m){var w;return L7t(this,s),w=F7t(this,Jre(s).call(this,n(c,l,m))),w.code=t,w}return s}(r);pBe[t]=i}function hBe(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function K7t(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function H7t(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function j7t(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}eT("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError);eT("ERR_INVALID_ARG_TYPE",function(t,e,r){sE===void 0&&(sE=tT()),sE(typeof t=="string","'name' must be a string");var n;typeof e=="string"&&K7t(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(H7t(t," argument"))i="The ".concat(t," ").concat(n," ").concat(hBe(e,"type"));else{var o=j7t(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(o," ").concat(n," ").concat(hBe(e,"type"))}return i+=". Received type ".concat(oE(r)),i},TypeError);eT("ERR_INVALID_ARG_VALUE",function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";Qre===void 0&&(Qre=iE());var n=Qre.inspect(e);return n.length>128&&(n="".concat(n.slice(0,128),"...")),"The argument '".concat(t,"' ").concat(r,". Received ").concat(n)},TypeError,RangeError);eT("ERR_INVALID_RETURN_VALUE",function(t,e,r){var n;return r&&r.constructor&&r.constructor.name?n="instance of ".concat(r.constructor.name):n="type ".concat(oE(r)),"Expected ".concat(t,' to be returned from the "').concat(e,'"')+" function but got ".concat(n,".")},TypeError);eT("ERR_MISSING_ARGS",function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];sE===void 0&&(sE=tT()),sE(e.length>0,"At least one arg needs to be specified");var n="The ",i=e.length;switch(e=e.map(function(o){return'"'.concat(o,'"')}),i){case 1:n+="".concat(e[0]," argument");break;case 2:n+="".concat(e[0]," and ").concat(e[1]," arguments");break;default:n+=e.slice(0,i-1).join(", "),n+=", and ".concat(e[i-1]," arguments");break}return"".concat(n," must be specified")},TypeError);mBe.exports.codes=pBe});var xBe=V((Tbn,vBe)=>{"use strict";d();h();function z7t(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){W7t(t,i,r[i])})}return t}function W7t(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function G7t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yBe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function $7t(t,e,r){return e&&yBe(t.prototype,e),r&&yBe(t,r),t}function aE(t,e){return e&&(Zf(e)==="object"||typeof e=="function")?e:tne(t)}function tne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Y7t(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&oT(t,e)}function rne(t){var e=typeof Map=="function"?new Map:void 0;return rne=function(n){if(n===null||!Q7t(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(n))return e.get(n);e.set(n,i)}function i(){return yU(n,arguments,Cg(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),oT(i,n)},rne(t)}function Z7t(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function yU(t,e,r){return Z7t()?yU=Reflect.construct:yU=function(i,o,s){var c=[null];c.push.apply(c,o);var l=Function.bind.apply(i,c),m=new l;return s&&oT(m,s.prototype),m},yU.apply(null,arguments)}function Q7t(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function oT(t,e){return oT=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},oT(t,e)}function Cg(t){return Cg=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Cg(t)}function Zf(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Zf=function(r){return typeof r}:Zf=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Zf(t)}var J7t=iE(),nne=J7t.inspect,X7t=ene(),e9t=X7t.codes.ERR_INVALID_ARG_TYPE;function gBe(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function t9t(t,e){if(e=Math.floor(e),t.length==0||e==0)return"";var r=t.length*e;for(e=Math.floor(Math.log(e)/Math.log(2));e;)t+=t,e--;return t+=t.substring(0,r-t.length),t}var id="",rT="",nT="",Ys="",rx={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},r9t=10;function bBe(t){var e=Object.keys(t),r=Object.create(Object.getPrototypeOf(t));return e.forEach(function(n){r[n]=t[n]}),Object.defineProperty(r,"message",{value:t.message}),r}function iT(t){return nne(t,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function n9t(t,e,r){var n="",i="",o=0,s="",c=!1,l=iT(t),m=l.split(`
`),w=iT(e).split(`
`),b=0,E="";if(r==="strictEqual"&&Zf(t)==="object"&&Zf(e)==="object"&&t!==null&&e!==null&&(r="strictEqualObject"),m.length===1&&w.length===1&&m[0]!==w[0]){var I=m[0].length+w[0].length;if(I<=r9t){if((Zf(t)!=="object"||t===null)&&(Zf(e)!=="object"||e===null)&&(t!==0||e!==0))return"".concat(rx[r],`

`)+"".concat(m[0]," !== ").concat(w[0],`
`)}else if(r!=="strictEqualObject"){var M=process.stderr&&process.stderr.isTTY?process.stderr.columns:80;if(I<M){for(;m[0][b]===w[0][b];)b++;b>2&&(E=`
  `.concat(t9t(" ",b),"^"),b=0)}}}for(var k=m[m.length-1],R=w[w.length-1];k===R&&(b++<2?s=`
  `.concat(k).concat(s):n=k,m.pop(),w.pop(),!(m.length===0||w.length===0));)k=m[m.length-1],R=w[w.length-1];var B=Math.max(m.length,w.length);if(B===0){var U=l.split(`
`);if(U.length>30)for(U[26]="".concat(id,"...").concat(Ys);U.length>27;)U.pop();return"".concat(rx.notIdentical,`

`).concat(U.join(`
`),`
`)}b>3&&(s=`
`.concat(id,"...").concat(Ys).concat(s),c=!0),n!==""&&(s=`
  `.concat(n).concat(s),n="");var P=0,F=rx[r]+`
`.concat(rT,"+ actual").concat(Ys," ").concat(nT,"- expected").concat(Ys),q=" ".concat(id,"...").concat(Ys," Lines skipped");for(b=0;b<B;b++){var K=b-o;if(m.length<b+1)K>1&&b>2&&(K>4?(i+=`
`.concat(id,"...").concat(Ys),c=!0):K>3&&(i+=`
  `.concat(w[b-2]),P++),i+=`
  `.concat(w[b-1]),P++),o=b,n+=`
`.concat(nT,"-").concat(Ys," ").concat(w[b]),P++;else if(w.length<b+1)K>1&&b>2&&(K>4?(i+=`
`.concat(id,"...").concat(Ys),c=!0):K>3&&(i+=`
  `.concat(m[b-2]),P++),i+=`
  `.concat(m[b-1]),P++),o=b,i+=`
`.concat(rT,"+").concat(Ys," ").concat(m[b]),P++;else{var re=w[b],Q=m[b],ie=Q!==re&&(!gBe(Q,",")||Q.slice(0,-1)!==re);ie&&gBe(re,",")&&re.slice(0,-1)===Q&&(ie=!1,Q+=","),ie?(K>1&&b>2&&(K>4?(i+=`
`.concat(id,"...").concat(Ys),c=!0):K>3&&(i+=`
  `.concat(m[b-2]),P++),i+=`
  `.concat(m[b-1]),P++),o=b,i+=`
`.concat(rT,"+").concat(Ys," ").concat(Q),n+=`
`.concat(nT,"-").concat(Ys," ").concat(re),P+=2):(i+=n,n="",(K===1||b===0)&&(i+=`
  `.concat(Q),P++))}if(P>20&&b<B-2)return"".concat(F).concat(q,`
`).concat(i,`
`).concat(id,"...").concat(Ys).concat(n,`
`)+"".concat(id,"...").concat(Ys)}return"".concat(F).concat(c?q:"",`
`).concat(i).concat(n).concat(s).concat(E)}var i9t=function(t){Y7t(e,t);function e(r){var n;if(G7t(this,e),Zf(r)!=="object"||r===null)throw new e9t("options","Object",r);var i=r.message,o=r.operator,s=r.stackStartFn,c=r.actual,l=r.expected,m=Error.stackTraceLimit;if(Error.stackTraceLimit=0,i!=null)n=aE(this,Cg(e).call(this,String(i)));else if(process.stderr&&process.stderr.isTTY&&(process.stderr&&process.stderr.getColorDepth&&process.stderr.getColorDepth()!==1?(id="\x1B[34m",rT="\x1B[32m",Ys="\x1B[39m",nT="\x1B[31m"):(id="",rT="",Ys="",nT="")),Zf(c)==="object"&&c!==null&&Zf(l)==="object"&&l!==null&&"stack"in c&&c instanceof Error&&"stack"in l&&l instanceof Error&&(c=bBe(c),l=bBe(l)),o==="deepStrictEqual"||o==="strictEqual")n=aE(this,Cg(e).call(this,n9t(c,l,o)));else if(o==="notDeepStrictEqual"||o==="notStrictEqual"){var w=rx[o],b=iT(c).split(`
`);if(o==="notStrictEqual"&&Zf(c)==="object"&&c!==null&&(w=rx.notStrictEqualObject),b.length>30)for(b[26]="".concat(id,"...").concat(Ys);b.length>27;)b.pop();b.length===1?n=aE(this,Cg(e).call(this,"".concat(w," ").concat(b[0]))):n=aE(this,Cg(e).call(this,"".concat(w,`

`).concat(b.join(`
`),`
`)))}else{var E=iT(c),I="",M=rx[o];o==="notDeepEqual"||o==="notEqual"?(E="".concat(rx[o],`

`).concat(E),E.length>1024&&(E="".concat(E.slice(0,1021),"..."))):(I="".concat(iT(l)),E.length>512&&(E="".concat(E.slice(0,509),"...")),I.length>512&&(I="".concat(I.slice(0,509),"...")),o==="deepEqual"||o==="equal"?E="".concat(M,`

`).concat(E,`

should equal

`):I=" ".concat(o," ").concat(I)),n=aE(this,Cg(e).call(this,"".concat(E).concat(I)))}return Error.stackTraceLimit=m,n.generatedMessage=!i,Object.defineProperty(tne(n),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),n.code="ERR_ASSERTION",n.actual=c,n.expected=l,n.operator=o,Error.captureStackTrace&&Error.captureStackTrace(tne(n),s),n.stack,n.name="AssertionError",aE(n)}return $7t(e,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:nne.custom,value:function(n,i){return nne(this,z7t({},i,{customInspect:!1,depth:0}))}}]),e}(rne(Error));vBe.exports=i9t});var ABe=V((kbn,SBe)=>{"use strict";d();h();function wBe(t,e){if(t==null)throw new TypeError("Cannot convert first argument to object");for(var r=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(i!=null)for(var o=Object.keys(Object(i)),s=0,c=o.length;s<c;s++){var l=o[s],m=Object.getOwnPropertyDescriptor(i,l);m!==void 0&&m.enumerable&&(r[l]=i[l])}}return r}function o9t(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:wBe})}SBe.exports={assign:wBe,polyfill:o9t}});var ine=V((Rbn,_Be)=>{"use strict";d();h();var EBe=Object.prototype.toString;_Be.exports=function(e){var r=EBe.call(e),n=r==="[object Arguments]";return n||(n=r!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&EBe.call(e.callee)==="[object Function]"),n}});var OBe=V((Nbn,CBe)=>{"use strict";d();h();var RBe;Object.keys||(sT=Object.prototype.hasOwnProperty,one=Object.prototype.toString,TBe=ine(),sne=Object.prototype.propertyIsEnumerable,IBe=!sne.call({toString:null},"toString"),MBe=sne.call(function(){},"prototype"),aT=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],gU=function(t){var e=t.constructor;return e&&e.prototype===t},kBe={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},PBe=function(){if(typeof self>"u")return!1;for(var t in self)try{if(!kBe["$"+t]&&sT.call(self,t)&&self[t]!==null&&typeof self[t]=="object")try{gU(self[t])}catch{return!0}}catch{return!0}return!1}(),BBe=function(t){if(typeof self>"u"||!PBe)return gU(t);try{return gU(t)}catch{return!1}},RBe=function(e){var r=e!==null&&typeof e=="object",n=one.call(e)==="[object Function]",i=TBe(e),o=r&&one.call(e)==="[object String]",s=[];if(!r&&!n&&!i)throw new TypeError("Object.keys called on a non-object");var c=MBe&&n;if(o&&e.length>0&&!sT.call(e,0))for(var l=0;l<e.length;++l)s.push(String(l));if(i&&e.length>0)for(var m=0;m<e.length;++m)s.push(String(m));else for(var w in e)!(c&&w==="prototype")&&sT.call(e,w)&&s.push(String(w));if(IBe)for(var b=BBe(e),E=0;E<aT.length;++E)!(b&&aT[E]==="constructor")&&sT.call(e,aT[E])&&s.push(aT[E]);return s});var sT,one,TBe,sne,IBe,MBe,aT,gU,kBe,PBe,BBe;CBe.exports=RBe});var LBe=V((Lbn,UBe)=>{"use strict";d();h();var s9t=Array.prototype.slice,a9t=ine(),NBe=Object.keys,bU=NBe?function(e){return NBe(e)}:OBe(),DBe=Object.keys;bU.shim=function(){if(Object.keys){var e=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);e||(Object.keys=function(n){return a9t(n)?DBe(s9t.call(n)):DBe(n)})}else Object.keys=bU;return Object.keys||bU};UBe.exports=bU});var cT=V((qbn,KBe)=>{"use strict";d();h();var c9t=LBe(),u9t=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",f9t=Object.prototype.toString,l9t=Array.prototype.concat,FBe=Object.defineProperty,d9t=function(t){return typeof t=="function"&&f9t.call(t)==="[object Function]"},h9t=YD()(),VBe=FBe&&h9t,p9t=function(t,e,r,n){if(e in t){if(n===!0){if(t[e]===r)return}else if(!d9t(n)||!n())return}VBe?FBe(t,e,{configurable:!0,enumerable:!1,value:r,writable:!0}):t[e]=r},qBe=function(t,e){var r=arguments.length>2?arguments[2]:{},n=c9t(e);u9t&&(n=l9t.call(n,Object.getOwnPropertySymbols(e)));for(var i=0;i<n.length;i+=1)p9t(t,n[i],e[n[i]],r[n[i]])};qBe.supportsDescriptors=!!VBe;KBe.exports=qBe});var ane=V((jbn,jBe)=>{"use strict";d();h();var HBe=function(t){return t!==t};jBe.exports=function(e,r){return e===0&&r===0?1/e===1/r:!!(e===r||HBe(e)&&HBe(r))}});var cne=V((Gbn,zBe)=>{"use strict";d();h();var m9t=ane();zBe.exports=function(){return typeof Object.is=="function"?Object.is:m9t}});var GBe=V((Zbn,WBe)=>{"use strict";d();h();var y9t=cne(),g9t=cT();WBe.exports=function(){var e=y9t();return g9t(Object,{is:e},{is:function(){return Object.is!==e}}),e}});var une=V((Xbn,ZBe)=>{"use strict";d();h();var b9t=cT(),v9t=VD(),x9t=ane(),$Be=cne(),w9t=GBe(),YBe=v9t($Be(),Object);b9t(YBe,{getPolyfill:$Be,implementation:x9t,shim:w9t});ZBe.exports=YBe});var fne=V((r1n,QBe)=>{"use strict";d();h();QBe.exports=function(e){return e!==e}});var lne=V((o1n,JBe)=>{"use strict";d();h();var S9t=fne();JBe.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:S9t}});var eRe=V((c1n,XBe)=>{"use strict";d();h();var A9t=cT(),E9t=lne();XBe.exports=function(){var e=E9t();return A9t(Number,{isNaN:e},{isNaN:function(){return Number.isNaN!==e}}),e}});var iRe=V((l1n,nRe)=>{"use strict";d();h();var _9t=VD(),T9t=cT(),I9t=fne(),tRe=lne(),M9t=eRe(),rRe=_9t(tRe(),Number);T9t(rRe,{getPolyfill:tRe,implementation:I9t,shim:M9t});nRe.exports=rRe});var ARe=V((p1n,SRe)=>{"use strict";d();h();function oRe(t,e){return B9t(t)||P9t(t,e)||k9t()}function k9t(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function P9t(t,e){var r=[],n=!0,i=!1,o=void 0;try{for(var s=t[Symbol.iterator](),c;!(n=(c=s.next()).done)&&(r.push(c.value),!(e&&r.length===e));n=!0);}catch(l){i=!0,o=l}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw o}}return r}function B9t(t){if(Array.isArray(t))return t}function Ou(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ou=function(r){return typeof r}:Ou=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ou(t)}var R9t=/a/g.flags!==void 0,_U=function(e){var r=[];return e.forEach(function(n){return r.push(n)}),r},sRe=function(e){var r=[];return e.forEach(function(n,i){return r.push([i,n])}),r},gRe=Object.is?Object.is:une(),AU=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},dne=Number.isNaN?Number.isNaN:iRe();function pne(t){return t.call.bind(t)}var fT=pne(Object.prototype.hasOwnProperty),EU=pne(Object.prototype.propertyIsEnumerable),aRe=pne(Object.prototype.toString),fc=iE().types,C9t=fc.isAnyArrayBuffer,O9t=fc.isArrayBufferView,cRe=fc.isDate,vU=fc.isMap,uRe=fc.isRegExp,xU=fc.isSet,N9t=fc.isNativeError,D9t=fc.isBoxedPrimitive,fRe=fc.isNumberObject,lRe=fc.isStringObject,dRe=fc.isBooleanObject,hRe=fc.isBigIntObject,U9t=fc.isSymbolObject,L9t=fc.isFloat32Array,F9t=fc.isFloat64Array;function V9t(t){if(t.length===0||t.length>10)return!0;for(var e=0;e<t.length;e++){var r=t.charCodeAt(e);if(r<48||r>57)return!0}return t.length===10&&t>=Math.pow(2,32)}function wU(t){return Object.keys(t).filter(V9t).concat(AU(t).filter(Object.prototype.propertyIsEnumerable.bind(t)))}function bRe(t,e){if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0}var SU=void 0,q9t=!0,K9t=!1,hne=0,mne=1,vRe=2,xRe=3;function H9t(t,e){return R9t?t.source===e.source&&t.flags===e.flags:RegExp.prototype.toString.call(t)===RegExp.prototype.toString.call(e)}function j9t(t,e){if(t.byteLength!==e.byteLength)return!1;for(var r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}function z9t(t,e){return t.byteLength!==e.byteLength?!1:bRe(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))===0}function W9t(t,e){return t.byteLength===e.byteLength&&bRe(new Uint8Array(t),new Uint8Array(e))===0}function G9t(t,e){return fRe(t)?fRe(e)&&gRe(Number.prototype.valueOf.call(t),Number.prototype.valueOf.call(e)):lRe(t)?lRe(e)&&String.prototype.valueOf.call(t)===String.prototype.valueOf.call(e):dRe(t)?dRe(e)&&Boolean.prototype.valueOf.call(t)===Boolean.prototype.valueOf.call(e):hRe(t)?hRe(e)&&BigInt.prototype.valueOf.call(t)===BigInt.prototype.valueOf.call(e):U9t(e)&&Symbol.prototype.valueOf.call(t)===Symbol.prototype.valueOf.call(e)}function Qf(t,e,r,n){if(t===e)return t!==0?!0:r?gRe(t,e):!0;if(r){if(Ou(t)!=="object")return typeof t=="number"&&dne(t)&&dne(e);if(Ou(e)!=="object"||t===null||e===null||Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1}else{if(t===null||Ou(t)!=="object")return e===null||Ou(e)!=="object"?t==e:!1;if(e===null||Ou(e)!=="object")return!1}var i=aRe(t),o=aRe(e);if(i!==o)return!1;if(Array.isArray(t)){if(t.length!==e.length)return!1;var s=wU(t,SU),c=wU(e,SU);return s.length!==c.length?!1:uT(t,e,r,n,mne,s)}if(i==="[object Object]"&&(!vU(t)&&vU(e)||!xU(t)&&xU(e)))return!1;if(cRe(t)){if(!cRe(e)||Date.prototype.getTime.call(t)!==Date.prototype.getTime.call(e))return!1}else if(uRe(t)){if(!uRe(e)||!H9t(t,e))return!1}else if(N9t(t)||t instanceof Error){if(t.message!==e.message||t.name!==e.name)return!1}else if(O9t(t)){if(!r&&(L9t(t)||F9t(t))){if(!j9t(t,e))return!1}else if(!z9t(t,e))return!1;var l=wU(t,SU),m=wU(e,SU);return l.length!==m.length?!1:uT(t,e,r,n,hne,l)}else{if(xU(t))return!xU(e)||t.size!==e.size?!1:uT(t,e,r,n,vRe);if(vU(t))return!vU(e)||t.size!==e.size?!1:uT(t,e,r,n,xRe);if(C9t(t)){if(!W9t(t,e))return!1}else if(D9t(t)&&!G9t(t,e))return!1}return uT(t,e,r,n,hne)}function pRe(t,e){return e.filter(function(r){return EU(t,r)})}function uT(t,e,r,n,i,o){if(arguments.length===5){o=Object.keys(t);var s=Object.keys(e);if(o.length!==s.length)return!1}for(var c=0;c<o.length;c++)if(!fT(e,o[c]))return!1;if(r&&arguments.length===5){var l=AU(t);if(l.length!==0){var m=0;for(c=0;c<l.length;c++){var w=l[c];if(EU(t,w)){if(!EU(e,w))return!1;o.push(w),m++}else if(EU(e,w))return!1}var b=AU(e);if(l.length!==b.length&&pRe(e,b).length!==m)return!1}else{var E=AU(e);if(E.length!==0&&pRe(e,E).length!==0)return!1}}if(o.length===0&&(i===hne||i===mne&&t.length===0||t.size===0))return!0;if(n===void 0)n={val1:new Map,val2:new Map,position:0};else{var I=n.val1.get(t);if(I!==void 0){var M=n.val2.get(e);if(M!==void 0)return I===M}n.position++}n.val1.set(t,n.position),n.val2.set(e,n.position);var k=J9t(t,e,r,o,n,i);return n.val1.delete(t),n.val2.delete(e),k}function mRe(t,e,r,n){for(var i=_U(t),o=0;o<i.length;o++){var s=i[o];if(Qf(e,s,r,n))return t.delete(s),!0}return!1}function wRe(t){switch(Ou(t)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":t=+t;case"number":if(dne(t))return!1}return!0}function $9t(t,e,r){var n=wRe(r);return n??(e.has(n)&&!t.has(n))}function Y9t(t,e,r,n,i){var o=wRe(r);if(o!=null)return o;var s=e.get(o);return s===void 0&&!e.has(o)||!Qf(n,s,!1,i)?!1:!t.has(o)&&Qf(n,s,!1,i)}function Z9t(t,e,r,n){for(var i=null,o=_U(t),s=0;s<o.length;s++){var c=o[s];if(Ou(c)==="object"&&c!==null)i===null&&(i=new Set),i.add(c);else if(!e.has(c)){if(r||!$9t(t,e,c))return!1;i===null&&(i=new Set),i.add(c)}}if(i!==null){for(var l=_U(e),m=0;m<l.length;m++){var w=l[m];if(Ou(w)==="object"&&w!==null){if(!mRe(i,w,r,n))return!1}else if(!r&&!t.has(w)&&!mRe(i,w,r,n))return!1}return i.size===0}return!0}function yRe(t,e,r,n,i,o){for(var s=_U(t),c=0;c<s.length;c++){var l=s[c];if(Qf(r,l,i,o)&&Qf(n,e.get(l),i,o))return t.delete(l),!0}return!1}function Q9t(t,e,r,n){for(var i=null,o=sRe(t),s=0;s<o.length;s++){var c=oRe(o[s],2),l=c[0],m=c[1];if(Ou(l)==="object"&&l!==null)i===null&&(i=new Set),i.add(l);else{var w=e.get(l);if(w===void 0&&!e.has(l)||!Qf(m,w,r,n)){if(r||!Y9t(t,e,l,m,n))return!1;i===null&&(i=new Set),i.add(l)}}}if(i!==null){for(var b=sRe(e),E=0;E<b.length;E++){var I=oRe(b[E],2),l=I[0],M=I[1];if(Ou(l)==="object"&&l!==null){if(!yRe(i,t,l,M,r,n))return!1}else if(!r&&(!t.has(l)||!Qf(t.get(l),M,!1,n))&&!yRe(i,t,l,M,!1,n))return!1}return i.size===0}return!0}function J9t(t,e,r,n,i,o){var s=0;if(o===vRe){if(!Z9t(t,e,r,i))return!1}else if(o===xRe){if(!Q9t(t,e,r,i))return!1}else if(o===mne)for(;s<t.length;s++)if(fT(t,s)){if(!fT(e,s)||!Qf(t[s],e[s],r,i))return!1}else{if(fT(e,s))return!1;for(var c=Object.keys(t);s<c.length;s++){var l=c[s];if(!fT(e,l)||!Qf(t[l],e[l],r,i))return!1}return c.length===Object.keys(e).length}for(s=0;s<n.length;s++){var m=n[s];if(!Qf(t[m],e[m],r,i))return!1}return!0}function X9t(t,e){return Qf(t,e,K9t)}function ePt(t,e){return Qf(t,e,q9t)}SRe.exports={isDeepEqual:X9t,isDeepStrictEqual:ePt}});var tT=V((g1n,FRe)=>{"use strict";d();h();function Og(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Og=function(r){return typeof r}:Og=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Og(t)}function tPt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var rPt=ene(),dT=rPt.codes,ERe=dT.ERR_AMBIGUOUS_ARGUMENT,lT=dT.ERR_INVALID_ARG_TYPE,nPt=dT.ERR_INVALID_ARG_VALUE,iPt=dT.ERR_INVALID_RETURN_VALUE,Dg=dT.ERR_MISSING_ARGS,nx=xBe(),oPt=iE(),sPt=oPt.inspect,MRe=iE().types,aPt=MRe.isPromise,yne=MRe.isRegExp,cPt=Object.assign?Object.assign:ABe().assign,kRe=Object.is?Object.is:une(),Ng,TU;function hT(){var t=ARe();Ng=t.isDeepEqual,TU=t.isDeepStrictEqual}var _Re=!1,Bi=FRe.exports=gne,IU={};function od(t){throw t.message instanceof Error?t.message:new nx(t)}function PRe(t,e,r,n,i){var o=arguments.length,s;if(o===0)s="Failed";else if(o===1)r=t,t=void 0;else{if(_Re===!1){_Re=!0;var c=process.emitWarning?process.emitWarning:console.warn.bind(console);c("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}o===2&&(n="!=")}if(r instanceof Error)throw r;var l={actual:t,expected:e,operator:n===void 0?"fail":n,stackStartFn:i||PRe};r!==void 0&&(l.message=r);var m=new nx(l);throw s&&(m.message=s,m.generatedMessage=!0),m}Bi.fail=PRe;Bi.AssertionError=nx;function BRe(t,e,r,n){if(!r){var i=!1;if(e===0)i=!0,n="No value argument passed to `assert.ok()`";else if(n instanceof Error)throw n;var o=new nx({actual:r,expected:!0,message:n,operator:"==",stackStartFn:t});throw o.generatedMessage=i,o}}function gne(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];BRe.apply(void 0,[gne,e.length].concat(e))}Bi.ok=gne;Bi.equal=function t(e,r,n){if(arguments.length<2)throw new Dg("actual","expected");e!=r&&od({actual:e,expected:r,message:n,operator:"==",stackStartFn:t})};Bi.notEqual=function t(e,r,n){if(arguments.length<2)throw new Dg("actual","expected");e==r&&od({actual:e,expected:r,message:n,operator:"!=",stackStartFn:t})};Bi.deepEqual=function t(e,r,n){if(arguments.length<2)throw new Dg("actual","expected");Ng===void 0&&hT(),Ng(e,r)||od({actual:e,expected:r,message:n,operator:"deepEqual",stackStartFn:t})};Bi.notDeepEqual=function t(e,r,n){if(arguments.length<2)throw new Dg("actual","expected");Ng===void 0&&hT(),Ng(e,r)&&od({actual:e,expected:r,message:n,operator:"notDeepEqual",stackStartFn:t})};Bi.deepStrictEqual=function t(e,r,n){if(arguments.length<2)throw new Dg("actual","expected");Ng===void 0&&hT(),TU(e,r)||od({actual:e,expected:r,message:n,operator:"deepStrictEqual",stackStartFn:t})};Bi.notDeepStrictEqual=RRe;function RRe(t,e,r){if(arguments.length<2)throw new Dg("actual","expected");Ng===void 0&&hT(),TU(t,e)&&od({actual:t,expected:e,message:r,operator:"notDeepStrictEqual",stackStartFn:RRe})}Bi.strictEqual=function t(e,r,n){if(arguments.length<2)throw new Dg("actual","expected");kRe(e,r)||od({actual:e,expected:r,message:n,operator:"strictEqual",stackStartFn:t})};Bi.notStrictEqual=function t(e,r,n){if(arguments.length<2)throw new Dg("actual","expected");kRe(e,r)&&od({actual:e,expected:r,message:n,operator:"notStrictEqual",stackStartFn:t})};var TRe=function t(e,r,n){var i=this;tPt(this,t),r.forEach(function(o){o in e&&(n!==void 0&&typeof n[o]=="string"&&yne(e[o])&&e[o].test(n[o])?i[o]=n[o]:i[o]=e[o])})};function uPt(t,e,r,n,i,o){if(!(r in t)||!TU(t[r],e[r])){if(!n){var s=new TRe(t,i),c=new TRe(e,i,t),l=new nx({actual:s,expected:c,operator:"deepStrictEqual",stackStartFn:o});throw l.actual=t,l.expected=e,l.operator=o.name,l}od({actual:t,expected:e,message:n,operator:o.name,stackStartFn:o})}}function CRe(t,e,r,n){if(typeof e!="function"){if(yne(e))return e.test(t);if(arguments.length===2)throw new lT("expected",["Function","RegExp"],e);if(Og(t)!=="object"||t===null){var i=new nx({actual:t,expected:e,message:r,operator:"deepStrictEqual",stackStartFn:n});throw i.operator=n.name,i}var o=Object.keys(e);if(e instanceof Error)o.push("name","message");else if(o.length===0)throw new nPt("error",e,"may not be an empty object");return Ng===void 0&&hT(),o.forEach(function(s){typeof t[s]=="string"&&yne(e[s])&&e[s].test(t[s])||uPt(t,e,s,r,o,n)}),!0}return e.prototype!==void 0&&t instanceof e?!0:Error.isPrototypeOf(e)?!1:e.call({},t)===!0}function ORe(t){if(typeof t!="function")throw new lT("fn","Function",t);try{t()}catch(e){return e}return IU}function IRe(t){return aPt(t)||t!==null&&Og(t)==="object"&&typeof t.then=="function"&&typeof t.catch=="function"}function NRe(t){return Promise.resolve().then(function(){var e;if(typeof t=="function"){if(e=t(),!IRe(e))throw new iPt("instance of Promise","promiseFn",e)}else if(IRe(t))e=t;else throw new lT("promiseFn",["Function","Promise"],t);return Promise.resolve().then(function(){return e}).then(function(){return IU}).catch(function(r){return r})})}function DRe(t,e,r,n){if(typeof r=="string"){if(arguments.length===4)throw new lT("error",["Object","Error","Function","RegExp"],r);if(Og(e)==="object"&&e!==null){if(e.message===r)throw new ERe("error/message",'The error message "'.concat(e.message,'" is identical to the message.'))}else if(e===r)throw new ERe("error/message",'The error "'.concat(e,'" is identical to the message.'));n=r,r=void 0}else if(r!=null&&Og(r)!=="object"&&typeof r!="function")throw new lT("error",["Object","Error","Function","RegExp"],r);if(e===IU){var i="";r&&r.name&&(i+=" (".concat(r.name,")")),i+=n?": ".concat(n):".";var o=t.name==="rejects"?"rejection":"exception";od({actual:void 0,expected:r,operator:t.name,message:"Missing expected ".concat(o).concat(i),stackStartFn:t})}if(r&&!CRe(e,r,n,t))throw e}function URe(t,e,r,n){if(e!==IU){if(typeof r=="string"&&(n=r,r=void 0),!r||CRe(e,r)){var i=n?": ".concat(n):".",o=t.name==="doesNotReject"?"rejection":"exception";od({actual:e,expected:r,operator:t.name,message:"Got unwanted ".concat(o).concat(i,`
`)+'Actual message: "'.concat(e&&e.message,'"'),stackStartFn:t})}throw e}}Bi.throws=function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];DRe.apply(void 0,[t,ORe(e)].concat(n))};Bi.rejects=function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return NRe(e).then(function(o){return DRe.apply(void 0,[t,o].concat(n))})};Bi.doesNotThrow=function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];URe.apply(void 0,[t,ORe(e)].concat(n))};Bi.doesNotReject=function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return NRe(e).then(function(o){return URe.apply(void 0,[t,o].concat(n))})};Bi.ifError=function t(e){if(e!=null){var r="ifError got unwanted exception: ";Og(e)==="object"&&typeof e.message=="string"?e.message.length===0&&e.constructor?r+=e.constructor.name:r+=e.message:r+=sPt(e);var n=new nx({actual:e,expected:null,operator:"ifError",message:r,stackStartFn:t}),i=e.stack;if(typeof i=="string"){var o=i.split(`
`);o.shift();for(var s=n.stack.split(`
`),c=0;c<o.length;c++){var l=s.indexOf(o[c]);if(l!==-1){s=s.slice(0,l);break}}n.stack="".concat(s.join(`
`),`
`).concat(o.join(`
`))}throw n}};function LRe(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];BRe.apply(void 0,[LRe,e.length].concat(e))}Bi.strict=cPt(LRe,Bi,{equal:Bi.strictEqual,deepEqual:Bi.deepStrictEqual,notEqual:Bi.notStrictEqual,notDeepEqual:Bi.notDeepStrictEqual});Bi.strict.strict=Bi.strict});var uE=V(Gr=>{"use strict";d();h();Object.defineProperty(Gr,"__esModule",{value:!0});Gr.baToJSON=Gr.addHexPrefix=Gr.toUnsigned=Gr.fromSigned=Gr.bufferToHex=Gr.bufferToInt=Gr.toBuffer=Gr.stripZeros=Gr.unpad=Gr.setLengthRight=Gr.setLength=Gr.setLengthLeft=Gr.zeros=void 0;var cE=zv(),bne=Hv();Gr.zeros=function(t){return Buffer.allocUnsafe(t).fill(0)};Gr.setLengthLeft=function(t,e,r){r===void 0&&(r=!1);var n=Gr.zeros(e);return t=Gr.toBuffer(t),r?t.length<e?(t.copy(n),n):t.slice(0,e):t.length<e?(t.copy(n,e-t.length),n):t.slice(-e)};Gr.setLength=Gr.setLengthLeft;Gr.setLengthRight=function(t,e){return Gr.setLength(t,e,!0)};Gr.unpad=function(t){t=cE.stripHexPrefix(t);for(var e=t[0];t.length>0&&e.toString()==="0";)t=t.slice(1),e=t[0];return t};Gr.stripZeros=Gr.unpad;Gr.toBuffer=function(t){if(!Buffer.isBuffer(t))if(Array.isArray(t))t=Buffer.from(t);else if(typeof t=="string")if(cE.isHexString(t))t=Buffer.from(cE.padToEven(cE.stripHexPrefix(t)),"hex");else throw new Error("Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: "+t);else if(typeof t=="number")t=cE.intToBuffer(t);else if(t==null)t=Buffer.allocUnsafe(0);else if(bne.isBN(t))t=t.toArrayLike(Buffer);else if(t.toArray)t=Buffer.from(t.toArray());else throw new Error("invalid type");return t};Gr.bufferToInt=function(t){return new bne(Gr.toBuffer(t)).toNumber()};Gr.bufferToHex=function(t){return t=Gr.toBuffer(t),"0x"+t.toString("hex")};Gr.fromSigned=function(t){return new bne(t).fromTwos(256)};Gr.toUnsigned=function(t){return Buffer.from(t.toTwos(256).toArray())};Gr.addHexPrefix=function(t){return typeof t!="string"||cE.isHexPrefixed(t)?t:"0x"+t};Gr.baToJSON=function(t){if(Buffer.isBuffer(t))return"0x"+t.toString("hex");if(t instanceof Array){for(var e=[],r=0;r<t.length;r++)e.push(Gr.baToJSON(t[r]));return e}}});var VRe=V(vne=>{"use strict";d();h();Object.defineProperty(vne,"__esModule",{value:!0});function fPt(t){return function(e){var r=t();return r.update(e),Buffer.from(r.digest())}}vne.createHashFunction=fPt});var HRe=V((T1n,KRe)=>{d();h();var{Transform:lPt}=zI();KRe.exports=t=>class qRe extends lPt{constructor(r,n,i,o,s){super(s),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._hashBitLength=o,this._options=s,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let o=null;try{this.update(r,n)}catch(s){o=s}i(o)}_flush(r){let n=null;try{this.push(this.digest())}catch(i){n=i}r(n)}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}digest(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let n=this._state.squeeze(this._hashBitLength/8);return r!==void 0&&(n=n.toString(r)),this._resetState(),n}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){let r=new qRe(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}}});var WRe=V((k1n,zRe)=>{d();h();var{Transform:dPt}=zI();zRe.exports=t=>class jRe extends dPt{constructor(r,n,i,o){super(o),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._options=o,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let o=null;try{this.update(r,n)}catch(s){o=s}i(o)}_flush(){}_read(r){this.push(this.squeeze(r))}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}squeeze(r,n){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let i=this._state.squeeze(r);return n!==void 0&&(i=i.toString(n)),i}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){let r=new jRe(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}}});var $Re=V((R1n,GRe)=>{d();h();var hPt=HRe(),pPt=WRe();GRe.exports=function(t){let e=hPt(t),r=pPt(t);return function(n,i){switch(typeof n=="string"?n.toLowerCase():n){case"keccak224":return new e(1152,448,null,224,i);case"keccak256":return new e(1088,512,null,256,i);case"keccak384":return new e(832,768,null,384,i);case"keccak512":return new e(576,1024,null,512,i);case"sha3-224":return new e(1152,448,6,224,i);case"sha3-256":return new e(1088,512,6,256,i);case"sha3-384":return new e(832,768,6,384,i);case"sha3-512":return new e(576,1024,6,512,i);case"shake128":return new r(1344,256,31,i);case"shake256":return new r(1088,512,31,i);default:throw new Error("Invald algorithm: "+n)}}}});var QRe=V(ZRe=>{d();h();var YRe=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];ZRe.p1600=function(t){for(let e=0;e<24;++e){let r=t[0]^t[10]^t[20]^t[30]^t[40],n=t[1]^t[11]^t[21]^t[31]^t[41],i=t[2]^t[12]^t[22]^t[32]^t[42],o=t[3]^t[13]^t[23]^t[33]^t[43],s=t[4]^t[14]^t[24]^t[34]^t[44],c=t[5]^t[15]^t[25]^t[35]^t[45],l=t[6]^t[16]^t[26]^t[36]^t[46],m=t[7]^t[17]^t[27]^t[37]^t[47],w=t[8]^t[18]^t[28]^t[38]^t[48],b=t[9]^t[19]^t[29]^t[39]^t[49],E=w^(i<<1|o>>>31),I=b^(o<<1|i>>>31),M=t[0]^E,k=t[1]^I,R=t[10]^E,B=t[11]^I,U=t[20]^E,P=t[21]^I,F=t[30]^E,q=t[31]^I,K=t[40]^E,re=t[41]^I;E=r^(s<<1|c>>>31),I=n^(c<<1|s>>>31);let Q=t[2]^E,ie=t[3]^I,S=t[12]^E,a=t[13]^I,f=t[22]^E,p=t[23]^I,y=t[32]^E,g=t[33]^I,A=t[42]^E,_=t[43]^I;E=i^(l<<1|m>>>31),I=o^(m<<1|l>>>31);let v=t[4]^E,u=t[5]^I,x=t[14]^E,L=t[15]^I,D=t[24]^E,C=t[25]^I,z=t[34]^E,ee=t[35]^I,ne=t[44]^E,Ke=t[45]^I;E=s^(w<<1|b>>>31),I=c^(b<<1|w>>>31);let ae=t[6]^E,W=t[7]^I,he=t[16]^E,te=t[17]^I,ce=t[26]^E,Ze=t[27]^I,se=t[36]^E,le=t[37]^I,Bt=t[46]^E,ge=t[47]^I;E=l^(r<<1|n>>>31),I=m^(n<<1|r>>>31);let ye=t[8]^E,$r=t[9]^I,Ie=t[18]^E,we=t[19]^I,gn=t[28]^E,ve=t[29]^I,Be=t[38]^E,In=t[39]^I,Re=t[48]^E,Ce=t[49]^I,Rn=M,De=k,Me=B<<4|R>>>28,Mn=R<<4|B>>>28,_e=U<<3|P>>>29,Se=P<<3|U>>>29,en=q<<9|F>>>23,Ae=F<<9|q>>>23,Te=K<<18|re>>>14,un=re<<18|K>>>14,Ee=Q<<1|ie>>>31,ke=ie<<1|Q>>>31,Cn=a<<12|S>>>20,Ue=S<<12|a>>>20,Le=f<<10|p>>>22,Or=p<<10|f>>>22,be=g<<13|y>>>19,xe=y<<13|g>>>19,kn=A<<2|_>>>30,Pe=_<<2|A>>>30,Oe=u<<30|v>>>2,Ln=v<<30|u>>>2,me=x<<6|L>>>26,Ne=L<<6|x>>>26,Y=C<<11|D>>>21,j=D<<11|C>>>21,H=z<<15|ee>>>17,O=ee<<15|z>>>17,Z=Ke<<29|ne>>>3,X=ne<<29|Ke>>>3,pe=ae<<28|W>>>4,oe=W<<28|ae>>>4,ue=te<<23|he>>>9,at=he<<23|te>>>9,Je=ce<<25|Ze>>>7,At=Ze<<25|ce>>>7,tt=se<<21|le>>>11,dt=le<<21|se>>>11,ht=ge<<24|Bt>>>8,bt=Bt<<24|ge>>>8,gt=ye<<27|$r>>>5,pt=$r<<27|ye>>>5,yt=Ie<<20|we>>>12,mt=we<<20|Ie>>>12,it=ve<<7|gn>>>25,ut=gn<<7|ve>>>25,Xe=Be<<8|In>>>24,ot=In<<8|Be>>>24,st=Re<<14|Ce>>>18,Qe=Ce<<14|Re>>>18;t[0]=Rn^~Cn&Y,t[1]=De^~Ue&j,t[10]=pe^~yt&_e,t[11]=oe^~mt&Se,t[20]=Ee^~me&Je,t[21]=ke^~Ne&At,t[30]=gt^~Me&Le,t[31]=pt^~Mn&Or,t[40]=Oe^~ue&it,t[41]=Ln^~at&ut,t[2]=Cn^~Y&tt,t[3]=Ue^~j&dt,t[12]=yt^~_e&be,t[13]=mt^~Se&xe,t[22]=me^~Je&Xe,t[23]=Ne^~At&ot,t[32]=Me^~Le&H,t[33]=Mn^~Or&O,t[42]=ue^~it&en,t[43]=at^~ut&Ae,t[4]=Y^~tt&st,t[5]=j^~dt&Qe,t[14]=_e^~be&Z,t[15]=Se^~xe&X,t[24]=Je^~Xe&Te,t[25]=At^~ot&un,t[34]=Le^~H&ht,t[35]=Or^~O&bt,t[44]=it^~en&kn,t[45]=ut^~Ae&Pe,t[6]=tt^~st&Rn,t[7]=dt^~Qe&De,t[16]=be^~Z&pe,t[17]=xe^~X&oe,t[26]=Xe^~Te&Ee,t[27]=ot^~un&ke,t[36]=H^~ht&gt,t[37]=O^~bt&pt,t[46]=en^~kn&Oe,t[47]=Ae^~Pe&Ln,t[8]=st^~Rn&Cn,t[9]=Qe^~De&Ue,t[18]=Z^~pe&yt,t[19]=X^~oe&mt,t[28]=Te^~Ee&me,t[29]=un^~ke&Ne,t[38]=ht^~gt&Me,t[39]=bt^~pt&Mn,t[48]=kn^~Oe&ue,t[49]=Pe^~Ln&at,t[0]^=YRe[e*2],t[1]^=YRe[e*2+1]}}});var XRe=V((L1n,JRe)=>{d();h();var MU=QRe();function fE(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}fE.prototype.initialize=function(t,e){for(let r=0;r<50;++r)this.state[r]=0;this.blockSize=t/8,this.count=0,this.squeezing=!1};fE.prototype.absorb=function(t){for(let e=0;e<t.length;++e)this.state[~~(this.count/4)]^=t[e]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(MU.p1600(this.state),this.count=0)};fE.prototype.absorbLastFewBits=function(t){this.state[~~(this.count/4)]^=t<<8*(this.count%4),t&128&&this.count===this.blockSize-1&&MU.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),MU.p1600(this.state),this.count=0,this.squeezing=!0};fE.prototype.squeeze=function(t){this.squeezing||this.absorbLastFewBits(1);let e=Buffer.alloc(t);for(let r=0;r<t;++r)e[r]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(MU.p1600(this.state),this.count=0);return e};fE.prototype.copy=function(t){for(let e=0;e<50;++e)t.state[e]=this.state[e];t.blockSize=this.blockSize,t.count=this.count,t.squeezing=this.squeezing};JRe.exports=fE});var tCe=V((q1n,eCe)=>{d();h();eCe.exports=$Re()(XRe())});var rCe=V(lE=>{"use strict";d();h();Object.defineProperty(lE,"__esModule",{value:!0});var kU=VRe(),PU=tCe();lE.keccak224=kU.createHashFunction(function(){return PU("keccak224")});lE.keccak256=kU.createHashFunction(function(){return PU("keccak256")});lE.keccak384=kU.createHashFunction(function(){return PU("keccak384")});lE.keccak512=kU.createHashFunction(function(){return PU("keccak512")})});var CU=V(zc=>{"use strict";d();h();Object.defineProperty(zc,"__esModule",{value:!0});zc.rlphash=zc.ripemd160=zc.sha256=zc.keccak256=zc.keccak=void 0;var RU=rCe(),mPt=RU.keccak224,yPt=RU.keccak384,gPt=RU.keccak256,bPt=RU.keccak512,nCe=tm(),vPt=zv(),xPt=DD(),BU=uE();zc.keccak=function(t,e){switch(e===void 0&&(e=256),typeof t=="string"&&!vPt.isHexString(t)?t=Buffer.from(t,"utf8"):t=BU.toBuffer(t),e||(e=256),e){case 224:return mPt(t);case 256:return gPt(t);case 384:return yPt(t);case 512:return bPt(t);default:throw new Error("Invald algorithm: keccak"+e)}};zc.keccak256=function(t){return zc.keccak(t)};zc.sha256=function(t){return t=BU.toBuffer(t),nCe("sha256").update(t).digest()};zc.ripemd160=function(t,e){t=BU.toBuffer(t);var r=nCe("rmd160").update(t).digest();return e===!0?BU.setLength(r,32):r};zc.rlphash=function(t){return zc.keccak(xPt.encode(t))}});var iCe=V(Cr=>{"use strict";d();h();Object.defineProperty(Cr,"__esModule",{value:!0});Cr.importPublic=Cr.privateToPublic=Cr.privateToAddress=Cr.publicToAddress=Cr.pubToAddress=Cr.isValidPublic=Cr.isValidPrivate=Cr.isPrecompiled=Cr.generateAddress2=Cr.generateAddress=Cr.isValidChecksumAddress=Cr.toChecksumAddress=Cr.isZeroAddress=Cr.isValidAddress=Cr.zeroAddress=void 0;var xne=tT(),wPt=zv(),dE=OD(),SPt=Hv(),sd=uE(),hE=CU();Cr.zeroAddress=function(){var t=20,e=sd.zeros(t);return sd.bufferToHex(e)};Cr.isValidAddress=function(t){return/^0x[0-9a-fA-F]{40}$/.test(t)};Cr.isZeroAddress=function(t){var e=Cr.zeroAddress();return e===sd.addHexPrefix(t)};Cr.toChecksumAddress=function(t,e){t=wPt.stripHexPrefix(t).toLowerCase();for(var r=e!==void 0?e.toString()+"0x":"",n=hE.keccak(r+t).toString("hex"),i="0x",o=0;o<t.length;o++)parseInt(n[o],16)>=8?i+=t[o].toUpperCase():i+=t[o];return i};Cr.isValidChecksumAddress=function(t,e){return Cr.isValidAddress(t)&&Cr.toChecksumAddress(t,e)===t};Cr.generateAddress=function(t,e){t=sd.toBuffer(t);var r=new SPt(e);return r.isZero()?hE.rlphash([t,null]).slice(-20):hE.rlphash([t,Buffer.from(r.toArray())]).slice(-20)};Cr.generateAddress2=function(t,e,r){var n=sd.toBuffer(t),i=sd.toBuffer(e),o=sd.toBuffer(r);xne(n.length===20),xne(i.length===32);var s=hE.keccak256(Buffer.concat([Buffer.from("ff","hex"),n,i,hE.keccak256(o)]));return s.slice(-20)};Cr.isPrecompiled=function(t){var e=sd.unpad(t);return e.length===1&&e[0]>=1&&e[0]<=8};Cr.isValidPrivate=function(t){return dE.privateKeyVerify(t)};Cr.isValidPublic=function(t,e){return e===void 0&&(e=!1),t.length===64?dE.publicKeyVerify(Buffer.concat([Buffer.from([4]),t])):e?dE.publicKeyVerify(t):!1};Cr.pubToAddress=function(t,e){return e===void 0&&(e=!1),t=sd.toBuffer(t),e&&t.length!==64&&(t=dE.publicKeyConvert(t,!1).slice(1)),xne(t.length===64),hE.keccak(t).slice(-20)};Cr.publicToAddress=Cr.pubToAddress;Cr.privateToAddress=function(t){return Cr.publicToAddress(Cr.privateToPublic(t))};Cr.privateToPublic=function(t){return t=sd.toBuffer(t),dE.publicKeyCreate(t,!1).slice(1)};Cr.importPublic=function(t){return t=sd.toBuffer(t),t.length!==64&&(t=dE.publicKeyConvert(t,!1).slice(1)),t}});var oCe=V(Wc=>{"use strict";d();h();Object.defineProperty(Wc,"__esModule",{value:!0});Wc.hashPersonalMessage=Wc.isValidSignature=Wc.fromRpcSig=Wc.toRpcSig=Wc.ecrecover=Wc.ecsign=void 0;var wne=OD(),OU=Hv(),ix=uE(),APt=CU();Wc.ecsign=function(t,e,r){var n=wne.sign(t,e),i=n.recovery,o={r:n.signature.slice(0,32),s:n.signature.slice(32,64),v:r?i+(r*2+35):i+27};return o};Wc.ecrecover=function(t,e,r,n,i){var o=Buffer.concat([ix.setLength(r,32),ix.setLength(n,32)],64),s=Sne(e,i);if(!Ane(s))throw new Error("Invalid signature v value");var c=wne.recover(t,o,s);return wne.publicKeyConvert(c,!1).slice(1)};Wc.toRpcSig=function(t,e,r,n){var i=Sne(t,n);if(!Ane(i))throw new Error("Invalid signature v value");return ix.bufferToHex(Buffer.concat([ix.setLengthLeft(e,32),ix.setLengthLeft(r,32),ix.toBuffer(t)]))};Wc.fromRpcSig=function(t){var e=ix.toBuffer(t);if(e.length!==65)throw new Error("Invalid signature length");var r=e[64];return r<27&&(r+=27),{v:r,r:e.slice(0,32),s:e.slice(32,64)}};Wc.isValidSignature=function(t,e,r,n,i){n===void 0&&(n=!0);var o=new OU("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),s=new OU("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);if(e.length!==32||r.length!==32||!Ane(Sne(t,i)))return!1;var c=new OU(e),l=new OU(r);return!(c.isZero()||c.gt(s)||l.isZero()||l.gt(s)||n&&l.cmp(o)===1)};Wc.hashPersonalMessage=function(t){var e=Buffer.from(`Ethereum Signed Message:
`+t.length.toString(),"utf-8");return APt.keccak(Buffer.concat([e,t]))};function Sne(t,e){return e?t-(2*e+35):t-27}function Ane(t){return t===0||t===1}});var cCe=V(DU=>{"use strict";d();h();Object.defineProperty(DU,"__esModule",{value:!0});DU.defineProperties=void 0;var sCe=tT(),EPt=zv(),aCe=DD(),NU=uE();DU.defineProperties=function(t,e,r){if(t.raw=[],t._fields=[],t.toJSON=function(i){if(i===void 0&&(i=!1),i){var o={};return t._fields.forEach(function(s){o[s]="0x"+t[s].toString("hex")}),o}return NU.baToJSON(t.raw)},t.serialize=function(){return aCe.encode(t.raw)},e.forEach(function(i,o){t._fields.push(i.name);function s(){return t.raw[o]}function c(l){l=NU.toBuffer(l),l.toString("hex")==="00"&&!i.allowZero&&(l=Buffer.allocUnsafe(0)),i.allowLess&&i.length?(l=NU.stripZeros(l),sCe(i.length>=l.length,"The field "+i.name+" must not have more "+i.length+" bytes")):!(i.allowZero&&l.length===0)&&i.length&&sCe(i.length===l.length,"The field "+i.name+" must have byte length of "+i.length),t.raw[o]=l}Object.defineProperty(t,i.name,{enumerable:!0,configurable:!0,get:s,set:c}),i.default&&(t[i.name]=i.default),i.alias&&Object.defineProperty(t,i.alias,{enumerable:!1,configurable:!0,set:c,get:s})}),r)if(typeof r=="string"&&(r=Buffer.from(EPt.stripHexPrefix(r),"hex")),Buffer.isBuffer(r)&&(r=aCe.decode(r)),Array.isArray(r)){if(r.length>t._fields.length)throw new Error("wrong number of fields in data");r.forEach(function(i,o){t[t._fields[o]]=NU.toBuffer(i)})}else if(typeof r=="object"){var n=Object.keys(r);e.forEach(function(i){n.indexOf(i.name)!==-1&&(t[i.name]=r[i.name]),n.indexOf(i.alias)!==-1&&(t[i.alias]=r[i.alias])})}else throw new Error("invalid data")}});var pT=V(zo=>{"use strict";d();h();var _Pt=zo&&zo.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),pE=zo&&zo.__exportStar||function(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&_Pt(e,t,r)};Object.defineProperty(zo,"__esModule",{value:!0});zo.secp256k1=zo.rlp=zo.BN=void 0;var TPt=OD();zo.secp256k1=TPt;var IPt=zv(),MPt=Hv();zo.BN=MPt;var kPt=DD();zo.rlp=kPt;Object.assign(zo,IPt);pE(V7e(),zo);pE(iCe(),zo);pE(CU(),zo);pE(oCe(),zo);pE(uE(),zo);pE(cCe(),zo)});var mT=V(Gc=>{"use strict";d();h();Object.defineProperty(Gc,"__esModule",{value:!0});Gc.normalize=Gc.recoverPublicKey=Gc.concatSig=Gc.legacyToBuffer=Gc.isNullish=Gc.padWithZeroes=void 0;var Jf=pT(),Ene=zv();function _ne(t,e){if(t!==""&&!/^[a-f0-9]+$/iu.test(t))throw new Error(`Expected an unprefixed hex string. Received: ${t}`);if(e<0)throw new Error(`Expected a non-negative integer target length. Received: ${e}`);return String.prototype.padStart.call(t,e,"0")}Gc.padWithZeroes=_ne;function PPt(t){return t==null}Gc.isNullish=PPt;function BPt(t){return typeof t=="string"&&!Ene.isHexString(t)?Buffer.from(t):Jf.toBuffer(t)}Gc.legacyToBuffer=BPt;function RPt(t,e,r){let n=Jf.fromSigned(e),i=Jf.fromSigned(r),o=Jf.bufferToInt(t),s=_ne(Jf.toUnsigned(n).toString("hex"),64),c=_ne(Jf.toUnsigned(i).toString("hex"),64),l=Ene.stripHexPrefix(Ene.intToHex(o));return Jf.addHexPrefix(s.concat(c,l))}Gc.concatSig=RPt;function CPt(t,e){let r=Jf.fromRpcSig(e);return Jf.ecrecover(t,r.v,r.r,r.s)}Gc.recoverPublicKey=CPt;function OPt(t){if(t){if(typeof t=="number"){let e=Jf.toBuffer(t);t=Jf.bufferToHex(e)}if(typeof t!="string"){let e="eth-sig-util.normalize() requires hex string or integer input.";throw e+=` received ${typeof t}: ${t}`,new Error(e)}return Jf.addHexPrefix(t.toLowerCase())}}Gc.normalize=OPt});var fCe=V(Ug=>{"use strict";d();h();Object.defineProperty(Ug,"__esModule",{value:!0});Ug.extractPublicKey=Ug.recoverPersonalSignature=Ug.personalSign=void 0;var mE=pT(),Dh=mT();function NPt({privateKey:t,data:e}){if(Dh.isNullish(e))throw new Error("Missing data parameter");if(Dh.isNullish(t))throw new Error("Missing privateKey parameter");let r=Dh.legacyToBuffer(e),n=mE.hashPersonalMessage(r),i=mE.ecsign(n,t);return Dh.concatSig(mE.toBuffer(i.v),i.r,i.s)}Ug.personalSign=NPt;function DPt({data:t,signature:e}){if(Dh.isNullish(t))throw new Error("Missing data parameter");if(Dh.isNullish(e))throw new Error("Missing signature parameter");let r=uCe(t,e),n=mE.publicToAddress(r);return mE.bufferToHex(n)}Ug.recoverPersonalSignature=DPt;function UPt({data:t,signature:e}){if(Dh.isNullish(t))throw new Error("Missing data parameter");if(Dh.isNullish(e))throw new Error("Missing signature parameter");return`0x${uCe(t,e).toString("hex")}`}Ug.extractPublicKey=UPt;function uCe(t,e){let r=mE.hashPersonalMessage(Dh.legacyToBuffer(t));return Dh.recoverPublicKey(r,e)}});var dCe=V((lCe,Tne)=>{d();h();(function(t,e){"use strict";function r(S,a){if(!S)throw new Error(a||"Assertion failed")}function n(S,a){S.super_=a;var f=function(){};f.prototype=a.prototype,S.prototype=new f,S.prototype.constructor=S}function i(S,a,f){if(i.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((a==="le"||a==="be")&&(f=a,a=10),this._init(S||0,a||10,f||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof self<"u"&&typeof self.Buffer<"u"?o=self.Buffer:o=Fp().Buffer}catch{}i.isBN=function(a){return a instanceof i?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===i.wordSize&&Array.isArray(a.words)},i.max=function(a,f){return a.cmp(f)>0?a:f},i.min=function(a,f){return a.cmp(f)<0?a:f},i.prototype._init=function(a,f,p){if(typeof a=="number")return this._initNumber(a,f,p);if(typeof a=="object")return this._initArray(a,f,p);f==="hex"&&(f=16),r(f===(f|0)&&f>=2&&f<=36),a=a.toString().replace(/\s+/g,"");var y=0;a[0]==="-"&&(y++,this.negative=1),y<a.length&&(f===16?this._parseHex(a,y,p):(this._parseBase(a,f,y),p==="le"&&this._initArray(this.toArray(),f,p)))},i.prototype._initNumber=function(a,f,p){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(r(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),f,p)},i.prototype._initArray=function(a,f,p){if(r(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var g,A,_=0;if(p==="be")for(y=a.length-1,g=0;y>=0;y-=3)A=a[y]|a[y-1]<<8|a[y-2]<<16,this.words[g]|=A<<_&67108863,this.words[g+1]=A>>>26-_&67108863,_+=24,_>=26&&(_-=26,g++);else if(p==="le")for(y=0,g=0;y<a.length;y+=3)A=a[y]|a[y+1]<<8|a[y+2]<<16,this.words[g]|=A<<_&67108863,this.words[g+1]=A>>>26-_&67108863,_+=24,_>=26&&(_-=26,g++);return this.strip()};function s(S,a){var f=S.charCodeAt(a);return f>=65&&f<=70?f-55:f>=97&&f<=102?f-87:f-48&15}function c(S,a,f){var p=s(S,f);return f-1>=a&&(p|=s(S,f-1)<<4),p}i.prototype._parseHex=function(a,f,p){this.length=Math.ceil((a.length-f)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var g=0,A=0,_;if(p==="be")for(y=a.length-1;y>=f;y-=2)_=c(a,f,y)<<g,this.words[A]|=_&67108863,g>=18?(g-=18,A+=1,this.words[A]|=_>>>26):g+=8;else{var v=a.length-f;for(y=v%2===0?f+1:f;y<a.length;y+=2)_=c(a,f,y)<<g,this.words[A]|=_&67108863,g>=18?(g-=18,A+=1,this.words[A]|=_>>>26):g+=8}this.strip()};function l(S,a,f,p){for(var y=0,g=Math.min(S.length,f),A=a;A<g;A++){var _=S.charCodeAt(A)-48;y*=p,_>=49?y+=_-49+10:_>=17?y+=_-17+10:y+=_}return y}i.prototype._parseBase=function(a,f,p){this.words=[0],this.length=1;for(var y=0,g=1;g<=67108863;g*=f)y++;y--,g=g/f|0;for(var A=a.length-p,_=A%y,v=Math.min(A,A-_)+p,u=0,x=p;x<v;x+=y)u=l(a,x,x+y,f),this.imuln(g),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(_!==0){var L=1;for(u=l(a,x,a.length,f),x=0;x<_;x++)L*=f;this.imuln(L),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},i.prototype.copy=function(a){a.words=new Array(this.length);for(var f=0;f<this.length;f++)a.words[f]=this.words[f];a.length=this.length,a.negative=this.negative,a.red=this.red},i.prototype.clone=function(){var a=new i(null);return this.copy(a),a},i.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],w=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(a,f){a=a||10,f=f|0||1;var p;if(a===16||a==="hex"){p="";for(var y=0,g=0,A=0;A<this.length;A++){var _=this.words[A],v=((_<<y|g)&16777215).toString(16);g=_>>>24-y&16777215,g!==0||A!==this.length-1?p=m[6-v.length]+v+p:p=v+p,y+=2,y>=26&&(y-=26,A--)}for(g!==0&&(p=g.toString(16)+p);p.length%f!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(a===(a|0)&&a>=2&&a<=36){var u=w[a],x=b[a];p="";var L=this.clone();for(L.negative=0;!L.isZero();){var D=L.modn(x).toString(a);L=L.idivn(x),L.isZero()?p=D+p:p=m[u-D.length]+D+p}for(this.isZero()&&(p="0"+p);p.length%f!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(a,f){return r(typeof o<"u"),this.toArrayLike(o,a,f)},i.prototype.toArray=function(a,f){return this.toArrayLike(Array,a,f)},i.prototype.toArrayLike=function(a,f,p){var y=this.byteLength(),g=p||Math.max(1,y);r(y<=g,"byte array longer than desired length"),r(g>0,"Requested array length <= 0"),this.strip();var A=f==="le",_=new a(g),v,u,x=this.clone();if(A){for(u=0;!x.isZero();u++)v=x.andln(255),x.iushrn(8),_[u]=v;for(;u<g;u++)_[u]=0}else{for(u=0;u<g-y;u++)_[u]=0;for(u=0;!x.isZero();u++)v=x.andln(255),x.iushrn(8),_[g-u-1]=v}return _},Math.clz32?i.prototype._countBits=function(a){return 32-Math.clz32(a)}:i.prototype._countBits=function(a){var f=a,p=0;return f>=4096&&(p+=13,f>>>=13),f>=64&&(p+=7,f>>>=7),f>=8&&(p+=4,f>>>=4),f>=2&&(p+=2,f>>>=2),p+f},i.prototype._zeroBits=function(a){if(a===0)return 26;var f=a,p=0;return f&8191||(p+=13,f>>>=13),f&127||(p+=7,f>>>=7),f&15||(p+=4,f>>>=4),f&3||(p+=2,f>>>=2),f&1||p++,p},i.prototype.bitLength=function(){var a=this.words[this.length-1],f=this._countBits(a);return(this.length-1)*26+f};function E(S){for(var a=new Array(S.bitLength()),f=0;f<a.length;f++){var p=f/26|0,y=f%26;a[f]=(S.words[p]&1<<y)>>>y}return a}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,f=0;f<this.length;f++){var p=this._zeroBits(this.words[f]);if(a+=p,p!==26)break}return a},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},i.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var f=0;f<a.length;f++)this.words[f]=this.words[f]|a.words[f];return this.strip()},i.prototype.ior=function(a){return r((this.negative|a.negative)===0),this.iuor(a)},i.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},i.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},i.prototype.iuand=function(a){var f;this.length>a.length?f=a:f=this;for(var p=0;p<f.length;p++)this.words[p]=this.words[p]&a.words[p];return this.length=f.length,this.strip()},i.prototype.iand=function(a){return r((this.negative|a.negative)===0),this.iuand(a)},i.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},i.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},i.prototype.iuxor=function(a){var f,p;this.length>a.length?(f=this,p=a):(f=a,p=this);for(var y=0;y<p.length;y++)this.words[y]=f.words[y]^p.words[y];if(this!==f)for(;y<f.length;y++)this.words[y]=f.words[y];return this.length=f.length,this.strip()},i.prototype.ixor=function(a){return r((this.negative|a.negative)===0),this.iuxor(a)},i.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},i.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},i.prototype.inotn=function(a){r(typeof a=="number"&&a>=0);var f=Math.ceil(a/26)|0,p=a%26;this._expand(f),p>0&&f--;for(var y=0;y<f;y++)this.words[y]=~this.words[y]&67108863;return p>0&&(this.words[y]=~this.words[y]&67108863>>26-p),this.strip()},i.prototype.notn=function(a){return this.clone().inotn(a)},i.prototype.setn=function(a,f){r(typeof a=="number"&&a>=0);var p=a/26|0,y=a%26;return this._expand(p+1),f?this.words[p]=this.words[p]|1<<y:this.words[p]=this.words[p]&~(1<<y),this.strip()},i.prototype.iadd=function(a){var f;if(this.negative!==0&&a.negative===0)return this.negative=0,f=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,f=this.isub(a),a.negative=1,f._normSign();var p,y;this.length>a.length?(p=this,y=a):(p=a,y=this);for(var g=0,A=0;A<y.length;A++)f=(p.words[A]|0)+(y.words[A]|0)+g,this.words[A]=f&67108863,g=f>>>26;for(;g!==0&&A<p.length;A++)f=(p.words[A]|0)+g,this.words[A]=f&67108863,g=f>>>26;if(this.length=p.length,g!==0)this.words[this.length]=g,this.length++;else if(p!==this)for(;A<p.length;A++)this.words[A]=p.words[A];return this},i.prototype.add=function(a){var f;return a.negative!==0&&this.negative===0?(a.negative=0,f=this.sub(a),a.negative^=1,f):a.negative===0&&this.negative!==0?(this.negative=0,f=a.sub(this),this.negative=1,f):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},i.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var f=this.iadd(a);return a.negative=1,f._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var p=this.cmp(a);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var y,g;p>0?(y=this,g=a):(y=a,g=this);for(var A=0,_=0;_<g.length;_++)f=(y.words[_]|0)-(g.words[_]|0)+A,A=f>>26,this.words[_]=f&67108863;for(;A!==0&&_<y.length;_++)f=(y.words[_]|0)+A,A=f>>26,this.words[_]=f&67108863;if(A===0&&_<y.length&&y!==this)for(;_<y.length;_++)this.words[_]=y.words[_];return this.length=Math.max(this.length,_),y!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(a){return this.clone().isub(a)};function I(S,a,f){f.negative=a.negative^S.negative;var p=S.length+a.length|0;f.length=p,p=p-1|0;var y=S.words[0]|0,g=a.words[0]|0,A=y*g,_=A&67108863,v=A/67108864|0;f.words[0]=_;for(var u=1;u<p;u++){for(var x=v>>>26,L=v&67108863,D=Math.min(u,a.length-1),C=Math.max(0,u-S.length+1);C<=D;C++){var z=u-C|0;y=S.words[z]|0,g=a.words[C]|0,A=y*g+L,x+=A/67108864|0,L=A&67108863}f.words[u]=L|0,v=x|0}return v!==0?f.words[u]=v|0:f.length--,f.strip()}var M=function(a,f,p){var y=a.words,g=f.words,A=p.words,_=0,v,u,x,L=y[0]|0,D=L&8191,C=L>>>13,z=y[1]|0,ee=z&8191,ne=z>>>13,Ke=y[2]|0,ae=Ke&8191,W=Ke>>>13,he=y[3]|0,te=he&8191,ce=he>>>13,Ze=y[4]|0,se=Ze&8191,le=Ze>>>13,Bt=y[5]|0,ge=Bt&8191,ye=Bt>>>13,$r=y[6]|0,Ie=$r&8191,we=$r>>>13,gn=y[7]|0,ve=gn&8191,Be=gn>>>13,In=y[8]|0,Re=In&8191,Ce=In>>>13,Rn=y[9]|0,De=Rn&8191,Me=Rn>>>13,Mn=g[0]|0,_e=Mn&8191,Se=Mn>>>13,en=g[1]|0,Ae=en&8191,Te=en>>>13,un=g[2]|0,Ee=un&8191,ke=un>>>13,Cn=g[3]|0,Ue=Cn&8191,Le=Cn>>>13,Or=g[4]|0,be=Or&8191,xe=Or>>>13,kn=g[5]|0,Pe=kn&8191,Oe=kn>>>13,Ln=g[6]|0,me=Ln&8191,Ne=Ln>>>13,Y=g[7]|0,j=Y&8191,H=Y>>>13,O=g[8]|0,Z=O&8191,X=O>>>13,pe=g[9]|0,oe=pe&8191,ue=pe>>>13;p.negative=a.negative^f.negative,p.length=19,v=Math.imul(D,_e),u=Math.imul(D,Se),u=u+Math.imul(C,_e)|0,x=Math.imul(C,Se);var at=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(at>>>26)|0,at&=67108863,v=Math.imul(ee,_e),u=Math.imul(ee,Se),u=u+Math.imul(ne,_e)|0,x=Math.imul(ne,Se),v=v+Math.imul(D,Ae)|0,u=u+Math.imul(D,Te)|0,u=u+Math.imul(C,Ae)|0,x=x+Math.imul(C,Te)|0;var Je=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(Je>>>26)|0,Je&=67108863,v=Math.imul(ae,_e),u=Math.imul(ae,Se),u=u+Math.imul(W,_e)|0,x=Math.imul(W,Se),v=v+Math.imul(ee,Ae)|0,u=u+Math.imul(ee,Te)|0,u=u+Math.imul(ne,Ae)|0,x=x+Math.imul(ne,Te)|0,v=v+Math.imul(D,Ee)|0,u=u+Math.imul(D,ke)|0,u=u+Math.imul(C,Ee)|0,x=x+Math.imul(C,ke)|0;var At=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(At>>>26)|0,At&=67108863,v=Math.imul(te,_e),u=Math.imul(te,Se),u=u+Math.imul(ce,_e)|0,x=Math.imul(ce,Se),v=v+Math.imul(ae,Ae)|0,u=u+Math.imul(ae,Te)|0,u=u+Math.imul(W,Ae)|0,x=x+Math.imul(W,Te)|0,v=v+Math.imul(ee,Ee)|0,u=u+Math.imul(ee,ke)|0,u=u+Math.imul(ne,Ee)|0,x=x+Math.imul(ne,ke)|0,v=v+Math.imul(D,Ue)|0,u=u+Math.imul(D,Le)|0,u=u+Math.imul(C,Ue)|0,x=x+Math.imul(C,Le)|0;var tt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(tt>>>26)|0,tt&=67108863,v=Math.imul(se,_e),u=Math.imul(se,Se),u=u+Math.imul(le,_e)|0,x=Math.imul(le,Se),v=v+Math.imul(te,Ae)|0,u=u+Math.imul(te,Te)|0,u=u+Math.imul(ce,Ae)|0,x=x+Math.imul(ce,Te)|0,v=v+Math.imul(ae,Ee)|0,u=u+Math.imul(ae,ke)|0,u=u+Math.imul(W,Ee)|0,x=x+Math.imul(W,ke)|0,v=v+Math.imul(ee,Ue)|0,u=u+Math.imul(ee,Le)|0,u=u+Math.imul(ne,Ue)|0,x=x+Math.imul(ne,Le)|0,v=v+Math.imul(D,be)|0,u=u+Math.imul(D,xe)|0,u=u+Math.imul(C,be)|0,x=x+Math.imul(C,xe)|0;var dt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(dt>>>26)|0,dt&=67108863,v=Math.imul(ge,_e),u=Math.imul(ge,Se),u=u+Math.imul(ye,_e)|0,x=Math.imul(ye,Se),v=v+Math.imul(se,Ae)|0,u=u+Math.imul(se,Te)|0,u=u+Math.imul(le,Ae)|0,x=x+Math.imul(le,Te)|0,v=v+Math.imul(te,Ee)|0,u=u+Math.imul(te,ke)|0,u=u+Math.imul(ce,Ee)|0,x=x+Math.imul(ce,ke)|0,v=v+Math.imul(ae,Ue)|0,u=u+Math.imul(ae,Le)|0,u=u+Math.imul(W,Ue)|0,x=x+Math.imul(W,Le)|0,v=v+Math.imul(ee,be)|0,u=u+Math.imul(ee,xe)|0,u=u+Math.imul(ne,be)|0,x=x+Math.imul(ne,xe)|0,v=v+Math.imul(D,Pe)|0,u=u+Math.imul(D,Oe)|0,u=u+Math.imul(C,Pe)|0,x=x+Math.imul(C,Oe)|0;var ht=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(ht>>>26)|0,ht&=67108863,v=Math.imul(Ie,_e),u=Math.imul(Ie,Se),u=u+Math.imul(we,_e)|0,x=Math.imul(we,Se),v=v+Math.imul(ge,Ae)|0,u=u+Math.imul(ge,Te)|0,u=u+Math.imul(ye,Ae)|0,x=x+Math.imul(ye,Te)|0,v=v+Math.imul(se,Ee)|0,u=u+Math.imul(se,ke)|0,u=u+Math.imul(le,Ee)|0,x=x+Math.imul(le,ke)|0,v=v+Math.imul(te,Ue)|0,u=u+Math.imul(te,Le)|0,u=u+Math.imul(ce,Ue)|0,x=x+Math.imul(ce,Le)|0,v=v+Math.imul(ae,be)|0,u=u+Math.imul(ae,xe)|0,u=u+Math.imul(W,be)|0,x=x+Math.imul(W,xe)|0,v=v+Math.imul(ee,Pe)|0,u=u+Math.imul(ee,Oe)|0,u=u+Math.imul(ne,Pe)|0,x=x+Math.imul(ne,Oe)|0,v=v+Math.imul(D,me)|0,u=u+Math.imul(D,Ne)|0,u=u+Math.imul(C,me)|0,x=x+Math.imul(C,Ne)|0;var bt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(bt>>>26)|0,bt&=67108863,v=Math.imul(ve,_e),u=Math.imul(ve,Se),u=u+Math.imul(Be,_e)|0,x=Math.imul(Be,Se),v=v+Math.imul(Ie,Ae)|0,u=u+Math.imul(Ie,Te)|0,u=u+Math.imul(we,Ae)|0,x=x+Math.imul(we,Te)|0,v=v+Math.imul(ge,Ee)|0,u=u+Math.imul(ge,ke)|0,u=u+Math.imul(ye,Ee)|0,x=x+Math.imul(ye,ke)|0,v=v+Math.imul(se,Ue)|0,u=u+Math.imul(se,Le)|0,u=u+Math.imul(le,Ue)|0,x=x+Math.imul(le,Le)|0,v=v+Math.imul(te,be)|0,u=u+Math.imul(te,xe)|0,u=u+Math.imul(ce,be)|0,x=x+Math.imul(ce,xe)|0,v=v+Math.imul(ae,Pe)|0,u=u+Math.imul(ae,Oe)|0,u=u+Math.imul(W,Pe)|0,x=x+Math.imul(W,Oe)|0,v=v+Math.imul(ee,me)|0,u=u+Math.imul(ee,Ne)|0,u=u+Math.imul(ne,me)|0,x=x+Math.imul(ne,Ne)|0,v=v+Math.imul(D,j)|0,u=u+Math.imul(D,H)|0,u=u+Math.imul(C,j)|0,x=x+Math.imul(C,H)|0;var gt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(gt>>>26)|0,gt&=67108863,v=Math.imul(Re,_e),u=Math.imul(Re,Se),u=u+Math.imul(Ce,_e)|0,x=Math.imul(Ce,Se),v=v+Math.imul(ve,Ae)|0,u=u+Math.imul(ve,Te)|0,u=u+Math.imul(Be,Ae)|0,x=x+Math.imul(Be,Te)|0,v=v+Math.imul(Ie,Ee)|0,u=u+Math.imul(Ie,ke)|0,u=u+Math.imul(we,Ee)|0,x=x+Math.imul(we,ke)|0,v=v+Math.imul(ge,Ue)|0,u=u+Math.imul(ge,Le)|0,u=u+Math.imul(ye,Ue)|0,x=x+Math.imul(ye,Le)|0,v=v+Math.imul(se,be)|0,u=u+Math.imul(se,xe)|0,u=u+Math.imul(le,be)|0,x=x+Math.imul(le,xe)|0,v=v+Math.imul(te,Pe)|0,u=u+Math.imul(te,Oe)|0,u=u+Math.imul(ce,Pe)|0,x=x+Math.imul(ce,Oe)|0,v=v+Math.imul(ae,me)|0,u=u+Math.imul(ae,Ne)|0,u=u+Math.imul(W,me)|0,x=x+Math.imul(W,Ne)|0,v=v+Math.imul(ee,j)|0,u=u+Math.imul(ee,H)|0,u=u+Math.imul(ne,j)|0,x=x+Math.imul(ne,H)|0,v=v+Math.imul(D,Z)|0,u=u+Math.imul(D,X)|0,u=u+Math.imul(C,Z)|0,x=x+Math.imul(C,X)|0;var pt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(pt>>>26)|0,pt&=67108863,v=Math.imul(De,_e),u=Math.imul(De,Se),u=u+Math.imul(Me,_e)|0,x=Math.imul(Me,Se),v=v+Math.imul(Re,Ae)|0,u=u+Math.imul(Re,Te)|0,u=u+Math.imul(Ce,Ae)|0,x=x+Math.imul(Ce,Te)|0,v=v+Math.imul(ve,Ee)|0,u=u+Math.imul(ve,ke)|0,u=u+Math.imul(Be,Ee)|0,x=x+Math.imul(Be,ke)|0,v=v+Math.imul(Ie,Ue)|0,u=u+Math.imul(Ie,Le)|0,u=u+Math.imul(we,Ue)|0,x=x+Math.imul(we,Le)|0,v=v+Math.imul(ge,be)|0,u=u+Math.imul(ge,xe)|0,u=u+Math.imul(ye,be)|0,x=x+Math.imul(ye,xe)|0,v=v+Math.imul(se,Pe)|0,u=u+Math.imul(se,Oe)|0,u=u+Math.imul(le,Pe)|0,x=x+Math.imul(le,Oe)|0,v=v+Math.imul(te,me)|0,u=u+Math.imul(te,Ne)|0,u=u+Math.imul(ce,me)|0,x=x+Math.imul(ce,Ne)|0,v=v+Math.imul(ae,j)|0,u=u+Math.imul(ae,H)|0,u=u+Math.imul(W,j)|0,x=x+Math.imul(W,H)|0,v=v+Math.imul(ee,Z)|0,u=u+Math.imul(ee,X)|0,u=u+Math.imul(ne,Z)|0,x=x+Math.imul(ne,X)|0,v=v+Math.imul(D,oe)|0,u=u+Math.imul(D,ue)|0,u=u+Math.imul(C,oe)|0,x=x+Math.imul(C,ue)|0;var yt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(yt>>>26)|0,yt&=67108863,v=Math.imul(De,Ae),u=Math.imul(De,Te),u=u+Math.imul(Me,Ae)|0,x=Math.imul(Me,Te),v=v+Math.imul(Re,Ee)|0,u=u+Math.imul(Re,ke)|0,u=u+Math.imul(Ce,Ee)|0,x=x+Math.imul(Ce,ke)|0,v=v+Math.imul(ve,Ue)|0,u=u+Math.imul(ve,Le)|0,u=u+Math.imul(Be,Ue)|0,x=x+Math.imul(Be,Le)|0,v=v+Math.imul(Ie,be)|0,u=u+Math.imul(Ie,xe)|0,u=u+Math.imul(we,be)|0,x=x+Math.imul(we,xe)|0,v=v+Math.imul(ge,Pe)|0,u=u+Math.imul(ge,Oe)|0,u=u+Math.imul(ye,Pe)|0,x=x+Math.imul(ye,Oe)|0,v=v+Math.imul(se,me)|0,u=u+Math.imul(se,Ne)|0,u=u+Math.imul(le,me)|0,x=x+Math.imul(le,Ne)|0,v=v+Math.imul(te,j)|0,u=u+Math.imul(te,H)|0,u=u+Math.imul(ce,j)|0,x=x+Math.imul(ce,H)|0,v=v+Math.imul(ae,Z)|0,u=u+Math.imul(ae,X)|0,u=u+Math.imul(W,Z)|0,x=x+Math.imul(W,X)|0,v=v+Math.imul(ee,oe)|0,u=u+Math.imul(ee,ue)|0,u=u+Math.imul(ne,oe)|0,x=x+Math.imul(ne,ue)|0;var mt=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(mt>>>26)|0,mt&=67108863,v=Math.imul(De,Ee),u=Math.imul(De,ke),u=u+Math.imul(Me,Ee)|0,x=Math.imul(Me,ke),v=v+Math.imul(Re,Ue)|0,u=u+Math.imul(Re,Le)|0,u=u+Math.imul(Ce,Ue)|0,x=x+Math.imul(Ce,Le)|0,v=v+Math.imul(ve,be)|0,u=u+Math.imul(ve,xe)|0,u=u+Math.imul(Be,be)|0,x=x+Math.imul(Be,xe)|0,v=v+Math.imul(Ie,Pe)|0,u=u+Math.imul(Ie,Oe)|0,u=u+Math.imul(we,Pe)|0,x=x+Math.imul(we,Oe)|0,v=v+Math.imul(ge,me)|0,u=u+Math.imul(ge,Ne)|0,u=u+Math.imul(ye,me)|0,x=x+Math.imul(ye,Ne)|0,v=v+Math.imul(se,j)|0,u=u+Math.imul(se,H)|0,u=u+Math.imul(le,j)|0,x=x+Math.imul(le,H)|0,v=v+Math.imul(te,Z)|0,u=u+Math.imul(te,X)|0,u=u+Math.imul(ce,Z)|0,x=x+Math.imul(ce,X)|0,v=v+Math.imul(ae,oe)|0,u=u+Math.imul(ae,ue)|0,u=u+Math.imul(W,oe)|0,x=x+Math.imul(W,ue)|0;var it=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(it>>>26)|0,it&=67108863,v=Math.imul(De,Ue),u=Math.imul(De,Le),u=u+Math.imul(Me,Ue)|0,x=Math.imul(Me,Le),v=v+Math.imul(Re,be)|0,u=u+Math.imul(Re,xe)|0,u=u+Math.imul(Ce,be)|0,x=x+Math.imul(Ce,xe)|0,v=v+Math.imul(ve,Pe)|0,u=u+Math.imul(ve,Oe)|0,u=u+Math.imul(Be,Pe)|0,x=x+Math.imul(Be,Oe)|0,v=v+Math.imul(Ie,me)|0,u=u+Math.imul(Ie,Ne)|0,u=u+Math.imul(we,me)|0,x=x+Math.imul(we,Ne)|0,v=v+Math.imul(ge,j)|0,u=u+Math.imul(ge,H)|0,u=u+Math.imul(ye,j)|0,x=x+Math.imul(ye,H)|0,v=v+Math.imul(se,Z)|0,u=u+Math.imul(se,X)|0,u=u+Math.imul(le,Z)|0,x=x+Math.imul(le,X)|0,v=v+Math.imul(te,oe)|0,u=u+Math.imul(te,ue)|0,u=u+Math.imul(ce,oe)|0,x=x+Math.imul(ce,ue)|0;var ut=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(ut>>>26)|0,ut&=67108863,v=Math.imul(De,be),u=Math.imul(De,xe),u=u+Math.imul(Me,be)|0,x=Math.imul(Me,xe),v=v+Math.imul(Re,Pe)|0,u=u+Math.imul(Re,Oe)|0,u=u+Math.imul(Ce,Pe)|0,x=x+Math.imul(Ce,Oe)|0,v=v+Math.imul(ve,me)|0,u=u+Math.imul(ve,Ne)|0,u=u+Math.imul(Be,me)|0,x=x+Math.imul(Be,Ne)|0,v=v+Math.imul(Ie,j)|0,u=u+Math.imul(Ie,H)|0,u=u+Math.imul(we,j)|0,x=x+Math.imul(we,H)|0,v=v+Math.imul(ge,Z)|0,u=u+Math.imul(ge,X)|0,u=u+Math.imul(ye,Z)|0,x=x+Math.imul(ye,X)|0,v=v+Math.imul(se,oe)|0,u=u+Math.imul(se,ue)|0,u=u+Math.imul(le,oe)|0,x=x+Math.imul(le,ue)|0;var Xe=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,v=Math.imul(De,Pe),u=Math.imul(De,Oe),u=u+Math.imul(Me,Pe)|0,x=Math.imul(Me,Oe),v=v+Math.imul(Re,me)|0,u=u+Math.imul(Re,Ne)|0,u=u+Math.imul(Ce,me)|0,x=x+Math.imul(Ce,Ne)|0,v=v+Math.imul(ve,j)|0,u=u+Math.imul(ve,H)|0,u=u+Math.imul(Be,j)|0,x=x+Math.imul(Be,H)|0,v=v+Math.imul(Ie,Z)|0,u=u+Math.imul(Ie,X)|0,u=u+Math.imul(we,Z)|0,x=x+Math.imul(we,X)|0,v=v+Math.imul(ge,oe)|0,u=u+Math.imul(ge,ue)|0,u=u+Math.imul(ye,oe)|0,x=x+Math.imul(ye,ue)|0;var ot=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(ot>>>26)|0,ot&=67108863,v=Math.imul(De,me),u=Math.imul(De,Ne),u=u+Math.imul(Me,me)|0,x=Math.imul(Me,Ne),v=v+Math.imul(Re,j)|0,u=u+Math.imul(Re,H)|0,u=u+Math.imul(Ce,j)|0,x=x+Math.imul(Ce,H)|0,v=v+Math.imul(ve,Z)|0,u=u+Math.imul(ve,X)|0,u=u+Math.imul(Be,Z)|0,x=x+Math.imul(Be,X)|0,v=v+Math.imul(Ie,oe)|0,u=u+Math.imul(Ie,ue)|0,u=u+Math.imul(we,oe)|0,x=x+Math.imul(we,ue)|0;var st=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(st>>>26)|0,st&=67108863,v=Math.imul(De,j),u=Math.imul(De,H),u=u+Math.imul(Me,j)|0,x=Math.imul(Me,H),v=v+Math.imul(Re,Z)|0,u=u+Math.imul(Re,X)|0,u=u+Math.imul(Ce,Z)|0,x=x+Math.imul(Ce,X)|0,v=v+Math.imul(ve,oe)|0,u=u+Math.imul(ve,ue)|0,u=u+Math.imul(Be,oe)|0,x=x+Math.imul(Be,ue)|0;var Qe=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,v=Math.imul(De,Z),u=Math.imul(De,X),u=u+Math.imul(Me,Z)|0,x=Math.imul(Me,X),v=v+Math.imul(Re,oe)|0,u=u+Math.imul(Re,ue)|0,u=u+Math.imul(Ce,oe)|0,x=x+Math.imul(Ce,ue)|0;var Fe=(_+v|0)+((u&8191)<<13)|0;_=(x+(u>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,v=Math.imul(De,oe),u=Math.imul(De,ue),u=u+Math.imul(Me,oe)|0,x=Math.imul(Me,ue);var Ve=(_+v|0)+((u&8191)<<13)|0;return _=(x+(u>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,A[0]=at,A[1]=Je,A[2]=At,A[3]=tt,A[4]=dt,A[5]=ht,A[6]=bt,A[7]=gt,A[8]=pt,A[9]=yt,A[10]=mt,A[11]=it,A[12]=ut,A[13]=Xe,A[14]=ot,A[15]=st,A[16]=Qe,A[17]=Fe,A[18]=Ve,_!==0&&(A[19]=_,p.length++),p};Math.imul||(M=I);function k(S,a,f){f.negative=a.negative^S.negative,f.length=S.length+a.length;for(var p=0,y=0,g=0;g<f.length-1;g++){var A=y;y=0;for(var _=p&67108863,v=Math.min(g,a.length-1),u=Math.max(0,g-S.length+1);u<=v;u++){var x=g-u,L=S.words[x]|0,D=a.words[u]|0,C=L*D,z=C&67108863;A=A+(C/67108864|0)|0,z=z+_|0,_=z&67108863,A=A+(z>>>26)|0,y+=A>>>26,A&=67108863}f.words[g]=_,p=A,A=y}return p!==0?f.words[g]=p:f.length--,f.strip()}function R(S,a,f){var p=new B;return p.mulp(S,a,f)}i.prototype.mulTo=function(a,f){var p,y=this.length+a.length;return this.length===10&&a.length===10?p=M(this,a,f):y<63?p=I(this,a,f):y<1024?p=k(this,a,f):p=R(this,a,f),p};function B(S,a){this.x=S,this.y=a}B.prototype.makeRBT=function(a){for(var f=new Array(a),p=i.prototype._countBits(a)-1,y=0;y<a;y++)f[y]=this.revBin(y,p,a);return f},B.prototype.revBin=function(a,f,p){if(a===0||a===p-1)return a;for(var y=0,g=0;g<f;g++)y|=(a&1)<<f-g-1,a>>=1;return y},B.prototype.permute=function(a,f,p,y,g,A){for(var _=0;_<A;_++)y[_]=f[a[_]],g[_]=p[a[_]]},B.prototype.transform=function(a,f,p,y,g,A){this.permute(A,a,f,p,y,g);for(var _=1;_<g;_<<=1)for(var v=_<<1,u=Math.cos(2*Math.PI/v),x=Math.sin(2*Math.PI/v),L=0;L<g;L+=v)for(var D=u,C=x,z=0;z<_;z++){var ee=p[L+z],ne=y[L+z],Ke=p[L+z+_],ae=y[L+z+_],W=D*Ke-C*ae;ae=D*ae+C*Ke,Ke=W,p[L+z]=ee+Ke,y[L+z]=ne+ae,p[L+z+_]=ee-Ke,y[L+z+_]=ne-ae,z!==v&&(W=u*D-x*C,C=u*C+x*D,D=W)}},B.prototype.guessLen13b=function(a,f){var p=Math.max(f,a)|1,y=p&1,g=0;for(p=p/2|0;p;p=p>>>1)g++;return 1<<g+1+y},B.prototype.conjugate=function(a,f,p){if(!(p<=1))for(var y=0;y<p/2;y++){var g=a[y];a[y]=a[p-y-1],a[p-y-1]=g,g=f[y],f[y]=-f[p-y-1],f[p-y-1]=-g}},B.prototype.normalize13b=function(a,f){for(var p=0,y=0;y<f/2;y++){var g=Math.round(a[2*y+1]/f)*8192+Math.round(a[2*y]/f)+p;a[y]=g&67108863,g<67108864?p=0:p=g/67108864|0}return a},B.prototype.convert13b=function(a,f,p,y){for(var g=0,A=0;A<f;A++)g=g+(a[A]|0),p[2*A]=g&8191,g=g>>>13,p[2*A+1]=g&8191,g=g>>>13;for(A=2*f;A<y;++A)p[A]=0;r(g===0),r((g&-8192)===0)},B.prototype.stub=function(a){for(var f=new Array(a),p=0;p<a;p++)f[p]=0;return f},B.prototype.mulp=function(a,f,p){var y=2*this.guessLen13b(a.length,f.length),g=this.makeRBT(y),A=this.stub(y),_=new Array(y),v=new Array(y),u=new Array(y),x=new Array(y),L=new Array(y),D=new Array(y),C=p.words;C.length=y,this.convert13b(a.words,a.length,_,y),this.convert13b(f.words,f.length,x,y),this.transform(_,A,v,u,y,g),this.transform(x,A,L,D,y,g);for(var z=0;z<y;z++){var ee=v[z]*L[z]-u[z]*D[z];u[z]=v[z]*D[z]+u[z]*L[z],v[z]=ee}return this.conjugate(v,u,y),this.transform(v,u,C,A,y,g),this.conjugate(C,A,y),this.normalize13b(C,y),p.negative=a.negative^f.negative,p.length=a.length+f.length,p.strip()},i.prototype.mul=function(a){var f=new i(null);return f.words=new Array(this.length+a.length),this.mulTo(a,f)},i.prototype.mulf=function(a){var f=new i(null);return f.words=new Array(this.length+a.length),R(this,a,f)},i.prototype.imul=function(a){return this.clone().mulTo(a,this)},i.prototype.imuln=function(a){r(typeof a=="number"),r(a<67108864);for(var f=0,p=0;p<this.length;p++){var y=(this.words[p]|0)*a,g=(y&67108863)+(f&67108863);f>>=26,f+=y/67108864|0,f+=g>>>26,this.words[p]=g&67108863}return f!==0&&(this.words[p]=f,this.length++),this},i.prototype.muln=function(a){return this.clone().imuln(a)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(a){var f=E(a);if(f.length===0)return new i(1);for(var p=this,y=0;y<f.length&&f[y]===0;y++,p=p.sqr());if(++y<f.length)for(var g=p.sqr();y<f.length;y++,g=g.sqr())f[y]!==0&&(p=p.mul(g));return p},i.prototype.iushln=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26,y=67108863>>>26-f<<26-f,g;if(f!==0){var A=0;for(g=0;g<this.length;g++){var _=this.words[g]&y,v=(this.words[g]|0)-_<<f;this.words[g]=v|A,A=_>>>26-f}A&&(this.words[g]=A,this.length++)}if(p!==0){for(g=this.length-1;g>=0;g--)this.words[g+p]=this.words[g];for(g=0;g<p;g++)this.words[g]=0;this.length+=p}return this.strip()},i.prototype.ishln=function(a){return r(this.negative===0),this.iushln(a)},i.prototype.iushrn=function(a,f,p){r(typeof a=="number"&&a>=0);var y;f?y=(f-f%26)/26:y=0;var g=a%26,A=Math.min((a-g)/26,this.length),_=67108863^67108863>>>g<<g,v=p;if(y-=A,y=Math.max(0,y),v){for(var u=0;u<A;u++)v.words[u]=this.words[u];v.length=A}if(A!==0)if(this.length>A)for(this.length-=A,u=0;u<this.length;u++)this.words[u]=this.words[u+A];else this.words[0]=0,this.length=1;var x=0;for(u=this.length-1;u>=0&&(x!==0||u>=y);u--){var L=this.words[u]|0;this.words[u]=x<<26-g|L>>>g,x=L&_}return v&&x!==0&&(v.words[v.length++]=x),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(a,f,p){return r(this.negative===0),this.iushrn(a,f,p)},i.prototype.shln=function(a){return this.clone().ishln(a)},i.prototype.ushln=function(a){return this.clone().iushln(a)},i.prototype.shrn=function(a){return this.clone().ishrn(a)},i.prototype.ushrn=function(a){return this.clone().iushrn(a)},i.prototype.testn=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26,y=1<<f;if(this.length<=p)return!1;var g=this.words[p];return!!(g&y)},i.prototype.imaskn=function(a){r(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(f!==0&&p++,this.length=Math.min(p,this.length),f!==0){var y=67108863^67108863>>>f<<f;this.words[this.length-1]&=y}return this.strip()},i.prototype.maskn=function(a){return this.clone().imaskn(a)},i.prototype.iaddn=function(a){return r(typeof a=="number"),r(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},i.prototype._iaddn=function(a){this.words[0]+=a;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)this.words[f]-=67108864,f===this.length-1?this.words[f+1]=1:this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},i.prototype.isubn=function(a){if(r(typeof a=="number"),r(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this.strip()},i.prototype.addn=function(a){return this.clone().iaddn(a)},i.prototype.subn=function(a){return this.clone().isubn(a)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(a,f,p){var y=a.length+p,g;this._expand(y);var A,_=0;for(g=0;g<a.length;g++){A=(this.words[g+p]|0)+_;var v=(a.words[g]|0)*f;A-=v&67108863,_=(A>>26)-(v/67108864|0),this.words[g+p]=A&67108863}for(;g<this.length-p;g++)A=(this.words[g+p]|0)+_,_=A>>26,this.words[g+p]=A&67108863;if(_===0)return this.strip();for(r(_===-1),_=0,g=0;g<this.length;g++)A=-(this.words[g]|0)+_,_=A>>26,this.words[g]=A&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(a,f){var p=this.length-a.length,y=this.clone(),g=a,A=g.words[g.length-1]|0,_=this._countBits(A);p=26-_,p!==0&&(g=g.ushln(p),y.iushln(p),A=g.words[g.length-1]|0);var v=y.length-g.length,u;if(f!=="mod"){u=new i(null),u.length=v+1,u.words=new Array(u.length);for(var x=0;x<u.length;x++)u.words[x]=0}var L=y.clone()._ishlnsubmul(g,1,v);L.negative===0&&(y=L,u&&(u.words[v]=1));for(var D=v-1;D>=0;D--){var C=(y.words[g.length+D]|0)*67108864+(y.words[g.length+D-1]|0);for(C=Math.min(C/A|0,67108863),y._ishlnsubmul(g,C,D);y.negative!==0;)C--,y.negative=0,y._ishlnsubmul(g,1,D),y.isZero()||(y.negative^=1);u&&(u.words[D]=C)}return u&&u.strip(),y.strip(),f!=="div"&&p!==0&&y.iushrn(p),{div:u||null,mod:y}},i.prototype.divmod=function(a,f,p){if(r(!a.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var y,g,A;return this.negative!==0&&a.negative===0?(A=this.neg().divmod(a,f),f!=="mod"&&(y=A.div.neg()),f!=="div"&&(g=A.mod.neg(),p&&g.negative!==0&&g.iadd(a)),{div:y,mod:g}):this.negative===0&&a.negative!==0?(A=this.divmod(a.neg(),f),f!=="mod"&&(y=A.div.neg()),{div:y,mod:A.mod}):this.negative&a.negative?(A=this.neg().divmod(a.neg(),f),f!=="div"&&(g=A.mod.neg(),p&&g.negative!==0&&g.isub(a)),{div:A.div,mod:g}):a.length>this.length||this.cmp(a)<0?{div:new i(0),mod:this}:a.length===1?f==="div"?{div:this.divn(a.words[0]),mod:null}:f==="mod"?{div:null,mod:new i(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new i(this.modn(a.words[0]))}:this._wordDiv(a,f)},i.prototype.div=function(a){return this.divmod(a,"div",!1).div},i.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},i.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},i.prototype.divRound=function(a){var f=this.divmod(a);if(f.mod.isZero())return f.div;var p=f.div.negative!==0?f.mod.isub(a):f.mod,y=a.ushrn(1),g=a.andln(1),A=p.cmp(y);return A<0||g===1&&A===0?f.div:f.div.negative!==0?f.div.isubn(1):f.div.iaddn(1)},i.prototype.modn=function(a){r(a<=67108863);for(var f=(1<<26)%a,p=0,y=this.length-1;y>=0;y--)p=(f*p+(this.words[y]|0))%a;return p},i.prototype.idivn=function(a){r(a<=67108863);for(var f=0,p=this.length-1;p>=0;p--){var y=(this.words[p]|0)+f*67108864;this.words[p]=y/a|0,f=y%a}return this.strip()},i.prototype.divn=function(a){return this.clone().idivn(a)},i.prototype.egcd=function(a){r(a.negative===0),r(!a.isZero());var f=this,p=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var y=new i(1),g=new i(0),A=new i(0),_=new i(1),v=0;f.isEven()&&p.isEven();)f.iushrn(1),p.iushrn(1),++v;for(var u=p.clone(),x=f.clone();!f.isZero();){for(var L=0,D=1;!(f.words[0]&D)&&L<26;++L,D<<=1);if(L>0)for(f.iushrn(L);L-- >0;)(y.isOdd()||g.isOdd())&&(y.iadd(u),g.isub(x)),y.iushrn(1),g.iushrn(1);for(var C=0,z=1;!(p.words[0]&z)&&C<26;++C,z<<=1);if(C>0)for(p.iushrn(C);C-- >0;)(A.isOdd()||_.isOdd())&&(A.iadd(u),_.isub(x)),A.iushrn(1),_.iushrn(1);f.cmp(p)>=0?(f.isub(p),y.isub(A),g.isub(_)):(p.isub(f),A.isub(y),_.isub(g))}return{a:A,b:_,gcd:p.iushln(v)}},i.prototype._invmp=function(a){r(a.negative===0),r(!a.isZero());var f=this,p=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var y=new i(1),g=new i(0),A=p.clone();f.cmpn(1)>0&&p.cmpn(1)>0;){for(var _=0,v=1;!(f.words[0]&v)&&_<26;++_,v<<=1);if(_>0)for(f.iushrn(_);_-- >0;)y.isOdd()&&y.iadd(A),y.iushrn(1);for(var u=0,x=1;!(p.words[0]&x)&&u<26;++u,x<<=1);if(u>0)for(p.iushrn(u);u-- >0;)g.isOdd()&&g.iadd(A),g.iushrn(1);f.cmp(p)>=0?(f.isub(p),y.isub(g)):(p.isub(f),g.isub(y))}var L;return f.cmpn(1)===0?L=y:L=g,L.cmpn(0)<0&&L.iadd(a),L},i.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var f=this.clone(),p=a.clone();f.negative=0,p.negative=0;for(var y=0;f.isEven()&&p.isEven();y++)f.iushrn(1),p.iushrn(1);do{for(;f.isEven();)f.iushrn(1);for(;p.isEven();)p.iushrn(1);var g=f.cmp(p);if(g<0){var A=f;f=p,p=A}else if(g===0||p.cmpn(1)===0)break;f.isub(p)}while(!0);return p.iushln(y)},i.prototype.invm=function(a){return this.egcd(a).a.umod(a)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(a){return this.words[0]&a},i.prototype.bincn=function(a){r(typeof a=="number");var f=a%26,p=(a-f)/26,y=1<<f;if(this.length<=p)return this._expand(p+1),this.words[p]|=y,this;for(var g=y,A=p;g!==0&&A<this.length;A++){var _=this.words[A]|0;_+=g,g=_>>>26,_&=67108863,this.words[A]=_}return g!==0&&(this.words[A]=g,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(a){var f=a<0;if(this.negative!==0&&!f)return-1;if(this.negative===0&&f)return 1;this.strip();var p;if(this.length>1)p=1;else{f&&(a=-a),r(a<=67108863,"Number is too big");var y=this.words[0]|0;p=y===a?0:y<a?-1:1}return this.negative!==0?-p|0:p},i.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var f=this.ucmp(a);return this.negative!==0?-f|0:f},i.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var f=0,p=this.length-1;p>=0;p--){var y=this.words[p]|0,g=a.words[p]|0;if(y!==g){y<g?f=-1:y>g&&(f=1);break}}return f},i.prototype.gtn=function(a){return this.cmpn(a)===1},i.prototype.gt=function(a){return this.cmp(a)===1},i.prototype.gten=function(a){return this.cmpn(a)>=0},i.prototype.gte=function(a){return this.cmp(a)>=0},i.prototype.ltn=function(a){return this.cmpn(a)===-1},i.prototype.lt=function(a){return this.cmp(a)===-1},i.prototype.lten=function(a){return this.cmpn(a)<=0},i.prototype.lte=function(a){return this.cmp(a)<=0},i.prototype.eqn=function(a){return this.cmpn(a)===0},i.prototype.eq=function(a){return this.cmp(a)===0},i.red=function(a){return new Q(a)},i.prototype.toRed=function(a){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(a){return this.red=a,this},i.prototype.forceRed=function(a){return r(!this.red,"Already a number in reduction context"),this._forceRed(a)},i.prototype.redAdd=function(a){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},i.prototype.redIAdd=function(a){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},i.prototype.redSub=function(a){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},i.prototype.redISub=function(a){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},i.prototype.redShl=function(a){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},i.prototype.redMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},i.prototype.redIMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(a){return r(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var U={k256:null,p224:null,p192:null,p25519:null};function P(S,a){this.name=S,this.p=new i(a,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}P.prototype._tmp=function(){var a=new i(null);return a.words=new Array(Math.ceil(this.n/13)),a},P.prototype.ireduce=function(a){var f=a,p;do this.split(f,this.tmp),f=this.imulK(f),f=f.iadd(this.tmp),p=f.bitLength();while(p>this.n);var y=p<this.n?-1:f.ucmp(this.p);return y===0?(f.words[0]=0,f.length=1):y>0?f.isub(this.p):f.strip!==void 0?f.strip():f._strip(),f},P.prototype.split=function(a,f){a.iushrn(this.n,0,f)},P.prototype.imulK=function(a){return a.imul(this.k)};function F(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(F,P),F.prototype.split=function(a,f){for(var p=4194303,y=Math.min(a.length,9),g=0;g<y;g++)f.words[g]=a.words[g];if(f.length=y,a.length<=9){a.words[0]=0,a.length=1;return}var A=a.words[9];for(f.words[f.length++]=A&p,g=10;g<a.length;g++){var _=a.words[g]|0;a.words[g-10]=(_&p)<<4|A>>>22,A=_}A>>>=22,a.words[g-10]=A,A===0&&a.length>10?a.length-=10:a.length-=9},F.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var f=0,p=0;p<a.length;p++){var y=a.words[p]|0;f+=y*977,a.words[p]=f&67108863,f=y*64+(f/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function q(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(q,P);function K(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(K,P);function re(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(re,P),re.prototype.imulK=function(a){for(var f=0,p=0;p<a.length;p++){var y=(a.words[p]|0)*19+f,g=y&67108863;y>>>=26,a.words[p]=g,f=y}return f!==0&&(a.words[a.length++]=f),a},i._prime=function(a){if(U[a])return U[a];var f;if(a==="k256")f=new F;else if(a==="p224")f=new q;else if(a==="p192")f=new K;else if(a==="p25519")f=new re;else throw new Error("Unknown prime "+a);return U[a]=f,f};function Q(S){if(typeof S=="string"){var a=i._prime(S);this.m=a.p,this.prime=a}else r(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}Q.prototype._verify1=function(a){r(a.negative===0,"red works only with positives"),r(a.red,"red works only with red numbers")},Q.prototype._verify2=function(a,f){r((a.negative|f.negative)===0,"red works only with positives"),r(a.red&&a.red===f.red,"red works only with red numbers")},Q.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},Q.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},Q.prototype.add=function(a,f){this._verify2(a,f);var p=a.add(f);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},Q.prototype.iadd=function(a,f){this._verify2(a,f);var p=a.iadd(f);return p.cmp(this.m)>=0&&p.isub(this.m),p},Q.prototype.sub=function(a,f){this._verify2(a,f);var p=a.sub(f);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},Q.prototype.isub=function(a,f){this._verify2(a,f);var p=a.isub(f);return p.cmpn(0)<0&&p.iadd(this.m),p},Q.prototype.shl=function(a,f){return this._verify1(a),this.imod(a.ushln(f))},Q.prototype.imul=function(a,f){return this._verify2(a,f),this.imod(a.imul(f))},Q.prototype.mul=function(a,f){return this._verify2(a,f),this.imod(a.mul(f))},Q.prototype.isqr=function(a){return this.imul(a,a.clone())},Q.prototype.sqr=function(a){return this.mul(a,a)},Q.prototype.sqrt=function(a){if(a.isZero())return a.clone();var f=this.m.andln(3);if(r(f%2===1),f===3){var p=this.m.add(new i(1)).iushrn(2);return this.pow(a,p)}for(var y=this.m.subn(1),g=0;!y.isZero()&&y.andln(1)===0;)g++,y.iushrn(1);r(!y.isZero());var A=new i(1).toRed(this),_=A.redNeg(),v=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new i(2*u*u).toRed(this);this.pow(u,v).cmp(_)!==0;)u.redIAdd(_);for(var x=this.pow(u,y),L=this.pow(a,y.addn(1).iushrn(1)),D=this.pow(a,y),C=g;D.cmp(A)!==0;){for(var z=D,ee=0;z.cmp(A)!==0;ee++)z=z.redSqr();r(ee<C);var ne=this.pow(x,new i(1).iushln(C-ee-1));L=L.redMul(ne),x=ne.redSqr(),D=D.redMul(x),C=ee}return L},Q.prototype.invm=function(a){var f=a._invmp(this.m);return f.negative!==0?(f.negative=0,this.imod(f).redNeg()):this.imod(f)},Q.prototype.pow=function(a,f){if(f.isZero())return new i(1).toRed(this);if(f.cmpn(1)===0)return a.clone();var p=4,y=new Array(1<<p);y[0]=new i(1).toRed(this),y[1]=a;for(var g=2;g<y.length;g++)y[g]=this.mul(y[g-1],a);var A=y[0],_=0,v=0,u=f.bitLength()%26;for(u===0&&(u=26),g=f.length-1;g>=0;g--){for(var x=f.words[g],L=u-1;L>=0;L--){var D=x>>L&1;if(A!==y[0]&&(A=this.sqr(A)),D===0&&_===0){v=0;continue}_<<=1,_|=D,v++,!(v!==p&&(g!==0||L!==0))&&(A=this.mul(A,y[_]),v=0,_=0)}u=26}return A},Q.prototype.convertTo=function(a){var f=a.umod(this.m);return f===a?f.clone():f},Q.prototype.convertFrom=function(a){var f=a.clone();return f.red=null,f},i.mont=function(a){return new ie(a)};function ie(S){Q.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(ie,Q),ie.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},ie.prototype.convertFrom=function(a){var f=this.imod(a.mul(this.rinv));return f.red=null,f},ie.prototype.imul=function(a,f){if(a.isZero()||f.isZero())return a.words[0]=0,a.length=1,a;var p=a.imul(f),y=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=p.isub(y).iushrn(this.shift),A=g;return g.cmp(this.m)>=0?A=g.isub(this.m):g.cmpn(0)<0&&(A=g.iadd(this.m)),A._forceRed(this)},ie.prototype.mul=function(a,f){if(a.isZero()||f.isZero())return new i(0)._forceRed(this);var p=a.mul(f),y=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=p.isub(y).iushrn(this.shift),A=g;return g.cmp(this.m)>=0?A=g.isub(this.m):g.cmpn(0)<0&&(A=g.iadd(this.m)),A._forceRed(this)},ie.prototype.invm=function(a){var f=this.imod(a._invmp(this.m).mul(this.r2));return f._forceRed(this)}})(typeof Tne>"u"||Tne,lCe)});var yCe=V((yvn,mCe)=>{d();h();var Lh=pT(),$c=dCe(),Ri=function(){};function UU(t){return t.startsWith("int[")?"int256"+t.slice(3):t==="int"?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):t==="uint"?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):t==="fixed"?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):t==="ufixed"?"ufixed128x128":t}Ri.eventID=function(t,e){var r=t+"("+e.map(UU).join(",")+")";return Lh.keccak256(Buffer.from(r))};Ri.methodID=function(t,e){return Ri.eventID(t,e).slice(0,4)};function Lg(t){return parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function Ine(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[parseInt(e[1],10),parseInt(e[2],10)]}function gT(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?e[2]===""?"dynamic":parseInt(e[2],10):null}function ox(t){var e=typeof t;if(e==="string")return Lh.isHexPrefixed(t)?new $c(Lh.stripHexPrefix(t),16):new $c(t,10);if(e==="number")return new $c(t);if(t.toArray)return t;throw new Error("Argument is not a number")}function pCe(t){var e=/^(\w+)\((.*)\)$/.exec(t);if(e.length!==3)throw new Error("Invalid method signature");var r=/^(.+)\):\((.+)$/.exec(e[2]);if(r!==null&&r.length===3)return{method:e[1],args:r[1].split(","),retargs:r[2].split(",")};var n=e[2].split(",");return n.length===1&&n[0]===""&&(n=[]),{method:e[1],args:n}}function Uh(t,e){var r,n,i,o;if(t==="address")return Uh("uint160",ox(e));if(t==="bool")return Uh("uint8",e?1:0);if(t==="string")return Uh("bytes",Buffer.from(e,"utf8"));if(yT(t)){if(typeof e.length>"u")throw new Error("Not an array?");if(r=gT(t),r!=="dynamic"&&r!==0&&e.length>r)throw new Error("Elements exceed array size: "+r);i=[],t=t.slice(0,t.lastIndexOf("[")),typeof e=="string"&&(e=JSON.parse(e));for(o in e)i.push(Uh(t,e[o]));if(r==="dynamic"){var s=Uh("uint256",e.length);i.unshift(s)}return Buffer.concat(i)}else{if(t==="bytes")return e=Buffer.from(e),i=Buffer.concat([Uh("uint256",e.length),e]),e.length%32!==0&&(i=Buffer.concat([i,Lh.zeros(32-e.length%32)])),i;if(t.startsWith("bytes")){if(r=Lg(t),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return Lh.setLengthRight(e,32)}else if(t.startsWith("uint")){if(r=Lg(t),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=ox(e),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());if(n<0)throw new Error("Supplied uint is negative");return n.toArrayLike(Buffer,"be",32)}else if(t.startsWith("int")){if(r=Lg(t),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=ox(e),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());return n.toTwos(256).toArrayLike(Buffer,"be",32)}else if(t.startsWith("ufixed")){if(r=Ine(t),n=ox(e),n<0)throw new Error("Supplied ufixed is negative");return Uh("uint256",n.mul(new $c(2).pow(new $c(r[1]))))}else if(t.startsWith("fixed"))return r=Ine(t),Uh("int256",ox(e).mul(new $c(2).pow(new $c(r[1]))))}throw new Error("Unsupported or invalid type: "+t)}function ad(t,e,r){typeof t=="string"&&(t=Mne(t));var n,i,o,s;if(t.name==="address")return ad(t.rawType,e,r).toArrayLike(Buffer,"be",20).toString("hex");if(t.name==="bool")return ad(t.rawType,e,r).toString()===new $c(1).toString();if(t.name==="string"){var c=ad(t.rawType,e,r);return Buffer.from(c,"utf8").toString()}else if(t.isArray){for(o=[],n=t.size,t.size==="dynamic"&&(r=ad("uint256",e,r).toNumber(),n=ad("uint256",e,r).toNumber(),r=r+32),s=0;s<n;s++){var l=ad(t.subArray,e,r);o.push(l),r+=t.subArray.memoryUsage}return o}else{if(t.name==="bytes")return r=ad("uint256",e,r).toNumber(),n=ad("uint256",e,r).toNumber(),e.slice(r+32,r+32+n);if(t.name.startsWith("bytes"))return e.slice(r,r+t.size);if(t.name.startsWith("uint")){if(i=new $c(e.slice(r,r+32),16,"be"),i.bitLength()>t.size)throw new Error("Decoded int exceeds width: "+t.size+" vs "+i.bitLength());return i}else if(t.name.startsWith("int")){if(i=new $c(e.slice(r,r+32),16,"be").fromTwos(256),i.bitLength()>t.size)throw new Error("Decoded uint exceeds width: "+t.size+" vs "+i.bitLength());return i}else if(t.name.startsWith("ufixed")){if(n=new $c(2).pow(new $c(t.size[1])),i=ad("uint256",e,r),!i.mod(n).isZero())throw new Error("Decimals not supported yet");return i.div(n)}else if(t.name.startsWith("fixed")){if(n=new $c(2).pow(new $c(t.size[1])),i=ad("int256",e,r),!i.mod(n).isZero())throw new Error("Decimals not supported yet");return i.div(n)}}throw new Error("Unsupported or invalid type: "+t.name)}function Mne(t){var e,r;if(yT(t)){e=gT(t);var n=t.slice(0,t.lastIndexOf("["));return n=Mne(n),r={isArray:!0,name:t,size:e,memoryUsage:e==="dynamic"?32:n.memoryUsage*e,subArray:n},r}else{var i;switch(t){case"address":i="uint160";break;case"bool":i="uint8";break;case"string":i="bytes";break}if(r={rawType:i,name:t,memoryUsage:32},t.startsWith("bytes")&&t!=="bytes"||t.startsWith("uint")||t.startsWith("int")?r.size=Lg(t):(t.startsWith("ufixed")||t.startsWith("fixed"))&&(r.size=Ine(t)),t.startsWith("bytes")&&t!=="bytes"&&(r.size<1||r.size>32))throw new Error("Invalid bytes<N> width: "+r.size);if((t.startsWith("uint")||t.startsWith("int"))&&(r.size%8||r.size<8||r.size>256))throw new Error("Invalid int/uint<N> width: "+r.size);return r}}function LPt(t){return t==="string"||t==="bytes"||gT(t)==="dynamic"}function yT(t){return t.lastIndexOf("]")===t.length-1}Ri.rawEncode=function(t,e){var r=[],n=[],i=0;t.forEach(function(m){if(yT(m)){var w=gT(m);w!=="dynamic"?i+=32*w:i+=32}else i+=32});for(var o=0;o<t.length;o++){var s=UU(t[o]),c=e[o],l=Uh(s,c);LPt(s)?(r.push(Uh("uint256",i)),n.push(l),i+=l.length):r.push(l)}return Buffer.concat(r.concat(n))};Ri.rawDecode=function(t,e){var r=[];e=Buffer.from(e);for(var n=0,i=0;i<t.length;i++){var o=UU(t[i]),s=Mne(o,e,n),c=ad(s,e,n);n+=s.memoryUsage,r.push(c)}return r};Ri.simpleEncode=function(t){var e=Array.prototype.slice.call(arguments).slice(1),r=pCe(t);if(e.length!==r.args.length)throw new Error("Argument count mismatch");return Buffer.concat([Ri.methodID(r.method,r.args),Ri.rawEncode(r.args,e)])};Ri.simpleDecode=function(t,e){var r=pCe(t);if(!r.retargs)throw new Error("No return values in method");return Ri.rawDecode(r.retargs,e)};function hCe(t,e){return t.startsWith("address")||t.startsWith("bytes")?"0x"+e.toString("hex"):e.toString()}Ri.stringify=function(t,e){var r=[];for(var n in t){var i=t[n],o=e[n];/^[^\[]+\[.*\]$/.test(i)?o=o.map(function(s){return hCe(i,s)}).join(", "):o=hCe(i,o),r.push(o)}return r};Ri.solidityHexValue=function(t,e,r){var n,i;if(yT(t)){var o=t.replace(/\[.*?\]/,"");if(!yT(o)){var s=gT(t);if(s!=="dynamic"&&s!==0&&e.length>s)throw new Error("Elements exceed array size: "+s)}var c=e.map(function(w){return Ri.solidityHexValue(o,w,256)});return Buffer.concat(c)}else{if(t==="bytes")return e;if(t==="string")return Buffer.from(e,"utf8");if(t==="bool"){r=r||8;var l=Array(r/4).join("0");return Buffer.from(e?l+"1":l+"0","hex")}else if(t==="address"){var m=20;return r&&(m=r/8),Lh.setLengthLeft(e,m)}else if(t.startsWith("bytes")){if(n=Lg(t),n<1||n>32)throw new Error("Invalid bytes<N> width: "+n);return Lh.setLengthRight(e,n)}else if(t.startsWith("uint")){if(n=Lg(t),n%8||n<8||n>256)throw new Error("Invalid uint<N> width: "+n);if(i=ox(e),i.bitLength()>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+i.bitLength());return r=r||n,i.toArrayLike(Buffer,"be",r/8)}else if(t.startsWith("int")){if(n=Lg(t),n%8||n<8||n>256)throw new Error("Invalid int<N> width: "+n);if(i=ox(e),i.bitLength()>n)throw new Error("Supplied int exceeds width: "+n+" vs "+i.bitLength());return r=r||n,i.toTwos(n).toArrayLike(Buffer,"be",r/8)}else throw new Error("Unsupported or invalid type: "+t)}};Ri.solidityPack=function(t,e){if(t.length!==e.length)throw new Error("Number of types are not matching the values");for(var r=[],n=0;n<t.length;n++){var i=UU(t[n]),o=e[n];r.push(Ri.solidityHexValue(i,o,null))}return Buffer.concat(r)};Ri.soliditySHA3=function(t,e){return Lh.keccak256(Ri.solidityPack(t,e))};Ri.soliditySHA256=function(t,e){return Lh.sha256(Ri.solidityPack(t,e))};Ri.solidityRIPEMD160=function(t,e){return Lh.ripemd160(Ri.solidityPack(t,e),!0)};function FPt(t){return t>="0"&&t<="9"}Ri.fromSerpent=function(t){for(var e=[],r=0;r<t.length;r++){var n=t[r];if(n==="s")e.push("bytes");else if(n==="b"){for(var i="bytes",o=r+1;o<t.length&&FPt(t[o]);)i+=t[o]-"0",o++;r=o-1,e.push(i)}else if(n==="i")e.push("int256");else if(n==="a")e.push("int256[]");else throw new Error("Unsupported or invalid type: "+n)}return e};Ri.toSerpent=function(t){for(var e=[],r=0;r<t.length;r++){var n=t[r];if(n==="bytes")e.push("s");else if(n.startsWith("bytes"))e.push("b"+Lg(n));else if(n==="int256")e.push("i");else if(n==="int256[]")e.push("a");else throw new Error("Unsupported or invalid type: "+n)}return e.join("")};mCe.exports=Ri});var bCe=V((vvn,gCe)=>{d();h();gCe.exports=yCe()});var ACe=V(ws=>{"use strict";d();h();Object.defineProperty(ws,"__esModule",{value:!0});ws.recoverTypedSignature=ws.signTypedData=ws.typedSignatureHash=ws.TypedDataUtils=ws.TYPED_MESSAGE_SCHEMA=ws.SignTypedDataVersion=void 0;var Xf=pT(),bT=bCe(),sx=mT(),lc;(function(t){t.V1="V1",t.V3="V3",t.V4="V4"})(lc=ws.SignTypedDataVersion||(ws.SignTypedDataVersion={}));ws.TYPED_MESSAGE_SCHEMA={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]};function yE(t,e){if(Object.keys(lc).includes(t)){if(e&&!e.includes(t))throw new Error(`SignTypedDataVersion not allowed: '${t}'. Allowed versions are: ${e.join(", ")}`)}else throw new Error(`Invalid version: '${t}'`)}function vCe(t,e,r,n,i){if(yE(i,[lc.V3,lc.V4]),t[r]!==void 0)return["bytes32",i===lc.V4&&n==null?"0x0000000000000000000000000000000000000000000000000000000000000000":Xf.keccak(Pne(r,n,t,i))];if(n===void 0)throw new Error(`missing value for field ${e} of type ${r}`);if(r==="bytes")return["bytes32",Xf.keccak(n)];if(r==="string")return typeof n=="string"&&(n=Buffer.from(n,"utf8")),["bytes32",Xf.keccak(n)];if(r.lastIndexOf("]")===r.length-1){if(i===lc.V3)throw new Error("Arrays are unimplemented in encodeData; use V4 extension");let o=r.slice(0,r.lastIndexOf("[")),s=n.map(c=>vCe(t,e,o,c,i));return["bytes32",Xf.keccak(bT.rawEncode(s.map(([c])=>c),s.map(([,c])=>c)))]}return[r,n]}function Pne(t,e,r,n){yE(n,[lc.V3,lc.V4]);let i=["bytes32"],o=[wCe(t,r)];for(let s of r[t]){if(n===lc.V3&&e[s.name]===void 0)continue;let[c,l]=vCe(r,s.name,s.type,e[s.name],n);i.push(c),o.push(l)}return bT.rawEncode(i,o)}function xCe(t,e){let r="",n=Bne(t,e);n.delete(t);let i=[t,...Array.from(n).sort()];for(let o of i){if(!e[o])throw new Error(`No type definition specified: ${o}`);r+=`${o}(${e[o].map(({name:c,type:l})=>`${l} ${c}`).join(",")})`}return r}function Bne(t,e,r=new Set){if([t]=t.match(/^\w*/u),r.has(t)||e[t]===void 0)return r;r.add(t);for(let n of e[t])Bne(n.type,e,r);return r}function kne(t,e,r,n){return yE(n,[lc.V3,lc.V4]),Xf.keccak(Pne(t,e,r,n))}function wCe(t,e){return Xf.keccak(xCe(t,e))}function SCe(t){let e={};for(let r in ws.TYPED_MESSAGE_SCHEMA.properties)t[r]&&(e[r]=t[r]);return"types"in e&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e}function VPt(t,e){yE(e,[lc.V3,lc.V4]);let r=SCe(t),n=[Buffer.from("1901","hex")];return n.push(kne("EIP712Domain",r.domain,r.types,e)),r.primaryType!=="EIP712Domain"&&n.push(kne(r.primaryType,r.message,r.types,e)),Xf.keccak(Buffer.concat(n))}ws.TypedDataUtils={encodeData:Pne,encodeType:xCe,findTypeDependencies:Bne,hashStruct:kne,hashType:wCe,sanitizeData:SCe,eip712Hash:VPt};function qPt(t){let e=Rne(t);return Xf.bufferToHex(e)}ws.typedSignatureHash=qPt;function Rne(t){let e=new Error("Expect argument to be non-empty array");if(typeof t!="object"||!("length"in t)||!t.length)throw e;let r=t.map(function(o){return o.type!=="bytes"?o.value:sx.legacyToBuffer(o.value)}),n=t.map(function(o){return o.type}),i=t.map(function(o){if(!o.name)throw e;return`${o.type} ${o.name}`});return bT.soliditySHA3(["bytes32","bytes32"],[bT.soliditySHA3(new Array(t.length).fill("string"),i),bT.soliditySHA3(n,r)])}function KPt({privateKey:t,data:e,version:r}){if(yE(r),sx.isNullish(e))throw new Error("Missing data parameter");if(sx.isNullish(t))throw new Error("Missing private key parameter");let n=r===lc.V1?Rne(e):ws.TypedDataUtils.eip712Hash(e,r),i=Xf.ecsign(n,t);return sx.concatSig(Xf.toBuffer(i.v),i.r,i.s)}ws.signTypedData=KPt;function HPt({data:t,signature:e,version:r}){if(yE(r),sx.isNullish(t))throw new Error("Missing data parameter");if(sx.isNullish(e))throw new Error("Missing signature parameter");let n=r===lc.V1?Rne(t):ws.TypedDataUtils.eip712Hash(t,r),i=sx.recoverPublicKey(n,e),o=Xf.publicToAddress(i);return Xf.bufferToHex(o)}ws.recoverTypedSignature=HPt});var _Ce=V((ECe,LU)=>{d();h();(function(t,e){"use strict";typeof LU<"u"&&LU.exports?LU.exports=e():(t.nacl||(t.nacl={}),t.nacl.util=e())})(ECe,function(){"use strict";var t={};function e(r){if(!/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(r))throw new TypeError("invalid encoding")}return t.decodeUTF8=function(r){if(typeof r!="string")throw new TypeError("expected string");var n,i=unescape(encodeURIComponent(r)),o=new Uint8Array(i.length);for(n=0;n<i.length;n++)o[n]=i.charCodeAt(n);return o},t.encodeUTF8=function(r){var n,i=[];for(n=0;n<r.length;n++)i.push(String.fromCharCode(r[n]));return decodeURIComponent(escape(i.join("")))},typeof atob>"u"?typeof Buffer.from<"u"?(t.encodeBase64=function(r){return Buffer.from(r).toString("base64")},t.decodeBase64=function(r){return e(r),new Uint8Array(Array.prototype.slice.call(Buffer.from(r,"base64"),0))}):(t.encodeBase64=function(r){return new Buffer(r).toString("base64")},t.decodeBase64=function(r){return e(r),new Uint8Array(Array.prototype.slice.call(new Buffer(r,"base64"),0))}):(t.encodeBase64=function(r){var n,i=[],o=r.length;for(n=0;n<o;n++)i.push(String.fromCharCode(r[n]));return btoa(i.join(""))},t.decodeBase64=function(r){e(r);var n,i=atob(r),o=new Uint8Array(i.length);for(n=0;n<i.length;n++)o[n]=i.charCodeAt(n);return o}),t})});var PCe=V(Ss=>{"use strict";d();h();var jPt=Ss&&Ss.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),zPt=Ss&&Ss.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),TCe=Ss&&Ss.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&jPt(e,t,r);return zPt(e,t),e};Object.defineProperty(Ss,"__esModule",{value:!0});Ss.getEncryptionPublicKey=Ss.decryptSafely=Ss.decrypt=Ss.encryptSafely=Ss.encrypt=void 0;var ax=TCe(ds()),cd=TCe(_Ce()),Fh=mT();function ICe({publicKey:t,data:e,version:r}){if(Fh.isNullish(t))throw new Error("Missing publicKey parameter");if(Fh.isNullish(e))throw new Error("Missing data parameter");if(Fh.isNullish(r))throw new Error("Missing version parameter");switch(r){case"x25519-xsalsa20-poly1305":{if(typeof e!="string")throw new Error("Message data must be given as a string");let n=ax.box.keyPair(),i;try{i=cd.decodeBase64(t)}catch{throw new Error("Bad public key")}let o=cd.decodeUTF8(e),s=ax.randomBytes(ax.box.nonceLength),c=ax.box(o,s,i,n.secretKey);return{version:"x25519-xsalsa20-poly1305",nonce:cd.encodeBase64(s),ephemPublicKey:cd.encodeBase64(n.publicKey),ciphertext:cd.encodeBase64(c)}}default:throw new Error("Encryption type/version not supported")}}Ss.encrypt=ICe;function WPt({publicKey:t,data:e,version:r}){if(Fh.isNullish(t))throw new Error("Missing publicKey parameter");if(Fh.isNullish(e))throw new Error("Missing data parameter");if(Fh.isNullish(r))throw new Error("Missing version parameter");let n=2**11,i=16;if(typeof e=="object"&&"toJSON"in e)throw new Error("Cannot encrypt with toJSON property.  Please remove toJSON property");let o={data:e,padding:""},c=Buffer.byteLength(JSON.stringify(o),"utf-8")%n,l=0;c>0&&(l=n-c-i),o.padding="0".repeat(l);let m=JSON.stringify(o);return ICe({publicKey:t,data:m,version:r})}Ss.encryptSafely=WPt;function MCe({encryptedData:t,privateKey:e}){if(Fh.isNullish(t))throw new Error("Missing encryptedData parameter");if(Fh.isNullish(e))throw new Error("Missing privateKey parameter");switch(t.version){case"x25519-xsalsa20-poly1305":{let r=kCe(e),n=ax.box.keyPair.fromSecretKey(r).secretKey,i=cd.decodeBase64(t.nonce),o=cd.decodeBase64(t.ciphertext),s=cd.decodeBase64(t.ephemPublicKey),c=ax.box.open(o,i,s,n),l;try{l=cd.encodeUTF8(c)}catch{throw new Error("Decryption failed.")}if(l)return l;throw new Error("Decryption failed.")}default:throw new Error("Encryption type/version not supported.")}}Ss.decrypt=MCe;function GPt({encryptedData:t,privateKey:e}){if(Fh.isNullish(t))throw new Error("Missing encryptedData parameter");if(Fh.isNullish(e))throw new Error("Missing privateKey parameter");return JSON.parse(MCe({encryptedData:t,privateKey:e})).data}Ss.decryptSafely=GPt;function $Pt(t){let e=kCe(t),r=ax.box.keyPair.fromSecretKey(e).publicKey;return cd.encodeBase64(r)}Ss.getEncryptionPublicKey=$Pt;function kCe(t){let e=Buffer.from(t,"hex").toString("base64");return cd.decodeBase64(e)}});var One=V(Nu=>{"use strict";d();h();var YPt=Nu&&Nu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Cne=Nu&&Nu.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&YPt(e,t,r)};Object.defineProperty(Nu,"__esModule",{value:!0});Nu.normalize=Nu.concatSig=void 0;Cne(fCe(),Nu);Cne(ACe(),Nu);Cne(PCe(),Nu);var BCe=mT();Object.defineProperty(Nu,"concatSig",{enumerable:!0,get:function(){return BCe.concatSig}});Object.defineProperty(Nu,"normalize",{enumerable:!0,get:function(){return BCe.normalize}})});var ADe=V(qE=>{"use strict";d();h();Object.defineProperty(qE,"__esModule",{value:!0});qE.testnet=qE.bitcoin=void 0;qE.bitcoin={messagePrefix:`Bitcoin Signed Message:
`,bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128};qE.testnet={messagePrefix:`Bitcoin Signed Message:
`,bech32:"tb",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239}});var EDe=V(ii=>{"use strict";d();h();Object.defineProperty(ii,"__esModule",{value:!0});ii.maybe=ii.Boolean=ii.Array=ii.Buffer256bit=ii.Network=ii.typeforce=void 0;ii.typeforce=VG();ii.Network=ii.typeforce.compile({messagePrefix:ii.typeforce.oneOf(ii.typeforce.Buffer,ii.typeforce.String),bip32:{public:ii.typeforce.UInt32,private:ii.typeforce.UInt32},pubKeyHash:ii.typeforce.UInt8,scriptHash:ii.typeforce.UInt8,wif:ii.typeforce.UInt8});ii.Buffer256bit=ii.typeforce.BufferN(32);ii.Array=ii.typeforce.Array;ii.Boolean=ii.typeforce.Boolean;ii.maybe=ii.typeforce.maybe});var _De=V(iF=>{"use strict";d();h();Object.defineProperty(iF,"__esModule",{value:!0});iF.testEcc=void 0;var jt=t=>Buffer.from(t,"hex");function JNt(t){Si(t.isPoint(jt("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),Si(!t.isPoint(jt("030000000000000000000000000000000000000000000000000000000000000005"))),Si(t.isPrivate(jt("79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),Si(t.isPrivate(jt("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140"))),Si(!t.isPrivate(jt("0000000000000000000000000000000000000000000000000000000000000000"))),Si(!t.isPrivate(jt("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"))),Si(!t.isPrivate(jt("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364142"))),Si(Buffer.from(t.privateAdd(jt("0000000000000000000000000000000000000000000000000000000000000001"),jt("0000000000000000000000000000000000000000000000000000000000000000"))).equals(jt("0000000000000000000000000000000000000000000000000000000000000001"))),Si(t.privateAdd(jt("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd036413e"),jt("0000000000000000000000000000000000000000000000000000000000000003"))===null),Si(Buffer.from(t.privateAdd(jt("e211078564db65c3ce7704f08262b1f38f1ef412ad15b5ac2d76657a63b2c500"),jt("b51fbb69051255d1becbd683de5848242a89c229348dd72896a87ada94ae8665"))).equals(jt("9730c2ee69edbb958d42db7460bafa18fef9d955325aec99044c81c8282b0a24"))),Si(Buffer.from(t.privateNegate(jt("0000000000000000000000000000000000000000000000000000000000000001"))).equals(jt("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140"))),Si(Buffer.from(t.privateNegate(jt("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd036413e"))).equals(jt("0000000000000000000000000000000000000000000000000000000000000003"))),Si(Buffer.from(t.privateNegate(jt("b1121e4088a66a28f5b6b0f5844943ecd9f610196d7bb83b25214b60452c09af"))).equals(jt("4eede1bf775995d70a494f0a7bb6bc11e0b8cccd41cce8009ab1132c8b0a3792"))),Si(Buffer.from(t.pointCompress(jt("0479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8"),!0)).equals(jt("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),Si(Buffer.from(t.pointCompress(jt("0479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8"),!1)).equals(jt("0479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8"))),Si(Buffer.from(t.pointCompress(jt("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),!0)).equals(jt("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),Si(Buffer.from(t.pointCompress(jt("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),!1)).equals(jt("0479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8"))),Si(Buffer.from(t.pointFromScalar(jt("b1121e4088a66a28f5b6b0f5844943ecd9f610196d7bb83b25214b60452c09af"))).equals(jt("02b07ba9dca9523b7ef4bd97703d43d20399eb698e194704791a25ce77a400df99"))),Si(t.xOnlyPointAddTweak(jt("79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),jt("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140"))===null);let e=t.xOnlyPointAddTweak(jt("1617d38ed8d8657da4d4761e8057bc396ea9e4b9d29776d4be096016dbd2509b"),jt("a8397a935f0dfceba6ba9618f6451ef4d80637abf4e6af2669fbc9de6a8fd2ac"));Si(Buffer.from(e.xOnlyPubkey).equals(jt("e478f99dab91052ab39a33ea35fd5e6e4933f4d28023cd597c9a1f6760346adf"))&&e.parity===1),e=t.xOnlyPointAddTweak(jt("2c0b7cf95324a07d05398b240174dc0c2be444d96b159aa6c7f7b1e668680991"),jt("823c3cd2142744b075a87eade7e1b8678ba308d566226a0056ca2b7a76f86b47")),Si(Buffer.from(e.xOnlyPubkey).equals(jt("9534f8dc8c6deda2dc007655981c78b49c5d96c778fbf363462a11ec9dfd948c"))&&e.parity===0),Si(Buffer.from(t.sign(jt("5e9f0a0d593efdcf78ac923bc3313e4e7d408d574354ee2b3288c0da9fbba6ed"),jt("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140"))).equals(jt("54c4a33c6423d689378f160a7ff8b61330444abb58fb470f96ea16d99d4a2fed07082304410efa6b2943111b6a4e0aaa7b7db55a07e9861d1fb3cb1f421044a5"))),Si(t.verify(jt("5e9f0a0d593efdcf78ac923bc3313e4e7d408d574354ee2b3288c0da9fbba6ed"),jt("0379be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),jt("54c4a33c6423d689378f160a7ff8b61330444abb58fb470f96ea16d99d4a2fed07082304410efa6b2943111b6a4e0aaa7b7db55a07e9861d1fb3cb1f421044a5"))),t.signSchnorr&&Si(Buffer.from(t.signSchnorr(jt("7e2d58d8b3bcdf1abadec7829054f90dda9805aab56c77333024b9d0a508b75c"),jt("c90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b14e5c9"),jt("c87aa53824b4d7ae2eb035a2b5bbbccc080e76cdc6d1692c4b0b62d798e6d906"))).equals(jt("5831aaeed7b44bb74e5eab94ba9d4294c49bcf2a60728d8b4c200f50dd313c1bab745879a5ad954a72c45a91c3a51d3c7adea98d82f8481e0e1e03674a6f3fb7"))),t.verifySchnorr&&Si(t.verifySchnorr(jt("7e2d58d8b3bcdf1abadec7829054f90dda9805aab56c77333024b9d0a508b75c"),jt("dd308afec5777e13121fa72b9cc1b7cc0139715309b086c960e18fd969774eb8"),jt("5831aaeed7b44bb74e5eab94ba9d4294c49bcf2a60728d8b4c200f50dd313c1bab745879a5ad954a72c45a91c3a51d3c7adea98d82f8481e0e1e03674a6f3fb7")))}iF.testEcc=JNt;function Si(t){if(!t)throw new Error("ecc library invalid")}});var IDe=V(KE=>{"use strict";d();h();Object.defineProperty(KE,"__esModule",{value:!0});KE.ECPairFactory=KE.networks=void 0;var joe=ADe();KE.networks=joe;var hc=EDe(),XNt=Jh(),TDe=FP(),eDt=_De(),Hoe=hc.typeforce.maybe(hc.typeforce.compile({compressed:hc.maybe(hc.Boolean),network:hc.maybe(hc.Network)})),tDt=t=>t.length===32?t:t.slice(1,33);function rDt(t){(0,eDt.testEcc)(t);function e(c){return t.isPoint(c)}function r(c,l){if(hc.typeforce(hc.Buffer256bit,c),!t.isPrivate(c))throw new TypeError("Private key not in range [1, n)");return hc.typeforce(Hoe,l),new s(c,void 0,l)}function n(c,l){return hc.typeforce(t.isPoint,c),hc.typeforce(Hoe,l),new s(void 0,c,l)}function i(c,l){let m=TDe.decode(c),w=m.version;if(hc.Array(l)){if(l=l.filter(b=>w===b.wif).pop(),!l)throw new Error("Unknown network version")}else if(l=l||joe.bitcoin,w!==l.wif)throw new Error("Invalid network version");return r(m.privateKey,{compressed:m.compressed,network:l})}function o(c){hc.typeforce(Hoe,c),c===void 0&&(c={});let l=c.rng||XNt,m;do m=l(32),hc.typeforce(hc.Buffer256bit,m);while(!t.isPrivate(m));return r(m,c)}class s{__D;__Q;compressed;network;lowR;constructor(l,m,w){this.__D=l,this.__Q=m,this.lowR=!1,w===void 0&&(w={}),this.compressed=w.compressed===void 0?!0:w.compressed,this.network=w.network||joe.bitcoin,m!==void 0&&(this.__Q=Buffer.from(t.pointCompress(m,this.compressed)))}get privateKey(){return this.__D}get publicKey(){if(!this.__Q){let l=t.pointFromScalar(this.__D,this.compressed);this.__Q=Buffer.from(l)}return this.__Q}toWIF(){if(!this.__D)throw new Error("Missing private key");return TDe.encode(this.network.wif,this.__D,this.compressed)}tweak(l){return this.privateKey?this.tweakFromPrivateKey(l):this.tweakFromPublicKey(l)}sign(l,m){if(!this.__D)throw new Error("Missing private key");if(m===void 0&&(m=this.lowR),m===!1)return Buffer.from(t.sign(l,this.__D));{let w=t.sign(l,this.__D),b=Buffer.alloc(32,0),E=0;for(;w[0]>127;)E++,b.writeUIntLE(E,0,6),w=t.sign(l,this.__D,b);return Buffer.from(w)}}signSchnorr(l){if(!this.privateKey)throw new Error("Missing private key");if(!t.signSchnorr)throw new Error("signSchnorr not supported by ecc library");return Buffer.from(t.signSchnorr(l,this.privateKey))}verify(l,m){return t.verify(l,this.publicKey,m)}verifySchnorr(l,m){if(!t.verifySchnorr)throw new Error("verifySchnorr not supported by ecc library");return t.verifySchnorr(l,this.publicKey.subarray(1,33),m)}tweakFromPublicKey(l){let m=tDt(this.publicKey),w=t.xOnlyPointAddTweak(m,l);if(!w||w.xOnlyPubkey===null)throw new Error("Cannot tweak public key!");let b=Buffer.from([w.parity===0?2:3]);return n(Buffer.concat([b,w.xOnlyPubkey]),{network:this.network,compressed:this.compressed})}tweakFromPrivateKey(l){let w=this.publicKey[0]===3||this.publicKey[0]===4&&(this.publicKey[64]&1)===1?t.privateNegate(this.privateKey):this.privateKey,b=t.privateAdd(w,l);if(!b)throw new Error("Invalid tweaked private key!");return r(Buffer.from(b),{network:this.network,compressed:this.compressed})}}return{isPoint:e,fromPrivateKey:r,fromPublicKey:n,fromWIF:i,makeRandom:o}}KE.ECPairFactory=rDt});var MDe=V(lb=>{"use strict";d();h();Object.defineProperty(lb,"__esModule",{value:!0});lb.networks=lb.ECPairFactory=lb.default=void 0;var zoe=IDe();Object.defineProperty(lb,"default",{enumerable:!0,get:function(){return zoe.ECPairFactory}});Object.defineProperty(lb,"ECPairFactory",{enumerable:!0,get:function(){return zoe.ECPairFactory}});Object.defineProperty(lb,"networks",{enumerable:!0,get:function(){return zoe.networks}})});d();h();var l1=qe(Vn()),so=qe(F7()),S0=qe(ta());d();h();e3.config({EXPONENTIAL_AT:1e3,DECIMAL_PLACES:78});d();h();var prt=(t,e)=>t+e,wge=t=>t.reduce(prt,0);var Sge=l1.Buffer.alloc(64).fill(0),Aj=t=>pf(t)?l1.Buffer.from(t.message.serialize()):t.serializeMessage(),V7=t=>S0.default.encode(Aj(t)),Age=t=>{try{return V7($w(t,"bs58"))}catch{return V7($w(t,"base64"))}},Ege=t=>{try{return $w(t,"bs58").version}catch{return $w(t,"base64").version}},_ge=t=>Ej(Tj(t)),pf=t=>t&&"version"in t,q7=(t,e)=>pf(t)?l1.Buffer.from(t.serialize()):t.serialize(e??{requireAllSignatures:!1,verifySignatures:!1}),Ej=(t,e)=>S0.default.encode(q7(t,e)),Tge=(t,e)=>q7(t,e).toString("base64"),$w=(t,e)=>{let r;if(e==="base64")r=l1.Buffer.from(t,"base64");else if(e==="bs58")r=S0.default.decode(t);else throw new Error("Unsupported encoding");return so.VersionedTransaction.deserialize(r)};function _j(t){return pf(t)?t.signatures.filter(r=>r.every(i=>i===0)===!1).length>0:t.signatures.filter(({signature:r})=>r?r.find(i=>i!==0)!==void 0:!1).length>0}var Ige=t=>{let e=t.map(r=>so.VersionedMessage.deserialize(S0.default.decode(r)));return wge(e.map(r=>r.header.numRequiredSignatures))},Tj=t=>{let e=S0.default.decode(t);if(so.VersionedMessage.deserializeMessageVersion(e)==="legacy"){let i=so.Message.from(e);return so.Transaction.populate(i,[])}let n=so.VersionedMessage.deserialize(e);return new so.VersionedTransaction(n)},Mge=(t,e=[])=>{let r=S0.default.decode(t);if(so.VersionedMessage.deserializeMessageVersion(r)==="legacy"){let i=so.Message.from(r);return so.Transaction.populate(i,e.map(s=>s?S0.default.encode(s):S0.default.encode(Sge)))}else{let i=so.VersionedMessage.deserialize(r);return new so.VersionedTransaction(i,e.map(s=>s||Sge))}},kge=t=>t.compileMessage().accountKeys,Ij=t=>pf(t)?t.message.recentBlockhash:t.recentBlockhash,Pge=(t,e)=>{pf(t)?t.message.recentBlockhash=e:t.recentBlockhash=e},Bge=async(t,e)=>{if(Ij(t))return;let r=(await e.getLatestBlockhash("confirmed")).blockhash;Pge(t,r)},Rge=async(t,e)=>{if(_j(t))return;let r=(await e.getLatestBlockhash("confirmed")).blockhash;Pge(t,r)},Mj=(t,e)=>{pf(t)||(t.feePayer=e)},kj=t=>pf(t)?t.message.staticAccountKeys[0]:t.feePayer,Cge=(t,e)=>{kj(t)||Mj(t,e)},Oge=(t,e)=>{pf(t)?t.sign(e):t.partialSign(...e)},Nge=t=>pf(t)?t.message.staticAccountKeys:t.signatures.map(e=>e.publicKey),Dge=t=>pf(t)?t.signatures.map(e=>l1.Buffer.from(e)):t.signatures.map(e=>e.signature).filter(e=>e!==null);function Uge(t){if(!mrt(l1.Buffer.from(t)))return!1;let e;try{e=so.Message.from(t)}catch{e=void 0}let r;try{r=so.VersionedMessage.deserialize(t)}catch{r=void 0}return!e&&!r||(e?.instructions?.length??0)===0&&(r?.compiledInstructions?.length??0)===0}function mrt(t){let e=t.length,r=0;for(;r<e;)if(!(t[r]&128))r++;else if((t[r]&224)===192){if(r+1===e||(t[r+1]&192)!==128||(t[r]&254)===192)return!1;r+=2}else if((t[r]&240)===224){if(r+2>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||t[r]===224&&(t[r+1]&224)===128||t[r]===237&&(t[r+1]&224)===160)return!1;r+=3}else if((t[r]&248)===240){if(r+3>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||(t[r+3]&192)!==128||t[r]===240&&(t[r+1]&240)===128||t[r]===244&&t[r+1]>143||t[r]>244)return!1;r+=4}else return!1;return!0}var Lge=t=>e3(t).dividedBy(so.LAMPORTS_PER_SOL),Fge=t=>e3(t).multipliedBy(so.LAMPORTS_PER_SOL);var lu={};OF(lu,{BufferLayout:()=>vrt,Message:()=>Ec.Message,MessageV0:()=>Ec.MessageV0,Transaction:()=>Ec.Transaction,TransactionInstruction:()=>Ec.TransactionInstruction,TransactionMessage:()=>Ec.TransactionMessage,VersionedMessage:()=>Ec.VersionedMessage,VersionedTransaction:()=>Ec.VersionedTransaction,getAccountsFromTransaction:()=>kge,getFeePayer:()=>kj,getRecentBlockhash:()=>Ij,getRequiredSignatures:()=>Ige,getSignaturePubKeys:()=>Nge,getSignatures:()=>Dge,isAlreadySigned:()=>_j,isSafeMessage:()=>Uge,isVersionedTransaction:()=>pf,lamportsToSolana:()=>Lge,messageAndSignaturesToTransaction:()=>Mge,messageStringToTransaction:()=>Tj,messageStringToTransactionString:()=>_ge,setFeePayer:()=>Mj,setFeePayerIfNotExists:()=>Cge,setRecentBlockhashIfNotExists:()=>Bge,setRecentBlockhashIfNotSigned:()=>Rge,signWithAdditionalSigners:()=>Oge,solanaInstructionEncodeData:()=>jge,solanaToLamports:()=>Fge,transactionStringToMessageString:()=>Age,transactionStringToTransaction:()=>$w,transactionStringToVersion:()=>Ege,transactionToBase58TransactionString:()=>Ej,transactionToBase64TransactionString:()=>Tge,transactionToMessageString:()=>V7,transactionToSerializedMessage:()=>Aj,transactionToSerializedTransaction:()=>q7,u64:()=>Kge});d();h();var vrt=qe(u6()),Ec=qe(F7());$h(lu,qe(F7()));d();h();var Vge=qe(o3()),qge=qe(u6()),K7=qe(gH()),yrt=t=>{let e=t.decode.bind(t),r=t.encode.bind(t);return{decode:e,encode:r}},H7=t=>e=>{let r=(0,qge.blob)(t,e),{encode:n,decode:i}=yrt(r),o=r;return o.decode=(s,c)=>{let l=i(s,c);return(0,K7.toBigIntLE)(Vge.Buffer.from(l))},o.encode=(s,c,l)=>{let m=(0,K7.toBufferLE)(s,t);return n(m,c,l)},o},Kge=H7(8),rZt=H7(16),nZt=H7(24),iZt=H7(32);d();h();var Hge=qe(o3());d();h();var grt=qe(o3()),Yw=qe(u6());function Pj(t,e){let r=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){let o=e[i.property];if(Array.isArray(o))return o.length*r(i.elementLayout)}else if("fields"in i)return Pj({layout:i},e[i.property]);return 0},n=0;return t.layout.fields.forEach(i=>{n+=r(i)}),n}function jge(t,e){let r=t.layout.span>=0?t.layout.span:Pj(t,e),n=Hge.Buffer.alloc(r),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,n),n}d();h();d();h();d();h();d();h();var xrt=qe(om(),1);var us=BigInt(0),nn=BigInt(1),Um=BigInt(2),wrt=BigInt(8),zge=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),mi=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:zge,n:zge,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")});var Zge=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),W6=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),vZt=BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742"),Srt=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),Art=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),Ert=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),_rt=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),Bo=class t{constructor(e,r,n,i){this.x=e,this.y=r,this.z=n,this.t=i}static fromAffine(e){if(!(e instanceof ao))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return e.equals(ao.ZERO)?t.ZERO:new t(e.x,e.y,nn,rt(e.x*e.y))}static toAffineBatch(e){let r=Mrt(e.map(n=>n.z));return e.map((n,i)=>n.toAffine(r[i]))}static normalizeZ(e){return this.toAffineBatch(e).map(this.fromAffine)}equals(e){Gge(e);let{x:r,y:n,z:i}=this,{x:o,y:s,z:c}=e,l=rt(r*c),m=rt(o*i),w=rt(n*c),b=rt(s*i);return l===m&&w===b}negate(){return new t(rt(-this.x),this.y,this.z,rt(-this.t))}double(){let{x:e,y:r,z:n}=this,{a:i}=mi,o=rt(e*e),s=rt(r*r),c=rt(Um*rt(n*n)),l=rt(i*o),m=e+r,w=rt(rt(m*m)-o-s),b=l+s,E=b-c,I=l-s,M=rt(w*E),k=rt(b*I),R=rt(w*I),B=rt(E*b);return new t(M,k,B,R)}add(e){Gge(e);let{x:r,y:n,z:i,t:o}=this,{x:s,y:c,z:l,t:m}=e,w=rt((n-r)*(c+s)),b=rt((n+r)*(c-s)),E=rt(b-w);if(E===us)return this.double();let I=rt(i*Um*m),M=rt(o*Um*l),k=M+I,R=b+w,B=M-I,U=rt(k*E),P=rt(R*B),F=rt(k*B),q=rt(E*R);return new t(U,P,q,F)}subtract(e){return this.add(e.negate())}precomputeWindow(e){let r=1+256/e,n=[],i=this,o=i;for(let s=0;s<r;s++){o=i,n.push(o);for(let c=1;c<2**(e-1);c++)o=o.add(i),n.push(o);i=o.double()}return n}wNAF(e,r){!r&&this.equals(t.BASE)&&(r=ao.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=r&&Oj.get(r);i||(i=this.precomputeWindow(n),r&&n!==1&&(i=t.normalizeZ(i),Oj.set(r,i)));let o=t.ZERO,s=t.BASE,c=1+256/n,l=2**(n-1),m=BigInt(2**n-1),w=2**n,b=BigInt(n);for(let E=0;E<c;E++){let I=E*l,M=Number(e&m);e>>=b,M>l&&(M-=w,e+=nn);let k=I,R=I+Math.abs(M)-1,B=E%2!==0,U=M<0;M===0?s=s.add(Wge(B,i[k])):o=o.add(Wge(U,i[R]))}return t.normalizeZ([o,s])[0]}multiply(e,r){return this.wNAF(z7(e,mi.l),r)}multiplyUnsafe(e){let r=z7(e,mi.l,!1),n=t.BASE,i=t.ZERO;if(r===us)return i;if(this.equals(i)||r===nn)return this;if(this.equals(n))return this.wNAF(r);let o=i,s=this;for(;r>us;)r&nn&&(o=o.add(s)),s=s.double(),r>>=nn;return o}isSmallOrder(){return this.multiplyUnsafe(mi.h).equals(t.ZERO)}isTorsionFree(){let e=this.multiplyUnsafe(mi.l/Um).double();return mi.l%Um&&(e=e.add(this)),e.equals(t.ZERO)}toAffine(e){let{x:r,y:n,z:i}=this,o=this.equals(t.ZERO);e==null&&(e=o?wrt:G7(i));let s=rt(r*e),c=rt(n*e),l=rt(i*e);if(o)return ao.ZERO;if(l!==nn)throw new Error("invZ was invalid");return new ao(s,c)}fromRistrettoBytes(){Rj()}toRistrettoBytes(){Rj()}fromRistrettoHash(){Rj()}};Bo.BASE=new Bo(mi.Gx,mi.Gy,nn,rt(mi.Gx*mi.Gy));Bo.ZERO=new Bo(us,nn,nn,us);function Wge(t,e){let r=e.negate();return t?r:e}function Gge(t){if(!(t instanceof Bo))throw new TypeError("ExtendedPoint expected")}function Bj(t){if(!(t instanceof d1))throw new TypeError("RistrettoPoint expected")}function Rj(){throw new Error("Legacy method: switch to RistrettoPoint")}var d1=class t{constructor(e){this.ep=e}static calcElligatorRistrettoMap(e){let{d:r}=mi,n=rt(W6*e*e),i=rt((n+nn)*Ert),o=BigInt(-1),s=rt((o-r*n)*rt(n+r)),{isValid:c,value:l}=Dj(i,s),m=rt(l*e);Dm(m)||(m=rt(-m)),c||(l=m),c||(o=n);let w=rt(o*(n-nn)*_rt-s),b=l*l,E=rt((l+l)*s),I=rt(w*Srt),M=rt(nn-b),k=rt(nn+b);return new Bo(rt(E*k),rt(M*I),rt(I*k),rt(E*M))}static hashToCurve(e){e=Lm(e,64);let r=Cj(e.slice(0,32)),n=this.calcElligatorRistrettoMap(r),i=Cj(e.slice(32,64)),o=this.calcElligatorRistrettoMap(i);return new t(n.add(o))}static fromHex(e){e=Lm(e,32);let{a:r,d:n}=mi,i="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",o=Cj(e);if(!Prt(Y6(o),e)||Dm(o))throw new Error(i);let s=rt(o*o),c=rt(nn+r*s),l=rt(nn-r*s),m=rt(c*c),w=rt(l*l),b=rt(r*n*m-w),{isValid:E,value:I}=Yge(rt(b*w)),M=rt(I*l),k=rt(I*M*b),R=rt((o+o)*M);Dm(R)&&(R=rt(-R));let B=rt(c*k),U=rt(R*B);if(!E||Dm(U)||B===us)throw new Error(i);return new t(new Bo(R,B,nn,U))}toRawBytes(){let{x:e,y:r,z:n,t:i}=this.ep,o=rt(rt(n+r)*rt(n-r)),s=rt(e*r),c=rt(s*s),{value:l}=Yge(rt(o*c)),m=rt(l*o),w=rt(l*s),b=rt(m*w*i),E;if(Dm(i*b)){let M=rt(r*W6),k=rt(e*W6);e=M,r=k,E=rt(m*Art)}else E=w;Dm(e*b)&&(r=rt(-r));let I=rt((n-r)*E);return Dm(I)&&(I=rt(-I)),Y6(I)}toHex(){return Z6(this.toRawBytes())}toString(){return this.toHex()}equals(e){Bj(e);let r=this.ep,n=e.ep,i=rt(r.x*n.y)===rt(r.y*n.x),o=rt(r.y*n.y)===rt(r.x*n.x);return i||o}add(e){return Bj(e),new t(this.ep.add(e.ep))}subtract(e){return Bj(e),new t(this.ep.subtract(e.ep))}multiply(e){return new t(this.ep.multiply(e))}multiplyUnsafe(e){return new t(this.ep.multiplyUnsafe(e))}};d1.BASE=new d1(Bo.BASE);d1.ZERO=new d1(Bo.ZERO);var Oj=new WeakMap,ao=class t{constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,Oj.delete(this)}static fromHex(e,r=!0){let{d:n,P:i}=mi;e=Lm(e,32);let o=e.slice();o[31]=e[31]&-129;let s=Q6(o);if(r&&s>=i)throw new Error("Expected 0 < hex < P");if(!r&&s>=Zge)throw new Error("Expected 0 < hex < 2**256");let c=rt(s*s),l=rt(c-nn),m=rt(n*c+nn),{isValid:w,value:b}=Dj(l,m);if(!w)throw new Error("Point.fromHex: invalid y coordinate");let E=(b&nn)===nn;return(e[31]&128)!==0!==E&&(b=rt(-b)),new t(b,s)}static async fromPrivateKey(e){return(await ebe(e)).point}toRawBytes(){let e=Y6(this.y);return e[31]|=this.x&nn?128:0,e}toHex(){return Z6(this.toRawBytes())}toX25519(){let{y:e}=this,r=rt((nn+e)*G7(nn-e));return Y6(r)}isTorsionFree(){return Bo.fromAffine(this).isTorsionFree()}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new t(rt(-this.x),this.y)}add(e){return Bo.fromAffine(this).add(Bo.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return Bo.fromAffine(this).multiply(e,this).toAffine()}};ao.BASE=new ao(mi.Gx,mi.Gy);ao.ZERO=new ao(us,nn);var $6=class t{constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromHex(e){let r=Lm(e,64),n=ao.fromHex(r.slice(0,32),!1),i=Q6(r.slice(32,64));return new t(n,i)}assertValidity(){let{r:e,s:r}=this;if(!(e instanceof ao))throw new Error("Expected Point instance");return z7(r,mi.l,!1),this}toRawBytes(){let e=new Uint8Array(64);return e.set(this.r.toRawBytes()),e.set(Y6(this.s),32),e}toHex(){return Z6(this.toRawBytes())}};function $ge(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Expected Uint8Array list");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let o=t[n];r.set(o,i),i+=o.length}return r}var Trt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Z6(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=Trt[t[r]];return e}function Nj(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");e[r]=o}return e}function Qge(t){let r=t.toString(16).padStart(64,"0");return Nj(r)}function Y6(t){return Qge(t).reverse()}function Dm(t){return(rt(t)&nn)===nn}function Q6(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+Z6(Uint8Array.from(t).reverse()))}var Irt=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Cj(t){return rt(Q6(t)&Irt)}function rt(t,e=mi.P){let r=t%e;return r>=us?r:e+r}function G7(t,e=mi.P){if(t===us||e<=us)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=rt(t,e),n=e,i=us,o=nn,s=nn,c=us;for(;r!==us;){let m=n/r,w=n%r,b=i-s*m,E=o-c*m;n=r,r=w,i=s,o=c,s=b,c=E}if(n!==nn)throw new Error("invert: does not exist");return rt(i,e)}function Mrt(t,e=mi.P){let r=new Array(t.length),n=t.reduce((o,s,c)=>s===us?o:(r[c]=o,rt(o*s,e)),nn),i=G7(n,e);return t.reduceRight((o,s,c)=>s===us?o:(r[c]=rt(o*r[c],e),rt(o*s,e)),i),r}function jd(t,e){let{P:r}=mi,n=t;for(;e-- >us;)n*=n,n%=r;return n}function krt(t){let{P:e}=mi,r=BigInt(5),n=BigInt(10),i=BigInt(20),o=BigInt(40),s=BigInt(80),l=t*t%e*t%e,m=jd(l,Um)*l%e,w=jd(m,nn)*t%e,b=jd(w,r)*w%e,E=jd(b,n)*b%e,I=jd(E,i)*E%e,M=jd(I,o)*I%e,k=jd(M,s)*M%e,R=jd(k,s)*M%e,B=jd(R,n)*b%e;return{pow_p_5_8:jd(B,Um)*t%e,b2:l}}function Dj(t,e){let r=rt(e*e*e),n=rt(r*r*e),i=krt(t*n).pow_p_5_8,o=rt(t*r*i),s=rt(e*o*o),c=o,l=rt(o*W6),m=s===t,w=s===rt(-t),b=s===rt(-t*W6);return m&&(o=c),(w||b)&&(o=l),Dm(o)&&(o=rt(-o)),{isValid:m||w,value:o}}function Yge(t){return Dj(nn,t)}function j7(t){return rt(Q6(t),mi.l)}function Prt(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function Lm(t,e){let r=t instanceof Uint8Array?Uint8Array.from(t):Nj(t);if(typeof e=="number"&&r.length!==e)throw new Error(`Expected ${e} bytes`);return r}function z7(t,e,r=!0){if(!e)throw new TypeError("Specify max value");if(typeof t=="number"&&Number.isSafeInteger(t)&&(t=BigInt(t)),typeof t=="bigint"&&t<e){if(r){if(us<t)return t}else if(us<=t)return t}throw new TypeError("Expected valid scalar: 0 < scalar < max")}function Brt(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function Jge(t){if(t=typeof t=="bigint"||typeof t=="number"?Qge(z7(t,Zge)):Lm(t),t.length!==32)throw new Error("Expected 32 bytes");return t}function Xge(t){let e=Brt(t.slice(0,32)),r=t.slice(32,64),n=j7(e),i=ao.BASE.multiply(n),o=i.toRawBytes();return{head:e,prefix:r,scalar:n,point:i,pointBytes:o}}var G6;function W7(...t){if(typeof G6!="function")throw new Error("utils.sha512Sync must be set to use sync methods");return G6(...t)}async function ebe(t){return Xge(await A0.sha512(Jge(t)))}function Uj(t){return Xge(W7(Jge(t)))}function Rrt(t){return Uj(t).pointBytes}function Crt(t,e){t=Lm(t);let{prefix:r,scalar:n,pointBytes:i}=Uj(e),o=j7(W7(r,t)),s=ao.BASE.multiply(o),c=j7(W7(s.toRawBytes(),i,t)),l=rt(o+c*n,mi.l);return new $6(s,l).toRawBytes()}function Ort(t,e,r){e=Lm(e),r instanceof ao||(r=ao.fromHex(r,!1));let{r:n,s:i}=t instanceof $6?t.assertValidity():$6.fromHex(t),o=Bo.BASE.multiplyUnsafe(i);return{r:n,s:i,SB:o,pub:r,msg:e}}function Nrt(t,e,r,n){let i=j7(n),o=Bo.fromAffine(t).multiplyUnsafe(i);return Bo.fromAffine(e).add(o).subtract(r).multiplyUnsafe(mi.h).equals(Bo.ZERO)}function Drt(t,e,r){let{r:n,SB:i,msg:o,pub:s}=Ort(t,e,r),c=W7(n.toRawBytes(),s.toRawBytes(),o);return Nrt(s,n,i,c)}var $7={getExtendedPublicKey:Uj,getPublicKey:Rrt,sign:Crt,verify:Drt};ao.BASE._setWindowSize(8);var Nm={node:xrt,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},A0={bytesToHex:Z6,hexToBytes:Nj,concatBytes:$ge,getExtendedPublicKey:ebe,mod:rt,invert:G7,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:t=>{if(t=Lm(t),t.length<40||t.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return rt(Q6(t),mi.l-nn)+nn},randomBytes:(t=32)=>{if(Nm.web)return Nm.web.getRandomValues(new Uint8Array(t));if(Nm.node){let{randomBytes:e}=Nm.node;return new Uint8Array(e(t).buffer)}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>A0.randomBytes(32),sha512:async(...t)=>{let e=$ge(...t);if(Nm.web){let r=await Nm.web.subtle.digest("SHA-512",e.buffer);return new Uint8Array(r)}else{if(Nm.node)return Uint8Array.from(Nm.node.createHash("sha512").update(e).digest());throw new Error("The environment doesn't have sha512 function")}},precompute(t=8,e=ao.BASE){let r=e.equals(ao.BASE)?e:new ao(e.x,e.y);return r._setWindowSize(t),r.multiply(Um),r},sha512Sync:void 0};Object.defineProperties(A0,{sha512Sync:{configurable:!1,get(){return G6},set(t){G6||(G6=t)}}});d();h();d();h();d();h();function Lj(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function Urt(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function tbe(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function Lrt(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Lj(t.outputLen),Lj(t.blockLen)}function Frt(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Vrt(t,e){tbe(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var qrt={number:Lj,bool:Urt,bytes:tbe,hash:Lrt,exists:Frt,output:Vrt},E0=qrt;d();h();d();h();var Krt={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};var Y7=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);var Hrt=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Hrt)throw new Error("Non little-endian hardware is not supported");var PZt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function jrt(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function J6(t){if(typeof t=="string"&&(t=jrt(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}var Zw=class{clone(){return this._cloneInto()}};function X6(t){let e=n=>t().update(J6(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function zrt(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),c=Number(r&o),l=n?4:0,m=n?0:4;t.setUint32(e+l,s,n),t.setUint32(e+m,c,n)}var Z7=class extends Zw{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Y7(this.buffer)}update(e){E0.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=J6(e);let o=e.length;for(let s=0;s<o;){let c=Math.min(i-this.pos,o-s);if(c===i){let l=Y7(e);for(;i<=o-s;s+=i)this.process(l,s);continue}n.set(e.subarray(s,s+c),this.pos),this.pos+=c,s+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){E0.exists(this),E0.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let b=s;b<i;b++)r[b]=0;zrt(n,i-8,BigInt(this.length*8),o),this.process(n,0);let c=Y7(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let m=l/4,w=this.get();if(m>w.length)throw new Error("_sha2: outputLen bigger than state");for(let b=0;b<m;b++)c.setUint32(4*b,w[b],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:c}=this;return e.length=i,e.pos=c,e.finished=o,e.destroyed=s,i%r&&e.buffer.set(n),e}};d();h();var Q7=BigInt(4294967295),Fj=BigInt(32);function rbe(t,e=!1){return e?{h:Number(t&Q7),l:Number(t>>Fj&Q7)}:{h:Number(t>>Fj&Q7)|0,l:Number(t&Q7)|0}}function Wrt(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:o,l:s}=rbe(t[i],e);[r[i],n[i]]=[o,s]}return[r,n]}var Grt=(t,e)=>BigInt(t>>>0)<<Fj|BigInt(e>>>0),$rt=(t,e,r)=>t>>>r,Yrt=(t,e,r)=>t<<32-r|e>>>r,Zrt=(t,e,r)=>t>>>r|e<<32-r,Qrt=(t,e,r)=>t<<32-r|e>>>r,Jrt=(t,e,r)=>t<<64-r|e>>>r-32,Xrt=(t,e,r)=>t>>>r-32|e<<64-r,ent=(t,e)=>e,tnt=(t,e)=>t,rnt=(t,e,r)=>t<<r|e>>>32-r,nnt=(t,e,r)=>e<<r|t>>>32-r,int=(t,e,r)=>e<<r-32|t>>>64-r,ont=(t,e,r)=>t<<r-32|e>>>64-r;function snt(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}var ant=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),cnt=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,unt=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),fnt=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,lnt=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),dnt=(t,e,r,n,i,o)=>e+r+n+i+o+(t/2**32|0)|0,hnt={fromBig:rbe,split:Wrt,toBig:Grt,shrSH:$rt,shrSL:Yrt,rotrSH:Zrt,rotrSL:Qrt,rotrBH:Jrt,rotrBL:Xrt,rotr32H:ent,rotr32L:tnt,rotlSH:rnt,rotlSL:nnt,rotlBH:int,rotlBL:ont,add:snt,add3L:ant,add3H:cnt,add4L:unt,add4H:fnt,add5H:dnt,add5L:lnt},fr=hnt;var[pnt,mnt]=fr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Fm=new Uint32Array(80),Vm=new Uint32Array(80),Qw=class extends Z7{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:o,Cl:s,Dh:c,Dl:l,Eh:m,El:w,Fh:b,Fl:E,Gh:I,Gl:M,Hh:k,Hl:R}=this;return[e,r,n,i,o,s,c,l,m,w,b,E,I,M,k,R]}set(e,r,n,i,o,s,c,l,m,w,b,E,I,M,k,R){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=c|0,this.Dl=l|0,this.Eh=m|0,this.El=w|0,this.Fh=b|0,this.Fl=E|0,this.Gh=I|0,this.Gl=M|0,this.Hh=k|0,this.Hl=R|0}process(e,r){for(let P=0;P<16;P++,r+=4)Fm[P]=e.getUint32(r),Vm[P]=e.getUint32(r+=4);for(let P=16;P<80;P++){let F=Fm[P-15]|0,q=Vm[P-15]|0,K=fr.rotrSH(F,q,1)^fr.rotrSH(F,q,8)^fr.shrSH(F,q,7),re=fr.rotrSL(F,q,1)^fr.rotrSL(F,q,8)^fr.shrSL(F,q,7),Q=Fm[P-2]|0,ie=Vm[P-2]|0,S=fr.rotrSH(Q,ie,19)^fr.rotrBH(Q,ie,61)^fr.shrSH(Q,ie,6),a=fr.rotrSL(Q,ie,19)^fr.rotrBL(Q,ie,61)^fr.shrSL(Q,ie,6),f=fr.add4L(re,a,Vm[P-7],Vm[P-16]),p=fr.add4H(f,K,S,Fm[P-7],Fm[P-16]);Fm[P]=p|0,Vm[P]=f|0}let{Ah:n,Al:i,Bh:o,Bl:s,Ch:c,Cl:l,Dh:m,Dl:w,Eh:b,El:E,Fh:I,Fl:M,Gh:k,Gl:R,Hh:B,Hl:U}=this;for(let P=0;P<80;P++){let F=fr.rotrSH(b,E,14)^fr.rotrSH(b,E,18)^fr.rotrBH(b,E,41),q=fr.rotrSL(b,E,14)^fr.rotrSL(b,E,18)^fr.rotrBL(b,E,41),K=b&I^~b&k,re=E&M^~E&R,Q=fr.add5L(U,q,re,mnt[P],Vm[P]),ie=fr.add5H(Q,B,F,K,pnt[P],Fm[P]),S=Q|0,a=fr.rotrSH(n,i,28)^fr.rotrBH(n,i,34)^fr.rotrBH(n,i,39),f=fr.rotrSL(n,i,28)^fr.rotrBL(n,i,34)^fr.rotrBL(n,i,39),p=n&o^n&c^o&c,y=i&s^i&l^s&l;B=k|0,U=R|0,k=I|0,R=M|0,I=b|0,M=E|0,{h:b,l:E}=fr.add(m|0,w|0,ie|0,S|0),m=c|0,w=l|0,c=o|0,l=s|0,o=n|0,s=i|0;let g=fr.add3L(S,f,y);n=fr.add3H(g,ie,a,p),i=g|0}({h:n,l:i}=fr.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:o,l:s}=fr.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:c,l}=fr.add(this.Ch|0,this.Cl|0,c|0,l|0),{h:m,l:w}=fr.add(this.Dh|0,this.Dl|0,m|0,w|0),{h:b,l:E}=fr.add(this.Eh|0,this.El|0,b|0,E|0),{h:I,l:M}=fr.add(this.Fh|0,this.Fl|0,I|0,M|0),{h:k,l:R}=fr.add(this.Gh|0,this.Gl|0,k|0,R|0),{h:B,l:U}=fr.add(this.Hh|0,this.Hl|0,B|0,U|0),this.set(n,i,o,s,c,l,m,w,b,E,I,M,k,R,B,U)}roundClean(){Fm.fill(0),Vm.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},Vj=class extends Qw{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},qj=class extends Qw{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},Kj=class extends Qw{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}},qm=X6(()=>new Qw),zZt=X6(()=>new Vj),WZt=X6(()=>new qj),GZt=X6(()=>new Kj);d();h();var ynt=qe(om(),1);var xn=BigInt(0),_i=BigInt(1),Hm=BigInt(2),r_=BigInt(3),nbe=BigInt(8),Ti=Object.freeze({a:xn,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:_i,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),ibe=(t,e)=>(t+e/Hm)/e,J7={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(t){let{n:e}=Ti,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-_i*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,s=BigInt("0x100000000000000000000000000000000"),c=ibe(o*t,e),l=ibe(-n*t,e),m=Et(t-c*r-l*i,e),w=Et(-c*n-l*o,e),b=m>s,E=w>s;if(b&&(m=e-m),E&&(w=e-w),m>s||w>s)throw new Error("splitScalarEndo: Endomorphism failed, k="+t);return{k1neg:b,k1:m,k2neg:E,k2:w}}},Jw=32,i_=32;var obe=Jw+1,sbe=2*Jw+1;function abe(t){let{a:e,b:r}=Ti,n=Et(t*t),i=Et(n*t);return Et(i+e*t+r)}var X7=Ti.a===xn,n9=class extends Error{constructor(e){super(e)}};function cbe(t){if(!(t instanceof za))throw new TypeError("JacobianPoint expected")}var za=class t{constructor(e,r,n){this.x=e,this.y=r,this.z=n}static fromAffine(e){if(!(e instanceof co))throw new TypeError("JacobianPoint#fromAffine: expected Point");return e.equals(co.ZERO)?t.ZERO:new t(e.x,e.y,_i)}static toAffineBatch(e){let r=wnt(e.map(n=>n.z));return e.map((n,i)=>n.toAffine(r[i]))}static normalizeZ(e){return t.toAffineBatch(e).map(t.fromAffine)}equals(e){cbe(e);let{x:r,y:n,z:i}=this,{x:o,y:s,z:c}=e,l=Et(i*i),m=Et(c*c),w=Et(r*m),b=Et(o*l),E=Et(Et(n*c)*m),I=Et(Et(s*i)*l);return w===b&&E===I}negate(){return new t(this.x,Et(-this.y),this.z)}double(){let{x:e,y:r,z:n}=this,i=Et(e*e),o=Et(r*r),s=Et(o*o),c=e+o,l=Et(Hm*(Et(c*c)-i-s)),m=Et(r_*i),w=Et(m*m),b=Et(w-Hm*l),E=Et(m*(l-b)-nbe*s),I=Et(Hm*r*n);return new t(b,E,I)}add(e){cbe(e);let{x:r,y:n,z:i}=this,{x:o,y:s,z:c}=e;if(o===xn||s===xn)return this;if(r===xn||n===xn)return e;let l=Et(i*i),m=Et(c*c),w=Et(r*m),b=Et(o*l),E=Et(Et(n*c)*m),I=Et(Et(s*i)*l),M=Et(b-w),k=Et(I-E);if(M===xn)return k===xn?this.double():t.ZERO;let R=Et(M*M),B=Et(M*R),U=Et(w*R),P=Et(k*k-B-Hm*U),F=Et(k*(U-P)-E*B),q=Et(i*c*M);return new t(P,F,q)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){let r=t.ZERO;if(typeof e=="bigint"&&e===xn)return r;let n=lbe(e);if(n===_i)return this;if(!X7){let b=r,E=this;for(;n>xn;)n&_i&&(b=b.add(E)),E=E.double(),n>>=_i;return b}let{k1neg:i,k1:o,k2neg:s,k2:c}=J7.splitScalar(n),l=r,m=r,w=this;for(;o>xn||c>xn;)o&_i&&(l=l.add(w)),c&_i&&(m=m.add(w)),w=w.double(),o>>=_i,c>>=_i;return i&&(l=l.negate()),s&&(m=m.negate()),m=new t(Et(m.x*J7.beta),m.y,m.z),l.add(m)}precomputeWindow(e){let r=X7?128/e+1:256/e+1,n=[],i=this,o=i;for(let s=0;s<r;s++){o=i,n.push(o);for(let c=1;c<2**(e-1);c++)o=o.add(i),n.push(o);i=o.double()}return n}wNAF(e,r){!r&&this.equals(t.BASE)&&(r=co.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=r&&jj.get(r);i||(i=this.precomputeWindow(n),r&&n!==1&&(i=t.normalizeZ(i),jj.set(r,i)));let o=t.ZERO,s=t.BASE,c=1+(X7?128/n:256/n),l=2**(n-1),m=BigInt(2**n-1),w=2**n,b=BigInt(n);for(let E=0;E<c;E++){let I=E*l,M=Number(e&m);e>>=b,M>l&&(M-=w,e+=_i);let k=I,R=I+Math.abs(M)-1,B=E%2!==0,U=M<0;M===0?s=s.add(e9(B,i[k])):o=o.add(e9(U,i[R]))}return{p:o,f:s}}multiply(e,r){let n=lbe(e),i,o;if(X7){let{k1neg:s,k1:c,k2neg:l,k2:m}=J7.splitScalar(n),{p:w,f:b}=this.wNAF(c,r),{p:E,f:I}=this.wNAF(m,r);w=e9(s,w),E=e9(l,E),E=new t(Et(E.x*J7.beta),E.y,E.z),i=w.add(E),o=b.add(I)}else{let{p:s,f:c}=this.wNAF(n,r);i=s,o=c}return t.normalizeZ([i,o])[0]}toAffine(e){let{x:r,y:n,z:i}=this,o=this.equals(t.ZERO);e==null&&(e=o?nbe:a9(i));let s=e,c=Et(s*s),l=Et(c*s),m=Et(r*c),w=Et(n*l),b=Et(i*s);if(o)return co.ZERO;if(b!==_i)throw new Error("invZ was invalid");return new co(m,w)}};za.BASE=new za(Ti.Gx,Ti.Gy,_i);za.ZERO=new za(xn,_i,xn);function e9(t,e){let r=e.negate();return t?r:e}var jj=new WeakMap,co=class t{constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,jj.delete(this)}hasEvenY(){return this.y%Hm===xn}static fromCompressedHex(e){let r=e.length===32,n=yf(r?e:e.subarray(1));if(!r9(n))throw new Error("Point is not on curve");let i=abe(n),o=xnt(i),s=(o&_i)===_i;r?s&&(o=Et(-o)):(e[0]&1)===1!==s&&(o=Et(-o));let c=new t(n,o);return c.assertValidity(),c}static fromUncompressedHex(e){let r=yf(e.subarray(1,Jw+1)),n=yf(e.subarray(Jw+1,Jw*2+1)),i=new t(r,n);return i.assertValidity(),i}static fromHex(e){let r=h1(e),n=r.length,i=r[0];if(n===Jw)return this.fromCompressedHex(r);if(n===obe&&(i===2||i===3))return this.fromCompressedHex(r);if(n===sbe&&i===4)return this.fromUncompressedHex(r);throw new Error(`Point.fromHex: received invalid point. Expected 32-${obe} compressed bytes or ${sbe} uncompressed bytes, not ${n}`)}static fromPrivateKey(e){return t.BASE.multiply(a_(e))}static fromSignature(e,r,n){let{r:i,s:o}=_nt(r);if(![0,1,2,3].includes(n))throw new Error("Cannot recover: invalid recovery bit");let s=Ant(h1(e)),{n:c}=Ti,l=n===2||n===3?i+c:i,m=a9(l,c),w=Et(-s*m,c),b=Et(o*m,c),E=n&1?"03":"02",I=t.fromHex(E+jm(l)),M=t.BASE.multiplyAndAddUnsafe(I,w,b);if(!M)throw new Error("Cannot recover signature: point at infinify");return M.assertValidity(),M}toRawBytes(e=!1){return zm(this.toHex(e))}toHex(e=!1){let r=jm(this.x);return e?`${this.hasEvenY()?"02":"03"}${r}`:`04${r}${jm(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){let e="Point is not on elliptic curve",{x:r,y:n}=this;if(!r9(r)||!r9(n))throw new Error(e);let i=Et(n*n),o=abe(r);if(Et(i-o)!==xn)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new t(this.x,Et(-this.y))}double(){return za.fromAffine(this).double().toAffine()}add(e){return za.fromAffine(this).add(za.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return za.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,r,n){let i=za.fromAffine(this),o=r===xn||r===_i||this!==t.BASE?i.multiplyUnsafe(r):i.multiply(r),s=za.fromAffine(e).multiplyUnsafe(n),c=o.add(s);return c.equals(za.ZERO)?void 0:c.toAffine()}};co.BASE=new co(Ti.Gx,Ti.Gy);co.ZERO=new co(xn,xn);function ube(t){return Number.parseInt(t[0],16)>=8?"00"+t:t}function fbe(t){if(t.length<2||t[0]!==2)throw new Error(`Invalid signature integer tag: ${e2(t)}`);let e=t[1],r=t.subarray(2,e+2);if(!e||r.length!==e)throw new Error("Invalid signature integer: wrong length");if(r[0]===0&&r[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:yf(r),left:t.subarray(e+2)}}function gnt(t){if(t.length<2||t[0]!=48)throw new Error(`Invalid signature tag: ${e2(t)}`);if(t[1]!==t.length-2)throw new Error("Invalid signature: incorrect length");let{data:e,left:r}=fbe(t.subarray(2)),{data:n,left:i}=fbe(r);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${e2(i)}`);return{r:e,s:n}}var n_=class t{constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromCompact(e){let r=e instanceof Uint8Array,n="Signature.fromCompact";if(typeof e!="string"&&!r)throw new TypeError(`${n}: Expected string or Uint8Array`);let i=r?e2(e):e;if(i.length!==128)throw new Error(`${n}: Expected 64-byte hex`);return new t(i9(i.slice(0,64)),i9(i.slice(64,128)))}static fromDER(e){let r=e instanceof Uint8Array;if(typeof e!="string"&&!r)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");let{r:n,s:i}=gnt(r?e:zm(e));return new t(n,i)}static fromHex(e){return this.fromDER(e)}assertValidity(){let{r:e,s:r}=this;if(!s_(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!s_(r))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){let e=Ti.n>>_i;return this.s>e}normalizeS(){return this.hasHighS()?new t(this.r,Et(-this.s,Ti.n)):this}toDERRawBytes(){return zm(this.toDERHex())}toDERHex(){let e=ube(t_(this.s)),r=ube(t_(this.r)),n=e.length/2,i=r.length/2,o=t_(n),s=t_(i);return`30${t_(i+n+4)}02${s}${r}02${o}${e}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return zm(this.toCompactHex())}toCompactHex(){return jm(this.r)+jm(this.s)}};function e_(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let o=t[n];r.set(o,i),i+=o.length}return r}var bnt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function e2(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let r=0;r<t.length;r++)e+=bnt[t[r]];return e}var vnt=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function jm(t){if(typeof t!="bigint")throw new Error("Expected bigint");if(!(xn<=t&&t<vnt))throw new Error("Expected number 0 <= n < 2^256");return t.toString(16).padStart(64,"0")}function o_(t){let e=zm(jm(t));if(e.length!==32)throw new Error("Error: expected 32 bytes");return e}function t_(t){let e=t.toString(16);return e.length&1?`0${e}`:e}function i9(t){if(typeof t!="string")throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}function zm(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+t.length);let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");e[r]=o}return e}function yf(t){return i9(e2(t))}function h1(t){return t instanceof Uint8Array?Uint8Array.from(t):zm(t)}function lbe(t){if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)return BigInt(t);if(typeof t=="bigint"&&s_(t))return t;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function Et(t,e=Ti.P){let r=t%e;return r>=xn?r:e+r}function mf(t,e){let{P:r}=Ti,n=t;for(;e-- >xn;)n*=n,n%=r;return n}function xnt(t){let{P:e}=Ti,r=BigInt(6),n=BigInt(11),i=BigInt(22),o=BigInt(23),s=BigInt(44),c=BigInt(88),l=t*t*t%e,m=l*l*t%e,w=mf(m,r_)*m%e,b=mf(w,r_)*m%e,E=mf(b,Hm)*l%e,I=mf(E,n)*E%e,M=mf(I,i)*I%e,k=mf(M,s)*M%e,R=mf(k,c)*k%e,B=mf(R,s)*M%e,U=mf(B,r_)*m%e,P=mf(U,o)*I%e,F=mf(P,r)*l%e,q=mf(F,Hm);if(q*q%e!==t)throw new Error("Cannot find square root");return q}function a9(t,e=Ti.P){if(t===xn||e<=xn)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=Et(t,e),n=e,i=xn,o=_i,s=_i,c=xn;for(;r!==xn;){let m=n/r,w=n%r,b=i-s*m,E=o-c*m;n=r,r=w,i=s,o=c,s=b,c=E}if(n!==_i)throw new Error("invert: does not exist");return Et(i,e)}function wnt(t,e=Ti.P){let r=new Array(t.length),n=t.reduce((o,s,c)=>s===xn?o:(r[c]=o,Et(o*s,e)),_i),i=a9(n,e);return t.reduceRight((o,s,c)=>s===xn?o:(r[c]=Et(o*r[c],e),Et(o*s,e)),i),r}function Snt(t){let e=t.length*8-i_*8,r=yf(t);return e>0?r>>BigInt(e):r}function Ant(t,e=!1){let r=Snt(t);if(e)return r;let{n}=Ti;return r>=n?r-n:r}var Xw,Hj;function s_(t){return xn<t&&t<Ti.n}function r9(t){return xn<t&&t<Ti.P}function a_(t){let e;if(typeof t=="bigint")e=t;else if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)e=BigInt(t);else if(typeof t=="string"){if(t.length!==2*i_)throw new Error("Expected 32 bytes of private key");e=i9(t)}else if(t instanceof Uint8Array){if(t.length!==i_)throw new Error("Expected 32 bytes of private key");e=yf(t)}else throw new TypeError("Expected valid private key");if(!s_(e))throw new Error("Expected private key: 0 < key < n");return e}function Ent(t){return t instanceof co?(t.assertValidity(),t):co.fromHex(t)}function _nt(t){if(t instanceof n_)return t.assertValidity(),t;try{return n_.fromDER(t)}catch{return n_.fromCompact(t)}}function _0(t,e=!1){return co.fromPrivateKey(t).toRawBytes(e)}function o9(t){return Et(yf(t),Ti.n)}var t2=class t{constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromHex(e){let r=h1(e);if(r.length!==64)throw new TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${r.length}`);let n=yf(r.subarray(0,32)),i=yf(r.subarray(32,64));return new t(n,i)}assertValidity(){let{r:e,s:r}=this;if(!r9(e)||!s_(r))throw new Error("Invalid signature")}toHex(){return jm(this.r)+jm(this.s)}toRawBytes(){return zm(this.toHex())}};function Tnt(t){return co.fromPrivateKey(t).toRawX()}var s9=class{constructor(e,r,n=zd.randomBytes()){if(e==null)throw new TypeError(`sign: Expected valid message, not "${e}"`);this.m=h1(e);let{x:i,scalar:o}=this.getScalar(a_(r));if(this.px=i,this.d=o,this.rand=h1(n),this.rand.length!==32)throw new TypeError("sign: Expected 32 bytes of aux randomness")}getScalar(e){let r=co.fromPrivateKey(e),n=r.hasEvenY()?e:Ti.n-e;return{point:r,scalar:n,x:r.toRawX()}}initNonce(e,r){return o_(e^yf(r))}finalizeNonce(e){let r=Et(yf(e),Ti.n);if(r===xn)throw new Error("sign: Creation of signature failed. k is zero");let{point:n,x:i,scalar:o}=this.getScalar(r);return{R:n,rx:i,k:o}}finalizeSig(e,r,n,i){return new t2(e.x,Et(r+n*i,Ti.n)).toRawBytes()}error(){throw new Error("sign: Invalid signature produced")}async calc(){let{m:e,d:r,px:n,rand:i}=this,o=zd.taggedHash,s=this.initNonce(r,await o(Km.aux,i)),{R:c,rx:l,k:m}=this.finalizeNonce(await o(Km.nonce,s,n,e)),w=o9(await o(Km.challenge,l,n,e)),b=this.finalizeSig(c,m,w,r);return await pbe(b,e,n)||this.error(),b}calcSync(){let{m:e,d:r,px:n,rand:i}=this,o=zd.taggedHashSync,s=this.initNonce(r,o(Km.aux,i)),{R:c,rx:l,k:m}=this.finalizeNonce(o(Km.nonce,s,n,e)),w=o9(o(Km.challenge,l,n,e)),b=this.finalizeSig(c,m,w,r);return mbe(b,e,n)||this.error(),b}};async function Int(t,e,r){return new s9(t,e,r).calc()}function Mnt(t,e,r){return new s9(t,e,r).calcSync()}function dbe(t,e,r){let n=t instanceof t2,i=n?t:t2.fromHex(t);return n&&i.assertValidity(),{...i,m:h1(e),P:Ent(r)}}function hbe(t,e,r,n){let i=co.BASE.multiplyAndAddUnsafe(e,a_(r),Et(-n,Ti.n));return!(!i||!i.hasEvenY()||i.x!==t)}async function pbe(t,e,r){try{let{r:n,s:i,m:o,P:s}=dbe(t,e,r),c=o9(await zd.taggedHash(Km.challenge,o_(n),s.toRawX(),o));return hbe(n,s,i,c)}catch{return!1}}function mbe(t,e,r){try{let{r:n,s:i,m:o,P:s}=dbe(t,e,r),c=o9(zd.taggedHashSync(Km.challenge,o_(n),s.toRawX(),o));return hbe(n,s,i,c)}catch(n){if(n instanceof n9)throw n;return!1}}var ybe={Signature:t2,getPublicKey:Tnt,sign:Int,verify:pbe,signSync:Mnt,verifySync:mbe};co.BASE._setWindowSize(8);var du={node:ynt,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},Km={challenge:"BIP0340/challenge",aux:"BIP0340/aux",nonce:"BIP0340/nonce"},t9={},zd={bytesToHex:e2,hexToBytes:zm,concatBytes:e_,mod:Et,invert:a9,isValidPrivateKey(t){try{return a_(t),!0}catch{return!1}},_bigintTo32Bytes:o_,_normalizePrivateKey:a_,hashToPrivateKey:t=>{t=h1(t);let e=i_+8;if(t.length<e||t.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");let r=Et(yf(t),Ti.n-_i)+_i;return o_(r)},randomBytes:(t=32)=>{if(du.web)return du.web.getRandomValues(new Uint8Array(t));if(du.node){let{randomBytes:e}=du.node;return Uint8Array.from(e(t))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>zd.hashToPrivateKey(zd.randomBytes(i_+8)),precompute(t=8,e=co.BASE){let r=e===co.BASE?e:new co(e.x,e.y);return r._setWindowSize(t),r.multiply(r_),r},sha256:async(...t)=>{if(du.web){let e=await du.web.subtle.digest("SHA-256",e_(...t));return new Uint8Array(e)}else if(du.node){let{createHash:e}=du.node,r=e("sha256");return t.forEach(n=>r.update(n)),Uint8Array.from(r.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(t,...e)=>{if(du.web){let r=await du.web.subtle.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=e_(...e),i=await du.web.subtle.sign("HMAC",r,n);return new Uint8Array(i)}else if(du.node){let{createHmac:r}=du.node,n=r("sha256",t);return e.forEach(i=>n.update(i)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(t,...e)=>{let r=t9[t];if(r===void 0){let n=await zd.sha256(Uint8Array.from(t,i=>i.charCodeAt(0)));r=e_(n,n),t9[t]=r}return zd.sha256(r,...e)},taggedHashSync:(t,...e)=>{if(typeof Xw!="function")throw new n9("sha256Sync is undefined, you need to set it");let r=t9[t];if(r===void 0){let n=Xw(Uint8Array.from(t,i=>i.charCodeAt(0)));r=e_(n,n),t9[t]=r}return Xw(r,...e)},_JacobianPoint:za};Object.defineProperties(zd,{sha256Sync:{configurable:!1,get(){return Xw},set(t){Xw||(Xw=t)}},hmacSha256Sync:{configurable:!1,get(){return Hj},set(t){Hj||(Hj=t)}}});d();h();var gbe=new RegExp("^[0-9]+'?$"),r2=2147483648;d();h();d();h();var c9=class extends Zw{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,E0.hash(e);let n=J6(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?e.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(e){return E0.exists(this),this.iHash.update(e),this}digestInto(e){E0.exists(this),E0.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:c}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=c,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},p1=(t,e,r)=>new c9(t,e).update(r).digest();p1.create=(t,e)=>new c9(t,e);var fQt=new RegExp("^m(\\/[0-9]+')+$");var Pnt="ed25519 seed",bbe=t=>{let e=Buffer.from(p1(qm,Buffer.from(Pnt),t)).toString("hex"),r=e.slice(0,64),n=e.slice(64);return{key:Buffer.from(r,"hex"),chainCode:Buffer.from(n,"hex")}},vbe=({key:t,chainCode:e},r)=>{let n=Buffer.allocUnsafe(4);n.writeUInt32BE(r,0);let i=Buffer.concat([Buffer.alloc(1,0),t,n]),o=Buffer.from(p1(qm,e,i)).toString("hex"),s=o.slice(0,64),c=o.slice(64);return{key:Buffer.from(s,"hex"),chainCode:Buffer.from(c,"hex")}};d();h();var T0=qe(Vn());var n2=qe(rs());var Bnt=T0.Buffer.from("Bitcoin seed"),xbe=On.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),wbe=t=>{let e=T0.Buffer.from(p1(qm,T0.Buffer.from(Bnt),t)).toString("hex"),r=e.slice(0,64),n=e.slice(64);return{key:T0.Buffer.from(r,"hex"),chainCode:T0.Buffer.from(n,"hex")}},Sbe=(t,e)=>{let{key:r,chainCode:n}=t,i=new Uint8Array(37);if(e&r2)i.set(r,1);else{let b=_0(r,!0);i.set((0,n2.arrayify)(b))}for(let b=24;b>=0;b-=8)i[33+(b>>3)]=e>>24-b&255;let o=T0.Buffer.from(p1(qm,n,i)).toString("hex"),s=o.slice(0,64),c=o.slice(64),l=On.from(`0x${s}`);if(l.gte(xbe))throw new Error("Invalid private key");let m=l.add(`0x${r.toString("hex")}`).mod(xbe);if(m.eq(On.from(0)))throw new Error("Invalid private key");let w=(0,n2.hexZeroPad)((0,n2.hexlify)(m),32);return{key:T0.Buffer.from(w.replace("0x",""),"hex"),chainCode:T0.Buffer.from(c,"hex")}};d();h();var zj=J.string().refine(t=>{if(typeof t!="string")return!1;let e=t.split("/");if(e.length<2||e[0]!=="m")return!1;for(let r=1;r<e.length;++r)if(!gbe.test(e[r]))return!1;return!0},{message:"Value is not a valid derivation path."});var c_=J.union([J.literal("bitcoinTaproot"),J.literal("bitcoinNativeSegwit"),J.literal("bitcoinNestedSegwit"),J.literal("bitcoinLegacy")]),u_=J.union([J.literal("bip44RootEthereum"),J.literal("bip44Ethereum"),J.literal("bip44EthereumSecondary"),J.literal("bip44EthereumTertiary")]),f_=J.union([J.literal("bip44Root"),J.literal("bip44"),J.literal("bip44Change"),J.literal("deprecated")]),Wj=J.literal("bip44Sui");d();h();var Rnt=J.union([J.literal("bip44Change"),J.literal("bip44"),J.literal("deprecated")]),Cnt=J.union([J.literal("bip44Ethereum"),J.literal("bip44EthereumSecondary"),J.literal("bip44EthereumTertiary")]),Ont=J.union([J.literal("bitcoinTaproot"),J.literal("bitcoinNativeSegwit"),J.literal("bitcoinNestedSegwit"),J.literal("bitcoinLegacy")]),Nnt=J.literal("bip44Sui"),u9=J.number().int().min(0),Dnt=J.object({pathType:J.literal("bip44Root"),index:J.number().optional()}),Unt=J.object({pathType:Rnt,index:u9}),Lnt=J.object({pathType:J.literal("bip44RootEthereum"),index:J.number().optional()}),Fnt=J.object({pathType:Cnt,index:u9}),Vnt=J.object({pathType:Ont,index:u9}),qnt=J.object({pathType:Nnt,index:u9}),f9=J.union([Dnt,Unt,Lnt,Fnt,Vnt,qnt]),l_=new Error("Invalid derivation path."),Ebe=new Error("Unsupported derivation path."),Gj=t=>{if(!f9.safeParse(t).success)throw l_;switch(t.pathType){case"bitcoinTaproot":return`m/86'/0'/0'/0/${t.index}`;case"bitcoinNativeSegwit":return`m/84'/0'/0'/0/${t.index}`;case"bitcoinNestedSegwit":return`m/46'/0'/0'/0/${t.index}`;case"bitcoinLegacy":return`m/44'/0'/0'/0/${t.index}`;case"bip44RootEthereum":return"m/44'/60'";case"bip44Ethereum":return`m/44'/60'/0'/0/${t.index}`;case"bip44EthereumSecondary":return`m/44'/60'/1'/0/${t.index}`;case"bip44EthereumTertiary":return`m/44'/60'/2'/0/${t.index}`;case"bip44Root":return"m/44'/501'";case"deprecated":return`m/501'/${t.index}'/0/0`;case"bip44":return`m/44'/501'/${t.index}'`;case"bip44Change":return`m/44'/501'/${t.index}'/0'`;case"bip44Sui":return`m/44'/784'/${t.index}'/0'/0'`}},Abe=1<<31>>>0,Knt=t=>{try{let e=t.replace("0x","").match(/.{1,2}/g)??[];if(e.length===0)throw l_;let r=parseInt(e[0],16),n="m";for(let i=0;i<r;i++){let o="";for(let l=0;l<4;l++)o+=e[1+i*4+l];let s=parseInt(o,16),c=s>=Abe;c&&(s-=Abe),n+=`/${s.toString(10)}${c?"'":""}`}return n}catch{throw l_}},Hnt=t=>{let e,r=zj.safeParse(`m/${t.replace("m/","")}`);if(r.success)e=r.data;else try{e=Knt(t)}catch{throw l_}if(e==="m/44'/501'")return{pathType:"bip44Root"};if(e==="m/44'/60'")return{pathType:"bip44RootEthereum"};let n=e.replace("m/","").split("/");try{if(n.length===5&&n[0]==="86'"&&n[1]==="0'"&&n[2]==="0'"&&n[3]==="0")return{pathType:"bitcoinTaproot",index:parseInt(n[4],10)};if(n.length===5&&n[0]==="84'"&&n[1]==="0'"&&n[2]==="0'"&&n[3]==="0")return{pathType:"bitcoinNativeSegwit",index:parseInt(n[4],10)};if(n.length===5&&n[0]==="46'"&&n[1]==="0'"&&n[2]==="0'"&&n[3]==="0")return{pathType:"bitcoinNestedSegwit",index:parseInt(n[4],10)};if(n.length===5&&n[0]==="44'"&&n[1]==="0'"&&n[2]==="0'"&&n[3]==="0")return{pathType:"bitcoinLegacy",index:parseInt(n[4],10)};if(n.length===5&&n[0]==="44'"&&n[1]==="60'"&&n[2]==="0'"&&n[3]==="0")return{pathType:"bip44Ethereum",index:parseInt(n[4],10)};if(n.length===5&&n[0]==="44'"&&n[1]==="60'"&&n[2]==="1'"&&n[3]==="0")return{pathType:"bip44EthereumSecondary",index:parseInt(n[4],10)};if(n.length===5&&n[0]==="44'"&&n[1]==="60'"&&n[2]==="2'"&&n[3]==="0")return{pathType:"bip44EthereumTertiary",index:parseInt(n[4],10)};if(n.length===4&&n[0]==="44'"&&n[1]==="501'"&&n[3]==="0'")return{pathType:"bip44Change",index:parseInt(n[2],10)};if(n.length===3&&n[0]==="44'"&&n[1]==="501'")return{pathType:"bip44",index:parseInt(n[2],10)};if(n.length===4&&n[0]==="501'"&&n[2]==="0"&&n[3]==="0")return{pathType:"deprecated",index:parseInt(n[1],10)}}catch{}throw Ebe};d();h();var CQt=new Error("Unsupported path."),$j=t=>{switch(t){case"bitcoinTaproot":case"bitcoinNativeSegwit":case"bitcoinNestedSegwit":case"bitcoinLegacy":return!0;case"bip44RootEthereum":case"bip44Ethereum":case"bip44EthereumSecondary":case"bip44EthereumTertiary":case"bip44Root":case"bip44":case"bip44Change":case"deprecated":case"bip44Sui":return!1}},Yj=t=>{switch(t){case"bitcoinTaproot":case"bitcoinNativeSegwit":case"bitcoinNestedSegwit":case"bitcoinLegacy":return!1;case"bip44RootEthereum":case"bip44Ethereum":case"bip44EthereumSecondary":case"bip44EthereumTertiary":return!0;case"bip44Root":case"bip44":case"bip44Change":case"deprecated":case"bip44Sui":return!1}},Zj=t=>{switch(t){case"bitcoinTaproot":case"bitcoinNativeSegwit":case"bitcoinNestedSegwit":case"bitcoinLegacy":case"bip44RootEthereum":case"bip44Ethereum":case"bip44EthereumSecondary":case"bip44EthereumTertiary":case"bip44Sui":return!1;case"bip44Root":case"bip44":case"bip44Change":case"deprecated":return!0}},Qj=t=>{switch(t){case"bitcoinTaproot":case"bitcoinNativeSegwit":case"bitcoinNestedSegwit":case"bitcoinLegacy":case"bip44RootEthereum":case"bip44Ethereum":case"bip44EthereumSecondary":case"bip44EthereumTertiary":case"bip44Root":case"bip44":case"bip44Change":case"deprecated":return!1;case"bip44Sui":return!0}};A0.sha512Sync=(...t)=>qm(A0.concatBytes(...t));var{getPublicKey:jnt}=$7,ma=class{#e;#t;constructor(e){this.#e={ellipticCurve:"ed25519",value:bbe(e),nodes:{}},this.#t={ellipticCurve:"secp256k1",value:wbe(e),nodes:{}}}derivePathType(e,r){switch(e){case"bitcoinTaproot":return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/86'/0'/0'/0/${r}`,useCompressedPublicKey:!0});case"bitcoinNativeSegwit":return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/84'/0'/0'/0/${r}`,useCompressedPublicKey:!0});case"bitcoinNestedSegwit":return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/46'/0'/0'/0/${r}`,useCompressedPublicKey:!0});case"bitcoinLegacy":return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/44'/0'/0'/0/${r}`,useCompressedPublicKey:!0});case"bip44Ethereum":return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/44'/60'/0'/0/${r}`});case"bip44EthereumSecondary":return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/44'/60'/1'/0/${r}`});case"bip44EthereumTertiary":return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/44'/60'/2'/0/${r}`});case"bip44RootEthereum":return this.derivePath({ellipticCurve:"secp256k1",derivationPath:"m/44'/60'"});case"bip44Change":return this.derivePath({ellipticCurve:"ed25519",derivationPath:`m/44'/501'/${r}'/0'`,bytesInPrivateKey:64});case"bip44":return this.derivePath({ellipticCurve:"ed25519",derivationPath:`m/44'/501'/${r}'`,bytesInPrivateKey:64});case"deprecated":return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/501'/${r}'/0/0`});case"bip44Root":return this.derivePath({ellipticCurve:"ed25519",derivationPath:"m/44'/501'",bytesInPrivateKey:64});case"bip44Sui":return this.derivePath({ellipticCurve:"ed25519",derivationPath:`m/44'/784'/${r}'/0'/0'`,bytesInPrivateKey:32})}}derivePath(e){return e.ellipticCurve==="ed25519"?this.deriveED25519Path(e):e.ellipticCurve==="secp256k1"?this.deriveSECP256K1Path(e):Ct(e)}deriveED25519Path(e){let{ellipticCurve:r,derivationPath:n,bytesInPrivateKey:i}=e,o=n.split("/"),s=this.#e;for(let m of o){if(m==="m")continue;if(!s)throw new Error("Cannot derive path, no current node.");let w=s.nodes?.[m]??null;if(!w){let b={ellipticCurve:r,value:vbe(s.value,parseInt(m,10)+r2),nodes:{}};w=b,s.nodes[m]=b}s=w}if(!s)throw new Error(`Unable to derive ${n} on curve ${r}.`);let c=jnt(s.value.key),l;switch(i){case 32:return l=new Uint8Array(32),l.set(s.value.key),{publicKey:c,secretKey:l};case 64:return l=new Uint8Array(64),l.set(s.value.key),l.set(c,32),{publicKey:c,secretKey:l}}}deriveSECP256K1Path(e){let{ellipticCurve:r,derivationPath:n,useCompressedPublicKey:i=!1}=e,o=n.split("/"),s=this.#t;for(let m of o){if(m==="m")continue;if(!s)throw new Error("Cannot derive path, no current node.");let w=s.nodes?.[m]??null;if(!w){let b=0;m.endsWith("'")&&(b=r2);let E={ellipticCurve:r,value:Sbe(s.value,parseInt(m,10)+b),nodes:{}};w=E,s.nodes[m]=E}s=w}if(!s)throw new Error(`Unable to derive ${n} on curve ${r}.`);let c=s.value.key;return{publicKey:_0(c,i),secretKey:new Uint8Array(c)}}cleanUpTree(e){if(e){e.value.key.fill(0),e.value.chainCode.fill(0);let r=Object.values(e.nodes);for(let n of r)this.cleanUpTree(n)}}cleanup(){this.cleanUpTree(this.#e),this.cleanUpTree(this.#t),this.#e=null,this.#t=null}};d();h();var Tt=(c=>(c.BitcoinTaproot="bip122_p2tr",c.BitcoinNativeSegwit="bip122_p2wpkh",c.BitcoinNestedSegwit="bip122_p2sh",c.BitcoinLegacy="bip122_p2pkh",c.Solana="solana",c.EVM="eip155",c.Sui="sui",c))(Tt||{}),_be=["bip122_p2tr","bip122_p2wpkh","bip122_p2sh","bip122_p2pkh"],Wm=J.enum(_be);var l9=class{type="bip122_p2pkh";displayName="Legacy";defaultDerivationPathType="bitcoinLegacy";otherDerivationPathType=[]};d();h();var d9=class{type="bip122_p2wpkh";displayName="Native Segwit";defaultDerivationPathType="bitcoinNativeSegwit";otherDerivationPathType=[]};d();h();var h9=class{type="bip122_p2sh";displayName="Nested Segwit";defaultDerivationPathType="bitcoinNestedSegwit";otherDerivationPathType=[]};d();h();var p9=class{type="bip122_p2tr";displayName="Taproot";defaultDerivationPathType="bitcoinTaproot";otherDerivationPathType=[]};d();h();var m9=class{type="eip155";displayName="Ethereum";defaultDerivationPathType="bip44Ethereum";otherDerivationPathType=["bip44RootEthereum","bip44EthereumSecondary","bip44EthereumTertiary"]};d();h();var y9=class{type="solana";displayName="Solana";defaultDerivationPathType="bip44Change";otherDerivationPathType=["bip44Root","bip44","deprecated"]};d();h();var g9=class{type="sui";displayName="Sui";defaultDerivationPathType="bip44Sui";otherDerivationPathType=[]};var Jj=class{bip122_p2tr=new p9;bip122_p2wpkh=new d9;bip122_p2sh=new h9;bip122_p2pkh=new l9;eip155=new m9;solana=new y9;sui=new g9;allAddressTypes=Object.values(Tt);allAddressTypeDefinitions=this.allAddressTypes.map(e=>this[e]);addressTypeByDerivationPathType={};constructor(){this.allAddressTypeDefinitions.forEach(e=>{this.addressTypeByDerivationPathType[e.defaultDerivationPathType]=e.type,e.otherDerivationPathType.forEach(r=>{this.addressTypeByDerivationPathType[r]=e.type})})}getAll(){return this.allAddressTypes}getDisplayName(e){return this[e].displayName}getAddressType(e){return this.addressTypeByDerivationPathType[e]}},ya=new Jj;d();h();function d_(t){return Uint8Array.from(Buffer.from(t,"base64"))}function i2(t){return Buffer.from(t).toString("base64")}d();h();d();h();d();h();d();h();d();h();d();h();var h_={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};var znt=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!znt)throw new Error("Non little-endian hardware is not supported");var oXt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Xj(t=32){if(h_.web)return h_.web.getRandomValues(new Uint8Array(t));if(h_.node)return new Uint8Array(h_.node.randomBytes(t).buffer);throw new Error("The environment doesn't have randomBytes function")}var Tbe="Do not return the plaintext from .fold(), convert it to something else inside the callback first.",Ii=class t{#e;#t;constructor(e){let r=e.length,n=Xj(r),i=Ibe(e,n);this.#t=n,this.#e=i}static from(e){return new t(e)}read=e=>{let r=b9(this.#e,this.#t);try{e(r)}finally{this.cleanup(r)}};readAsync=async e=>{let r=b9(this.#e,this.#t);try{await e(r)}finally{this.cleanup(r)}};fold=e=>{let r=b9(this.#e,this.#t);try{let n=e(r);if(n===r)throw new Error(Tbe);return n}finally{this.cleanup(r)}};foldAsync=async e=>{let r=b9(this.#e,this.#t);try{let n=await e(r);if(n===r)throw new Error(Tbe);return n}finally{this.cleanup(r)}};cleanup=e=>{let r=Xj(e.length),n=Ibe(e,r);this.#t=r,this.#e=n,e.fill(0)}},Ibe=(t,e)=>{let r=t.length,n=new Uint8Array(r);for(let i=0;i<r;i++)n[i]=t[i]^e[i];return n},b9=(t,e)=>{let r=t.length,n=new Uint8Array(r);for(let i=0;i<r;i++)n[i]=t[i]^e[i];return n};d();h();d();h();d();h();d();h();d();h();var v9=class{addressTypes=["bip122_p2tr","bip122_p2wpkh","bip122_p2sh","bip122_p2pkh"];generateKeypairFromPrivateKey(e){let r=e.fold(i=>Buffer.from(i));return{publicKey:_0(r,!0),privateKey:r}}generateKeypairFromSeed(e,r,n){let i=e.fold(o=>new ma(o));try{let o=i.derivePathType(n,r);return{publicKey:o.publicKey,privateKey:o.secretKey}}finally{i.cleanup()}}};d();h();d();h();d();h();d();h();var kbe=qe(Va());d();h();var Mbe="properties/5.7.0";var Wnt=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function c(w){try{m(n.next(w))}catch(b){s(b)}}function l(w){try{m(n.throw(w))}catch(b){s(b)}}function m(w){w.done?o(w.value):i(w.value).then(c,l)}m((n=n.apply(t,e||[])).next())})},x9=new kbe.Logger(Mbe);function qt(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function KXt(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function I0(t){return Wnt(this,void 0,void 0,function*(){let e=Object.keys(t).map(n=>{let i=t[n];return Promise.resolve(i).then(o=>({key:n,value:o}))});return(yield Promise.all(e)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}function Pbe(t,e){(!t||typeof t!="object")&&x9.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(r=>{e[r]||x9.throwArgumentError("invalid object key - "+r,"transaction:"+r,t)})}function m_(t){let e={};for(let r in t)e[r]=t[r];return e}var Gnt={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function Bbe(t){if(t==null||Gnt[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;let e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch{continue}if(!Bbe(n))return!1}return!0}return x9.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function $nt(t){if(Bbe(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>p_(e)));if(typeof t=="object"){let e={};for(let r in t){let n=t[r];n!==void 0&&qt(e,r,p_(n))}return e}return x9.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function p_(t){return $nt(t)}var Gm=class{constructor(e){for(let r in e)this[r]=p_(e[r])}};var Obe=qe(Va());d();h();var Rbe="abstract-provider/5.7.0";var Ynt=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function c(w){try{m(n.next(w))}catch(b){s(b)}}function l(w){try{m(n.throw(w))}catch(b){s(b)}}function m(w){w.done?o(w.value):i(w.value).then(c,l)}m((n=n.apply(t,e||[])).next())})},Znt=new Obe.Logger(Rbe),Cbe=class extends Gm{static isForkEvent(e){return!!(e&&e._isForkEvent)}};var w9=class t{constructor(){Znt.checkAbstract(new.target,t),qt(this,"_isProvider",!0)}getFeeData(){return Ynt(this,void 0,void 0,function*(){let{block:e,gasPrice:r}=yield I0({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(s=>null)}),n=null,i=null,o=null;return e&&e.baseFeePerGas&&(n=e.baseFeePerGas,o=On.from("1500000000"),i=e.baseFeePerGas.mul(2).add(o)),{lastBaseFeePerGas:n,maxFeePerGas:i,maxPriorityFeePerGas:o,gasPrice:r}})}addListener(e,r){return this.on(e,r)}removeListener(e,r){return this.off(e,r)}static isProvider(e){return!!(e&&e._isProvider)}};d();h();var Wd=qe(Va());d();h();var Nbe="abstract-signer/5.7.0";var El=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function c(w){try{m(n.next(w))}catch(b){s(b)}}function l(w){try{m(n.throw(w))}catch(b){s(b)}}function m(w){w.done?o(w.value):i(w.value).then(c,l)}m((n=n.apply(t,e||[])).next())})},gf=new Wd.Logger(Nbe),Qnt=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],Jnt=[Wd.Logger.errors.INSUFFICIENT_FUNDS,Wd.Logger.errors.NONCE_EXPIRED,Wd.Logger.errors.REPLACEMENT_UNDERPRICED],y_=class t{constructor(){gf.checkAbstract(new.target,t),qt(this,"_isSigner",!0)}getBalance(e){return El(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return El(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return El(this,void 0,void 0,function*(){this._checkProvider("estimateGas");let r=yield I0(this.checkTransaction(e));return yield this.provider.estimateGas(r)})}call(e,r){return El(this,void 0,void 0,function*(){this._checkProvider("call");let n=yield I0(this.checkTransaction(e));return yield this.provider.call(n,r)})}sendTransaction(e){return El(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");let r=yield this.populateTransaction(e),n=yield this.signTransaction(r);return yield this.provider.sendTransaction(n)})}getChainId(){return El(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return El(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return El(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return El(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(let n in e)Qnt.indexOf(n)===-1&&gf.throwArgumentError("invalid transaction key: "+n,"transaction",e);let r=m_(e);return r.from==null?r.from=this.getAddress():r.from=Promise.all([Promise.resolve(r.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&gf.throwArgumentError("from address mismatch","transaction",e),n[0])),r}populateTransaction(e){return El(this,void 0,void 0,function*(){let r=yield I0(this.checkTransaction(e));r.to!=null&&(r.to=Promise.resolve(r.to).then(i=>El(this,void 0,void 0,function*(){if(i==null)return null;let o=yield this.resolveName(i);return o==null&&gf.throwArgumentError("provided ENS name resolves to null","tx.to",i),o})),r.to.catch(i=>{}));let n=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||n)?gf.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(r.type===0||r.type===1)&&n&&gf.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1)r.gasPrice==null&&(r.gasPrice=this.getGasPrice());else{let i=yield this.getFeeData();if(r.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(r.type=2,r.gasPrice!=null){let o=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=o,r.maxPriorityFeePerGas=o}else r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(n&&gf.throwError("network does not support EIP-1559",Wd.Logger.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=i.gasPrice),r.type=0):gf.throwError("failed to get consistent fee data",Wd.Logger.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else r.type===2&&(r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return r.nonce==null&&(r.nonce=this.getTransactionCount("pending")),r.gasLimit==null&&(r.gasLimit=this.estimateGas(r).catch(i=>{if(Jnt.indexOf(i.code)>=0)throw i;return gf.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Wd.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:r})})),r.chainId==null?r.chainId=this.getChainId():r.chainId=Promise.all([Promise.resolve(r.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&gf.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield I0(r)})}_checkProvider(e){this.provider||gf.throwError("missing provider",Wd.Logger.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}},Dbe=class t extends y_{constructor(e,r){super(),qt(this,"address",e),qt(this,"provider",r||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,r){return Promise.resolve().then(()=>{gf.throwError(e,Wd.Logger.errors.UNSUPPORTED_OPERATION,{operation:r})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,r,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new t(this.address,e)}};var Il=qe(rs());d();h();d();h();d();h();d();h();d();h();var Xnt="0x0000000000000000000000000000000000000000";d();h();var eit=On.from(-1),ez=On.from(0),tit=On.from(1);var rit=On.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");d();h();var nit="0x0000000000000000000000000000000000000000000000000000000000000000";d();h();var tz=qe(rs()),Lbe=qe(Va());d();h();var Ube="strings/5.7.0";var Fbe=new Lbe.Logger(Ube),_l;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(_l||(_l={}));var _c;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(_c||(_c={}));function iit(t,e,r,n,i){return Fbe.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function Vbe(t,e,r,n,i){if(t===_c.BAD_PREFIX||t===_c.UNEXPECTED_CONTINUE){let o=0;for(let s=e+1;s<r.length&&r[s]>>6===2;s++)o++;return o}return t===_c.OVERRUN?r.length-e-1:0}function oit(t,e,r,n,i){return t===_c.OVERLONG?(n.push(i),0):(n.push(65533),Vbe(t,e,r,n,i))}var qbe=Object.freeze({error:iit,ignore:Vbe,replace:oit});function Kbe(t,e){e==null&&(e=qbe.error),t=(0,tz.arrayify)(t);let r=[],n=0;for(;n<t.length;){let i=t[n++];if(!(i>>7)){r.push(i);continue}let o=null,s=null;if((i&224)===192)o=1,s=127;else if((i&240)===224)o=2,s=2047;else if((i&248)===240)o=3,s=65535;else{(i&192)===128?n+=e(_c.UNEXPECTED_CONTINUE,n-1,t,r):n+=e(_c.BAD_PREFIX,n-1,t,r);continue}if(n-1+o>=t.length){n+=e(_c.OVERRUN,n-1,t,r);continue}let c=i&(1<<8-o-1)-1;for(let l=0;l<o;l++){let m=t[n];if((m&192)!=128){n+=e(_c.MISSING_CONTINUE,n,t,r),c=null;break}c=c<<6|m&63,n++}if(c!==null){if(c>1114111){n+=e(_c.OUT_OF_RANGE,n-1-o,t,r,c);continue}if(c>=55296&&c<=57343){n+=e(_c.UTF16_SURROGATE,n-1-o,t,r,c);continue}if(c<=s){n+=e(_c.OVERLONG,n-1-o,t,r,c);continue}r.push(c)}}return r}function fs(t,e=_l.current){e!=_l.current&&(Fbe.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;let o=t.charCodeAt(n);if(n>=t.length||(o&64512)!==56320)throw new Error("invalid utf-8 string");let s=65536+((i&1023)<<10)+(o&1023);r.push(s>>18|240),r.push(s>>12&63|128),r.push(s>>6&63|128),r.push(s&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return(0,tz.arrayify)(r)}function sit(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Hbe(t,e){return sit(Kbe(t,e))}function rz(t,e=_l.current){return Kbe(fs(t,e))}function o2(t){return qn(fs(t))}d();h();var s2=qe(rs());var n1e=qe(Va());d();h();var S9="hash/5.7.0";d();h();d();h();d();h();d();h();var nz=qe(rs());function iz(t){t=atob(t);let e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return(0,nz.arrayify)(e)}function ait(t){t=(0,nz.arrayify)(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}d();h();function zbe(t,e){e==null&&(e=1);let r=[],n=r.forEach,i=function(o,s){n.call(o,function(c){s>0&&Array.isArray(c)?i(c,s-1):r.push(c)})};return i(t,e),r}function cit(t){let e={};for(let r=0;r<t.length;r++){let n=t[r];e[n[0]]=n[1]}return e}function uit(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),i=1,o=[0,1];for(let q=1;q<n;q++)o.push(i+=r());let s=r(),c=e;e+=s;let l=0,m=0;function w(){return l==0&&(m=m<<8|t[e++],l=8),m>>--l&1}let b=31,E=Math.pow(2,b),I=E>>>1,M=I>>1,k=E-1,R=0;for(let q=0;q<b;q++)R=R<<1|w();let B=[],U=0,P=E;for(;;){let q=Math.floor(((R-U+1)*i-1)/P),K=0,re=n;for(;re-K>1;){let S=K+re>>>1;q<o[S]?re=S:K=S}if(K==0)break;B.push(K);let Q=U+Math.floor(P*o[K]/i),ie=U+Math.floor(P*o[K+1]/i)-1;for(;!((Q^ie)&I);)R=R<<1&k|w(),Q=Q<<1&k,ie=ie<<1&k|1;for(;Q&~ie&M;)R=R&I|R<<1&k>>>1|w(),Q=Q<<1^I,ie=(ie^I)<<1|I|1;U=Q,P=1+ie-Q}let F=n-4;return B.map(q=>{switch(q-F){case 3:return F+65792+(t[c++]<<16|t[c++]<<8|t[c++]);case 2:return F+256+(t[c++]<<8|t[c++]);case 1:return F+t[c++];default:return q-1}})}function fit(t){let e=0;return()=>t[e++]}function Wbe(t){return fit(uit(t))}function lit(t){return t&1?~t>>1:t>>1}function dit(t,e){let r=Array(t);for(let n=0;n<t;n++)r[n]=1+e();return r}function jbe(t,e){let r=Array(t);for(let n=0,i=-1;n<t;n++)r[n]=i+=1+e();return r}function hit(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=lit(e());return r}function g_(t,e){let r=jbe(t(),t),n=t(),i=jbe(n,t),o=dit(n,t);for(let s=0;s<n;s++)for(let c=0;c<o[s];c++)r.push(i[s]+c);return e?r.map(s=>e[s]):r}function Gbe(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(mit(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(yit(r,t))}return cit(zbe(e))}function pit(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(r)}return e}function $be(t,e,r){let n=Array(t).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)hit(t,r).forEach((o,s)=>n[s].push(o));return n}function mit(t,e){let r=1+e(),n=e(),i=pit(e),o=$be(i.length,1+t,e);return zbe(o.map((s,c)=>{let l=s[0],m=s.slice(1);return Array(i[c]).fill(void 0).map((w,b)=>{let E=b*n;return[l+b*r,m.map(I=>I+E)]})}))}function yit(t,e){let r=1+e();return $be(r,1+t,e).map(i=>[i[0],i.slice(1)])}function Ybe(t){let e=g_(t).sort((n,i)=>n-i);return r();function r(){let n=[];for(;;){let m=g_(t,e);if(m.length==0)break;n.push({set:new Set(m),node:r()})}n.sort((m,w)=>w.set.size-m.set.size);let i=t(),o=i%3;i=i/3|0;let s=!!(i&1);i>>=1;let c=i==1,l=i==2;return{branches:n,valid:o,fe0f:s,save:c,check:l}}}function Zbe(){return Wbe(iz("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}var A9=Zbe(),git=new Set(g_(A9)),bit=new Set(g_(A9)),vit=Gbe(A9),xit=Ybe(A9),Qbe=45,Jbe=95;function Xbe(t){return rz(t)}function wit(t){return t.filter(e=>e!=65039)}function e1e(t){for(let e of t.split(".")){let r=Xbe(e);try{for(let n=r.lastIndexOf(Jbe)-1;n>=0;n--)if(r[n]!==Jbe)throw new Error("underscore only allowed at start");if(r.length>=4&&r.every(n=>n<128)&&r[2]===Qbe&&r[3]===Qbe)throw new Error("invalid label extension")}catch(n){throw new Error(`Invalid label "${e}": ${n.message}`)}}return t}function t1e(t){return e1e(Sit(t,wit))}function Sit(t,e){let r=Xbe(t).reverse(),n=[];for(;r.length;){let i=Eit(r);if(i){n.push(...e(i));continue}let o=r.pop();if(git.has(o)){n.push(o);continue}if(bit.has(o))continue;let s=vit[o];if(s){n.push(...s);continue}throw new Error(`Disallowed codepoint: 0x${o.toString(16).toUpperCase()}`)}return e1e(Ait(String.fromCodePoint(...n)))}function Ait(t){return t.normalize("NFC")}function Eit(t,e){var r;let n=xit,i,o,s=[],c=t.length;for(e&&(e.length=0);c;){let l=t[--c];if(n=(r=n.branches.find(m=>m.set.has(l)))===null||r===void 0?void 0:r.node,!n)break;if(n.save)o=l;else if(n.check&&l===o)break;s.push(l),n.fe0f&&(s.push(65039),c>0&&t[c-1]==65039&&c--),n.valid&&(i=s.slice(),n.valid==2&&i.splice(1,1),e&&e.push(...t.slice(c).reverse()),t.length=c)}return i}var _it=new n1e.Logger(S9),i1e=new Uint8Array(32);i1e.fill(0);function r1e(t){if(t.length===0)throw new Error("invalid ENS name; empty component");return t}function o1e(t){let e=fs(t1e(t)),r=[];if(t.length===0)return r;let n=0;for(let i=0;i<e.length;i++)e[i]===46&&(r.push(r1e(e.slice(n,i))),n=i+1);if(n>=e.length)throw new Error("invalid ENS name; empty component");return r.push(r1e(e.slice(n))),r}function Tit(t){typeof t!="string"&&_it.throwArgumentError("invalid ENS name; not a string","name",t);let e=i1e,r=o1e(t);for(;r.length;)e=qn((0,s2.concat)([e,qn(r.pop())]));return(0,s2.hexlify)(e)}function Iit(t){return(0,s2.hexlify)((0,s2.concat)(o1e(t).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");let r=new Uint8Array(e.length+1);return r.set(e,1),r[0]=r.length-1,r})))+"00"}d();h();var s1e=qe(rs());var a1e=`Ethereum Signed Message:
`;function oz(t){return typeof t=="string"&&(t=fs(t)),qn((0,s1e.concat)([fs(a1e),fs(String(t.length)),t]))}d();h();var eo=qe(rs());var l1e=qe(Va());var Mit=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function c(w){try{m(n.next(w))}catch(b){s(b)}}function l(w){try{m(n.throw(w))}catch(b){s(b)}}function m(w){w.done?o(w.value):i(w.value).then(c,l)}m((n=n.apply(t,e||[])).next())})},Li=new l1e.Logger(S9),d1e=new Uint8Array(32);d1e.fill(0);var kit=On.from(-1),h1e=On.from(0),p1e=On.from(1),Pit=On.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Bit(t){let e=(0,eo.arrayify)(t),r=e.length%32;return r?(0,eo.hexConcat)([e,d1e.slice(r)]):(0,eo.hexlify)(e)}var Rit=(0,eo.hexZeroPad)(p1e.toHexString(),32),Cit=(0,eo.hexZeroPad)(h1e.toHexString(),32),c1e={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},sz=["name","version","chainId","verifyingContract","salt"];function u1e(t){return function(e){return typeof e!="string"&&Li.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}var Oit={name:u1e("name"),version:u1e("version"),chainId:function(t){try{return On.from(t).toString()}catch{}return Li.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return _s(t).toLowerCase()}catch{}return Li.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{let e=(0,eo.arrayify)(t);if(e.length!==32)throw new Error("bad length");return(0,eo.hexlify)(e)}catch{}return Li.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function az(t){{let e=t.match(/^(u?)int(\d*)$/);if(e){let r=e[1]==="",n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&Li.throwArgumentError("invalid numeric width","type",t);let i=Pit.mask(r?n-1:n),o=r?i.add(p1e).mul(kit):h1e;return function(s){let c=On.from(s);return(c.lt(o)||c.gt(i))&&Li.throwArgumentError(`value out-of-bounds for ${t}`,"value",s),(0,eo.hexZeroPad)(c.toTwos(256).toHexString(),32)}}}{let e=t.match(/^bytes(\d+)$/);if(e){let r=parseInt(e[1]);return(r===0||r>32||e[1]!==String(r))&&Li.throwArgumentError("invalid bytes width","type",t),function(n){return(0,eo.arrayify)(n).length!==r&&Li.throwArgumentError(`invalid length for ${t}`,"value",n),Bit(n)}}}switch(t){case"address":return function(e){return(0,eo.hexZeroPad)(_s(e),32)};case"bool":return function(e){return e?Rit:Cit};case"bytes":return function(e){return qn(e)};case"string":return function(e){return o2(e)}}return null}function f1e(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}var a2=class t{constructor(e){qt(this,"types",Object.freeze(p_(e))),qt(this,"_encoderCache",{}),qt(this,"_types",{});let r={},n={},i={};Object.keys(e).forEach(c=>{r[c]={},n[c]=[],i[c]={}});for(let c in e){let l={};e[c].forEach(m=>{l[m.name]&&Li.throwArgumentError(`duplicate variable name ${JSON.stringify(m.name)} in ${JSON.stringify(c)}`,"types",e),l[m.name]=!0;let w=m.type.match(/^([^\x5b]*)(\x5b|$)/)[1];w===c&&Li.throwArgumentError(`circular type reference to ${JSON.stringify(w)}`,"types",e),!az(w)&&(n[w]||Li.throwArgumentError(`unknown type ${JSON.stringify(w)}`,"types",e),n[w].push(c),r[c][w]=!0)})}let o=Object.keys(n).filter(c=>n[c].length===0);o.length===0?Li.throwArgumentError("missing primary type","types",e):o.length>1&&Li.throwArgumentError(`ambiguous primary types or unused types: ${o.map(c=>JSON.stringify(c)).join(", ")}`,"types",e),qt(this,"primaryType",o[0]);function s(c,l){l[c]&&Li.throwArgumentError(`circular type reference to ${JSON.stringify(c)}`,"types",e),l[c]=!0,Object.keys(r[c]).forEach(m=>{n[m]&&(s(m,l),Object.keys(l).forEach(w=>{i[w][m]=!0}))}),delete l[c]}s(this.primaryType,{});for(let c in i){let l=Object.keys(i[c]);l.sort(),this._types[c]=f1e(c,e[c])+l.map(m=>f1e(m,e[m])).join("")}}getEncoder(e){let r=this._encoderCache[e];return r||(r=this._encoderCache[e]=this._getEncoder(e)),r}_getEncoder(e){{let i=az(e);if(i)return i}let r=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r){let i=r[1],o=this.getEncoder(i),s=parseInt(r[3]);return c=>{s>=0&&c.length!==s&&Li.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",c);let l=c.map(o);return this._types[i]&&(l=l.map(qn)),qn((0,eo.hexConcat)(l))}}let n=this.types[e];if(n){let i=o2(this._types[e]);return o=>{let s=n.map(({name:c,type:l})=>{let m=this.getEncoder(l)(o[c]);return this._types[l]?qn(m):m});return s.unshift(i),(0,eo.hexConcat)(s)}}return Li.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){let r=this._types[e];return r||Li.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return qn(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(az(e))return n(e,r);let i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){let s=i[1],c=parseInt(i[3]);return c>=0&&r.length!==c&&Li.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",r),r.map(l=>this._visit(s,l,n))}let o=this.types[e];return o?o.reduce((s,{name:c,type:l})=>(s[c]=this._visit(l,r[c],n),s),{}):Li.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new t(e)}static getPrimaryType(e){return t.from(e).primaryType}static hashStruct(e,r,n){return t.from(r).hashStruct(e,n)}static hashDomain(e){let r=[];for(let n in e){let i=c1e[n];i||Li.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:i})}return r.sort((n,i)=>sz.indexOf(n.name)-sz.indexOf(i.name)),t.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return(0,eo.hexConcat)(["0x1901",t.hashDomain(e),t.from(r).hash(n)])}static hash(e,r,n){return qn(t.encode(e,r,n))}static resolveNames(e,r,n,i){return Mit(this,void 0,void 0,function*(){e=m_(e);let o={};e.verifyingContract&&!(0,eo.isHexString)(e.verifyingContract,20)&&(o[e.verifyingContract]="0x");let s=t.from(r);s.visit(n,(c,l)=>(c==="address"&&!(0,eo.isHexString)(l,20)&&(o[l]="0x"),l));for(let c in o)o[c]=yield i(c);return e.verifyingContract&&o[e.verifyingContract]&&(e.verifyingContract=o[e.verifyingContract]),n=s.visit(n,(c,l)=>c==="address"&&o[l]?o[l]:l),{domain:e,value:n}})}static getPayload(e,r,n){t.hashDomain(e);let i={},o=[];sz.forEach(l=>{let m=e[l];m!=null&&(i[l]=Oit[l](m),o.push({name:l,type:c1e[l]}))});let s=t.from(r),c=m_(r);return c.EIP712Domain?Li.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",r):c.EIP712Domain=o,s.encode(n),{types:c,domain:i,primaryType:s.primaryType,message:s.visit(n,(l,m)=>{if(l.match(/^bytes(\d*)/))return(0,eo.hexlify)((0,eo.arrayify)(m));if(l.match(/^u?int/))return On.from(m).toString();switch(l){case"address":return m.toLowerCase();case"bool":return!!m;case"string":return typeof m!="string"&&Li.throwArgumentError("invalid string","value",m),m}return Li.throwArgumentError("unsupported type","type",l)})}}};d();h();d();h();var cz=qe(rs());var E9=class{constructor(e){qt(this,"alphabet",e),qt(this,"base",e.length),qt(this,"_alphabetMap",{}),qt(this,"_leader",e.charAt(0));for(let r=0;r<e.length;r++)this._alphabetMap[e.charAt(r)]=r}encode(e){let r=(0,cz.arrayify)(e);if(r.length===0)return"";let n=[0];for(let o=0;o<r.length;++o){let s=r[o];for(let c=0;c<n.length;++c)s+=n[c]<<8,n[c]=s%this.base,s=s/this.base|0;for(;s>0;)n.push(s%this.base),s=s/this.base|0}let i="";for(let o=0;r[o]===0&&o<r.length-1;++o)i+=this._leader;for(let o=n.length-1;o>=0;--o)i+=this.alphabet[n[o]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let r=[];if(e.length===0)return new Uint8Array(r);r.push(0);for(let n=0;n<e.length;n++){let i=this._alphabetMap[e[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let o=i;for(let s=0;s<r.length;++s)o+=r[s]*this.base,r[s]=o&255,o>>=8;for(;o>0;)r.push(o&255),o>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)r.push(0);return(0,cz.arrayify)(new Uint8Array(r.reverse()))}},Wtr=new E9("abcdefghijklmnopqrstuvwxyz234567"),uz=new E9("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var mn=qe(rs());d();h();d();h();var $m=qe(rs()),dz=qe(lz());function m1(t,e,r,n,i){t=(0,$m.arrayify)(t),e=(0,$m.arrayify)(e);let o,s=1,c=new Uint8Array(n),l=new Uint8Array(e.length+4);l.set(e);let m,w;for(let b=1;b<=s;b++){l[e.length]=b>>24&255,l[e.length+1]=b>>16&255,l[e.length+2]=b>>8&255,l[e.length+3]=b&255;let E=(0,$m.arrayify)((0,dz.computeHmac)(i,t,l));o||(o=E.length,w=new Uint8Array(o),s=Math.ceil(n/o),m=n-(s-1)*o),w.set(E);for(let k=1;k<r;k++){E=(0,$m.arrayify)((0,dz.computeHmac)(i,t,E));for(let R=0;R<o;R++)w[R]^=E[R]}let I=(b-1)*o,M=b===s?m:o;c.set((0,$m.arrayify)(w).slice(0,M),I)}return(0,$m.hexlify)(c)}d();h();d();h();var rr=qe(mb()),Gd=qe(fw());function c2(t,e,r){return r={path:e,exports:{},require:function(n,i){return zit(n,i??r.path)}},t(r,r.exports),r.exports}function zit(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var yz=v1e;function v1e(t,e){if(!t)throw new Error(e||"Assertion failed")}v1e.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var Tl=c2(function(t,e){"use strict";var r=e;function n(s,c){if(Array.isArray(s))return s.slice();if(!s)return[];var l=[];if(typeof s!="string"){for(var m=0;m<s.length;m++)l[m]=s[m]|0;return l}if(c==="hex"){s=s.replace(/[^a-z0-9]+/ig,""),s.length%2!==0&&(s="0"+s);for(var m=0;m<s.length;m+=2)l.push(parseInt(s[m]+s[m+1],16))}else for(var m=0;m<s.length;m++){var w=s.charCodeAt(m),b=w>>8,E=w&255;b?l.push(b,E):l.push(E)}return l}r.toArray=n;function i(s){return s.length===1?"0"+s:s}r.zero2=i;function o(s){for(var c="",l=0;l<s.length;l++)c+=i(s[l].toString(16));return c}r.toHex=o,r.encode=function(c,l){return l==="hex"?o(c):c}}),hu=c2(function(t,e){"use strict";var r=e;r.assert=yz,r.toArray=Tl.toArray,r.zero2=Tl.zero2,r.toHex=Tl.toHex,r.encode=Tl.encode;function n(l,m,w){var b=new Array(Math.max(l.bitLength(),w)+1);b.fill(0);for(var E=1<<m+1,I=l.clone(),M=0;M<b.length;M++){var k,R=I.andln(E-1);I.isOdd()?(R>(E>>1)-1?k=(E>>1)-R:k=R,I.isubn(k)):k=0,b[M]=k,I.iushrn(1)}return b}r.getNAF=n;function i(l,m){var w=[[],[]];l=l.clone(),m=m.clone();for(var b=0,E=0,I;l.cmpn(-b)>0||m.cmpn(-E)>0;){var M=l.andln(3)+b&3,k=m.andln(3)+E&3;M===3&&(M=-1),k===3&&(k=-1);var R;M&1?(I=l.andln(7)+b&7,(I===3||I===5)&&k===2?R=-M:R=M):R=0,w[0].push(R);var B;k&1?(I=m.andln(7)+E&7,(I===3||I===5)&&M===2?B=-k:B=k):B=0,w[1].push(B),2*b===R+1&&(b=1-b),2*E===B+1&&(E=1-E),l.iushrn(1),m.iushrn(1)}return w}r.getJSF=i;function o(l,m,w){var b="_"+m;l.prototype[m]=function(){return this[b]!==void 0?this[b]:this[b]=w.call(this)}}r.cachedProperty=o;function s(l){return typeof l=="string"?r.toArray(l,"hex"):l}r.parseBytes=s;function c(l){return new rr.default(l,"hex","le")}r.intFromLE=c}),k9=hu.getNAF,Wit=hu.getJSF,P9=hu.assert;function Zm(t,e){this.type=t,this.p=new rr.default(e.p,16),this.red=e.prime?rr.default.red(e.prime):rr.default.mont(this.p),this.zero=new rr.default(0).toRed(this.red),this.one=new rr.default(1).toRed(this.red),this.two=new rr.default(2).toRed(this.red),this.n=e.n&&new rr.default(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var y1=Zm;Zm.prototype.point=function(){throw new Error("Not implemented")};Zm.prototype.validate=function(){throw new Error("Not implemented")};Zm.prototype._fixedNafMul=function(e,r){P9(e.precomputed);var n=e._getDoubles(),i=k9(r,1,this._bitLength),o=(1<<n.step+1)-(n.step%2===0?2:1);o/=3;var s=[],c,l;for(c=0;c<i.length;c+=n.step){l=0;for(var m=c+n.step-1;m>=c;m--)l=(l<<1)+i[m];s.push(l)}for(var w=this.jpoint(null,null,null),b=this.jpoint(null,null,null),E=o;E>0;E--){for(c=0;c<s.length;c++)l=s[c],l===E?b=b.mixedAdd(n.points[c]):l===-E&&(b=b.mixedAdd(n.points[c].neg()));w=w.add(b)}return w.toP()};Zm.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var o=i.points,s=k9(r,n,this._bitLength),c=this.jpoint(null,null,null),l=s.length-1;l>=0;l--){for(var m=0;l>=0&&s[l]===0;l--)m++;if(l>=0&&m++,c=c.dblp(m),l<0)break;var w=s[l];P9(w!==0),e.type==="affine"?w>0?c=c.mixedAdd(o[w-1>>1]):c=c.mixedAdd(o[-w-1>>1].neg()):w>0?c=c.add(o[w-1>>1]):c=c.add(o[-w-1>>1].neg())}return e.type==="affine"?c.toP():c};Zm.prototype._wnafMulAdd=function(e,r,n,i,o){var s=this._wnafT1,c=this._wnafT2,l=this._wnafT3,m=0,w,b,E;for(w=0;w<i;w++){E=r[w];var I=E._getNAFPoints(e);s[w]=I.wnd,c[w]=I.points}for(w=i-1;w>=1;w-=2){var M=w-1,k=w;if(s[M]!==1||s[k]!==1){l[M]=k9(n[M],s[M],this._bitLength),l[k]=k9(n[k],s[k],this._bitLength),m=Math.max(l[M].length,m),m=Math.max(l[k].length,m);continue}var R=[r[M],null,null,r[k]];r[M].y.cmp(r[k].y)===0?(R[1]=r[M].add(r[k]),R[2]=r[M].toJ().mixedAdd(r[k].neg())):r[M].y.cmp(r[k].y.redNeg())===0?(R[1]=r[M].toJ().mixedAdd(r[k]),R[2]=r[M].add(r[k].neg())):(R[1]=r[M].toJ().mixedAdd(r[k]),R[2]=r[M].toJ().mixedAdd(r[k].neg()));var B=[-3,-1,-5,-7,0,7,5,1,3],U=Wit(n[M],n[k]);for(m=Math.max(U[0].length,m),l[M]=new Array(m),l[k]=new Array(m),b=0;b<m;b++){var P=U[0][b]|0,F=U[1][b]|0;l[M][b]=B[(P+1)*3+(F+1)],l[k][b]=0,c[M]=R}}var q=this.jpoint(null,null,null),K=this._wnafT4;for(w=m;w>=0;w--){for(var re=0;w>=0;){var Q=!0;for(b=0;b<i;b++)K[b]=l[b][w]|0,K[b]!==0&&(Q=!1);if(!Q)break;re++,w--}if(w>=0&&re++,q=q.dblp(re),w<0)break;for(b=0;b<i;b++){var ie=K[b];ie!==0&&(ie>0?E=c[b][ie-1>>1]:ie<0&&(E=c[b][-ie-1>>1].neg()),E.type==="affine"?q=q.mixedAdd(E):q=q.add(E))}}for(w=0;w<i;w++)c[w]=null;return o?q:q.toP()};function wf(t,e){this.curve=t,this.type=e,this.precomputed=null}Zm.BasePoint=wf;wf.prototype.eq=function(){throw new Error("Not implemented")};wf.prototype.validate=function(){return this.curve.validate(this)};Zm.prototype.decodePoint=function(e,r){e=hu.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?P9(e[e.length-1]%2===0):e[0]===7&&P9(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};wf.prototype.encodeCompressed=function(e){return this.encode(e,!0)};wf.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};wf.prototype.encode=function(e,r){return hu.encode(this._encode(r),e)};wf.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};wf.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};wf.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,o=0;o<r;o+=e){for(var s=0;s<e;s++)i=i.dbl();n.push(i)}return{step:e,points:n}};wf.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),o=1;o<n;o++)r[o]=r[o-1].add(i);return{wnd:e,points:r}};wf.prototype._getBeta=function(){return null};wf.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var gz=c2(function(t){typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}}),Git=hu.assert;function Sf(t){y1.call(this,"short",t),this.a=new rr.default(t.a,16).toRed(this.red),this.b=new rr.default(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}gz(Sf,y1);var $it=Sf;Sf.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new rr.default(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new rr.default(e.lambda,16);else{var o=this._getEndoRoots(this.n);this.g.mul(o[0]).x.cmp(this.g.x.redMul(r))===0?n=o[0]:(n=o[1],Git(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var s;return e.basis?s=e.basis.map(function(c){return{a:new rr.default(c.a,16),b:new rr.default(c.b,16)}}):s=this._getEndoBasis(n),{beta:r,lambda:n,basis:s}}};Sf.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:rr.default.mont(e),n=new rr.default(2).toRed(r).redInvm(),i=n.redNeg(),o=new rr.default(3).toRed(r).redNeg().redSqrt().redMul(n),s=i.redAdd(o).fromRed(),c=i.redSub(o).fromRed();return[s,c]};Sf.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),o=new rr.default(1),s=new rr.default(0),c=new rr.default(0),l=new rr.default(1),m,w,b,E,I,M,k,R=0,B,U;n.cmpn(0)!==0;){var P=i.div(n);B=i.sub(P.mul(n)),U=c.sub(P.mul(o));var F=l.sub(P.mul(s));if(!b&&B.cmp(r)<0)m=k.neg(),w=o,b=B.neg(),E=U;else if(b&&++R===2)break;k=B,i=n,n=B,c=o,o=U,l=s,s=F}I=B.neg(),M=U;var q=b.sqr().add(E.sqr()),K=I.sqr().add(M.sqr());return K.cmp(q)>=0&&(I=m,M=w),b.negative&&(b=b.neg(),E=E.neg()),I.negative&&(I=I.neg(),M=M.neg()),[{a:b,b:E},{a:I,b:M}]};Sf.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],o=i.b.mul(e).divRound(this.n),s=n.b.neg().mul(e).divRound(this.n),c=o.mul(n.a),l=s.mul(i.a),m=o.mul(n.b),w=s.mul(i.b),b=e.sub(c).sub(l),E=m.add(w).neg();return{k1:b,k2:E}};Sf.prototype.pointFromX=function(e,r){e=new rr.default(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var o=i.fromRed().isOdd();return(r&&!o||!r&&o)&&(i=i.redNeg()),this.point(e,i)};Sf.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),o=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(o).cmpn(0)===0};Sf.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,o=this._endoWnafT2,s=0;s<e.length;s++){var c=this._endoSplit(r[s]),l=e[s],m=l._getBeta();c.k1.negative&&(c.k1.ineg(),l=l.neg(!0)),c.k2.negative&&(c.k2.ineg(),m=m.neg(!0)),i[s*2]=l,i[s*2+1]=m,o[s*2]=c.k1,o[s*2+1]=c.k2}for(var w=this._wnafMulAdd(1,i,o,s*2,n),b=0;b<s*2;b++)i[b]=null,o[b]=null;return w};function ls(t,e,r,n){y1.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new rr.default(e,16),this.y=new rr.default(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}gz(ls,y1.BasePoint);Sf.prototype.point=function(e,r,n){return new ls(this,e,r,n)};Sf.prototype.pointFromJSON=function(e,r){return ls.fromJSON(this,e,r)};ls.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(o){return n.point(o.x.redMul(n.endo.beta),o.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};ls.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};ls.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function o(c){return e.point(c[0],c[1],n)}var s=r[2];return i.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[i].concat(s.doubles.points.map(o))},naf:s.naf&&{wnd:s.naf.wnd,points:[i].concat(s.naf.points.map(o))}},i};ls.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};ls.prototype.isInfinity=function(){return this.inf};ls.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};ls.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),o=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),s=o.redSqr().redISub(this.x.redAdd(this.x)),c=o.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,c)};ls.prototype.getX=function(){return this.x.fromRed()};ls.prototype.getY=function(){return this.y.fromRed()};ls.prototype.mul=function(e){return e=new rr.default(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};ls.prototype.mulAdd=function(e,r,n){var i=[this,r],o=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,o):this.curve._wnafMulAdd(1,i,o,2)};ls.prototype.jmulAdd=function(e,r,n){var i=[this,r],o=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,o,!0):this.curve._wnafMulAdd(1,i,o,2,!0)};ls.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};ls.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(o){return o.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};ls.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Cs(t,e,r,n){y1.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new rr.default(0)):(this.x=new rr.default(e,16),this.y=new rr.default(r,16),this.z=new rr.default(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}gz(Cs,y1.BasePoint);Sf.prototype.jpoint=function(e,r,n){return new Cs(this,e,r,n)};Cs.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};Cs.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Cs.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),o=e.x.redMul(n),s=this.y.redMul(r.redMul(e.z)),c=e.y.redMul(n.redMul(this.z)),l=i.redSub(o),m=s.redSub(c);if(l.cmpn(0)===0)return m.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var w=l.redSqr(),b=w.redMul(l),E=i.redMul(w),I=m.redSqr().redIAdd(b).redISub(E).redISub(E),M=m.redMul(E.redISub(I)).redISub(s.redMul(b)),k=this.z.redMul(e.z).redMul(l);return this.curve.jpoint(I,M,k)};Cs.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),o=this.y,s=e.y.redMul(r).redMul(this.z),c=n.redSub(i),l=o.redSub(s);if(c.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var m=c.redSqr(),w=m.redMul(c),b=n.redMul(m),E=l.redSqr().redIAdd(w).redISub(b).redISub(b),I=l.redMul(b.redISub(E)).redISub(o.redMul(w)),M=this.z.redMul(c);return this.curve.jpoint(E,I,M)};Cs.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,o=this.curve.tinv,s=this.x,c=this.y,l=this.z,m=l.redSqr().redSqr(),w=c.redAdd(c);for(r=0;r<e;r++){var b=s.redSqr(),E=w.redSqr(),I=E.redSqr(),M=b.redAdd(b).redIAdd(b).redIAdd(i.redMul(m)),k=s.redMul(E),R=M.redSqr().redISub(k.redAdd(k)),B=k.redISub(R),U=M.redMul(B);U=U.redIAdd(U).redISub(I);var P=w.redMul(l);r+1<e&&(m=m.redMul(I)),s=R,l=P,w=U}return this.curve.jpoint(s,w.redMul(o),l)};Cs.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Cs.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),o=this.y.redSqr(),s=o.redSqr(),c=this.x.redAdd(o).redSqr().redISub(i).redISub(s);c=c.redIAdd(c);var l=i.redAdd(i).redIAdd(i),m=l.redSqr().redISub(c).redISub(c),w=s.redIAdd(s);w=w.redIAdd(w),w=w.redIAdd(w),e=m,r=l.redMul(c.redISub(m)).redISub(w),n=this.y.redAdd(this.y)}else{var b=this.x.redSqr(),E=this.y.redSqr(),I=E.redSqr(),M=this.x.redAdd(E).redSqr().redISub(b).redISub(I);M=M.redIAdd(M);var k=b.redAdd(b).redIAdd(b),R=k.redSqr(),B=I.redIAdd(I);B=B.redIAdd(B),B=B.redIAdd(B),e=R.redISub(M).redISub(M),r=k.redMul(M.redISub(e)).redISub(B),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};Cs.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),o=this.y.redSqr(),s=o.redSqr(),c=this.x.redAdd(o).redSqr().redISub(i).redISub(s);c=c.redIAdd(c);var l=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),m=l.redSqr().redISub(c).redISub(c);e=m;var w=s.redIAdd(s);w=w.redIAdd(w),w=w.redIAdd(w),r=l.redMul(c.redISub(m)).redISub(w),n=this.y.redAdd(this.y)}else{var b=this.z.redSqr(),E=this.y.redSqr(),I=this.x.redMul(E),M=this.x.redSub(b).redMul(this.x.redAdd(b));M=M.redAdd(M).redIAdd(M);var k=I.redIAdd(I);k=k.redIAdd(k);var R=k.redAdd(k);e=M.redSqr().redISub(R),n=this.y.redAdd(this.z).redSqr().redISub(E).redISub(b);var B=E.redSqr();B=B.redIAdd(B),B=B.redIAdd(B),B=B.redIAdd(B),r=M.redMul(k.redISub(e)).redISub(B)}return this.curve.jpoint(e,r,n)};Cs.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,o=i.redSqr().redSqr(),s=r.redSqr(),c=n.redSqr(),l=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(o)),m=r.redAdd(r);m=m.redIAdd(m);var w=m.redMul(c),b=l.redSqr().redISub(w.redAdd(w)),E=w.redISub(b),I=c.redSqr();I=I.redIAdd(I),I=I.redIAdd(I),I=I.redIAdd(I);var M=l.redMul(E).redISub(I),k=n.redAdd(n).redMul(i);return this.curve.jpoint(b,M,k)};Cs.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),o=e.redAdd(e).redIAdd(e),s=o.redSqr(),c=this.x.redAdd(r).redSqr().redISub(e).redISub(i);c=c.redIAdd(c),c=c.redAdd(c).redIAdd(c),c=c.redISub(s);var l=c.redSqr(),m=i.redIAdd(i);m=m.redIAdd(m),m=m.redIAdd(m),m=m.redIAdd(m);var w=o.redIAdd(c).redSqr().redISub(s).redISub(l).redISub(m),b=r.redMul(w);b=b.redIAdd(b),b=b.redIAdd(b);var E=this.x.redMul(l).redISub(b);E=E.redIAdd(E),E=E.redIAdd(E);var I=this.y.redMul(w.redMul(m.redISub(w)).redISub(c.redMul(l)));I=I.redIAdd(I),I=I.redIAdd(I),I=I.redIAdd(I);var M=this.z.redAdd(c).redSqr().redISub(n).redISub(l);return this.curve.jpoint(E,I,M)};Cs.prototype.mul=function(e,r){return e=new rr.default(e,r),this.curve._wnafMul(this,e)};Cs.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),o=n.redMul(e.z);return this.y.redMul(o).redISub(e.y.redMul(i)).cmpn(0)===0};Cs.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),o=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(o),this.x.cmp(n)===0)return!0}};Cs.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Cs.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var I9=c2(function(t,e){"use strict";var r=e;r.base=y1,r.short=$it,r.mont=null,r.edwards=null}),M9=c2(function(t,e){"use strict";var r=e,n=hu.assert;function i(c){c.type==="short"?this.curve=new I9.short(c):c.type==="edwards"?this.curve=new I9.edwards(c):this.curve=new I9.mont(c),this.g=this.curve.g,this.n=this.curve.n,this.hash=c.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=i;function o(c,l){Object.defineProperty(r,c,{configurable:!0,enumerable:!0,get:function(){var m=new i(l);return Object.defineProperty(r,c,{configurable:!0,enumerable:!0,value:m}),m}})}o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Gd.default.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Gd.default.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Gd.default.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Gd.default.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Gd.default.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Gd.default.sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Gd.default.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var s;try{s=null.crash()}catch{s=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Gd.default.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",s]})});function Ym(t){if(!(this instanceof Ym))return new Ym(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Tl.toArray(t.entropy,t.entropyEnc||"hex"),r=Tl.toArray(t.nonce,t.nonceEnc||"hex"),n=Tl.toArray(t.pers,t.persEnc||"hex");yz(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var x1e=Ym;Ym.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var o=0;o<this.V.length;o++)this.K[o]=0,this.V[o]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};Ym.prototype._hmac=function(){return new Gd.default.hmac(this.hash,this.K)};Ym.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};Ym.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=Tl.toArray(e,r),n=Tl.toArray(n,i),yz(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};Ym.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=Tl.toArray(n,i||"hex"),this._update(n));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var s=o.slice(0,e);return this._update(n),this._reseed++,Tl.encode(s,r)};var mz=hu.assert;function ga(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var bz=ga;ga.fromPublic=function(e,r,n){return r instanceof ga?r:new ga(e,{pub:r,pubEnc:n})};ga.fromPrivate=function(e,r,n){return r instanceof ga?r:new ga(e,{priv:r,privEnc:n})};ga.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};ga.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};ga.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};ga.prototype._importPrivate=function(e,r){this.priv=new rr.default(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};ga.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?mz(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&mz(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};ga.prototype.derive=function(e){return e.validate()||mz(e.validate(),"public point not validated"),e.mul(this.priv).getX()};ga.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};ga.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};ga.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Yit=hu.assert;function B9(t,e){if(t instanceof B9)return t;this._importDER(t,e)||(Yit(t.r&&t.s,"Signature without r or s"),this.r=new rr.default(t.r,16),this.s=new rr.default(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var R9=B9;function Zit(){this.place=0}function hz(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,o=0,s=e.place;o<n;o++,s++)i<<=8,i|=t[s],i>>>=0;return i<=127?!1:(e.place=s,i)}function b1e(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}B9.prototype._importDER=function(e,r){e=hu.toArray(e,r);var n=new Zit;if(e[n.place++]!==48)return!1;var i=hz(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var o=hz(e,n);if(o===!1)return!1;var s=e.slice(n.place,o+n.place);if(n.place+=o,e[n.place++]!==2)return!1;var c=hz(e,n);if(c===!1||e.length!==c+n.place)return!1;var l=e.slice(n.place,c+n.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(l[0]===0)if(l[1]&128)l=l.slice(1);else return!1;return this.r=new rr.default(s),this.s=new rr.default(l),this.recoveryParam=null,!0};function pz(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}B9.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=b1e(r),n=b1e(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];pz(i,r.length),i=i.concat(r),i.push(2),pz(i,n.length);var o=i.concat(n),s=[48];return pz(s,o.length),s=s.concat(o),hu.encode(s,e)};var Qit=function(){throw new Error("unsupported")},w1e=hu.assert;function xf(t){if(!(this instanceof xf))return new xf(t);typeof t=="string"&&(w1e(Object.prototype.hasOwnProperty.call(M9,t),"Unknown curve "+t),t=M9[t]),t instanceof M9.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var Jit=xf;xf.prototype.keyPair=function(e){return new bz(this,e)};xf.prototype.keyFromPrivate=function(e,r){return bz.fromPrivate(this,e,r)};xf.prototype.keyFromPublic=function(e,r){return bz.fromPublic(this,e,r)};xf.prototype.genKeyPair=function(e){e||(e={});for(var r=new x1e({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Qit(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new rr.default(2));;){var o=new rr.default(r.generate(n));if(!(o.cmp(i)>0))return o.iaddn(1),this.keyFromPrivate(o)}};xf.prototype._truncateToN=function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};xf.prototype.sign=function(e,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new rr.default(e,16));for(var o=this.n.byteLength(),s=r.getPrivate().toArray("be",o),c=e.toArray("be",o),l=new x1e({hash:this.hash,entropy:s,nonce:c,pers:i.pers,persEnc:i.persEnc||"utf8"}),m=this.n.sub(new rr.default(1)),w=0;;w++){var b=i.k?i.k(w):new rr.default(l.generate(this.n.byteLength()));if(b=this._truncateToN(b,!0),!(b.cmpn(1)<=0||b.cmp(m)>=0)){var E=this.g.mul(b);if(!E.isInfinity()){var I=E.getX(),M=I.umod(this.n);if(M.cmpn(0)!==0){var k=b.invm(this.n).mul(M.mul(r.getPrivate()).iadd(e));if(k=k.umod(this.n),k.cmpn(0)!==0){var R=(E.getY().isOdd()?1:0)|(I.cmp(M)!==0?2:0);return i.canonical&&k.cmp(this.nh)>0&&(k=this.n.sub(k),R^=1),new R9({r:M,s:k,recoveryParam:R})}}}}}};xf.prototype.verify=function(e,r,n,i){e=this._truncateToN(new rr.default(e,16)),n=this.keyFromPublic(n,i),r=new R9(r,"hex");var o=r.r,s=r.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var c=s.invm(this.n),l=c.mul(e).umod(this.n),m=c.mul(o).umod(this.n),w;return this.curve._maxwellTrick?(w=this.g.jmulAdd(l,n.getPublic(),m),w.isInfinity()?!1:w.eqXToP(o)):(w=this.g.mulAdd(l,n.getPublic(),m),w.isInfinity()?!1:w.getX().umod(this.n).cmp(o)===0)};xf.prototype.recoverPubKey=function(t,e,r,n){w1e((3&r)===r,"The recovery param is more than two bits"),e=new R9(e,n);var i=this.n,o=new rr.default(t),s=e.r,c=e.s,l=r&1,m=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&m)throw new Error("Unable to find sencond key candinate");m?s=this.curve.pointFromX(s.add(this.curve.n),l):s=this.curve.pointFromX(s,l);var w=e.r.invm(i),b=i.sub(o).mul(w).umod(i),E=c.mul(w).umod(i);return this.g.mulAdd(b,s,E)};xf.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new R9(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(t,e,i)}catch{continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var Xit=c2(function(t,e){"use strict";var r=e;r.version="6.5.4",r.utils=hu,r.rand=function(){throw new Error("unsupported")},r.curve=I9,r.curves=M9,r.ec=Jit,r.eddsa=null}),S1e=Xit.ec;var yi=qe(rs());var E1e=qe(Va());d();h();var A1e="signing-key/5.7.0";var xz=new E1e.Logger(A1e),vz=null;function $d(){return vz||(vz=new S1e("secp256k1")),vz}var Af=class{constructor(e){qt(this,"curve","secp256k1"),qt(this,"privateKey",(0,yi.hexlify)(e)),(0,yi.hexDataLength)(this.privateKey)!==32&&xz.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");let r=$d().keyFromPrivate((0,yi.arrayify)(this.privateKey));qt(this,"publicKey","0x"+r.getPublic(!1,"hex")),qt(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),qt(this,"_isSigningKey",!0)}_addPoint(e){let r=$d().keyFromPublic((0,yi.arrayify)(this.publicKey)),n=$d().keyFromPublic((0,yi.arrayify)(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){let r=$d().keyFromPrivate((0,yi.arrayify)(this.privateKey)),n=(0,yi.arrayify)(e);n.length!==32&&xz.throwArgumentError("bad digest length","digest",e);let i=r.sign(n,{canonical:!0});return(0,yi.splitSignature)({recoveryParam:i.recoveryParam,r:(0,yi.hexZeroPad)("0x"+i.r.toString(16),32),s:(0,yi.hexZeroPad)("0x"+i.s.toString(16),32)})}computeSharedSecret(e){let r=$d().keyFromPrivate((0,yi.arrayify)(this.privateKey)),n=$d().keyFromPublic((0,yi.arrayify)(wz(e)));return(0,yi.hexZeroPad)("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}};function _1e(t,e){let r=(0,yi.splitSignature)(e),n={r:(0,yi.arrayify)(r.r),s:(0,yi.arrayify)(r.s)};return"0x"+$d().recoverPubKey((0,yi.arrayify)(t),n,r.recoveryParam).encode("hex",!1)}function wz(t,e){let r=(0,yi.arrayify)(t);if(r.length===32){let n=new Af(r);return e?"0x"+$d().keyFromPrivate(r).getPublic(!0,"hex"):n.publicKey}else{if(r.length===33)return e?(0,yi.hexlify)(r):"0x"+$d().keyFromPublic(r).getPublic(!1,"hex");if(r.length===65)return e?"0x"+$d().keyFromPublic(r).getPublic(!0,"hex"):(0,yi.hexlify)(r)}return xz.throwArgumentError("invalid public or private key","key","[REDACTED]")}var Tc=qe(lz());d();h();var tr=qe(rs());var C9=qe(Va());d();h();var T1e="transactions/5.7.0";var va=new C9.Logger(T1e),I1e;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(I1e||(I1e={}));function Az(t){return t==="0x"?null:_s(t)}function ba(t){return t==="0x"?ez:On.from(t)}var eot=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],tot={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function Yd(t){let e=wz(t);return _s((0,tr.hexDataSlice)(qn((0,tr.hexDataSlice)(e,1)),12))}function Ez(t,e){return Yd(_1e((0,tr.arrayify)(t),e))}function pu(t,e){let r=(0,tr.stripZeros)(On.from(t).toHexString());return r.length>32&&va.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}function Sz(t,e){return{address:_s(t),storageKeys:(e||[]).map((r,n)=>((0,tr.hexDataLength)(r)!==32&&va.throwArgumentError("invalid access list storageKey",`accessList[${t}:${n}]`,r),r.toLowerCase()))}}function _z(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(r.length>2&&va.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,r),Sz(r[0],r[1])):Sz(r.address,r.storageKeys));let e=Object.keys(t).map(r=>{let n=t[r].reduce((i,o)=>(i[o]=!0,i),{});return Sz(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function M1e(t){return _z(t).map(e=>[e.address,e.storageKeys])}function k1e(t,e){if(t.gasPrice!=null){let n=On.from(t.gasPrice),i=On.from(t.maxFeePerGas||0);n.eq(i)||va.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:i})}let r=[pu(t.chainId||0,"chainId"),pu(t.nonce||0,"nonce"),pu(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),pu(t.maxFeePerGas||0,"maxFeePerGas"),pu(t.gasLimit||0,"gasLimit"),t.to!=null?_s(t.to):"0x",pu(t.value||0,"value"),t.data||"0x",M1e(t.accessList||[])];if(e){let n=(0,tr.splitSignature)(e);r.push(pu(n.recoveryParam,"recoveryParam")),r.push((0,tr.stripZeros)(n.r)),r.push((0,tr.stripZeros)(n.s))}return(0,tr.hexConcat)(["0x02",Mx(r)])}function P1e(t,e){let r=[pu(t.chainId||0,"chainId"),pu(t.nonce||0,"nonce"),pu(t.gasPrice||0,"gasPrice"),pu(t.gasLimit||0,"gasLimit"),t.to!=null?_s(t.to):"0x",pu(t.value||0,"value"),t.data||"0x",M1e(t.accessList||[])];if(e){let n=(0,tr.splitSignature)(e);r.push(pu(n.recoveryParam,"recoveryParam")),r.push((0,tr.stripZeros)(n.r)),r.push((0,tr.stripZeros)(n.s))}return(0,tr.hexConcat)(["0x01",Mx(r)])}function rot(t,e){Pbe(t,tot);let r=[];eot.forEach(function(s){let c=t[s.name]||[],l={};s.numeric&&(l.hexPad="left"),c=(0,tr.arrayify)((0,tr.hexlify)(c,l)),s.length&&c.length!==s.length&&c.length>0&&va.throwArgumentError("invalid length for "+s.name,"transaction:"+s.name,c),s.maxLength&&(c=(0,tr.stripZeros)(c),c.length>s.maxLength&&va.throwArgumentError("invalid length for "+s.name,"transaction:"+s.name,c)),r.push((0,tr.hexlify)(c))});let n=0;if(t.chainId!=null?(n=t.chainId,typeof n!="number"&&va.throwArgumentError("invalid transaction.chainId","transaction",t)):e&&!(0,tr.isBytesLike)(e)&&e.v>28&&(n=Math.floor((e.v-35)/2)),n!==0&&(r.push((0,tr.hexlify)(n)),r.push("0x"),r.push("0x")),!e)return Mx(r);let i=(0,tr.splitSignature)(e),o=27+i.recoveryParam;return n!==0?(r.pop(),r.pop(),r.pop(),o+=n*2+8,i.v>28&&i.v!==o&&va.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):i.v!==o&&va.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),r.push((0,tr.hexlify)(o)),r.push((0,tr.stripZeros)((0,tr.arrayify)(i.r))),r.push((0,tr.stripZeros)((0,tr.arrayify)(i.s))),Mx(r)}function Tz(t,e){if(t.type==null||t.type===0)return t.accessList!=null&&va.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",t),rot(t,e);switch(t.type){case 1:return P1e(t,e);case 2:return k1e(t,e);default:break}return va.throwError(`unsupported transaction type: ${t.type}`,C9.Logger.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:t.type})}function B1e(t,e,r){try{let n=ba(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");t.v=n}catch{va.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=(0,tr.hexZeroPad)(e[1],32),t.s=(0,tr.hexZeroPad)(e[2],32);try{let n=qn(r(t));t.from=Ez(n,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}function not(t){let e=nI(t.slice(1));e.length!==9&&e.length!==12&&va.throwArgumentError("invalid component count for transaction type: 2","payload",(0,tr.hexlify)(t));let r=ba(e[2]),n=ba(e[3]),i={type:2,chainId:ba(e[0]).toNumber(),nonce:ba(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:ba(e[4]),to:Az(e[5]),value:ba(e[6]),data:e[7],accessList:_z(e[8])};return e.length===9||(i.hash=qn(t),B1e(i,e.slice(9),k1e)),i}function iot(t){let e=nI(t.slice(1));e.length!==8&&e.length!==11&&va.throwArgumentError("invalid component count for transaction type: 1","payload",(0,tr.hexlify)(t));let r={type:1,chainId:ba(e[0]).toNumber(),nonce:ba(e[1]).toNumber(),gasPrice:ba(e[2]),gasLimit:ba(e[3]),to:Az(e[4]),value:ba(e[5]),data:e[6],accessList:_z(e[7])};return e.length===8||(r.hash=qn(t),B1e(r,e.slice(8),P1e)),r}function oot(t){let e=nI(t);e.length!==9&&e.length!==6&&va.throwArgumentError("invalid raw transaction","rawTransaction",t);let r={nonce:ba(e[0]).toNumber(),gasPrice:ba(e[1]),gasLimit:ba(e[2]),to:Az(e[3]),value:ba(e[4]),data:e[5],chainId:0};if(e.length===6)return r;try{r.v=On.from(e[6]).toNumber()}catch{return r}if(r.r=(0,tr.hexZeroPad)(e[7],32),r.s=(0,tr.hexZeroPad)(e[8],32),On.from(r.r).isZero()&&On.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27,i=e.slice(0,6);r.chainId!==0&&(i.push((0,tr.hexlify)(r.chainId)),i.push("0x"),i.push("0x"),n-=r.chainId*2+8);let o=qn(Mx(i));try{r.from=Ez(o,{r:(0,tr.hexlify)(r.r),s:(0,tr.hexlify)(r.s),recoveryParam:n})}catch{}r.hash=qn(t)}return r.type=null,r}function Lrr(t){let e=(0,tr.arrayify)(t);if(e[0]>127)return oot(e);switch(e[0]){case 1:return iot(e);case 2:return not(e);default:break}return va.throwError(`unsupported transaction type: ${e[0]}`,C9.Logger.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}d();h();d();h();var C1e=qe(Va());d();h();var R1e="wordlists/5.7.0";var sot=!1,aot=new C1e.Logger(R1e),u2=class t{constructor(e){aot.checkAbstract(new.target,t),qt(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){let r=[];for(let n=0;n<2048;n++){let i=e.getWord(n);if(n!==e.getWordIndex(i))return"0x";r.push(i)}return o2(r.join(`
`)+`
`)}static register(e,r){if(r||(r=e.locale),sot)try{let n=self;n._ethers&&n._ethers.wordlists&&(n._ethers.wordlists[r]||qt(n._ethers.wordlists,r,e))}catch{}}};d();h();d();h();var cot="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo",w_=null;function O1e(t){if(w_==null&&(w_=cot.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),u2.check(t)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw w_=null,new Error("BIP39 Wordlist for en (English) FAILED")}var Iz=class extends u2{constructor(){super("en")}getWord(e){return O1e(this),w_[e]}getWordIndex(e){return O1e(this),w_.indexOf(e)}},Mz=new Iz;u2.register(Mz);var O9={en:Mz};var U1e=qe(Va());d();h();var N1e="hdnode/5.7.0";var D9=new U1e.Logger(N1e),uot=On.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),fot=fs("Bitcoin seed"),S_=2147483648;function L1e(t){return(1<<t)-1<<8-t}function lot(t){return(1<<t)-1}function N9(t){return(0,mn.hexZeroPad)((0,mn.hexlify)(t),32)}function D1e(t){return uz.encode((0,mn.concat)([t,(0,mn.hexDataSlice)((0,Tc.sha256)((0,Tc.sha256)(t)),0,4)]))}function kz(t){if(t==null)return O9.en;if(typeof t=="string"){let e=O9[t];return e==null&&D9.throwArgumentError("unknown locale","wordlist",t),e}return t}var f2={},g1="m/44'/60'/0'/0/0",Qm=class t{constructor(e,r,n,i,o,s,c,l){if(e!==f2)throw new Error("HDNode constructor cannot be called directly");if(r){let m=new Af(r);qt(this,"privateKey",m.privateKey),qt(this,"publicKey",m.compressedPublicKey)}else qt(this,"privateKey",null),qt(this,"publicKey",(0,mn.hexlify)(n));qt(this,"parentFingerprint",i),qt(this,"fingerprint",(0,mn.hexDataSlice)((0,Tc.ripemd160)((0,Tc.sha256)(this.publicKey)),0,4)),qt(this,"address",Yd(this.publicKey)),qt(this,"chainCode",o),qt(this,"index",s),qt(this,"depth",c),l==null?(qt(this,"mnemonic",null),qt(this,"path",null)):typeof l=="string"?(qt(this,"mnemonic",null),qt(this,"path",l)):(qt(this,"mnemonic",l),qt(this,"path",l.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return D1e((0,mn.concat)([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",(0,mn.hexlify)(this.depth),this.parentFingerprint,(0,mn.hexZeroPad)((0,mn.hexlify)(this.index),4),this.chainCode,this.privateKey!=null?(0,mn.concat)(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new t(f2,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let r=this.path;r&&(r+="/"+(e&~S_));let n=new Uint8Array(37);if(e&S_){if(!this.privateKey)throw new Error("cannot derive child of neutered node");n.set((0,mn.arrayify)(this.privateKey),1),r&&(r+="'")}else n.set((0,mn.arrayify)(this.publicKey));for(let b=24;b>=0;b-=8)n[33+(b>>3)]=e>>24-b&255;let i=(0,mn.arrayify)((0,Tc.computeHmac)(Tc.SupportedAlgorithm.sha512,this.chainCode,n)),o=i.slice(0,32),s=i.slice(32),c=null,l=null;this.privateKey?c=N9(On.from(o).add(this.privateKey).mod(uot)):l=new Af((0,mn.hexlify)(o))._addPoint(this.publicKey);let m=r,w=this.mnemonic;return w&&(m=Object.freeze({phrase:w.phrase,path:r,locale:w.locale||"en"})),new t(f2,c,l,this.fingerprint,N9(s),e,this.depth+1,m)}derivePath(e){let r=e.split("/");if(r.length===0||r[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+e);r[0]==="m"&&r.shift();let n=this;for(let i=0;i<r.length;i++){let o=r[i];if(o.match(/^[0-9]+'$/)){let s=parseInt(o.substring(0,o.length-1));if(s>=S_)throw new Error("invalid path index - "+o);n=n._derive(S_+s)}else if(o.match(/^[0-9]+$/)){let s=parseInt(o);if(s>=S_)throw new Error("invalid path index - "+o);n=n._derive(s)}else throw new Error("invalid path component - "+o)}return n}static _fromSeed(e,r){let n=(0,mn.arrayify)(e);if(n.length<16||n.length>64)throw new Error("invalid seed");let i=(0,mn.arrayify)((0,Tc.computeHmac)(Tc.SupportedAlgorithm.sha512,fot,n));return new t(f2,N9(i.slice(0,32)),null,"0x00000000",N9(i.slice(32)),0,0,r)}static fromMnemonic(e,r,n){return n=kz(n),e=A_(Pz(e,n),n),t._fromSeed(dot(e,r),{phrase:e,path:"m",locale:n.locale})}static fromSeed(e){return t._fromSeed(e,null)}static fromExtendedKey(e){let r=uz.decode(e);(r.length!==82||D1e(r.slice(0,78))!==e)&&D9.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");let n=r[4],i=(0,mn.hexlify)(r.slice(5,9)),o=parseInt((0,mn.hexlify)(r.slice(9,13)).substring(2),16),s=(0,mn.hexlify)(r.slice(13,45)),c=r.slice(45,78);switch((0,mn.hexlify)(r.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new t(f2,null,(0,mn.hexlify)(c),i,s,o,n,null);case"0x0488ade4":case"0x04358394 ":if(c[0]!==0)break;return new t(f2,(0,mn.hexlify)(c.slice(1)),null,i,s,o,n,null)}return D9.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}};function dot(t,e){e||(e="");let r=fs("mnemonic"+e,_l.NFKD);return m1(fs(t,_l.NFKD),r,2048,64,"sha512")}function Pz(t,e){e=kz(e),D9.checkNormalize();let r=e.split(t);if(r.length%3!==0)throw new Error("invalid mnemonic");let n=(0,mn.arrayify)(new Uint8Array(Math.ceil(11*r.length/8))),i=0;for(let m=0;m<r.length;m++){let w=e.getWordIndex(r[m].normalize("NFKD"));if(w===-1)throw new Error("invalid mnemonic");for(let b=0;b<11;b++)w&1<<10-b&&(n[i>>3]|=1<<7-i%8),i++}let o=32*r.length/3,s=r.length/3,c=L1e(s);if(((0,mn.arrayify)((0,Tc.sha256)(n.slice(0,o/8)))[0]&c)!==(n[n.length-1]&c))throw new Error("invalid checksum");return(0,mn.hexlify)(n.slice(0,o/8))}function A_(t,e){if(e=kz(e),t=(0,mn.arrayify)(t),t.length%4!==0||t.length<16||t.length>32)throw new Error("invalid entropy");let r=[0],n=11;for(let s=0;s<t.length;s++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=t[s],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=t[s]>>8-n,r.push(t[s]&lot(8-n)),n+=3);let i=t.length/4,o=(0,mn.arrayify)((0,Tc.sha256)(t))[0]&L1e(i);return r[r.length-1]<<=i,r[r.length-1]|=o>>8-i,e.join(r.map(s=>e.getWord(s)))}d();h();d();h();var q1e=qe(rs()),Rz=qe(Va());d();h();var F1e="random/5.7.0";var Bz=new Rz.Logger(F1e);function hot(){if(typeof self<"u"||typeof self<"u"||typeof self<"u")return self;throw new Error("unable to locate global object")}var V1e=hot(),U9=V1e.crypto||V1e.msCrypto;(!U9||!U9.getRandomValues)&&(Bz.warn("WARNING: Missing strong random number source"),U9={getRandomValues:function(t){return Bz.throwError("no secure random source avaialble",Rz.Logger.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});function Jm(t){(t<=0||t>1024||t%1||t!=t)&&Bz.throwArgumentError("invalid length","length",t);let e=new Uint8Array(t);return U9.getRandomValues(e),(0,q1e.arrayify)(e)}d();h();d();h();var Nz=qe(Oz());var Dz=qe(rs());var j1e=qe(Va());d();h();var L9="json-wallets/5.7.0";d();h();var l2=qe(rs());function M0(t){return typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),(0,l2.arrayify)(t)}function d2(t,e){for(t=String(t);t.length<e;)t="0"+t;return t}function E_(t){return typeof t=="string"?fs(t,_l.NFKC):(0,l2.arrayify)(t)}function Fi(t,e){let r=t,n=e.toLowerCase().split("/");for(let i=0;i<n.length;i++){let o=null;for(let s in r)if(s.toLowerCase()===n[i]){o=r[s];break}if(o===null)return null;r=o}return r}function H1e(t){let e=(0,l2.arrayify)(t);e[6]=e[6]&15|64,e[8]=e[8]&63|128;let r=(0,l2.hexlify)(e);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}var pot=new j1e.Logger(L9),Uz=class extends Gm{isCrowdsaleAccount(e){return!!(e&&e._isCrowdsaleAccount)}};function Lz(t,e){let r=JSON.parse(t);e=E_(e);let n=_s(Fi(r,"ethaddr")),i=M0(Fi(r,"encseed"));(!i||i.length%16!==0)&&pot.throwArgumentError("invalid encseed","json",t);let o=(0,Dz.arrayify)(m1(e,e,2e3,32,"sha256")).slice(0,16),s=i.slice(0,16),c=i.slice(16),l=new Nz.default.ModeOfOperation.cbc(o,s),m=Nz.default.padding.pkcs7.strip((0,Dz.arrayify)(l.decrypt(c))),w="";for(let I=0;I<m.length;I++)w+=String.fromCharCode(m[I]);let b=fs(w),E=qn(b);return new Uz({_isCrowdsaleAccount:!0,address:n,privateKey:E})}d();h();function Fz(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return e.encseed&&e.ethaddr}function Vz(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return!(!e.version||parseInt(e.version)!==e.version||parseInt(e.version)!==3)}d();h();var k0=qe(Oz()),V9=qe(W1e());var Vi=qe(rs());var F9=qe(Va());var mot=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function c(w){try{m(n.next(w))}catch(b){s(b)}}function l(w){try{m(n.throw(w))}catch(b){s(b)}}function m(w){w.done?o(w.value):i(w.value).then(c,l)}m((n=n.apply(t,e||[])).next())})},Kz=new F9.Logger(L9);function G1e(t){return t!=null&&t.mnemonic&&t.mnemonic.phrase}var Hz=class extends Gm{isKeystoreAccount(e){return!!(e&&e._isKeystoreAccount)}};function yot(t,e,r){if(Fi(t,"crypto/cipher")==="aes-128-ctr"){let i=M0(Fi(t,"crypto/cipherparams/iv")),o=new k0.default.Counter(i),s=new k0.default.ModeOfOperation.ctr(e,o);return(0,Vi.arrayify)(s.decrypt(r))}return null}function $1e(t,e){let r=M0(Fi(t,"crypto/ciphertext"));if((0,Vi.hexlify)(qn((0,Vi.concat)([e.slice(16,32),r]))).substring(2)!==Fi(t,"crypto/mac").toLowerCase())throw new Error("invalid password");let i=yot(t,e.slice(0,16),r);i||Kz.throwError("unsupported cipher",F9.Logger.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});let o=e.slice(32,64),s=Yd(i);if(t.address){let l=t.address.toLowerCase();if(l.substring(0,2)!=="0x"&&(l="0x"+l),_s(l)!==s)throw new Error("address mismatch")}let c={_isKeystoreAccount:!0,address:s,privateKey:(0,Vi.hexlify)(i)};if(Fi(t,"x-ethers/version")==="0.1"){let l=M0(Fi(t,"x-ethers/mnemonicCiphertext")),m=M0(Fi(t,"x-ethers/mnemonicCounter")),w=new k0.default.Counter(m),b=new k0.default.ModeOfOperation.ctr(o,w),E=Fi(t,"x-ethers/path")||g1,I=Fi(t,"x-ethers/locale")||"en",M=(0,Vi.arrayify)(b.decrypt(l));try{let k=A_(M,I),R=Qm.fromMnemonic(k,null,I).derivePath(E);if(R.privateKey!=c.privateKey)throw new Error("mnemonic mismatch");c.mnemonic=R.mnemonic}catch(k){if(k.code!==F9.Logger.errors.INVALID_ARGUMENT||k.argument!=="wordlist")throw k}}return new Hz(c)}function Y1e(t,e,r,n,i){return(0,Vi.arrayify)(m1(t,e,r,n,i))}function got(t,e,r,n,i){return Promise.resolve(Y1e(t,e,r,n,i))}function Z1e(t,e,r,n,i){let o=E_(e),s=Fi(t,"crypto/kdf");if(s&&typeof s=="string"){let c=function(l,m){return Kz.throwArgumentError("invalid key-derivation function parameters",l,m)};if(s.toLowerCase()==="scrypt"){let l=M0(Fi(t,"crypto/kdfparams/salt")),m=parseInt(Fi(t,"crypto/kdfparams/n")),w=parseInt(Fi(t,"crypto/kdfparams/r")),b=parseInt(Fi(t,"crypto/kdfparams/p"));(!m||!w||!b)&&c("kdf",s),m&m-1&&c("N",m);let E=parseInt(Fi(t,"crypto/kdfparams/dklen"));return E!==32&&c("dklen",E),n(o,l,m,w,b,64,i)}else if(s.toLowerCase()==="pbkdf2"){let l=M0(Fi(t,"crypto/kdfparams/salt")),m=null,w=Fi(t,"crypto/kdfparams/prf");w==="hmac-sha256"?m="sha256":w==="hmac-sha512"?m="sha512":c("prf",w);let b=parseInt(Fi(t,"crypto/kdfparams/c")),E=parseInt(Fi(t,"crypto/kdfparams/dklen"));return E!==32&&c("dklen",E),r(o,l,b,E,m)}}return Kz.throwArgumentError("unsupported key-derivation function","kdf",s)}function Q1e(t,e){let r=JSON.parse(t),n=Z1e(r,e,Y1e,V9.default.syncScrypt);return $1e(r,n)}function J1e(t,e,r){return mot(this,void 0,void 0,function*(){let n=JSON.parse(t),i=yield Z1e(n,e,got,V9.default.scrypt,r);return $1e(n,i)})}function jz(t,e,r,n){try{if(_s(t.address)!==Yd(t.privateKey))throw new Error("address/privateKey mismatch");if(G1e(t)){let R=t.mnemonic;if(Qm.fromMnemonic(R.phrase,null,R.locale).derivePath(R.path||g1).privateKey!=t.privateKey)throw new Error("mnemonic mismatch")}}catch(R){return Promise.reject(R)}typeof r=="function"&&!n&&(n=r,r={}),r||(r={});let i=(0,Vi.arrayify)(t.privateKey),o=E_(e),s=null,c=null,l=null;if(G1e(t)){let R=t.mnemonic;s=(0,Vi.arrayify)(Pz(R.phrase,R.locale||"en")),c=R.path||g1,l=R.locale||"en"}let m=r.client;m||(m="ethers.js");let w=null;r.salt?w=(0,Vi.arrayify)(r.salt):w=Jm(32);let b=null;if(r.iv){if(b=(0,Vi.arrayify)(r.iv),b.length!==16)throw new Error("invalid iv")}else b=Jm(16);let E=null;if(r.uuid){if(E=(0,Vi.arrayify)(r.uuid),E.length!==16)throw new Error("invalid uuid")}else E=Jm(16);let I=1<<17,M=8,k=1;return r.scrypt&&(r.scrypt.N&&(I=r.scrypt.N),r.scrypt.r&&(M=r.scrypt.r),r.scrypt.p&&(k=r.scrypt.p)),V9.default.scrypt(o,w,I,M,k,64,n).then(R=>{R=(0,Vi.arrayify)(R);let B=R.slice(0,16),U=R.slice(16,32),P=R.slice(32,64),F=new k0.default.Counter(b),q=new k0.default.ModeOfOperation.ctr(B,F),K=(0,Vi.arrayify)(q.encrypt(i)),re=qn((0,Vi.concat)([U,K])),Q={address:t.address.substring(2).toLowerCase(),id:H1e(E),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:(0,Vi.hexlify)(b).substring(2)},ciphertext:(0,Vi.hexlify)(K).substring(2),kdf:"scrypt",kdfparams:{salt:(0,Vi.hexlify)(w).substring(2),n:I,dklen:32,p:k,r:M},mac:re.substring(2)}};if(s){let ie=Jm(16),S=new k0.default.Counter(ie),a=new k0.default.ModeOfOperation.ctr(P,S),f=(0,Vi.arrayify)(a.encrypt(s)),p=new Date,y=p.getUTCFullYear()+"-"+d2(p.getUTCMonth()+1,2)+"-"+d2(p.getUTCDate(),2)+"T"+d2(p.getUTCHours(),2)+"-"+d2(p.getUTCMinutes(),2)+"-"+d2(p.getUTCSeconds(),2)+".0Z";Q["x-ethers"]={client:m,gethFilename:"UTC--"+y+"--"+Q.address,mnemonicCounter:(0,Vi.hexlify)(ie).substring(2),mnemonicCiphertext:(0,Vi.hexlify)(f).substring(2),path:c,locale:l,version:"0.1"}}return JSON.stringify(Q)})}function X1e(t,e,r){if(Fz(t)){r&&r(0);let n=Lz(t,e);return r&&r(1),Promise.resolve(n)}return Vz(t)?J1e(t,e,r):Promise.reject(new Error("invalid JSON wallet"))}function eve(t,e){if(Fz(t))return Lz(t,e);if(Vz(t))return Q1e(t,e);throw new Error("invalid JSON wallet")}var zz=qe(Va());d();h();var tve="wallet/5.7.0";var rve=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function c(w){try{m(n.next(w))}catch(b){s(b)}}function l(w){try{m(n.throw(w))}catch(b){s(b)}}function m(w){w.done?o(w.value):i(w.value).then(c,l)}m((n=n.apply(t,e||[])).next())})},h2=new zz.Logger(tve);function bot(t){return t!=null&&(0,Il.isHexString)(t.privateKey,32)&&t.address!=null}function vot(t){let e=t.mnemonic;return e&&e.phrase}var p2=class t extends y_{constructor(e,r){if(super(),bot(e)){let n=new Af(e.privateKey);if(qt(this,"_signingKey",()=>n),qt(this,"address",Yd(this.publicKey)),this.address!==_s(e.address)&&h2.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),vot(e)){let i=e.mnemonic;qt(this,"_mnemonic",()=>({phrase:i.phrase,path:i.path||g1,locale:i.locale||"en"}));let o=this.mnemonic,s=Qm.fromMnemonic(o.phrase,null,o.locale).derivePath(o.path);Yd(s.privateKey)!==this.address&&h2.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else qt(this,"_mnemonic",()=>null)}else{if(Af.isSigningKey(e))e.curve!=="secp256k1"&&h2.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),qt(this,"_signingKey",()=>e);else{typeof e=="string"&&e.match(/^[0-9a-f]*$/i)&&e.length===64&&(e="0x"+e);let n=new Af(e);qt(this,"_signingKey",()=>n)}qt(this,"_mnemonic",()=>null),qt(this,"address",Yd(this.publicKey))}r&&!w9.isProvider(r)&&h2.throwArgumentError("invalid provider","provider",r),qt(this,"provider",r||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new t(this,e)}signTransaction(e){return I0(e).then(r=>{r.from!=null&&(_s(r.from)!==this.address&&h2.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete r.from);let n=this._signingKey().signDigest(qn(Tz(r)));return Tz(r,n)})}signMessage(e){return rve(this,void 0,void 0,function*(){return(0,Il.joinSignature)(this._signingKey().signDigest(oz(e)))})}_signTypedData(e,r,n){return rve(this,void 0,void 0,function*(){let i=yield a2.resolveNames(e,r,n,o=>(this.provider==null&&h2.throwError("cannot resolve ENS names without a provider",zz.Logger.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:o}),this.provider.resolveName(o)));return(0,Il.joinSignature)(this._signingKey().signDigest(a2.hash(i.domain,r,i.value)))})}encrypt(e,r,n){if(typeof r=="function"&&!n&&(n=r,r={}),n&&typeof n!="function")throw new Error("invalid callback");return r||(r={}),jz(this,e,r,n)}static createRandom(e){let r=Jm(16);e||(e={}),e.extraEntropy&&(r=(0,Il.arrayify)((0,Il.hexDataSlice)(qn((0,Il.concat)([r,e.extraEntropy])),0,16)));let n=A_(r,e.locale);return t.fromMnemonic(n,e.path,e.locale)}static fromEncryptedJson(e,r,n){return X1e(e,r,n).then(i=>new t(i))}static fromEncryptedJsonSync(e,r){return new t(eve(e,r))}static fromMnemonic(e,r,n){return r||(r=g1),new t(Qm.fromMnemonic(e,null,n).derivePath(r))}};var q9=class{addressTypes=["eip155"];generateKeypairFromPrivateKey(e){let r=e.fold(n=>new p2(new Uint8Array(n)));return{publicKey:new Uint8Array(Buffer.from(r.publicKey.slice(2),"hex")),privateKey:new Uint8Array(Buffer.from(r.privateKey.slice(2),"hex"))}}generateKeypairFromSeed(e,r,n){let i=e.fold(o=>new ma(o));try{let o=i.derivePathType(n,r);return{publicKey:o.publicKey,privateKey:o.secretKey}}finally{i.cleanup()}}};d();h();d();h();d();h();d();h();d();h();function Wz(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function xot(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function nve(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function wot(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Wz(t.outputLen),Wz(t.blockLen)}function Sot(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Aot(t,e){nve(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var Eot={number:Wz,bool:xot,bytes:nve,hash:wot,exists:Sot,output:Aot},Ml=Eot;d();h();d();h();var _ot={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};var ive=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),K9=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);var Tot=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Tot)throw new Error("Non little-endian hardware is not supported");var tor=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Iot(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function y2(t){if(typeof t=="string"&&(t=Iot(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}var m2=class{clone(){return this._cloneInto()}};function b1(t){let e=n=>t().update(y2(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function ove(t){let e=(n,i)=>t(i).update(y2(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}function Mot(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),c=Number(r&o),l=n?4:0,m=n?0:4;t.setUint32(e+l,s,n),t.setUint32(e+m,c,n)}var H9=class extends m2{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=K9(this.buffer)}update(e){Ml.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=y2(e);let o=e.length;for(let s=0;s<o;){let c=Math.min(i-this.pos,o-s);if(c===i){let l=K9(e);for(;i<=o-s;s+=i)this.process(l,s);continue}n.set(e.subarray(s,s+c),this.pos),this.pos+=c,s+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Ml.exists(this),Ml.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let b=s;b<i;b++)r[b]=0;Mot(n,i-8,BigInt(this.length*8),o),this.process(n,0);let c=K9(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let m=l/4,w=this.get();if(m>w.length)throw new Error("_sha2: outputLen bigger than state");for(let b=0;b<m;b++)c.setUint32(4*b,w[b],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:c}=this;return e.length=i,e.pos=c,e.finished=o,e.destroyed=s,i%r&&e.buffer.set(n),e}};d();h();var j9=BigInt(4294967295),Gz=BigInt(32);function sve(t,e=!1){return e?{h:Number(t&j9),l:Number(t>>Gz&j9)}:{h:Number(t>>Gz&j9)|0,l:Number(t&j9)|0}}function kot(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:o,l:s}=sve(t[i],e);[r[i],n[i]]=[o,s]}return[r,n]}var Pot=(t,e)=>BigInt(t>>>0)<<Gz|BigInt(e>>>0),Bot=(t,e,r)=>t>>>r,Rot=(t,e,r)=>t<<32-r|e>>>r,Cot=(t,e,r)=>t>>>r|e<<32-r,Oot=(t,e,r)=>t<<32-r|e>>>r,Not=(t,e,r)=>t<<64-r|e>>>r-32,Dot=(t,e,r)=>t>>>r-32|e<<64-r,Uot=(t,e)=>e,Lot=(t,e)=>t,Fot=(t,e,r)=>t<<r|e>>>32-r,Vot=(t,e,r)=>e<<r|t>>>32-r,qot=(t,e,r)=>e<<r-32|t>>>64-r,Kot=(t,e,r)=>t<<r-32|e>>>64-r;function Hot(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}var jot=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),zot=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,Wot=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),Got=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,$ot=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),Yot=(t,e,r,n,i,o)=>e+r+n+i+o+(t/2**32|0)|0,Zot={fromBig:sve,split:kot,toBig:Pot,shrSH:Bot,shrSL:Rot,rotrSH:Cot,rotrSL:Oot,rotrBH:Not,rotrBL:Dot,rotr32H:Uot,rotr32L:Lot,rotlSH:Fot,rotlSL:Vot,rotlBH:qot,rotlBL:Kot,add:Hot,add3L:jot,add3H:zot,add4L:Wot,add4H:Got,add5H:Yot,add5L:$ot},Yt=Zot;var[Qot,Jot]=Yt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Xm=new Uint32Array(80),ey=new Uint32Array(80),g2=class extends H9{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:o,Cl:s,Dh:c,Dl:l,Eh:m,El:w,Fh:b,Fl:E,Gh:I,Gl:M,Hh:k,Hl:R}=this;return[e,r,n,i,o,s,c,l,m,w,b,E,I,M,k,R]}set(e,r,n,i,o,s,c,l,m,w,b,E,I,M,k,R){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=c|0,this.Dl=l|0,this.Eh=m|0,this.El=w|0,this.Fh=b|0,this.Fl=E|0,this.Gh=I|0,this.Gl=M|0,this.Hh=k|0,this.Hl=R|0}process(e,r){for(let P=0;P<16;P++,r+=4)Xm[P]=e.getUint32(r),ey[P]=e.getUint32(r+=4);for(let P=16;P<80;P++){let F=Xm[P-15]|0,q=ey[P-15]|0,K=Yt.rotrSH(F,q,1)^Yt.rotrSH(F,q,8)^Yt.shrSH(F,q,7),re=Yt.rotrSL(F,q,1)^Yt.rotrSL(F,q,8)^Yt.shrSL(F,q,7),Q=Xm[P-2]|0,ie=ey[P-2]|0,S=Yt.rotrSH(Q,ie,19)^Yt.rotrBH(Q,ie,61)^Yt.shrSH(Q,ie,6),a=Yt.rotrSL(Q,ie,19)^Yt.rotrBL(Q,ie,61)^Yt.shrSL(Q,ie,6),f=Yt.add4L(re,a,ey[P-7],ey[P-16]),p=Yt.add4H(f,K,S,Xm[P-7],Xm[P-16]);Xm[P]=p|0,ey[P]=f|0}let{Ah:n,Al:i,Bh:o,Bl:s,Ch:c,Cl:l,Dh:m,Dl:w,Eh:b,El:E,Fh:I,Fl:M,Gh:k,Gl:R,Hh:B,Hl:U}=this;for(let P=0;P<80;P++){let F=Yt.rotrSH(b,E,14)^Yt.rotrSH(b,E,18)^Yt.rotrBH(b,E,41),q=Yt.rotrSL(b,E,14)^Yt.rotrSL(b,E,18)^Yt.rotrBL(b,E,41),K=b&I^~b&k,re=E&M^~E&R,Q=Yt.add5L(U,q,re,Jot[P],ey[P]),ie=Yt.add5H(Q,B,F,K,Qot[P],Xm[P]),S=Q|0,a=Yt.rotrSH(n,i,28)^Yt.rotrBH(n,i,34)^Yt.rotrBH(n,i,39),f=Yt.rotrSL(n,i,28)^Yt.rotrBL(n,i,34)^Yt.rotrBL(n,i,39),p=n&o^n&c^o&c,y=i&s^i&l^s&l;B=k|0,U=R|0,k=I|0,R=M|0,I=b|0,M=E|0,{h:b,l:E}=Yt.add(m|0,w|0,ie|0,S|0),m=c|0,w=l|0,c=o|0,l=s|0,o=n|0,s=i|0;let g=Yt.add3L(S,f,y);n=Yt.add3H(g,ie,a,p),i=g|0}({h:n,l:i}=Yt.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:o,l:s}=Yt.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:c,l}=Yt.add(this.Ch|0,this.Cl|0,c|0,l|0),{h:m,l:w}=Yt.add(this.Dh|0,this.Dl|0,m|0,w|0),{h:b,l:E}=Yt.add(this.Eh|0,this.El|0,b|0,E|0),{h:I,l:M}=Yt.add(this.Fh|0,this.Fl|0,I|0,M|0),{h:k,l:R}=Yt.add(this.Gh|0,this.Gl|0,k|0,R|0),{h:B,l:U}=Yt.add(this.Hh|0,this.Hl|0,B|0,U|0),this.set(n,i,o,s,c,l,m,w,b,E,I,M,k,R,B,U)}roundClean(){Xm.fill(0),ey.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},$z=class extends g2{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},Yz=class extends g2{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},Zz=class extends g2{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}},ave=b1(()=>new g2),gor=b1(()=>new $z),bor=b1(()=>new Yz),vor=b1(()=>new Zz);A0.sha512Sync=(...t)=>ave(A0.concatBytes(...t));var{getPublicKey:Xot}=$7,Qz=t=>{let e=Xot(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),{publicKey:e,secretKey:r}};var z9=class{addressTypes=["solana"];generateKeypairFromPrivateKey(e){let r=e.fold(n=>new lu.Account(new Uint8Array(n)));return{publicKey:r.publicKey.toBytes(),privateKey:r.secretKey}}generateKeypairFromSeed(e,r,n){let i=e.fold(o=>new ma(o));try{let o=i.derivePathType(n,r);switch(n){case"bitcoinTaproot":case"bitcoinNativeSegwit":case"bitcoinNestedSegwit":case"bitcoinLegacy":case"bip44Root":case"bip44":case"bip44Change":case"bip44RootEthereum":case"bip44Ethereum":case"bip44EthereumSecondary":case"bip44EthereumTertiary":case"bip44Sui":return{publicKey:o.publicKey,privateKey:o.secretKey};case"deprecated":{let s=Qz(o.secretKey);return{publicKey:s.publicKey,privateKey:s.secretKey}}}}finally{i.cleanup()}}};d();h();d();h();d();h();d();h();d();h();d();h();d();h();function est(t){if(t.length>=255)throw new TypeError("Alphabet too long");let e=new Uint8Array(256);for(let m=0;m<e.length;m++)e[m]=255;for(let m=0;m<t.length;m++){let w=t.charAt(m),b=w.charCodeAt(0);if(e[b]!==255)throw new TypeError(w+" is ambiguous");e[b]=m}let r=t.length,n=t.charAt(0),i=Math.log(r)/Math.log(256),o=Math.log(256)/Math.log(r);function s(m){if(m instanceof Uint8Array||(ArrayBuffer.isView(m)?m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength):Array.isArray(m)&&(m=Uint8Array.from(m))),!(m instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(m.length===0)return"";let w=0,b=0,E=0,I=m.length;for(;E!==I&&m[E]===0;)E++,w++;let M=(I-E)*o+1>>>0,k=new Uint8Array(M);for(;E!==I;){let U=m[E],P=0;for(let F=M-1;(U!==0||P<b)&&F!==-1;F--,P++)U+=256*k[F]>>>0,k[F]=U%r>>>0,U=U/r>>>0;if(U!==0)throw new Error("Non-zero carry");b=P,E++}let R=M-b;for(;R!==M&&k[R]===0;)R++;let B=n.repeat(w);for(;R<M;++R)B+=t.charAt(k[R]);return B}function c(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return new Uint8Array;let w=0,b=0,E=0;for(;m[w]===n;)b++,w++;let I=(m.length-w)*i+1>>>0,M=new Uint8Array(I);for(;m[w];){let U=e[m.charCodeAt(w)];if(U===255)return;let P=0;for(let F=I-1;(U!==0||P<E)&&F!==-1;F--,P++)U+=r*M[F]>>>0,M[F]=U%256>>>0,U=U/256>>>0;if(U!==0)throw new Error("Non-zero carry");E=P,w++}let k=I-E;for(;k!==I&&M[k]===0;)k++;let R=new Uint8Array(b+(I-k)),B=b;for(;k!==I;)R[B++]=M[k++];return R}function l(m){let w=c(m);if(w)return w;throw new Error("Non-base"+r+" character")}return{encode:s,decodeUnsafe:c,decode:l}}var cve=est;var tst="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Jz=cve(tst);var P0=t=>Jz.encode(t),Zd=t=>Jz.decode(t);d();h();function wn(t){return Uint8Array.from(atob(t),e=>e.charCodeAt(0))}var Xz=8192;function lr(t){if(t.length<Xz)return btoa(String.fromCharCode(...t));let e="";for(var r=0;r<t.length;r+=Xz){let n=t.slice(r,r+Xz);e+=String.fromCharCode(...n)}return btoa(e)}d();h();d();h();function Ef(t){let e=t.startsWith("0x")?t.slice(2):t,n=(e.length%2===0?e:`0${e}}`).match(/.{2}/g)?.map(i=>parseInt(i,16))??[];return Uint8Array.from(n)}function Ro(t){return t.reduce((e,r)=>e+r.toString(16).padStart(2,"0"),"")}d();h();d();h();function b2(t){let e=[],r=0;if(t===0)return[0];for(;t>0;)e[r]=t&127,(t>>=7)&&(e[r]|=128),r+=1;return e}function uve(t){let e=0,r=0,n=0;for(;;){let i=t[n];if(n+=1,e|=(i&127)<<r,!(i&128))break;r+=7}return{value:e,length:n}}var W9=class{constructor(e){this.bytePosition=0,this.dataView=new DataView(e.buffer)}shift(e){return this.bytePosition+=e,this}read8(){let e=this.dataView.getUint8(this.bytePosition);return this.shift(1),e}read16(){let e=this.dataView.getUint16(this.bytePosition,!0);return this.shift(2),e}read32(){let e=this.dataView.getUint32(this.bytePosition,!0);return this.shift(4),e}read64(){let e=this.read32(),n=this.read32().toString(16)+e.toString(16).padStart(8,"0");return BigInt("0x"+n).toString(10)}read128(){let e=BigInt(this.read64()),n=BigInt(this.read64()).toString(16)+e.toString(16).padStart(16,"0");return BigInt("0x"+n).toString(10)}read256(){let e=BigInt(this.read128()),n=BigInt(this.read128()).toString(16)+e.toString(16).padStart(32,"0");return BigInt("0x"+n).toString(10)}readBytes(e){let r=this.bytePosition+this.dataView.byteOffset,n=new Uint8Array(this.dataView.buffer,r,e);return this.shift(e),n}readULEB(){let e=this.bytePosition+this.dataView.byteOffset,r=new Uint8Array(this.dataView.buffer,e),{value:n,length:i}=uve(r);return this.shift(i),n}readVec(e){let r=this.readULEB(),n=[];for(let i=0;i<r;i++)n.push(e(this,i,r));return n}};d();h();d();h();function eW(t,e){switch(e){case"base58":return P0(t);case"base64":return lr(t);case"hex":return Ro(t);default:throw new Error("Unsupported encoding, supported values are: base64, hex")}}function __(t,e=["<",">"]){let[r,n]=e,i=[],o="",s=0;for(let c=0;c<t.length;c++){let l=t[c];if(l===r&&s++,l===n&&s--,s===0&&l===","){i.push(o.trim()),o="";continue}o+=l}return i.push(o.trim()),i}var G9=class{constructor({initialSize:e=1024,maxSize:r=1/0,allocateSize:n=1024}={}){this.bytePosition=0,this.size=e,this.maxSize=r,this.allocateSize=n,this.dataView=new DataView(new ArrayBuffer(e))}ensureSizeOrGrow(e){let r=this.bytePosition+e;if(r>this.size){let n=Math.min(this.maxSize,this.size+this.allocateSize);if(r>n)throw new Error(`Attempting to serialize to BCS, but buffer does not have enough size. Allocated size: ${this.size}, Max size: ${this.maxSize}, Required size: ${r}`);this.size=n;let i=new ArrayBuffer(this.size);new Uint8Array(i).set(new Uint8Array(this.dataView.buffer)),this.dataView=new DataView(i)}}shift(e){return this.bytePosition+=e,this}write8(e){return this.ensureSizeOrGrow(1),this.dataView.setUint8(this.bytePosition,Number(e)),this.shift(1)}write16(e){return this.ensureSizeOrGrow(2),this.dataView.setUint16(this.bytePosition,Number(e),!0),this.shift(2)}write32(e){return this.ensureSizeOrGrow(4),this.dataView.setUint32(this.bytePosition,Number(e),!0),this.shift(4)}write64(e){return tW(BigInt(e),8).forEach(r=>this.write8(r)),this}write128(e){return tW(BigInt(e),16).forEach(r=>this.write8(r)),this}write256(e){return tW(BigInt(e),32).forEach(r=>this.write8(r)),this}writeULEB(e){return b2(e).forEach(r=>this.write8(r)),this}writeVec(e,r){return this.writeULEB(e.length),Array.from(e).forEach((n,i)=>r(this,n,i,e.length)),this}*[Symbol.iterator](){for(let e=0;e<this.bytePosition;e++)yield this.dataView.getUint8(e);return this.toBytes()}toBytes(){return new Uint8Array(this.dataView.buffer.slice(0,this.bytePosition))}toString(e){return eW(this.toBytes(),e)}};function tW(t,e){let r=new Uint8Array(e),n=0;for(;t>0;)r[n]=Number(t%BigInt(256)),t=t/BigInt(256),n+=1;return r}var fve=t=>{throw TypeError(t)},lve=(t,e,r)=>e.has(t)||fve("Cannot "+r),kl=(t,e,r)=>(lve(t,e,"read from private field"),r?r.call(t):e.get(t)),Y9=(t,e,r)=>e.has(t)?fve("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Z9=(t,e,r,n)=>(lve(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),v2,T_,$9,ty,rst=class dve{constructor(e){Y9(this,v2),Y9(this,T_),this.name=e.name,this.read=e.read,this.serializedSize=e.serializedSize??(()=>null),Z9(this,v2,e.write),Z9(this,T_,e.serialize??((r,n)=>{let i=new G9({initialSize:this.serializedSize(r)??void 0,...n});return kl(this,v2).call(this,r,i),i.toBytes()})),this.validate=e.validate??(()=>{})}write(e,r){this.validate(e),kl(this,v2).call(this,e,r)}serialize(e,r){return this.validate(e),new rW(this,kl(this,T_).call(this,e,r))}parse(e){let r=new W9(e);return this.read(r)}fromHex(e){return this.parse(Ef(e))}fromBase58(e){return this.parse(Zd(e))}fromBase64(e){return this.parse(wn(e))}transform({name:e,input:r,output:n,validate:i}){return new dve({name:e??this.name,read:o=>n(this.read(o)),write:(o,s)=>kl(this,v2).call(this,r(o),s),serializedSize:o=>this.serializedSize(r(o)),serialize:(o,s)=>kl(this,T_).call(this,r(o),s),validate:o=>{i?.(o),this.validate(r(o))}})}};v2=new WeakMap;T_=new WeakMap;var Qd=rst,nst=Symbol.for("@mysten/serialized-bcs");var rW=class{constructor(e,r){Y9(this,$9),Y9(this,ty),Z9(this,$9,e),Z9(this,ty,r)}get[nst](){return!0}toBytes(){return kl(this,ty)}toHex(){return Ro(kl(this,ty))}toBase64(){return lr(kl(this,ty))}toBase58(){return P0(kl(this,ty))}parse(){return kl(this,$9).parse(kl(this,ty))}};$9=new WeakMap;ty=new WeakMap;function I_({size:t,...e}){return new Qd({...e,serializedSize:()=>t})}function Q9({readMethod:t,writeMethod:e,...r}){return I_({...r,read:n=>n[t](),write:(n,i)=>i[e](n),validate:n=>{if(n<0||n>r.maxValue)throw new TypeError(`Invalid ${r.name} value: ${n}. Expected value in range 0-${r.maxValue}`);r.validate?.(n)}})}function J9({readMethod:t,writeMethod:e,...r}){return I_({...r,read:n=>n[t](),write:(n,i)=>i[e](BigInt(n)),validate:n=>{let i=BigInt(n);if(i<0||i>r.maxValue)throw new TypeError(`Invalid ${r.name} value: ${i}. Expected value in range 0-${r.maxValue}`);r.validate?.(i)}})}function hve({serialize:t,...e}){let r=new Qd({...e,serialize:t,write:(n,i)=>{for(let o of r.serialize(n).toBytes())i.write8(o)}});return r}function pve({toBytes:t,fromBytes:e,...r}){return new Qd({...r,read:n=>{let i=n.readULEB(),o=n.readBytes(i);return e(o)},write:(n,i)=>{let o=t(n);i.writeULEB(o.length);for(let s=0;s<o.length;s++)i.write8(o[s])},serialize:n=>{let i=t(n),o=b2(i.length),s=new Uint8Array(o.length+i.length);return s.set(o,0),s.set(i,o.length),s},validate:n=>{if(typeof n!="string")throw new TypeError(`Invalid ${r.name} value: ${n}. Expected string`);r.validate?.(n)}})}function mve(t){let e=null;function r(){return e||(e=t()),e}return new Qd({name:"lazy",read:n=>r().read(n),serializedSize:n=>r().serializedSize(n),write:(n,i)=>r().write(n,i),serialize:(n,i)=>r().serialize(n,i).toBytes()})}d();h();var G={u8(t){return Q9({name:"u8",readMethod:"read8",writeMethod:"write8",size:1,maxValue:2**8-1,...t})},u16(t){return Q9({name:"u16",readMethod:"read16",writeMethod:"write16",size:2,maxValue:2**16-1,...t})},u32(t){return Q9({name:"u32",readMethod:"read32",writeMethod:"write32",size:4,maxValue:2**32-1,...t})},u64(t){return J9({name:"u64",readMethod:"read64",writeMethod:"write64",size:8,maxValue:2n**64n-1n,...t})},u128(t){return J9({name:"u128",readMethod:"read128",writeMethod:"write128",size:16,maxValue:2n**128n-1n,...t})},u256(t){return J9({name:"u256",readMethod:"read256",writeMethod:"write256",size:32,maxValue:2n**256n-1n,...t})},bool(t){return I_({name:"bool",size:1,read:e=>e.read8()===1,write:(e,r)=>r.write8(e?1:0),...t,validate:e=>{if(t?.validate?.(e),typeof e!="boolean")throw new TypeError(`Expected boolean, found ${typeof e}`)}})},uleb128(t){return hve({name:"uleb128",read:e=>e.readULEB(),serialize:e=>Uint8Array.from(b2(e)),...t})},bytes(t,e){return I_({name:`bytes[${t}]`,size:t,read:r=>r.readBytes(t),write:(r,n)=>{let i=new Uint8Array(r);for(let o=0;o<t;o++)n.write8(i[o]??0)},...e,validate:r=>{if(e?.validate?.(r),!r||typeof r!="object"||!("length"in r))throw new TypeError(`Expected array, found ${typeof r}`);if(r.length!==t)throw new TypeError(`Expected array of length ${t}, found ${r.length}`)}})},string(t){return pve({name:"string",toBytes:e=>new TextEncoder().encode(e),fromBytes:e=>new TextDecoder().decode(e),...t})},fixedArray(t,e,r){return new Qd({name:`${e.name}[${t}]`,read:n=>{let i=new Array(t);for(let o=0;o<t;o++)i[o]=e.read(n);return i},write:(n,i)=>{for(let o of n)e.write(o,i)},...r,validate:n=>{if(r?.validate?.(n),!n||typeof n!="object"||!("length"in n))throw new TypeError(`Expected array, found ${typeof n}`);if(n.length!==t)throw new TypeError(`Expected array of length ${t}, found ${n.length}`)}})},option(t){return G.enum(`Option<${t.name}>`,{None:null,Some:t}).transform({input:e=>e==null?{None:!0}:{Some:e},output:e=>e.$kind==="Some"?e.Some:null})},vector(t,e){return new Qd({name:`vector<${t.name}>`,read:r=>{let n=r.readULEB(),i=new Array(n);for(let o=0;o<n;o++)i[o]=t.read(r);return i},write:(r,n)=>{n.writeULEB(r.length);for(let i of r)t.write(i,n)},...e,validate:r=>{if(e?.validate?.(r),!r||typeof r!="object"||!("length"in r))throw new TypeError(`Expected array, found ${typeof r}`)}})},tuple(t,e){return new Qd({name:`(${t.map(r=>r.name).join(", ")})`,serializedSize:r=>{let n=0;for(let i=0;i<t.length;i++){let o=t[i].serializedSize(r[i]);if(o==null)return null;n+=o}return n},read:r=>{let n=[];for(let i of t)n.push(i.read(r));return n},write:(r,n)=>{for(let i=0;i<t.length;i++)t[i].write(r[i],n)},...e,validate:r=>{if(e?.validate?.(r),!Array.isArray(r))throw new TypeError(`Expected array, found ${typeof r}`);if(r.length!==t.length)throw new TypeError(`Expected array of length ${t.length}, found ${r.length}`)}})},struct(t,e,r){let n=Object.entries(e);return new Qd({name:t,serializedSize:i=>{let o=0;for(let[s,c]of n){let l=c.serializedSize(i[s]);if(l==null)return null;o+=l}return o},read:i=>{let o={};for(let[s,c]of n)o[s]=c.read(i);return o},write:(i,o)=>{for(let[s,c]of n)c.write(i[s],o)},...r,validate:i=>{if(r?.validate?.(i),typeof i!="object"||i==null)throw new TypeError(`Expected object, found ${typeof i}`)}})},enum(t,e,r){let n=Object.entries(e);return new Qd({name:t,read:i=>{let o=i.readULEB(),s=n[o];if(!s)throw new TypeError(`Unknown value ${o} for enum ${t}`);let[c,l]=s;return{[c]:l?.read(i)??!0,$kind:c}},write:(i,o)=>{let[s,c]=Object.entries(i).filter(([l])=>Object.hasOwn(e,l))[0];for(let l=0;l<n.length;l++){let[m,w]=n[l];if(m===s){o.writeULEB(l),w?.write(c,o);return}}},...r,validate:i=>{if(r?.validate?.(i),typeof i!="object"||i==null)throw new TypeError(`Expected object, found ${typeof i}`);let o=Object.keys(i).filter(c=>i[c]!==void 0&&Object.hasOwn(e,c));if(o.length!==1)throw new TypeError(`Expected object with one key, but found ${o.length} for type ${t}}`);let[s]=o;if(!Object.hasOwn(e,s))throw new TypeError(`Invalid enum variant ${s}`)}})},map(t,e){return G.vector(G.tuple([t,e])).transform({name:`Map<${t.name}, ${e.name}>`,input:r=>[...r.entries()],output:r=>{let n=new Map;for(let[i,o]of r)n.set(i,o);return n}})},lazy(t){return mve(t)}};d();h();d();h();d();h();var ry=32;function yve(t){return ist(t)&&ost(t)===ry}function Jd(t,e=!1){let r=t.toLowerCase();return!e&&r.startsWith("0x")&&(r=r.slice(2)),`0x${r.padStart(ry*2,"0")}`}function ist(t){return/^(0x|0X)?[a-fA-F0-9]+$/.test(t)&&t.length%2===0}function ost(t){return/^(0x|0X)/.test(t)?(t.length-2)/2:t.length/2}d();h();var sst=/^vector<(.+)>$/,ast=/^([^:]+)::([^:]+)::([^<]+)(<(.+)>)?/,M_=class t{static parseFromStr(e,r=!1){if(e==="address")return{address:null};if(e==="bool")return{bool:null};if(e==="u8")return{u8:null};if(e==="u16")return{u16:null};if(e==="u32")return{u32:null};if(e==="u64")return{u64:null};if(e==="u128")return{u128:null};if(e==="u256")return{u256:null};if(e==="signer")return{signer:null};let n=e.match(sst);if(n)return{vector:t.parseFromStr(n[1],r)};let i=e.match(ast);if(i)return{struct:{address:r?Jd(i[1]):i[1],module:i[2],name:i[3],typeParams:i[5]===void 0?[]:t.parseStructTypeArgs(i[5],r)}};throw new Error(`Encountered unexpected token when parsing type args for ${e}`)}static parseStructTypeArgs(e,r=!1){return __(e).map(n=>t.parseFromStr(n,r))}static tagToString(e){if("bool"in e)return"bool";if("u8"in e)return"u8";if("u16"in e)return"u16";if("u32"in e)return"u32";if("u64"in e)return"u64";if("u128"in e)return"u128";if("u256"in e)return"u256";if("address"in e)return"address";if("signer"in e)return"signer";if("vector"in e)return`vector<${t.tagToString(e.vector)}>`;if("struct"in e){let r=e.struct,n=r.typeParams.map(t.tagToString).join(", ");return`${r.address}::${r.module}::${r.name}${n?`<${n}>`:""}`}throw new Error("Invalid TypeTag")}};function cst(t){return G.u64({name:"unsafe_u64",...t}).transform({input:e=>e,output:e=>Number(e)})}function ust(t){return G.enum("Option",{None:null,Some:t})}var gi=G.bytes(ry).transform({validate:t=>{let e=typeof t=="string"?t:Ro(t);if(!e||!yve(Jd(e)))throw new Error(`Invalid Sui address ${e}`)},input:t=>typeof t=="string"?Ef(Jd(t)):t,output:t=>Jd(Ro(t))}),mu=G.vector(G.u8()).transform({name:"ObjectDigest",input:t=>Zd(t),output:t=>P0(new Uint8Array(t)),validate:t=>{if(Zd(t).length!==32)throw new Error("ObjectDigest must be 32 bytes")}}),Ic=G.struct("SuiObjectRef",{objectId:gi,version:G.u64(),digest:mu}),nW=G.struct("SharedObjectRef",{objectId:gi,initialSharedVersion:G.u64(),mutable:G.bool()}),iW=G.enum("ObjectArg",{ImmOrOwnedObject:Ic,SharedObject:nW,Receiving:Ic}),oW=G.enum("CallArg",{Pure:G.struct("Pure",{bytes:G.vector(G.u8()).transform({input:t=>typeof t=="string"?wn(t):t,output:t=>lr(new Uint8Array(t))})}),Object:iW}),sW=G.enum("TypeTag",{bool:null,u8:null,u64:null,u128:null,address:null,signer:null,vector:G.lazy(()=>sW),struct:G.lazy(()=>dW),u16:null,u32:null,u256:null}),X9=sW.transform({input:t=>typeof t=="string"?M_.parseFromStr(t,!0):t,output:t=>M_.tagToString(t)}),Pl=G.enum("Argument",{GasCoin:null,Input:G.u16(),Result:G.u16(),NestedResult:G.tuple([G.u16(),G.u16()])}),aW=G.struct("ProgrammableMoveCall",{package:gi,module:G.string(),function:G.string(),typeArguments:G.vector(X9),arguments:G.vector(Pl)}),cW=G.enum("Command",{MoveCall:aW,TransferObjects:G.struct("TransferObjects",{objects:G.vector(Pl),address:Pl}),SplitCoins:G.struct("SplitCoins",{coin:Pl,amounts:G.vector(Pl)}),MergeCoins:G.struct("MergeCoins",{destination:Pl,sources:G.vector(Pl)}),Publish:G.struct("Publish",{modules:G.vector(G.vector(G.u8()).transform({input:t=>typeof t=="string"?wn(t):t,output:t=>lr(new Uint8Array(t))})),dependencies:G.vector(gi)}),MakeMoveVec:G.struct("MakeMoveVec",{type:ust(X9).transform({input:t=>t===null?{None:!0}:{Some:t},output:t=>t.Some??null}),elements:G.vector(Pl)}),Upgrade:G.struct("Upgrade",{modules:G.vector(G.vector(G.u8()).transform({input:t=>typeof t=="string"?wn(t):t,output:t=>lr(new Uint8Array(t))})),dependencies:G.vector(gi),package:gi,ticket:Pl})}),uW=G.struct("ProgrammableTransaction",{inputs:G.vector(oW),commands:G.vector(cW)}),fW=G.enum("TransactionKind",{ProgrammableTransaction:uW,ChangeEpoch:null,Genesis:null,ConsensusCommitPrologue:null}),lW=G.enum("TransactionExpiration",{None:null,Epoch:cst()}),dW=G.struct("StructTag",{address:gi,module:G.string(),name:G.string(),typeParams:G.vector(sW)}),hW=G.struct("GasData",{payment:G.vector(Ic),owner:gi,price:G.u64(),budget:G.u64()}),pW=G.struct("TransactionDataV1",{kind:fW,sender:gi,gasData:hW,expiration:lW}),mW=G.enum("TransactionData",{V1:pW}),yW=G.enum("IntentScope",{TransactionData:null,TransactionEffects:null,CheckpointSummary:null,PersonalMessage:null}),gW=G.enum("IntentVersion",{V0:null}),bW=G.enum("AppId",{Sui:null}),vW=G.struct("Intent",{scope:yW,version:gW,appId:bW});function xW(t){return G.struct(`IntentMessage<${t.name}>`,{intent:vW,value:t})}var wW=G.enum("CompressedSignature",{ED25519:G.fixedArray(64,G.u8()),Secp256k1:G.fixedArray(64,G.u8()),Secp256r1:G.fixedArray(64,G.u8()),ZkLogin:G.vector(G.u8())}),SW=G.enum("PublicKey",{ED25519:G.fixedArray(32,G.u8()),Secp256k1:G.fixedArray(33,G.u8()),Secp256r1:G.fixedArray(33,G.u8()),ZkLogin:G.vector(G.u8())}),AW=G.struct("MultiSigPkMap",{pubKey:SW,weight:G.u8()}),EW=G.struct("MultiSigPublicKey",{pk_map:G.vector(AW),threshold:G.u16()}),gve=G.struct("MultiSig",{sigs:G.vector(wW),bitmap:G.u16(),multisig_pk:EW}),fst=G.vector(G.u8()).transform({input:t=>typeof t=="string"?wn(t):t,output:t=>lr(new Uint8Array(t))}),_W=G.struct("SenderSignedTransaction",{intentMessage:xW(mW),txSignatures:G.vector(fst)}),bve=G.vector(_W,{name:"SenderSignedData"});d();h();var lst=G.enum("PackageUpgradeError",{UnableToFetchPackage:G.struct("UnableToFetchPackage",{packageId:gi}),NotAPackage:G.struct("NotAPackage",{objectId:gi}),IncompatibleUpgrade:null,DigestDoesNotMatch:G.struct("DigestDoesNotMatch",{digest:G.vector(G.u8())}),UnknownUpgradePolicy:G.struct("UnknownUpgradePolicy",{policy:G.u8()}),PackageIDDoesNotMatch:G.struct("PackageIDDoesNotMatch",{packageId:gi,ticketId:gi})}),dst=G.struct("ModuleId",{address:gi,name:G.string()}),vve=G.struct("MoveLocation",{module:dst,function:G.u16(),instruction:G.u16(),functionName:G.option(G.string())}),hst=G.enum("CommandArgumentError",{TypeMismatch:null,InvalidBCSBytes:null,InvalidUsageOfPureArg:null,InvalidArgumentToPrivateEntryFunction:null,IndexOutOfBounds:G.struct("IndexOutOfBounds",{idx:G.u16()}),SecondaryIndexOutOfBounds:G.struct("SecondaryIndexOutOfBounds",{resultIdx:G.u16(),secondaryIdx:G.u16()}),InvalidResultArity:G.struct("InvalidResultArity",{resultIdx:G.u16()}),InvalidGasCoinUsage:null,InvalidValueUsage:null,InvalidObjectByValue:null,InvalidObjectByMutRef:null,SharedObjectOperationNotAllowed:null}),pst=G.enum("TypeArgumentError",{TypeNotFound:null,ConstraintNotSatisfied:null}),mst=G.enum("ExecutionFailureStatus",{InsufficientGas:null,InvalidGasObject:null,InvariantViolation:null,FeatureNotYetSupported:null,MoveObjectTooBig:G.struct("MoveObjectTooBig",{objectSize:G.u64(),maxObjectSize:G.u64()}),MovePackageTooBig:G.struct("MovePackageTooBig",{objectSize:G.u64(),maxObjectSize:G.u64()}),CircularObjectOwnership:G.struct("CircularObjectOwnership",{object:gi}),InsufficientCoinBalance:null,CoinBalanceOverflow:null,PublishErrorNonZeroAddress:null,SuiMoveVerificationError:null,MovePrimitiveRuntimeError:G.option(vve),MoveAbort:G.tuple([vve,G.u64()]),VMVerificationOrDeserializationError:null,VMInvariantViolation:null,FunctionNotFound:null,ArityMismatch:null,TypeArityMismatch:null,NonEntryFunctionInvoked:null,CommandArgumentError:G.struct("CommandArgumentError",{argIdx:G.u16(),kind:hst}),TypeArgumentError:G.struct("TypeArgumentError",{argumentIdx:G.u16(),kind:pst}),UnusedValueWithoutDrop:G.struct("UnusedValueWithoutDrop",{resultIdx:G.u16(),secondaryIdx:G.u16()}),InvalidPublicFunctionReturnType:G.struct("InvalidPublicFunctionReturnType",{idx:G.u16()}),InvalidTransferObject:null,EffectsTooLarge:G.struct("EffectsTooLarge",{currentSize:G.u64(),maxSize:G.u64()}),PublishUpgradeMissingDependency:null,PublishUpgradeDependencyDowngrade:null,PackageUpgradeError:G.struct("PackageUpgradeError",{upgradeError:lst}),WrittenObjectsTooLarge:G.struct("WrittenObjectsTooLarge",{currentSize:G.u64(),maxSize:G.u64()}),CertificateDenied:null,SuiMoveVerificationTimedout:null,SharedObjectOperationNotAllowed:null,InputObjectDeleted:null,ExecutionCancelledDueToSharedObjectCongestion:G.struct("ExecutionCancelledDueToSharedObjectCongestion",{congestedObjects:G.vector(gi)}),AddressDeniedForCoin:G.struct("AddressDeniedForCoin",{address:gi,coinType:G.string()}),CoinTypeGlobalPause:G.struct("CoinTypeGlobalPause",{coinType:G.string()}),ExecutionCancelledDueToRandomnessUnavailable:null}),xve=G.enum("ExecutionStatus",{Success:null,Failed:G.struct("ExecutionFailed",{error:mst,command:G.option(G.u64())})}),wve=G.struct("GasCostSummary",{computationCost:G.u64(),storageCost:G.u64(),storageRebate:G.u64(),nonRefundableStorageFee:G.u64()}),x2=G.enum("Owner",{AddressOwner:gi,ObjectOwner:gi,Shared:G.struct("Shared",{initialSharedVersion:G.u64()}),Immutable:null}),yst=G.struct("TransactionEffectsV1",{status:xve,executedEpoch:G.u64(),gasUsed:wve,modifiedAtVersions:G.vector(G.tuple([gi,G.u64()])),sharedObjects:G.vector(Ic),transactionDigest:mu,created:G.vector(G.tuple([Ic,x2])),mutated:G.vector(G.tuple([Ic,x2])),unwrapped:G.vector(G.tuple([Ic,x2])),deleted:G.vector(Ic),unwrappedThenDeleted:G.vector(Ic),wrapped:G.vector(Ic),gasObject:G.tuple([Ic,x2]),eventsDigest:G.option(mu),dependencies:G.vector(mu)}),TW=G.tuple([G.u64(),mu]),gst=G.enum("ObjectIn",{NotExist:null,Exist:G.tuple([TW,x2])}),bst=G.enum("ObjectOut",{NotExist:null,ObjectWrite:G.tuple([mu,x2]),PackageWrite:TW}),vst=G.enum("IDOperation",{None:null,Created:null,Deleted:null}),xst=G.struct("EffectsObjectChange",{inputState:gst,outputState:bst,idOperation:vst}),wst=G.enum("UnchangedSharedKind",{ReadOnlyRoot:TW,MutateDeleted:G.u64(),ReadDeleted:G.u64(),Cancelled:G.u64(),PerEpochConfig:null}),Sst=G.struct("TransactionEffectsV2",{status:xve,executedEpoch:G.u64(),gasUsed:wve,transactionDigest:mu,gasObjectIndex:G.option(G.u32()),eventsDigest:G.option(mu),dependencies:G.vector(mu),lamportVersion:G.u64(),changedObjects:G.vector(G.tuple([gi,xst])),unchangedSharedObjects:G.vector(G.tuple([gi,wst])),auxDataDigest:G.option(mu)}),Sve=G.enum("TransactionEffects",{V1:yst,V2:Sst});var B0={...G,U8:G.u8(),U16:G.u16(),U32:G.u32(),U64:G.u64(),U128:G.u128(),U256:G.u256(),ULEB128:G.uleb128(),Bool:G.bool(),String:G.string(),Address:gi,AppId:bW,Argument:Pl,CallArg:oW,CompressedSignature:wW,GasData:hW,Intent:vW,IntentMessage:xW,IntentScope:yW,IntentVersion:gW,MultiSig:gve,MultiSigPkMap:AW,MultiSigPublicKey:EW,ObjectArg:iW,ObjectDigest:mu,ProgrammableMoveCall:aW,ProgrammableTransaction:uW,PublicKey:SW,SenderSignedData:bve,SenderSignedTransaction:_W,SharedObjectRef:nW,StructTag:dW,SuiObjectRef:Ic,Command:cW,TransactionData:mW,TransactionDataV1:pW,TransactionExpiration:lW,TransactionKind:fW,TypeTag:X9,TransactionEffects:Sve};d();h();d();h();d();h();d();h();function w2(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function Ast(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function S2(t,...e){if(!Ast(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function Ave(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");w2(t.outputLen),w2(t.blockLen)}function R0(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function eP(t,e){S2(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}d();h();var A2=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),tP=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);var iy=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,_ve=t=>t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255,Bl=iy?t=>t:t=>_ve(t);function v1(t){for(let e=0;e<t.length;e++)t[e]=_ve(t[e])}var Est=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function rP(t){S2(t);let e="";for(let r=0;r<t.length;r++)e+=Est[t[r]];return e}var C0={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Eve(t){if(t>=C0._0&&t<=C0._9)return t-C0._0;if(t>=C0._A&&t<=C0._F)return t-(C0._A-10);if(t>=C0._a&&t<=C0._f)return t-(C0._a-10)}function Tve(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length,r=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let i=0,o=0;i<r;i++,o+=2){let s=Eve(t.charCodeAt(o)),c=Eve(t.charCodeAt(o+1));if(s===void 0||c===void 0){let l=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+o)}n[i]=s*16+c}return n}function _st(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function _f(t){return typeof t=="string"&&(t=_st(t)),S2(t),t}var ny=class{clone(){return this._cloneInto()}},war={}.toString;function Ive(t){let e=n=>t().update(_f(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function Mve(t){let e=(n,i)=>t(i).update(_f(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}var kve=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3]),nP=class extends ny{constructor(e,r,n={},i,o,s){if(super(),this.blockLen=e,this.outputLen=r,this.length=0,this.pos=0,this.finished=!1,this.destroyed=!1,w2(e),w2(r),w2(i),r<0||r>i)throw new Error("outputLen bigger than keyLen");if(n.key!==void 0&&(n.key.length<1||n.key.length>i))throw new Error(`key must be up 1..${i} byte long or undefined`);if(n.salt!==void 0&&n.salt.length!==o)throw new Error(`salt must be ${o} byte long or undefined`);if(n.personalization!==void 0&&n.personalization.length!==s)throw new Error(`personalization must be ${s} byte long or undefined`);this.buffer32=A2(this.buffer=new Uint8Array(e))}update(e){R0(this);let{blockLen:r,buffer:n,buffer32:i}=this;e=_f(e);let o=e.length,s=e.byteOffset,c=e.buffer;for(let l=0;l<o;){this.pos===r&&(iy||v1(i),this.compress(i,0,!1),iy||v1(i),this.pos=0);let m=Math.min(r-this.pos,o-l),w=s+l;if(m===r&&!(w%4)&&l+m<o){let b=new Uint32Array(c,w,Math.floor((o-l)/4));iy||v1(b);for(let E=0;l+r<o;E+=i.length,l+=r)this.length+=r,this.compress(b,E,!1);iy||v1(b);continue}n.set(e.subarray(l,l+m),this.pos),this.pos+=m,this.length+=m,l+=m}return this}digestInto(e){R0(this),eP(e,this);let{pos:r,buffer32:n}=this;this.finished=!0,this.buffer.subarray(r).fill(0),iy||v1(n),this.compress(n,0,!0),iy||v1(n);let i=A2(e);this.get().forEach((o,s)=>i[s]=Bl(o))}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){let{buffer:r,length:n,finished:i,destroyed:o,outputLen:s,pos:c}=this;return e||(e=new this.constructor({dkLen:s})),e.set(...this.get()),e.length=n,e.finished=i,e.destroyed=o,e.outputLen=s,e.buffer.set(r),e.pos=c,e}};d();h();var iP=BigInt(4294967295),IW=BigInt(32);function Pve(t,e=!1){return e?{h:Number(t&iP),l:Number(t>>IW&iP)}:{h:Number(t>>IW&iP)|0,l:Number(t&iP)|0}}function Tst(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:o,l:s}=Pve(t[i],e);[r[i],n[i]]=[o,s]}return[r,n]}var Ist=(t,e)=>BigInt(t>>>0)<<IW|BigInt(e>>>0),Mst=(t,e,r)=>t>>>r,kst=(t,e,r)=>t<<32-r|e>>>r,Pst=(t,e,r)=>t>>>r|e<<32-r,Bst=(t,e,r)=>t<<32-r|e>>>r,Rst=(t,e,r)=>t<<64-r|e>>>r-32,Cst=(t,e,r)=>t>>>r-32|e<<64-r,Ost=(t,e)=>e,Nst=(t,e)=>t,Dst=(t,e,r)=>t<<r|e>>>32-r,Ust=(t,e,r)=>e<<r|t>>>32-r,Lst=(t,e,r)=>e<<r-32|t>>>64-r,Fst=(t,e,r)=>t<<r-32|e>>>64-r;function Vst(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}var qst=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),Kst=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,Hst=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),jst=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,zst=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),Wst=(t,e,r,n,i,o)=>e+r+n+i+o+(t/2**32|0)|0;var Gst={fromBig:Pve,split:Tst,toBig:Ist,shrSH:Mst,shrSL:kst,rotrSH:Pst,rotrSL:Bst,rotrBH:Rst,rotrBL:Cst,rotr32H:Ost,rotr32L:Nst,rotlSH:Dst,rotlSL:Ust,rotlBH:Lst,rotlBL:Fst,add:Vst,add3L:qst,add3H:Kst,add4L:Hst,add4H:jst,add5H:Wst,add5L:zst},Nt=Gst;var Co=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),wt=new Uint32Array(32);function oy(t,e,r,n,i,o){let s=i[o],c=i[o+1],l=wt[2*t],m=wt[2*t+1],w=wt[2*e],b=wt[2*e+1],E=wt[2*r],I=wt[2*r+1],M=wt[2*n],k=wt[2*n+1],R=Nt.add3L(l,w,s);m=Nt.add3H(R,m,b,c),l=R|0,{Dh:k,Dl:M}={Dh:k^m,Dl:M^l},{Dh:k,Dl:M}={Dh:Nt.rotr32H(k,M),Dl:Nt.rotr32L(k,M)},{h:I,l:E}=Nt.add(I,E,k,M),{Bh:b,Bl:w}={Bh:b^I,Bl:w^E},{Bh:b,Bl:w}={Bh:Nt.rotrSH(b,w,24),Bl:Nt.rotrSL(b,w,24)},wt[2*t]=l,wt[2*t+1]=m,wt[2*e]=w,wt[2*e+1]=b,wt[2*r]=E,wt[2*r+1]=I,wt[2*n]=M,wt[2*n+1]=k}function sy(t,e,r,n,i,o){let s=i[o],c=i[o+1],l=wt[2*t],m=wt[2*t+1],w=wt[2*e],b=wt[2*e+1],E=wt[2*r],I=wt[2*r+1],M=wt[2*n],k=wt[2*n+1],R=Nt.add3L(l,w,s);m=Nt.add3H(R,m,b,c),l=R|0,{Dh:k,Dl:M}={Dh:k^m,Dl:M^l},{Dh:k,Dl:M}={Dh:Nt.rotrSH(k,M,16),Dl:Nt.rotrSL(k,M,16)},{h:I,l:E}=Nt.add(I,E,k,M),{Bh:b,Bl:w}={Bh:b^I,Bl:w^E},{Bh:b,Bl:w}={Bh:Nt.rotrBH(b,w,63),Bl:Nt.rotrBL(b,w,63)},wt[2*t]=l,wt[2*t+1]=m,wt[2*e]=w,wt[2*e+1]=b,wt[2*r]=E,wt[2*r+1]=I,wt[2*n]=M,wt[2*n+1]=k}var MW=class extends nP{constructor(e={}){super(128,e.dkLen===void 0?64:e.dkLen,e,64,16,16),this.v0l=Co[0]|0,this.v0h=Co[1]|0,this.v1l=Co[2]|0,this.v1h=Co[3]|0,this.v2l=Co[4]|0,this.v2h=Co[5]|0,this.v3l=Co[6]|0,this.v3h=Co[7]|0,this.v4l=Co[8]|0,this.v4h=Co[9]|0,this.v5l=Co[10]|0,this.v5h=Co[11]|0,this.v6l=Co[12]|0,this.v6h=Co[13]|0,this.v7l=Co[14]|0,this.v7h=Co[15]|0;let r=e.key?e.key.length:0;if(this.v0l^=this.outputLen|r<<8|65536|1<<24,e.salt){let n=A2(_f(e.salt));this.v4l^=Bl(n[0]),this.v4h^=Bl(n[1]),this.v5l^=Bl(n[2]),this.v5h^=Bl(n[3])}if(e.personalization){let n=A2(_f(e.personalization));this.v6l^=Bl(n[0]),this.v6h^=Bl(n[1]),this.v7l^=Bl(n[2]),this.v7h^=Bl(n[3])}if(e.key){let n=new Uint8Array(this.blockLen);n.set(_f(e.key)),this.update(n)}}get(){let{v0l:e,v0h:r,v1l:n,v1h:i,v2l:o,v2h:s,v3l:c,v3h:l,v4l:m,v4h:w,v5l:b,v5h:E,v6l:I,v6h:M,v7l:k,v7h:R}=this;return[e,r,n,i,o,s,c,l,m,w,b,E,I,M,k,R]}set(e,r,n,i,o,s,c,l,m,w,b,E,I,M,k,R){this.v0l=e|0,this.v0h=r|0,this.v1l=n|0,this.v1h=i|0,this.v2l=o|0,this.v2h=s|0,this.v3l=c|0,this.v3h=l|0,this.v4l=m|0,this.v4h=w|0,this.v5l=b|0,this.v5h=E|0,this.v6l=I|0,this.v6h=M|0,this.v7l=k|0,this.v7h=R|0}compress(e,r,n){this.get().forEach((l,m)=>wt[m]=l),wt.set(Co,16);let{h:i,l:o}=Nt.fromBig(BigInt(this.length));wt[24]=Co[8]^o,wt[25]=Co[9]^i,n&&(wt[28]=~wt[28],wt[29]=~wt[29]);let s=0,c=kve;for(let l=0;l<12;l++)oy(0,4,8,12,e,r+2*c[s++]),sy(0,4,8,12,e,r+2*c[s++]),oy(1,5,9,13,e,r+2*c[s++]),sy(1,5,9,13,e,r+2*c[s++]),oy(2,6,10,14,e,r+2*c[s++]),sy(2,6,10,14,e,r+2*c[s++]),oy(3,7,11,15,e,r+2*c[s++]),sy(3,7,11,15,e,r+2*c[s++]),oy(0,5,10,15,e,r+2*c[s++]),sy(0,5,10,15,e,r+2*c[s++]),oy(1,6,11,12,e,r+2*c[s++]),sy(1,6,11,12,e,r+2*c[s++]),oy(2,7,8,13,e,r+2*c[s++]),sy(2,7,8,13,e,r+2*c[s++]),oy(3,4,9,14,e,r+2*c[s++]),sy(3,4,9,14,e,r+2*c[s++]);this.v0l^=wt[0]^wt[16],this.v0h^=wt[1]^wt[17],this.v1l^=wt[2]^wt[18],this.v1h^=wt[3]^wt[19],this.v2l^=wt[4]^wt[20],this.v2h^=wt[5]^wt[21],this.v3l^=wt[6]^wt[22],this.v3h^=wt[7]^wt[23],this.v4l^=wt[8]^wt[24],this.v4h^=wt[9]^wt[25],this.v5l^=wt[10]^wt[26],this.v5h^=wt[11]^wt[27],this.v6l^=wt[12]^wt[28],this.v6h^=wt[13]^wt[29],this.v7l^=wt[14]^wt[30],this.v7h^=wt[15]^wt[31],wt.fill(0)}destroy(){this.destroyed=!0,this.buffer32.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},x1=Mve(t=>new MW(t));d();h();d();h();function oP(t,e){return B0.IntentMessage(B0.fixedArray(e.length,B0.u8())).serialize({intent:{scope:{[t]:!0},version:{V0:!0},appId:{Sui:!0}},value:e}).toBytes()}function kW(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}var E2=class{equals(e){return kW(this.toRawBytes(),e.toRawBytes())}toBase64(){return lr(this.toRawBytes())}toString(){throw new Error("`toString` is not implemented on public keys. Use `toBase64()` or `toRawBytes()` instead.")}toSuiPublicKey(){let e=this.toSuiBytes();return lr(e)}verifyWithIntent(e,r,n){let i=oP(n,e),o=x1(i,{dkLen:32});return this.verify(o,r)}verifyPersonalMessage(e,r){return this.verifyWithIntent(B0.vector(B0.u8()).serialize(e).toBytes(),r,"PersonalMessage")}verifyTransaction(e,r){return this.verifyWithIntent(e,r,"TransactionData")}toSuiBytes(){let e=this.toRawBytes(),r=new Uint8Array(e.length+1);return r.set([this.flag()]),r.set(e,1),r}toSuiAddress(){return Jd(rP(x1(this.toSuiBytes(),{dkLen:32})).slice(0,ry*2))}};d();h();var O0={ED25519:0,Secp256k1:1,Secp256r1:2,MultiSig:3,ZkLogin:5},Bve={ED25519:32,Secp256k1:33,Secp256r1:33},sP={0:"ED25519",1:"Secp256k1",2:"Secp256r1",3:"MultiSig",5:"ZkLogin"};d();h();d();h();d();h();function Rve(t,e){if(!!!t)throw new Error(e)}d();h();var BW={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},$st=new Set(Object.keys(BW));function RW(t){let e=t?.kind;return typeof e=="string"&&$st.has(e)}var PW;(function(t){t.QUERY="query",t.MUTATION="mutation",t.SUBSCRIPTION="subscription"})(PW||(PW={}));d();h();var k_;(function(t){t.NAME="Name",t.DOCUMENT="Document",t.OPERATION_DEFINITION="OperationDefinition",t.VARIABLE_DEFINITION="VariableDefinition",t.SELECTION_SET="SelectionSet",t.FIELD="Field",t.ARGUMENT="Argument",t.FRAGMENT_SPREAD="FragmentSpread",t.INLINE_FRAGMENT="InlineFragment",t.FRAGMENT_DEFINITION="FragmentDefinition",t.VARIABLE="Variable",t.INT="IntValue",t.FLOAT="FloatValue",t.STRING="StringValue",t.BOOLEAN="BooleanValue",t.NULL="NullValue",t.ENUM="EnumValue",t.LIST="ListValue",t.OBJECT="ObjectValue",t.OBJECT_FIELD="ObjectField",t.DIRECTIVE="Directive",t.NAMED_TYPE="NamedType",t.LIST_TYPE="ListType",t.NON_NULL_TYPE="NonNullType",t.SCHEMA_DEFINITION="SchemaDefinition",t.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",t.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",t.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",t.FIELD_DEFINITION="FieldDefinition",t.INPUT_VALUE_DEFINITION="InputValueDefinition",t.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",t.UNION_TYPE_DEFINITION="UnionTypeDefinition",t.ENUM_TYPE_DEFINITION="EnumTypeDefinition",t.ENUM_VALUE_DEFINITION="EnumValueDefinition",t.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",t.DIRECTIVE_DEFINITION="DirectiveDefinition",t.SCHEMA_EXTENSION="SchemaExtension",t.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",t.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",t.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",t.UNION_TYPE_EXTENSION="UnionTypeExtension",t.ENUM_TYPE_EXTENSION="EnumTypeExtension",t.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(k_||(k_={}));d();h();d();h();function CW(t){return t===9||t===32}function Cve(t,e){let r=t.replace(/"""/g,'\\"""'),n=r.split(/\r\n|[\n\r]/g),i=n.length===1,o=n.length>1&&n.slice(1).every(I=>I.length===0||CW(I.charCodeAt(0))),s=r.endsWith('\\"""'),c=t.endsWith('"')&&!s,l=t.endsWith("\\"),m=c||l,w=!(e!=null&&e.minimize)&&(!i||t.length>70||m||o||s),b="",E=i&&CW(t.charCodeAt(0));return(w&&!E||o)&&(b+=`
`),b+=r,(w||m)&&(b+=`
`),'"""'+b+'"""'}d();h();function Ove(t){return aP(t,[])}function aP(t,e){switch(typeof t){case"string":return JSON.stringify(t);case"function":return t.name?`[function ${t.name}]`:"[function]";case"object":return Yst(t,e);default:return String(t)}}function Yst(t,e){if(t===null)return"null";if(e.includes(t))return"[Circular]";let r=[...e,t];if(Zst(t)){let n=t.toJSON();if(n!==t)return typeof n=="string"?n:aP(n,r)}else if(Array.isArray(t))return Jst(t,r);return Qst(t,r)}function Zst(t){return typeof t.toJSON=="function"}function Qst(t,e){let r=Object.entries(t);return r.length===0?"{}":e.length>2?"["+Xst(t)+"]":"{ "+r.map(([i,o])=>i+": "+aP(o,e)).join(", ")+" }"}function Jst(t,e){if(t.length===0)return"[]";if(e.length>2)return"[Array]";let r=Math.min(10,t.length),n=t.length-r,i=[];for(let o=0;o<r;++o)i.push(aP(t[o],e));return n===1?i.push("... 1 more item"):n>1&&i.push(`... ${n} more items`),"["+i.join(", ")+"]"}function Xst(t){let e=Object.prototype.toString.call(t).replace(/^\[object /,"").replace(/]$/,"");if(e==="Object"&&typeof t.constructor=="function"){let r=t.constructor.name;if(typeof r=="string"&&r!=="")return r}return e}d();h();d();h();function Nve(t){return`"${t.replace(eat,tat)}"`}var eat=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function tat(t){return rat[t.charCodeAt(0)]}var rat=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"];d();h();var Dve=Object.freeze({});function OW(t,e,r=BW){let n=new Map;for(let B of Object.values(k_))n.set(B,Uve(e,B));let i,o=Array.isArray(t),s=[t],c=-1,l=[],m=t,w,b,E=[],I=[];do{c++;let B=c===s.length,U=B&&l.length!==0;if(B){if(w=I.length===0?void 0:E[E.length-1],m=b,b=I.pop(),U)if(o){m=m.slice();let F=0;for(let[q,K]of l){let re=q-F;K===null?(m.splice(re,1),F++):m[re]=K}}else{m=Object.defineProperties({},Object.getOwnPropertyDescriptors(m));for(let[F,q]of l)m[F]=q}c=i.index,s=i.keys,l=i.edits,o=i.inArray,i=i.prev}else if(b){if(w=o?c:s[c],m=b[w],m==null)continue;E.push(w)}let P;if(!Array.isArray(m)){var M,k;RW(m)||Rve(!1,`Invalid AST Node: ${Ove(m)}.`);let F=B?(M=n.get(m.kind))===null||M===void 0?void 0:M.leave:(k=n.get(m.kind))===null||k===void 0?void 0:k.enter;if(P=F?.call(e,m,w,b,E,I),P===Dve)break;if(P===!1){if(!B){E.pop();continue}}else if(P!==void 0&&(l.push([w,P]),!B))if(RW(P))m=P;else{E.pop();continue}}if(P===void 0&&U&&l.push([w,m]),B)E.pop();else{var R;i={inArray:o,index:c,keys:s,edits:l,prev:i},o=Array.isArray(m),s=o?m:(R=r[m.kind])!==null&&R!==void 0?R:[],c=-1,l=[],b&&I.push(b),b=m}}while(i!==void 0);return l.length!==0?l[l.length-1][1]:t}function Uve(t,e){let r=t[e];return typeof r=="object"?r:typeof r=="function"?{enter:r,leave:void 0}:{enter:t.enter,leave:t.leave}}function _2(t){return OW(t,iat)}var nat=80,iat={Name:{leave:t=>t.value},Variable:{leave:t=>"$"+t.name},Document:{leave:t=>It(t.definitions,`

`)},OperationDefinition:{leave(t){let e=Kr("(",It(t.variableDefinitions,", "),")"),r=It([t.operation,It([t.name,e]),It(t.directives," ")]," ");return(r==="query"?"":r+" ")+t.selectionSet}},VariableDefinition:{leave:({variable:t,type:e,defaultValue:r,directives:n})=>t+": "+e+Kr(" = ",r)+Kr(" ",It(n," "))},SelectionSet:{leave:({selections:t})=>Rl(t)},Field:{leave({alias:t,name:e,arguments:r,directives:n,selectionSet:i}){let o=Kr("",t,": ")+e,s=o+Kr("(",It(r,", "),")");return s.length>nat&&(s=o+Kr(`(
`,cP(It(r,`
`)),`
)`)),It([s,It(n," "),i]," ")}},Argument:{leave:({name:t,value:e})=>t+": "+e},FragmentSpread:{leave:({name:t,directives:e})=>"..."+t+Kr(" ",It(e," "))},InlineFragment:{leave:({typeCondition:t,directives:e,selectionSet:r})=>It(["...",Kr("on ",t),It(e," "),r]," ")},FragmentDefinition:{leave:({name:t,typeCondition:e,variableDefinitions:r,directives:n,selectionSet:i})=>`fragment ${t}${Kr("(",It(r,", "),")")} on ${e} ${Kr("",It(n," ")," ")}`+i},IntValue:{leave:({value:t})=>t},FloatValue:{leave:({value:t})=>t},StringValue:{leave:({value:t,block:e})=>e?Cve(t):Nve(t)},BooleanValue:{leave:({value:t})=>t?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:t})=>t},ListValue:{leave:({values:t})=>"["+It(t,", ")+"]"},ObjectValue:{leave:({fields:t})=>"{"+It(t,", ")+"}"},ObjectField:{leave:({name:t,value:e})=>t+": "+e},Directive:{leave:({name:t,arguments:e})=>"@"+t+Kr("(",It(e,", "),")")},NamedType:{leave:({name:t})=>t},ListType:{leave:({type:t})=>"["+t+"]"},NonNullType:{leave:({type:t})=>t+"!"},SchemaDefinition:{leave:({description:t,directives:e,operationTypes:r})=>Kr("",t,`
`)+It(["schema",It(e," "),Rl(r)]," ")},OperationTypeDefinition:{leave:({operation:t,type:e})=>t+": "+e},ScalarTypeDefinition:{leave:({description:t,name:e,directives:r})=>Kr("",t,`
`)+It(["scalar",e,It(r," ")]," ")},ObjectTypeDefinition:{leave:({description:t,name:e,interfaces:r,directives:n,fields:i})=>Kr("",t,`
`)+It(["type",e,Kr("implements ",It(r," & ")),It(n," "),Rl(i)]," ")},FieldDefinition:{leave:({description:t,name:e,arguments:r,type:n,directives:i})=>Kr("",t,`
`)+e+(Lve(r)?Kr(`(
`,cP(It(r,`
`)),`
)`):Kr("(",It(r,", "),")"))+": "+n+Kr(" ",It(i," "))},InputValueDefinition:{leave:({description:t,name:e,type:r,defaultValue:n,directives:i})=>Kr("",t,`
`)+It([e+": "+r,Kr("= ",n),It(i," ")]," ")},InterfaceTypeDefinition:{leave:({description:t,name:e,interfaces:r,directives:n,fields:i})=>Kr("",t,`
`)+It(["interface",e,Kr("implements ",It(r," & ")),It(n," "),Rl(i)]," ")},UnionTypeDefinition:{leave:({description:t,name:e,directives:r,types:n})=>Kr("",t,`
`)+It(["union",e,It(r," "),Kr("= ",It(n," | "))]," ")},EnumTypeDefinition:{leave:({description:t,name:e,directives:r,values:n})=>Kr("",t,`
`)+It(["enum",e,It(r," "),Rl(n)]," ")},EnumValueDefinition:{leave:({description:t,name:e,directives:r})=>Kr("",t,`
`)+It([e,It(r," ")]," ")},InputObjectTypeDefinition:{leave:({description:t,name:e,directives:r,fields:n})=>Kr("",t,`
`)+It(["input",e,It(r," "),Rl(n)]," ")},DirectiveDefinition:{leave:({description:t,name:e,arguments:r,repeatable:n,locations:i})=>Kr("",t,`
`)+"directive @"+e+(Lve(r)?Kr(`(
`,cP(It(r,`
`)),`
)`):Kr("(",It(r,", "),")"))+(n?" repeatable":"")+" on "+It(i," | ")},SchemaExtension:{leave:({directives:t,operationTypes:e})=>It(["extend schema",It(t," "),Rl(e)]," ")},ScalarTypeExtension:{leave:({name:t,directives:e})=>It(["extend scalar",t,It(e," ")]," ")},ObjectTypeExtension:{leave:({name:t,interfaces:e,directives:r,fields:n})=>It(["extend type",t,Kr("implements ",It(e," & ")),It(r," "),Rl(n)]," ")},InterfaceTypeExtension:{leave:({name:t,interfaces:e,directives:r,fields:n})=>It(["extend interface",t,Kr("implements ",It(e," & ")),It(r," "),Rl(n)]," ")},UnionTypeExtension:{leave:({name:t,directives:e,types:r})=>It(["extend union",t,It(e," "),Kr("= ",It(r," | "))]," ")},EnumTypeExtension:{leave:({name:t,directives:e,values:r})=>It(["extend enum",t,It(e," "),Rl(r)]," ")},InputObjectTypeExtension:{leave:({name:t,directives:e,fields:r})=>It(["extend input",t,It(e," "),Rl(r)]," ")}};function It(t,e=""){var r;return(r=t?.filter(n=>n).join(e))!==null&&r!==void 0?r:""}function Rl(t){return Kr(`{
`,cP(It(t,`
`)),`
}`)}function Kr(t,e,r=""){return e!=null&&e!==""?t+e+r:""}function cP(t){return Kr("  ",t.replace(/\n/g,`
  `))}function Lve(t){var e;return(e=t?.some(r=>r.includes(`
`)))!==null&&e!==void 0?e:!1}d();h();var Fve=t=>{throw TypeError(t)},Vve=(t,e,r)=>e.has(t)||Fve("Cannot "+r),uP=(t,e,r)=>(Vve(t,e,"read from private field"),r?r.call(t):e.get(t)),fP=(t,e,r)=>e.has(t)?Fve("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),lP=(t,e,r,n)=>(Vve(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),dP,hP,pP,mP,NW=class extends Error{},yP=class{constructor({url:e,fetch:r=fetch,headers:n={},queries:i={}}){fP(this,dP),fP(this,hP),fP(this,pP),fP(this,mP),lP(this,dP,e),lP(this,hP,i),lP(this,pP,n),lP(this,mP,(...o)=>r(...o))}async query(e){let r=await uP(this,mP).call(this,uP(this,dP),{method:"POST",headers:{"Content-Type":"application/json",...uP(this,pP)},body:JSON.stringify({query:typeof e.query=="string"?String(e.query):_2(e.query),variables:e.variables,extensions:e.extensions,operationName:e.operationName})});if(!r.ok)throw new NW(`GraphQL request failed: ${r.statusText} (${r.status})`);return await r.json()}async execute(e,r){return this.query({...r,query:uP(this,hP)[e]})}};dP=new WeakMap;hP=new WeakMap;pP=new WeakMap;mP=new WeakMap;d();h();d();h();d();h();var P_={NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType"};var LW=class extends Error{constructor(e,r,n,i,o,s,c){super(e),this.name="GraphQLError",this.message=e,o&&(this.path=o),r&&(this.nodes=Array.isArray(r)?r:[r]),n&&(this.source=n),i&&(this.positions=i),s&&(this.originalError=s);var l=c;if(!l&&s){var m=s.extensions;m&&typeof m=="object"&&(l=m)}this.extensions=l||{}}toJSON(){return{...this,message:this.message}}toString(){return this.message}get[Symbol.toStringTag](){return"GraphQLError"}},Sn,Ft;function uo(t){return new LW(`Syntax Error: Unexpected token at ${Ft} in ${t}`)}function yu(t){if(t.lastIndex=Ft,t.test(Sn))return Sn.slice(Ft,Ft=t.lastIndex)}var gP=/ +(?=[^\s])/y;function oat(t){for(var e=t.split(`
`),r="",n=0,i=0,o=e.length-1,s=0;s<e.length;s++)gP.lastIndex=0,gP.test(e[s])&&(s&&(!n||gP.lastIndex<n)&&(n=gP.lastIndex),i=i||s,o=s);for(var c=i;c<=o;c++)c!==i&&(r+=`
`),r+=e[c].slice(n).replace(/\\"""/g,'"""');return r}function sr(){for(var t=0|Sn.charCodeAt(Ft++);t===9||t===10||t===13||t===32||t===35||t===44||t===65279;t=0|Sn.charCodeAt(Ft++))if(t===35)for(;(t=Sn.charCodeAt(Ft++))!==10&&t!==13;);Ft--}var Wa=/[_A-Za-z]\w*/y,DW=new RegExp("(?:(null|true|false)|\\$("+Wa.source+')|(-?\\d+)((?:\\.\\d+)?[eE][+-]?\\d+|\\.\\d+)?|("""(?:"""|(?:[\\s\\S]*?[^\\\\])"""))|("(?:"|[^\\r\\n]*?[^\\\\]"))|('+Wa.source+"))","y"),ay=function(t){return t[t.Const=1]="Const",t[t.Var=2]="Var",t[t.Int=3]="Int",t[t.Float=4]="Float",t[t.BlockString=5]="BlockString",t[t.String=6]="String",t[t.Enum=7]="Enum",t}(ay||{}),sat=/\\/;function bP(t){var e,r;if(DW.lastIndex=Ft,Sn.charCodeAt(Ft)===91){Ft++,sr();for(var n=[];Sn.charCodeAt(Ft)!==93;)n.push(bP(t));return Ft++,sr(),{kind:"ListValue",values:n}}else if(Sn.charCodeAt(Ft)===123){Ft++,sr();for(var i=[];Sn.charCodeAt(Ft)!==125;){if((e=yu(Wa))==null||(sr(),Sn.charCodeAt(Ft++)!==58))throw uo("ObjectField");sr(),i.push({kind:"ObjectField",name:{kind:"Name",value:e},value:bP(t)})}return Ft++,sr(),{kind:"ObjectValue",fields:i}}else if((r=DW.exec(Sn))!=null){if(Ft=DW.lastIndex,sr(),(e=r[ay.Const])!=null)return e==="null"?{kind:"NullValue"}:{kind:"BooleanValue",value:e==="true"};if((e=r[ay.Var])!=null){if(t)throw uo("Variable");return{kind:"Variable",name:{kind:"Name",value:e}}}else if((e=r[ay.Int])!=null){var o;return(o=r[ay.Float])!=null?{kind:"FloatValue",value:e+o}:{kind:"IntValue",value:e}}else{if((e=r[ay.BlockString])!=null)return{kind:"StringValue",value:oat(e.slice(3,-3)),block:!0};if((e=r[ay.String])!=null)return{kind:"StringValue",value:sat.test(e)?JSON.parse(e):e.slice(1,-1),block:!1};if((e=r[ay.Enum])!=null)return{kind:"EnumValue",value:e}}}throw uo("Value")}function qve(t){if(Sn.charCodeAt(Ft)===40){var e=[];Ft++,sr();var r;do{if((r=yu(Wa))==null||(sr(),Sn.charCodeAt(Ft++)!==58))throw uo("Argument");sr(),e.push({kind:"Argument",name:{kind:"Name",value:r},value:bP(t)})}while(Sn.charCodeAt(Ft)!==41);return Ft++,sr(),e}}function T2(t){if(Sn.charCodeAt(Ft)===64){var e=[],r;do{if(Ft++,(r=yu(Wa))==null)throw uo("Directive");sr(),e.push({kind:"Directive",name:{kind:"Name",value:r},arguments:qve(t)})}while(Sn.charCodeAt(Ft)===64);return e}}function aat(){for(var t,e=0;Sn.charCodeAt(Ft)===91;)e++,Ft++,sr();if((t=yu(Wa))==null)throw uo("NamedType");sr();var r={kind:"NamedType",name:{kind:"Name",value:t}};do if(Sn.charCodeAt(Ft)===33&&(Ft++,sr(),r={kind:"NonNullType",type:r}),e){if(Sn.charCodeAt(Ft++)!==93)throw uo("NamedType");sr(),r={kind:"ListType",type:r}}while(e--);return r}var UW=new RegExp("(?:(\\.{3})|("+Wa.source+"))","y"),FW=function(t){return t[t.Spread=1]="Spread",t[t.Name=2]="Name",t}(FW||{});function vP(){var t=[],e,r;do if(UW.lastIndex=Ft,(r=UW.exec(Sn))!=null){if(Ft=UW.lastIndex,r[FW.Spread]!=null){sr();var n=yu(Wa);if(n!=null&&n!=="on")sr(),t.push({kind:"FragmentSpread",name:{kind:"Name",value:n},directives:T2(!1)});else{if(sr(),n==="on"){if((n=yu(Wa))==null)throw uo("NamedType");sr()}var i=T2(!1);if(Sn.charCodeAt(Ft++)!==123)throw uo("InlineFragment");sr(),t.push({kind:"InlineFragment",typeCondition:n?{kind:"NamedType",name:{kind:"Name",value:n}}:void 0,directives:i,selectionSet:vP()})}}else if((e=r[FW.Name])!=null){var o=void 0;if(sr(),Sn.charCodeAt(Ft)===58){if(Ft++,sr(),o=e,(e=yu(Wa))==null)throw uo("Field");sr()}var s=qve(!1);sr();var c=T2(!1),l=void 0;Sn.charCodeAt(Ft)===123&&(Ft++,sr(),l=vP()),t.push({kind:"Field",alias:o?{kind:"Name",value:o}:void 0,name:{kind:"Name",value:e},arguments:s,directives:c,selectionSet:l})}}else throw uo("SelectionSet");while(Sn.charCodeAt(Ft)!==125);return Ft++,sr(),{kind:"SelectionSet",selections:t}}function cat(){var t,e;if((t=yu(Wa))==null||(sr(),yu(Wa)!=="on")||(sr(),(e=yu(Wa))==null))throw uo("FragmentDefinition");sr();var r=T2(!1);if(Sn.charCodeAt(Ft++)!==123)throw uo("FragmentDefinition");return sr(),{kind:"FragmentDefinition",name:{kind:"Name",value:t},typeCondition:{kind:"NamedType",name:{kind:"Name",value:e}},directives:r,selectionSet:vP()}}var uat=/(?:query|mutation|subscription|fragment)/y;function fat(t){var e,r,n;if(t&&(sr(),e=yu(Wa),r=function(){if(sr(),Sn.charCodeAt(Ft)===40){var o=[];Ft++,sr();var s;do{if(Sn.charCodeAt(Ft++)!==36||(s=yu(Wa))==null)throw uo("Variable");if(sr(),Sn.charCodeAt(Ft++)!==58)throw uo("VariableDefinition");sr();var c=aat(),l=void 0;Sn.charCodeAt(Ft)===61&&(Ft++,sr(),l=bP(!0)),sr(),o.push({kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:s}},type:c,defaultValue:l,directives:T2(!0)})}while(Sn.charCodeAt(Ft)!==41);return Ft++,sr(),o}}(),n=T2(!1)),Sn.charCodeAt(Ft)===123)return Ft++,sr(),{kind:"OperationDefinition",operation:t||"query",name:e?{kind:"Name",value:e}:void 0,variableDefinitions:r,directives:n,selectionSet:vP()}}function Kve(t,e){return Ft=0,function(n,i){var o,s;sr();var c=[];do if((o=yu(uat))==="fragment")sr(),c.push(cat());else if((s=fat(o))!=null)c.push(s);else throw uo("Document");while(Ft<n.length);if(!i){var l;return{kind:"Document",definitions:c,set loc(m){l=m},get loc(){return l||(l={start:0,end:n.length,startToken:void 0,endToken:void 0,source:{body:n,name:"graphql.web",locationOffset:{line:1,column:1}}}),l}}}return{kind:"Document",definitions:c}}(Sn=typeof t.body=="string"?t.body:t,e&&e.noLocation)}var Hve=0,VW=new Set;function B_(){function t(e,r){var n=Kve(e).definitions,i=new Set;for(var o of r||[])for(var s of o.definitions)s.kind===P_.FRAGMENT_DEFINITION&&!i.has(s)&&(n.push(s),i.add(s));var c;(c=n[0].kind===P_.FRAGMENT_DEFINITION)&&n[0].directives&&(n[0].directives=n[0].directives.filter(m=>m.name.value!=="_unmask"));var l;return{kind:P_.DOCUMENT,definitions:n,get loc(){if(!l&&c){var m=e+function(b){try{Hve++;var E="";for(var I of b)if(!VW.has(I)){VW.add(I);var{loc:M}=I;M&&(E+=M.source.body)}return E}finally{--Hve==0&&VW.clear()}}(r||[]);return{start:0,end:m.length,source:{body:m,name:"GraphQLTada",locationOffset:{line:1,column:1}}}}return l},set loc(m){l=m}}}return t.scalar=function(r,n){return n},t.persisted=function(r,n){return{kind:P_.DOCUMENT,definitions:n?n.definitions:[],documentId:r}},t}var Aur=B_();var jve=B_();d();h();function lat(t){if(t.length!==1)throw new Error("Invalid base64Url character: "+t);let r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".indexOf(t);if(r===-1)throw new Error("Invalid base64Url character: "+t);let n=r.toString(2).padStart(6,"0");return Array.from(n).map(Number)}function dat(t){let e=[];for(let r=0;r<t.length;r++){let n=t.charAt(r),i=lat(n);e=e.concat(i)}return e}function hat(t,e){if(t.length<2)throw new Error(`Input (s = ${t}) is not tightly packed because s.length < 2`);let r=dat(t),n=e%4;if(n!==0)if(n===1)r=r.slice(2);else if(n===2)r=r.slice(4);else throw new Error(`Input (s = ${t}) is not tightly packed because i%4 = 3 (i = ${e}))`);let i=(e+t.length-1)%4;if(i!==3)if(i===2)r=r.slice(0,r.length-2);else if(i===1)r=r.slice(0,r.length-4);else throw new Error(`Input (s = ${t}) is not tightly packed because (i + s.length - 1)%4 = 0 (i = ${e}))`);if(r.length%8!==0)throw new Error("We should never reach here...");let o=new Uint8Array(Math.floor(r.length/8)),s=0;for(let c=0;c<r.length;c+=8){let l=r.slice(c,c+8),m=parseInt(l.join(""),2);o[s++]=m}return new TextDecoder().decode(o)}function pat(t){if(!(t.slice(-1)==="}"||t.slice(-1)===","))throw new Error("Invalid claim");let e=JSON.parse("{"+t.slice(0,-1)+"}");if(Object.keys(e).length!==1)throw new Error("Invalid claim");let r=Object.keys(e)[0];return[r,e[r]]}function zve(t,e){let r=hat(t.value,t.indexMod4),[n,i]=pat(r);if(n!==e)throw new Error(`Invalid field name: found ${n} expected ${e}`);return i}d();h();d();h();var Wve=G.struct("ZkLoginSignature",{inputs:G.struct("ZkLoginSignatureInputs",{proofPoints:G.struct("ZkLoginSignatureInputsProofPoints",{a:G.vector(G.string()),b:G.vector(G.vector(G.string())),c:G.vector(G.string())}),issBase64Details:G.struct("ZkLoginSignatureInputsClaim",{value:G.string(),indexMod4:G.u8()}),headerBase64:G.string(),addressSeed:G.string()}),maxEpoch:G.u64(),userSignature:G.vector(G.u8())});function Gve(t){return Wve.parse(typeof t=="string"?wn(t):t)}d();h();function mat(t){for(let e=0;e<t.length;e++)if(t[e]!==0)return e;return-1}function xP(t,e){let r=t.toString(16);return Tve(r.padStart(e*2,"0").slice(-e*2))}function qW(t,e){let r=xP(t,e),n=mat(r);return n===-1?new Uint8Array([0]):r.slice(n)}var Zve=t=>{throw TypeError(t)},Qve=(t,e,r)=>e.has(t)||Zve("Cannot "+r),N0=(t,e,r)=>(Qve(t,e,"read from private field"),r?r.call(t):e.get(t)),KW=(t,e,r)=>e.has(t)?Zve("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),I2=(t,e,r,n)=>(Qve(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Cl,R_,C_,yat=class HW extends E2{constructor(e,{client:r}={}){super(),KW(this,Cl),KW(this,R_),KW(this,C_),I2(this,R_,r),typeof e=="string"?I2(this,Cl,wn(e)):e instanceof Uint8Array?I2(this,Cl,e):I2(this,Cl,Uint8Array.from(e)),I2(this,C_,N0(this,Cl).length!==N0(this,Cl)[0]+1+32),N0(this,C_)&&I2(this,Cl,$ve(N0(this,Cl)))}equals(e){return super.equals(e)}toSuiAddress(){if(N0(this,C_)){let e=$ve(N0(this,Cl),!0),r=new Uint8Array(e.length+1);return r[0]=this.flag(),r.set(e,1),Jd(rP(x1(r,{dkLen:32})).slice(0,ry*2))}return super.toSuiAddress()}toRawBytes(){return N0(this,Cl)}flag(){return O0.ZkLogin}async verify(e,r){throw Error("does not support")}verifyPersonalMessage(e,r){let n=wP(r),i=new HW(n.publicKey).toSuiAddress();return Yve({address:i,bytes:lr(e),signature:n.serializedSignature,intentScope:"PERSONAL_MESSAGE",client:N0(this,R_)})}verifyTransaction(e,r){let n=wP(r),i=new HW(n.publicKey).toSuiAddress();return Yve({address:i,bytes:lr(e),signature:n.serializedSignature,intentScope:"TRANSACTION_DATA",client:N0(this,R_)})}};Cl=new WeakMap;R_=new WeakMap;C_=new WeakMap;var gat=yat;function bat(t,e,r){let n=r?.legacyAddress?qW(t,32):xP(t,32),i=new TextEncoder().encode(e),o=new Uint8Array(1+i.length+n.length);return o.set([i.length],0),o.set(i,1),o.set(n,1+i.length),new gat(o,r)}var vat=jve(`
	query Zklogin(
		$bytes: Base64!
		$signature: Base64!
		$intentScope: ZkLoginIntentScope!
		$author: SuiAddress!
	) {
		verifyZkloginSignature(
			bytes: $bytes
			signature: $signature
			intentScope: $intentScope
			author: $author
		) {
			success
			errors
		}
	}
`);function $ve(t,e=!1){let r=t[0]+1,n=BigInt(`0x${Ro(t.slice(r))}`),i=e?qW(n,32):xP(n,32),o=new Uint8Array(r+i.length);return o.set(t.slice(0,r),0),o.set(i,r),o}async function Yve({address:t,bytes:e,signature:r,intentScope:n,client:i=new yP({url:"https://sui-mainnet.mystenlabs.com/graphql"})}){let o=await i.query({query:vat,variables:{bytes:e,signature:r,intentScope:n,author:t}});return o.data?.verifyZkloginSignature.success===!0&&o.data?.verifyZkloginSignature.errors.length===0}function wP(t){let e=typeof t=="string"?wn(t):t;if(e[0]!==O0.ZkLogin)throw new Error("Invalid signature scheme");let r=e.slice(1),{inputs:n,maxEpoch:i,userSignature:o}=Gve(r),{issBase64Details:s,addressSeed:c}=n,l=zve(s,"iss"),m=bat(BigInt(c),l);return{serializedSignature:lr(e),signatureScheme:"ZkLogin",zkLogin:{inputs:n,maxEpoch:i,userSignature:o,iss:l,addressSeed:BigInt(c)},signature:e,publicKey:m.toRawBytes()}}function Jve({signature:t,signatureScheme:e,publicKey:r}){if(!r)throw new Error("`publicKey` is required");let n=r.toRawBytes(),i=new Uint8Array(1+t.length+n.length);return i.set([O0[e]]),i.set(t,1),i.set(n,1+t.length),lr(i)}function Xve(t){let e=wn(t),r=sP[e[0]];switch(r){case"MultiSig":let n=B0.MultiSig.parse(e.slice(1));return{serializedSignature:t,signatureScheme:r,multisig:n,bytes:e};case"ZkLogin":return wP(t);case"ED25519":case"Secp256k1":case"Secp256r1":let i=Bve[r],o=e.slice(1,e.length-i),s=e.slice(1+o.length);return{serializedSignature:t,signatureScheme:r,signature:o,publicKey:s,bytes:e};default:throw new Error("Unsupported signature scheme")}}d();h();d();h();d();h();function M2(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function xat(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function O_(t,...e){if(!xat(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function SP(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");M2(t.outputLen),M2(t.blockLen)}function k2(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function exe(t,e){O_(t);let r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}d();h();d();h();d();h();var B2=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function wat(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function cy(t){return typeof t=="string"&&(t=wat(t)),O_(t),t}var P2=class{clone(){return this._cloneInto()}};function txe(t,e){if(e!==void 0&&{}.toString.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(t,e)}function rxe(t){let e=n=>t().update(cy(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}var AP=class extends P2{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,SP(e);let n=cy(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?e.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(e){return k2(this),this.iHash.update(e),this}digestInto(e){k2(this),O_(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:c}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=c,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},jW=(t,e,r)=>new AP(t,e).update(r).digest();jW.create=(t,e)=>new AP(t,e);function Sat(t,e,r,n){SP(t);let i=txe({dkLen:32,asyncTick:10},n),{c:o,dkLen:s,asyncTick:c}=i;if(M2(o),M2(s),M2(c),o<1)throw new Error("PBKDF2: iterations (c) should be >= 1");let l=cy(e),m=cy(r),w=new Uint8Array(s),b=jW.create(t,l),E=b._cloneInto().update(m);return{c:o,dkLen:s,asyncTick:c,DK:w,PRF:b,PRFSalt:E}}function Aat(t,e,r,n,i){return t.destroy(),e.destroy(),n&&n.destroy(),i.fill(0),r}function nxe(t,e,r,n){let{c:i,dkLen:o,DK:s,PRF:c,PRFSalt:l}=Sat(t,e,r,n),m,w=new Uint8Array(4),b=B2(w),E=new Uint8Array(c.outputLen);for(let I=1,M=0;M<o;I++,M+=c.outputLen){let k=s.subarray(M,M+c.outputLen);b.setInt32(0,I,!1),(m=l._cloneInto(m)).update(w).digestInto(E),k.set(E.subarray(0,k.length));for(let R=1;R<i;R++){c._cloneInto(m).update(E).digestInto(E);for(let B=0;B<k.length;B++)k[B]^=E[B]}}return Aat(c,l,s,m,E)}d();h();function Eat(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),c=Number(r&o),l=n?4:0,m=n?0:4;t.setUint32(e+l,s,n),t.setUint32(e+m,c,n)}var EP=class extends P2{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=B2(this.buffer)}update(e){k2(this);let{view:r,buffer:n,blockLen:i}=this;e=cy(e);let o=e.length;for(let s=0;s<o;){let c=Math.min(i-this.pos,o-s);if(c===i){let l=B2(e);for(;i<=o-s;s+=i)this.process(l,s);continue}n.set(e.subarray(s,s+c),this.pos),this.pos+=c,s+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){k2(this),exe(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let b=s;b<i;b++)r[b]=0;Eat(n,i-8,BigInt(this.length*8),o),this.process(n,0);let c=B2(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let m=l/4,w=this.get();if(m>w.length)throw new Error("_sha2: outputLen bigger than state");for(let b=0;b<m;b++)c.setUint32(4*b,w[b],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:c}=this;return e.length=i,e.pos=c,e.finished=o,e.destroyed=s,i%r&&e.buffer.set(n),e}};d();h();d();h();var _P=BigInt(4294967295),zW=BigInt(32);function ixe(t,e=!1){return e?{h:Number(t&_P),l:Number(t>>zW&_P)}:{h:Number(t>>zW&_P)|0,l:Number(t&_P)|0}}function _at(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:o,l:s}=ixe(t[i],e);[r[i],n[i]]=[o,s]}return[r,n]}var Tat=(t,e)=>BigInt(t>>>0)<<zW|BigInt(e>>>0),Iat=(t,e,r)=>t>>>r,Mat=(t,e,r)=>t<<32-r|e>>>r,kat=(t,e,r)=>t>>>r|e<<32-r,Pat=(t,e,r)=>t<<32-r|e>>>r,Bat=(t,e,r)=>t<<64-r|e>>>r-32,Rat=(t,e,r)=>t>>>r-32|e<<64-r,Cat=(t,e)=>e,Oat=(t,e)=>t,Nat=(t,e,r)=>t<<r|e>>>32-r,Dat=(t,e,r)=>e<<r|t>>>32-r,Uat=(t,e,r)=>e<<r-32|t>>>64-r,Lat=(t,e,r)=>t<<r-32|e>>>64-r;function Fat(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}var Vat=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),qat=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,Kat=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),Hat=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,jat=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),zat=(t,e,r,n,i,o)=>e+r+n+i+o+(t/2**32|0)|0;var Wat={fromBig:ixe,split:_at,toBig:Tat,shrSH:Iat,shrSL:Mat,rotrSH:kat,rotrSL:Pat,rotrBH:Bat,rotrBL:Rat,rotr32H:Cat,rotr32L:Oat,rotlSH:Nat,rotlSL:Dat,rotlBH:Uat,rotlBL:Lat,add:Fat,add3L:Vat,add3H:qat,add4L:Kat,add4H:Hat,add5H:zat,add5L:jat},dr=Wat;var[Gat,$at]=dr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),uy=new Uint32Array(80),fy=new Uint32Array(80),WW=class extends EP{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:o,Cl:s,Dh:c,Dl:l,Eh:m,El:w,Fh:b,Fl:E,Gh:I,Gl:M,Hh:k,Hl:R}=this;return[e,r,n,i,o,s,c,l,m,w,b,E,I,M,k,R]}set(e,r,n,i,o,s,c,l,m,w,b,E,I,M,k,R){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=c|0,this.Dl=l|0,this.Eh=m|0,this.El=w|0,this.Fh=b|0,this.Fl=E|0,this.Gh=I|0,this.Gl=M|0,this.Hh=k|0,this.Hl=R|0}process(e,r){for(let P=0;P<16;P++,r+=4)uy[P]=e.getUint32(r),fy[P]=e.getUint32(r+=4);for(let P=16;P<80;P++){let F=uy[P-15]|0,q=fy[P-15]|0,K=dr.rotrSH(F,q,1)^dr.rotrSH(F,q,8)^dr.shrSH(F,q,7),re=dr.rotrSL(F,q,1)^dr.rotrSL(F,q,8)^dr.shrSL(F,q,7),Q=uy[P-2]|0,ie=fy[P-2]|0,S=dr.rotrSH(Q,ie,19)^dr.rotrBH(Q,ie,61)^dr.shrSH(Q,ie,6),a=dr.rotrSL(Q,ie,19)^dr.rotrBL(Q,ie,61)^dr.shrSL(Q,ie,6),f=dr.add4L(re,a,fy[P-7],fy[P-16]),p=dr.add4H(f,K,S,uy[P-7],uy[P-16]);uy[P]=p|0,fy[P]=f|0}let{Ah:n,Al:i,Bh:o,Bl:s,Ch:c,Cl:l,Dh:m,Dl:w,Eh:b,El:E,Fh:I,Fl:M,Gh:k,Gl:R,Hh:B,Hl:U}=this;for(let P=0;P<80;P++){let F=dr.rotrSH(b,E,14)^dr.rotrSH(b,E,18)^dr.rotrBH(b,E,41),q=dr.rotrSL(b,E,14)^dr.rotrSL(b,E,18)^dr.rotrBL(b,E,41),K=b&I^~b&k,re=E&M^~E&R,Q=dr.add5L(U,q,re,$at[P],fy[P]),ie=dr.add5H(Q,B,F,K,Gat[P],uy[P]),S=Q|0,a=dr.rotrSH(n,i,28)^dr.rotrBH(n,i,34)^dr.rotrBH(n,i,39),f=dr.rotrSL(n,i,28)^dr.rotrBL(n,i,34)^dr.rotrBL(n,i,39),p=n&o^n&c^o&c,y=i&s^i&l^s&l;B=k|0,U=R|0,k=I|0,R=M|0,I=b|0,M=E|0,{h:b,l:E}=dr.add(m|0,w|0,ie|0,S|0),m=c|0,w=l|0,c=o|0,l=s|0,o=n|0,s=i|0;let g=dr.add3L(S,f,y);n=dr.add3H(g,ie,a,p),i=g|0}({h:n,l:i}=dr.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:o,l:s}=dr.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:c,l}=dr.add(this.Ch|0,this.Cl|0,c|0,l|0),{h:m,l:w}=dr.add(this.Dh|0,this.Dl|0,m|0,w|0),{h:b,l:E}=dr.add(this.Eh|0,this.El|0,b|0,E|0),{h:I,l:M}=dr.add(this.Fh|0,this.Fl|0,I|0,M|0),{h:k,l:R}=dr.add(this.Gh|0,this.Gl|0,k|0,R|0),{h:B,l:U}=dr.add(this.Hh|0,this.Hl|0,B|0,U|0),this.set(n,i,o,s,c,l,m,w,b,E,I,M,k,R,B,U)}roundClean(){uy.fill(0),fy.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};var oxe=rxe(()=>new WW);function sxe(t){if(typeof t!="string")throw new TypeError("invalid mnemonic type: "+typeof t);return t.normalize("NFKD")}function Yat(t){let e=sxe(t),r=e.split(" ");if(![12,15,18,21,24].includes(r.length))throw new Error("Invalid mnemonic");return{nfkd:e,words:r}}var Zat=t=>sxe("mnemonic"+t);function TP(t,e=""){return nxe(oxe,Yat(t).nfkd,Zat(e),{c:2048,dkLen:64})}function GW(t){return!!new RegExp("^m\\/44'\\/784'\\/[0-9]+'\\/[0-9]+'\\/[0-9]+'+$").test(t)}function Qat(t){return TP(t,"")}function axe(t){return Ro(Qat(t))}d();h();var N_=qe(w1(),1);var O2=32;var YW="suiprivkey",MP=class{async signWithIntent(e,r){let n=oP(r,e),i=x1(n,{dkLen:32});return{signature:Jve({signature:await this.sign(i),signatureScheme:this.getKeyScheme(),publicKey:this.getPublicKey()}),bytes:lr(e)}}async signTransaction(e){return this.signWithIntent(e,"TransactionData")}async signPersonalMessage(e){let{signature:r}=await this.signWithIntent(G.vector(G.u8()).serialize(e).toBytes(),"PersonalMessage");return{bytes:lr(e),signature:r}}toSuiAddress(){return this.getPublicKey().toSuiAddress()}},D_=class extends MP{};function S1(t){let{prefix:e,words:r}=N_.bech32.decode(t);if(e!==YW)throw new Error("invalid private key prefix");let n=new Uint8Array(N_.bech32.fromWords(r)),i=n.slice(1);return{schema:sP[n[0]],secretKey:i}}function ZW(t,e){if(t.length!==O2)throw new Error("Invalid bytes length");let r=O0[e],n=new Uint8Array(t.length+1);return n.set([r]),n.set(t,1),N_.bech32.encode(YW,N_.bech32.toWords(n))}d();h();d();h();var A1=qe(ds(),1);d();h();d();h();var PP=class extends ny{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,Ave(e);let n=_f(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?e.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(e){return R0(this),this.iHash.update(e),this}digestInto(e){R0(this),S2(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:c}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=c,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},BP=(t,e,r)=>new PP(t,e).update(r).digest();BP.create=(t,e)=>new PP(t,e);d();h();d();h();function tct(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),c=Number(r&o),l=n?4:0,m=n?0:4;t.setUint32(e+l,s,n),t.setUint32(e+m,c,n)}var RP=class extends ny{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=tP(this.buffer)}update(e){R0(this);let{view:r,buffer:n,blockLen:i}=this;e=_f(e);let o=e.length;for(let s=0;s<o;){let c=Math.min(i-this.pos,o-s);if(c===i){let l=tP(e);for(;i<=o-s;s+=i)this.process(l,s);continue}n.set(e.subarray(s,s+c),this.pos),this.pos+=c,s+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){R0(this),eP(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let b=s;b<i;b++)r[b]=0;tct(n,i-8,BigInt(this.length*8),o),this.process(n,0);let c=tP(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let m=l/4,w=this.get();if(m>w.length)throw new Error("_sha2: outputLen bigger than state");for(let b=0;b<m;b++)c.setUint32(4*b,w[b],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:c}=this;return e.length=i,e.pos=c,e.finished=o,e.destroyed=s,i%r&&e.buffer.set(n),e}};var[rct,nct]=Nt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),ly=new Uint32Array(80),dy=new Uint32Array(80),QW=class extends RP{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:o,Cl:s,Dh:c,Dl:l,Eh:m,El:w,Fh:b,Fl:E,Gh:I,Gl:M,Hh:k,Hl:R}=this;return[e,r,n,i,o,s,c,l,m,w,b,E,I,M,k,R]}set(e,r,n,i,o,s,c,l,m,w,b,E,I,M,k,R){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=c|0,this.Dl=l|0,this.Eh=m|0,this.El=w|0,this.Fh=b|0,this.Fl=E|0,this.Gh=I|0,this.Gl=M|0,this.Hh=k|0,this.Hl=R|0}process(e,r){for(let P=0;P<16;P++,r+=4)ly[P]=e.getUint32(r),dy[P]=e.getUint32(r+=4);for(let P=16;P<80;P++){let F=ly[P-15]|0,q=dy[P-15]|0,K=Nt.rotrSH(F,q,1)^Nt.rotrSH(F,q,8)^Nt.shrSH(F,q,7),re=Nt.rotrSL(F,q,1)^Nt.rotrSL(F,q,8)^Nt.shrSL(F,q,7),Q=ly[P-2]|0,ie=dy[P-2]|0,S=Nt.rotrSH(Q,ie,19)^Nt.rotrBH(Q,ie,61)^Nt.shrSH(Q,ie,6),a=Nt.rotrSL(Q,ie,19)^Nt.rotrBL(Q,ie,61)^Nt.shrSL(Q,ie,6),f=Nt.add4L(re,a,dy[P-7],dy[P-16]),p=Nt.add4H(f,K,S,ly[P-7],ly[P-16]);ly[P]=p|0,dy[P]=f|0}let{Ah:n,Al:i,Bh:o,Bl:s,Ch:c,Cl:l,Dh:m,Dl:w,Eh:b,El:E,Fh:I,Fl:M,Gh:k,Gl:R,Hh:B,Hl:U}=this;for(let P=0;P<80;P++){let F=Nt.rotrSH(b,E,14)^Nt.rotrSH(b,E,18)^Nt.rotrBH(b,E,41),q=Nt.rotrSL(b,E,14)^Nt.rotrSL(b,E,18)^Nt.rotrBL(b,E,41),K=b&I^~b&k,re=E&M^~E&R,Q=Nt.add5L(U,q,re,nct[P],dy[P]),ie=Nt.add5H(Q,B,F,K,rct[P],ly[P]),S=Q|0,a=Nt.rotrSH(n,i,28)^Nt.rotrBH(n,i,34)^Nt.rotrBH(n,i,39),f=Nt.rotrSL(n,i,28)^Nt.rotrBL(n,i,34)^Nt.rotrBL(n,i,39),p=n&o^n&c^o&c,y=i&s^i&l^s&l;B=k|0,U=R|0,k=I|0,R=M|0,I=b|0,M=E|0,{h:b,l:E}=Nt.add(m|0,w|0,ie|0,S|0),m=c|0,w=l|0,c=o|0,l=s|0,o=n|0,s=i|0;let g=Nt.add3L(S,f,y);n=Nt.add3H(g,ie,a,p),i=g|0}({h:n,l:i}=Nt.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:o,l:s}=Nt.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:c,l}=Nt.add(this.Ch|0,this.Cl|0,c|0,l|0),{h:m,l:w}=Nt.add(this.Dh|0,this.Dl|0,m|0,w|0),{h:b,l:E}=Nt.add(this.Eh|0,this.El|0,b|0,E|0),{h:I,l:M}=Nt.add(this.Fh|0,this.Fl|0,I|0,M|0),{h:k,l:R}=Nt.add(this.Gh|0,this.Gl|0,k|0,R|0),{h:B,l:U}=Nt.add(this.Hh|0,this.Hl|0,B|0,U|0),this.set(n,i,o,s,c,l,m,w,b,E,I,M,k,R,B,U)}roundClean(){ly.fill(0),dy.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};var JW=Ive(()=>new QW);var ict=qe(ds(),1),oct="ed25519 seed",sct=2147483648,act=new RegExp("^m(\\/[0-9]+')+$"),lxe=t=>t.replace("'",""),cct=t=>{let r=BP.create(JW,oct).update(Ef(t)).digest(),n=r.slice(0,32),i=r.slice(32);return{key:n,chainCode:i}},uct=({key:t,chainCode:e},r)=>{let n=new ArrayBuffer(4);new DataView(n).setUint32(0,r);let o=new Uint8Array(1+t.length+n.byteLength);o.set(new Uint8Array(1).fill(0)),o.set(t,1),o.set(new Uint8Array(n,0,n.byteLength),t.length+1);let s=BP.create(JW,e).update(o).digest(),c=s.slice(0,32),l=s.slice(32);return{key:c,chainCode:l}};var fct=t=>act.test(t)?!t.split("/").slice(1).map(lxe).some(isNaN):!1,XW=(t,e,r=sct)=>{if(!fct(t))throw new Error("Invalid derivation path");let{key:n,chainCode:i}=cct(e);return t.split("/").slice(1).map(lxe).map(s=>parseInt(s,10)).reduce((s,c)=>uct(s,c+r),{key:n,chainCode:i})};d();h();var dxe=qe(ds(),1);var eG=32,hy=class extends E2{constructor(e){if(super(),typeof e=="string"?this.data=wn(e):e instanceof Uint8Array?this.data=e:this.data=Uint8Array.from(e),this.data.length!==eG)throw new Error(`Invalid public key input. Expected ${eG} bytes, got ${this.data.length}`)}equals(e){return super.equals(e)}toRawBytes(){return this.data}flag(){return O0.ED25519}async verify(e,r){let n;if(typeof r=="string"){let i=Xve(r);if(i.signatureScheme!=="ED25519")throw new Error("Invalid signature scheme");if(!kW(this.toRawBytes(),i.publicKey))throw new Error("Signature does not match public key");n=i.signature}else n=r;return dxe.default.sign.detached.verify(e,n,this.toRawBytes())}};hy.SIZE=eG;var tG="m/44'/784'/0'/0'/0'",E1=class t extends D_{constructor(e){super(),e?this.keypair=e:this.keypair=A1.default.sign.keyPair()}getKeyScheme(){return"ED25519"}static generate(){return new t(A1.default.sign.keyPair())}static fromSecretKey(e,r){if(typeof e=="string"){let o=S1(e);if(o.schema!=="ED25519")throw new Error(`Expected a ED25519 keypair, got ${o.schema}`);return this.fromSecretKey(o.secretKey,r)}let n=e.length;if(n!==O2)throw new Error(`Wrong secretKey size. Expected ${O2} bytes, got ${n}.`);let i=A1.default.sign.keyPair.fromSeed(e);if(!r||!r.skipValidation){let s=new TextEncoder().encode("sui validation"),c=A1.default.sign.detached(s,i.secretKey);if(!A1.default.sign.detached.verify(s,c,i.publicKey))throw new Error("provided secretKey is invalid")}return new t(i)}getPublicKey(){return new hy(this.keypair.publicKey)}getSecretKey(){return ZW(this.keypair.secretKey.slice(0,O2),this.getKeyScheme())}async sign(e){return A1.default.sign.detached(e,this.keypair.secretKey)}static deriveKeypair(e,r){if(r==null&&(r=tG),!GW(r))throw new Error("Invalid derivation path");let{key:n}=XW(r,axe(e));return t.fromSecretKey(n)}static deriveKeypairFromSeed(e,r){if(r==null&&(r=tG),!GW(r))throw new Error("Invalid derivation path");let{key:n}=XW(r,e);return t.fromSecretKey(n)}};var CP=class{addressTypes=["sui"];generateKeypairFromPrivateKey(e){let r=e.fold(s=>new Uint8Array(s)),n=E1.fromSecretKey(r),i=n.getPublicKey().toRawBytes(),o=S1(n.getSecretKey());if(o.schema!=="ED25519")throw new Error(`got unexpected schema ${o.schema} for Sui`);return{publicKey:i,privateKey:o.secretKey}}generateKeypairFromSeed(e,r,n){let i=e.fold(o=>new ma(o));try{let o=i.derivePathType(n,r);return{publicKey:o.publicKey,privateKey:o.secretKey}}finally{i.cleanup()}}};var U_=class{cryptoChainPlugins=new Map;constructor(){this.registerChainPlugin(new v9),this.registerChainPlugin(new q9),this.registerChainPlugin(new z9),this.registerChainPlugin(new CP)}registerChainPlugin(e){for(let r of e.addressTypes)this.cryptoChainPlugins.set(r,e)}generateKeypairFromPrivateKey(e,r){let n=this.cryptoChainPlugins.get(r);if(!n)throw new Error(`No plugin found for address type ${r}, please register the plugin first.`);return n.generateKeypairFromPrivateKey(e)}generateKeypairFromSeed(e,r,n){let i=ya.getAddressType(n),o=this.cryptoChainPlugins.get(i);if(!o)throw new Error(`No plugin found for address type ${i}, please register the plugin first.`);return o.generateKeypairFromSeed(e,r,n)}};d();h();function rG(t){return ya.getAll().includes(t)}d();h();var Uxe=qe(ta()),Lxe=qe(D2()),qP=qe(ds()),Fxe=qe(FP());var pG=t=>{let{privateKey:e,addressType:r}=t;switch(r){case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":try{return{key:Kct(e,t.networkIDValue),encoding:"hex"}}catch{throw new Error("Could not find encoding for Bitcoin private key")}case"eip155":try{return{key:Hct(e),encoding:"hex"}}catch{throw new Error("Could not find encoding for EVM private key")}case"solana":try{return zct(e)}catch{throw new Error("Could not find encoding for Solana private key")}case"sui":try{return{key:jct(e),encoding:"base64"}}catch{throw new Error("Could not find encoding for Sui private key")}default:return Ct(r)}},Kct=(t,e)=>{try{let{privateKey:r}=Fxe.decodeRaw(Lxe.default.decode(t),e);return r}catch{throw new Error("Provided Bitcoin private key is invalid!")}},Hct=t=>{let e=Buffer.from(t.replace("0x",""),"hex");try{return new p2(new Uint8Array(e)),e}catch{throw new Error("Provided Ethereum private key is invalid!")}},VP=t=>{let e=qP.default.sign.keyPair.fromSecretKey(t),r=Buffer.from("phantom-secret-key-validation"),n=qP.default.sign.detached(r,t);if(!qP.default.sign.detached.verify(r,n,e.publicKey))throw new Error("Provided Solana private key is invalid!")},jct=t=>{try{let e=S1(t);if(e.schema!=="ED25519")throw new Error("Invalid schema");return e.secretKey}catch{throw new Error("Provided Sui private key is invalid!")}},zct=t=>{try{let e=JSON.parse(t);return VP(Uint8Array.from(e)),{key:e,encoding:"uint8array"}}catch{}try{let e=Uxe.default.decode(t);return VP(e),{key:e,encoding:"base58"}}catch{}try{let e=Buffer.from(t,"hex");return VP(e),{key:e,encoding:"hex"}}catch{}try{let e=Buffer.from(t,"base64");return VP(e),{key:e,encoding:"base64"}}catch{}throw new Error("Provided Solana private key is invalid!")};d();h();var Vxe=qe(ta()),qxe=qe(D2()),Kxe=qe(FP());var Wct=t=>{let{privateKey:e,addressType:r}=t;switch(r){case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":return qxe.default.encode(Kxe.encodeRaw(t.networkIDValue,Buffer.from(e),!0));case"eip155":return"0x"+Buffer.from(e).toString("hex");case"solana":return Vxe.default.encode(e);case"sui":return E1.fromSecretKey(e).getSecretKey();default:return Ct(r)}};d();h();var F_=t=>{try{return Ii.from(pG(t).key)}catch(e){return console.error(e),Ii.from(Buffer.from(""))}};d();h();var Cpt=qe(ZP());d();h();var[uwe,fwe,lwe]=[[],[],[]],Vut=BigInt(0),j_=BigInt(1),qut=BigInt(2),Kut=BigInt(7),Hut=BigInt(256),jut=BigInt(113);for(let t=0,e=j_,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],uwe.push(2*(5*n+r)),fwe.push((t+1)*(t+2)/2%64);let i=Vut;for(let o=0;o<7;o++)e=(e<<j_^(e>>Kut)*jut)%Hut,e&qut&&(i^=j_<<(j_<<BigInt(o))-j_);lwe.push(i)}var[zut,Wut]=Yt.split(lwe,!0),awe=(t,e,r)=>r>32?Yt.rotlBH(t,e,r):Yt.rotlSH(t,e,r),cwe=(t,e,r)=>r>32?Yt.rotlBL(t,e,r):Yt.rotlSL(t,e,r);function Gut(t,e=24){let r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let s=0;s<10;s++)r[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){let c=(s+8)%10,l=(s+2)%10,m=r[l],w=r[l+1],b=awe(m,w,1)^r[c],E=cwe(m,w,1)^r[c+1];for(let I=0;I<50;I+=10)t[s+I]^=b,t[s+I+1]^=E}let i=t[2],o=t[3];for(let s=0;s<24;s++){let c=fwe[s],l=awe(i,o,c),m=cwe(i,o,c),w=uwe[s];i=t[w],o=t[w+1],t[w]=l,t[w+1]=m}for(let s=0;s<50;s+=10){for(let c=0;c<10;c++)r[c]=t[s+c];for(let c=0;c<10;c++)t[s+c]^=~r[(c+2)%10]&r[(c+4)%10]}t[0]^=zut[n],t[1]^=Wut[n]}r.fill(0)}var QP=class t extends m2{constructor(e,r,n,i=!1,o=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Ml.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=ive(this.state)}keccak(){Gut(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Ml.exists(this);let{blockLen:r,state:n}=this;e=y2(e);let i=e.length;for(let o=0;o<i;){let s=Math.min(r-this.pos,i-o);for(let c=0;c<s;c++)n[this.pos++]^=e[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Ml.exists(this,!1),Ml.bytes(e),this.finish();let r=this.state,{blockLen:n}=this;for(let i=0,o=e.length;i<o;){this.posOut>=n&&this.keccak();let s=Math.min(n-this.posOut,o-i);e.set(r.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Ml.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Ml.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:r,suffix:n,outputLen:i,rounds:o,enableXOF:s}=this;return e||(e=new t(r,n,i,s,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=n,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}},xy=(t,e,r)=>b1(()=>new QP(e,t,r)),t0r=xy(6,144,224/8),r0r=xy(6,136,256/8),n0r=xy(6,104,384/8),i0r=xy(6,72,512/8),o0r=xy(1,144,224/8),kG=xy(1,136,256/8),s0r=xy(1,104,384/8),a0r=xy(1,72,512/8),dwe=(t,e,r)=>ove((n={})=>new QP(e,t,n.dkLen===void 0?r:n.dkLen,!0)),c0r=dwe(31,168,128/8),u0r=dwe(31,136,256/8);var Dl=qe(d4()),NAe=qe(ta());function ms(t){let{publicKey:e,addressType:r}=t;switch(r){case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":return Opt(e,r,t.networkID);case"eip155":return Npt(e);case"solana":return NAe.default.encode(e);case"sui":return new hy(e).toSuiAddress();default:return Ct(r)}}var Opt=(t,e,r)=>{let n=r==="bip122:000000000933ea01ad0ee984209779ba"?Dl.networks.testnet:Dl.networks.bitcoin,i;switch(e){case"bip122_p2tr":Dl.initEccLib(Cpt),i=Dl.payments.p2tr({internalPubkey:Buffer.from(t.slice(1,33)),network:n},{validate:!1})?.address;break;case"bip122_p2wpkh":i=Dl.payments.p2wpkh({pubkey:Buffer.from(t),network:n},{validate:!1})?.address;break;case"bip122_p2sh":{let o=Buffer.from(t),s=Dl.payments.p2wpkh({pubkey:o,network:n},{validate:!1});i=Dl.payments.p2sh({pubkey:o,network:n,redeem:s},{validate:!1})?.address;break}case"bip122_p2pkh":{i=Dl.payments.p2pkh({pubkey:Buffer.from(t),network:n},{validate:!1})?.address;break}default:Ct(e)}if(!i)throw new Error("Could not derive Bitcoin address from public key");return i},Npt=t=>{let e=t.slice(1),n=kG(e).slice(12);return Dpt(`0x${Buffer.from(n).toString("hex")}`)},Dpt=t=>{if(!yb.safeParse(t).success)throw new Error("toChecksumAddress: Input address is not a valid hex string.");let e=t.toLowerCase().replace("0x",""),r=Buffer.from(kG(Buffer.from(e,"utf-8"))).toString("hex"),n="0x";for(let i=0;i<e.length;i++)parseInt(r[i],16)>=8?n+=e[i].toUpperCase():n+=e[i];return n};d();h();function Dy(t){return Wm.safeParse(t).success}d();h();function Z$(t){switch(t){case"bip44Root":case"bip44Change":case"bip44":case"deprecated":return"solana";case"bip44RootEthereum":case"bip44Ethereum":case"bip44EthereumSecondary":case"bip44EthereumTertiary":return"eip155";case"bitcoinLegacy":return"bip122_p2pkh";case"bitcoinNativeSegwit":return"bip122_p2wpkh";case"bitcoinNestedSegwit":return"bip122_p2sh";case"bitcoinTaproot":return"bip122_p2tr";case"bip44Sui":return"sui"}}d();h();d();h();d();h();var Lo=(m=>(m.Solana="solana",m.Monad="monad",m.Ethereum="ethereum",m.Base="base",m.Arbitrum="arbitrum",m.Polygon="polygon",m.Bitcoin="bitcoin",m.Sui="sui",m.Hypercore="hypercore",m))(Lo||{}),rc=(m=>(m.Ethereum="60",m.Monad="143",m.Polygon="966",m.Base="8453",m.Arbitrum="9001",m.Solana="501",m.Bitcoin="0",m.Sui="784",m.Hypercore="925",m))(rc||{}),Q$=class extends Error{constructor(r,n){super(`${n} is not yet supported for ${r}`);this.chain=r;this.feature=n;this.name="UnsupportedChainFeatureError"}},nS=class extends Q${constructor(e){super("sui",e)}};var oR=(r=>(r.Mainnet="eip155:42161",r.Sepolia="eip155:421614",r))(oR||{}),DAe=J.union([J.literal("eip155:42161"),J.literal("eip155:421614")]),J$={id:"arbitrum",addressTypes:["eip155"],iconUrl:"https://static.phantom.app/assets/arbitrum.png",name:"Arbitrum",networks:{"eip155:42161":{id:"eip155:42161",name:"Arbitrum",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/arbitrum/network/mainnet",value:42161},"eip155:421614":{id:"eip155:421614",name:"Arbitrum Sepolia",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/arbitrum/network/sepolia",value:421614}},mainnetID:"eip155:42161",tokenDecimals:18,tokenSymbol:"ETH",slip44:"9001",parentChain:"ethereum"};d();h();var sR=(r=>(r.Mainnet="eip155:8453",r.Sepolia="eip155:84532",r))(sR||{}),UAe=J.union([J.literal("eip155:8453"),J.literal("eip155:84532")]),X$={id:"base",addressTypes:["eip155"],iconUrl:"https://static.phantom.app/assets/base.png",name:"Base",networks:{"eip155:8453":{id:"eip155:8453",name:"Base",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/base/network/mainnet",value:8453},"eip155:84532":{id:"eip155:84532",name:"Base Sepolia",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/base/network/sepolia",value:84532}},mainnetID:"eip155:8453",tokenDecimals:18,tokenSymbol:"ETH",slip44:"8453",parentChain:"ethereum"};d();h();var Upt=qe(ZP());var cR=qe(d4());d();h();var h4=(r=>(r.Mainnet="sui:mainnet",r.Testnet="sui:testnet",r))(h4||{}),iS=J.union([J.literal("sui:mainnet"),J.literal("sui:testnet")]),eY={id:"sui",addressTypes:["sui"],iconUrl:"https://static.phantom.app/assets/sui.png",name:"Sui",networks:{"sui:mainnet":{id:"sui:mainnet",name:"Sui",rpcProxyUrl:"https://node-proxy.phantom.dev/v1/chain/sui/network/mainnet",value:"mainnet"},"sui:testnet":{id:"sui:testnet",name:"Sui Testnet",shortName:"Testnet",rpcProxyUrl:"https://node-proxy.phantom.dev/v1/chain/sui/network/testnet",value:"testnet"}},mainnetID:"sui:mainnet",tokenDecimals:9,tokenSymbol:"SUI",slip44:"784"},aR=J.object({networkID:iS,addressType:J.nativeEnum(Tt),address:qp,publicKey:J.instanceof(Uint8Array).optional()});var Eo=(r=>(r.Mainnet="bip122:000000000019d6689c085ae165831e93",r.Testnet="bip122:000000000933ea01ad0ee984209779ba",r))(Eo||{}),Uy=J.union([J.literal("bip122:000000000019d6689c085ae165831e93"),J.literal("bip122:000000000933ea01ad0ee984209779ba")]),LAe=J.union([J.literal("sui:mainnet"),J.literal("sui:testnet")]),Ly=J.string().refine(t=>{try{return cR.initEccLib(Upt),cR.address.toOutputScript(t),!0}catch{return!1}},{message:"Invalid Bitcoin address."}),p4=J.object({networkID:Uy,addressType:J.nativeEnum(Tt),address:Ly,publicKey:J.instanceof(Uint8Array).optional()}),tY={id:"bitcoin",addressTypes:["bip122_p2tr","bip122_p2wpkh"],iconUrl:"https://static.phantom.app/assets/bitcoin.png",name:"Bitcoin",networks:{"bip122:000000000019d6689c085ae165831e93":{id:"bip122:000000000019d6689c085ae165831e93",name:"Bitcoin",value:128},"bip122:000000000933ea01ad0ee984209779ba":{id:"bip122:000000000933ea01ad0ee984209779ba",name:"Bitcoin Testnet",shortName:"Testnet",value:239}},mainnetID:"bip122:000000000019d6689c085ae165831e93",tokenDecimals:8,tokenSymbol:"BTC",slip44:"0"};d();h();d();h();var uR=(r=>(r.Mainnet="hypercore:mainnet",r.Testnet="hypercore:testnet",r))(uR||{}),Fy=J.union([J.literal("hypercore:mainnet"),J.literal("hypercore:testnet")]),rY={id:"hypercore",addressTypes:["eip155"],iconUrl:"https://static.phantom.app/assets/hypercore.png",name:"Hypercore",networks:{"hypercore:mainnet":{id:"hypercore:mainnet",name:"Hypercore",rpcProxyUrl:"https://node-proxy.phantom.dev/v1/chain/hypercore/network/mainnet",value:"mainnet"},"hypercore:testnet":{id:"hypercore:testnet",name:"Hypercore Testnet",shortName:"Testnet",rpcProxyUrl:"https://node-proxy.phantom.dev/v1/chain/hypercore/network/testnet",value:"testnet"}},mainnetID:"hypercore:mainnet",tokenDecimals:9,tokenSymbol:"ETH",slip44:"925"},FAe=J.object({networkID:Fy,addressType:J.nativeEnum(Tt),address:iI});d();h();var m4=(n=>(n.Mainnet="eip155:143",n.Testnet="eip155:10143",n.Devnet="eip155:41454",n))(m4||{}),nY=J.union([J.literal("eip155:143"),J.literal("eip155:10143"),J.literal("eip155:41454")]),iY={id:"monad",addressTypes:["eip155"],iconUrl:"https://static.phantom.app/assets/monad.png",name:"Monad",networks:{"eip155:143":{id:"eip155:143",name:"Monad",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/monad/network/mainnet",value:143,hidden:!0},"eip155:10143":{id:"eip155:10143",name:"Monad Testnet",shortName:"Testnet",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/monad/network/testnet",value:10143},"eip155:41454":{id:"eip155:41454",name:"Monad Devnet",shortName:"Devnet",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/monad/network/devnet1",value:41454,hidden:!0}},mainnetID:"eip155:10143",tokenDecimals:18,tokenSymbol:"MON",slip44:"143"};d();h();var fR=(r=>(r.Mainnet="eip155:137",r.Amoy="eip155:80002",r))(fR||{}),oY=J.union([J.literal("eip155:137"),J.literal("eip155:80002")]),sY={id:"polygon",addressTypes:["eip155"],iconUrl:"https://static.phantom.app/assets/polygon.png",name:"Polygon",networks:{"eip155:137":{id:"eip155:137",name:"Polygon",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/polygon/network/mainnet",value:137},"eip155:80002":{id:"eip155:80002",name:"Polygon Amoy",shortName:"Amoy",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/polygon/network/amoy",value:80002}},mainnetID:"eip155:137",tokenDecimals:18,tokenSymbol:"POL",slip44:"966",parentChain:"ethereum"};var lR=(r=>(r.Mainnet="eip155:1",r.Sepolia="eip155:11155111",r))(lR||{}),VAe=J.union([J.literal("eip155:1"),J.literal("eip155:11155111")]),Vy=J.union([VAe,oY,UAe,nY,DAe,Fy]),y4=J.object({networkID:Vy,addressType:J.nativeEnum(Tt),address:wd}),aY={id:"ethereum",addressTypes:["eip155"],iconUrl:"https://static.phantom.app/assets/ethereum.png",name:"Ethereum",networks:{"eip155:1":{id:"eip155:1",name:"Ethereum",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/ethereum/network/mainnet",value:1},"eip155:11155111":{id:"eip155:11155111",name:"Ethereum Sepolia",shortName:"Sepolia",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/ethereum/network/sepolia",value:11155111}},mainnetID:"eip155:1",tokenDecimals:18,tokenSymbol:"ETH",slip44:"60"};d();h();var g4=(i=>(i.Mainnet="solana:101",i.Testnet="solana:102",i.Devnet="solana:103",i.Localnet="solana:localnet",i))(g4||{}),qy=J.union([J.literal("solana:101"),J.literal("solana:102"),J.literal("solana:103"),J.literal("solana:localnet")]),b4=J.object({networkID:qy,addressType:J.nativeEnum(Tt),address:Vp}),cY={id:"solana",addressTypes:["solana"],iconUrl:"https://static.phantom.app/assets/solana.png",name:"Solana",networks:{"solana:101":{id:"solana:101",name:"Solana",rpcProxyUrl:"https://solana-mainnet.phantom.app/YBPpkkN4g91xDiAnTE9r0RcMkjg0sKUIWvAfoFVJ?advancedTxSubmission=true",value:"mainnet"},"solana:102":{id:"solana:102",name:"Solana Testnet",shortName:"Testnet",value:"testnet"},"solana:103":{id:"solana:103",name:"Solana Devnet",shortName:"Devnet",value:"devnet"},"solana:localnet":{id:"solana:localnet",name:"Solana Localnet",shortName:"Localnet",value:"localnet"}},localnetID:"solana:localnet",mainnetID:"solana:101",tokenDecimals:9,tokenSymbol:"SOL",slip44:"501"};d();h();function dR(t){return Object.values(Lo).includes(t)}var Fs={bitcoin:tY,ethereum:aY,polygon:sY,monad:iY,solana:cY,base:X$,sui:eY,arbitrum:J$,hypercore:rY},hR={solana:1,ethereum:2,monad:3,base:4,sui:5,polygon:6,bitcoin:7,arbitrum:8,hypercore:9},Lpt={solana:!0,ethereum:!0,monad:!1,base:!0,polygon:!0,bitcoin:!0,sui:!0,arbitrum:!1,hypercore:!1},uY=(t,e)=>{let r=hR[t]-hR[e];return r===0?0:r>0?1:-1},Fpt=()=>{let t=Object.values(Lo).sort(uY),e=t.map(W=>Fs[W]),r={},n=[],i={},o={},s={};e.forEach(W=>{let he=Object.fromEntries(Object.entries(W.networks).filter(([Ze,se])=>!se.hidden)),te=Object.keys(he);n.push(...te),te.forEach(Ze=>{r[Ze]=W});let ce=Object.values(he);i[W.id]=ce.map(Ze=>Ze.id),ce.forEach(Ze=>{o[Ze.id]=Ze});for(let Ze of W.addressTypes){let se=s[Ze];se?se.push(W.id):s[Ze]=[W.id]}});let c=new Set(n);function l(W){return W?.evmOnly?t.filter(he=>Fs[he].addressTypes.includes("eip155")):t}function m(W){return Lpt[W]}function w(W){return n.filter(he=>r[he].id===W)}function b(W){if(!W)return n;let he=n;return W.evmOnly&&(he=he.filter(te=>_(te))),W.mainnetOnly&&(he=he.filter(te=>D(te))),he}function E(W){return r[W]}function I(W){return o[W].rpcProxyUrl}function M(W){return r[W].addressTypes[0]}function k(W){let he=r[W];if(he.addressTypes.length===1){let[te]=he.addressTypes;return te}else throw`The chain ${he.id} has multiple address types`}function R(W){return r[W].addressTypes}function B(W){return r[W].id}function U(W){return Fs[ae(W)].name}function P(W){return r[W].tokenDecimals}function F(W){return(ie(W)?r[W]:Fs[W]).tokenSymbol}function q(W){return(ie(W)?r[W]:Fs[W]).iconUrl}function K(W){return r[W].slip44}function re(W){return Fs[ae(W)].mainnetID}function Q(W){let he;if(_(W)&&(he=o[W].value),typeof he=="number")return he;throw new Error(`Invalid NetworkID: ${W}. Must be an EVM NetworkID.`)}function ie(W){return c.has(W)}function S(W){return Object.keys(Fs.bitcoin.networks).includes(W)}function a(W){return Object.keys(Fs.ethereum.networks).includes(W)}function f(W){return Object.keys(Fs.polygon.networks).includes(W)}function p(W){return Object.keys(Fs.base.networks).includes(W)}function y(W){return Object.keys(Fs.arbitrum.networks).includes(W)}function g(W){return Object.keys(Fs.monad.networks).includes(W)}function A(W){return Object.keys(Fs.hypercore.networks).includes(W)}function _(W){return a(W)||f(W)||p(W)||g(W)||y(W)||A(W)}function v(W){return Object.keys(Fs.solana.networks).includes(W)}function u(W){return Object.keys(Fs.sui.networks).includes(W)}function x(W){if(!v(W))throw new Error(`Invalid NetworkID: ${W}. Must be a Solana NetworkID.`);return Fs.solana.networks[W].value}function L(W){return r[W].localnetID===W}function D(W){return r[W].mainnetID===W}function C(W){return o[W]}function z(W,he=!1){let te=o[W];return he&&te.shortName?te.shortName:te.name}function ee(W){return r[W].parentChain}function ne(W){return s[W]}function Ke(W,he){let te=r[W].id,ce=r[he].id;return uY(te,ce)}function ae(W){return dR(W)?W:ie(W)?ze.getChainID(W):Ct(W)}return{...Fs,getAllChainIDs:l,isChainDefaultEnabled:m,getNetworkIDs:w,getAllNetworkIDs:b,getChainDefinition:E,getAddressType:k,getAddressTypes:R,getChainID:B,getChainName:U,getTokenDecimals:P,getTokenSymbol:F,getChainIconUrl:q,getSlip44:K,getMainnetNetworkID:re,getEVMNetworkIDValue:Q,getSolanaNetworkIDValue:x,_DO_NOT_USE_getAddressType:M,isNetworkID:ie,isBitcoinNetworkID:S,isEVMNetworkID:_,isSolanaNetworkID:v,isEthereumNetworkID:a,isPolygonNetworkID:f,isBaseNetworkID:p,isArbitrumNetworkID:y,isSuiNetworkID:u,isHypercoreNetworkID:A,isLocalNetworkID:L,isMainnetNetworkID:D,getNetworkDefinition:C,getNetworkName:z,getChainIDs:ne,compareChain:uY,compareNetworkID:Ke,getRpcProxyUrl:I,getParentChain:ee}},ze=Fpt();d();h();var Lr={Bitcoin:Eo,Ethereum:lR,Polygon:fR,Solana:g4,Sui:h4,Base:sR,Monad:m4,Arbitrum:oR,Hypercore:uR},G0=J.union([Uy,Vy,qy,iS,Fy]),Vpt=J.union([p4,y4,b4,aR,FAe]);d();h();d();h();var Cf=(n=>(n.address="address",n.tx="tx",n.nativeToken="nativeToken",n))(Cf||{}),qAe=J.string(),KAe=J.object({chainId:G0,resourceType:J.nativeEnum(Cf)}),fY=KAe.extend({resourceType:J.literal("nativeToken"),slip44:J.nativeEnum(rc)}),Ky=KAe.extend({resourceType:J.literal("address"),address:J.string()}),lY=Ky.extend({chainId:qy,address:Vp}),dY=Ky.extend({chainId:Vy,address:wd,tokenId:J.string().optional()}),hY=Ky.extend({chainId:Uy,address:Ly.or(J.string())}),qpt=Ky.extend({chainId:LAe,address:qp,tokenId:J.string().optional()}),HAe=Ky.extend({chainId:Fy,address:iI,tokenId:J.string().optional()}),jAe=J.union([fY,Ky,lY,dY,hY,qpt]);var zAe=t=>{let e=t.split("/");if(e.length>3||e.length<2)throw new Error(`Cannot decode malformed caip19 string '${t}'`);let r=e[0];if(!(ze.isEVMNetworkID(r)||ze.isSolanaNetworkID(r)||ze.isBitcoinNetworkID(r)||ze.isSuiNetworkID(r)))throw new Error(`Cannot decode unsupported chain '${r}'`);let n=e[1].split(/:(.+)/),[i,o]=n;if(!i||!o)throw new Error(`Invalid resource specification '${e[1]}'`);if(!Object.values(Cf).includes(i))throw new Error(`Unsupported resource type '${i}'`);if(i==="nativeToken"){if(!Object.values(rc).includes(o))throw new Error(`Unsupported slip44 '${o}'`);return{chainId:r,resourceType:i,slip44:o}}else if(ze.isEVMNetworkID(r)){if(i==="address")return e.length===3?{chainId:r,address:o,resourceType:i,tokenId:e[2]}:{chainId:r,address:o,resourceType:i};throw new Error(`Unsupported resource type ${i} for chain ${r}`)}else if(ze.isSolanaNetworkID(r)){if(i==="address")return{chainId:r,address:o,resourceType:i};throw new Error(`Unsupported resource type ${i} for chain ${r}`)}else if(ze.isBitcoinNetworkID(r)){if(i==="address")return{chainId:r,address:o,resourceType:i};throw new Error(`Unsupported resource type ${i} for chain ${r}`)}else if(ze.isSuiNetworkID(r)){if(i==="address")return{chainId:r,address:o,resourceType:i};throw new Error(`Unsupported resource type ${i} for chain ${r}`)}throw new Error(`Cannot decode malformed caip19 string '${t}'`)};d();h();var pR=t=>{if(t.resourceType==="nativeToken")return`${t.chainId}/nativeToken:${t.slip44}`;if(ze.isHypercoreNetworkID(t.chainId))return"tokenId"in t&&typeof t.tokenId=="string"&&t.tokenId?`${t.chainId}/address:${t.address}/${t.tokenId}`:`${t.chainId}/address:${t.address}`;if(ze.isEVMNetworkID(t.chainId))return t.address=t.address.toLowerCase(),"tokenId"in t&&typeof t.tokenId=="string"&&t.tokenId?`${t.chainId}/address:${t.address}/${t.tokenId}`:`${t.chainId}/address:${t.address}`;if(ze.isSolanaNetworkID(t.chainId))return`${t.chainId}/address:${t.address}`;if(ze.isBitcoinNetworkID(t.chainId)){let e=t;return`${e.chainId}/address:${e.address}`}return ze.isSuiNetworkID(t.chainId)?"tokenId"in t&&typeof t.tokenId=="string"&&t.tokenId?`${t.chainId}/address:${t.address}/${t.tokenId}`:`${t.chainId}/address:${t.address}`:Ct(t.chainId)};d();h();d();h();var WAe=J.string().refine(t=>{let e=t.split("/");if(e.length<2)return!1;let r=e[0],i=e[1].split(":");if(i.length<2)return!1;let o=i[0],s=i[1];return typeof t=="string"&&ze.isNetworkID(r)&&o.match(/^[-a-z0-9]{2,8}/)&&s.match(/^[-a-zA-Z0-9]{1,64}/)},{message:"Value is not a valid BRI string."});d();h();function GAe(t){return!t||t.resourceType!=="address"?!1:!!ze.isEVMNetworkID(t.chainId)}d();h();d();h();d();h();function mR(t,e){return ze.isBitcoinNetworkID(e)?Ly.safeParse(t).success:ze.isEVMNetworkID(e)?wd.safeParse(t).success:ze.isSolanaNetworkID(e)?Vp.safeParse(t).success:ze.isSuiNetworkID(e)?qp.safeParse(t).success:Ct(e)}d();h();var yR=t=>{let e=ze.getNetworkIDs(t),r=ze.getMainnetNetworkID(e[0]),n=ze[t].slip44;return{chainId:r,resourceType:"nativeToken",slip44:n}};d();h();d();h();d();h();function $Ae(t){return p4.safeParse(t).success}function YAe(t){return b4.safeParse(t).success}function ZAe(t){return y4.safeParse(t).success}var QAe=J.object({networkID:G0,addressType:J.nativeEnum(Tt),address:J.string()}),jpt=t=>`${t.networkID}-${t.address}`,JAe={toKey:jpt},XAe=t=>{let e={chainId:t.networkID,address:t.address,resourceType:"address"};return ze.isEVMNetworkID(t.networkID)&&(e.address=e.address.toLowerCase()),e};d();h();function eEe(t){return[Lr.Solana.Devnet,Lr.Solana.Testnet,Lr.Solana.Mainnet].map(r=>parseInt(r.replace("solana:",""))).includes(parseInt(t,16))?`solana:${parseInt(t,16)}`:`eip155:${parseInt(t,16)}`}d();h();var tEe=J.object({id:G0,name:J.string(),symbol:J.string(),imageUrl:J.string()});function rEe(t){let{name:e,tokenSymbol:r,iconUrl:n}=ze.getChainDefinition(t);return{id:t,name:e,symbol:r,imageUrl:n}}d();h();function nEe(t){switch(t){case"devnet":return Lr.Solana.Devnet;case"mainnet":return Lr.Solana.Mainnet;case"testnet":return Lr.Solana.Testnet;case"localnet":return Lr.Solana.Localnet}}function iEe(t){switch(t){case"mainnet":return"mainnet-beta";case"localnet":return"localhost";default:return t}}d();h();var ah=(t,e)=>{if(ze.isBitcoinNetworkID(t)){switch(!0){case(e.startsWith("bc1p")||e.startsWith("bcrt1p")||e.startsWith("tb1p")):return"bip122_p2tr";case(e.startsWith("bc1q")||e.startsWith("tb1q")):return"bip122_p2wpkh";case(e.startsWith("3")||e.startsWith("2")):return"bip122_p2sh";case(e.startsWith("1")||e.startsWith("m")):return"bip122_p2pkh"}throw new Error(`Unable to get address type from invalid Bitcoin address: ${e}`)}else return ze.isEVMNetworkID(t)?"eip155":ze.isSolanaNetworkID(t)?"solana":ze.isSuiNetworkID(t)?"sui":Ct(t)};d();h();var zpt=ze.getAllNetworkIDs().filter(t=>ze.isEVMNetworkID(t)),oEe=t=>zpt.find(e=>ze.getNetworkDefinition(e).value===t);d();h();var sEe=t=>ze.getAllNetworkIDs({evmOnly:!0}).filter(e=>{if(t){if(t==="mainnets_only")return ze.isMainnetNetworkID(e);if(t==="testnets_only")return!ze.isMainnetNetworkID(e)}else return!0}).map(pY),pY=t=>`0x${ze.getNetworkDefinition(t).value.toString(16)}`;d();h();var TEe=qe(rI(),1),IEe=qe(ur(),1);d();h();var bR=qe(ur(),1);d();h();var gR=qe(ur(),1),mY=gR.default.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED||gR.default.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE||gR.default.__SERVER_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ypt=!!mY.ReactCurrentDispatcher,aEe=mY.ReactCurrentDispatcher||mY,yY=0,z1=t=>{yY++;try{return t()}finally{yY--}};function v4(){let t=Ypt?aEe.current:aEe.H;return yY===0&&!!t&&t.useState!==t.useEffect}var vR=(0,bR.createContext)(void 0);function gY(){if(v4())return(0,bR.useContext)(vR)}d();h();d();h();d();h();d();h();d();h();d();h();var bY=class{value;constructor(e){this.value=e}deref(){return this.value}},cEe=typeof WeakRef=="function"?WeakRef:bY;d();h();var Bc,Of;(function(t){t.StartUpdate="StartUpdate",t.EndUpdate="EndUpdate",t.StartLoading="StartLoading",t.EndLoading="EndLoading",t.Connected="Connected",t.Disconnected="Disconnected",t.ConsumeState="ConsumeState"})(Of||(Of={}));var xR;(function(t){t.State="state",t.Reactive="reactive",t.Watcher="watcher"})(xR||(xR={}));d();h();var Zpt=0,uEe=new Map;function fEe(t){let e=uEe.get(t);return e===void 0&&(e=`unknownSignal${Zpt++}`,uEe.set(t,e)),e}d();h();var{log:lEe,floor:dEe,imul:Fo,abs:Qpt}=Math;function Ul(t,e=0){let r=e^t.length,n=3432918353,i=461845907,o=0;for(;o+4<=t.length;){let c=t.charCodeAt(o)&255|(t.charCodeAt(o+1)&255)<<8|(t.charCodeAt(o+2)&255)<<16|(t.charCodeAt(o+3)&255)<<24;c=Fo(c,n),c=c<<15|c>>>17,c=Fo(c,i),r^=c,r=r<<13|r>>>19,r=Fo(r,5)+3864292196,o+=4}let s=0;switch(t.length&3){case 3:s^=(t.charCodeAt(o+2)&255)<<16;case 2:s^=(t.charCodeAt(o+1)&255)<<8;case 1:s^=t.charCodeAt(o)&255,s=Fo(s,n),s=s<<15|s>>>17,s=Fo(s,i),r^=s}return r^=t.length,r^=r>>>16,r=Fo(r,2246822507),r^=r>>>13,r=Fo(r,3266489909),r^=r>>>16,r>>>0}function Jpt(t,e=0){t=Qpt(t);let r=e,n=3432918353,i=461845907;for(;t>=4294967295;){let s=t&4294967295;t=dEe(t/4294967296),s=Fo(s,n),s=s<<15|s>>>17,s=Fo(s,i),r^=s,r=r<<13|r>>>19,r=Fo(r,5)+3864292196}if(t>0){let s=t&4294967295;s=Fo(s,n),s=s<<15|s>>>17,s=Fo(s,i),r^=s}let o=t===0?1:dEe(lEe(t)/lEe(256))+1;return r^=o,r^=r>>>16,r=Fo(r,2246822507),r^=r>>>13,r=Fo(r,3266489909),r^=r>>>16,r>>>0}function wY(t){let e=7,r=3432918353,n=461845907;for(let i of t){let o=Hy(i);o=Fo(o,r),o=o<<15|o>>>17,o=Fo(o,n),e^=o,e=e<<13|e>>>19,e=Fo(e,5)+3864292196}return e^=t.length,e^=e>>>16,e=Fo(e,2246822507),e^=e>>>13,e=Fo(e,3266489909),e^=e>>>16,e>>>0}function Xpt(t){let e=imt,r=Object.keys(t);for(let n of r)e+=Hy(n)^Hy(t[n]);return e>>>0}var emt=Ul("undefined",0),tmt=Ul("null",1),rmt=Ul("true",2),nmt=Ul("false",3),vwr=Ul("array",7),imt=Ul("object",8),omt=Object.getPrototypeOf,smt=new Map([[Object.prototype,Xpt],[Array.prototype,wY]]);function Hy(t,e=[]){switch(typeof t){case"undefined":return emt;case"boolean":return t?rmt:nmt;case"number":return Ul(String(t),4);case"string":return Ul(t,5);case"bigint":return Ul(t.toString(),6);case"object":{if(t===null)return tmt;let r=e.indexOf(t);if(r!==-1)return Ul(String(r),11);let n=smt.get(omt(t));if(n){e.push(t);let i=n(t);return e.pop(),i}return xY(t)}case"function":return xY(t);case"symbol":return Ul(t.toString(),10)}}var hEe=new WeakMap,amt=1;function xY(t){let e=hEe.get(t);return e===void 0&&(e=Jpt(amt++,9),hEe.set(t,e)),e}var cmt=wY([]);function pEe(t,e){return xY(t)^(e.length>0?wY(e):cmt)}d();h();var mEe=new WeakMap,umt=1;function SY(t){let e=mEe.get(t);return e===void 0&&(e=`obj-${umt++}`,mEe.set(t,e)),e}function fmt(t){return Object.getPrototypeOf(t)===Object.prototype}function lmt(t){return Array.isArray(t)}function wR(t){if(t===null)return"null";if(t===void 0)return"undefined";switch(typeof t){case"number":case"boolean":case"string":return String(t);case"bigint":return t.toString();case"symbol":return String(t);case"object":return t instanceof Date?t.toISOString():lmt(t)?`[${t.map(wR).join(",")}]`:fmt(t)?`{ ${[...Object.entries(t),...Object.getOwnPropertySymbols(t).map(r=>[r,t[r]])].sort(([r],[n])=>String(r)<String(n)?-1:String(r)>String(n)?1:0).map(([r,n])=>`${String(r)}: ${wR(n)}`).join(", ")} }`:SY(t);case"function":return SY(t);default:return SY(t)}}var dmt=0,x4=class{flags;scope=void 0;subs=new Map;deps=new Map;ref=new cEe(this);dirtyHead=void 0;updatedCount=0;computedCount=0;watchCount=0;_listeners=null;key;args;value;tracerMeta;def;constructor(e,r,n,i,o){this.flags=(e.isSubscription?4:0)|2,this.scope=i,this.key=n,this.args=r,this.def=e,this.value=o?.initValue,Bc&&(this.tracerMeta={id:o?.id??n??Hy([e.compute,dmt++]),desc:o?.desc??e.compute.name??fEe(e.compute),params:r.map(s=>wR(s)).join(", "),tracer:o?.tracer})}get _state(){return this.flags&3}set _state(e){this.flags=this.flags&-4|e}get _isListener(){return(this.flags&8)!==0}set _isListener(e){e?this.flags|=8:this.flags&=-9}get listeners(){return this._listeners??(this._listeners={updatedAt:0,current:new Set,cachedBoundAdd:this.addListener.bind(this)})}get(){return ER(this)}addListener(e){let{current:r}=this.listeners;return r.has(e)||(this._isListener||(this.watchCount++,this.flags|=8),SR(this),r.add(e)),()=>{r.has(e)&&(r.delete(e),r.size===0&&(AR(this),this.flags&=-9))}}addListenerLazy(){return this._isListener||(this.watchCount++,this.flags|=8),this.listeners.cachedBoundAdd}},yEe=t=>{let{listeners:e}=t;if(e===null)return;let{current:r}=e;for(let n of r)n()},w4=t=>(t.flags&4)!==0;function S4(t,e=[],r,n,i){return new x4(t,e,r,n,i)}d();h();d();h();function A4(t){let e=t._state;e!==2&&(t._state=2,e!==3&&AY(t))}function AY(t){if(Br===t)throw new Error("A signal was dirtied after it was consumed by the current function. This can cause race conditions and infinite rerenders and is not allowed.");w4(t)?t.watchCount>0&&_R(t):(t._isListener&&SR(t),EY(t.subs),t.subs=new Map)}function EY(t){for(let[e,r]of t){let n=e.deref();if(n===void 0||n.computedCount!==r.consumedAt)continue;let i=n._state;switch(i){case 0:n._state=3,n.dirtyHead=r,r.nextDirty=void 0,AY(n);break;case 1:case 3:{let o=n.dirtyHead,s=r.ord;if(o.ord>s)n.dirtyHead=r,r.nextDirty=o,i===1&&(n._state=3,AY(n));else{let c=o.nextDirty;for(;c!==void 0&&c.ord<s;)o=c,c=o.nextDirty;r.nextDirty=c,o.nextDirty=r}break}}}}var hmt=0,_Y=class{_value;_equals;_subs=new Map;_desc;_id;_listeners=null;constructor(e,r=(i,o)=>i===o,n="state"){this._value=e,this._equals=r,this._id=hmt++,this._desc=`${n}${this._id}`}get(){return Br!==void 0?(Bc?.emit({type:Of.ConsumeState,id:Br.tracerMeta.id,childId:this._id,value:this._value,setValue:e=>{this.set(e)}}),this._subs.set(Br.ref,Br.computedCount),this._value):bEe(this)}update(e){this.set(e(this._value))}peek(){return this._value}set(e){if(this._equals(e,this._value))return;this._value=e;let{_subs:r,_listeners:n}=this;for(let[i,o]of r.entries()){let s=i.deref();s===void 0||o!==s.computedCount||A4(s)}this._subs=new Map,IR(this)}addListener(e){let r=this._listeners;return r===null&&(this._listeners=r=new Set),r.add(e),()=>r.delete(e)}};function gEe(t){let e=t._listeners;if(e!==null)for(let r of e)r()}var pmt=()=>!1;function TR(t,e){let r=e?.equals===!1?pmt:e?.equals??((n,i)=>n===i);return new _Y(t,r,e?.desc)}d();h();function TY(t){let{watchCount:e}=t,r=e+1;if(t.watchCount=r,!(e>0)){t.scope?.removeFromGc(t);for(let n of t.deps.keys())TY(n);w4(t)&&jy(t)}}function IY(t,e=1){let{watchCount:r}=t,n=Math.max(r-e,0);if(t.watchCount=n,!(n>0)){for(let i of t.deps.keys())IY(i);w4(t)&&t.value?.(),n===0&&t.scope&&t.scope.markForGc(t)}}var mmt=typeof requestIdleCallback=="function"?requestIdleCallback:t=>_4(t),vEe=!1,kR=[],PR=[],BR=new Map,MY=[],kY=[],MR=new Set,ymt=()=>Promise.resolve(),RR=null,E4=t=>{if(RR)return;let e;RR={promise:new Promise(n=>e=n),resolve:e},_4(oS)};var SR=t=>{kR.push(t),E4(oS)},_R=t=>{PR.push(t),E4(oS)},AR=t=>{let e=BR.get(t)??0;BR.set(t,e+1),E4(oS)},IR=t=>{MY.push(t),E4(oS)},vY=t=>{kY.push(t),E4(oS)},xEe=t=>{MR.add(t),!(MR.size>1)&&mmt(()=>{for(let e of MR)e.sweepGc();MR.clear()})},oS=async()=>{let t=RR;for(;vEe||PR.length>0||kR.length>0;){vEe=!1;let e=PR;PR=[];for(let n of e)jy(n);let r=kR;kR=[];for(let n of r)wEe(n);await ymt()}RR=null,CR(()=>{for(let[e,r]of BR)IY(e,r);for(let e of MY)e instanceof x4?yEe(e):gEe(e);for(let e of kY)e.flush();BR.clear(),MY=[],kY=[]}),t.resolve()};d();h();var SEe=0;function T4(t,e,r,n,i){return t===void 0?{type:e,dep:r,ord:SEe++,updatedAt:n,consumedAt:i,nextDirty:void 0}:(t.ord=SEe++,t.updatedAt=n,t.consumedAt=i,t.nextDirty=void 0,t)}function AEe(t,e){let r=t.dirtyHead;if(r===void 0)return;if(r.dep===e)return t.dirtyHead=r.nextDirty,r;let n=r.nextDirty;for(;n!==void 0;){if(n.dep===e)return r.nextDirty=n.nextDirty,n;r=n,n=r.nextDirty}}d();h();d();h();var gmt=function*(){}().constructor;function I4(t){return t.constructor===gmt}function M4(t){return t.constructor===Promise}function k4(t){return t.constructor===ch}d();h();var OR=(t,e)=>t===e,bmt=()=>!1,P4=t=>t===!1?bmt:t??OR;var ch=class t{_value=void 0;_error=void 0;_flags=0;_signal=void 0;_equals;_promise;_pending=[];_stateSubs=new Map;_awaitSubs=new Map;_version=TR(0);_boundRun;static createPromise(e,r,n){let i=new t;return i._signal=r,i._equals=r?.def.equals??OR,i._initFlags(1,n),e&&i._setPromise(e),i}static createSubscription(e,r,n){let i=new t,o=n?.initValue,s=!1,c,l=()=>{typeof c=="function"?c():c!==void 0&&c.unsubscribe?.();let b=i._signal;b.subs=new Map,b._state=2,b.watchCount=0,s=!1,c=void 0},m={get:()=>i._value,set:b=>{b!==null&&typeof b=="object"&&M4(b)?i._setPromise(b):i._setValue(b)},setError:b=>{i._setError(b)}},w={compute:()=>(s===!1?(c=e(m),s=!0):typeof c=="function"||c===void 0?(c?.(),c=e(m)):c.update?.(),l),equals:OR,isSubscription:!0};return i._signal=S4(w,[],void 0,r,n),i._equals=P4(n?.equals),i._initFlags(129,o),i}static createTask(e,r,n){let i=new t,o=n?.initValue;return i._signal=(...s)=>EEe(r,()=>{let c=e(...s);return typeof c=="object"&&c!==null&&I4(c)?NR(c,void 0):c}),i._equals=P4(n?.equals),i._initFlags(64,o),i}_initFlags(e,r){let n=e;r!==void 0&&(n|=8),this._flags=n,this._value=r}_consumeFlags(e){if(Br===void 0)return;this._flags&128&&this._connect();let r=Br.ref,n=this._stateSubs,i=n.get(r)??0;n.set(r,i|e)}_connect(){let e=this._signal;if(Br?.watchCount===0){let{ref:r,computedCount:n,deps:i}=Br,o=i.get(e);if(o?.consumedAt!==n){let s=T4(o,0,e,e.updatedCount,n);e.subs.set(r,s),i.set(e,s)}}else ER(e)}_setFlags(e,r=0,n=0){let i=this._flags,o=i&~r|e,s=i^o|n;if(this._flags=o,s===0)return;let c=this._stateSubs;for(let[l,m]of c)if(m&s){let w=l.deref();w&&A4(w),c.delete(l)}this._version.update(l=>l+1)}_setPending(){this._setFlags(1)}async _setPromise(e){this._promise=e;let r=this._flags,n=this._awaitSubs;r&1||(this._setPending(),EY(n),this._awaitSubs=n=new Map);try{let i=await e;if(e!==this._promise)return;this._setValue(i,n)}catch(i){if(e!==this._promise)return;this._setError(i,n)}}_setValue(e,r=this._awaitSubs){let n=this._flags,i=this._value,o=0;(!(n&8)||this._equals(i,e)===!1)&&(this._value=i=e,o=16),n&2&&(o=32,this._error=void 0),this._scheduleSubs(r,o!==0),this._setFlags(12,3,o);for(let{ref:s,edge:c,resolve:l}of this._pending)l?.(i),s!==void 0&&r.set(s,c);this._pending=[]}_setError(e,r=this._awaitSubs){let n=this._error,i=0;n!==e&&(this._error=n=e,i=32),this._scheduleSubs(r,i!==0),this._setFlags(2,5,i);for(let{ref:o,edge:s,reject:c}of this._pending)c?.(n),o!==void 0&&r.set(o,s);this._pending=[]}_scheduleSubs(e,r){let n=r?2:3;for(let i of e.keys()){let o=i.deref();o!==void 0&&(o._state=n,_R(o))}}get value(){return this._consumeFlags(16),this._value}get error(){return this._consumeFlags(32),this._error}get isPending(){return this._consumeFlags(1),(this._flags&1)!==0}get isRejected(){return this._consumeFlags(2),(this._flags&2)!==0}get isResolved(){return this._consumeFlags(4),(this._flags&4)!==0}get isReady(){return this._consumeFlags(8),(this._flags&8)!==0}get isSettled(){return this._consumeFlags(6),(this._flags&6)!==0}get data(){return this.value}get isFetching(){return this.isPending}get isSuccess(){return this.isResolved}get isError(){return this.isRejected}get isFetched(){return this.isSettled}_run(...e){let r=this._flags,n=this._signal;if(r&64)this._setPromise(n(...e));else if(n)A4(n);else throw new Error("ReactivePromise is not runnable. If you are using run() on a ReactivePromise, make sure you used `task` to create this promise. If you are using rerun(), make sure its a promise that was generated by a reactive async function.");return this}run=this._run.bind(this);get rerun(){return this.run}then(e,r){let n=this._flags;return new Promise((i,o)=>{let s,c;if(Br!==void 0){n&128&&this._connect(),s=Br.ref;let w=this._awaitSubs.get(s)??AEe(Br,this);c=T4(w,1,this,-1,Br.computedCount)}let l=e?w=>{try{let b=e(w);i(b)}catch(b){o(b)}}:i,m=r?w=>{try{let b=r(w);i(b)}catch(b){o(b)}}:o;n&1?this._pending.push({ref:s,edge:c,resolve:l,reject:m}):(n&4?l(this._value):n&2&&m(this._error),s&&this._awaitSubs.set(s,c))})}catch(e){return this.then(null,e)}finally(e){return this.then(r=>(e?.(),r),r=>{throw e?.(),r})}get[Symbol.toStringTag](){return"ReactivePromise"}};function PY(t){return t instanceof ch&&(t._flags&128)!==0}var Br;function ER(t){if(Br!==void 0){let{ref:e,computedCount:r,deps:n}=Br,i=n.get(t);if(i?.consumedAt!==r){i===void 0&&(Bc?.emit({type:Of.Connected,id:Br.tracerMeta.id,childId:t.tracerMeta.id,name:t.tracerMeta.desc,params:t.tracerMeta.params,nodeType:xR.Reactive}),Br.watchCount>0&&TY(t));let s=jy(t),c=T4(i,0,t,s,r);t.subs.set(e,c),n.set(t,c)}}else jy(t);return t.value}function jy(t){let{ref:e,_state:r}=t;if(r<2)return t.updatedCount;if(r===3){let n=t.dirtyHead;for(;n!==void 0;){if(n.type===1){let s=n.dep;if(s.isPending){let c=t.value;return c instanceof ch&&c._setPending(),s._awaitSubs.set(e,n),r=1,t.dirtyHead=n,t.updatedCount}n=n.nextDirty;continue}let i=n.dep,o=jy(i);if(i.subs.set(e,n),n.updatedAt!==o){t.dirtyHead=n.nextDirty,r=2;break}n=n.nextDirty}}return r===2&&vmt(t),t._state=0,t.dirtyHead=void 0,Bc!==void 0&&t.tracerMeta?.tracer&&vY(t.tracerMeta.tracer),t.updatedCount}function vmt(t){Bc?.emit({type:Of.StartUpdate,id:t.tracerMeta.id});let e=Br,r=t.updatedCount,n=++t.computedCount;try{Br=t;let i=r!==0,o=t.value,s=t.def.compute(...t.args),c=!1;if(s!==null&&typeof s=="object"&&(I4(s)?(s=NR(s,t),c=!0):M4(s)&&(c=!0)),c)if(Bc!==void 0&&(Bc.emit({type:Of.StartLoading,id:t.tracerMeta.id}),s.finally(()=>{Bc.emit({type:Of.EndLoading,id:t.tracerMeta.id,value:t.value})})),Bc?.emit({type:Of.StartLoading,id:t.tracerMeta.id}),o!==null&&typeof o=="object"&&k4(o))o._setPromise(s);else{let l=i?void 0:o;t.value=ch.createPromise(s,t,l),t.updatedCount=r+1}else(!i||!t.def.equals(o,s))&&(t.value=s,t.updatedCount=r+1)}finally{Br=e,Bc?.emit({type:Of.EndUpdate,id:t.tracerMeta.id,value:t.value});let{ref:i,deps:o}=t;for(let[s,c]of o)c.consumedAt!==n&&(AR(s),s.subs.delete(i),o.delete(s),Bc?.emit({type:Of.Disconnected,id:t.tracerMeta.id,childId:s.tracerMeta.id}))}}function wEe(t,e=!1){let r=t.listeners;e&&(r===null||r.current.size===0)&&(t.watchCount++,t.flags|=8);let n=jy(t);return r!==null&&r.updatedAt!==n&&(r.updatedAt=n,IR(t)),n}function BY(t){let e=Br;return(...r)=>{let n=Br;Br=e;try{let i=t(...r);return i!==null&&typeof i=="object"&&I4(i)?NR(i,e):i}finally{Br=n}}}function NR(t,e){function r(n){return typeof n=="object"&&n!==null&&(M4(n)||k4(n))?n:Promise.resolve(n)}return new Promise((n,i)=>{function o(l){l.done?n(l.value):r(l.value).then(s,c)}function s(l){let m=Br;try{Br=e,o(t.next(l))}catch(w){i(w)}finally{Br=m}}function c(l){let m=Br;try{Br=e,o(t.throw(l))}catch(w){i(w)}finally{Br=m}}o(t.next())})}var _4=t=>{setTimeout(()=>{t()},0)},CR=t=>t(),B4=()=>{},RY=t=>t.get(),CY=t=>t.get();function _Ee(t){return Br!==void 0?t.get():CY(t)}function bEe(t){return RY(t)}function OY(t){_4=t.scheduleFlush??_4,CR=t.runBatch??CR,B4=t.getFrameworkScope??B4,RY=t.useStateSignal??RY,CY=t.useDerivedSignal??CY}var xmt=Symbol("signalium:context"),wmt=0,NY=class{defaultValue;_key;_description;constructor(e,r){this.defaultValue=e,this._description=r??`context:${wmt++}`,this._key=Symbol(this._description)}},G1=(t,e)=>new NY(t,e),W1=class t{constructor(e,r){this.parentScope=r,this.contexts=Object.create(r?.contexts||null);for(let[n,i]of e)this.contexts[n._key]=i}parentScope=void 0;contexts;children=new Map;signals=new Map;gcCandidates=new Set;getChild(e){let r=Hy(e),n=this.children.get(r);return n===void 0&&(n=new t(e,this),this.children.set(r,n)),n}getContext(e){let r=e;return this.contexts[r._key]}get(e,r,n){let i=n?.paramKey?.(...r),o=pEe(e.compute,i?[i]:r),s=this.signals.get(o);return s===void 0&&(s=S4(e,r,o,this,n),this.signals.set(o,s)),s}markForGc(e){this.gcCandidates.has(e)||(this.gcCandidates.add(e),xEe(this))}removeFromGc(e){this.gcCandidates.delete(e)}forceGc(e){this.signals.delete(e.key)}sweepGc(){for(let e of this.gcCandidates)if(e.watchCount===0){let{shouldGC:r}=e.def;(!r||r(e,e.value,e.args))&&this.signals.delete(e.key)}this.gcCandidates=new Set}},C4=new W1([]);function Smt(t){C4=new W1(t,C4)}var R4,DY=()=>R4??Br?.scope??B4()??C4;var EEe=(t,e)=>{let r=R4;try{return R4=t,e()}finally{R4=r}},zy=t=>{let e=R4??Br?.scope??B4();if(e===void 0)throw new Error("useContext must be used within a signal hook, a withContext, or within a framework-specific context provider.");return e.getContext(t)??t.defaultValue};function MEe({children:t,contexts:e=[],inherit:r=!0}){let n=(0,IEe.useContext)(vR)??C4,i=new W1(e,r?n:void 0);return(0,TEe.jsx)(vR.Provider,{value:i,children:t})}d();h();d();h();d();h();var O4=qe(ur(),1);function UY(t){return v4()?(0,O4.useSyncExternalStore)((0,O4.useCallback)(e=>t.addListener(e),[t]),()=>t.peek(),()=>t.peek()):t.peek()}function LY(t){if(!v4())return t.get();let e=(0,O4.useSyncExternalStore)(t.addListenerLazy(),()=>t.get(),()=>t.get());return typeof e=="object"&&e!==null&&k4(e)&&(PY(e)&&LY(e._signal),UY(e._version)),e}function FY(){OY({useDerivedSignal:LY,useStateSignal:UY,getFrameworkScope:gY})}d();h();var Amt=qe(ur(),1);d();h();var sS=TR;function Vs(t,e){let r={compute:t,equals:P4(e?.equals),shouldGC:e?.shouldGC,isSubscription:!1};return(...n)=>{let o=DY().get(r,n,e);return _Ee(o)}}var N4=(t,e)=>{let r=DY();return ch.createTask(t,r,e)};d();h();d();h();d();h();d();h();var $1=()=>{let t=sS(void 0,{equals:()=>!1});return{consume:()=>t.get(),notify:()=>t.set(void 0)}};FY();d();h();d();h();d();h();d();h();d();h();d();h();var DR=class{namespaces=new Map;options;constructor(e){this.options=e;let{namespaces:r}=this;for(let n of e.namespaces){if(r.has(n.key))throw new Error(`Duplicate namespace key: ${n.key}`);r.set(n.key,n)}}async init(){let e=this.options.backingStore,r=Array.from(this.namespaces.values());await e.init?.(r);let n=Promise.all(r.map(i=>i.init(e)));this.options.initDeadline?await Promise.race([new Promise(i=>setTimeout(i,this.options.initDeadline)),n]):await n,kEe()}getNamespace(e){let r=this.namespaces.get(e.key);if(!r)throw new Error(`Namespace ${e.key} not found, make sure it was passed to the MMKVStorage constructor`);return r}get(e,r){return this.getNamespace(e).get(r)}async set(e,r,n){return this.getNamespace(e).set(r,n)}async sendEvent(e){await Promise.all(Array.from(this.namespaces.values()).map(r=>r.sendEvent(e)))}destroy(){for(let e of this.namespaces.values())e.destroy()}},VY=G1(null);function Y1(){let t=zy(VY);if(!t)throw new Error("useMMKVStorage must be used within a ContextProvider with MMKVStorageContext set");return t}var kEe,_mt=new Promise(t=>{kEe=t}),D4=async(t,e)=>(await _mt,z1(()=>t(e)));var Tmt=(t,e)=>{switch(e){case"boolean":return J.boolean();case"number":return J.number();case"string":return J.string();default:return J.object({}).passthrough()}},Imt=(t,e)=>{let r=new Map;for(let n of e){let i=n.type;if(i===void 0){let s=typeof n.defaultValue;if(s!=="undefined"&&s!=="function")i=typeof n.defaultValue;else throw new Error(`Item ${n.key} has no type and no default value, or the default value is a function. You must provide a type for this item.`)}let o=n.validator??Tmt(n.key,i);n.nullable&&(o=o.nullish().default(null)),r.set(n.key,{schema:t,key:n.key,type:i,nullable:n.nullable??!1,defaultValue:n.defaultValue,validator:o,updateOn:n.updateOn??"idle",isLegacyStringBoolean:n.isLegacyStringBoolean??!1})}return n=>{let i=r.get(n);if(!i)throw new Error(`Item ${n} not found in schema ${t}`);return i}};function aS(t,e,r){let n=Imt(e,r),i=Vs(s=>Y1().get(t,n(s))),o=Vs(s=>{let c=Y1();return BY(l=>c.set(t,n(s),l))});return[i,o]}d();h();var UR=(t,e)=>{if(!t)throw new Error(e);return t},qY=class t{key;readonly;disableCache;_store;_state;_hooks;_init;_deps;_removeStoreListener=void 0;onChangeCallbacks=[];localNotifier=$1();eventNotifiers={change:$1(),idle:$1()};constructor(e,r){this.key=e.key,this.disableCache=e.disableCache??!1,this.readonly=e.readonly??!1,this._init=e.init??void 0,this._deps=r}get state(){return UR(this._state,`Namespace ${this.key} is not initialized`)}get hooks(){return UR(this._hooks,`Namespace ${this.key} is not initialized`)}get deps(){return UR(this._deps,`Namespace ${this.key} is not initialized`)}get store(){return UR(this._store,`Namespace ${this.key} is not initialized`)}withDeps(e){return new t({key:this.key,disableCache:this.disableCache,readonly:this.readonly,init:this._init},e)}onStoreChange=e=>{let{state:r}=this;if(r.remoteState=e.remoteState,this.onChangeCallbacks.forEach(n=>n(r.remoteState)),this.state.localVersion<e.localVersion)r.localVersion=e.localVersion,this.localNotifier.notify();else if(r.remoteVersion<e.remoteVersion){r.remoteVersion=e.remoteVersion;for(let[n,i]of Object.entries(r.eventVersions)){let o=e.eventVersions[n];i<o&&(r.eventVersions[n]=o,this.eventNotifiers[n].notify())}}};async init(e){this._state=e.getNamespace(this.key)??{localVersion:0,remoteVersion:0,remoteState:null,eventVersions:{change:0,idle:0}},this._store=e,this._removeStoreListener=e.onNamespaceChange?.(this.key,this.onStoreChange);let r={get:()=>this.state.remoteState,set:n=>{this.setRemoteState(n)},onChange:n=>{this.onChangeCallbacks.push(n)}};this._hooks=await this._init?.(this.deps,r)??{}}getRemoteState(){return this.eventNotifiers.change.consume(),this.state.remoteState}setRemoteState(e){this.state.remoteState=e,this.state.remoteVersion++,this.sendEvent("change")}updateRemoteState(e){this.setRemoteState(e(this.state.remoteState))}getState=Vs(e=>{let r=this.store.getItem(this.key,e.schema,e.key)??{value:null,version:-1},n=e.updateOn,i=this.state.eventVersions[n],o=this.eventNotifiers[n];if(r.version<i||this.disableCache){if(this.hooks.getValue){r.value=this.hooks.getValue(e,r.value);let s=e.validator.safeParse(r.value);r.value=s.success?s.data:null}r.value===null&&(r.value=typeof e.defaultValue=="function"?e.defaultValue():e.defaultValue??null),r.version=i,this.store.setItem(this.key,e.schema,e.key,r)}if(r.value===null&&!e.nullable)throw new Error(`MMKVStorage: Item ${e.key} on namespace ${this.key} is not nullable and has no default value`);return o.consume(),this.localNotifier.consume(),sS(r.value)});get=Vs(e=>this.getState(e).get());async set(e,r){if(this.readonly)throw new Error(`Cannot set value on read-only namespace: ${this.key}`);let n=e.validator.parse(r),i=this.getState(e),o=await this.hooks.setValue?.(e,i.peek(),n)??n;i.set(o),await this.store.setItem(this.key,e.schema,e.key,{value:o,version:this.state.remoteVersion}),this.state.localVersion++,await this.store.setNamespace(this.key,this.state)}async sendEvent(e){this.state.eventVersions[e]!==this.state.remoteVersion&&(this.state.eventVersions[e]=this.state.remoteVersion,this.eventNotifiers[e].notify(),await this.store.setNamespace(this.key,this.state))}destroy(){this._removeStoreListener?.()}};function LR(t){return new qY(t)}d();h();d();h();var CC=qe(l4e()),bxt="eppo-phantom",vxt="0.0.1",xxt="https://eppo-proxy.phantom.app/api",YQ=class extends CC.MemoryOnlyConfigurationStore{constructor(r){super();this.state=r;let n=this.state.get();n&&super.setEntries(n),this.state.onChange(i=>{super.setEntries(i)})}setEntries(r){return this.state.set(r),super.setEntries(r)}},RC=null;async function wxt({apiKey:t,pollingEnabled:e,state:r,logTelemetry:n}){let i=new YQ(r),o=new CC.EppoClient({flagConfigurationStore:i}),s={apiKey:t,sdkName:bxt,sdkVersion:vxt,baseUrl:xxt,pollAfterSuccessfulInitialization:e,pollAfterFailedInitialization:e};o.setConfigurationRequestParameters(s);let c=performance.now();n?.("Eppo: Initializing Eppo provider ..."),await i.init();let l=o.fetchFlagConfigurations();i.getKeys().length===0?(n?.("Eppo: No initial values in the configuration store, waiting for the first fetch"),await l):n?.("Eppo: Initial values in the configuration store, serving from store and skipping initial fetch");let m=performance.now()-c;return n?.(`Eppo: Initialized Eppo provider in ${m.toFixed(2)}ms`),o}async function d4e(t){return RC||(RC=wxt(t),RC)}var h4e={getBooleanAssignmentDetails:(t,e,r,n)=>({variation:n,action:null}),getStringAssignmentDetails:(t,e,r,n)=>({variation:n,action:null}),getNumericAssignmentDetails:(t,e,r,n)=>({variation:n,action:null}),getJSONAssignmentDetails:(t,e,r,n)=>({variation:n,action:null})},Sxt=async(t,e)=>{let{eppoClient:r}=t;if(!r)if(!Kp()||oI())r=h4e;else{let n={get:()=>e.get()?.eppoConfig??null,set:i=>e.set({overrides:e.get()?.overrides??{},eppoConfig:i}),onChange:i=>e.onChange(({eppoConfig:o})=>i(o))};r=await d4e({apiKey:t.apiKey,pollingEnabled:t.pollingEnabled,state:n,logTelemetry:t.logTelemetry})}return{getValue:(n,i)=>{try{let o,s,c=n.key,{subjectId:l,subjectAttributes:m}=t,w=e.get();if(w?.overrides[c]!==void 0)return w.overrides[c]??null;if(n.isLegacyStringBoolean)o=r.getStringAssignmentDetails(c,l,m,"DEFAULT"),o.variation==="DEFAULT"?s=n.defaultValue??null:s=o.variation==="variant";else{switch(n.type){case"boolean":o=r.getBooleanAssignmentDetails(c,l,m,n.defaultValue);break;case"string":o=r.getStringAssignmentDetails(c,l,m,n.defaultValue);break;case"number":o=r.getNumericAssignmentDetails(c,l,m,n.defaultValue);break;default:o=r.getJSONAssignmentDetails(c,l,m,n.defaultValue)}s=o.variation}if(s!==i&&t.analytics&&o.evaluationDetails){let b=o.evaluationDetails,E=b.matchedAllocation?.key,I=b.variationKey,M={allocation:E??null,experiment:E?`${c}-${E}`:null,featureFlag:c,variation:I??null,subject:l,timestamp:new Date().toISOString(),subjectAttributes:m};t.analytics.capture("eppoRandomizationEvent",{data:{distinctId:l,properties:M}})}return s??null}catch(o){return console.error("Error fetching feature flag",o),n.defaultValue??null}}}},u8=LR({key:"flags",init:Sxt,disableCache:eu()}),Axt=Vs(()=>{let e=Y1().getNamespace(u8);return[e.getRemoteState()?.overrides,r=>{let n=typeof r=="function"?r(e.getRemoteState()?.overrides??{}):r;e.updateRemoteState(i=>({eppoConfig:i?.eppoConfig??{},overrides:n})),e.sendEvent("idle")}]}),ZQ=new WeakMap,QQ=(t,e)=>{let r=e.map(i=>({...i,defaultValue:Kp()?i.defaultValue:i.devDefaultValue??i.defaultValue})),[n]=aS(u8,`feature:${t}`,r);return ZQ.set(n,e),n},JQ=(t,e)=>{let r=e.map(o=>({key:typeof o=="string"?o:o.key,defaultValue:!1,type:"boolean",updateOn:"change",isLegacyStringBoolean:typeof o=="object"?o.isLegacyStringBoolean:!1})),[n]=aS(u8,`kill-switch:${t}`,r),i=o=>{try{return n(o)}catch{return!1}};return ZQ.set(i,r),i},XQ=(t,e)=>{let r=e.map(i=>({...i,defaultValue:Kp()?i.defaultValue:i.devDefaultValue??i.defaultValue})),[n]=aS(u8,`config:${t}`,r);return ZQ.set(n,e),n};var f8=QQ("general",[{key:"enable-psol-staking",defaultValue:!1,devDefaultValue:!0},{key:"enable-fungible-categories",defaultValue:!1,devDefaultValue:!0},{key:"enable-psol-welcome-modal",defaultValue:!1,devDefaultValue:!0},{key:"enable-trusted-token-badge",defaultValue:!1,devDefaultValue:!0},{key:"enable-fungible-position",defaultValue:!1,devDefaultValue:!0},{key:"enable-social-feed-update-trigger",defaultValue:!1},{key:"enable-top-traders-in-explore",defaultValue:!1,devDefaultValue:!0},{key:"enable-top-traders-in-feed",defaultValue:!1,devDefaultValue:!0},{key:"enable-social-feed-nux",defaultValue:!1,devDefaultValue:!0},{key:"enable-internal-perps-actions",defaultValue:!1,devDefaultValue:!0},{key:"enable-ext-swap-commands",defaultValue:!1,devDefaultValue:!0},{key:"enable-custom-tips",defaultValue:!1,devDefaultValue:!0},{key:"enable-ngs-bridging",defaultValue:!1,devDefaultValue:!0},{key:"enable-perps",defaultValue:!1,devDefaultValue:!0},{key:"enable-remove-swap-cta",defaultValue:!1,devDefaultValue:!1},{key:"enable-perps-manual-retry",defaultValue:!1,devDefaultValue:!0},{key:"enable-share-perps-feedback",defaultValue:!1,devDefaultValue:!0},{key:"enable-be-swapper-max-amount",defaultValue:!1,devDefaultValue:!0},{key:"enable-classic-swapper-ext",defaultValue:!1,devDefaultValue:!0},{key:"enable-force-upgrade",defaultValue:!1,isLegacyStringBoolean:!0},{key:"enable-kyc",defaultValue:!1,devDefaultValue:!0},{key:"enable-onboarding-claim-username-dropoff",defaultValue:!1},{key:"enable-seedless-pin-verification-interstitial",defaultValue:!1,devDefaultValue:!0},{key:"enable-synced-storage",defaultValue:!1,devDefaultValue:!0},{key:"enable-braze-notification-settings",defaultValue:!1,devDefaultValue:!0},{key:"enable-delete-seedless-bundle",defaultValue:!1,devDefaultValue:!0},{key:"enable-withdraw-sol",defaultValue:!1,devDefaultValue:!0},{key:"enable-liquid-staking-rewards-card",defaultValue:!1,devDefaultValue:!0},{key:"enable-psol-convert-banner",defaultValue:!1,devDefaultValue:!0},{key:"enable-deposit-psol-with-kamino-link",defaultValue:!1,devDefaultValue:!0},{key:"enable-uk-staking-disclaimers",defaultValue:!1,devDefaultValue:!0},{key:"always-show-all-sites-permissions",defaultValue:!1},{key:"enable-arbitrum",defaultValue:!1,devDefaultValue:!0},{key:"enable-cash",defaultValue:!1,devDefaultValue:!0},{key:"enable-bug-reporter",defaultValue:!1,devDefaultValue:!0},{key:"enable-buy-flow-warning",defaultValue:!1},{key:"enable-onboarding-aa",defaultValue:!1},{key:"enable-cash-waitlist",defaultValue:!1,devDefaultValue:!1}]),eJ=XQ("general",[{key:"feed-feedback-link",type:"string",nullable:!0},{key:"seedless-pin-verification-timer-in-ms",type:"number",nullable:!0},{key:"latest-terms-of-service-version-number",type:"string",nullable:!0},{key:"sui-gas-budget-multiplier",type:"string",nullable:!0},{key:"frontend-transaction-sharing-delay-ms",type:"number",nullable:!0},{key:"psol-popup-copy-test",type:"string",nullable:!0},{key:"swapper-poll-interval-json",type:"object",nullable:!0},{key:"swapper-high-slippage-threshold",type:"string",nullable:!0},{key:"enabled-ugc-programs",type:"object",nullable:!0},{key:"transactions-simulation-interval-ms",type:"string",nullable:!0},{key:"explore-config",type:"object",nullable:!0},{key:"auto-confirm-session-duration",type:"number",nullable:!1,defaultValue:7200},{key:"wallet-balance-background-foreground-timer",type:"string",nullable:!0},{key:"network-logger-config-json",type:"object",nullable:!0}]),l8=JQ("general",["kill-action-banners","kill-frontend-server-time","kill-frontend-local-check",{key:"kill-automatic-approval",isLegacyStringBoolean:!0},"kill-clickjack-protection","kill-base-history","kill-blowfish-blocklist-cursor","kill-collectibles","kill-explore","kill-extension-storage-integrity-check","kill-dynamic-price-in-explore","kill-ledger-xpub-derivation","kill-phantom-validator",{key:"kill-previous-blocklist",isLegacyStringBoolean:!0},"kill-send-simulation","kill-sui-default-on-modal","kill-swapper",{key:"kill-swapper-simulation",isLegacyStringBoolean:!0},"kill-vault-secure-cache","kill-liquid-staking-convert","kill-suins","kill-perps-funding","kill-perps-withdrawal","kill-perps-swap-funding"]);d();h();var tJ=Vs(t=>({data:t.map(r=>r.startsWith("kill-")?l8(r):f8(r)),isLoading:!1,isFetched:!0})),uv={isFeatureEnabled(t){return t==="enabled-ugc-programs"?!0:z1(()=>t.startsWith("kill-")?l8(t):f8(t))},isFeatureEnabledAsync(t){return t.startsWith("kill-")?D4(l8,t):D4(f8,t)},getMultivariateAssignment(t,e){let r=z1(()=>eJ(t));return typeof r=="string"||r===null?r:JSON.stringify(r)}};d();h();d();h();var Ext=T.EPPO_API_KEY;d();h();d();h();var _xt="Error message ignored by logging middleware.",p4e=t=>({beforeEvent:(...[e,r])=>{for(let n of t)if((e instanceof Error?e.message:e)===n)throw new Error(_xt);return{value:e,...r.data?{data:r.data}:{}}},afterEvent:void 0});d();h();var Txt="Sensitive data detected by pki scanner. File logging blocked.",Ixt=["seed","mnemonic","seedAndMnemonic","ObfuscatedBytes"],m4e=new RegExp(`(${Ixt.join("|")})`,"mi"),bS={beforeEvent:(...[t,e])=>{let r=t instanceof Error?t.message:t;if(m4e.test(r)||e.data&&m4e.test(JSON.stringify(e.data)))throw new Error(Txt);return{value:t,...e.data?{data:e.data}:{}}},afterEvent:void 0};var Mxt=["premature close"],kxt=p4e(Mxt),fv=class extends Error{constructor(e="File logger uninitialized. Call fileLogger.init() before calling other functions."){super(e)}};function Pxt(t=[]){let e=null;async function r({provider:l}){await l.init(),e={provider:l}}async function n(l){if(!e)throw new fv;return e.provider.downloadLog(l)}async function i(){if(!e)throw new fv;return e.provider.getLogFilePaths()}async function o(){if(!e)throw new fv;return e.provider.getRecentLogs()}async function s(l){if(!e)throw new fv;return e.provider.sendLogFilesByEmail(l)}function c(l,m,w,b){if(!e)throw new fv;for(let E of t)if(E?.beforeEvent!==void 0)try{E.beforeEvent(l,{featureTag:m,severity:w})}catch(I){eu()&&I instanceof Error&&console.warn(I.message);return}e.provider.write(l,m,w,b);for(let E of t)if(E?.afterEvent!==void 0)try{E.afterEvent(l,{featureTag:m,severity:w})}catch(I){eu()&&I instanceof Error&&console.warn(I.message);return}}return{init:r,downloadLog:n,getLogFilePaths:i,getRecentLogs:o,sendLogFilesByEmail:s,write:c}}var lv=Pxt([kxt,bS]);d();h();d();h();d();h();d();h();d();h();d();h();function vS(t,e,r){let n=r.getHandler(),i=Array.isArray(n)?n:[n];return y4e[t]>=y4e[r.getLevel()]&&i.includes(e)}var Gt={ok:"ok",debug:"debug",info:"info",notice:"notice",warn:"warn",error:"error",critical:"critical",alert:"alert",emerg:"emerg"},y4e={[Gt.ok]:0,[Gt.debug]:1,[Gt.info]:2,[Gt.notice]:4,[Gt.warn]:5,[Gt.error]:6,[Gt.critical]:7,[Gt.alert]:8,[Gt.emerg]:9};d();h();function Xy(t,{includeMessage:e=!1}={}){return{stack:t.stack,kind:t.type,message:e?t.message:void 0,causes:t.causes,fingerprint:t.fingerprint,handling:t.handling}}var Bxt=function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(s=t[c])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o},dv={console:"console",http:"http",silent:"silent"},g4e=Object.keys(Gt),ka=class{constructor(e,r,n=dv.http,i=Gt.debug,o={}){this.handleLogStrategy=e,this.handlerType=n,this.level=i,this.contextManager=Cx("logger"),this.contextManager.setContext(o),r&&this.contextManager.setContextProperty("logger",{name:r})}logImplementation(e,r,n=Gt.info,i,o){let s=Px(r),c;if(i!=null){let l=gae({stackTrace:vae(i)?fI(i):void 0,originalError:i,nonErrorPrefix:"Provided",source:ra.LOGGER,handling:"handled",startClocks:sae()});c=Bx({error:Xy(l,{includeMessage:!0})},s)}else c=s;this.handleLogStrategy({message:Px(e),context:c,status:n},this,o)}log(e,r,n=Gt.info,i){let o;vS(n,dv.http,this)&&(o=KF("log")),this.logImplementation(e,r,n,i,o)}setContext(e){this.contextManager.setContext(e)}getContext(){return this.contextManager.getContext()}setContextProperty(e,r){this.contextManager.setContextProperty(e,r)}removeContextProperty(e){this.contextManager.removeContextProperty(e)}clearContext(){this.contextManager.clearContext()}setHandler(e){this.handlerType=e}getHandler(){return this.handlerType}setLevel(e){this.level=e}getLevel(){return this.level}};Bxt([uae],ka.prototype,"logImplementation",null);ka.prototype.ok=ip(Gt.ok);ka.prototype.debug=ip(Gt.debug);ka.prototype.info=ip(Gt.info);ka.prototype.notice=ip(Gt.notice);ka.prototype.warn=ip(Gt.warn);ka.prototype.error=ip(Gt.error);ka.prototype.critical=ip(Gt.critical);ka.prototype.alert=ip(Gt.alert);ka.prototype.emerg=ip(Gt.emerg);function ip(t){return function(e,r,n){let i;vS(t,dv.http,this)&&(i=KF("log")),this.logImplementation(e,r,t,n,i)}}d();h();function b4e(t,e,r){return{view:{referrer:document.referrer,url:self.location.href},context:t.getContext(),user:e.getContext(),account:r.getContext()}}d();h();d();h();var Cxt=32*1024;function x4e(t){t.usePciIntake===!0&&t.site&&t.site!=="datadoghq.com"&&Sd.warn("PCI compliance for Logs is only available for Datadog organizations in the US1 site. Default intake will be used.");let e=hae(t),r=v4e(t.forwardConsoleLogs,qF(yo),"Forward Console Logs"),n=v4e(t.forwardReports,qF(Sae),"Forward Reports");if(!(!e||!r||!n))return t.forwardErrorsToLogs&&!r.includes(yo.error)&&r.push(yo.error),{forwardErrorsToLogs:t.forwardErrorsToLogs!==!1,forwardConsoleLogs:r,forwardReports:n,requestErrorResponseLengthLimit:Cxt,...e}}function v4e(t,e,r){if(t===void 0)return[];if(!(t==="all"||Array.isArray(t)&&t.every(n=>e.includes(n)))){Sd.error(`${r} should be "all" or an array with allowed values "${e.join('", "')}"`);return}return t==="all"?e:Tae(t)}function w4e(t){let e=pae(t);return{forward_errors_to_logs:t.forwardErrorsToLogs,forward_console_logs:t.forwardConsoleLogs,forward_reports:t.forwardReports,use_pci_intake:t.usePciIntake,...e}}function S4e(t,e,r){let n=Iae(),i,o,s=e.observable.subscribe(c);function c(){if(!o||!i||!e.isGranted())return;s.unsubscribe();let l=r(i,o);n.drain(l)}return{init(l){if(!l){Sd.error("Missing configuration");return}if(mae(l.enableExperimentalFeatures),Zh()&&(l=Oxt(l)),i=l,o){dI("DD_LOGS",l);return}let m=x4e(l);m&&(o=m,yI().subscribe(tu),e.tryToInit(m.trackingConsent),c())},get initConfiguration(){return i},getInternalContext:tu,handleLog(l,m,w,b=t(),E=jp()){n.add(I=>I.handleLog(l,m,w,b,E))}}}function Oxt(t){return{...t,clientToken:"empty"}}var rJ="logs";function A4e(t){let e=Cx("global context"),r=Cx("user",{propertiesConfig:{id:{type:"string"},name:{type:"string"},email:{type:"string"}}}),n=Cx("account",{propertiesConfig:{id:{type:"string",required:!0},name:{type:"string"}}}),i=lae();function o(){return b4e(e,r,n)}let s=S4e(o,i,(m,w)=>{m.storeContextsAcrossPages&&(gI(w,e,rJ,2),gI(w,r,rJ,1),gI(w,n,rJ,4));let b=t(m,w,o,i);return s=Nxt(m,b),b}),c={},l=new ka((...m)=>s.handleLog(...m));return wae({logger:l,init:hi(m=>s.init(m)),setTrackingConsent:hi(m=>{i.update(m),Rae({feature:"set-tracking-consent",tracking_consent:m})}),getGlobalContext:hi(()=>e.getContext()),setGlobalContext:hi(m=>e.setContext(m)),setGlobalContextProperty:hi((m,w)=>e.setContextProperty(m,w)),removeGlobalContextProperty:hi(m=>e.removeContextProperty(m)),clearGlobalContext:hi(()=>e.clearContext()),createLogger:hi((m,w={})=>(c[m]=new ka((...b)=>s.handleLog(...b),Px(m),w.handler,w.level,Px(w.context)),c[m])),getLogger:hi(m=>c[m]),getInitConfiguration:hi(()=>_ae(s.initConfiguration)),getInternalContext:hi(m=>s.getInternalContext(m)),setUser:hi(r.setContext),getUser:hi(r.getContext),setUserProperty:hi(r.setContextProperty),removeUserProperty:hi(r.removeContextProperty),clearUser:hi(r.clearContext),setAccount:hi(n.setContext),getAccount:hi(n.getContext),setAccountProperty:hi(n.setContextProperty),removeAccountProperty:hi(n.removeContextProperty),clearAccount:hi(n.clearContext)})}function Nxt(t,e){return{init:r=>{dI("DD_LOGS",r)},initConfiguration:t,...e}}d();h();d();h();var Dxt="logs";function E4e(t,e){let r=Cae(t,Dxt,n=>Uxt(t,n),e);return{findTrackedSession:(n,i={returnInactive:!1})=>{let o=r.findSession(n,i);return o&&o.trackingType==="1"?{id:o.id,anonymousId:o.anonymousId}:void 0},expireObservable:r.expireObservable}}function _4e(t){let r=T4e(t)==="1"?{}:void 0;return{findTrackedSession:()=>r,expireObservable:new uI}}function T4e(t){return cI(t.sessionSampleRate)?"1":"0"}function Uxt(t,e){let r=Lxt(e)?e:T4e(t);return{trackingType:r,isTracked:r==="1"}}function Lxt(t){return t==="0"||t==="1"}d();h();d();h();var I4e=!1;function xS(t){let e=self;if(bI()){let n=r(e.DD_RUM_SYNTHETICS);return!n&&!I4e&&(I4e=!0,zp("Logs sent before RUM is injected by the synthetics worker",{testId:jae(),resultId:zae()})),n}return r(e.DD_RUM);function r(n){if(n&&n.getInternalContext)return n.getInternalContext(t)}}function M4e(t,e,r,n,i){let o=g4e.concat(["custom"]),s={};o.forEach(c=>{s[c]=Fae(c,e.eventRateLimiterThreshold,i)}),r.subscribe(0,({rawLogsEvent:c,messageContext:l=void 0,savedCommonContext:m=void 0,domainContext:w})=>{var b,E;let I=aae(c.date),M=t.findTrackedSession(I);if(!t.findTrackedSession(I,{returnInactive:!0}))return;let R=m||n(),B;!VF(R.account)&&R.account.id&&(B=R.account),M&&M.anonymousId&&!R.user.anonymous_id&&(R.user.anonymous_id=M.anonymousId);let U=Bx({service:e.service,session_id:M?M.id:void 0,session:M?{id:M.id}:void 0,usr:VF(R.user)?void 0:R.user,account:B,view:R.view},R.context,xS(I),c,l);((b=e.beforeSend)===null||b===void 0?void 0:b.call(e,U,w))===!1||U.origin!==ra.AGENT&&((E=s[U.status])!==null&&E!==void 0?E:s.custom).isLimitReached()||r.notify(1,U)})}d();h();var Fxt={[yo.log]:Gt.info,[yo.debug]:Gt.debug,[yo.info]:Gt.info,[yo.warn]:Gt.warn,[yo.error]:Gt.error};function k4e(t,e){let r=Kae(t.forwardConsoleLogs).subscribe(n=>{var i;let o={rawLogsEvent:{date:jp(),message:n.message,origin:ra.CONSOLE,error:n.error&&Xy(n.error),status:Fxt[n.api]},messageContext:(i=n.error)===null||i===void 0?void 0:i.context,domainContext:{handlingStack:n.handlingStack}};e.notify(0,o)});return{stop:()=>{r.unsubscribe()}}}d();h();function P4e(t,e){let r=Aae(t,t.forwardReports).subscribe(n=>{let i=n.message,o,s=n.originalError.type==="deprecation"?Gt.warn:Gt.error;s===Gt.error?o=Xy(n):n.stack&&(i+=` Found in ${bae(n.stack)}`),e.notify(0,{rawLogsEvent:{date:jp(),message:i,origin:ra.REPORT,error:o,status:s}})});return{stop:()=>{r.unsubscribe()}}}d();h();function B4e(t,e){if(!t.forwardErrorsToLogs)return{stop:tu};let r=qae(t).subscribe(o=>{o.state==="complete"&&i("xhr",o)}),n=yI().subscribe(o=>{o.state==="resolve"&&i("fetch",o)});function i(o,s){!dae(s.url)&&(Hxt(s)||Oae(s.status))&&("xhr"in s?Vxt(s.xhr,t,c):s.response?Kxt(s.response,t,c):s.error&&qxt(s.error,t,c));function c(l){let m={isAborted:s.isAborted,handlingStack:s.handlingStack};e.notify(0,{rawLogsEvent:{message:`${jxt(o)} error ${s.method} ${s.url}`,date:s.startClocks.timeStamp,error:{stack:l||"Failed to load",handling:void 0},http:{method:s.method,status_code:s.status,url:s.url},status:Gt.error,origin:ra.NETWORK},domainContext:m})}}return{stop:()=>{r.unsubscribe(),n.unsubscribe()}}}function Vxt(t,e,r){typeof t.response=="string"?r(nJ(t.response,e)):r(t.response)}function qxt(t,e,r){r(nJ(yae(fI(t)),e))}function Kxt(t,e,r){let n=Nae(t);!n||!n.body?r():self.TextDecoder?zxt(n.body,e.requestErrorResponseLengthLimit,(i,o)=>{r(i?`Unable to retrieve response: ${i}`:o)}):n.text().then(hi(i=>r(nJ(i,e))),hi(i=>r(`Unable to retrieve response: ${i}`)))}function Hxt(t){return t.status===0&&t.responseType!=="opaque"}function nJ(t,e){return t.length>e.requestErrorResponseLengthLimit?`${t.substring(0,e.requestErrorResponseLengthLimit)}...`:t}function jxt(t){return t==="xhr"?"XHR":"Fetch"}function zxt(t,e,r){Hae(t,(n,i,o)=>{if(n)r(n);else{let s=new TextDecoder().decode(i);o&&(s+="..."),r(void 0,s)}},{bytesLimit:e,collectStreamBody:!0})}d();h();function R4e(t,e){if(!t.forwardErrorsToLogs)return{stop:tu};let r=new uI,{stop:n}=xae(r),i=r.subscribe(o=>{e.notify(0,{rawLogsEvent:{message:o.message,date:o.startClocks.timeStamp,error:Xy(o),origin:ra.SOURCE,status:Gt.error},messageContext:o.context})});return{stop:()=>{n(),i.unsubscribe()}}}d();h();var C4e=Lae;d();h();function O4e(t){function e(r,n,i,o,s){let c=Bx(n.getContext(),r.context);if(vS(r.status,dv.console,n)&&Gxt(r,c),vS(r.status,dv.http,n)){let l={rawLogsEvent:{date:s||jp(),message:r.message,status:r.status,origin:ra.LOGGER},messageContext:c,savedCommonContext:o};i&&(l.domainContext={handlingStack:i}),t.notify(0,l)}}return{handleLog:e}}var Wxt={[Gt.ok]:yo.debug,[Gt.debug]:yo.debug,[Gt.info]:yo.info,[Gt.notice]:yo.info,[Gt.warn]:yo.warn,[Gt.error]:yo.error,[Gt.critical]:yo.error,[Gt.alert]:yo.error,[Gt.emerg]:yo.error};function Gxt({status:t,message:e},r){nae[Wxt[t]].call(rae,e,r)}d();h();function N4e(t,e,r,n,i){let o=mI(t,{endpoint:t.logsEndpointBuilder,encoder:Rx()},t.replica&&{endpoint:t.replica.logsEndpointBuilder,encoder:Rx()},r,n,i.expireObservable);return e.subscribe(1,s=>{o.add(s)}),o}d();h();function D4e(t){let e=pI();t.subscribe(1,r=>{e.send("log",r)})}d();h();function U4e(t){return{get:e=>{let r=t.findTrackedSession(e);if(r)return{session_id:r.id}}}}d();h();function L4e(t){return e=>{t.notify(0,{rawLogsEvent:{message:e.message,date:e.startClocks.timeStamp,origin:ra.AGENT,status:Gt.error}}),zp("Error reported to customer",{"error.message":e.message})}}d();h();function F4e(t,e,r,n,i){let o=Mae("browser-logs-sdk",e);o.setContextProvider(()=>{var c,l,m,w,b,E;return{application:{id:(c=xS())===null||c===void 0?void 0:c.application_id},session:{id:(l=i.findTrackedSession())===null||l===void 0?void 0:l.id},view:{id:(w=(m=xS())===null||m===void 0?void 0:m.view)===null||w===void 0?void 0:w.id},action:{id:(E=(b=xS())===null||b===void 0?void 0:b.user_action)===null||E===void 0?void 0:E.id}}});let s=[];if(Zh()){let c=pI(),l=o.observable.subscribe(m=>c.send("internal_telemetry",m));s.push(()=>l.unsubscribe())}else{let c=mI(e,{endpoint:e.rumEndpointBuilder,encoder:Rx()},e.replica&&{endpoint:e.replica.rumEndpointBuilder,encoder:Rx()},r,n,i.expireObservable);s.push(()=>c.stop());let l=o.observable.subscribe(m=>c.add(m,Pae(e)));s.push(()=>l.unsubscribe())}return kae(),Bae(w4e(t)),{telemetry:o,stop:()=>{s.forEach(c=>c())}}}function V4e(t,e,r,n){let i=new C4e,o=[];i.subscribe(1,E=>Eae("logs",E));let s=L4e(i),c=Uae(e),l=e.sessionStoreStrategyType&&!Zh()&&!bI()?E4e(e,n):_4e(e),{stop:m}=F4e(t,e,s,c,l);o.push(()=>m()),B4e(e,i),R4e(e,i),k4e(e,i),P4e(e,i);let{handleLog:w}=O4e(i);if(M4e(l,e,i,r,s),Zh())D4e(i);else{let{stop:E}=N4e(e,i,s,c,l);o.push(()=>E())}let b=U4e(l);return{handleLog:w,getInternalContext:b.get,stop:()=>{o.forEach(E=>E())}}}var eg=A4e(V4e);lI(kx(),"DD_LOGS",eg);d();h();d();h();d();h();d();h();function d8(t,e,r){let n=0,i=[],o,s=0,c=[],{stop:l}=n3(t,e,"message",({data:b})=>{if(b.type!=="wrote"||b.streamId!==r)return;n+=b.additionalBytesCount,i.push(b.result),o=b.trailer;let E=c.shift();E&&E.id===b.id?E.writeCallback?E.writeCallback(b.result.byteLength):E.finishCallback&&E.finishCallback():(l(),zp("Worker responses received out of order."))});function m(){let b=i.length===0?new Uint8Array(0):cae(i.concat(o)),E={rawBytesCount:n,output:b,outputBytesCount:b.byteLength,encoding:"deflate"};return n=0,i=[],E}function w(){s>0&&(e.postMessage({action:"reset",streamId:r}),s=0)}return{isAsync:!0,get isEmpty(){return s===0},write(b,E){e.postMessage({action:"write",id:s,data:b,streamId:r}),c.push({id:s,writeCallback:E,data:b}),s+=1},finish(b){w(),c.length?(c.forEach(E=>{delete E.writeCallback}),c[c.length-1].finishCallback=()=>b(m())):b(m())},finishSync(){w();let b=c.map(E=>(delete E.writeCallback,delete E.finishCallback,E.data)).join("");return{...m(),pendingData:b}},estimateEncodedBytesCount(b){return b.length/8},stop(){l()}}}d();h();d();h();function wS({configuredUrl:t,error:e,source:r,scriptType:n}){if(Sd.error(`${r} failed to start: an error occurred while initializing the ${n}:`,e),e instanceof Event||e instanceof Error&&$xt(e.message)){let i;t?i=`Please make sure the ${n} URL ${t} is correct and CSP is correctly configured.`:i="Please make sure CSP is correctly configured.",Sd.error(`${i} See documentation at ${iae}/integrations/content_security_policy_logs/#use-csp-with-real-user-monitoring-and-session-replay`)}else n==="worker"&&hI(e)}function $xt(t){return t.includes("Content Security Policy")||t.includes("requires 'TrustedScriptURL'")}var Yxt=30*oae;function q4e(t){return new Worker(t.workerUrl||URL.createObjectURL(new Blob(['(()=>{function t(t){const e=t.reduce(((t,e)=>t+e.length),0),a=new Uint8Array(e);let n=0;for(const e of t)a.set(e,n),n+=e.length;return a}function e(t){for(var e=t.length;--e>=0;)t[e]=0}var a=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),n=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),r=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),i=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=Array(576);e(s);var h=Array(60);e(h);var l=Array(512);e(l);var _=Array(256);e(_);var o=Array(29);e(o);var d,u,f,c=Array(30);function p(t,e,a,n,r){this.static_tree=t,this.extra_bits=e,this.extra_base=a,this.elems=n,this.max_length=r,this.has_stree=t&&t.length}function g(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}e(c);var v=function(t){return t<256?l[t]:l[256+(t>>>7)]},w=function(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},m=function(t,e,a){t.bi_valid>16-a?(t.bi_buf|=e<<t.bi_valid&65535,w(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=a-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=a)},b=function(t,e,a){m(t,a[2*e],a[2*e+1])},y=function(t,e){var a=0;do{a|=1&t,t>>>=1,a<<=1}while(--e>0);return a>>>1},z=function(t,e,a){var n,r,i=Array(16),s=0;for(n=1;n<=15;n++)i[n]=s=s+a[n-1]<<1;for(r=0;r<=e;r++){var h=t[2*r+1];0!==h&&(t[2*r]=y(i[h]++,h))}},k=function(t){var e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0},x=function(t){t.bi_valid>8?w(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},A=function(t,e,a,n){var r=2*e,i=2*a;return t[r]<t[i]||t[r]===t[i]&&n[e]<=n[a]},U=function(t,e,a){for(var n=t.heap[a],r=a<<1;r<=t.heap_len&&(r<t.heap_len&&A(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!A(e,n,t.heap[r],t.depth));)t.heap[a]=t.heap[r],a=r,r<<=1;t.heap[a]=n},B=function(t,e,r){var i,s,h,l,d=0;if(0!==t.last_lit)do{i=t.pending_buf[t.d_buf+2*d]<<8|t.pending_buf[t.d_buf+2*d+1],s=t.pending_buf[t.l_buf+d],d++,0===i?b(t,s,e):(h=_[s],b(t,h+256+1,e),0!==(l=a[h])&&(s-=o[h],m(t,s,l)),i--,h=v(i),b(t,h,r),0!==(l=n[h])&&(i-=c[h],m(t,i,l)))}while(d<t.last_lit);b(t,256,e)},I=function(t,e){var a,n,r,i=e.dyn_tree,s=e.stat_desc.static_tree,h=e.stat_desc.has_stree,l=e.stat_desc.elems,_=-1;for(t.heap_len=0,t.heap_max=573,a=0;a<l;a++)0!==i[2*a]?(t.heap[++t.heap_len]=_=a,t.depth[a]=0):i[2*a+1]=0;for(;t.heap_len<2;)i[2*(r=t.heap[++t.heap_len]=_<2?++_:0)]=1,t.depth[r]=0,t.opt_len--,h&&(t.static_len-=s[2*r+1]);for(e.max_code=_,a=t.heap_len>>1;a>=1;a--)U(t,i,a);r=l;do{a=t.heap[1],t.heap[1]=t.heap[t.heap_len--],U(t,i,1),n=t.heap[1],t.heap[--t.heap_max]=a,t.heap[--t.heap_max]=n,i[2*r]=i[2*a]+i[2*n],t.depth[r]=(t.depth[a]>=t.depth[n]?t.depth[a]:t.depth[n])+1,i[2*a+1]=i[2*n+1]=r,t.heap[1]=r++,U(t,i,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var a,n,r,i,s,h,l=e.dyn_tree,_=e.max_code,o=e.stat_desc.static_tree,d=e.stat_desc.has_stree,u=e.stat_desc.extra_bits,f=e.stat_desc.extra_base,c=e.stat_desc.max_length,p=0;for(i=0;i<=15;i++)t.bl_count[i]=0;for(l[2*t.heap[t.heap_max]+1]=0,a=t.heap_max+1;a<573;a++)(i=l[2*l[2*(n=t.heap[a])+1]+1]+1)>c&&(i=c,p++),l[2*n+1]=i,n>_||(t.bl_count[i]++,s=0,n>=f&&(s=u[n-f]),h=l[2*n],t.opt_len+=h*(i+s),d&&(t.static_len+=h*(o[2*n+1]+s)));if(0!==p){do{for(i=c-1;0===t.bl_count[i];)i--;t.bl_count[i]--,t.bl_count[i+1]+=2,t.bl_count[c]--,p-=2}while(p>0);for(i=c;0!==i;i--)for(n=t.bl_count[i];0!==n;)(r=t.heap[--a])>_||(l[2*r+1]!==i&&(t.opt_len+=(i-l[2*r+1])*l[2*r],l[2*r+1]=i),n--)}}(t,e),z(i,_,t.bl_count)},E=function(t,e,a){var n,r,i=-1,s=e[1],h=0,l=7,_=4;for(0===s&&(l=138,_=3),e[2*(a+1)+1]=65535,n=0;n<=a;n++)r=s,s=e[2*(n+1)+1],++h<l&&r===s||(h<_?t.bl_tree[2*r]+=h:0!==r?(r!==i&&t.bl_tree[2*r]++,t.bl_tree[32]++):h<=10?t.bl_tree[34]++:t.bl_tree[36]++,h=0,i=r,0===s?(l=138,_=3):r===s?(l=6,_=3):(l=7,_=4))},C=function(t,e,a){var n,r,i=-1,s=e[1],h=0,l=7,_=4;for(0===s&&(l=138,_=3),n=0;n<=a;n++)if(r=s,s=e[2*(n+1)+1],!(++h<l&&r===s)){if(h<_)do{b(t,r,t.bl_tree)}while(0!=--h);else 0!==r?(r!==i&&(b(t,r,t.bl_tree),h--),b(t,16,t.bl_tree),m(t,h-3,2)):h<=10?(b(t,17,t.bl_tree),m(t,h-3,3)):(b(t,18,t.bl_tree),m(t,h-11,7));h=0,i=r,0===s?(l=138,_=3):r===s?(l=6,_=3):(l=7,_=4)}},D=!1,M=function(t,e,a,n){m(t,0+(n?1:0),3),function(t,e,a){x(t),w(t,a),w(t,~a),t.pending_buf.set(t.window.subarray(e,e+a),t.pending),t.pending+=a}(t,e,a)},j=M,L=function(t,e,a,n){for(var r=65535&t,i=t>>>16&65535,s=0;0!==a;){a-=s=a>2e3?2e3:a;do{i=i+(r=r+e[n++]|0)|0}while(--s);r%=65521,i%=65521}return r|i<<16},S=new Uint32Array(function(){for(var t,e=[],a=0;a<256;a++){t=a;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[a]=t}return e}()),T=function(t,e,a,n){var r=S,i=n+a;t^=-1;for(var s=n;s<i;s++)t=t>>>8^r[255&(t^e[s])];return~t},O={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},q=j,F=function(t,e,a){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&a,t.last_lit++,0===e?t.dyn_ltree[2*a]++:(t.matches++,e--,t.dyn_ltree[2*(_[a]+256+1)]++,t.dyn_dtree[2*v(e)]++),t.last_lit===t.lit_bufsize-1},G=-2,H=258,J=262,K=103,N=113,P=666,Q=function(t,e){return t.msg=O[e],e},R=function(t){return(t<<1)-(t>4?9:0)},V=function(t){for(var e=t.length;--e>=0;)t[e]=0},W=function(t,e,a){return(e<<t.hash_shift^a)&t.hash_mask},X=function(t){var e=t.state,a=e.pending;a>t.avail_out&&(a=t.avail_out),0!==a&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+a),t.next_out),t.next_out+=a,e.pending_out+=a,t.total_out+=a,t.avail_out-=a,e.pending-=a,0===e.pending&&(e.pending_out=0))},Y=function(t,e){(function(t,e,a,n){var r,l,_=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,a=4093624447;for(e=0;e<=31;e++,a>>>=1)if(1&a&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),I(t,t.l_desc),I(t,t.d_desc),_=function(t){var e;for(E(t,t.dyn_ltree,t.l_desc.max_code),E(t,t.dyn_dtree,t.d_desc.max_code),I(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*i[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),r=t.opt_len+3+7>>>3,(l=t.static_len+3+7>>>3)<=r&&(r=l)):r=l=a+5,a+4<=r&&-1!==e?M(t,e,a,n):4===t.strategy||l===r?(m(t,2+(n?1:0),3),B(t,s,h)):(m(t,4+(n?1:0),3),function(t,e,a,n){var r;for(m(t,e-257,5),m(t,a-1,5),m(t,n-4,4),r=0;r<n;r++)m(t,t.bl_tree[2*i[r]+1],3);C(t,t.dyn_ltree,e-1),C(t,t.dyn_dtree,a-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,_+1),B(t,t.dyn_ltree,t.dyn_dtree)),k(t),n&&x(t)})(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,X(t.strm)},Z=function(t,e){t.pending_buf[t.pending++]=e},$=function(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},tt=function(t,e){var a,n,r=t.max_chain_length,i=t.strstart,s=t.prev_length,h=t.nice_match,l=t.strstart>t.w_size-J?t.strstart-(t.w_size-J):0,_=t.window,o=t.w_mask,d=t.prev,u=t.strstart+H,f=_[i+s-1],c=_[i+s];t.prev_length>=t.good_match&&(r>>=2),h>t.lookahead&&(h=t.lookahead);do{if(_[(a=e)+s]===c&&_[a+s-1]===f&&_[a]===_[i]&&_[++a]===_[i+1]){i+=2,a++;do{}while(_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&i<u);if(n=H-(u-i),i=u-H,n>s){if(t.match_start=e,s=n,n>=h)break;f=_[i+s-1],c=_[i+s]}}}while((e=d[e&o])>l&&0!=--r);return s<=t.lookahead?s:t.lookahead},et=function(t){var e,a,n,r,i,s,h,l,_,o,d=t.w_size;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=d+(d-J)){t.window.set(t.window.subarray(d,d+d),0),t.match_start-=d,t.strstart-=d,t.block_start-=d,e=a=t.hash_size;do{n=t.head[--e],t.head[e]=n>=d?n-d:0}while(--a);e=a=d;do{n=t.prev[--e],t.prev[e]=n>=d?n-d:0}while(--a);r+=d}if(0===t.strm.avail_in)break;if(s=t.strm,h=t.window,l=t.strstart+t.lookahead,_=r,o=void 0,(o=s.avail_in)>_&&(o=_),a=0===o?0:(s.avail_in-=o,h.set(s.input.subarray(s.next_in,s.next_in+o),l),1===s.state.wrap?s.adler=L(s.adler,h,o,l):2===s.state.wrap&&(s.adler=T(s.adler,h,o,l)),s.next_in+=o,s.total_in+=o,o),t.lookahead+=a,t.lookahead+t.insert>=3)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=W(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=W(t,t.ins_h,t.window[i+3-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<J&&0!==t.strm.avail_in)},at=function(t,e){for(var a,n;;){if(t.lookahead<J){if(et(t),t.lookahead<J&&0===e)return 1;if(0===t.lookahead)break}if(a=0,t.lookahead>=3&&(t.ins_h=W(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==a&&t.strstart-a<=t.w_size-J&&(t.match_length=tt(t,a)),t.match_length>=3)if(n=F(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=W(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=W(t,t.ins_h,t.window[t.strstart+1]);else n=F(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(Y(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,4===e?(Y(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Y(t,!1),0===t.strm.avail_out)?1:2},nt=function(t,e){for(var a,n,r;;){if(t.lookahead<J){if(et(t),t.lookahead<J&&0===e)return 1;if(0===t.lookahead)break}if(a=0,t.lookahead>=3&&(t.ins_h=W(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==a&&t.prev_length<t.max_lazy_match&&t.strstart-a<=t.w_size-J&&(t.match_length=tt(t,a),t.match_length<=5&&(1===t.strategy||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){r=t.strstart+t.lookahead-3,n=F(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=r&&(t.ins_h=W(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,n&&(Y(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((n=F(t,0,t.window[t.strstart-1]))&&Y(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=F(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,4===e?(Y(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Y(t,!1),0===t.strm.avail_out)?1:2};function rt(t,e,a,n,r){this.good_length=t,this.max_lazy=e,this.nice_length=a,this.max_chain=n,this.func=r}var it=[new rt(0,0,0,0,(function(t,e){var a=65535;for(a>t.pending_buf_size-5&&(a=t.pending_buf_size-5);;){if(t.lookahead<=1){if(et(t),0===t.lookahead&&0===e)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+a;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,Y(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-J&&(Y(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(Y(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(Y(t,!1),t.strm.avail_out),1)})),new rt(4,4,8,4,at),new rt(4,5,16,8,at),new rt(4,6,32,32,at),new rt(4,4,16,16,nt),new rt(8,16,32,32,nt),new rt(8,16,128,128,nt),new rt(8,32,128,256,nt),new rt(32,128,258,1024,nt),new rt(32,258,258,4096,nt)];function st(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),V(this.dyn_ltree),V(this.dyn_dtree),V(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),V(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),V(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}for(var ht=function(t){var e,i=function(t){if(!t||!t.state)return Q(t,G);t.total_in=t.total_out=0,t.data_type=2;var e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:N,t.adler=2===e.wrap?0:1,e.last_flush=0,function(t){D||(function(){var t,e,i,g,v,w=Array(16);for(i=0,g=0;g<28;g++)for(o[g]=i,t=0;t<1<<a[g];t++)_[i++]=g;for(_[i-1]=g,v=0,g=0;g<16;g++)for(c[g]=v,t=0;t<1<<n[g];t++)l[v++]=g;for(v>>=7;g<30;g++)for(c[g]=v<<7,t=0;t<1<<n[g]-7;t++)l[256+v++]=g;for(e=0;e<=15;e++)w[e]=0;for(t=0;t<=143;)s[2*t+1]=8,t++,w[8]++;for(;t<=255;)s[2*t+1]=9,t++,w[9]++;for(;t<=279;)s[2*t+1]=7,t++,w[7]++;for(;t<=287;)s[2*t+1]=8,t++,w[8]++;for(z(s,287,w),t=0;t<30;t++)h[2*t+1]=5,h[2*t]=y(t,5);d=new p(s,a,257,286,15),u=new p(h,n,0,30,15),f=new p([],r,0,19,7)}(),D=!0),t.l_desc=new g(t.dyn_ltree,d),t.d_desc=new g(t.dyn_dtree,u),t.bl_desc=new g(t.bl_tree,f),t.bi_buf=0,t.bi_valid=0,k(t)}(e),0}(t);return 0===i&&((e=t.state).window_size=2*e.w_size,V(e.head),e.max_lazy_match=it[e.level].max_lazy,e.good_match=it[e.level].good_length,e.nice_match=it[e.level].nice_length,e.max_chain_length=it[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),i},lt=function(t,e){var a,n;if(!t||!t.state||e>5||e<0)return t?Q(t,G):G;var r=t.state;if(!t.output||!t.input&&0!==t.avail_in||r.status===P&&4!==e)return Q(t,0===t.avail_out?-5:G);r.strm=t;var i=r.last_flush;if(r.last_flush=e,42===r.status)if(2===r.wrap)t.adler=0,Z(r,31),Z(r,139),Z(r,8),r.gzhead?(Z(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),Z(r,255&r.gzhead.time),Z(r,r.gzhead.time>>8&255),Z(r,r.gzhead.time>>16&255),Z(r,r.gzhead.time>>24&255),Z(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),Z(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(Z(r,255&r.gzhead.extra.length),Z(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=T(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(Z(r,0),Z(r,0),Z(r,0),Z(r,0),Z(r,0),Z(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),Z(r,3),r.status=N);else{var h=8+(r.w_bits-8<<4)<<8;h|=(r.strategy>=2||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(h|=32),h+=31-h%31,r.status=N,$(r,h),0!==r.strstart&&($(r,t.adler>>>16),$(r,65535&t.adler)),t.adler=1}if(69===r.status)if(r.gzhead.extra){for(a=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>a&&(t.adler=T(t.adler,r.pending_buf,r.pending-a,a)),X(t),a=r.pending,r.pending!==r.pending_buf_size));)Z(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>a&&(t.adler=T(t.adler,r.pending_buf,r.pending-a,a)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(t.adler=T(t.adler,r.pending_buf,r.pending-a,a)),X(t),a=r.pending,r.pending===r.pending_buf_size)){n=1;break}n=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,Z(r,n)}while(0!==n);r.gzhead.hcrc&&r.pending>a&&(t.adler=T(t.adler,r.pending_buf,r.pending-a,a)),0===n&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(t.adler=T(t.adler,r.pending_buf,r.pending-a,a)),X(t),a=r.pending,r.pending===r.pending_buf_size)){n=1;break}n=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,Z(r,n)}while(0!==n);r.gzhead.hcrc&&r.pending>a&&(t.adler=T(t.adler,r.pending_buf,r.pending-a,a)),0===n&&(r.status=K)}else r.status=K;if(r.status===K&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&X(t),r.pending+2<=r.pending_buf_size&&(Z(r,255&t.adler),Z(r,t.adler>>8&255),t.adler=0,r.status=N)):r.status=N),0!==r.pending){if(X(t),0===t.avail_out)return r.last_flush=-1,0}else if(0===t.avail_in&&R(e)<=R(i)&&4!==e)return Q(t,-5);if(r.status===P&&0!==t.avail_in)return Q(t,-5);if(0!==t.avail_in||0!==r.lookahead||0!==e&&r.status!==P){var l=2===r.strategy?function(t,e){for(var a;;){if(0===t.lookahead&&(et(t),0===t.lookahead)){if(0===e)return 1;break}if(t.match_length=0,a=F(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,a&&(Y(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(Y(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Y(t,!1),0===t.strm.avail_out)?1:2}(r,e):3===r.strategy?function(t,e){for(var a,n,r,i,s=t.window;;){if(t.lookahead<=H){if(et(t),t.lookahead<=H&&0===e)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(n=s[r=t.strstart-1])===s[++r]&&n===s[++r]&&n===s[++r]){i=t.strstart+H;do{}while(n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&r<i);t.match_length=H-(i-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(a=F(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(a=F(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),a&&(Y(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(Y(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Y(t,!1),0===t.strm.avail_out)?1:2}(r,e):it[r.level].func(r,e);if(3!==l&&4!==l||(r.status=P),1===l||3===l)return 0===t.avail_out&&(r.last_flush=-1),0;if(2===l&&(1===e?function(t){m(t,2,3),b(t,256,s),function(t){16===t.bi_valid?(w(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}(r):5!==e&&(q(r,0,0,!1),3===e&&(V(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),X(t),0===t.avail_out))return r.last_flush=-1,0}return 4!==e?0:r.wrap<=0?1:(2===r.wrap?(Z(r,255&t.adler),Z(r,t.adler>>8&255),Z(r,t.adler>>16&255),Z(r,t.adler>>24&255),Z(r,255&t.total_in),Z(r,t.total_in>>8&255),Z(r,t.total_in>>16&255),Z(r,t.total_in>>24&255)):($(r,t.adler>>>16),$(r,65535&t.adler)),X(t),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?0:1)},_t=function(t){if(!t||!t.state)return G;var e=t.state.status;return 42!==e&&69!==e&&73!==e&&91!==e&&e!==K&&e!==N&&e!==P?Q(t,G):(t.state=null,e===N?Q(t,-3):0)},ot=new Uint8Array(256),dt=0;dt<256;dt++)ot[dt]=dt>=252?6:dt>=248?5:dt>=240?4:dt>=224?3:dt>=192?2:1;ot[254]=ot[254]=1;var ut=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},ft=Object.prototype.toString;function ct(){this.options={level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0};var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ut,this.strm.avail_out=0;var e,a,n=function(t,e,a,n,r,i){if(!t)return G;var s=1;if(-1===e&&(e=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),r<1||r>9||8!==a||n<8||n>15||e<0||e>9||i<0||i>4)return Q(t,G);8===n&&(n=9);var h=new st;return t.state=h,h.strm=t,h.wrap=s,h.gzhead=null,h.w_bits=n,h.w_size=1<<h.w_bits,h.w_mask=h.w_size-1,h.hash_bits=r+7,h.hash_size=1<<h.hash_bits,h.hash_mask=h.hash_size-1,h.hash_shift=~~((h.hash_bits+3-1)/3),h.window=new Uint8Array(2*h.w_size),h.head=new Uint16Array(h.hash_size),h.prev=new Uint16Array(h.w_size),h.lit_bufsize=1<<r+6,h.pending_buf_size=4*h.lit_bufsize,h.pending_buf=new Uint8Array(h.pending_buf_size),h.d_buf=1*h.lit_bufsize,h.l_buf=3*h.lit_bufsize,h.level=e,h.strategy=i,h.method=a,ht(t)}(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==n)throw Error(O[n]);if(t.header&&(e=this.strm,a=t.header,e&&e.state&&(2!==e.state.wrap||(e.state.gzhead=a))),t.dictionary){var r;if(r="[object ArrayBuffer]"===ft.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(n=function(t,e){var a=e.length;if(!t||!t.state)return G;var n=t.state,r=n.wrap;if(2===r||1===r&&42!==n.status||n.lookahead)return G;if(1===r&&(t.adler=L(t.adler,e,a,0)),n.wrap=0,a>=n.w_size){0===r&&(V(n.head),n.strstart=0,n.block_start=0,n.insert=0);var i=new Uint8Array(n.w_size);i.set(e.subarray(a-n.w_size,a),0),e=i,a=n.w_size}var s=t.avail_in,h=t.next_in,l=t.input;for(t.avail_in=a,t.next_in=0,t.input=e,et(n);n.lookahead>=3;){var _=n.strstart,o=n.lookahead-2;do{n.ins_h=W(n,n.ins_h,n.window[_+3-1]),n.prev[_&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=_,_++}while(--o);n.strstart=_,n.lookahead=2,et(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=h,t.input=l,t.avail_in=s,n.wrap=r,0}(this.strm,r)))throw Error(O[n]);this._dict_set=!0}}function pt(t,e,a){try{t.postMessage({type:"errored",error:e,streamId:a})}catch(n){t.postMessage({type:"errored",error:e+"",streamId:a})}}function gt(t){const e=t.strm.adler;return new Uint8Array([3,0,e>>>24&255,e>>>16&255,e>>>8&255,255&e])}ct.prototype.push=function(t,e){var a,n,r=this.strm,i=this.options.chunkSize;if(this.ended)return!1;for(n=e===~~e?e:!0===e?4:0,"[object ArrayBuffer]"===ft.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;)if(0===r.avail_out&&(r.output=new Uint8Array(i),r.next_out=0,r.avail_out=i),(2===n||3===n)&&r.avail_out<=6)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else{if(1===(a=lt(r,n)))return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),a=_t(this.strm),this.onEnd(a),this.ended=!0,0===a;if(0!==r.avail_out){if(n>0&&r.next_out>0)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else if(0===r.avail_in)break}else this.onData(r.output)}return!0},ct.prototype.onData=function(t){this.chunks.push(t)},ct.prototype.onEnd=function(t){0===t&&(this.result=function(t){for(var e=0,a=0,n=t.length;a<n;a++)e+=t[a].length;for(var r=new Uint8Array(e),i=0,s=0,h=t.length;i<h;i++){var l=t[i];r.set(l,s),s+=l.length}return r}(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},function(e=self){try{const a=new Map;e.addEventListener("message",(n=>{try{const r=function(e,a){switch(a.action){case"init":return{type:"initialized",version:"6.6.3"};case"write":{let n=e.get(a.streamId);n||(n=new ct,e.set(a.streamId,n));const r=n.chunks.length,i=function(t){if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);let e,a,n,r,i,s=t.length,h=0;for(r=0;r<s;r++)a=t.charCodeAt(r),55296==(64512&a)&&r+1<s&&(n=t.charCodeAt(r+1),56320==(64512&n)&&(a=65536+(a-55296<<10)+(n-56320),r++)),h+=a<128?1:a<2048?2:a<65536?3:4;for(e=new Uint8Array(h),i=0,r=0;i<h;r++)a=t.charCodeAt(r),55296==(64512&a)&&r+1<s&&(n=t.charCodeAt(r+1),56320==(64512&n)&&(a=65536+(a-55296<<10)+(n-56320),r++)),a<128?e[i++]=a:a<2048?(e[i++]=192|a>>>6,e[i++]=128|63&a):a<65536?(e[i++]=224|a>>>12,e[i++]=128|a>>>6&63,e[i++]=128|63&a):(e[i++]=240|a>>>18,e[i++]=128|a>>>12&63,e[i++]=128|a>>>6&63,e[i++]=128|63&a);return e}(a.data);return n.push(i,2),{type:"wrote",id:a.id,streamId:a.streamId,result:t(n.chunks.slice(r)),trailer:gt(n),additionalBytesCount:i.length}}case"reset":e.delete(a.streamId)}}(a,n.data);r&&e.postMessage(r)}catch(t){pt(e,t,n.data&&"streamId"in n.data?n.data.streamId:void 0)}}))}catch(t){pt(e,t)}}()})();'])))}var fo={status:0};function h8(t,e,r,n=q4e){switch(fo.status===0&&Zxt(t,e,n),fo.status){case 1:return fo.initializationFailureCallbacks.push(r),fo.worker;case 3:return fo.worker}}function OC(){return fo.status}function Zxt(t,e,r=q4e){try{let n=r(t),{stop:i}=n3(t,n,"error",c=>{iJ(t,e,c)}),{stop:o}=n3(t,n,"message",({data:c})=>{c.type==="errored"?iJ(t,e,c.error,c.streamId):c.type==="initialized"&&Jxt(c.version)});n.postMessage({action:"init"}),fae(()=>Qxt(e),Yxt),fo={status:1,worker:n,stop:()=>{i(),o()},initializationFailureCallbacks:[]}}catch(n){iJ(t,e,n)}}function Qxt(t){fo.status===1&&(Sd.error(`${t} failed to start: a timeout occurred while initializing the Worker`),fo.initializationFailureCallbacks.forEach(e=>e()),fo={status:2})}function Jxt(t){fo.status===1&&(fo={status:3,worker:fo.worker,stop:fo.stop,version:t})}function iJ(t,e,r,n){fo.status===1||fo.status===0?(wS({configuredUrl:t.workerUrl,error:r,source:e,scriptType:"worker"}),fo.status===1&&fo.initializationFailureCallbacks.forEach(i=>i()),fo={status:2}):hI(r,{worker_version:fo.status===3&&fo.version,stream_id:n})}d();h();function NC(){return typeof Array.from=="function"&&typeof CSSSupportsRule=="function"&&typeof URL.createObjectURL=="function"&&"forEach"in NodeList.prototype}d();h();d();h();function K4e(t,e,r,n){let i=e.findTrackedSession(),o=Xxt(i,n),s=r.findView();return $ae(t,{viewContext:s,errorType:o,session:i})}function Xxt(t,e){if(!NC())return"browser-not-supported";if(!t)return"rum-not-tracked";if(t.sessionReplay===0)return"incorrect-session-plan";if(!e)return"replay-not-started"}function H4e(t,e,r,n,i,o){let s=0,c;e.subscribe(9,()=>{(s===2||s===3)&&(w(),s=1)}),e.subscribe(10,()=>{s===1&&m()});let l=async()=>{let[b]=await Promise.all([i(),Vae(t,"interactive")]);if(s!==2)return;let E=o();if(!E||!b){s=0;return}({stop:c}=b(e,t,r,n,E)),s=3};function m(b){let E=r.findTrackedSession();if(ewt(E,b)){s=1;return}twt(s)||(s=2,l().catch(r3),rwt(E,b)&&r.setForcedReplay())}function w(){s===3&&c?.(),s=0}return{start:m,stop:w,getSessionReplayLink(){return K4e(t,r,n,s!==0)},isRecording:()=>s===3}}function ewt(t,e){return!t||t.sessionReplay===0&&(!e||!e.force)}function twt(t){return t===2||t===3}function rwt(t,e){return e&&e.force&&t.sessionReplay===0}d();h();function j4e(){let t=0;return{strategy:{start(){t=1},stop(){t=2},isRecording:()=>!1,getSessionReplayLink:tu},shouldStartImmediately(e){return t===1||t===0&&!e.startSessionReplayRecordingManually}}}function z4e(t,e){if(Zh()&&!Dae("records")||!NC())return{start:tu,stop:tu,getReplayStats:()=>{},onRumStart:tu,isRecording:()=>!1,getSessionReplayLink:()=>{}};let{strategy:r,shouldStartImmediately:n}=j4e();return{start:o=>r.start(o),stop:()=>r.stop(),getSessionReplayLink:()=>r.getSessionReplayLink(),onRumStart:i,isRecording:()=>OC()===3&&r.isRecording(),getReplayStats:o=>OC()===3?Yae(o):void 0};function i(o,s,c,l,m){let w;function b(){return w||(m??(m=h8(s,"Datadog Session Replay",()=>{r.stop()},e)),m&&(w=d8(s,m,1))),w}r=H4e(s,o,c,l,t,b),n(s)&&r.start()}}d();h();async function W4e(t=nwt){try{return await t()}catch(e){wS({error:e,source:"Recorder",scriptType:"module"})}}async function nwt(){return(await import("./startRecording-4IFME6YA.js")).startRecording}d();h();d();h();function G4e(){return kx().Profiler!==void 0}d();h();async function $4e(t=iwt){try{return await t()}catch(e){wS({error:e,source:"Profiler",scriptType:"module"})}}async function iwt(){return(await import("./profiler-YXWQQDNE.js")).createRumProfiler}function Y4e(){let t;function e(r,n,i,o){!G4e()||!cI(n.profilingSampleRate)||$4e().then(s=>{if(!s){zp("[DD_RUM] Failed to lazy load the RUM Profiler");return}t=s(n,r,i),t.start(o.findView())}).catch(r3)}return{onRumStart:e,stop:()=>{t?.stop().catch(r3)}}}var owt=z4e(W4e),swt=Y4e(),SS=Wae(Gae,owt,swt,{startDeflateWorker:h8,createDeflateEncoder:d8});lI(kx(),"DD_RUM",SS);d();h();d();h();var p8={init:async(t,e)=>{},captureError:(t,e)=>{},captureMessage:(t,e,r="info")=>{},addBreadcrumb:(t,e,r)=>{},setUser:async t=>{},setTags:async t=>{},captureMetric:async(t,e,r)=>{},startSpan:(t,e)=>{let r=e();return Promise.resolve(r)},startInactiveSpan:t=>{}};d();h();var op=t=>{switch(t){case"collectibles":case"magicEden":case"fungibles":case"staking":case"swapper":case"perps":case"prices":case"webTokenPage":case"webExplorePage":case"tokens":case"webTokensSitemap":return"PD";case"autoConfirm":case"deepLinks":case"dappBrowser":case"dappRegistry":case"network":case"transaction":case"provider":case"history":case"trustedApps":case"simulation":case"mobileEmbedded":return"WP";case"webAppPage":case"account":case"Auth":case"actionBanner":case"authentication":case"ledger":case"se*dless":case"settings":case"onRamp":case"migration":case"mobileWalletAdapter":case"generic":case"startUp":case"webPortal":case"notifications":case"webPublicSite":return"IO";case"bugReporter":case"storage":case"fileLogger":case"featureFlags":case"performance":return"PL";case"safeguard":return"TRA";case"profiles":case"feed":case"feedNotifications":case"webUserPage":case"userSearch":return"SOC";case"cashAccount":case"cashTransfer":return"CASH"}};d();h();var DC;function Z4e(){return DC===void 0&&(typeof process<"u"&&T?DC=T.DATADOG_CLIENT_TOKEN:typeof self<"u"&&self.process?.env&&(DC=self.process.env.DATADOG_CLIENT_TOKEN)),DC}var cwt={init:async(t,{datadog:e})=>{if(!e.enabled)return;let r=e.clientToken||Z4e();if(!r)throw new Error("[DatadogProvider#init] Missing client token");let n=t.mode==="debug"?100:e.traceSampleRate,i=t.mode==="debug"?100:e.sessionSampleRate;SS.init({applicationId:e.applicationId,clientToken:r,service:e.service,version:t3,env:t.env,allowedTracingUrls:[/https?:\/\/([a-zA-Z0-9.-]+\.)?phantom\.app(\/|$)/],traceSampleRate:n,sessionSampleRate:i,enablePrivacyForActionName:!0,silentMultipleInit:!0,trackAnonymousUser:!1}),eg.init({clientToken:r,service:e.service,env:t.env,forwardErrorsToLogs:!0,sessionSampleRate:i,version:t3,silentMultipleInit:!0,trackAnonymousUser:!1})},captureError:(t,e)=>{oJ(t.message,"error",{feature:e,team:op(e)},t)},captureMessage:(t,e,r="info")=>{oJ(t,r,{feature:e,team:op(e)})},addBreadcrumb:(t,e,r,n={})=>{oJ(e,r,{category:t,...n})},setUser:async t=>{eg.setUser(t),SS.setUser(t)},setTags:async t=>{SS.setGlobalContext({tags:t}),eg.setGlobalContext({tags:t})},startSpan:(t,e)=>{let r=e();return Promise.resolve(r)},startInactiveSpan:()=>{},captureMetric:async(t,e,r)=>{}};function oJ(t,e,r,n){switch((e==="error"||e==="fatal")&&SS.addError(n??t,r),e){case"fatal":!n&&eg.logger.critical(t,{context:r});break;case"error":!n&&eg.logger.error(t,{context:r});break;case"info":eg.logger.info(t,{context:r},n);break;case"debug":break}}function uwt(){return typeof document<"u"}var UC=uwt()?cwt:p8;d();h();var LC=t=>({beforeEvent:(...[e,r])=>{let n={value:e,...r.data?{data:r.data}:{}};if(r.data?.skipFileLogger)return n;let i=e instanceof Error?e.message:e;return t.write(i,r.featureTag,r.severity,r.data),n},afterEvent:void 0});d();h();d();h();var fwt=/\b[123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz]{88}\b/g,lwt=/\b0x[a-fA-F0-9]{64}\b/g,dwt=/\b[123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz]{44}\b/g,hwt=/\b0x[a-fA-F0-9]{40}\b/g,Q4e={SOLANA_SIGNATURE:fwt,EVM_SIGNATURE:lwt,SOLANA_PUBKEY:dwt,EVM_PUBKEY:hwt},J4e=t=>Object.entries(t).reduce((e,[r,n])=>(typeof n=="string"?e[r]=FC(n):e[r]=n,e),{}),FC=t=>{let e=t;for(let r in Q4e){let n=Q4e[r];e=e.replace(n,"")}return e},pwt=t=>(t.message&&(t.message=FC(t.message)),t.cause&&typeof t.cause=="string"&&(t.cause=FC(t.cause)),t),X4e=t=>t instanceof Error?pwt(t):FC(t);var VC={beforeEvent:(...[t,e])=>({value:X4e(t),...e.data?{data:J4e(e.data)}:{}}),afterEvent:void 0};d();h();function qC(t,e){return{init:async(r,n)=>{await Promise.allSettled([t.init(r,n),e.init(r,n)])},captureError:(r,n)=>{hh(()=>t.captureError(r,n)),hh(()=>e.captureError(r,n))},captureMessage:(r,n,i="info")=>{hh(()=>t.captureMessage(r,n,i)),hh(()=>e.captureMessage(r,n,i))},addBreadcrumb:(r,n,i,o)=>{hh(()=>t.addBreadcrumb(r,n,i,o)),hh(()=>e.addBreadcrumb(r,n,i,o))},setUser:async r=>{await Promise.allSettled([t.setUser(r),e.setUser(r)])},setTags:async r=>{await Promise.allSettled([t.setTags(r),e.setTags(r)])},captureMetric:async(r,n,i)=>{hh(()=>e.captureMetric(r,n,i))},startSpan:(r,n)=>t.startSpan(r,()=>e.startSpan(r,n)),startInactiveSpan:r=>{let n=hh(()=>t.startInactiveSpan(r)),i=hh(()=>e.startInactiveSpan(r));if(!(!n&&!i))return Promise.resolve({end:()=>mwt(n,i)})}}}function hh(t){try{return t()}catch(e){eu()&&console.error("[MultiProvider] Error:",e);return}}function mwt(...t){for(let e of t)e&&hh(()=>e.then(r=>r.end()))}d();h();d();h();d();h();d();h();d();h();d();h();var Lt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;d();h();d();h();d();h();var Kl="8.55.0";var $t=globalThis;function tg(t,e,r){let n=r||$t,i=n.__SENTRY__=n.__SENTRY__||{},o=i[Kl]=i[Kl]||{};return o[t]||(o[t]=e())}d();h();d();h();var Cc=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;d();h();var ywt="Sentry Logger ",m8=["debug","info","warn","error","log","assert","trace"],AS={};function Oc(t){if(!("console"in $t))return t();let e=$t.console,r={},n=Object.keys(AS);n.forEach(i=>{let o=AS[i];r[i]=e[i],e[i]=o});try{return t()}finally{n.forEach(i=>{e[i]=r[i]})}}function gwt(){let t=!1,e={enable:()=>{t=!0},disable:()=>{t=!1},isEnabled:()=>t};return Cc?m8.forEach(r=>{e[r]=(...n)=>{t&&Oc(()=>{$t.console[r](`${ywt}[${r}]:`,...n)})}}):m8.forEach(r=>{e[r]=()=>{}}),e}var et=tg("logger",gwt);d();h();var ph="?",e8e=/\(error: (.*)\)/,t8e=/captureMessage|captureException/;function HC(...t){let e=t.sort((r,n)=>r[0]-n[0]).map(r=>r[1]);return(r,n=0,i=0)=>{let o=[],s=r.split(`
`);for(let c=n;c<s.length;c++){let l=s[c];if(l.length>1024)continue;let m=e8e.test(l)?l.replace(e8e,"$1"):l;if(!m.match(/\S*Error: /)){for(let w of e){let b=w(m);if(b){o.push(b);break}}if(o.length>=50+i)break}}return r8e(o.slice(i))}}function aJ(t){return Array.isArray(t)?HC(...t):t}function r8e(t){if(!t.length)return[];let e=Array.from(t);return/sentryWrapped/.test(KC(e).function||"")&&e.pop(),e.reverse(),t8e.test(KC(e).function||"")&&(e.pop(),t8e.test(KC(e).function||"")&&e.pop()),e.slice(0,50).map(r=>({...r,filename:r.filename||KC(e).filename,function:r.function||ph}))}function KC(t){return t[t.length-1]||{}}var sJ="<anonymous>";function Nc(t){try{return!t||typeof t!="function"?sJ:t.name||sJ}catch{return sJ}}function jC(t){let e=t.exception;if(e){let r=[];try{return e.values.forEach(n=>{n.stacktrace.frames&&r.push(...n.stacktrace.frames)}),r}catch{return}}}var zC={},n8e={};function Pa(t,e){zC[t]=zC[t]||[],zC[t].push(e)}function Ba(t,e){if(!n8e[t]){n8e[t]=!0;try{e()}catch(r){Cc&&et.error(`Error while instrumenting ${t}`,r)}}}function _o(t,e){let r=t&&zC[t];if(r)for(let n of r)try{n(e)}catch(i){Cc&&et.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${Nc(n)}
Error:`,i)}}var cJ=null;function y8(t){let e="error";Pa(e,t),Ba(e,bwt)}function bwt(){cJ=$t.onerror,$t.onerror=function(t,e,r,n,i){return _o("error",{column:n,error:i,line:r,msg:t,url:e}),cJ?cJ.apply(this,arguments):!1},$t.onerror.__SENTRY_INSTRUMENTED__=!0}d();h();var uJ=null;function g8(t){let e="unhandledrejection";Pa(e,t),Ba(e,vwt)}function vwt(){uJ=$t.onunhandledrejection,$t.onunhandledrejection=function(t){return _o("unhandledrejection",t),uJ?uJ.apply(this,arguments):!0},$t.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}d();h();d();h();d();h();function xu(){return b8($t),$t}function b8(t){let e=t.__SENTRY__=t.__SENTRY__||{};return e.version=e.version||Kl,e[Kl]=e[Kl]||{}}d();h();d();h();d();h();d();h();d();h();d();h();d();h();var i8e=Object.prototype.toString;function hv(t){switch(i8e.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return wu(t,Error)}}function ES(t,e){return i8e.call(t)===`[object ${e}]`}function WC(t){return ES(t,"ErrorEvent")}function GC(t){return ES(t,"DOMError")}function fJ(t){return ES(t,"DOMException")}function oc(t){return ES(t,"String")}function _S(t){return typeof t=="object"&&t!==null&&"__sentry_template_string__"in t&&"__sentry_template_values__"in t}function pv(t){return t===null||_S(t)||typeof t!="object"&&typeof t!="function"}function Hl(t){return ES(t,"Object")}function mv(t){return typeof Event<"u"&&wu(t,Event)}function lJ(t){return typeof Element<"u"&&wu(t,Element)}function dJ(t){return ES(t,"RegExp")}function jl(t){return!!(t&&t.then&&typeof t.then=="function")}function hJ(t){return Hl(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function wu(t,e){try{return t instanceof e}catch{return!1}}function v8(t){return!!(typeof t=="object"&&t!==null&&(t.__isVue||t._isVue))}var TS=$t,xwt=80;function Su(t,e={}){if(!t)return"<unknown>";try{let r=t,n=5,i=[],o=0,s=0,c=" > ",l=c.length,m,w=Array.isArray(e)?e:e.keyAttrs,b=!Array.isArray(e)&&e.maxStringLength||xwt;for(;r&&o++<n&&(m=wwt(r,w),!(m==="html"||o>1&&s+i.length*l+m.length>=b));)i.push(m),s+=m.length,r=r.parentNode;return i.reverse().join(c)}catch{return"<unknown>"}}function wwt(t,e){let r=t,n=[];if(!r||!r.tagName)return"";if(TS.HTMLElement&&r instanceof HTMLElement&&r.dataset){if(r.dataset.sentryComponent)return r.dataset.sentryComponent;if(r.dataset.sentryElement)return r.dataset.sentryElement}n.push(r.tagName.toLowerCase());let i=e&&e.length?e.filter(s=>r.getAttribute(s)).map(s=>[s,r.getAttribute(s)]):null;if(i&&i.length)i.forEach(s=>{n.push(`[${s[0]}="${s[1]}"]`)});else{r.id&&n.push(`#${r.id}`);let s=r.className;if(s&&oc(s)){let c=s.split(/\s+/);for(let l of c)n.push(`.${l}`)}}let o=["aria-label","type","name","title","alt"];for(let s of o){let c=r.getAttribute(s);c&&n.push(`[${s}="${c}"]`)}return n.join("")}function pJ(){try{return TS.document.location.href}catch{return""}}function mJ(t){return TS.document&&TS.document.querySelector?TS.document.querySelector(t):null}function x8(t){if(!TS.HTMLElement)return null;let e=t,r=5;for(let n=0;n<r;n++){if(!e)return null;if(e instanceof HTMLElement){if(e.dataset.sentryComponent)return e.dataset.sentryComponent;if(e.dataset.sentryElement)return e.dataset.sentryElement}e=e.parentNode}return null}d();h();function mh(t,e=0){return typeof t!="string"||e===0||t.length<=e?t:`${t.slice(0,e)}...`}function $C(t,e){if(!Array.isArray(t))return"";let r=[];for(let n=0;n<t.length;n++){let i=t[n];try{v8(i)?r.push("[VueViewModel]"):r.push(String(i))}catch{r.push("[value cannot be serialized]")}}return r.join(e)}function o8e(t,e,r=!1){return oc(t)?dJ(e)?e.test(t):oc(e)?r?t===e:t.includes(e):!1:!1}function yh(t,e=[],r=!1){return e.some(n=>o8e(t,n,r))}function Vo(t,e,r){if(!(e in t))return;let n=t[e],i=r(n);typeof i=="function"&&YC(i,n);try{t[e]=i}catch{Cc&&et.log(`Failed to replace method "${e}" in object`,t)}}function lo(t,e,r){try{Object.defineProperty(t,e,{value:r,writable:!0,configurable:!0})}catch{Cc&&et.log(`Failed to add non-enumerable property "${e}" to object`,t)}}function YC(t,e){try{let r=e.prototype||{};t.prototype=e.prototype=r,lo(t,"__sentry_original__",e)}catch{}}function yv(t){return t.__sentry_original__}function ZC(t){if(hv(t))return{message:t.message,name:t.name,stack:t.stack,...a8e(t)};if(mv(t)){let e={type:t.type,target:s8e(t.target),currentTarget:s8e(t.currentTarget),...a8e(t)};return typeof CustomEvent<"u"&&wu(t,CustomEvent)&&(e.detail=t.detail),e}else return t}function s8e(t){try{return lJ(t)?Su(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}}function a8e(t){if(typeof t=="object"&&t!==null){let e={};for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}else return{}}function gJ(t,e=40){let r=Object.keys(ZC(t));r.sort();let n=r[0];if(!n)return"[object has no keys]";if(n.length>=e)return mh(n,e);for(let i=r.length;i>0;i--){let o=r.slice(0,i).join(", ");if(!(o.length>e))return i===r.length?o:mh(o,e)}return""}function Qn(t){return yJ(t,new Map)}function yJ(t,e){if(Swt(t)){let r=e.get(t);if(r!==void 0)return r;let n={};e.set(t,n);for(let i of Object.getOwnPropertyNames(t))typeof t[i]<"u"&&(n[i]=yJ(t[i],e));return n}if(Array.isArray(t)){let r=e.get(t);if(r!==void 0)return r;let n=[];return e.set(t,n),t.forEach(i=>{n.push(yJ(i,e))}),n}return t}function Swt(t){if(!Hl(t))return!1;try{let e=Object.getPrototypeOf(t).constructor.name;return!e||e==="Object"}catch{return!0}}d();h();var c8e=1e3;function gh(){return Date.now()/c8e}function Awt(){let{performance:t}=$t;if(!t||!t.now)return gh;let e=Date.now()-t.now(),r=t.timeOrigin==null?e:t.timeOrigin;return()=>(r+t.now())/c8e}var ro=Awt(),w8,To=(()=>{let{performance:t}=$t;if(!t||!t.now){w8="none";return}let e=3600*1e3,r=t.now(),n=Date.now(),i=t.timeOrigin?Math.abs(t.timeOrigin+r-n):e,o=i<e,s=t.timing&&t.timing.navigationStart,l=typeof s=="number"?Math.abs(s+r-n):e,m=l<e;return o||m?i<=l?(w8="timeOrigin",t.timeOrigin):(w8="navigationStart",s):(w8="dateNow",n)})();d();h();function qo(){let t=$t,e=t.crypto||t.msCrypto,r=()=>Math.random()*16;try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(r=()=>{let n=new Uint8Array(1);return e.getRandomValues(n),n[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,n=>(n^(r()&15)>>n/4).toString(16))}function u8e(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}function zl(t){let{message:e,event_id:r}=t;if(e)return e;let n=u8e(t);return n?n.type&&n.value?`${n.type}: ${n.value}`:n.type||n.value||r||"<unknown>":r||"<unknown>"}function IS(t,e,r){let n=t.exception=t.exception||{},i=n.values=n.values||[],o=i[0]=i[0]||{};o.value||(o.value=e||""),o.type||(o.type=r||"Error")}function bh(t,e){let r=u8e(t);if(!r)return;let n={type:"generic",handled:!0},i=r.mechanism;if(r.mechanism={...n,...i,...e},e&&"data"in e){let o={...i&&i.data,...e.data};r.mechanism.data=o}}function QC(t){if(Ewt(t))return!0;try{lo(t,"__sentry_captured__",!0)}catch{}return!1}function Ewt(t){try{return t.__sentry_captured__}catch{}}d();h();var sp;(function(t){t[t.PENDING=0]="PENDING";let r=1;t[t.RESOLVED=r]="RESOLVED";let n=2;t[t.REJECTED=n]="REJECTED"})(sp||(sp={}));function Ff(t){return new Wl(e=>{e(t)})}function rg(t){return new Wl((e,r)=>{r(t)})}var Wl=class t{constructor(e){t.prototype.__init.call(this),t.prototype.__init2.call(this),t.prototype.__init3.call(this),t.prototype.__init4.call(this),this._state=sp.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(r){this._reject(r)}}then(e,r){return new t((n,i)=>{this._handlers.push([!1,o=>{if(!e)n(o);else try{n(e(o))}catch(s){i(s)}},o=>{if(!r)i(o);else try{n(r(o))}catch(s){i(s)}}]),this._executeHandlers()})}catch(e){return this.then(r=>r,e)}finally(e){return new t((r,n)=>{let i,o;return this.then(s=>{o=!1,i=s,e&&e()},s=>{o=!0,i=s,e&&e()}).then(()=>{if(o){n(i);return}r(i)})})}__init(){this._resolve=e=>{this._setResult(sp.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(sp.REJECTED,e)}}__init3(){this._setResult=(e,r)=>{if(this._state===sp.PENDING){if(jl(r)){r.then(this._resolve,this._reject);return}this._state=e,this._value=r,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===sp.PENDING)return;let e=this._handlers.slice();this._handlers=[],e.forEach(r=>{r[0]||(this._state===sp.RESOLVED&&r[1](this._value),this._state===sp.REJECTED&&r[2](this._value),r[0]=!0)})}}};function f8e(t){let e=ro(),r={sid:qo(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>_wt(r)};return t&&ap(r,t),r}function ap(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||ro(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:qo()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{let r=t.timestamp-t.started;t.duration=r>=0?r:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function l8e(t,e){let r={};e?r={status:e}:t.status==="ok"&&(r={status:"exited"}),ap(t,r)}function _wt(t){return Qn({sid:`${t.sid}`,init:t.init,started:new Date(t.started*1e3).toISOString(),timestamp:new Date(t.timestamp*1e3).toISOString(),status:t.status,errors:t.errors,did:typeof t.did=="number"||typeof t.did=="string"?`${t.did}`:void 0,duration:t.duration,abnormal_mechanism:t.abnormal_mechanism,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}})}d();h();function Dc(){return qo()}function Uc(){return qo().substring(16)}d();h();function MS(t,e,r=2){if(!e||typeof e!="object"||r<=0)return e;if(t&&e&&Object.keys(e).length===0)return t;let n={...t};for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=MS(n[i],e[i],r-1));return n}d();h();var bJ="_sentrySpan";function cp(t,e){e?lo(t,bJ,e):delete t[bJ]}function gv(t){return t[bJ]}var Twt=100,vJ=class t{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:Dc(),spanId:Uc()}}clone(){let e=new t;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,cp(e,gv(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&ap(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,r){return this._tags={...this._tags,[e]:r},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,r){return this._extra={...this._extra,[e]:r},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,r){return r===null?delete this._contexts[e]:this._contexts[e]=r,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;let r=typeof e=="function"?e(this):e,[n,i]=r instanceof Au?[r.getScopeData(),r.getRequestSession()]:Hl(r)?[e,e.requestSession]:[],{tags:o,extra:s,user:c,contexts:l,level:m,fingerprint:w=[],propagationContext:b}=n||{};return this._tags={...this._tags,...o},this._extra={...this._extra,...s},this._contexts={...this._contexts,...l},c&&Object.keys(c).length&&(this._user=c),m&&(this._level=m),w.length&&(this._fingerprint=w),b&&(this._propagationContext=b),i&&(this._requestSession=i),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,cp(this,void 0),this._attachments=[],this.setPropagationContext({traceId:Dc()}),this._notifyScopeListeners(),this}addBreadcrumb(e,r){let n=typeof r=="number"?r:Twt;if(n<=0)return this;let i={timestamp:gh(),...e};return this._breadcrumbs.push(i),this._breadcrumbs.length>n&&(this._breadcrumbs=this._breadcrumbs.slice(-n),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:gv(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=MS(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext={spanId:Uc(),...e},this}getPropagationContext(){return this._propagationContext}captureException(e,r){let n=r&&r.event_id?r.event_id:qo();if(!this._client)return et.warn("No client configured on scope - will not capture exception!"),n;let i=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:i,...r,event_id:n},this),n}captureMessage(e,r,n){let i=n&&n.event_id?n.event_id:qo();if(!this._client)return et.warn("No client configured on scope - will not capture message!"),i;let o=new Error(e);return this._client.captureMessage(e,r,{originalException:e,syntheticException:o,...n,event_id:i},this),i}captureEvent(e,r){let n=r&&r.event_id?r.event_id:qo();return this._client?(this._client.captureEvent(e,{...r,event_id:n},this),n):(et.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}},Au=vJ;function d8e(){return tg("defaultCurrentScope",()=>new Au)}function h8e(){return tg("defaultIsolationScope",()=>new Au)}var xJ=class{constructor(e,r){let n;e?n=e:n=new Au;let i;r?i=r:i=new Au,this._stack=[{scope:n}],this._isolationScope=i}withScope(e){let r=this._pushScope(),n;try{n=e(r)}catch(i){throw this._popScope(),i}return jl(n)?n.then(i=>(this._popScope(),i),i=>{throw this._popScope(),i}):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){let e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}};function kS(){let t=xu(),e=b8(t);return e.stack=e.stack||new xJ(d8e(),h8e())}function Iwt(t){return kS().withScope(t)}function Mwt(t,e){let r=kS();return r.withScope(()=>(r.getStackTop().scope=t,e(t)))}function p8e(t){return kS().withScope(()=>t(kS().getIsolationScope()))}function m8e(){return{withIsolationScope:p8e,withScope:Iwt,withSetScope:Mwt,withSetIsolationScope:(t,e)=>p8e(e),getCurrentScope:()=>kS().getScope(),getIsolationScope:()=>kS().getIsolationScope()}}function vh(t){let e=b8(t);return e.acs?e.acs:m8e()}d();h();function pr(){let t=xu();return vh(t).getCurrentScope()}function Ko(){let t=xu();return vh(t).getIsolationScope()}function JC(){return tg("globalScope",()=>new Au)}function ng(...t){let e=xu(),r=vh(e);if(t.length===2){let[n,i]=t;return n?r.withSetScope(n,i):r.withScope(i)}return r.withScope(t[0])}function Zt(){return pr().getClient()}function wJ(t){let e=t.getPropagationContext(),{traceId:r,spanId:n,parentSpanId:i}=e;return Qn({trace_id:r,span_id:n,parent_span_id:i})}d();h();var kwt="_sentryMetrics";function S8(t){let e=t[kwt];if(!e)return;let r={};for(let[,[n,i]]of e)(r[n]||(r[n]=[])).push(Qn(i));return r}d();h();var Ra="sentry.source",PS="sentry.sample_rate",sc="sentry.op",Jn="sentry.origin",BS="sentry.idle_span_finish_reason",ig="sentry.measurement_unit",og="sentry.measurement_value",A8="sentry.custom_span_name",SJ="sentry.profile_id",bv="sentry.exclusive_time";d();h();function AJ(t){if(t<400&&t>=100)return{code:1};if(t>=400&&t<500)switch(t){case 401:return{code:2,message:"unauthenticated"};case 403:return{code:2,message:"permission_denied"};case 404:return{code:2,message:"not_found"};case 409:return{code:2,message:"already_exists"};case 413:return{code:2,message:"failed_precondition"};case 429:return{code:2,message:"resource_exhausted"};case 499:return{code:2,message:"cancelled"};default:return{code:2,message:"invalid_argument"}}if(t>=500&&t<600)switch(t){case 501:return{code:2,message:"unimplemented"};case 503:return{code:2,message:"unavailable"};case 504:return{code:2,message:"deadline_exceeded"};default:return{code:2,message:"internal_error"}}return{code:2,message:"unknown_error"}}function RS(t,e){t.setAttribute("http.response.status_code",e);let r=AJ(e);r.message!=="unknown_error"&&t.setStatus(r)}d();h();d();h();var XC="sentry-",Pwt=/^sentry-/,Bwt=8192;function eO(t){let e=Rwt(t);if(!e)return;let r=Object.entries(e).reduce((n,[i,o])=>{if(i.match(Pwt)){let s=i.slice(XC.length);n[s]=o}return n},{});if(Object.keys(r).length>0)return r}function EJ(t){if(!t)return;let e=Object.entries(t).reduce((r,[n,i])=>(i&&(r[`${XC}${n}`]=i),r),{});return Cwt(e)}function Rwt(t){if(!(!t||!oc(t)&&!Array.isArray(t)))return Array.isArray(t)?t.reduce((e,r)=>{let n=y8e(r);return Object.entries(n).forEach(([i,o])=>{e[i]=o}),e},{}):y8e(t)}function y8e(t){return t.split(",").map(e=>e.split("=").map(r=>decodeURIComponent(r.trim()))).reduce((e,[r,n])=>(r&&n&&(e[r]=n),e),{})}function Cwt(t){if(Object.keys(t).length!==0)return Object.entries(t).reduce((e,[r,n],i)=>{let o=`${encodeURIComponent(r)}=${encodeURIComponent(n)}`,s=i===0?o:`${e},${o}`;return s.length>Bwt?(Cc&&et.warn(`Not adding key: ${r} with val: ${n} to baggage header due to exceeding baggage size limits.`),e):s},"")}var tO=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function g8e(t){if(!t)return;let e=t.match(tO);if(!e)return;let r;return e[3]==="1"?r=!0:e[3]==="0"&&(r=!1),{traceId:e[1],parentSampled:r,parentSpanId:e[2]}}function _J(t,e){let r=g8e(t),n=eO(e);if(!r||!r.traceId)return{traceId:Dc(),spanId:Uc()};let{traceId:i,parentSpanId:o,parentSampled:s}=r,c=Uc();return{traceId:i,parentSpanId:o,spanId:c,sampled:s,dsc:n||{}}}function E8(t=Dc(),e=Uc(),r){let n="";return r!==void 0&&(n=r?"-1":"-0"),`${t}-${e}${n}`}var rO=0,IJ=1,b8e=!1;function x8e(t){let{spanId:e,traceId:r}=t.spanContext(),{data:n,op:i,parent_span_id:o,status:s,origin:c}=Qt(t);return Qn({parent_span_id:o,span_id:e,trace_id:r,data:n,op:i,status:s,origin:c})}function MJ(t){let{spanId:e,traceId:r,isRemote:n}=t.spanContext(),i=n?e:Qt(t).parent_span_id,o=n?Uc():e;return Qn({parent_span_id:i,span_id:o,trace_id:r})}function nO(t){let{traceId:e,spanId:r}=t.spanContext(),n=Vf(t);return E8(e,r,n)}function Gl(t){return typeof t=="number"?v8e(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?v8e(t.getTime()):ro()}function v8e(t){return t>9999999999?t/1e3:t}function Qt(t){if(Uwt(t))return t.getSpanJSON();try{let{spanId:e,traceId:r}=t.spanContext();if(Dwt(t)){let{attributes:n,startTime:i,name:o,endTime:s,parentSpanId:c,status:l}=t;return Qn({span_id:e,trace_id:r,data:n,description:o,parent_span_id:c,start_timestamp:Gl(i),timestamp:Gl(s)||void 0,status:iO(l),op:n[sc],origin:n[Jn],_metrics_summary:S8(t)})}return{span_id:e,trace_id:r}}catch{return{}}}function Dwt(t){let e=t;return!!e.attributes&&!!e.startTime&&!!e.name&&!!e.endTime&&!!e.status}function Uwt(t){return typeof t.getSpanJSON=="function"}function Vf(t){let{traceFlags:e}=t.spanContext();return e===IJ}function iO(t){if(!(!t||t.code===0))return t.code===1?"ok":t.message||"unknown_error"}var vv="_sentryChildSpans",TJ="_sentryRootSpan";function oO(t,e){let r=t[TJ]||t;lo(e,TJ,r),t[vv]?t[vv].add(e):lo(t,vv,new Set([e]))}function w8e(t,e){t[vv]&&t[vv].delete(e)}function sg(t){let e=new Set;function r(n){if(!e.has(n)&&Vf(n)){e.add(n);let i=n[vv]?Array.from(n[vv]):[];for(let o of i)r(o)}}return r(t),Array.from(e)}function zn(t){return t[TJ]||t}function Wn(){let t=xu(),e=vh(t);return e.getActiveSpan?e.getActiveSpan():gv(pr())}function sO(){b8e||(Oc(()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")}),b8e=!0)}var S8e=!1;function aO(){S8e||(S8e=!0,y8(kJ),g8(kJ))}function kJ(){let t=Wn(),e=t&&zn(t);if(e){let r="internal_error";Lt&&et.log(`[Tracing] Root span: ${r} -> Global error occurred`),e.setStatus({code:2,message:r})}}kJ.tag="sentry_tracingErrorCallback";d();h();var A8e="_sentryScope",E8e="_sentryIsolationScope";function _8e(t,e,r){t&&(lo(t,E8e,r),lo(t,A8e,e))}function PJ(t){return{scope:t[A8e],isolationScope:t[E8e]}}d();h();d();h();function ac(t){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;let e=Zt(),r=t||e&&e.getOptions();return!!r&&(r.enableTracing||"tracesSampleRate"in r||"tracesSampler"in r)}d();h();var Lc=class{constructor(e={}){this._traceId=e.traceId||Dc(),this._spanId=e.spanId||Uc()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:rO}}end(e){}setAttribute(e,r){return this}setAttributes(e){return this}setStatus(e){return this}updateName(e){return this}isRecording(){return!1}addEvent(e,r,n){return this}addLink(e){return this}addLinks(e){return this}recordException(e,r){}};d();h();d();h();function T8e(t,e,r=()=>{}){let n;try{n=t()}catch(i){throw e(i),r(),i}return Lwt(n,e,r)}function Lwt(t,e,r){return jl(t)?t.then(n=>(r(),n),n=>{throw e(n),r(),n}):(r(),t)}d();h();d();h();var CS="production";var I8e="_frozenDsc";function BJ(t,e){lo(t,I8e,e)}function RJ(t,e){let r=e.getOptions(),{publicKey:n}=e.getDsn()||{},i=Qn({environment:r.environment||CS,release:r.release,public_key:n,trace_id:t});return e.emit("createDsc",i),i}function _8(t,e){let r=e.getPropagationContext();return r.dsc||RJ(r.traceId,t)}function Eu(t){let e=Zt();if(!e)return{};let r=zn(t),n=r[I8e];if(n)return n;let i=r.spanContext().traceState,o=i&&i.get("sentry.dsc"),s=o&&eO(o);if(s)return s;let c=RJ(t.spanContext().traceId,e),l=Qt(r),m=l.data||{},w=m[PS];w!=null&&(c.sample_rate=`${w}`);let b=m[Ra],E=l.description;return b!=="url"&&E&&(c.transaction=E),ac()&&(c.sampled=String(Vf(r))),e.emit("createDsc",c,r),c}d();h();function M8e(t){if(!Lt)return;let{description:e="< unknown name >",op:r="< unknown op >",parent_span_id:n}=Qt(t),{spanId:i}=t.spanContext(),o=Vf(t),s=zn(t),c=s===t,l=`[Tracing] Starting ${o?"sampled":"unsampled"} ${c?"root ":""}span`,m=[`op: ${r}`,`name: ${e}`,`ID: ${i}`];if(n&&m.push(`parent ID: ${n}`),!c){let{op:w,description:b}=Qt(s);m.push(`root ID: ${s.spanContext().spanId}`),w&&m.push(`root op: ${w}`),b&&m.push(`root description: ${b}`)}et.log(`${l}
  ${m.join(`
  `)}`)}function k8e(t){if(!Lt)return;let{description:e="< unknown name >",op:r="< unknown op >"}=Qt(t),{spanId:n}=t.spanContext(),o=zn(t)===t,s=`[Tracing] Finishing "${r}" ${o?"root ":""}span "${e}" with ID ${n}`;et.log(s)}d();h();d();h();function cO(t){if(typeof t=="boolean")return Number(t);let e=typeof t=="string"?parseFloat(t):t;if(typeof e!="number"||isNaN(e)||e<0||e>1){Lt&&et.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(t)} of type ${JSON.stringify(typeof t)}.`);return}return e}function P8e(t,e){if(!ac(t))return[!1];let r=Ko().getScopeData().sdkProcessingMetadata.normalizedRequest,n={...e,normalizedRequest:e.normalizedRequest||r},i;typeof t.tracesSampler=="function"?i=t.tracesSampler(n):n.parentSampled!==void 0?i=n.parentSampled:typeof t.tracesSampleRate<"u"?i=t.tracesSampleRate:i=1;let o=cO(i);return o===void 0?(Lt&&et.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):o?Math.random()<o?[!0,o]:(Lt&&et.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(i)})`),[!1,o]):(Lt&&et.log(`[Tracing] Discarding transaction because ${typeof t.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,o])}d();h();d();h();d();h();var Fwt=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Vwt(t){return t==="http"||t==="https"}function xh(t,e=!1){let{host:r,path:n,pass:i,port:o,projectId:s,protocol:c,publicKey:l}=t;return`${c}://${l}${e&&i?`:${i}`:""}@${r}${o?`:${o}`:""}/${n&&`${n}/`}${s}`}function B8e(t){let e=Fwt.exec(t);if(!e){Oc(()=>{console.error(`Invalid Sentry Dsn: ${t}`)});return}let[r,n,i="",o="",s="",c=""]=e.slice(1),l="",m=c,w=m.split("/");if(w.length>1&&(l=w.slice(0,-1).join("/"),m=w.pop()),m){let b=m.match(/^\d+/);b&&(m=b[0])}return R8e({host:o,pass:i,path:l,projectId:m,port:s,protocol:r,publicKey:n})}function R8e(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function qwt(t){if(!Cc)return!0;let{port:e,projectId:r,protocol:n}=t;return["protocol","publicKey","host","projectId"].find(s=>t[s]?!1:(et.error(`Invalid Sentry Dsn: ${s} missing`),!0))?!1:r.match(/^\d+$/)?Vwt(n)?e&&isNaN(parseInt(e,10))?(et.error(`Invalid Sentry Dsn: Invalid port ${e}`),!1):!0:(et.error(`Invalid Sentry Dsn: Invalid protocol ${n}`),!1):(et.error(`Invalid Sentry Dsn: Invalid projectId ${r}`),!1)}function CJ(t){let e=typeof t=="string"?B8e(t):R8e(t);if(!(!e||!qwt(e)))return e}d();h();d();h();d();h();function C8e(){let t=typeof WeakSet=="function",e=t?new WeakSet:[];function r(i){if(t)return e.has(i)?!0:(e.add(i),!1);for(let o=0;o<e.length;o++)if(e[o]===i)return!0;return e.push(i),!1}function n(i){if(t)e.delete(i);else for(let o=0;o<e.length;o++)if(e[o]===i){e.splice(o,1);break}}return[r,n]}function qf(t,e=100,r=1/0){try{return OJ("",t,e,r)}catch(n){return{ERROR:`**non-serializable** (${n})`}}}function uO(t,e=3,r=100*1024){let n=qf(t,e);return zwt(n)>r?uO(t,e-1,r):n}function OJ(t,e,r=1/0,n=1/0,i=C8e()){let[o,s]=i;if(e==null||["boolean","string"].includes(typeof e)||typeof e=="number"&&Number.isFinite(e))return e;let c=Kwt(t,e);if(!c.startsWith("[object "))return c;if(e.__sentry_skip_normalization__)return e;let l=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:r;if(l===0)return c.replace("object ","");if(o(e))return"[Circular ~]";let m=e;if(m&&typeof m.toJSON=="function")try{let I=m.toJSON();return OJ("",I,l-1,n,i)}catch{}let w=Array.isArray(e)?[]:{},b=0,E=ZC(e);for(let I in E){if(!Object.prototype.hasOwnProperty.call(E,I))continue;if(b>=n){w[I]="[MaxProperties ~]";break}let M=E[I];w[I]=OJ(I,M,l-1,n,i),b++}return s(e),w}function Kwt(t,e){try{if(t==="domain"&&e&&typeof e=="object"&&e._events)return"[Domain]";if(t==="domainEmitter")return"[DomainEmitter]";if(typeof self<"u"&&e===self)return"[Global]";if(typeof self<"u"&&e===self)return"[Window]";if(typeof document<"u"&&e===document)return"[Document]";if(v8(e))return"[VueViewModel]";if(hJ(e))return"[SyntheticEvent]";if(typeof e=="number"&&!Number.isFinite(e))return`[${e}]`;if(typeof e=="function")return`[Function: ${Nc(e)}]`;if(typeof e=="symbol")return`[${String(e)}]`;if(typeof e=="bigint")return`[BigInt: ${String(e)}]`;let r=Hwt(e);return/^HTML(\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(r){return`**non-serializable** (${r})`}}function Hwt(t){let e=Object.getPrototypeOf(t);return e?e.constructor.name:"null prototype"}function jwt(t){return~-encodeURI(t).split(/%..|./).length}function zwt(t){return jwt(JSON.stringify(t))}function $l(t,e=[]){return[t,e]}function DJ(t,e){let[r,n]=t;return[r,[...n,e]]}function fO(t,e){let r=t[1];for(let n of r){let i=n[0].type;if(e(n,i))return!0}return!1}function NJ(t){return $t.__SENTRY__&&$t.__SENTRY__.encodePolyfill?$t.__SENTRY__.encodePolyfill(t):new TextEncoder().encode(t)}function UJ(t){let[e,r]=t,n=JSON.stringify(e);function i(o){typeof n=="string"?n=typeof o=="string"?n+o:[NJ(n),o]:n.push(typeof o=="string"?NJ(o):o)}for(let o of r){let[s,c]=o;if(i(`
${JSON.stringify(s)}
`),typeof c=="string"||c instanceof Uint8Array)i(c);else{let l;try{l=JSON.stringify(c)}catch{l=JSON.stringify(qf(c))}i(l)}}return typeof n=="string"?n:Wwt(n)}function Wwt(t){let e=t.reduce((i,o)=>i+o.length,0),r=new Uint8Array(e),n=0;for(let i of t)r.set(i,n),n+=i.length;return r}function LJ(t){return[{type:"span"},t]}function FJ(t){let e=typeof t.data=="string"?NJ(t.data):t.data;return[Qn({type:"attachment",length:e.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),e]}var Gwt={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function lO(t){return Gwt[t]}function dO(t){if(!t||!t.sdk)return;let{name:e,version:r}=t.sdk;return{name:e,version:r}}function VJ(t,e,r,n){let i=t.sdkProcessingMetadata&&t.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:t.event_id,sent_at:new Date().toISOString(),...e&&{sdk:e},...!!r&&n&&{dsn:xh(n)},...i&&{trace:Qn({...i})}}}function $wt(t,e){return e&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=[...t.sdk.integrations||[],...e.integrations||[]],t.sdk.packages=[...t.sdk.packages||[],...e.packages||[]]),t}function O8e(t,e,r,n){let i=dO(r),o={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!n&&e&&{dsn:xh(e)}},s="aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t.toJSON()];return $l(o,[s])}function N8e(t,e,r,n){let i=dO(r),o=t.type&&t.type!=="replay_event"?t.type:"event";$wt(t,r&&r.sdk);let s=VJ(t,i,n,e);return delete t.sdkProcessingMetadata,$l(s,[[{type:o},t]])}function D8e(t,e){function r(w){return!!w.trace_id&&!!w.public_key}let n=Eu(t[0]),i=e&&e.getDsn(),o=e&&e.getOptions().tunnel,s={sent_at:new Date().toISOString(),...r(n)&&{trace:n},...!!o&&i&&{dsn:xh(i)}},c=e&&e.getOptions().beforeSendSpan,l=c?w=>{let b=c(Qt(w));return b||sO(),b}:w=>Qt(w),m=[];for(let w of t){let b=l(w);b&&m.push(LJ(b))}return $l(s,m)}d();h();function hO(t,e,r,n=Wn()){let i=n&&zn(n);i&&(Lt&&et.log(`[Measurement] Setting measurement on root span: ${t} = ${e} ${r}`),i.addEvent(t,{[og]:e,[ig]:r}))}function pO(t){if(!t||t.length===0)return;let e={};return t.forEach(r=>{let n=r.attributes||{},i=n[ig],o=n[og];typeof i=="string"&&typeof o=="number"&&(e[r.name]={value:o,unit:i})}),e}var U8e=1e3,OS=class{constructor(e={}){this._traceId=e.traceId||Dc(),this._spanId=e.spanId||Uc(),this._startTime=e.startTimestamp||ro(),this._attributes={},this.setAttributes({[Jn]:"manual",[sc]:e.op,...e.attributes}),this._name=e.name,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.endTimestamp&&(this._endTime=e.endTimestamp),this._events=[],this._isStandaloneSpan=e.isStandalone,this._endTime&&this._onSpanEnded()}addLink(e){return this}addLinks(e){return this}recordException(e,r){}spanContext(){let{_spanId:e,_traceId:r,_sampled:n}=this;return{spanId:e,traceId:r,traceFlags:n?IJ:rO}}setAttribute(e,r){return r===void 0?delete this._attributes[e]:this._attributes[e]=r,this}setAttributes(e){return Object.keys(e).forEach(r=>this.setAttribute(r,e[r])),this}updateStartTime(e){this._startTime=Gl(e)}setStatus(e){return this._status=e,this}updateName(e){return this._name=e,this.setAttribute(Ra,"custom"),this}end(e){this._endTime||(this._endTime=Gl(e),k8e(this),this._onSpanEnded())}getSpanJSON(){return Qn({data:this._attributes,description:this._name,op:this._attributes[sc],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:iO(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Jn],_metrics_summary:S8(this),profile_id:this._attributes[SJ],exclusive_time:this._attributes[bv],measurements:pO(this._events),is_segment:this._isStandaloneSpan&&zn(this)===this||void 0,segment_id:this._isStandaloneSpan?zn(this).spanContext().spanId:void 0})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(e,r,n){Lt&&et.log("[Tracing] Adding an event to span:",e);let i=L8e(r)?r:n||ro(),o=L8e(r)?{}:r||{},s={name:e,time:Gl(i),attributes:o};return this._events.push(s),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){let e=Zt();if(e&&e.emit("spanEnd",this),!(this._isStandaloneSpan||this===zn(this)))return;if(this._isStandaloneSpan){this._sampled?Zwt(D8e([this],e)):(Lt&&et.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),e&&e.recordDroppedEvent("sample_rate","span"));return}let n=this._convertSpanToTransaction();n&&(PJ(this).scope||pr()).captureEvent(n)}_convertSpanToTransaction(){if(!F8e(Qt(this)))return;this._name||(Lt&&et.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");let{scope:e,isolationScope:r}=PJ(this),i=(e||pr()).getClient()||Zt();if(this._sampled!==!0){Lt&&et.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),i&&i.recordDroppedEvent("sample_rate","transaction");return}let s=sg(this).filter(b=>b!==this&&!Ywt(b)).map(b=>Qt(b)).filter(F8e),c=this._attributes[Ra];delete this._attributes[A8],s.forEach(b=>{b.data&&delete b.data[A8]});let l={contexts:{trace:x8e(this)},spans:s.length>U8e?s.sort((b,E)=>b.start_timestamp-E.start_timestamp).slice(0,U8e):s,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:e,capturedSpanIsolationScope:r,...Qn({dynamicSamplingContext:Eu(this)})},_metrics_summary:S8(this),...c&&{transaction_info:{source:c}}},m=pO(this._events);return m&&Object.keys(m).length&&(Lt&&et.log("[Measurements] Adding measurements to transaction event",JSON.stringify(m,void 0,2)),l.measurements=m),l}};function L8e(t){return t&&typeof t=="number"||t instanceof Date||Array.isArray(t)}function F8e(t){return!!t.start_timestamp&&!!t.timestamp&&!!t.span_id&&!!t.trace_id}function Ywt(t){return t instanceof OS&&t.isStandaloneSpan()}function Zwt(t){let e=Zt();if(!e)return;let r=t[1];if(!r||r.length===0){e.recordDroppedEvent("before_send","span");return}e.sendEnvelope(t)}var q8e="__SENTRY_SUPPRESS_TRACING__";function mO(t,e){let r=qJ();if(r.startSpan)return r.startSpan(t,e);let n=H8e(t),{forceTransaction:i,parentSpan:o}=t;return ng(t.scope,()=>Jwt(o)(()=>{let c=pr(),l=j8e(c),w=t.onlyIfParent&&!l?new Lc:K8e({parentSpan:l,spanArguments:n,forceTransaction:i,scope:c});return cp(c,w),T8e(()=>e(w),()=>{let{status:b}=Qt(w);w.isRecording()&&(!b||b==="ok")&&w.setStatus({code:2,message:"internal_error"})},()=>w.end())}))}function _u(t){let e=qJ();if(e.startInactiveSpan)return e.startInactiveSpan(t);let r=H8e(t),{forceTransaction:n,parentSpan:i}=t;return(t.scope?s=>ng(t.scope,s):i!==void 0?s=>NS(i,s):s=>s())(()=>{let s=pr(),c=j8e(s);return t.onlyIfParent&&!c?new Lc:K8e({parentSpan:c,spanArguments:r,forceTransaction:n,scope:s})})}function NS(t,e){let r=qJ();return r.withActiveSpan?r.withActiveSpan(t,e):ng(n=>(cp(n,t||void 0),e(n)))}function K8e({parentSpan:t,spanArguments:e,forceTransaction:r,scope:n}){if(!ac())return new Lc;let i=Ko(),o;if(t&&!r)o=Qwt(t,n,e),oO(t,o);else if(t){let s=Eu(t),{traceId:c,spanId:l}=t.spanContext(),m=Vf(t);o=V8e({traceId:c,parentSpanId:l,...e},n,m),BJ(o,s)}else{let{traceId:s,dsc:c,parentSpanId:l,sampled:m}={...i.getPropagationContext(),...n.getPropagationContext()};o=V8e({traceId:s,parentSpanId:l,...e},n,m),c&&BJ(o,c)}return M8e(o),_8e(o,n,i),o}function H8e(t){let r={isStandalone:(t.experimental||{}).standalone,...t};if(t.startTime){let n={...r};return n.startTimestamp=Gl(t.startTime),delete n.startTime,n}return r}function qJ(){let t=xu();return vh(t)}function V8e(t,e,r){let n=Zt(),i=n&&n.getOptions()||{},{name:o="",attributes:s}=t,[c,l]=e.getScopeData().sdkProcessingMetadata[q8e]?[!1]:P8e(i,{name:o,parentSampled:r,attributes:s,transactionContext:{name:o,parentSampled:r}}),m=new OS({...t,attributes:{[Ra]:"custom",...t.attributes},sampled:c});return l!==void 0&&m.setAttribute(PS,l),n&&n.emit("spanStart",m),m}function Qwt(t,e,r){let{spanId:n,traceId:i}=t.spanContext(),o=e.getScopeData().sdkProcessingMetadata[q8e]?!1:Vf(t),s=o?new OS({...r,parentSpanId:n,traceId:i,sampled:o}):new Lc({traceId:i});oO(t,s);let c=Zt();return c&&(c.emit("spanStart",s),r.endTimestamp&&c.emit("spanEnd",s)),s}function j8e(t){let e=gv(t);if(!e)return;let r=Zt();return(r?r.getOptions():{}).parentSpanIsAlwaysRootSpan?zn(e):e}function Jwt(t){return t!==void 0?e=>NS(t,e):e=>e()}var DS={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},Xwt="heartbeatFailed",e2t="idleTimeout",t2t="finalTimeout",r2t="externalFinish";function yO(t,e={}){let r=new Map,n=!1,i,o=r2t,s=!e.disableAutoFinish,c=[],{idleTimeout:l=DS.idleTimeout,finalTimeout:m=DS.finalTimeout,childSpanTimeout:w=DS.childSpanTimeout,beforeSpanEnd:b}=e,E=Zt();if(!E||!ac())return new Lc;let I=pr(),M=Wn(),k=n2t(t);k.end=new Proxy(k.end,{apply(K,re,Q){b&&b(k);let[ie,...S]=Q,a=ie||ro(),f=Gl(a),p=sg(k).filter(v=>v!==k);if(!p.length)return q(f),Reflect.apply(K,re,[f,...S]);let y=p.map(v=>Qt(v).timestamp).filter(v=>!!v),g=y.length?Math.max(...y):void 0,A=Qt(k).start_timestamp,_=Math.min(A?A+m/1e3:1/0,Math.max(A||-1/0,Math.min(f,g||1/0)));return q(_),Reflect.apply(K,re,[_,...S])}});function R(){i&&(clearTimeout(i),i=void 0)}function B(K){R(),i=setTimeout(()=>{!n&&r.size===0&&s&&(o=e2t,k.end(K))},l)}function U(K){i=setTimeout(()=>{!n&&s&&(o=Xwt,k.end(K))},w)}function P(K){R(),r.set(K,!0);let re=ro();U(re+w/1e3)}function F(K){if(r.has(K)&&r.delete(K),r.size===0){let re=ro();B(re+l/1e3)}}function q(K){n=!0,r.clear(),c.forEach(f=>f()),cp(I,M);let re=Qt(k),{start_timestamp:Q}=re;if(!Q)return;(re.data||{})[BS]||k.setAttribute(BS,o),et.log(`[Tracing] Idle span "${re.op}" finished`);let S=sg(k).filter(f=>f!==k),a=0;S.forEach(f=>{f.isRecording()&&(f.setStatus({code:2,message:"cancelled"}),f.end(K),Lt&&et.log("[Tracing] Cancelling span since span ended early",JSON.stringify(f,void 0,2)));let p=Qt(f),{timestamp:y=0,start_timestamp:g=0}=p,A=g<=K,_=(m+l)/1e3,v=y-g<=_;if(Lt){let u=JSON.stringify(f,void 0,2);A?v||et.log("[Tracing] Discarding span since it finished after idle span final timeout",u):et.log("[Tracing] Discarding span since it happened after idle span was finished",u)}(!v||!A)&&(w8e(k,f),a++)}),a>0&&k.setAttribute("sentry.idle_span_discarded_spans",a)}return c.push(E.on("spanStart",K=>{if(n||K===k||Qt(K).timestamp)return;sg(k).includes(K)&&P(K.spanContext().spanId)})),c.push(E.on("spanEnd",K=>{n||F(K.spanContext().spanId)})),c.push(E.on("idleSpanEnableAutoFinish",K=>{K===k&&(s=!0,B(),r.size&&U())})),e.disableAutoFinish||B(),setTimeout(()=>{n||(k.setStatus({code:2,message:"deadline_exceeded"}),o=t2t,k.end())},m),k}function n2t(t){let e=_u(t);return cp(pr(),e),Lt&&et.log("[Tracing] Started span is an idle span"),e}d();h();d();h();d();h();function gO(t,e,r,n=0){return new Wl((i,o)=>{let s=t[n];if(e===null||typeof s!="function")i(e);else{let c=s({...e},r);Lt&&s.id&&c===null&&et.log(`Event processor "${s.id}" dropped event`),jl(c)?c.then(l=>gO(t,l,r,n+1).then(i)).then(null,o):gO(t,c,r,n+1).then(i).then(null,o)}})}d();h();var bO,z8e,vO;function W8e(t){let e=$t._sentryDebugIds;if(!e)return{};let r=Object.keys(e);return vO&&r.length===z8e||(z8e=r.length,vO=r.reduce((n,i)=>{bO||(bO={});let o=bO[i];if(o)n[o[0]]=o[1];else{let s=t(i);for(let c=s.length-1;c>=0;c--){let l=s[c],m=l&&l.filename,w=e[i];if(m&&w){n[m]=w,bO[i]=[m,w];break}}}return n},{})),vO}d();h();function G8e(t,e){let{fingerprint:r,span:n,breadcrumbs:i,sdkProcessingMetadata:o}=e;i2t(t,e),n&&a2t(t,n),c2t(t,r),o2t(t,i),s2t(t,o)}function KJ(t,e){let{extra:r,tags:n,user:i,contexts:o,level:s,sdkProcessingMetadata:c,breadcrumbs:l,fingerprint:m,eventProcessors:w,attachments:b,propagationContext:E,transactionName:I,span:M}=e;xO(t,"extra",r),xO(t,"tags",n),xO(t,"user",i),xO(t,"contexts",o),t.sdkProcessingMetadata=MS(t.sdkProcessingMetadata,c,2),s&&(t.level=s),I&&(t.transactionName=I),M&&(t.span=M),l.length&&(t.breadcrumbs=[...t.breadcrumbs,...l]),m.length&&(t.fingerprint=[...t.fingerprint,...m]),w.length&&(t.eventProcessors=[...t.eventProcessors,...w]),b.length&&(t.attachments=[...t.attachments,...b]),t.propagationContext={...t.propagationContext,...E}}function xO(t,e,r){t[e]=MS(t[e],r,1)}function i2t(t,e){let{extra:r,tags:n,user:i,contexts:o,level:s,transactionName:c}=e,l=Qn(r);l&&Object.keys(l).length&&(t.extra={...l,...t.extra});let m=Qn(n);m&&Object.keys(m).length&&(t.tags={...m,...t.tags});let w=Qn(i);w&&Object.keys(w).length&&(t.user={...w,...t.user});let b=Qn(o);b&&Object.keys(b).length&&(t.contexts={...b,...t.contexts}),s&&(t.level=s),c&&t.type!=="transaction"&&(t.transaction=c)}function o2t(t,e){let r=[...t.breadcrumbs||[],...e];t.breadcrumbs=r.length?r:void 0}function s2t(t,e){t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...e}}function a2t(t,e){t.contexts={trace:MJ(e),...t.contexts},t.sdkProcessingMetadata={dynamicSamplingContext:Eu(e),...t.sdkProcessingMetadata};let r=zn(e),n=Qt(r).description;n&&!t.transaction&&t.type==="transaction"&&(t.transaction=n)}function c2t(t,e){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],e&&(t.fingerprint=t.fingerprint.concat(e)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}function $8e(t,e,r,n,i,o){let{normalizeDepth:s=3,normalizeMaxBreadth:c=1e3}=t,l={...e,event_id:e.event_id||r.event_id||qo(),timestamp:e.timestamp||gh()},m=r.integrations||t.integrations.map(R=>R.name);u2t(l,t),d2t(l,m),i&&i.emit("applyFrameMetadata",e),e.type===void 0&&f2t(l,t.stackParser);let w=p2t(n,r.captureContext);r.mechanism&&bh(l,r.mechanism);let b=i?i.getEventProcessors():[],E=JC().getScopeData();if(o){let R=o.getScopeData();KJ(E,R)}if(w){let R=w.getScopeData();KJ(E,R)}let I=[...r.attachments||[],...E.attachments];I.length&&(r.attachments=I),G8e(l,E);let M=[...b,...E.eventProcessors];return gO(M,l,r).then(R=>(R&&l2t(R),typeof s=="number"&&s>0?h2t(R,s,c):R))}function u2t(t,e){let{environment:r,release:n,dist:i,maxValueLength:o=250}=e;t.environment=t.environment||r||CS,!t.release&&n&&(t.release=n),!t.dist&&i&&(t.dist=i),t.message&&(t.message=mh(t.message,o));let s=t.exception&&t.exception.values&&t.exception.values[0];s&&s.value&&(s.value=mh(s.value,o));let c=t.request;c&&c.url&&(c.url=mh(c.url,o))}function f2t(t,e){let r=W8e(e);try{t.exception.values.forEach(n=>{n.stacktrace.frames.forEach(i=>{r&&i.filename&&(i.debug_id=r[i.filename])})})}catch{}}function l2t(t){let e={};try{t.exception.values.forEach(n=>{n.stacktrace.frames.forEach(i=>{i.debug_id&&(i.abs_path?e[i.abs_path]=i.debug_id:i.filename&&(e[i.filename]=i.debug_id),delete i.debug_id)})})}catch{}if(Object.keys(e).length===0)return;t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];let r=t.debug_meta.images;Object.entries(e).forEach(([n,i])=>{r.push({type:"sourcemap",code_file:n,debug_id:i})})}function d2t(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}function h2t(t,e,r){if(!t)return null;let n={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(i=>({...i,...i.data&&{data:qf(i.data,e,r)}}))},...t.user&&{user:qf(t.user,e,r)},...t.contexts&&{contexts:qf(t.contexts,e,r)},...t.extra&&{extra:qf(t.extra,e,r)}};return t.contexts&&t.contexts.trace&&n.contexts&&(n.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(n.contexts.trace.data=qf(t.contexts.trace.data,e,r))),t.spans&&(n.spans=t.spans.map(i=>({...i,...i.data&&{data:qf(i.data,e,r)}}))),t.contexts&&t.contexts.flags&&n.contexts&&(n.contexts.flags=qf(t.contexts.flags,3,r)),n}function p2t(t,e){if(!e)return t;let r=t?t.clone():new Au;return r.update(e),r}function Y8e(t){if(t)return m2t(t)?{captureContext:t}:g2t(t)?{captureContext:t}:t}function m2t(t){return t instanceof Au||typeof t=="function"}var y2t=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function g2t(t){return Object.keys(t).some(e=>y2t.includes(e))}function cg(t,e){return pr().captureException(t,Y8e(e))}function US(t,e){let r=typeof e=="string"?e:void 0,n=typeof e!="string"?{captureContext:e}:void 0;return pr().captureMessage(t,r,n)}function T8(t,e){return pr().captureEvent(t,e)}function wO(t,e){Ko().setContext(t,e)}function LS(t){Ko().setTags(t)}function FS(t){Ko().setUser(t)}function HJ(){let t=Zt();return!!t&&t.getOptions().enabled!==!1&&!!t.getTransport()}function I8(t){let e=Zt(),r=Ko(),n=pr(),{release:i,environment:o=CS}=e&&e.getOptions()||{},{userAgent:s}=$t.navigator||{},c=f8e({release:i,environment:o,user:n.getUser()||r.getUser(),...s&&{userAgent:s},...t}),l=r.getSession();return l&&l.status==="ok"&&ap(l,{status:"exited"}),SO(),r.setSession(c),n.setSession(c),c}function SO(){let t=Ko(),e=pr(),r=e.getSession()||t.getSession();r&&l8e(r),Q8e(),t.setSession(),e.setSession()}function Q8e(){let t=Ko(),e=pr(),r=Zt(),n=e.getSession()||t.getSession();n&&r&&r.captureSession(n)}function M8(t=!1){if(t){SO();return}Q8e()}d();h();var b2t="7";function v2t(t){let e=t.protocol?`${t.protocol}:`:"",r=t.port?`:${t.port}`:"";return`${e}//${t.host}${r}${t.path?`/${t.path}`:""}/api/`}function x2t(t){return`${v2t(t)}${t.projectId}/envelope/`}function w2t(t,e){let r={sentry_version:b2t};return t.publicKey&&(r.sentry_key=t.publicKey),e&&(r.sentry_client=`${e.name}/${e.version}`),new URLSearchParams(r).toString()}function J8e(t,e,r){return e||`${x2t(t)}?${w2t(t,r)}`}d();h();d();h();var X8e=[];function S2t(t){let e={};return t.forEach(r=>{let{name:n}=r,i=e[n];i&&!i.isDefaultInstance&&r.isDefaultInstance||(e[n]=r)}),Object.values(e)}function jJ(t){let e=t.defaultIntegrations||[],r=t.integrations;e.forEach(s=>{s.isDefaultInstance=!0});let n;if(Array.isArray(r))n=[...e,...r];else if(typeof r=="function"){let s=r(e);n=Array.isArray(s)?s:[s]}else n=e;let i=S2t(n),o=i.findIndex(s=>s.name==="Debug");if(o>-1){let[s]=i.splice(o,1);i.push(s)}return i}function e5e(t,e){let r={};return e.forEach(n=>{n&&WJ(t,n,r)}),r}function zJ(t,e){for(let r of e)r&&r.afterAllSetup&&r.afterAllSetup(t)}function WJ(t,e,r){if(r[e.name]){Lt&&et.log(`Integration skipped because it was already installed: ${e.name}`);return}if(r[e.name]=e,X8e.indexOf(e.name)===-1&&typeof e.setupOnce=="function"&&(e.setupOnce(),X8e.push(e.name)),e.setup&&typeof e.setup=="function"&&e.setup(t),typeof e.preprocessEvent=="function"){let n=e.preprocessEvent.bind(e);t.on("preprocessEvent",(i,o)=>n(i,o,t))}if(typeof e.processEvent=="function"){let n=e.processEvent.bind(e),i=Object.assign((o,s)=>n(o,s,t),{id:e.name});t.addEventProcessor(i)}Lt&&et.log(`Integration installed: ${e.name}`)}d();h();function t5e(t,e,r){let n=[{type:"client_report"},{timestamp:r||gh(),discarded_events:t}];return $l(e?{dsn:e}:{},[n])}d();h();var Ca=class extends Error{constructor(e,r="warn"){super(e),this.message=e,this.logLevel=r}};var r5e="Not capturing exception because it's already been captured.",k8=class{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=CJ(e.dsn):Lt&&et.warn("No DSN provided, client will not send events."),this._dsn){let i=J8e(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:i})}let n=["enableTracing","tracesSampleRate","tracesSampler"].find(i=>i in e&&e[i]==null);n&&Oc(()=>{console.warn(`[Sentry] Deprecation warning: \`${n}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)})}captureException(e,r,n){let i=qo();if(QC(e))return Lt&&et.log(r5e),i;let o={event_id:i,...r};return this._process(this.eventFromException(e,o).then(s=>this._captureEvent(s,o,n))),o.event_id}captureMessage(e,r,n,i){let o={event_id:qo(),...n},s=_S(e)?e:String(e),c=pv(e)?this.eventFromMessage(s,r,o):this.eventFromException(e,o);return this._process(c.then(l=>this._captureEvent(l,o,i))),o.event_id}captureEvent(e,r,n){let i=qo();if(r&&r.originalException&&QC(r.originalException))return Lt&&et.log(r5e),i;let o={event_id:i,...r},c=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,o,c||n)),o.event_id}captureSession(e){typeof e.release!="string"?Lt&&et.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),ap(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){let r=this._transport;return r?(this.emit("flush"),this._isClientDoneProcessing(e).then(n=>r.flush(e).then(i=>n&&i))):Ff(!0)}close(e){return this.flush(e).then(r=>(this.getOptions().enabled=!1,this.emit("close"),r))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some(({name:e})=>e.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){let r=this._integrations[e.name];WJ(this,e,this._integrations),r||zJ(this,[e])}sendEvent(e,r={}){this.emit("beforeSendEvent",e,r);let n=N8e(e,this._dsn,this._options._metadata,this._options.tunnel);for(let o of r.attachments||[])n=DJ(n,FJ(o));let i=this.sendEnvelope(n);i&&i.then(o=>this.emit("afterSendEvent",e,o),null)}sendSession(e){let r=O8e(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(r)}recordDroppedEvent(e,r,n){if(this._options.sendClientReports){let i=typeof n=="number"?n:1,o=`${e}:${r}`;Lt&&et.log(`Recording outcome: "${o}"${i>1?` (${i} times)`:""}`),this._outcomes[o]=(this._outcomes[o]||0)+i}}on(e,r){let n=this._hooks[e]=this._hooks[e]||[];return n.push(r),()=>{let i=n.indexOf(r);i>-1&&n.splice(i,1)}}emit(e,...r){let n=this._hooks[e];n&&n.forEach(i=>i(...r))}sendEnvelope(e){return this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport?this._transport.send(e).then(null,r=>(Lt&&et.error("Error while sending envelope:",r),r)):(Lt&&et.error("Transport disabled"),Ff({}))}_setupIntegrations(){let{integrations:e}=this._options;this._integrations=e5e(this,e),zJ(this,e)}_updateSessionFromEvent(e,r){let n=r.level==="fatal",i=!1,o=r.exception&&r.exception.values;if(o){i=!0;for(let l of o){let m=l.mechanism;if(m&&m.handled===!1){n=!0;break}}}let s=e.status==="ok";(s&&e.errors===0||s&&n)&&(ap(e,{...n&&{status:"crashed"},errors:e.errors||Number(i||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new Wl(r=>{let n=0,i=1,o=setInterval(()=>{this._numProcessing==0?(clearInterval(o),r(!0)):(n+=i,e&&n>=e&&(clearInterval(o),r(!1)))},i)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(e,r,n=pr(),i=Ko()){let o=this.getOptions(),s=Object.keys(this._integrations);return!r.integrations&&s.length>0&&(r.integrations=s),this.emit("preprocessEvent",e,r),e.type||i.setLastEventId(e.event_id||r.event_id),$8e(o,e,r,n,this,i).then(c=>{if(c===null)return c;c.contexts={trace:wJ(n),...c.contexts};let l=_8(this,n);return c.sdkProcessingMetadata={dynamicSamplingContext:l,...c.sdkProcessingMetadata},c})}_captureEvent(e,r={},n){return this._processEvent(e,r,n).then(i=>i.event_id,i=>{Lt&&(i instanceof Ca&&i.logLevel==="log"?et.log(i.message):et.warn(i))})}_processEvent(e,r,n){let i=this.getOptions(),{sampleRate:o}=i,s=i5e(e),c=n5e(e),l=e.type||"error",m=`before send for type \`${l}\``,w=typeof o>"u"?void 0:cO(o);if(c&&typeof w=="number"&&Math.random()>w)return this.recordDroppedEvent("sample_rate","error",e),rg(new Ca(`Discarding event because it's not included in the random sample (sampling rate = ${o})`,"log"));let b=l==="replay_event"?"replay":l,I=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,r,n,I).then(M=>{if(M===null)throw this.recordDroppedEvent("event_processor",b,e),new Ca("An event processor returned `null`, will not send event.","log");if(r.data&&r.data.__sentry__===!0)return M;let R=E2t(this,i,M,r);return A2t(R,m)}).then(M=>{if(M===null){if(this.recordDroppedEvent("before_send",b,e),s){let U=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",U)}throw new Ca(`${m} returned \`null\`, will not send event.`,"log")}let k=n&&n.getSession();if(!s&&k&&this._updateSessionFromEvent(k,M),s){let B=M.sdkProcessingMetadata&&M.sdkProcessingMetadata.spanCountBeforeProcessing||0,U=M.spans?M.spans.length:0,P=B-U;P>0&&this.recordDroppedEvent("before_send","span",P)}let R=M.transaction_info;if(s&&R&&M.transaction!==e.transaction){let B="custom";M.transaction_info={...R,source:B}}return this.sendEvent(M,r),M}).then(null,M=>{throw M instanceof Ca?M:(this.captureException(M,{data:{__sentry__:!0},originalException:M}),new Ca(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${M}`))})}_process(e){this._numProcessing++,e.then(r=>(this._numProcessing--,r),r=>(this._numProcessing--,r))}_clearOutcomes(){let e=this._outcomes;return this._outcomes={},Object.entries(e).map(([r,n])=>{let[i,o]=r.split(":");return{reason:i,category:o,quantity:n}})}_flushOutcomes(){Lt&&et.log("Flushing outcomes...");let e=this._clearOutcomes();if(e.length===0){Lt&&et.log("No outcomes to send");return}if(!this._dsn){Lt&&et.log("No dsn provided, will not send outcomes");return}Lt&&et.log("Sending outcomes:",e);let r=t5e(e,this._options.tunnel&&xh(this._dsn));this.sendEnvelope(r)}};function A2t(t,e){let r=`${e} must return \`null\` or a valid event.`;if(jl(t))return t.then(n=>{if(!Hl(n)&&n!==null)throw new Ca(r);return n},n=>{throw new Ca(`${e} rejected with ${n}`)});if(!Hl(t)&&t!==null)throw new Ca(r);return t}function E2t(t,e,r,n){let{beforeSend:i,beforeSendTransaction:o,beforeSendSpan:s}=e;if(n5e(r)&&i)return i(r,n);if(i5e(r)){if(r.spans&&s){let c=[];for(let l of r.spans){let m=s(l);m?c.push(m):(sO(),t.recordDroppedEvent("before_send","span"))}r.spans=c}if(o){if(r.spans){let c=r.spans.length;r.sdkProcessingMetadata={...r.sdkProcessingMetadata,spanCountBeforeProcessing:c}}return o(r,n)}}return r}function n5e(t){return t.type===void 0}function i5e(t){return t.type==="transaction"}d();h();function GJ(t,e){e.debug===!0&&(Lt?et.enable():Oc(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),pr().update(e.initialScope);let n=new t(e);return $J(n),n.init(),n}function $J(t){pr().setClient(t)}d();h();d();h();function o5e(t){let e=[];function r(){return t===void 0||e.length<t}function n(s){return e.splice(e.indexOf(s),1)[0]||Promise.resolve(void 0)}function i(s){if(!r())return rg(new Ca("Not adding Promise because buffer limit was reached."));let c=s();return e.indexOf(c)===-1&&e.push(c),c.then(()=>n(c)).then(null,()=>n(c).then(null,()=>{})),c}function o(s){return new Wl((c,l)=>{let m=e.length;if(!m)return c(!0);let w=setTimeout(()=>{s&&s>0&&c(!1)},s);e.forEach(b=>{Ff(b).then(()=>{--m||(clearTimeout(w),c(!0))},l)})})}return{$:e,add:i,drain:o}}d();h();function _2t(t,e=Date.now()){let r=parseInt(`${t}`,10);if(!isNaN(r))return r*1e3;let n=Date.parse(`${t}`);return isNaN(n)?6e4:n-e}function T2t(t,e){return t[e]||t.all||0}function s5e(t,e,r=Date.now()){return T2t(t,e)>r}function a5e(t,{statusCode:e,headers:r},n=Date.now()){let i={...t},o=r&&r["x-sentry-rate-limits"],s=r&&r["retry-after"];if(o)for(let c of o.trim().split(",")){let[l,m,,,w]=c.split(":",5),b=parseInt(l,10),E=(isNaN(b)?60:b)*1e3;if(!m)i.all=n+E;else for(let I of m.split(";"))I==="metric_bucket"?(!w||w.split(";").includes("custom"))&&(i[I]=n+E):i[I]=n+E}else s?i.all=n+_2t(s,n):e===429&&(i.all=n+60*1e3);return i}var I2t=64;function AO(t,e,r=o5e(t.bufferSize||I2t)){let n={},i=s=>r.drain(s);function o(s){let c=[];if(fO(s,(b,E)=>{let I=lO(E);if(s5e(n,I)){let M=c5e(b,E);t.recordDroppedEvent("ratelimit_backoff",I,M)}else c.push(b)}),c.length===0)return Ff({});let l=$l(s[0],c),m=b=>{fO(l,(E,I)=>{let M=c5e(E,I);t.recordDroppedEvent(b,lO(I),M)})},w=()=>e({body:UJ(l)}).then(b=>(b.statusCode!==void 0&&(b.statusCode<200||b.statusCode>=300)&&Lt&&et.warn(`Sentry responded with status code ${b.statusCode} to sent event.`),n=a5e(n,b),b),b=>{throw m("network_error"),b});return r.add(w).then(b=>b,b=>{if(b instanceof Ca)return Lt&&et.error("Skipped sending event because buffer is full."),m("queue_overflow"),Ff({});throw b})}return{send:o,flush:i}}function c5e(t,e){if(!(e!=="event"&&e!=="transaction"))return Array.isArray(t)?t[1]:void 0}d();h();function xv(t,e,r=[e],n="npm"){let i=t._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${e}`,packages:r.map(o=>({name:`${n}:@sentry/${o}`,version:Kl})),version:Kl}),t._metadata=i}d();h();function P8(t={}){let e=Zt();if(!HJ()||!e)return{};let r=xu(),n=vh(r);if(n.getTraceData)return n.getTraceData(t);let i=pr(),o=t.span||Wn(),s=o?nO(o):M2t(i),c=o?Eu(o):_8(e,i),l=EJ(c);return tO.test(s)?{"sentry-trace":s,baggage:l}:(et.warn("Invalid sentry-trace data. Cannot generate trace data"),{})}function M2t(t){let{traceId:e,sampled:r,spanId:n}=t.getPropagationContext();return E8(e,n,r)}d();h();var k2t=100;function Fc(t,e){let r=Zt(),n=Ko();if(!r)return;let{beforeBreadcrumb:i=null,maxBreadcrumbs:o=k2t}=r.getOptions();if(o<=0)return;let c={timestamp:gh(),...t},l=i?Oc(()=>i(c,e)):c;l!==null&&(r.emit&&r.emit("beforeAddBreadcrumb",l,e),n.addBreadcrumb(l,o))}d();h();var u5e,P2t="FunctionToString",f5e=new WeakMap,B2t=()=>({name:P2t,setupOnce(){u5e=Function.prototype.toString;try{Function.prototype.toString=function(...t){let e=yv(this),r=f5e.has(Zt())&&e!==void 0?e:this;return u5e.apply(r,t)}}catch{}},setup(t){f5e.set(t,!0)}}),EO=B2t;d();h();var R2t=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],C2t="InboundFilters",O2t=(t={})=>({name:C2t,processEvent(e,r,n){let i=n.getOptions(),o=N2t(t,i);return D2t(e,o)?null:e}}),TO=O2t;function N2t(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...t.disableErrorDefaults?[]:R2t],ignoreTransactions:[...t.ignoreTransactions||[],...e.ignoreTransactions||[]],ignoreInternal:t.ignoreInternal!==void 0?t.ignoreInternal:!0}}function D2t(t,e){return e.ignoreInternal&&K2t(t)?(Lt&&et.warn(`Event dropped due to being internal Sentry Error.
Event: ${zl(t)}`),!0):U2t(t,e.ignoreErrors)?(Lt&&et.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${zl(t)}`),!0):j2t(t)?(Lt&&et.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${zl(t)}`),!0):L2t(t,e.ignoreTransactions)?(Lt&&et.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${zl(t)}`),!0):F2t(t,e.denyUrls)?(Lt&&et.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${zl(t)}.
Url: ${_O(t)}`),!0):V2t(t,e.allowUrls)?!1:(Lt&&et.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${zl(t)}.
Url: ${_O(t)}`),!0)}function U2t(t,e){return t.type||!e||!e.length?!1:q2t(t).some(r=>yh(r,e))}function L2t(t,e){if(t.type!=="transaction"||!e||!e.length)return!1;let r=t.transaction;return r?yh(r,e):!1}function F2t(t,e){if(!e||!e.length)return!1;let r=_O(t);return r?yh(r,e):!1}function V2t(t,e){if(!e||!e.length)return!0;let r=_O(t);return r?yh(r,e):!0}function q2t(t){let e=[];t.message&&e.push(t.message);let r;try{r=t.exception.values[t.exception.values.length-1]}catch{}return r&&r.value&&(e.push(r.value),r.type&&e.push(`${r.type}: ${r.value}`)),e}function K2t(t){try{return t.exception.values[0].type==="SentryError"}catch{}return!1}function H2t(t=[]){for(let e=t.length-1;e>=0;e--){let r=t[e];if(r&&r.filename!=="<anonymous>"&&r.filename!=="[native code]")return r.filename||null}return null}function _O(t){try{let e;try{e=t.exception.values[0].stacktrace.frames}catch{}return e?H2t(e):null}catch{return Lt&&et.error(`Cannot extract url for event ${zl(t)}`),null}}function j2t(t){return t.type||!t.exception||!t.exception.values||t.exception.values.length===0?!1:!t.message&&!t.exception.values.some(e=>e.stacktrace||e.type&&e.type!=="Error"||e.value)}d();h();function ZJ(t,e,r=250,n,i,o,s){if(!o.exception||!o.exception.values||!s||!wu(s.originalException,Error))return;let c=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;c&&(o.exception.values=z2t(YJ(t,e,i,s.originalException,n,o.exception.values,c,0),r))}function YJ(t,e,r,n,i,o,s,c){if(o.length>=r+1)return o;let l=[...o];if(wu(n[i],Error)){l5e(s,c);let m=t(e,n[i]),w=l.length;d5e(m,i,w,c),l=YJ(t,e,r,n[i],i,[m,...l],m,w)}return Array.isArray(n.errors)&&n.errors.forEach((m,w)=>{if(wu(m,Error)){l5e(s,c);let b=t(e,m),E=l.length;d5e(b,`errors[${w}]`,E,c),l=YJ(t,e,r,m,i,[b,...l],b,E)}}),l}function l5e(t,e){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,...t.type==="AggregateError"&&{is_exception_group:!0},exception_id:e}}function d5e(t,e,r,n){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,type:"chained",source:e,exception_id:r,parent_id:n}}function z2t(t,e){return t.map(r=>(r.value&&(r.value=mh(r.value,e)),r))}d();h();function Kf(t){if(!t)return{};let e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};let r=e[6]||"",n=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:r,hash:n,relative:e[5]+r+n}}d();h();function QJ(t){let e="console";Pa(e,t),Ba(e,W2t)}function W2t(){"console"in $t&&m8.forEach(function(t){t in $t.console&&Vo($t.console,t,function(e){return AS[t]=e,function(...r){_o("console",{args:r,level:t});let i=AS[t];i&&i.apply($t.console,r)}})})}d();h();function JJ(t){return t==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(t)?t:"log"}d();h();var G2t="Dedupe",$2t=()=>{let t;return{name:G2t,processEvent(e){if(e.type)return e;try{if(Y2t(e,t))return Lt&&et.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return t=e}}},IO=$2t;function Y2t(t,e){return e?!!(Z2t(t,e)||Q2t(t,e)):!1}function Z2t(t,e){let r=t.message,n=e.message;return!(!r&&!n||r&&!n||!r&&n||r!==n||!m5e(t,e)||!p5e(t,e))}function Q2t(t,e){let r=h5e(e),n=h5e(t);return!(!r||!n||r.type!==n.type||r.value!==n.value||!m5e(t,e)||!p5e(t,e))}function p5e(t,e){let r=jC(t),n=jC(e);if(!r&&!n)return!0;if(r&&!n||!r&&n||(r=r,n=n,n.length!==r.length))return!1;for(let i=0;i<n.length;i++){let o=n[i],s=r[i];if(o.filename!==s.filename||o.lineno!==s.lineno||o.colno!==s.colno||o.function!==s.function)return!1}return!0}function m5e(t,e){let r=t.fingerprint,n=e.fingerprint;if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;r=r,n=n;try{return r.join("")===n.join("")}catch{return!1}}function h5e(t){return t.exception&&t.exception.values&&t.exception.values[0]}d();h();function XJ(t,e,r,n,i="auto.http.browser"){if(!t.fetchData)return;let o=ac()&&e(t.fetchData.url);if(t.endTimestamp&&o){let E=t.fetchData.__span;if(!E)return;let I=n[E];I&&(eSt(I,t),delete n[E]);return}let{method:s,url:c}=t.fetchData,l=X2t(c),m=l?Kf(l).host:void 0,w=!!Wn(),b=o&&w?_u({name:`${s} ${c}`,attributes:{url:c,type:"fetch","http.method":s,"http.url":l,"server.address":m,[Jn]:i,[sc]:"http.client"}}):new Lc;if(t.fetchData.__span=b.spanContext().spanId,n[b.spanContext().spanId]=b,r(t.fetchData.url)){let E=t.args[0],I=t.args[1]||{},M=J2t(E,I,ac()&&w?b:void 0);M&&(t.args[1]=I,I.headers=M)}return b}function J2t(t,e,r){let n=P8({span:r}),i=n["sentry-trace"],o=n.baggage;if(!i)return;let s=e.headers||(tSt(t)?t.headers:void 0);if(s)if(rSt(s)){let c=new Headers(s);if(c.set("sentry-trace",i),o){let l=c.get("baggage");if(l){let m=MO(l);c.set("baggage",m?`${m},${o}`:o)}else c.set("baggage",o)}return c}else if(Array.isArray(s)){let c=[...s.filter(l=>!(Array.isArray(l)&&l[0]==="sentry-trace")).map(l=>{if(Array.isArray(l)&&l[0]==="baggage"&&typeof l[1]=="string"){let[m,w,...b]=l;return[m,MO(w),...b]}else return l}),["sentry-trace",i]];return o&&c.push(["baggage",o]),c}else{let c="baggage"in s?s.baggage:void 0,l=[];return Array.isArray(c)?l=c.map(m=>typeof m=="string"?MO(m):m).filter(m=>m===""):c&&l.push(MO(c)),o&&l.push(o),{...s,"sentry-trace":i,baggage:l.length>0?l.join(","):void 0}}else return{...n}}function X2t(t){try{return new URL(t).href}catch{return}}function eSt(t,e){if(e.response){RS(t,e.response.status);let r=e.response&&e.response.headers&&e.response.headers.get("content-length");if(r){let n=parseInt(r);n>0&&t.setAttribute("http.response_content_length",n)}}else e.error&&t.setStatus({code:2,message:"internal_error"});t.end()}function MO(t){return t.split(",").filter(e=>!e.split("=")[0].startsWith(XC)).join(",")}function tSt(t){return typeof Request<"u"&&wu(t,Request)}function rSt(t){return typeof Headers<"u"&&wu(t,Headers)}d();h();function kO(t){if(t!==void 0)return t>=400&&t<500?"warning":t>=500?"error":void 0}d();h();d();h();var eX=$t;function PO(){if(!("fetch"in eX))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function B8(t){return t&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function tX(){if(typeof EdgeRuntime=="string")return!0;if(!PO())return!1;if(B8(eX.fetch))return!0;let t=!1,e=eX.document;if(e&&typeof e.createElement=="function")try{let r=e.createElement("iframe");r.hidden=!0,e.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(t=B8(r.contentWindow.fetch)),e.head.removeChild(r)}catch(r){Cc&&et.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return t}function R8(t,e){let r="fetch";Pa(r,t),Ba(r,()=>g5e(void 0,e))}function nX(t){let e="fetch-body-resolved";Pa(e,t),Ba(e,()=>g5e(iSt))}function g5e(t,e=!1){e&&!tX()||Vo($t,"fetch",function(r){return function(...n){let i=new Error,{method:o,url:s}=oSt(n),c={args:n,fetchData:{method:o,url:s},startTimestamp:ro()*1e3,virtualError:i};return t||_o("fetch",{...c}),r.apply($t,n).then(async l=>(t?t(l):_o("fetch",{...c,endTimestamp:ro()*1e3,response:l}),l),l=>{throw _o("fetch",{...c,endTimestamp:ro()*1e3,error:l}),hv(l)&&l.stack===void 0&&(l.stack=i.stack,lo(l,"framesToPop",1)),l})}})}async function nSt(t,e){if(t&&t.body){let r=t.body,n=r.getReader(),i=setTimeout(()=>{r.cancel().then(null,()=>{})},90*1e3),o=!0;for(;o;){let s;try{s=setTimeout(()=>{r.cancel().then(null,()=>{})},5e3);let{done:c}=await n.read();clearTimeout(s),c&&(e(),o=!1)}catch{o=!1}finally{clearTimeout(s)}}clearTimeout(i),n.releaseLock(),r.cancel().then(null,()=>{})}}function iSt(t){let e;try{e=t.clone()}catch{return}nSt(e,()=>{_o("fetch-body-resolved",{endTimestamp:ro()*1e3,response:t})})}function rX(t,e){return!!t&&typeof t=="object"&&!!t[e]}function y5e(t){return typeof t=="string"?t:t?rX(t,"url")?t.url:t.toString?t.toString():"":""}function oSt(t){if(t.length===0)return{method:"GET",url:""};if(t.length===2){let[r,n]=t;return{url:y5e(r),method:rX(n,"method")?String(n.method).toUpperCase():"GET"}}let e=t[0];return{url:y5e(e),method:rX(e,"method")?String(e.method).toUpperCase():"GET"}}d();h();function iX(){return"npm"}d();h();var BO=$t;function oX(){let t=BO.chrome,e=t&&t.app&&t.app.runtime,r="history"in BO&&!!BO.history.pushState&&!!BO.history.replaceState;return!e&&r}d();h();var Ht=$t,sX=0;function aX(){return sX>0}function xSt(){sX++,setTimeout(()=>{sX--})}function wv(t,e={}){function r(i){return typeof i=="function"}if(!r(t))return t;try{let i=t.__sentry_wrapped__;if(i)return typeof i=="function"?i:t;if(yv(t))return t}catch{return t}let n=function(...i){try{let o=i.map(s=>wv(s,e));return t.apply(this,o)}catch(o){throw xSt(),ng(s=>{s.addEventProcessor(c=>(e.mechanism&&(IS(c,void 0,void 0),bh(c,e.mechanism)),c.extra={...c.extra,arguments:i},c)),cg(o)}),o}};try{for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}catch{}YC(n,t),lo(t,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get(){return t.name}})}catch{}return n}d();h();d();h();var js=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;d();h();function RO(t,e){let r=fX(t,e),n={type:_St(e),value:TSt(e)};return r.length&&(n.stacktrace={frames:r}),n.type===void 0&&n.value===""&&(n.value="Unrecoverable error caught"),n}function wSt(t,e,r,n){let i=Zt(),o=i&&i.getOptions().normalizeDepth,s=kSt(e),c={__serialized__:uO(e,o)};if(s)return{exception:{values:[RO(t,s)]},extra:c};let l={exception:{values:[{type:mv(e)?e.constructor.name:n?"UnhandledRejection":"Error",value:ISt(e,{isUnhandledRejection:n})}]},extra:c};if(r){let m=fX(t,r);m.length&&(l.exception.values[0].stacktrace={frames:m})}return l}function cX(t,e){return{exception:{values:[RO(t,e)]}}}function fX(t,e){let r=e.stacktrace||e.stack||"",n=ASt(e),i=ESt(e);try{return t(r,n,i)}catch{}return[]}var SSt=/Minified React error #\d+;/i;function ASt(t){return t&&SSt.test(t.message)?1:0}function ESt(t){return typeof t.framesToPop=="number"?t.framesToPop:0}function v5e(t){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?t instanceof WebAssembly.Exception:!1}function _St(t){let e=t&&t.name;return!e&&v5e(t)?t.message&&Array.isArray(t.message)&&t.message.length==2?t.message[0]:"WebAssembly.Exception":e}function TSt(t){let e=t&&t.message;return e?e.error&&typeof e.error.message=="string"?e.error.message:v5e(t)&&Array.isArray(t.message)&&t.message.length==2?t.message[1]:e:"No error message"}function x5e(t,e,r,n){let i=r&&r.syntheticException||void 0,o=CO(t,e,i,n);return bh(o),o.level="error",r&&r.event_id&&(o.event_id=r.event_id),Ff(o)}function w5e(t,e,r="info",n,i){let o=n&&n.syntheticException||void 0,s=uX(t,e,o,i);return s.level=r,n&&n.event_id&&(s.event_id=n.event_id),Ff(s)}function CO(t,e,r,n,i){let o;if(WC(e)&&e.error)return cX(t,e.error);if(GC(e)||fJ(e)){let s=e;if("stack"in e)o=cX(t,e);else{let c=s.name||(GC(s)?"DOMError":"DOMException"),l=s.message?`${c}: ${s.message}`:c;o=uX(t,l,r,n),IS(o,l)}return"code"in s&&(o.tags={...o.tags,"DOMException.code":`${s.code}`}),o}return hv(e)?cX(t,e):Hl(e)||mv(e)?(o=wSt(t,e,r,i),bh(o,{synthetic:!0}),o):(o=uX(t,e,r,n),IS(o,`${e}`,void 0),bh(o,{synthetic:!0}),o)}function uX(t,e,r,n){let i={};if(n&&r){let o=fX(t,r);o.length&&(i.exception={values:[{value:e,stacktrace:{frames:o}}]}),bh(i,{synthetic:!0})}if(_S(e)){let{__sentry_template_string__:o,__sentry_template_values__:s}=e;return i.logentry={message:o,params:s},i}return i.message=e,i}function ISt(t,{isUnhandledRejection:e}){let r=gJ(t),n=e?"promise rejection":"exception";return WC(t)?`Event \`ErrorEvent\` captured as ${n} with message \`${t.message}\``:mv(t)?`Event \`${MSt(t)}\` (type=${t.type}) captured as ${n}`:`Object captured as ${n} with keys: ${r}`}function MSt(t){try{let e=Object.getPrototypeOf(t);return e?e.constructor.name:void 0}catch{}}function kSt(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e)){let r=t[e];if(r instanceof Error)return r}}d();h();function S5e(t,{metadata:e,tunnel:r,dsn:n}){let i={event_id:t.event_id,sent_at:new Date().toISOString(),...e&&e.sdk&&{sdk:{name:e.sdk.name,version:e.sdk.version}},...!!r&&!!n&&{dsn:xh(n)}},o=PSt(t);return $l(i,[o])}function PSt(t){return[{type:"user_report"},t]}var OO=class extends k8{constructor(e){let r={parentSpanIsAlwaysRootSpan:!0,...e},n=Ht.SENTRY_SDK_SOURCE||iX();xv(r,"browser",["browser"],n),super(r),r.sendClientReports&&Ht.document&&Ht.document.addEventListener("visibilitychange",()=>{Ht.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(e,r){return x5e(this._options.stackParser,e,r,this._options.attachStacktrace)}eventFromMessage(e,r="info",n){return w5e(this._options.stackParser,e,r,n,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled()){js&&et.warn("SDK not enabled, will not capture user feedback.");return}let r=S5e(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(r)}_prepareEvent(e,r,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,r,n)}};d();h();d();h();d();h();d();h();var VS=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;d();h();d();h();var BSt=(t,e)=>t>e[1]?"poor":t>e[0]?"needs-improvement":"good",Hf=(t,e,r,n)=>{let i,o;return s=>{e.value>=0&&(s||n)&&(o=e.value-(i||0),(o||i===void 0)&&(i=e.value,e.delta=o,e.rating=BSt(e.value,r),t(e)))}};d();h();d();h();var _t=$t;d();h();var A5e=()=>`v4-${Date.now()}-${Math.floor(Math.random()*8999999999999)+1e12}`;d();h();d();h();var up=(t=!0)=>{let e=_t.performance&&_t.performance.getEntriesByType&&_t.performance.getEntriesByType("navigation")[0];if(!t||e&&e.responseStart>0&&e.responseStart<performance.now())return e};var wh=()=>{let t=up();return t&&t.activationStart||0};var jf=(t,e)=>{let r=up(),n="navigate";return r&&(_t.document&&_t.document.prerendering||wh()>0?n="prerender":_t.document&&_t.document.wasDiscarded?n="restore":r.type&&(n=r.type.replace(/_/g,"-"))),{name:t,value:typeof e>"u"?-1:e,rating:"good",delta:0,entries:[],id:A5e(),navigationType:n}};d();h();var Vc=(t,e,r)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(t)){let n=new PerformanceObserver(i=>{Promise.resolve().then(()=>{e(i.getEntries())})});return n.observe(Object.assign({type:t,buffered:!0},r||{})),n}}catch{}};d();h();var zf=t=>{let e=r=>{(r.type==="pagehide"||_t.document&&_t.document.visibilityState==="hidden")&&t(r)};_t.document&&(addEventListener("visibilitychange",e,!0),addEventListener("pagehide",e,!0))};d();h();var ug=t=>{let e=!1;return()=>{e||(t(),e=!0)}};d();h();d();h();var O8=-1,RSt=()=>_t.document.visibilityState==="hidden"&&!_t.document.prerendering?0:1/0,NO=t=>{_t.document.visibilityState==="hidden"&&O8>-1&&(O8=t.type==="visibilitychange"?t.timeStamp:0,OSt())},CSt=()=>{addEventListener("visibilitychange",NO,!0),addEventListener("prerenderingchange",NO,!0)},OSt=()=>{removeEventListener("visibilitychange",NO,!0),removeEventListener("prerenderingchange",NO,!0)},fg=()=>(_t.document&&O8<0&&(O8=RSt(),CSt()),{get firstHiddenTime(){return O8}});d();h();var Sh=t=>{_t.document&&_t.document.prerendering?addEventListener("prerenderingchange",()=>t(),!0):t()};var NSt=[1800,3e3],E5e=(t,e={})=>{Sh(()=>{let r=fg(),n=jf("FCP"),i,s=Vc("paint",c=>{c.forEach(l=>{l.name==="first-contentful-paint"&&(s.disconnect(),l.startTime<r.firstHiddenTime&&(n.value=Math.max(l.startTime-wh(),0),n.entries.push(l),i(!0)))})});s&&(i=Hf(t,n,NSt,e.reportAllChanges))})};var DSt=[.1,.25],_5e=(t,e={})=>{E5e(ug(()=>{let r=jf("CLS",0),n,i=0,o=[],s=l=>{l.forEach(m=>{if(!m.hadRecentInput){let w=o[0],b=o[o.length-1];i&&w&&b&&m.startTime-b.startTime<1e3&&m.startTime-w.startTime<5e3?(i+=m.value,o.push(m)):(i=m.value,o=[m])}}),i>r.value&&(r.value=i,r.entries=o,n())},c=Vc("layout-shift",s);c&&(n=Hf(t,r,DSt,e.reportAllChanges),zf(()=>{s(c.takeRecords()),n(!0)}),setTimeout(n,0))}))};d();h();var USt=[100,300],T5e=(t,e={})=>{Sh(()=>{let r=fg(),n=jf("FID"),i,o=l=>{l.startTime<r.firstHiddenTime&&(n.value=l.processingStart-l.startTime,n.entries.push(l),i(!0))},s=l=>{l.forEach(o)},c=Vc("first-input",s);i=Hf(t,n,USt,e.reportAllChanges),c&&zf(ug(()=>{s(c.takeRecords()),c.disconnect()}))})};d();h();d();h();d();h();var I5e=0,lX=1/0,DO=0,LSt=t=>{t.forEach(e=>{e.interactionId&&(lX=Math.min(lX,e.interactionId),DO=Math.max(DO,e.interactionId),I5e=DO?(DO-lX)/7+1:0)})},dX,M5e=()=>dX?I5e:performance.interactionCount||0,k5e=()=>{"interactionCount"in performance||dX||(dX=Vc("event",LSt,{type:"event",buffered:!0,durationThreshold:0}))};var fp=[],hX=new Map,P5e=40,FSt=0,VSt=()=>M5e()-FSt,B5e=()=>{let t=Math.min(fp.length-1,Math.floor(VSt()/50));return fp[t]},pX=10,qSt=[],R5e=t=>{if(qSt.forEach(n=>n(t)),!(t.interactionId||t.entryType==="first-input"))return;let e=fp[fp.length-1],r=hX.get(t.interactionId);if(r||fp.length<pX||e&&t.duration>e.latency){if(r)t.duration>r.latency?(r.entries=[t],r.latency=t.duration):t.duration===r.latency&&t.startTime===(r.entries[0]&&r.entries[0].startTime)&&r.entries.push(t);else{let n={id:t.interactionId,latency:t.duration,entries:[t]};hX.set(n.id,n),fp.push(n)}fp.sort((n,i)=>i.latency-n.latency),fp.length>pX&&fp.splice(pX).forEach(n=>hX.delete(n.id))}};d();h();var UO=t=>{let e=_t.requestIdleCallback||_t.setTimeout,r=-1;return t=ug(t),_t.document&&_t.document.visibilityState==="hidden"?t():(r=e(t),zf(t)),r};var KSt=[200,500],C5e=(t,e={})=>{"PerformanceEventTiming"in _t&&"interactionId"in PerformanceEventTiming.prototype&&Sh(()=>{k5e();let r=jf("INP"),n,i=s=>{UO(()=>{s.forEach(R5e);let c=B5e();c&&c.latency!==r.value&&(r.value=c.latency,r.entries=c.entries,n())})},o=Vc("event",i,{durationThreshold:e.durationThreshold!=null?e.durationThreshold:P5e});n=Hf(t,r,KSt,e.reportAllChanges),o&&(o.observe({type:"first-input",buffered:!0}),zf(()=>{i(o.takeRecords()),n(!0)}))})};d();h();var HSt=[2500,4e3],O5e={},N5e=(t,e={})=>{Sh(()=>{let r=fg(),n=jf("LCP"),i,o=c=>{e.reportAllChanges||(c=c.slice(-1)),c.forEach(l=>{l.startTime<r.firstHiddenTime&&(n.value=Math.max(l.startTime-wh(),0),n.entries=[l],i())})},s=Vc("largest-contentful-paint",o);if(s){i=Hf(t,n,HSt,e.reportAllChanges);let c=ug(()=>{O5e[n.id]||(o(s.takeRecords()),s.disconnect(),O5e[n.id]=!0,i(!0))});["keydown","click"].forEach(l=>{_t.document&&addEventListener(l,()=>UO(c),{once:!0,capture:!0})}),zf(c)}})};d();h();var jSt=[800,1800],mX=t=>{_t.document&&_t.document.prerendering?Sh(()=>mX(t)):_t.document&&_t.document.readyState!=="complete"?addEventListener("load",()=>mX(t),!0):setTimeout(t,0)},D5e=(t,e={})=>{let r=jf("TTFB"),n=Hf(t,r,jSt,e.reportAllChanges);mX(()=>{let i=up();i&&(r.value=Math.max(i.responseStart-wh(),0),r.entries=[i],n(!0))})};var N8={},LO={},U5e,L5e,F5e,V5e,q5e;function D8(t,e=!1){return U8("cls",t,zSt,U5e,e)}function yX(t,e=!1){return U8("lcp",t,GSt,F5e,e)}function gX(t){return U8("fid",t,WSt,L5e)}function bX(t){return U8("ttfb",t,$St,V5e)}function vX(t){return U8("inp",t,YSt,q5e)}function lp(t,e){return K5e(t,e),LO[t]||(ZSt(t),LO[t]=!0),H5e(t,e)}function qS(t,e){let r=N8[t];if(!(!r||!r.length))for(let n of r)try{n(e)}catch(i){VS&&et.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${Nc(n)}
Error:`,i)}}function zSt(){return _5e(t=>{qS("cls",{metric:t}),U5e=t},{reportAllChanges:!0})}function WSt(){return T5e(t=>{qS("fid",{metric:t}),L5e=t})}function GSt(){return N5e(t=>{qS("lcp",{metric:t}),F5e=t},{reportAllChanges:!0})}function $St(){return D5e(t=>{qS("ttfb",{metric:t}),V5e=t})}function YSt(){return C5e(t=>{qS("inp",{metric:t}),q5e=t})}function U8(t,e,r,n,i=!1){K5e(t,e);let o;return LO[t]||(o=r(),LO[t]=!0),n&&e({metric:n}),H5e(t,e,i?o:void 0)}function ZSt(t){let e={};t==="event"&&(e.durationThreshold=0),Vc(t,r=>{qS(t,{entries:r})},e)}function K5e(t,e){N8[t]=N8[t]||[],N8[t].push(e)}function H5e(t,e,r){return()=>{r&&r();let n=N8[t];if(!n)return;let i=n.indexOf(e);i!==-1&&n.splice(i,1)}}function j5e(t){return"duration"in t}d();h();d();h();d();h();function FO(t){return typeof t=="number"&&isFinite(t)}function Ah(t,e,r,{...n}){let i=Qt(t).start_timestamp;return i&&i>e&&typeof t.updateStartTime=="function"&&t.updateStartTime(e),NS(t,()=>{let o=_u({startTime:e,...n});return o&&o.end(r),o})}function VO(t){let e=Zt();if(!e)return;let{name:r,transaction:n,attributes:i,startTime:o}=t,{release:s,environment:c}=e.getOptions(),l=e.getIntegrationByName("Replay"),m=l&&l.getReplayId(),w=pr(),b=w.getUser(),E=b!==void 0?b.email||b.id||b.ip_address:void 0,I;try{I=w.getScopeData().contexts.profile.profile_id}catch{}let M={release:s,environment:c,user:E||void 0,profile_id:I||void 0,replay_id:m||void 0,transaction:n,"user_agent.original":_t.navigator&&_t.navigator.userAgent,...i};return _u({name:r,attributes:M,startTime:o,experimental:{standalone:!0}})}function L8(){return _t&&_t.addEventListener&&_t.performance}function Pi(t){return t/1e3}function F8(t){let e="unknown",r="unknown",n="";for(let i of t){if(i==="/"){[e,r]=t.split("/");break}if(!isNaN(Number(i))){e=n==="h"?"http":n,r=t.split(n)[1];break}n+=i}return n===t&&(e=n),{name:e,version:r}}function z5e(){let t=0,e,r;if(!JSt())return;let n=!1;function i(){n||(n=!0,r&&QSt(t,e,r),o())}let o=D8(({metric:s})=>{let c=s.entries[s.entries.length-1];c&&(t=s.value,e=c)},!0);zf(()=>{i()}),setTimeout(()=>{let s=Zt();if(!s)return;let c=s.on("startNavigationSpan",()=>{i(),c&&c()}),l=Wn(),m=l&&zn(l),w=m&&Qt(m);w&&w.op==="pageload"&&(r=m.spanContext().spanId)},0)}function QSt(t,e,r){VS&&et.log(`Sending CLS span (${t})`);let n=Pi((To||0)+(e&&e.startTime||0)),i=pr().getScopeData().transactionName,o=e?Su(e.sources[0]&&e.sources[0].node):"Layout shift",s=Qn({[Jn]:"auto.http.browser.cls",[sc]:"ui.webvital.cls",[bv]:e&&e.duration||0,"sentry.pageload.span_id":r}),c=VO({name:o,transaction:i,attributes:s,startTime:n});c&&(c.addEvent("cls",{[ig]:"",[og]:t}),c.end(n))}function JSt(){try{return PerformanceObserver.supportedEntryTypes.includes("layout-shift")}catch{return!1}}var XSt=2147483647,W5e=0,zs={},qc,V8;function wX({recordClsStandaloneSpans:t}){let e=L8();if(e&&To){e.mark&&_t.performance.mark("sentry-tracing-init");let r=rAt(),n=tAt(),i=nAt(),o=t?z5e():eAt();return()=>{r(),n(),i(),o&&o()}}return()=>{}}function SX(){lp("longtask",({entries:t})=>{let e=Wn();if(!e)return;let{op:r,start_timestamp:n}=Qt(e);for(let i of t){let o=Pi(To+i.startTime),s=Pi(i.duration);r==="navigation"&&n&&o<n||Ah(e,o,o+s,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[Jn]:"auto.ui.browser.metrics"}})}})}function AX(){new PerformanceObserver(e=>{let r=Wn();if(r)for(let n of e.getEntries()){if(!n.scripts[0])continue;let i=Pi(To+n.startTime),{start_timestamp:o,op:s}=Qt(r);if(s==="navigation"&&o&&i<o)continue;let c=Pi(n.duration),l={[Jn]:"auto.ui.browser.metrics"},m=n.scripts[0],{invoker:w,invokerType:b,sourceURL:E,sourceFunctionName:I,sourceCharPosition:M}=m;l["browser.script.invoker"]=w,l["browser.script.invoker_type"]=b,E&&(l["code.filepath"]=E),I&&(l["code.function"]=I),M!==-1&&(l["browser.script.source_char_position"]=M),Ah(r,i,i+c,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:l})}}).observe({type:"long-animation-frame",buffered:!0})}function EX(){lp("event",({entries:t})=>{let e=Wn();if(e){for(let r of t)if(r.name==="click"){let n=Pi(To+r.startTime),i=Pi(r.duration),o={name:Su(r.target),op:`ui.interaction.${r.name}`,startTime:n,attributes:{[Jn]:"auto.ui.browser.metrics"}},s=x8(r.target);s&&(o.attributes["ui.component_name"]=s),Ah(e,n,n+i,o)}}})}function eAt(){return D8(({metric:t})=>{let e=t.entries[t.entries.length-1];e&&(zs.cls={value:t.value,unit:""},V8=e)},!0)}function tAt(){return yX(({metric:t})=>{let e=t.entries[t.entries.length-1];e&&(zs.lcp={value:t.value,unit:"millisecond"},qc=e)},!0)}function rAt(){return gX(({metric:t})=>{let e=t.entries[t.entries.length-1];if(!e)return;let r=Pi(To),n=Pi(e.startTime);zs.fid={value:t.value,unit:"millisecond"},zs["mark.fid"]={value:r+n,unit:"second"}})}function nAt(){return bX(({metric:t})=>{t.entries[t.entries.length-1]&&(zs.ttfb={value:t.value,unit:"millisecond"})})}function _X(t,e){let r=L8();if(!r||!r.getEntries||!To)return;let n=Pi(To),i=r.getEntries(),{op:o,start_timestamp:s}=Qt(t);if(i.slice(W5e).forEach(c=>{let l=Pi(c.startTime),m=Pi(Math.max(0,c.duration));if(!(o==="navigation"&&s&&n+l<s))switch(c.entryType){case"navigation":{oAt(t,c,n);break}case"mark":case"paint":case"measure":{iAt(t,c,l,m,n);let w=fg(),b=c.startTime<w.firstHiddenTime;c.name==="first-paint"&&b&&(zs.fp={value:c.startTime,unit:"millisecond"}),c.name==="first-contentful-paint"&&b&&(zs.fcp={value:c.startTime,unit:"millisecond"});break}case"resource":{cAt(t,c,c.name,l,m,n);break}}}),W5e=Math.max(i.length-1,0),uAt(t),o==="pageload"){lAt(zs);let c=zs["mark.fid"];c&&zs.fid&&(Ah(t,c.value,c.value+Pi(zs.fid.value),{name:"first input delay",op:"ui.action",attributes:{[Jn]:"auto.ui.browser.metrics"}}),delete zs["mark.fid"]),(!("fcp"in zs)||!e.recordClsOnPageloadSpan)&&delete zs.cls,Object.entries(zs).forEach(([l,m])=>{hO(l,m.value,m.unit)}),t.setAttribute("performance.timeOrigin",n),t.setAttribute("performance.activationStart",wh()),fAt(t)}qc=void 0,V8=void 0,zs={}}function iAt(t,e,r,n,i){let o=up(!1),s=Pi(o?o.requestStart:0),c=i+Math.max(r,s),l=i+r,m=l+n,w={[Jn]:"auto.resource.browser.metrics"};return c!==l&&(w["sentry.browser.measure_happened_before_request"]=!0,w["sentry.browser.measure_start_time"]=c),Ah(t,c,m,{name:e.name,op:e.entryType,attributes:w}),c}function oAt(t,e,r){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(n=>{qO(t,e,n,r)}),qO(t,e,"secureConnection",r,"TLS/SSL"),qO(t,e,"fetch",r,"cache"),qO(t,e,"domainLookup",r,"DNS"),aAt(t,e,r)}function qO(t,e,r,n,i=r){let o=sAt(r),s=e[o],c=e[`${r}Start`];!c||!s||Ah(t,n+Pi(c),n+Pi(s),{op:`browser.${i}`,name:e.name,attributes:{[Jn]:"auto.ui.browser.metrics"}})}function sAt(t){return t==="secureConnection"?"connectEnd":t==="fetch"?"domainLookupStart":`${t}End`}function aAt(t,e,r){let n=r+Pi(e.requestStart),i=r+Pi(e.responseEnd),o=r+Pi(e.responseStart);e.responseEnd&&(Ah(t,n,i,{op:"browser.request",name:e.name,attributes:{[Jn]:"auto.ui.browser.metrics"}}),Ah(t,o,i,{op:"browser.response",name:e.name,attributes:{[Jn]:"auto.ui.browser.metrics"}}))}function cAt(t,e,r,n,i,o){if(e.initiatorType==="xmlhttprequest"||e.initiatorType==="fetch")return;let s=Kf(r),c={[Jn]:"auto.resource.browser.metrics"};xX(c,e,"transferSize","http.response_transfer_size"),xX(c,e,"encodedBodySize","http.response_content_length"),xX(c,e,"decodedBodySize","http.decoded_response_content_length");let l=e.deliveryType;l!=null&&(c["http.response_delivery_type"]=l);let m=e.renderBlockingStatus;m&&(c["resource.render_blocking_status"]=m),s.protocol&&(c["url.scheme"]=s.protocol.split(":").pop()),s.host&&(c["server.address"]=s.host),c["url.same_origin"]=r.includes(_t.location.origin);let{name:w,version:b}=F8(e.nextHopProtocol);c["network.protocol.name"]=w,c["network.protocol.version"]=b;let E=o+n,I=E+i;Ah(t,E,I,{name:r.replace(_t.location.origin,""),op:e.initiatorType?`resource.${e.initiatorType}`:"resource.other",attributes:c})}function uAt(t){let e=_t.navigator;if(!e)return;let r=e.connection;r&&(r.effectiveType&&t.setAttribute("effectiveConnectionType",r.effectiveType),r.type&&t.setAttribute("connectionType",r.type),FO(r.rtt)&&(zs["connection.rtt"]={value:r.rtt,unit:"millisecond"})),FO(e.deviceMemory)&&t.setAttribute("deviceMemory",`${e.deviceMemory} GB`),FO(e.hardwareConcurrency)&&t.setAttribute("hardwareConcurrency",String(e.hardwareConcurrency))}function fAt(t){qc&&(qc.element&&t.setAttribute("lcp.element",Su(qc.element)),qc.id&&t.setAttribute("lcp.id",qc.id),qc.url&&t.setAttribute("lcp.url",qc.url.trim().slice(0,200)),qc.loadTime!=null&&t.setAttribute("lcp.loadTime",qc.loadTime),qc.renderTime!=null&&t.setAttribute("lcp.renderTime",qc.renderTime),t.setAttribute("lcp.size",qc.size)),V8&&V8.sources&&V8.sources.forEach((e,r)=>t.setAttribute(`cls.source.${r+1}`,Su(e.node)))}function xX(t,e,r,n){let i=e[r];i!=null&&i<XSt&&(t[n]=i)}function lAt(t){let e=up(!1);if(!e)return;let{responseStart:r,requestStart:n}=e;n<=r&&(t["ttfb.requestTime"]={value:r-n,unit:"millisecond"})}d();h();var dAt=1e3,G5e,TX,IX;function MX(t){let e="dom";Pa(e,t),Ba(e,hAt)}function hAt(){if(!_t.document)return;let t=_o.bind(null,"dom"),e=$5e(t,!0);_t.document.addEventListener("click",e,!1),_t.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(r=>{let i=_t[r],o=i&&i.prototype;!o||!o.hasOwnProperty||!o.hasOwnProperty("addEventListener")||(Vo(o,"addEventListener",function(s){return function(c,l,m){if(c==="click"||c=="keypress")try{let w=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},b=w[c]=w[c]||{refCount:0};if(!b.handler){let E=$5e(t);b.handler=E,s.call(this,c,E,m)}b.refCount++}catch{}return s.call(this,c,l,m)}}),Vo(o,"removeEventListener",function(s){return function(c,l,m){if(c==="click"||c=="keypress")try{let w=this.__sentry_instrumentation_handlers__||{},b=w[c];b&&(b.refCount--,b.refCount<=0&&(s.call(this,c,b.handler,m),b.handler=void 0,delete w[c]),Object.keys(w).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return s.call(this,c,l,m)}}))})}function pAt(t){if(t.type!==TX)return!1;try{if(!t.target||t.target._sentryId!==IX)return!1}catch{}return!0}function mAt(t,e){return t!=="keypress"?!1:!e||!e.tagName?!0:!(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable)}function $5e(t,e=!1){return r=>{if(!r||r._sentryCaptured)return;let n=yAt(r);if(mAt(r.type,n))return;lo(r,"_sentryCaptured",!0),n&&!n._sentryId&&lo(n,"_sentryId",qo());let i=r.type==="keypress"?"input":r.type;pAt(r)||(t({event:r,name:i,global:e}),TX=r.type,IX=n?n._sentryId:void 0),clearTimeout(G5e),G5e=_t.setTimeout(()=>{IX=void 0,TX=void 0},dAt)}}function yAt(t){try{return t.target}catch{return null}}d();h();var KO;function Sv(t){let e="history";Pa(e,t),Ba(e,gAt)}function gAt(){if(!oX())return;let t=_t.onpopstate;_t.onpopstate=function(...r){let n=_t.location.href,i=KO;if(KO=n,_o("history",{from:i,to:n}),t)try{return t.apply(this,r)}catch{}};function e(r){return function(...n){let i=n.length>2?n[2]:void 0;if(i){let o=KO,s=String(i);KO=s,_o("history",{from:o,to:s})}return r.apply(this,n)}}Vo(_t.history,"pushState",e),Vo(_t.history,"replaceState",e)}d();h();var HO={};function kX(t){let e=HO[t];if(e)return e;let r=_t[t];if(B8(r))return HO[t]=r.bind(_t);let n=_t.document;if(n&&typeof n.createElement=="function")try{let i=n.createElement("iframe");i.hidden=!0,n.head.appendChild(i);let o=i.contentWindow;o&&o[t]&&(r=o[t]),n.head.removeChild(i)}catch(i){VS&&et.warn(`Could not create sandbox iframe for ${t} check, bailing to window.${t}: `,i)}return r&&(HO[t]=r.bind(_t))}function jO(t){HO[t]=void 0}d();h();var dp="__sentry_xhr_v3__";function q8(t){let e="xhr";Pa(e,t),Ba(e,bAt)}function bAt(){if(!_t.XMLHttpRequest)return;let t=XMLHttpRequest.prototype;t.open=new Proxy(t.open,{apply(e,r,n){let i=new Error,o=ro()*1e3,s=oc(n[0])?n[0].toUpperCase():void 0,c=vAt(n[1]);if(!s||!c)return e.apply(r,n);r[dp]={method:s,url:c,request_headers:{}},s==="POST"&&c.match(/sentry_key/)&&(r.__sentry_own_request__=!0);let l=()=>{let m=r[dp];if(m&&r.readyState===4){try{m.status_code=r.status}catch{}let w={endTimestamp:ro()*1e3,startTimestamp:o,xhr:r,virtualError:i};_o("xhr",w)}};return"onreadystatechange"in r&&typeof r.onreadystatechange=="function"?r.onreadystatechange=new Proxy(r.onreadystatechange,{apply(m,w,b){return l(),m.apply(w,b)}}):r.addEventListener("readystatechange",l),r.setRequestHeader=new Proxy(r.setRequestHeader,{apply(m,w,b){let[E,I]=b,M=w[dp];return M&&oc(E)&&oc(I)&&(M.request_headers[E.toLowerCase()]=I),m.apply(w,b)}}),e.apply(r,n)}}),t.send=new Proxy(t.send,{apply(e,r,n){let i=r[dp];if(!i)return e.apply(r,n);n[0]!==void 0&&(i.body=n[0]);let o={startTimestamp:ro()*1e3,xhr:r};return _o("xhr",o),e.apply(r,n)}})}function vAt(t){if(oc(t))return t;try{return t.toString()}catch{}}d();h();var PX=[],zO=new Map;function BX(){if(L8()&&To){let e=xAt();return()=>{e()}}return()=>{}}var Y5e={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function xAt(){return vX(({metric:t})=>{if(t.value==null)return;let e=t.entries.find(M=>M.duration===t.value&&Y5e[M.name]);if(!e)return;let{interactionId:r}=e,n=Y5e[e.name],i=Pi(To+e.startTime),o=Pi(t.value),s=Wn(),c=s?zn(s):void 0,m=(r!=null?zO.get(r):void 0)||c,w=m?Qt(m).description:pr().getScopeData().transactionName,b=Su(e.target),E=Qn({[Jn]:"auto.http.browser.inp",[sc]:`ui.interaction.${n}`,[bv]:e.duration}),I=VO({name:b,transaction:w,attributes:E,startTime:i});I&&(I.addEvent("inp",{[ig]:"millisecond",[og]:t.value}),I.end(i+o))})}function RX(t){let e=({entries:r})=>{let n=Wn(),i=n&&zn(n);r.forEach(o=>{if(!j5e(o)||!i)return;let s=o.interactionId;if(s!=null&&!zO.has(s)){if(PX.length>10){let c=PX.shift();zO.delete(c)}PX.push(s),zO.set(s,i)}})};lp("event",e),lp("first-input",e)}function Z5e(t,e=kX("fetch")){let r=0,n=0;function i(o){let s=o.body.length;r+=s,n++;let c={body:o.body,method:"POST",referrerPolicy:"origin",headers:t.headers,keepalive:r<=6e4&&n<15,...t.fetchOptions};if(!e)return jO("fetch"),rg("No fetch implementation available");try{return e(t.url,c).then(l=>(r-=s,n--,{statusCode:l.status,headers:{"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")}}))}catch(l){return jO("fetch"),r-=s,n--,rg(l)}}return AO(t,i)}d();h();var wAt=30;var SAt=50;function CX(t,e,r,n){let i={filename:t,function:e==="<anonymous>"?ph:e,in_app:!0};return r!==void 0&&(i.lineno=r),n!==void 0&&(i.colno=n),i}var AAt=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,EAt=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,_At=/\((\S*)(?::(\d+))(?::(\d+))\)/,TAt=t=>{let e=AAt.exec(t);if(e){let[,n,i,o]=e;return CX(n,ph,+i,+o)}let r=EAt.exec(t);if(r){if(r[2]&&r[2].indexOf("eval")===0){let s=_At.exec(r[2]);s&&(r[2]=s[1],r[3]=s[2],r[4]=s[3])}let[i,o]=J5e(r[1]||ph,r[2]);return CX(o,i,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}},IAt=[wAt,TAt],MAt=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,kAt=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,PAt=t=>{let e=MAt.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){let o=kAt.exec(e[3]);o&&(e[1]=e[1]||"eval",e[3]=o[1],e[4]=o[2],e[5]="")}let n=e[3],i=e[1]||ph;return[i,n]=J5e(i,n),CX(n,i,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}},BAt=[SAt,PAt];var RAt=[IAt,BAt],Q5e=HC(...RAt),J5e=(t,e)=>{let r=t.indexOf("safari-extension")!==-1,n=t.indexOf("safari-web-extension")!==-1;return r||n?[t.indexOf("@")!==-1?t.split("@")[0]:ph,r?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]};d();h();d();h();var WO=1024,CAt="Breadcrumbs",OAt=(t={})=>{let e={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t};return{name:CAt,setup(r){e.console&&QJ(UAt(r)),e.dom&&MX(DAt(r,e.dom)),e.xhr&&q8(LAt(r)),e.fetch&&R8(FAt(r)),e.history&&Sv(VAt(r)),e.sentry&&r.on("beforeSendEvent",NAt(r))}}},K8=OAt;function NAt(t){return function(r){Zt()===t&&Fc({category:`sentry.${r.type==="transaction"?"transaction":"event"}`,event_id:r.event_id,level:r.level,message:zl(r)},{event:r})}}function DAt(t,e){return function(n){if(Zt()!==t)return;let i,o,s=typeof e=="object"?e.serializeAttribute:void 0,c=typeof e=="object"&&typeof e.maxStringLength=="number"?e.maxStringLength:void 0;c&&c>WO&&(js&&et.warn(`\`dom.maxStringLength\` cannot exceed ${WO}, but a value of ${c} was configured. Sentry will use ${WO} instead.`),c=WO),typeof s=="string"&&(s=[s]);try{let m=n.event,w=qAt(m)?m.target:m;i=Su(w,{keyAttrs:s,maxStringLength:c}),o=x8(w)}catch{i="<unknown>"}if(i.length===0)return;let l={category:`ui.${n.name}`,message:i};o&&(l.data={"ui.component_name":o}),Fc(l,{event:n.event,name:n.name,global:n.global})}}function UAt(t){return function(r){if(Zt()!==t)return;let n={category:"console",data:{arguments:r.args,logger:"console"},level:JJ(r.level),message:$C(r.args," ")};if(r.level==="assert")if(r.args[0]===!1)n.message=`Assertion failed: ${$C(r.args.slice(1)," ")||"console.assert"}`,n.data.arguments=r.args.slice(1);else return;Fc(n,{input:r.args,level:r.level})}}function LAt(t){return function(r){if(Zt()!==t)return;let{startTimestamp:n,endTimestamp:i}=r,o=r.xhr[dp];if(!n||!i||!o)return;let{method:s,url:c,status_code:l,body:m}=o,w={method:s,url:c,status_code:l},b={xhr:r.xhr,input:m,startTimestamp:n,endTimestamp:i},E=kO(l);Fc({category:"xhr",data:w,type:"http",level:E},b)}}function FAt(t){return function(r){if(Zt()!==t)return;let{startTimestamp:n,endTimestamp:i}=r;if(i&&!(r.fetchData.url.match(/sentry_key/)&&r.fetchData.method==="POST"))if(r.error){let o=r.fetchData,s={data:r.error,input:r.args,startTimestamp:n,endTimestamp:i};Fc({category:"fetch",data:o,level:"error",type:"http"},s)}else{let o=r.response,s={...r.fetchData,status_code:o&&o.status},c={input:r.args,response:o,startTimestamp:n,endTimestamp:i},l=kO(s.status_code);Fc({category:"fetch",data:s,type:"http",level:l},c)}}}function VAt(t){return function(r){if(Zt()!==t)return;let n=r.from,i=r.to,o=Kf(Ht.location.href),s=n?Kf(n):void 0,c=Kf(i);(!s||!s.path)&&(s=o),o.protocol===c.protocol&&o.host===c.host&&(i=c.relative),o.protocol===s.protocol&&o.host===s.host&&(n=s.relative),Fc({category:"navigation",data:{from:n,to:i}})}}function qAt(t){return!!t&&!!t.target}d();h();var KAt=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],HAt="BrowserApiErrors",jAt=(t={})=>{let e={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...t};return{name:HAt,setupOnce(){e.setTimeout&&Vo(Ht,"setTimeout",X5e),e.setInterval&&Vo(Ht,"setInterval",X5e),e.requestAnimationFrame&&Vo(Ht,"requestAnimationFrame",zAt),e.XMLHttpRequest&&"XMLHttpRequest"in Ht&&Vo(XMLHttpRequest.prototype,"send",WAt);let r=e.eventTarget;r&&(Array.isArray(r)?r:KAt).forEach(GAt)}}},eTe=jAt;function X5e(t){return function(...e){let r=e[0];return e[0]=wv(r,{mechanism:{data:{function:Nc(t)},handled:!1,type:"instrument"}}),t.apply(this,e)}}function zAt(t){return function(e){return t.apply(this,[wv(e,{mechanism:{data:{function:"requestAnimationFrame",handler:Nc(t)},handled:!1,type:"instrument"}})])}}function WAt(t){return function(...e){let r=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(i=>{i in r&&typeof r[i]=="function"&&Vo(r,i,function(o){let s={mechanism:{data:{function:i,handler:Nc(o)},handled:!1,type:"instrument"}},c=yv(o);return c&&(s.mechanism.data.handler=Nc(c)),wv(o,s)})}),t.apply(this,e)}}function GAt(t){let r=Ht[t],n=r&&r.prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(Vo(n,"addEventListener",function(i){return function(o,s,c){try{$At(s)&&(s.handleEvent=wv(s.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Nc(s),target:t},handled:!1,type:"instrument"}}))}catch{}return i.apply(this,[o,wv(s,{mechanism:{data:{function:"addEventListener",handler:Nc(s),target:t},handled:!1,type:"instrument"}}),c])}}),Vo(n,"removeEventListener",function(i){return function(o,s,c){try{let l=s.__sentry_wrapped__;l&&i.call(this,o,l,c)}catch{}return i.call(this,o,s,c)}}))}function $At(t){return typeof t.handleEvent=="function"}d();h();var tTe=()=>({name:"BrowserSession",setupOnce(){if(typeof Ht.document>"u"){js&&et.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}I8({ignoreDuration:!0}),M8(),Sv(({from:t,to:e})=>{t!==void 0&&t!==e&&(I8({ignoreDuration:!0}),M8())})}});d();h();var YAt="GlobalHandlers",ZAt=(t={})=>{let e={onerror:!0,onunhandledrejection:!0,...t};return{name:YAt,setupOnce(){Error.stackTraceLimit=50},setup(r){e.onerror&&(QAt(r),rTe("onerror")),e.onunhandledrejection&&(JAt(r),rTe("onunhandledrejection"))}}},nTe=ZAt;function QAt(t){y8(e=>{let{stackParser:r,attachStacktrace:n}=iTe();if(Zt()!==t||aX())return;let{msg:i,url:o,line:s,column:c,error:l}=e,m=tEt(CO(r,l||i,void 0,n,!1),o,s,c);m.level="error",T8(m,{originalException:l,mechanism:{handled:!1,type:"onerror"}})})}function JAt(t){g8(e=>{let{stackParser:r,attachStacktrace:n}=iTe();if(Zt()!==t||aX())return;let i=XAt(e),o=pv(i)?eEt(i):CO(r,i,void 0,n,!0);o.level="error",T8(o,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function XAt(t){if(pv(t))return t;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch{}return t}function eEt(t){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(t)}`}]}}}function tEt(t,e,r,n){let i=t.exception=t.exception||{},o=i.values=i.values||[],s=o[0]=o[0]||{},c=s.stacktrace=s.stacktrace||{},l=c.frames=c.frames||[],m=n,w=r,b=oc(e)&&e.length>0?e:pJ();return l.length===0&&l.push({colno:m,filename:b,function:ph,in_app:!0,lineno:w}),t}function rTe(t){js&&et.log(`Global Handler attached: ${t}`)}function iTe(){let t=Zt();return t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}d();h();var oTe=()=>({name:"HttpContext",preprocessEvent(t){if(!Ht.navigator&&!Ht.location&&!Ht.document)return;let e=t.request&&t.request.url||Ht.location&&Ht.location.href,{referrer:r}=Ht.document||{},{userAgent:n}=Ht.navigator||{},i={...t.request&&t.request.headers,...r&&{Referer:r},...n&&{"User-Agent":n}},o={...t.request,...e&&{url:e},headers:i};t.request=o}});d();h();var rEt="cause",nEt=5,iEt="LinkedErrors",oEt=(t={})=>{let e=t.limit||nEt,r=t.key||rEt;return{name:iEt,preprocessEvent(n,i,o){let s=o.getOptions();ZJ(RO,s.stackParser,s.maxValueLength,r,e,n,i)}}},sTe=oEt;function aTe(t){let e=[TO(),EO(),eTe(),K8(),nTe(),sTe(),IO(),oTe()];return t.autoSessionTracking!==!1&&e.push(tTe()),e}function sEt(t={}){let e={defaultIntegrations:aTe(t),release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:Ht.SENTRY_RELEASE&&Ht.SENTRY_RELEASE.id?Ht.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0};return t.defaultIntegrations==null&&delete t.defaultIntegrations,{...e,...t}}function aEt(){let t=typeof Ht.window<"u"&&Ht;if(!t)return!1;let e=t.chrome?"chrome":"browser",r=t[e],n=r&&r.runtime&&r.runtime.id,i=Ht.location&&Ht.location.href||"",o=["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"],s=!!n&&Ht===Ht.top&&o.some(l=>i.startsWith(`${l}//`)),c=typeof t.nw<"u";return!!n&&!s&&!c}function OX(t={}){let e=sEt(t);if(!e.skipBrowserExtensionCheck&&aEt()){Oc(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});return}js&&(PO()||et.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));let r={...e,stackParser:aJ(e.stackParser||Q5e),integrations:jJ(e),transport:e.transport||Z5e};return GJ(OO,r)}d();h();var cTe=new WeakMap,NX=new Map,H8={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function fTe(t,e){let{traceFetch:r,traceXHR:n,trackFetchStreamPerformance:i,shouldCreateSpanForRequest:o,enableHTTPTimings:s,tracePropagationTargets:c}={traceFetch:H8.traceFetch,traceXHR:H8.traceXHR,trackFetchStreamPerformance:H8.trackFetchStreamPerformance,...e},l=typeof o=="function"?o:b=>!0,m=b=>fEt(b,c),w={};r&&(t.addEventProcessor(b=>(b.type==="transaction"&&b.spans&&b.spans.forEach(E=>{if(E.op==="http.client"){let I=NX.get(E.span_id);I&&(E.timestamp=I/1e3,NX.delete(E.span_id))}}),b)),i&&nX(b=>{if(b.response){let E=cTe.get(b.response);E&&b.endTimestamp&&NX.set(E,b.endTimestamp)}}),R8(b=>{let E=XJ(b,l,m,w);if(b.response&&b.fetchData.__span&&cTe.set(b.response,b.fetchData.__span),E){let I=lTe(b.fetchData.url),M=I?Kf(I).host:void 0;E.setAttributes({"http.url":I,"server.address":M})}s&&E&&uTe(E)})),n&&q8(b=>{let E=lEt(b,l,m,w);s&&E&&uTe(E)})}function cEt(t){return t.entryType==="resource"&&"initiatorType"in t&&typeof t.nextHopProtocol=="string"&&(t.initiatorType==="fetch"||t.initiatorType==="xmlhttprequest")}function uTe(t){let{url:e}=Qt(t).data||{};if(!e||typeof e!="string")return;let r=lp("resource",({entries:n})=>{n.forEach(i=>{cEt(i)&&i.name.endsWith(e)&&(uEt(i).forEach(s=>t.setAttribute(...s)),setTimeout(r))})})}function Eh(t=0){return((To||performance.timeOrigin)+t)/1e3}function uEt(t){let{name:e,version:r}=F8(t.nextHopProtocol),n=[];return n.push(["network.protocol.version",r],["network.protocol.name",e]),To?[...n,["http.request.redirect_start",Eh(t.redirectStart)],["http.request.fetch_start",Eh(t.fetchStart)],["http.request.domain_lookup_start",Eh(t.domainLookupStart)],["http.request.domain_lookup_end",Eh(t.domainLookupEnd)],["http.request.connect_start",Eh(t.connectStart)],["http.request.secure_connection_start",Eh(t.secureConnectionStart)],["http.request.connection_end",Eh(t.connectEnd)],["http.request.request_start",Eh(t.requestStart)],["http.request.response_start",Eh(t.responseStart)],["http.request.response_end",Eh(t.responseEnd)]]:n}function fEt(t,e){let r=Ht.location&&Ht.location.href;if(r){let n,i;try{n=new URL(t,r),i=new URL(r).origin}catch{return!1}let o=n.origin===i;return e?yh(n.toString(),e)||o&&yh(n.pathname,e):o}else{let n=!!t.match(/^\/(?!\/)/);return e?yh(t,e):n}}function lEt(t,e,r,n){let i=t.xhr,o=i&&i[dp];if(!i||i.__sentry_own_request__||!o)return;let s=ac()&&e(o.url);if(t.endTimestamp&&s){let b=i.__sentry_xhr_span_id__;if(!b)return;let E=n[b];E&&o.status_code!==void 0&&(RS(E,o.status_code),E.end(),delete n[b]);return}let c=lTe(o.url),l=c?Kf(c).host:void 0,m=!!Wn(),w=s&&m?_u({name:`${o.method} ${o.url}`,attributes:{type:"xhr","http.method":o.method,"http.url":c,url:o.url,"server.address":l,[Jn]:"auto.http.browser",[sc]:"http.client"}}):new Lc;return i.__sentry_xhr_span_id__=w.spanContext().spanId,n[i.__sentry_xhr_span_id__]=w,r(o.url)&&dEt(i,ac()&&m?w:void 0),w}function dEt(t,e){let{"sentry-trace":r,baggage:n}=P8({span:e});r&&hEt(t,r,n)}function hEt(t,e,r){try{t.setRequestHeader("sentry-trace",e),r&&t.setRequestHeader("baggage",r)}catch{}}function lTe(t){try{return new URL(t,Ht.location.origin).href}catch{return}}d();h();d();h();function dTe(){Ht&&Ht.document?Ht.document.addEventListener("visibilitychange",()=>{let t=Wn();if(!t)return;let e=zn(t);if(Ht.document.hidden&&e){let r="cancelled",{op:n,status:i}=Qt(e);js&&et.log(`[Tracing] Transaction: ${r} -> since tab moved to the background, op: ${n}`),i||e.setStatus({code:2,message:r}),e.setAttribute("sentry.cancellation_reason","document.hidden"),e.end()}}):js&&et.warn("[Tracing] Could not set up background tab detection due to lack of global document")}var pEt="BrowserTracing",mEt={...DS,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,_experiments:{},...H8},DX=(t={})=>{aO();let{enableInp:e,enableLongTask:r,enableLongAnimationFrame:n,_experiments:{enableInteractions:i,enableStandaloneClsSpans:o},beforeStartSpan:s,idleTimeout:c,finalTimeout:l,childSpanTimeout:m,markBackgroundSpan:w,traceFetch:b,traceXHR:E,trackFetchStreamPerformance:I,shouldCreateSpanForRequest:M,enableHTTPTimings:k,instrumentPageLoad:R,instrumentNavigation:B}={...mEt,...t},U=wX({recordClsStandaloneSpans:o||!1});e&&BX(),n&&$t.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?AX():r&&SX(),i&&EX();let P={name:void 0,source:void 0};function F(q,K){let re=K.op==="pageload",Q=s?s(K):K,ie=Q.attributes||{};K.name!==Q.name&&(ie[Ra]="custom",Q.attributes=ie),P.name=Q.name,P.source=ie[Ra];let S=yO(Q,{idleTimeout:c,finalTimeout:l,childSpanTimeout:m,disableAutoFinish:re,beforeSpanEnd:f=>{U(),_X(f,{recordClsOnPageloadSpan:!o})}});function a(){["interactive","complete"].includes(Ht.document.readyState)&&q.emit("idleSpanEnableAutoFinish",S)}return re&&Ht.document&&(Ht.document.addEventListener("readystatechange",()=>{a()}),a()),S}return{name:pEt,afterAllSetup(q){let K,re=Ht.location&&Ht.location.href;function Q(){K&&!Qt(K).timestamp&&(js&&et.log(`[Tracing] Finishing current active span with op: ${Qt(K).op}`),K.end())}q.on("startNavigationSpan",ie=>{Zt()===q&&(Q(),K=F(q,{op:"navigation",...ie}))}),q.on("startPageLoadSpan",(ie,S={})=>{if(Zt()!==q)return;Q();let a=S.sentryTrace||hTe("sentry-trace"),f=S.baggage||hTe("baggage"),p=_J(a,f);pr().setPropagationContext(p),K=F(q,{op:"pageload",...ie})}),q.on("spanEnd",ie=>{let S=Qt(ie).op;if(ie!==zn(ie)||S!=="navigation"&&S!=="pageload")return;let a=pr(),f=a.getPropagationContext();a.setPropagationContext({...f,sampled:f.sampled!==void 0?f.sampled:Vf(ie),dsc:f.dsc||Eu(ie)})}),Ht.location&&(R&&pTe(q,{name:Ht.location.pathname,startTime:To?To/1e3:void 0,attributes:{[Ra]:"url",[Jn]:"auto.pageload.browser"}}),B&&Sv(({to:ie,from:S})=>{if(S===void 0&&re&&re.indexOf(ie)!==-1){re=void 0;return}S!==ie&&(re=void 0,mTe(q,{name:Ht.location.pathname,attributes:{[Ra]:"url",[Jn]:"auto.navigation.browser"}}))})),w&&dTe(),i&&yEt(c,l,m,P),e&&RX(),fTe(q,{traceFetch:b,traceXHR:E,trackFetchStreamPerformance:I,tracePropagationTargets:q.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:M,enableHTTPTimings:k})}}};function pTe(t,e,r){t.emit("startPageLoadSpan",e,r),pr().setTransactionName(e.name);let n=Wn();return(n&&Qt(n).op)==="pageload"?n:void 0}function mTe(t,e){Ko().setPropagationContext({traceId:Dc()}),pr().setPropagationContext({traceId:Dc()}),t.emit("startNavigationSpan",e),pr().setTransactionName(e.name);let r=Wn();return(r&&Qt(r).op)==="navigation"?r:void 0}function hTe(t){let e=mJ(`meta[name=${t}]`);return e?e.getAttribute("content"):void 0}function yEt(t,e,r,n){let i,o=()=>{let s="ui.action.click",c=Wn(),l=c&&zn(c);if(l){let m=Qt(l).op;if(["navigation","pageload"].includes(m)){js&&et.warn(`[Tracing] Did not create ${s} span because a pageload or navigation span is in progress.`);return}}if(i&&(i.setAttribute(BS,"interactionInterrupted"),i.end(),i=void 0),!n.name){js&&et.warn(`[Tracing] Did not create ${s} transaction because _latestRouteName is missing.`);return}i=yO({name:n.name,op:s,attributes:{[Ra]:n.source||"url"}},{idleTimeout:t,finalTimeout:e,childSpanTimeout:r})};Ht.document&&addEventListener("click",o,{once:!1,capture:!0})}d();h();var yTe=qe(ur(),1);function j8(t){let e={...t};return xv(e,"react"),wO("react",{version:yTe.version}),OX(e)}d();h();var UX={op:"function"};var bEt=["The server encountered a temporary error","premature close","The browser is shutting down."],vEt=["/_generated_background_page.html","/background/serviceWorker.js","/service-worker-loader.js"],xEt=["Breadcrumbs","GlobalHandlers","TryCatch","HttpContext"],gTe=!1,bTe={init:async(t,{appVersion:e,sentry:r})=>{r.enabled&&j8({sampleRate:t.mode==="debug"?1:r.sampleRate,tracesSampler:n=>{let i=n.transactionContext.name;return vEt.includes(i)?0:t.mode==="debug"?1:r.tracesSampleRate||!1},beforeSend:async(n,i)=>{let o=i?.originalException;for(let s of bEt)if(o instanceof Error&&o.message===s||typeof o=="string"&&o===s)return null;if(o&&!gTe){let c=`${new Date().toISOString()}-logs.txt`,l=await lv.getRecentLogs();i.attachments=[{filename:c,data:l}],gTe=!0}return n},dsn:r.dsn,release:e,environment:t.env,initialScope:r.initialScope,beforeBreadcrumb:(n,i)=>(n.category==="fetch"||n.category==="xhr")&&!(n.data?.url?new URL(n.data.url):void 0)?.origin.endsWith("phantom.app")?null:n,integrations:function(n){return n.filter(function(o){return!xEt.includes(o.name)}).concat([K8({dom:!1,history:!1,console:!1}),DX({traceFetch:!1,traceXHR:!1,enableInp:!0})])}})},captureError:(t,e)=>{cg(t,{tags:{feature:e,team:op(e)}})},captureMessage:(t,e,r="info")=>{US(t,{tags:{feature:e,team:op(e)},level:r})},addBreadcrumb:(t,e,r,n)=>{Fc({category:t,message:e,level:r,data:n})},setUser:async t=>{FS(t)},setTags:async t=>{LS(t)},startSpan:(t,e)=>{let r=mO({...UX,name:t},e);return Promise.resolve(r)},startInactiveSpan:t=>{let e=_u({...UX,name:t});return e?Promise.resolve(e):void 0},captureMetric:async(t,e,r)=>{}};d();h();d();h();d();h();function vTe(){return eu()}var wEt=J.enum(["disabled","console","standard","debug","performance"]);function xTe(){let t=T.TELEMETRY_ENV,e=wEt.optional().parse(T.TELEMETRY_MODE),r=vTe(),n=e??(r?"console":"standard");if(r){if((t==="production"||t==="staging")&&(n==="standard"||n==="debug"))throw new Error("[TelemetryConfig] Cannot submit to production/staging from local dev")}else if(!t&&n!=="disabled"&&n!=="console")throw new Error("[TelemetryConfig] Missing TELEMETRY_ENV env var in production build");let i=t||"dev";switch(n){case"disabled":return{mode:"disabled",shouldLogToConsole:!1,isSubmitEnabled:!1,description:"Telemetry is completely disabled"};case"console":return{mode:"console",shouldLogToConsole:!0,isSubmitEnabled:!1,description:"Telemetry logs to console only (no remote submission)"};case"standard":return{mode:"standard",env:i,shouldLogToConsole:!1,isSubmitEnabled:!0,description:`Telemetry submits to ${i} with app-specific settings`};case"debug":return{mode:"debug",env:i,shouldLogToConsole:!0,isSubmitEnabled:!0,description:`High-frequency telemetry for testing (console + ${i})`};case"performance":return{mode:"performance",env:i,shouldLogToConsole:!0,isSubmitEnabled:!0,description:`Performance mode: only Perfalyze metrics sent to ${i}`}}}d();h();var ITe=qe(TTe()),MTe=qe(bLe());var GO="[Telemetry Development Log]",$O={debug:console.log,info:console.warn,error:console.error,fatal:console.error};function kEt(t){return typeof t=="object"&&t!==null&&"toString"in t&&typeof t.toString=="function"}function PEt(t){return Object.entries(t).reduce((e,[r,n])=>(typeof n>"u"||((0,MTe.default)(n)||(0,ITe.default)(n)||typeof n=="string"||typeof n=="boolean"||n===null?e[r]=n:kEt(n)&&(e[r]=n.toString())),e),{})}function KS(t,e,{featureTag:r,value:n,severity:i,data:o}){let s={value:n,data:o};for(let c of t){let l=c[e];if(l){let m=l(s.value,{featureTag:r,severity:i,data:s.data});s.value=m.value,m.data&&(s.data=m.data)}}return s}function YO(t,e){let r,n=p8;async function i(M){r||(r=xTe(),n=r.isSubmitEnabled?t.provider:p8,r.isSubmitEnabled&&await n.init(r,M))}function o(M,k){if(r&&r.mode!=="performance")try{let R=KS(e,"beforeEvent",{value:M,featureTag:k,severity:"error"});r.shouldLogToConsole&&$O.error(GO,R.value,R.data),R.value instanceof Error?n.captureError(R.value,k):n.captureError(new Error(R.value),k),KS(e,"afterEvent",{value:R.value,featureTag:k,severity:"error"})}catch(R){eu()&&console.warn(R)}}function s(M,k,R="info"){if(r&&r.mode!=="performance")try{let B=KS(e,"beforeEvent",{value:M,featureTag:k,severity:R});r.shouldLogToConsole&&$O[R](GO,B.value),n.captureMessage(B.value instanceof Error?B.value.message:B.value,k,R),KS(e,"afterEvent",{value:B.value,featureTag:k,severity:R})}catch(B){eu()&&console.warn(B)}}function c(M,k,R,B){if(r&&r.mode!=="performance")try{let U=KS(e,"beforeEvent",{featureTag:M,value:k,severity:R,data:B});r.shouldLogToConsole&&$O[R](...[GO,U.value,U.data].filter(Boolean)),n.addBreadcrumb(M,U.value instanceof Error?U.value.message:U.value,R,U.data),KS(e,"afterEvent",{featureTag:M,value:U.value,severity:R,data:U.data})}catch(U){eu()&&console.warn(U)}}async function l(M){r&&await n.setUser(M)}async function m(M){r&&await n.setTags(M)}function w(M,k){return!r||r.mode==="performance"?Promise.resolve(k()):n.startSpan(M,k)}function b(M,k){return r?r.mode==="performance"?()=>Promise.resolve(k()):()=>n.startSpan(M,k):()=>Promise.resolve(k())}function E(M){if(r&&r.mode!=="performance")return n.startInactiveSpan(M)}async function I(M,k,R){r&&await t.provider.captureMetric(M,k,R)}return{init:i,captureError:o,captureMessage:s,addBreadcrumb:c,setUser:l,setTags:m,startSpan:w,startSpanCallback:b,startInactiveSpan:E,captureMetric:I}}var BEt=[bS,VC],REt=LC(lv),CEt=[...BEt,REt],je=YO({provider:qC(bTe,UC)},CEt);d();h();d();h();d();h();d();h();function kTe(t){let e={...t,environment:t.environment||T.NODE_ENV};return xv(e,"remix",["remix","react"]),j8(e)}var PTe={init:async(t,{sentry:e})=>{e.enabled&&kTe({dsn:e.dsn,sampleRate:t.mode==="debug"?1:e.sampleRate,tracesSampleRate:t.mode==="debug"?1:e.tracesSampleRate,profilesSampleRate:t.mode==="debug"?1:e.profilesSampleRate,environment:t.env,initialScope:e.initialScope,integrations:[]})},captureError:(t,e)=>{cg(t,{tags:{feature:e,team:op(e)}})},captureMessage:(t,e,r="info")=>{US(t,{tags:{feature:e,team:op(e)},level:r})},addBreadcrumb:(t,e,r,n)=>{Fc({category:t,message:e,level:r,data:n})},setUser:async t=>{FS(t)},setTags:async t=>{LS(t)},startSpan:(t,e)=>{throw new Error("Not implemented")},startInactiveSpan:t=>{throw new Error("Not implemented")},captureMetric:async(t,e,r)=>{}};var NEt=[bS,VC],DEt=LC(lv),UEt=[...NEt,DEt],LEt=YO({provider:qC(PTe,UC)},UEt);d();h();d();h();function BTe(t){let e={...t};if(typeof e.response=="string")try{e.response=JSON.parse(e.response)}catch{}return JSON.stringify(e,null,2)}d();h();var FEt="Logger not initialized",VEt="Method not supported on this platform",RTe=["publicKey"];var JO=t=>{let{obj:e,depth:r=0,maxDepth:n=20,quoteStrings:i=!0}=t;if(r>=n)return"... (max-depth reached)";let o=CTe(e);switch(o){case"Object":return qEt(t);case"Array":return KEt(t);case"function":return HEt(t);case"RegExp":return"/"+e.source+"/"+e.flags;case"Date":case"string":return i?`"${e}"`:e+"";case"boolean":return e?"true":"false";case"number":return e+"";case"null":case"undefined":return o;default:return"?"}},qEt=t=>{let{obj:e,indent:r,...n}=t,i="{",o=t.depth;if(LX(e)>0){i+=`
`,o++;let s=0;for(let c in e){i+=QO(o,r),i+=c+": ";let l=JO({...n,obj:e[c],depth:o,indent:r});l&&(i+=l),s<LX(e)-1&&(i+=","),i+=`
`,s++}o--,i+=QO(o,r)}return i+="}",i},KEt=t=>{let{obj:e,indent:r,...n}=t,i="[",o=t.depth,s=!1;if(e.length>0){o++;for(let c=0;c<e.length;c++){let l=CTe(e[c]),m=!1;l==="Object"&&LX(e[c])>0&&(m=!0),l==="Array"&&e[c].length>0&&(m=!0),!s&&m&&(i+=`
`);let w=JO({...n,obj:e[c],depth:o,indent:r});w&&(m&&(i+=QO(o,r)),i+=w,c<e.length-1&&(i+=", "),m&&(i+=`
`)),s=m}o--}return i+="]",i},HEt=t=>{let{obj:e,depth:r,indent:n}=t,i=r;return String(e).split(`
`).map(o=>{o.match(/\}/)&&i--;let s=QO(i,n)+o.trim();return o.match(/\{/)&&i++,s}).join(`
`)},CTe=t=>{if(t===null)return"null";if(t===void 0)return"undefined";{let e=typeof t;return e==="object"&&(Array.isArray(t)?e="Array":t instanceof Date?e="Date":t instanceof RegExp?e="RegExp":e="Object"),e}},QO=(t,e)=>e.repeat(Math.max(t,0)),LX=t=>{let e=0;for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e},jEt=`======================================================
Application State
======================================================

`,zEt=`======================================================
Network Logs
======================================================

`,WEt=`======================================================
Application Logs
======================================================

`,ZO=`------------------------------------------------
`,GEt=["authorization","x-phantomauthtoken","x-phantomnonce"],$Et=(t,e=[])=>{let r=jEt;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r+=`${ZO}`,r+=`${n}
${ZO}
`,r+=JO({obj:t[n],depth:0,maxDepth:20,indent:"  ",quoteStrings:!0}),r+=`

`);if(e.length>0){r+=zEt;for(let n of e){if(n.requestHeaders)for(let i of GEt)delete n.requestHeaders[i.toLowerCase()];r+=`${ZO}`,r+=`${n.id}
${ZO}
`,r+=BTe(n),r+=`

`}}return r+=WEt,r},YEt=t=>t.replaceAll(/seed/gim,"root").replaceAll(/privateKey/gim,"leaf").replaceAll(/private-key/gim,"leaf").replaceAll(/private key/gim,"leaf").replaceAll(/mnemonic/gim,"stem"),XO=t=>t?JSON.parse(JSON.stringify(t,(e,r)=>RTe.includes(e)?void 0:r)):null;d();h();var ZEt=J.object({maxRequests:J.number(),ignoredUrls:J.array(J.string()),ignoredHosts:J.array(J.string())});d();h();var eN=G1(null);function er(){let t=zy(eN);if(!t)throw new Error("useStorage must be used within a ContextProvider with StorageContext set");return t}d();h();d();h();var OTe=G1(null);function cc(){let t=zy(OTe),e=zy(eN);if(!e)throw new Error("useSyncedStorage must be used within a ContextProvider with StorageContext set");return t||e}d();h();var QEt={recipientError:void 0,amountError:void 0};d();h();d();h();d();h();d();h();var NTe="REACT_QUERY_OFFLINE_CACHE";function z8(t,e,...r){t&&console.log(e,...r)}var JEt=({underlyingStorage:t,throttleMs:e,cacheKey:r=NTe,maxCacheSizeBytes:n=5242880,enableDebugLogs:i=!1})=>{let o=null,s=async()=>{if(o)try{let c=JSON.stringify(o),l=c.length;l<n?await t.set(r,c):(await t.remove(r),z8(i,"[React Query Offline Cache] Removed offline cache. Size:",l,"bytes")),o=null}catch{}};return setInterval(()=>{s()},e),{persistClient:c=>{o=c},restoreClient:async()=>{try{let c=await t.get(r);if(!c){z8(i,"[React Query Offline Cache] No offline cache restored.");return}let l=JSON.parse(c),m=c.length;return z8(i,"[React Query Offline Cache] Restored RQ offline cache. Size:",m,"bytes"),l}catch{z8(i,"[React Query Offline Cache] Error restoring offline cache.");return}},removeClient:()=>(z8(i,"[React Query Offline Cache] Removed offline cache."),t.remove(r))}};d();h();d();h();d();h();d();h();d();h();var Kc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}};d();h();var Hc=typeof self>"u"||"Deno"in globalThis;function Oa(){}function LTe(t,e){return typeof t=="function"?t(e):t}function W8(t){return typeof t=="number"&&t>=0&&t!==1/0}function tN(t,e){return Math.max(t+(e||0)-Date.now(),0)}function lg(t,e){return typeof t=="function"?t(e):t}function Tu(t,e){return typeof t=="function"?t(e):t}function rN(t,e){let{type:r="all",exact:n,fetchStatus:i,predicate:o,queryKey:s,stale:c}=t;if(s){if(n){if(e.queryHash!==G8(s,e.options))return!1}else if(!jS(e.queryKey,s))return!1}if(r!=="all"){let l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||i&&i!==e.state.fetchStatus||o&&!o(e))}function nN(t,e){let{exact:r,status:n,predicate:i,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(r){if(_h(e.options.mutationKey)!==_h(o))return!1}else if(!jS(e.options.mutationKey,o))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function G8(t,e){return(e?.queryKeyHashFn||_h)(t)}function _h(t){return JSON.stringify(t,(e,r)=>FX(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function jS(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!jS(t[r],e[r])):!1}function HS(t,e){if(t===e)return t;let r=DTe(t)&&DTe(e);if(r||FX(t)&&FX(e)){let n=r?t:Object.keys(t),i=n.length,o=r?e:Object.keys(e),s=o.length,c=r?[]:{},l=0;for(let m=0;m<s;m++){let w=r?m:o[m];(!r&&n.includes(w)||r)&&t[w]===void 0&&e[w]===void 0?(c[w]=void 0,l++):(c[w]=HS(t[w],e[w]),c[w]===t[w]&&t[w]!==void 0&&l++)}return i===s&&l===i?t:c}return e}function zS(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(let r in t)if(t[r]!==e[r])return!1;return!0}function DTe(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function FX(t){if(!UTe(t))return!1;let e=t.constructor;if(e===void 0)return!0;let r=e.prototype;return!(!UTe(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function UTe(t){return Object.prototype.toString.call(t)==="[object Object]"}function FTe(t){return new Promise(e=>{setTimeout(e,t)})}function $8(t,e,r){if(typeof r.structuralSharing=="function")return r.structuralSharing(t,e);if(r.structuralSharing!==!1){if(T.NODE_ENV!=="production")try{return HS(t,e)}catch(n){console.error(`Structural sharing requires data to be JSON serializable. To fix this, turn off structuralSharing or return JSON-serializable data from your queryFn. [${r.queryHash}]: ${n}`)}return HS(t,e)}return e}function VTe(t){return t}function qTe(t,e,r=0){let n=[...t,e];return r&&n.length>r?n.slice(1):n}function KTe(t,e,r=0){let n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var Th=Symbol();function iN(t,e){return T.NODE_ENV!=="production"&&t.queryFn===Th&&console.error(`Attempted to invoke queryFn when set to skipToken. This is likely a configuration error. Query hash: '${t.queryHash}'`),!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===Th?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var XEt=class extends Kc{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!Hc&&self.addEventListener){let e=()=>t();return self.addEventListener("visibilitychange",e,!1),()=>{self.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){let t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},WS=new XEt;d();h();var e3t=class extends Kc{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!Hc&&self.addEventListener){let e=()=>t(!0),r=()=>t(!1);return self.addEventListener("online",e,!1),self.addEventListener("offline",r,!1),()=>{self.removeEventListener("online",e),self.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(r=>{r(t)}))}isOnline(){return this.#e}},GS=new e3t;d();h();function Y8(){let t,e,r=new Promise((i,o)=>{t=i,e=o});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}function t3t(t){return Math.min(1e3*2**t,3e4)}function VX(t){return(t??"online")==="online"?GS.isOnline():!0}var HTe=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function oN(t){return t instanceof HTe}function sN(t){let e=!1,r=0,n=!1,i,o=Y8(),s=k=>{n||(E(new HTe(k)),t.abort?.())},c=()=>{e=!0},l=()=>{e=!1},m=()=>WS.isFocused()&&(t.networkMode==="always"||GS.isOnline())&&t.canRun(),w=()=>VX(t.networkMode)&&t.canRun(),b=k=>{n||(n=!0,t.onSuccess?.(k),i?.(),o.resolve(k))},E=k=>{n||(n=!0,t.onError?.(k),i?.(),o.reject(k))},I=()=>new Promise(k=>{i=R=>{(n||m())&&k(R)},t.onPause?.()}).then(()=>{i=void 0,n||t.onContinue?.()}),M=()=>{if(n)return;let k,R=r===0?t.initialPromise:void 0;try{k=R??t.fn()}catch(B){k=Promise.reject(B)}Promise.resolve(k).then(b).catch(B=>{if(n)return;let U=t.retry??(Hc?0:3),P=t.retryDelay??t3t,F=typeof P=="function"?P(r,B):P,q=U===!0||typeof U=="number"&&r<U||typeof U=="function"&&U(r,B);if(e||!q){E(B);return}r++,t.onFail?.(r,B),FTe(F).then(()=>m()?void 0:I()).then(()=>{e?E(B):M()})})};return{promise:o,cancel:s,continue:()=>(i?.(),o),cancelRetry:c,continueRetry:l,canStart:w,start:()=>(w()?M():I().then(M),o)}}d();h();d();h();d();h();function r3t(){let t=[],e=0,r=c=>{c()},n=c=>{c()},i=c=>setTimeout(c,0),o=c=>{e?t.push(c):i(()=>{r(c)})},s=()=>{let c=t;t=[],c.length&&i(()=>{n(()=>{c.forEach(l=>{r(l)})})})};return{batch:c=>{let l;e++;try{l=c()}finally{e--,e||s()}return l},batchCalls:c=>(...l)=>{o(()=>{c(...l)})},schedule:o,setNotifyFunction:c=>{r=c},setBatchNotifyFunction:c=>{n=c},setScheduler:c=>{i=c}}}var Jr=r3t();d();h();var aN=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),W8(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Hc?1/0:5*60*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}};var jTe=class extends aN{#e;#t;#n;#r;#i;#o;constructor(t){super(),this.#o=!1,this.#i=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#n=t.cache,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=n3t(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(t){this.options={...this.#i,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){let r=$8(this.state.data,t,this.options);return this.#a({data:r,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),r}setState(t,e){this.#a({type:"setState",state:t,setStateOptions:e})}cancel(t){let e=this.#r?.promise;return this.#r?.cancel(t),e?e.then(Oa).catch(Oa):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>Tu(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Th||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!tN(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}fetch(t,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(t&&this.setOptions(t),!this.options.queryFn){let c=this.observers.find(l=>l.options.queryFn);c&&this.setOptions(c.options)}T.NODE_ENV!=="production"&&(Array.isArray(this.options.queryKey)||console.error("As of v4, queryKey needs to be an Array. If you are using a string like 'repoData', please change it to an Array, e.g. ['repoData']"));let r=new AbortController,n=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(this.#o=!0,r.signal)})},i=()=>{let c=iN(this.options,e),l={queryKey:this.queryKey,meta:this.meta};return n(l),this.#o=!1,this.options.persister?this.options.persister(c,l,this):c(l)},o={fetchOptions:e,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};n(o),this.options.behavior?.onFetch(o,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#a({type:"fetch",meta:o.fetchOptions?.meta});let s=c=>{oN(c)&&c.silent||this.#a({type:"error",error:c}),oN(c)||(this.#n.config.onError?.(c,this),this.#n.config.onSettled?.(this.state.data,c,this)),this.scheduleGc()};return this.#r=sN({initialPromise:e?.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:c=>{if(c===void 0){T.NODE_ENV!=="production"&&console.error(`Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ${this.queryHash}`),s(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(c)}catch(l){s(l);return}this.#n.config.onSuccess?.(c,this),this.#n.config.onSettled?.(c,this.state.error,this),this.scheduleGc()},onError:s,onFail:(c,l)=>{this.#a({type:"failed",failureCount:c,error:l})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}),this.#r.start()}#a(t){let e=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...qX(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":let n=t.error;return oN(n)&&n.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=e(this.state),Jr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function qX(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:VX(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function n3t(t){let e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var zTe=class extends Kc{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,r){let n=e.queryKey,i=e.queryHash??G8(n,e),o=this.get(i);return o||(o=new jTe({cache:this,queryKey:n,queryHash:i,options:t.defaultQueryOptions(e),state:r,defaultOptions:t.getQueryDefaults(n)}),this.add(o)),o}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){let e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Jr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){let e={exact:!0,...t};return this.getAll().find(r=>rN(e,r))}findAll(t={}){let e=this.getAll();return Object.keys(t).length>0?e.filter(r=>rN(t,r)):e}notify(t){Jr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Jr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Jr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}};d();h();d();h();d();h();var WTe=class extends aN{#e;#t;#n;constructor(t){super(),this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#e=[],this.state=t.state||KX(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(t){this.#n=sN({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(n,i)=>{this.#r({type:"failed",failureCount:n,error:i})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});let e=this.state.status==="pending",r=!this.#n.canStart();try{if(!e){this.#r({type:"pending",variables:t,isPaused:r}),await this.#t.config.onMutate?.(t,this);let i=await this.options.onMutate?.(t);i!==this.state.context&&this.#r({type:"pending",context:i,variables:t,isPaused:r})}let n=await this.#n.start();return await this.#t.config.onSuccess?.(n,t,this.state.context,this),await this.options.onSuccess?.(n,t,this.state.context),await this.#t.config.onSettled?.(n,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(n,null,t,this.state.context),this.#r({type:"success",data:n}),n}catch(n){try{throw await this.#t.config.onError?.(n,t,this.state.context,this),await this.options.onError?.(n,t,this.state.context),await this.#t.config.onSettled?.(void 0,n,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,n,t,this.state.context),n}finally{this.#r({type:"error",error:n})}}finally{this.#t.runNext(this)}}#r(t){let e=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Jr.batch(()=>{this.#e.forEach(r=>{r.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function KX(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var GTe=class extends Kc{constructor(t={}){super(),this.config=t,this.#e=new Map,this.#t=Date.now()}#e;#t;build(t,e,r){let n=new WTe({mutationCache:this,mutationId:++this.#t,options:t.defaultMutationOptions(e),state:r});return this.add(n),n}add(t){let e=cN(t),r=this.#e.get(e)??[];r.push(t),this.#e.set(e,r),this.notify({type:"added",mutation:t})}remove(t){let e=cN(t);if(this.#e.has(e)){let r=this.#e.get(e)?.filter(n=>n!==t);r&&(r.length===0?this.#e.delete(e):this.#e.set(e,r))}this.notify({type:"removed",mutation:t})}canRun(t){let e=this.#e.get(cN(t))?.find(r=>r.state.status==="pending");return!e||e===t}runNext(t){return this.#e.get(cN(t))?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve()}clear(){Jr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...this.#e.values()].flat()}find(t){let e={exact:!0,...t};return this.getAll().find(r=>nN(e,r))}findAll(t={}){return this.getAll().filter(e=>nN(t,e))}notify(t){Jr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){let t=this.getAll().filter(e=>e.state.isPaused);return Jr.batch(()=>Promise.all(t.map(e=>e.continue().catch(Oa))))}};function cN(t){return t.options.scope?.id??String(t.mutationId)}d();h();function $S(t){return{onFetch:(e,r)=>{let n=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,o=e.state.data?.pages||[],s=e.state.data?.pageParams||[],c={pages:[],pageParams:[]},l=0,m=async()=>{let w=!1,b=M=>{Object.defineProperty(M,"signal",{enumerable:!0,get:()=>(e.signal.aborted?w=!0:e.signal.addEventListener("abort",()=>{w=!0}),e.signal)})},E=iN(e.options,e.fetchOptions),I=async(M,k,R)=>{if(w)return Promise.reject();if(k==null&&M.pages.length)return Promise.resolve(M);let B={queryKey:e.queryKey,pageParam:k,direction:R?"backward":"forward",meta:e.options.meta};b(B);let U=await E(B),{maxPages:P}=e.options,F=R?KTe:qTe;return{pages:F(M.pages,U,P),pageParams:F(M.pageParams,k,P)}};if(i&&o.length){let M=i==="backward",k=M?$Te:HX,R={pages:o,pageParams:s},B=k(n,R);c=await I(R,B,M)}else{let M=t??o.length;do{let k=l===0?s[0]??n.initialPageParam:HX(n,c);if(l>0&&k==null)break;c=await I(c,k),l++}while(l<M)}return c};e.options.persister?e.fetchFn=()=>e.options.persister?.(m,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r):e.fetchFn=m}}}function HX(t,{pages:e,pageParams:r}){let n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function $Te(t,{pages:e,pageParams:r}){return e.length>0?t.getPreviousPageParam?.(e[0],e,r[0],r):void 0}function YTe(t,e){return e?HX(t,e)!=null:!1}function ZTe(t,e){return!e||!t.getPreviousPageParam?!1:$Te(t,e)!=null}var QTe=class{#e;#t;#n;#r;#i;#o;#a;#s;constructor(t={}){this.#e=t.queryCache||new zTe,this.#t=t.mutationCache||new GTe,this.#n=t.defaultOptions||{},this.#r=new Map,this.#i=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=WS.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=GS.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#s?.(),this.#s=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){let e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){let e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{let r=this.defaultQueryOptions(t),n=this.#e.build(this,r);return t.revalidateIfStale&&n.isStaleByTime(lg(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(e)}}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:r})=>{let n=r.data;return[e,n]})}setQueryData(t,e,r){let n=this.defaultQueryOptions({queryKey:t}),o=this.#e.get(n.queryHash)?.state.data,s=LTe(e,o);if(s!==void 0)return this.#e.build(this,n).setData(s,{...r,manual:!0})}setQueriesData(t,e,r){return Jr.batch(()=>this.#e.findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){let e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){let e=this.#e;Jr.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){let r=this.#e,n={type:"active",...t};return Jr.batch(()=>(r.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(n,e)))}cancelQueries(t={},e={}){let r={revert:!0,...e},n=Jr.batch(()=>this.#e.findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(Oa).catch(Oa)}invalidateQueries(t={},e={}){return Jr.batch(()=>{if(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t.refetchType==="none")return Promise.resolve();let r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){let r={...e,cancelRefetch:e?.cancelRefetch??!0},n=Jr.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()).map(i=>{let o=i.fetch(void 0,r);return r.throwOnError||(o=o.catch(Oa)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(Oa)}fetchQuery(t){let e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);let r=this.#e.build(this,e);return r.isStaleByTime(lg(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Oa).catch(Oa)}fetchInfiniteQuery(t){return t.behavior=$S(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Oa).catch(Oa)}ensureInfiniteQueryData(t){return t.behavior=$S(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return GS.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#r.set(_h(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){let e=[...this.#r.values()],r={};return e.forEach(n=>{jS(t,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(t,e){this.#i.set(_h(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){let e=[...this.#i.values()],r={};return e.forEach(n=>{jS(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;let e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=G8(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===Th&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}};d();h();var hp=class extends Kc{constructor(t,e){super(),this.options=e,this.#e=t,this.#s=null,this.#a=Y8(),this.options.experimental_prefetchInRender||this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#r=void 0;#i;#o;#a;#s;#c;#f;#l;#u;#h;#d;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),JTe(this.#t,this.options)?this.#p():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return jX(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return jX(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#w(),this.#t.removeObserver(this)}setOptions(t,e){let r=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Tu(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#t.setOptions(this.options),r._defaulted&&!zS(this.options,r)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});let i=this.hasListeners();i&&XTe(this.#t,n,this.options,r)&&this.#p(),this.updateResult(e),i&&(this.#t!==n||Tu(this.options.enabled,this.#t)!==Tu(r.enabled,this.#t)||lg(this.options.staleTime,this.#t)!==lg(r.staleTime,this.#t))&&this.#y();let o=this.#g();i&&(this.#t!==n||Tu(this.options.enabled,this.#t)!==Tu(r.enabled,this.#t)||o!==this.#d)&&this.#b(o)}getOptimisticResult(t){let e=this.#e.getQueryCache().build(this.#e,t),r=this.createResult(e,t);return o3t(this,r)&&(this.#r=r,this.#o=this.options,this.#i=this.#t.state),r}getCurrentResult(){return this.#r}trackResult(t,e){let r={};return Object.keys(t).forEach(n=>{Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(n),e?.(n),t[n])})}),r}trackProp(t){this.#m.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){let e=this.#e.defaultQueryOptions(t),r=this.#e.getQueryCache().build(this.#e,e);return r.fetch().then(()=>this.createResult(r,e))}fetch(t){return this.#p({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#p(t){this.#S();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(Oa)),e}#y(){this.#x();let t=lg(this.options.staleTime,this.#t);if(Hc||this.#r.isStale||!W8(t))return;let r=tN(this.#r.dataUpdatedAt,t)+1;this.#u=setTimeout(()=>{this.#r.isStale||this.updateResult()},r)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#b(t){this.#w(),this.#d=t,!(Hc||Tu(this.options.enabled,this.#t)===!1||!W8(this.#d)||this.#d===0)&&(this.#h=setInterval(()=>{(this.options.refetchIntervalInBackground||WS.isFocused())&&this.#p()},this.#d))}#v(){this.#y(),this.#b(this.#g())}#x(){this.#u&&(clearTimeout(this.#u),this.#u=void 0)}#w(){this.#h&&(clearInterval(this.#h),this.#h=void 0)}createResult(t,e){let r=this.#t,n=this.options,i=this.#r,o=this.#i,s=this.#o,l=t!==r?t.state:this.#n,{state:m}=t,w={...m},b=!1,E;if(e._optimisticResults){let re=this.hasListeners(),Q=!re&&JTe(t,e),ie=re&&XTe(t,r,e,n);(Q||ie)&&(w={...w,...qX(m.data,t.options)}),e._optimisticResults==="isRestoring"&&(w.fetchStatus="idle")}let{error:I,errorUpdatedAt:M,status:k}=w;if(e.select&&w.data!==void 0)if(i&&w.data===o?.data&&e.select===this.#c)E=this.#f;else try{this.#c=e.select,E=e.select(w.data),E=$8(i?.data,E,e),this.#f=E,this.#s=null}catch(re){this.#s=re}else E=w.data;if(e.placeholderData!==void 0&&E===void 0&&k==="pending"){let re;if(i?.isPlaceholderData&&e.placeholderData===s?.placeholderData)re=i.data;else if(re=typeof e.placeholderData=="function"?e.placeholderData(this.#l?.state.data,this.#l):e.placeholderData,e.select&&re!==void 0)try{re=e.select(re),this.#s=null}catch(Q){this.#s=Q}re!==void 0&&(k="success",E=$8(i?.data,re,e),b=!0)}this.#s&&(I=this.#s,E=this.#f,M=Date.now(),k="error");let R=w.fetchStatus==="fetching",B=k==="pending",U=k==="error",P=B&&R,F=E!==void 0,K={status:k,fetchStatus:w.fetchStatus,isPending:B,isSuccess:k==="success",isError:U,isInitialLoading:P,isLoading:P,data:E,dataUpdatedAt:w.dataUpdatedAt,error:I,errorUpdatedAt:M,failureCount:w.fetchFailureCount,failureReason:w.fetchFailureReason,errorUpdateCount:w.errorUpdateCount,isFetched:w.dataUpdateCount>0||w.errorUpdateCount>0,isFetchedAfterMount:w.dataUpdateCount>l.dataUpdateCount||w.errorUpdateCount>l.errorUpdateCount,isFetching:R,isRefetching:R&&!B,isLoadingError:U&&!F,isPaused:w.fetchStatus==="paused",isPlaceholderData:b,isRefetchError:U&&F,isStale:zX(t,e),refetch:this.refetch,promise:this.#a};if(this.options.experimental_prefetchInRender){let re=S=>{K.status==="error"?S.reject(K.error):K.data!==void 0&&S.resolve(K.data)},Q=()=>{let S=this.#a=K.promise=Y8();re(S)},ie=this.#a;switch(ie.status){case"pending":t.queryHash===r.queryHash&&re(ie);break;case"fulfilled":(K.status==="error"||K.data!==ie.value)&&Q();break;case"rejected":(K.status!=="error"||K.error!==ie.reason)&&Q();break}}return K}updateResult(t){let e=this.#r,r=this.createResult(this.#t,this.options);if(this.#i=this.#t.state,this.#o=this.options,this.#i.data!==void 0&&(this.#l=this.#t),zS(r,e))return;this.#r=r;let n={},i=()=>{if(!e)return!0;let{notifyOnChangeProps:o}=this.options,s=typeof o=="function"?o():o;if(s==="all"||!s&&!this.#m.size)return!0;let c=new Set(s??this.#m);return this.options.throwOnError&&c.add("error"),Object.keys(this.#r).some(l=>{let m=l;return this.#r[m]!==e[m]&&c.has(m)})};t?.listeners!==!1&&i()&&(n.listeners=!0),this.#A({...n,...t})}#S(){let t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;let e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#A(t){Jr.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#r)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function i3t(t,e){return Tu(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function JTe(t,e){return i3t(t,e)||t.state.data!==void 0&&jX(t,e,e.refetchOnMount)}function jX(t,e,r){if(Tu(e.enabled,t)!==!1){let n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&zX(t,e)}return!1}function XTe(t,e,r,n){return(t!==e||Tu(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&zX(t,r)}function zX(t,e){return Tu(e.enabled,t)!==!1&&t.isStaleByTime(lg(e.staleTime,t))}function o3t(t,e){return!zS(t.getCurrentResult(),e)}d();h();function eIe(t,e){return t.filter(r=>!e.includes(r))}function s3t(t,e,r){let n=t.slice(0);return n[e]=r,n}var WX=class extends Kc{#e;#t;#n;#r;#i;#o;#a;#s;constructor(t,e,r){super(),this.#e=t,this.#r=r,this.#n=[],this.#i=[],this.#t=[],this.setQueries(e)}onSubscribe(){this.listeners.size===1&&this.#i.forEach(t=>{t.subscribe(e=>{this.#l(t,e)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,this.#i.forEach(t=>{t.destroy()})}setQueries(t,e,r){this.#n=t,this.#r=e,Jr.batch(()=>{let n=this.#i,i=this.#f(this.#n);i.forEach(l=>l.observer.setOptions(l.defaultedQueryOptions,r));let o=i.map(l=>l.observer),s=o.map(l=>l.getCurrentResult()),c=o.some((l,m)=>l!==n[m]);n.length===o.length&&!c||(this.#i=o,this.#t=s,this.hasListeners()&&(eIe(n,o).forEach(l=>{l.destroy()}),eIe(o,n).forEach(l=>{l.subscribe(m=>{this.#l(l,m)})}),this.#u()))})}getCurrentResult(){return this.#t}getQueries(){return this.#i.map(t=>t.getCurrentQuery())}getObservers(){return this.#i}getOptimisticResult(t,e){let r=this.#f(t),n=r.map(i=>i.observer.getOptimisticResult(i.defaultedQueryOptions));return[n,i=>this.#c(i??n,e),()=>r.map((i,o)=>{let s=n[o];return i.defaultedQueryOptions.notifyOnChangeProps?s:i.observer.trackResult(s,c=>{r.forEach(l=>{l.observer.trackProp(c)})})})]}#c(t,e){return e?((!this.#o||this.#t!==this.#s||e!==this.#a)&&(this.#a=e,this.#s=this.#t,this.#o=HS(this.#o,e(t))),this.#o):t}#f(t){let e=new Map(this.#i.map(n=>[n.options.queryHash,n])),r=[];return t.forEach(n=>{let i=this.#e.defaultQueryOptions(n),o=e.get(i.queryHash);if(o)r.push({defaultedQueryOptions:i,observer:o});else{let s=this.#i.find(c=>c.options.queryHash===i.queryHash);r.push({defaultedQueryOptions:i,observer:s??new hp(this.#e,i)})}}),r.sort((n,i)=>t.findIndex(o=>o.queryHash===n.defaultedQueryOptions.queryHash)-t.findIndex(o=>o.queryHash===i.defaultedQueryOptions.queryHash))}#l(t,e){let r=this.#i.indexOf(t);r!==-1&&(this.#t=s3t(this.#t,r,e),this.#u())}#u(){if(this.hasListeners()){let t=this.#o,e=this.#c(this.#t,this.#r?.combine);t!==e&&Jr.batch(()=>{this.listeners.forEach(r=>{r(this.#t)})})}}};d();h();var GX=class extends hp{constructor(t,e){super(t,e)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(t,e){super.setOptions({...t,behavior:$S()},e)}getOptimisticResult(t){return t.behavior=$S(),super.getOptimisticResult(t)}fetchNextPage(t){return this.fetch({...t,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(t){return this.fetch({...t,meta:{fetchMore:{direction:"backward"}}})}createResult(t,e){let{state:r}=t,n=super.createResult(t,e),{isFetching:i,isRefetching:o,isError:s,isRefetchError:c}=n,l=r.fetchMeta?.fetchMore?.direction,m=s&&l==="forward",w=i&&l==="forward",b=s&&l==="backward",E=i&&l==="backward";return{...n,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:YTe(e,r.data),hasPreviousPage:ZTe(e,r.data),isFetchNextPageError:m,isFetchingNextPage:w,isFetchPreviousPageError:b,isFetchingPreviousPage:E,isRefetchError:c&&!m&&!b,isRefetching:o&&!w&&!E}}};d();h();var $X=class extends Kc{#e;#t=void 0;#n;#r;constructor(t,e){super(),this.#e=t,this.setOptions(e),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){let e=this.options;this.options=this.#e.defaultMutationOptions(t),zS(this.options,e)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),e?.mutationKey&&this.options.mutationKey&&_h(e.mutationKey)!==_h(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(t){this.#i(),this.#o(t)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#i(),this.#o()}mutate(t,e){return this.#r=e,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(t)}#i(){let t=this.#n?.state??KX();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#o(t){Jr.batch(()=>{if(this.#r&&this.hasListeners()){let e=this.#t.variables,r=this.#t.context;t?.type==="success"?(this.#r.onSuccess?.(t.data,e,r),this.#r.onSettled?.(t.data,null,e,r)):t?.type==="error"&&(this.#r.onError?.(t.error,e,r),this.#r.onSettled?.(void 0,t.error,e,r))}this.listeners.forEach(e=>{e(this.#t)})})}};d();h();function tIe(t){return t}function a3t(t){return{mutationKey:t.options.mutationKey,state:t.state,...t.options.scope&&{scope:t.options.scope},...t.meta&&{meta:t.meta}}}function c3t(t,e){return{state:{...t.state,...t.state.data!==void 0&&{data:e(t.state.data)}},queryKey:t.queryKey,queryHash:t.queryHash,...t.state.status==="pending"&&{promise:t.promise?.then(e).catch(r=>(T.NODE_ENV!=="production"&&console.error(`A query that was dehydrated as pending ended up rejecting. [${t.queryHash}]: ${r}; The error will be redacted in production builds`),Promise.reject(new Error("redacted"))))},...t.meta&&{meta:t.meta}}}function rIe(t){return t.state.isPaused}function nIe(t){return t.state.status==="success"}function uN(t,e={}){let r=e.shouldDehydrateMutation??t.getDefaultOptions().dehydrate?.shouldDehydrateMutation??rIe,n=t.getMutationCache().getAll().flatMap(c=>r(c)?[a3t(c)]:[]),i=e.shouldDehydrateQuery??t.getDefaultOptions().dehydrate?.shouldDehydrateQuery??nIe,o=e.serializeData??t.getDefaultOptions().dehydrate?.serializeData??tIe,s=t.getQueryCache().getAll().flatMap(c=>i(c)?[c3t(c,o)]:[]);return{mutations:n,queries:s}}function YX(t,e,r){if(typeof e!="object"||e===null)return;let n=t.getMutationCache(),i=t.getQueryCache(),o=r?.defaultOptions?.deserializeData??t.getDefaultOptions().hydrate?.deserializeData??tIe,s=e.mutations||[],c=e.queries||[];s.forEach(({state:l,...m})=>{n.build(t,{...t.getDefaultOptions().hydrate?.mutations,...r?.defaultOptions?.mutations,...m},l)}),c.forEach(({queryKey:l,state:m,queryHash:w,meta:b,promise:E})=>{let I=i.get(w),M=m.data===void 0?m.data:o(m.data);if(I){if(I.state.dataUpdatedAt<m.dataUpdatedAt){let{fetchStatus:k,...R}=m;I.setState({...R,data:M})}}else I=i.build(t,{...t.getDefaultOptions().hydrate?.queries,...r?.defaultOptions?.queries,queryKey:l,queryHash:w,meta:b},{...m,data:M,fetchStatus:"idle"});if(E){let k=Promise.resolve(E).then(o);I.fetch(void 0,{initialPromise:k})}})}d();h();var Ih=qe(ur(),1);d();h();var YS=qe(ur(),1),iIe=qe(rI(),1),ZX=YS.createContext(void 0),Pt=t=>{let e=YS.useContext(ZX);if(t)return t;if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},fN=({client:t,children:e})=>(YS.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),(0,iIe.jsx)(ZX.Provider,{value:t,children:e}));d();h();var lN=qe(ur(),1),oIe=lN.createContext(!1),Z8=()=>lN.useContext(oIe),QX=oIe.Provider;d();h();var Q8=qe(ur(),1),u3t=qe(rI(),1);function f3t(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var l3t=Q8.createContext(f3t()),dN=()=>Q8.useContext(l3t);d();h();var sIe=qe(ur(),1);d();h();function hN(t,e){return typeof t=="function"?t(...e):!!t}function pN(){}var mN=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},yN=t=>{sIe.useEffect(()=>{t.clearReset()},[t])},gN=({result:t,errorResetBoundary:e,throwOnError:r,query:n})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&hN(r,[t.error,n]);d();h();var bN=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},vN=(t,e)=>t.isLoading&&t.isFetching&&!e,J8=(t,e)=>t?.suspense&&e.isPending,ZS=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function aIe({queries:t,...e},r){let n=Pt(r),i=Z8(),o=dN(),s=Ih.useMemo(()=>t.map(M=>{let k=n.defaultQueryOptions(M);return k._optimisticResults=i?"isRestoring":"optimistic",k}),[t,n,i]);s.forEach(M=>{bN(M),mN(M,o)}),yN(o);let[c]=Ih.useState(()=>new WX(n,s,e)),[l,m,w]=c.getOptimisticResult(s,e.combine);Ih.useSyncExternalStore(Ih.useCallback(M=>i?()=>{}:c.subscribe(Jr.batchCalls(M)),[c,i]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),Ih.useEffect(()=>{c.setQueries(s,e,{listeners:!1})},[s,e,c]);let E=l.some((M,k)=>J8(s[k],M))?l.flatMap((M,k)=>{let R=s[k];if(R){let B=new hp(n,R);if(J8(R,M))return ZS(R,B,o);vN(M,i)&&ZS(R,B,o)}return[]}):[];if(E.length>0)throw Promise.all(E);let I=l.find((M,k)=>{let R=s[k];return R&&gN({result:M,errorResetBoundary:o,throwOnError:R.throwOnError,query:n.getQueryCache().get(R.queryHash)})});if(I?.error)throw I.error;return m(w())}d();h();d();h();var dg=qe(ur(),1);function xN(t,e,r){if(T.NODE_ENV!=="production"&&(typeof t!="object"||Array.isArray(t)))throw new Error('Bad argument type. Starting with v5, only the "Object" form is allowed when calling query related functions. Please use the error stack to find the culprit call. More info here: https://tanstack.com/query/latest/docs/react/guides/migrating-to-v5#supports-a-single-signature-one-object');let n=Pt(r),i=Z8(),o=dN(),s=n.defaultQueryOptions(t);n.getDefaultOptions().queries?._experimental_beforeQuery?.(s),s._optimisticResults=i?"isRestoring":"optimistic",bN(s),mN(s,o),yN(o);let c=!n.getQueryCache().get(s.queryHash),[l]=dg.useState(()=>new e(n,s)),m=l.getOptimisticResult(s);if(dg.useSyncExternalStore(dg.useCallback(w=>{let b=i?()=>{}:l.subscribe(Jr.batchCalls(w));return l.updateResult(),b},[l,i]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),dg.useEffect(()=>{l.setOptions(s,{listeners:!1})},[s,l]),J8(s,m))throw ZS(s,l,o);if(gN({result:m,errorResetBoundary:o,throwOnError:s.throwOnError,query:n.getQueryCache().get(s.queryHash)}))throw m.error;return n.getDefaultOptions().queries?._experimental_afterQuery?.(s,m),s.experimental_prefetchInRender&&!Hc&&vN(m,i)&&(c?ZS(s,l,o):n.getQueryCache().get(s.queryHash)?.promise)?.catch(pN).finally(()=>{l.updateResult()}),s.notifyOnChangeProps?m:l.trackResult(m)}function JX(t,e){return xN(t,hp,e)}d();h();var pp=qe(ur(),1);function Dt(t,e){let r=Pt(e),[n]=pp.useState(()=>new $X(r,t));pp.useEffect(()=>{n.setOptions(t)},[n,t]);let i=pp.useSyncExternalStore(pp.useCallback(s=>n.subscribe(Jr.batchCalls(s)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),o=pp.useCallback((s,c)=>{n.mutate(s,c).catch(pN)},[n]);if(i.error&&hN(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:o,mutateAsync:i.mutate}}d();h();function cIe(t,e){return xN(t,GX,e)}d();h();var d3t=["added","removed","updated"];function uIe(t){return d3t.includes(t)}async function lIe({queryClient:t,persister:e,maxAge:r=1e3*60*60*24,buster:n="",hydrateOptions:i}){try{let o=await e.restoreClient();if(o)if(o.timestamp){let s=Date.now()-o.timestamp>r,c=o.buster!==n;s||c?e.removeClient():YX(t,o.clientState,i)}else e.removeClient()}catch(o){T.NODE_ENV!=="production"&&(console.error(o),console.warn("Encountered an error attempting to restore client cache from persisted location. As a precaution, the persisted cache will be discarded.")),e.removeClient()}}async function fIe({queryClient:t,persister:e,buster:r="",dehydrateOptions:n}){let i={buster:r,timestamp:Date.now(),clientState:uN(t,n)};await e.persistClient(i)}function dIe(t){let e=t.queryClient.getQueryCache().subscribe(n=>{uIe(n.type)&&fIe(t)}),r=t.queryClient.getMutationCache().subscribe(n=>{uIe(n.type)&&fIe(t)});return()=>{e(),r()}}d();h();var hg=qe(ur(),1);var XX=qe(rI(),1),h3t=({client:t,children:e,persistOptions:r,onSuccess:n,...i})=>{let[o,s]=hg.useState(!0),c=hg.useRef({persistOptions:r,onSuccess:n}),l=hg.useRef(!1);return hg.useEffect(()=>{c.current={persistOptions:r,onSuccess:n}}),hg.useEffect(()=>{let m={...c.current.persistOptions,queryClient:t};return l.current||(l.current=!0,s(!0),lIe(m).then(async()=>{try{await c.current.onSuccess?.()}finally{s(!1)}})),o?void 0:dIe(m)},[t,o]),(0,XX.jsx)(fN,{client:t,...i,children:(0,XX.jsx)(QX,{value:o,children:e})})};d();h();var hIe=qe(ur());function Sr(t,e){let r=tae(),n=(0,hIe.useMemo)(()=>{if(r){let i=t?.refetchInterval!==void 0&&t?.refetchInterval!==!1,o=t?.enabled===!1;if(i&&!o)return{...t,refetchInterval:!1}}return t},[r,t]);return JX(n,e)}d();h();var eee="__STORAGE_RESET_KEY__",pIe=["authEnabled","balanceHiddenStatus","buyFormValues","customGasControls","dAppBrowserBookmarks","deviceId","latestCleanedStorageVersion","lockTimerMs","maxWalletIndex","onboardingDone","ownerToHiddenMints","pendingTransactions","priceMap","userExplorerPreferenceV2","userRecentAddresses","userSavedAddresses","userTrustedApps","userWhitelistedSubdomains","userWhitelistedOrigins"];var m3t="Error processing storage data",y3t="Error getting storage data",g3t=["export-storage"],b3t=(t,e)=>{let r=[...pIe,...e];return Sr({queryKey:g3t,queryFn:()=>v3t(t,r),gcTime:0,staleTime:0})},v3t=async(t,e)=>{try{let r={};for(let{key:n,storage:i}of t){let o=await i.getAll();r[n]=x3t(o,e)}return r}catch(r){throw new Error(`${y3t}: ${JSON.stringify(r)}`)}},x3t=(t,e)=>{try{let r={};for(let n of e)t[n]&&(r[n]=t[n]);return r}catch(r){throw new Error(`${m3t}: ${JSON.stringify(r)}`)}};d();h();var QS=class{constructor(e){this.storage=e;e.subscribe(r=>{r===eee?this.notifierCache.forEach(n=>{n.notify()}):this.getNotifier(r).notify()})}notifierCache=new Map;getNotifier(e){let r=this.notifierCache.get(e);return r||(r=$1(),this.notifierCache.set(e,r)),r}async get(e){return this.getNotifier(e).consume(),this.storage.get(e)}async set(e,r){await this.storage.set(e,r),this.getNotifier(e).notify()}},mIe=new WeakMap,X8=()=>{let t=er(),e=mIe.get(t);return e===void 0&&(e=new QS(t),mIe.set(t,e)),e},w3t=Vs(t=>X8().get(t)),S3t=Vs(t=>N4(async e=>X8().set(t,e)));d();h();var wN=qe(ur()),BQr=(0,wN.createContext)(void 0);d();h();d();h();d();h();d();h();d();h();var fee=qe(ta()),xIe=qe(ds());d();h();d();h();d();h();function tee(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function A3t(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function yIe(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function E3t(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");tee(t.outputLen),tee(t.blockLen)}function _3t(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function T3t(t,e){yIe(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var I3t={number:tee,bool:A3t,bytes:yIe,hash:E3t,exists:_3t,output:T3t},ho=I3t;d();h();d();h();d();h();d();h();var M3t={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};var SN=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),XS=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Yl=(t,e)=>t<<32-e|t>>>e,k3t=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!k3t)throw new Error("Non little-endian hardware is not supported");var KQr=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));var P3t=async()=>{};async function AN(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);let o=Date.now()-n;o>=0&&o<e||(await P3t(),n+=o)}}function B3t(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function pg(t){if(typeof t=="string"&&(t=B3t(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}var JS=class{clone(){return this._cloneInto()}},R3t=t=>Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object;function EN(t,e){if(e!==void 0&&(typeof e!="object"||!R3t(e)))throw new TypeError("Options should be object or undefined");return Object.assign(t,e)}function ree(t){let e=n=>t().update(pg(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function C3t(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),c=Number(r&o),l=n?4:0,m=n?0:4;t.setUint32(e+l,s,n),t.setUint32(e+m,c,n)}var _N=class extends JS{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=XS(this.buffer)}update(e){ho.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=pg(e);let o=e.length;for(let s=0;s<o;){let c=Math.min(i-this.pos,o-s);if(c===i){let l=XS(e);for(;i<=o-s;s+=i)this.process(l,s);continue}n.set(e.subarray(s,s+c),this.pos),this.pos+=c,s+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){ho.exists(this),ho.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let b=s;b<i;b++)r[b]=0;C3t(n,i-8,BigInt(this.length*8),o),this.process(n,0);let c=XS(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let m=l/4,w=this.get();if(m>w.length)throw new Error("_sha2: outputLen bigger than state");for(let b=0;b<m;b++)c.setUint32(4*b,w[b],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:c}=this;return e.length=i,e.pos=c,e.finished=o,e.destroyed=s,i%r&&e.buffer.set(n),e}};var O3t=(t,e,r)=>t&e^~t&r,N3t=(t,e,r)=>t&e^t&r^e&r,D3t=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),mg=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),yg=new Uint32Array(64),TN=class extends _N{constructor(){super(64,32,8,!1),this.A=mg[0]|0,this.B=mg[1]|0,this.C=mg[2]|0,this.D=mg[3]|0,this.E=mg[4]|0,this.F=mg[5]|0,this.G=mg[6]|0,this.H=mg[7]|0}get(){let{A:e,B:r,C:n,D:i,E:o,F:s,G:c,H:l}=this;return[e,r,n,i,o,s,c,l]}set(e,r,n,i,o,s,c,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=c|0,this.H=l|0}process(e,r){for(let b=0;b<16;b++,r+=4)yg[b]=e.getUint32(r,!1);for(let b=16;b<64;b++){let E=yg[b-15],I=yg[b-2],M=Yl(E,7)^Yl(E,18)^E>>>3,k=Yl(I,17)^Yl(I,19)^I>>>10;yg[b]=k+yg[b-7]+M+yg[b-16]|0}let{A:n,B:i,C:o,D:s,E:c,F:l,G:m,H:w}=this;for(let b=0;b<64;b++){let E=Yl(c,6)^Yl(c,11)^Yl(c,25),I=w+E+O3t(c,l,m)+D3t[b]+yg[b]|0,k=(Yl(n,2)^Yl(n,13)^Yl(n,22))+N3t(n,i,o)|0;w=m,m=l,l=c,c=s+I|0,s=o,o=i,i=n,n=I+k|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,c=c+this.E|0,l=l+this.F|0,m=m+this.G|0,w=w+this.H|0,this.set(n,i,o,s,c,l,m,w)}roundClean(){yg.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},nee=class extends TN{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}},iee=ree(()=>new TN),XQr=ree(()=>new nee);d();h();d();h();var IN=class extends JS{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,ho.hash(e);let n=pg(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?e.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(e){return ho.exists(this),this.iHash.update(e),this}digestInto(e){ho.exists(this),ho.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:c}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=c,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},oee=(t,e,r)=>new IN(t,e).update(r).digest();oee.create=(t,e)=>new IN(t,e);function U3t(t,e,r,n){ho.hash(t);let i=EN({dkLen:32,asyncTick:10},n),{c:o,dkLen:s,asyncTick:c}=i;if(ho.number(o),ho.number(s),ho.number(c),o<1)throw new Error("PBKDF2: iterations (c) should be >= 1");let l=pg(e),m=pg(r),w=new Uint8Array(s),b=oee.create(t,l),E=b._cloneInto().update(m);return{c:o,dkLen:s,asyncTick:c,DK:w,PRF:b,PRFSalt:E}}function L3t(t,e,r,n,i){return t.destroy(),e.destroy(),n&&n.destroy(),i.fill(0),r}function see(t,e,r,n){let{c:i,dkLen:o,DK:s,PRF:c,PRFSalt:l}=U3t(t,e,r,n),m,w=new Uint8Array(4),b=XS(w),E=new Uint8Array(c.outputLen);for(let I=1,M=0;M<o;I++,M+=c.outputLen){let k=s.subarray(M,M+c.outputLen);b.setInt32(0,I,!1),(m=l._cloneInto(m)).update(w).digestInto(E),k.set(E.subarray(0,k.length));for(let R=1;R<i;R++){c._cloneInto(m).update(E).digestInto(E);for(let B=0;B<k.length;B++)k[B]^=E[B]}}return L3t(c,l,s,m,E)}var En=(t,e)=>t<<e|t>>>32-e;function gIe(t,e,r,n,i,o){let s=t[e++]^r[n++],c=t[e++]^r[n++],l=t[e++]^r[n++],m=t[e++]^r[n++],w=t[e++]^r[n++],b=t[e++]^r[n++],E=t[e++]^r[n++],I=t[e++]^r[n++],M=t[e++]^r[n++],k=t[e++]^r[n++],R=t[e++]^r[n++],B=t[e++]^r[n++],U=t[e++]^r[n++],P=t[e++]^r[n++],F=t[e++]^r[n++],q=t[e++]^r[n++],K=s,re=c,Q=l,ie=m,S=w,a=b,f=E,p=I,y=M,g=k,A=R,_=B,v=U,u=P,x=F,L=q;for(let D=0;D<8;D+=2)S^=En(K+v|0,7),y^=En(S+K|0,9),v^=En(y+S|0,13),K^=En(v+y|0,18),g^=En(a+re|0,7),u^=En(g+a|0,9),re^=En(u+g|0,13),a^=En(re+u|0,18),x^=En(A+f|0,7),Q^=En(x+A|0,9),f^=En(Q+x|0,13),A^=En(f+Q|0,18),ie^=En(L+_|0,7),p^=En(ie+L|0,9),_^=En(p+ie|0,13),L^=En(_+p|0,18),re^=En(K+ie|0,7),Q^=En(re+K|0,9),ie^=En(Q+re|0,13),K^=En(ie+Q|0,18),f^=En(a+S|0,7),p^=En(f+a|0,9),S^=En(p+f|0,13),a^=En(S+p|0,18),_^=En(A+g|0,7),y^=En(_+A|0,9),g^=En(y+_|0,13),A^=En(g+y|0,18),v^=En(L+x|0,7),u^=En(v+L|0,9),x^=En(u+v|0,13),L^=En(x+u|0,18);i[o++]=s+K|0,i[o++]=c+re|0,i[o++]=l+Q|0,i[o++]=m+ie|0,i[o++]=w+S|0,i[o++]=b+a|0,i[o++]=E+f|0,i[o++]=I+p|0,i[o++]=M+y|0,i[o++]=k+g|0,i[o++]=R+A|0,i[o++]=B+_|0,i[o++]=U+v|0,i[o++]=P+u|0,i[o++]=F+x|0,i[o++]=q+L|0}function aee(t,e,r,n,i){let o=n+0,s=n+16*i;for(let c=0;c<16;c++)r[s+c]=t[e+(2*i-1)*16+c];for(let c=0;c<i;c++,o+=16,e+=16)gIe(r,s,t,e,r,o),c>0&&(s+=16),gIe(r,o,t,e+=16,r,s)}function F3t(t,e,r){let n=EN({dkLen:32,asyncTick:10,maxmem:1073742848},r),{N:i,r:o,p:s,dkLen:c,asyncTick:l,maxmem:m,onProgress:w}=n;if(ho.number(i),ho.number(o),ho.number(s),ho.number(c),ho.number(l),ho.number(m),w!==void 0&&typeof w!="function")throw new Error("progressCb should be function");let b=128*o,E=b/4;if(i<=1||i&i-1||i>=2**(b/8)||i>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(s<0||s>(2**32-1)*32/b)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(c<0||c>(2**32-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");let I=b*(i+s);if(I>m)throw new Error(`Scrypt: parameters too large, ${I} (128 * r * (N + p)) > ${m} (maxmem)`);let M=see(iee,t,e,{c:1,dkLen:b*s}),k=SN(M),R=SN(new Uint8Array(b*i)),B=SN(new Uint8Array(b)),U=()=>{};if(w){let P=2*i*s,F=Math.max(Math.floor(P/1e4),1),q=0;U=()=>{q++,w&&(!(q%F)||q===P)&&w(q/P)}}return{N:i,r:o,p:s,dkLen:c,blockSize32:E,V:R,B32:k,B:M,tmp:B,blockMixCb:U,asyncTick:l}}function V3t(t,e,r,n,i){let o=see(iee,t,r,{c:1,dkLen:e});return r.fill(0),n.fill(0),i.fill(0),o}async function bIe(t,e,r){let{N:n,r:i,p:o,dkLen:s,blockSize32:c,V:l,B32:m,B:w,tmp:b,blockMixCb:E,asyncTick:I}=F3t(t,e,r);for(let M=0;M<o;M++){let k=c*M;for(let B=0;B<c;B++)l[B]=m[k+B];let R=0;await AN(n-1,I,B=>{aee(l,R,l,R+=c,i),E()}),aee(l,(n-1)*c,m,k,i),E(),await AN(n,I,B=>{let U=m[k+c-16]%n;for(let P=0;P<c;P++)b[P]=m[k+P]^l[U*c+P];aee(b,0,m,k,i),E()})}return V3t(t,s,w,l,b)}var cee=qe(ta()),vIe=qe(aM()),uee=qe(ds()),MN=async(t,e)=>{switch(e.kdf){case"scrypt":return Buffer.from(await bIe(t,cee.default.decode(e.salt),{N:2**12,r:8,p:1,dkLen:uee.secretbox.keyLength}));case"pbkdf2":return new Promise((r,n)=>(0,vIe.pbkdf2)(t,cee.default.decode(e.salt),e.iterations,uee.secretbox.keyLength,e.digest,(i,o)=>i?n(i):r(o)))}throw new Error(`Unable to derive encryption key: ${e.kdf}`)};var lee=async(t,e)=>{let r=xIe.secretbox.open(fee.default.decode(t.encrypted),fee.default.decode(t.nonce),await MN(e,t));if(!r)throw new Error("Unable to open secretbox: Incorrect Password");return r};async function eA(t,e){try{return await lee(t,e)}catch{let r=Buffer.from(e).toString("utf-8"),n=Buffer.from(r),i=await lee(t,n);return i&&je.addBreadcrumb("storage","DecryptEncryptedText: Legacy decryption successful \u2705","info"),i}}d();h();var e5=qe(ta()),tA=qe(ds());var rA=async(t,e)=>{let r={kdf:"scrypt",salt:e5.default.encode((0,tA.randomBytes)(16)),nonce:e5.default.encode((0,tA.randomBytes)(tA.secretbox.nonceLength)),iterations:1e4,digest:"sha256"},n=await MN(e,r),i=(0,tA.secretbox)(t,e5.default.decode(r.nonce),n);return{...r,encrypted:e5.default.encode(i)}};d();h();async function kN(t,e){return rA(Buffer.from(t),e)}d();h();var dee=J.object({encrypted:J.string(),nonce:J.string(),kdf:J.string(),salt:J.string(),iterations:J.number(),digest:J.string()});var wIe=J.object({version:J.literal(1),content:dee});var hee=class{storage;storageEncryptionKeyManager;static fromStorage(e,r){return new this({store:e,type:"plain"},r)}static fromSecureStorage(e,r){return new this({store:e,type:"secure"},r)}constructor(e,r){this.storage=e,this.storageEncryptionKeyManager=r}async rotateEncryptionKey(e){return this.storageEncryptionKeyManager.rotateEncryptionKey(async(r,n)=>{let i=await this.getAllSecureValues(),o={};for(let[s,c]of Object.entries(i)){let l=await this.encrypt(c,r);o[s]=l}return n(o,e)})}async getSecureValue(e){let r;switch(this.storage.type){case"plain":{r=await this.storage.store.get(e);break}case"secure":{r=await this.storage.store.getSecureValue(e);break}}return r?this.decrypt(r):null}async getAllSecureValues(e){let r={},n;switch(this.storage.type){case"plain":{n=await this.storage.store.getAll(e);break}case"secure":{n=await this.storage.store.getAllSecureValues(e);break}}for(let[i,o]of Object.entries(n)){let s=wIe.safeParse(o);if(s.success){let c=await this.decrypt(s.data);r[i]=c}}return r}async removeSecureValue(e){switch(this.storage.type){case"plain":{await this.storage.store.remove(e);break}case"secure":{await this.storage.store.removeSecureValue(e);break}}}async setSecureValue(e,r){let n=await this.encrypt(r);switch(this.storage.type){case"plain":{await this.storage.store.set(e,n);break}case"secure":{await this.storage.store.setSecureValue(e,n);break}}}async setAllSecureValues(e){let r={};for(let[n,i]of Object.entries(e)){let o=await this.encrypt(i);r[n]=o}switch(this.storage.type){case"plain":{await this.storage.store.setAll(r);break}case"secure":{await this.storage.store.setAllSecureValues(r);break}}}async encrypt(e,r){let n=JSON.stringify(e),i=r??await this.storageEncryptionKeyManager.getDeviceEncryptionKey();if(!i)throw new Error("[EncryptedStorage.encrypt] Failed to get valid encryption key");return{version:1,content:await i.foldAsync(s=>kN(n,s))}}async decrypt(e){let r=await this.storageEncryptionKeyManager.getDeviceEncryptionKey();if(!r)throw new Error("[EncryptedStorage.decrypt] Failed to get valid encryption key");let n=await r.foldAsync(i=>eA(e.content,i));return JSON.parse(Buffer.from(n).toString())}};d();h();var SIe=qe(ds()),r5=class extends Error{message="Failed to get the encryption password"},PN=class extends Error{message="Failed to update password that has never been set"},pee=class extends Error{message="Failed to decrypt using the password"},t5=".phantom-labs.encryption.encryptionKey",mee=class{tempEncryptionKey;encryptionKey;deps;constructor(e){this.deps=e,this.encryptionKey=null,this.tempEncryptionKey=null}async getDeviceEncryptionKey(){let e=await this.fetchAndDecryptExistingKey();return e?Ii.from(e):(this.tempEncryptionKey||(this.tempEncryptionKey=Ii.from(this.randomEncryptionKey())),this.tempEncryptionKey)}async persistDeviceEncryptionKey(){if(await this.hasPersistedDeviceEncryptionKey())return!0;this.tempEncryptionKey||(this.tempEncryptionKey=Ii.from(this.randomEncryptionKey()));let e=this.tempEncryptionKey,r=this.getPassword(),n=async o=>await this.encrypt(o,r),i=await e.foldAsync(n);return await this.saveExistingKey(i),this.encryptionKey=i,this.tempEncryptionKey=null,!0}async hasPersistedDeviceEncryptionKey(){return this.encryptionKey||(this.encryptionKey=await this.fetchExistingKey()),!!this.encryptionKey}async deletePersistedDeviceEncryptionKey(){return this.encryptionKey=null,this.deleteExistingKey().then(()=>!0).catch(()=>!1)}async updatePassword(e){if(!this.deps.getPassword())throw new r5;let n=await this.fetchAndDecryptExistingKey();if(!n)throw new PN;let i=await this.encrypt(n,e);await this.saveExistingKey(i),this.encryptionKey=i}async rotateEncryptionKey(e){let r=this.deps.getPassword();if(!r)throw new r5;if(!await this.fetchAndDecryptExistingKey())throw new PN;let i=Ii.from(this.randomEncryptionKey());return e(i,async(o,s)=>{let c=s??r,l=await i.foldAsync(m=>this.encrypt(m,c));return await this.saveExistingKey(l,o),this.encryptionKey=l,this.tempEncryptionKey=null,!0})}async verifyPassword(e){return this.encryptionKey||(this.encryptionKey=await this.fetchExistingKey()),this.encryptionKey?!!await this.decrypt(this.encryptionKey,e).catch(()=>!1):(je.addBreadcrumb("storage","Failed to get existing encryption key!","info"),!1)}async fetchAndDecryptExistingKey(){if(this.encryptionKey||(this.encryptionKey=await this.fetchExistingKey()),this.encryptionKey){let e=this.getPassword();return this.decrypt(this.encryptionKey,e)}return je.addBreadcrumb("storage","Failed to get existing encryption key!","info"),null}getPassword(){let e=this.deps.getPassword();if(!e)throw new r5;return e}async fetchExistingKey(){return this.deps.storage.get(t5)}async saveExistingKey(e,r){if(r){let n={...r,[t5]:e};return this.deps.storage.setAll(n)}else return this.deps.storage.set(t5,e)}async deleteExistingKey(){return this.deps.storage.remove(t5)}randomEncryptionKey(){return(0,SIe.randomBytes)(32)}async encrypt(e,r){return r.foldAsync(n=>rA(e,n)).then(n=>({version:1,encryptedKey:n}))}async decrypt(e,r){return r.foldAsync(n=>eA(e.encryptedKey,n)).catch(()=>{throw new pee})}};d();h();d();h();d();h();d();h();d();h();var AIe=null;function q3t(t){AIe=t}function EIe(){return AIe}function _Ie(t){let e=EIe();if(e){let r=new Headers(t);return r.set("X-Phantom-AnonymousId",e),r}return t}d();h();var yee=null;function gee(t){yee=t}async function bee(t=!1){if(!yee)throw new Error("No fetch bearer token function registered. Register one with registerFetchBearerToken().");return await yee(t)}d();h();d();h();function TIe(...t){let e=new AbortController;for(let r of t){let n=r instanceof AbortController?r.signal:r;if(n?.aborted)return e.abort(n.reason),e.signal;n?.addEventListener("abort",()=>{e.abort(n.reason)},{once:!0})}return e.signal}var K3t=2*60*1e3,H3t=[];function IIe(t,e){let{fetchTimeout:r,retryDelays:n,retryOnAuthTokenExpiration:i,onAuthRetry:o,...s}=e||{},c=e?.fetchTimeout??K3t,l=e?.retryDelays??H3t,m=0,w=0,b=s;return new Promise((E,I)=>{function M(){m++,w=Date.now();let B=!0,U=new AbortController,P=fetch(t,{...b,signal:TIe(...s.signal?[s.signal,U.signal]:[U.signal])}),F=setTimeout(()=>{U.abort(),B=!1,R(m)?k():I(new Error(`fetchWithTimeoutAndRetry(): Failed to get response from server due to timeout of ${c} ms, tried ${m} times.`))},c);P.then(q=>{clearTimeout(F),B&&(q.status>=200&&q.status<300?E(q):R(m,q.status)?q.status===401&&i&&o?o(b).then(K=>{b=K,k()}).catch(K=>{I(K)}):k():E(q))}).catch(q=>{clearTimeout(F),R(m)?k():I(q)})}function k(){let B=l[m-1],U=w+B;setTimeout(M,Math.max(U-Date.now(),0))}function R(B,U){if(U===401&&i)return B<=l.length;let P=U?U>=400&&U<=499:!1;return B<=l.length&&!P}M()})}d();h();var BN=(t={},e={})=>{let r=new Headers(t),n=new Headers(e);for(let[i,o]of n.entries())o===void 0||o==="undefined"?r.delete(i):r.set(i,o);return r};d();h();var sA=qe(Vn());d();h();d();h();function MIe(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function vee(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function kIe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");MIe(t.outputLen),MIe(t.blockLen)}function nA(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function PIe(t,e){vee(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}d();h();d();h();var RN=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;var BIe=t=>t instanceof Uint8Array;var CN=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Zl=(t,e)=>t<<32-e|t>>>e,j3t=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!j3t)throw new Error("Non little-endian hardware is not supported");function z3t(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function n5(t){if(typeof t=="string"&&(t=z3t(t)),!BIe(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function RIe(...t){let e=new Uint8Array(t.reduce((n,i)=>n+i.length,0)),r=0;return t.forEach(n=>{if(!BIe(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}var iA=class{clone(){return this._cloneInto()}},ZXr={}.toString;function ON(t){let e=n=>t().update(n5(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function NN(t=32){if(RN&&typeof RN.getRandomValues=="function")return RN.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}var DN=class extends iA{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,kIe(e);let n=n5(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?e.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(e){return nA(this),this.iHash.update(e),this}digestInto(e){nA(this),vee(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:c}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=c,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},i5=(t,e,r)=>new DN(t,e).update(r).digest();i5.create=(t,e)=>new DN(t,e);d();h();d();h();function W3t(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),c=Number(r&o),l=n?4:0,m=n?0:4;t.setUint32(e+l,s,n),t.setUint32(e+m,c,n)}var oA=class extends iA{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=CN(this.buffer)}update(e){nA(this);let{view:r,buffer:n,blockLen:i}=this;e=n5(e);let o=e.length;for(let s=0;s<o;){let c=Math.min(i-this.pos,o-s);if(c===i){let l=CN(e);for(;i<=o-s;s+=i)this.process(l,s);continue}n.set(e.subarray(s,s+c),this.pos),this.pos+=c,s+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){nA(this),PIe(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let b=s;b<i;b++)r[b]=0;W3t(n,i-8,BigInt(this.length*8),o),this.process(n,0);let c=CN(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let m=l/4,w=this.get();if(m>w.length)throw new Error("_sha2: outputLen bigger than state");for(let b=0;b<m;b++)c.setUint32(4*b,w[b],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:c}=this;return e.length=i,e.pos=c,e.finished=o,e.destroyed=s,i%r&&e.buffer.set(n),e}};var G3t=(t,e,r)=>t&e^~t&r,$3t=(t,e,r)=>t&e^t&r^e&r,Y3t=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),gg=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),bg=new Uint32Array(64),xee=class extends oA{constructor(){super(64,32,8,!1),this.A=gg[0]|0,this.B=gg[1]|0,this.C=gg[2]|0,this.D=gg[3]|0,this.E=gg[4]|0,this.F=gg[5]|0,this.G=gg[6]|0,this.H=gg[7]|0}get(){let{A:e,B:r,C:n,D:i,E:o,F:s,G:c,H:l}=this;return[e,r,n,i,o,s,c,l]}set(e,r,n,i,o,s,c,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=c|0,this.H=l|0}process(e,r){for(let b=0;b<16;b++,r+=4)bg[b]=e.getUint32(r,!1);for(let b=16;b<64;b++){let E=bg[b-15],I=bg[b-2],M=Zl(E,7)^Zl(E,18)^E>>>3,k=Zl(I,17)^Zl(I,19)^I>>>10;bg[b]=k+bg[b-7]+M+bg[b-16]|0}let{A:n,B:i,C:o,D:s,E:c,F:l,G:m,H:w}=this;for(let b=0;b<64;b++){let E=Zl(c,6)^Zl(c,11)^Zl(c,25),I=w+E+G3t(c,l,m)+Y3t[b]+bg[b]|0,k=(Zl(n,2)^Zl(n,13)^Zl(n,22))+$3t(n,i,o)|0;w=m,m=l,l=c,c=s+I|0,s=o,o=i,i=n,n=I+k|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,c=c+this.E|0,l=l+this.F|0,m=m+this.G|0,w=w+this.H|0,this.set(n,i,o,s,c,l,m,w)}roundClean(){bg.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var gs=ON(()=>new xee);var Z3t=[86,120,48,81,89,86,110,49,100,114,111,113,49,70,56,84,77,115,80,81,66,75,72,51,90,83,110,100,110,116,68,88,107,118,83,53,102,80,114,89,111,88,85,75,57,43,67,57,97,103,74,113,68,76,112,112,100,48,102,101,80,122,83,111,108,113,75,90,56,114,66,70,119,87,84,104,98,57,110,119,43,79,70,51,51,65,61,61],Q3t=[87,67,49,81,97,71,70,117,100,71,57,116,81,88,86,48,97,70,82,118,97,50,86,117],J3t=[87,67,49,81,97,71,70,117,100,71,57,116,84,109,57,117,89,50,85,61];function X3t(t){let e=new URL(t);return e.pathname+e.search}function CIe(t,e){let r=X3t(t),n=JSON.stringify(Math.floor(Date.now()/1e3)),i=r+n,o=i5(gs,sA.Buffer.from(String.fromCharCode(...Z3t)),sA.Buffer.from(i)),s=new Headers(e);return s.set(sA.Buffer.from(String.fromCharCode(...Q3t),"base64").toString(),encodeURIComponent(sA.Buffer.from(o).toString("base64"))),s.set(sA.Buffer.from(String.fromCharCode(...J3t),"base64").toString(),n),s}var Av=class extends Error{constructor(e,r){super(e),this.response=r}response},e6t={"Content-Type":"application/json","X-Phantom-Version":t3,"X-Phantom-Platform":Jse},aA=async t=>{let e,r;try{r=await t.clone().blob()}catch{}try{e=await t.clone().json()}catch{}let{status:n,statusText:i}=t;return{blob:r,data:e,status:n,statusText:i}},wee=class t{config;constructor(e={}){this.config={withClientAuth:!0,numRetries:0,delayBetweenEachRetryMs:0,timeoutMs:null,validateStatus:!1,headers:e6t,withApiEnvironment:"none",fetchBearerToken:!1,...e}}fetch=async(e,r={})=>{try{if(typeof e=="function"){let l=gb()==="https://api.phantom.app"?"prod":"staging";e=e({apiEnv:l})}let n="";this.config.withApiEnvironment==="prod"?n="https://api.phantom.app":this.config.withApiEnvironment==="staging"?n="https://staging-api.phantom.app":this.config.withApiEnvironment==="default"?n=gb():this.config.withApiEnvironment==="custom"&&this.config.customApiEnv&&(n=this.config.customApiEnv);let i=new URL(`${n}${e}`);r?.params&&(i.search=new URLSearchParams(r.params).toString()),r.headers=BN(this.config.headers,r.headers),r.headers=_Ie(r.headers),this.config.withClientAuth&&(r.headers=CIe(i.toString(),r.headers));let o={...r,onAuthRetry:async l=>{let m=await bee(!0);if(m){let w=new Headers(l.headers);return w.set("authorization",`Bearer ${m}`),{...l,headers:w}}return l}},s=this.config.validateStatus;if(r?.validateStatus&&(s=r?.validateStatus),o.body&&typeof o.body!="string"&&(o.body=JSON.stringify(o.body)),this.config.timeoutMs&&(o.fetchTimeout=this.config.timeoutMs),this.config.numRetries&&(o.retryDelays=Array(this.config.numRetries).fill(this.config.delayBetweenEachRetryMs)),this.config.fetchBearerToken){o.retryOnAuthTokenExpiration=!0;let l=await bee();if(l)o.headers=BN(o.headers,{authorization:`Bearer ${l}`});else throw new Av("Unable to get bearer token. Full auth is required.")}let c=await IIe(i.toString(),o);if(s&&!c.ok)throw new Av(`Request failed with status code ${c.status}`,await aA(c));return c}catch(n){throw n instanceof Av?n:new Av(n?.message,n?.response)}};auth(e){return new t({...this.config,withClientAuth:e})}bearer(e){return typeof e=="string"&&e?this.headers({authorization:`Bearer ${e}`}):typeof e=="boolean"&&e?new t({...this.config,validateStatus:!0,fetchBearerToken:!0,numRetries:1}):this}headers(e,r){let n=r?.mergeHeaders===!1?e:BN(this.config.headers,e);return new t({...this.config,headers:n})}timeout(e){return new t({...this.config,timeoutMs:e})}retry(e,r){return new t({...this.config,numRetries:e,delayBetweenEachRetryMs:r})}validateStatus(e){return new t({...this.config,validateStatus:e})}api(e="default",r){return new t({...this.config,withApiEnvironment:e,customApiEnv:e==="custom"?r:void 0})}async get(e,r={}){r.method="GET";let n=await this.fetch(e,r);return aA(n)}async post(e,r,n={}){n.method="POST";let i=await this.fetch(e,{...n,body:r});return aA(i)}async put(e,r,n={}){n.method="PUT";let i=await this.fetch(e,{...n,body:r});return aA(i)}async patch(e,r,n={}){n.method="PATCH";let i=await this.fetch(e,{...n,body:r});return aA(i)}async delete(e,r,n={}){n.method="DELETE";let i=await this.fetch(e,{...n,body:r});return aA(i)}},on=new wee;function t6t(t){if(t===void 0)throw new Error("rpcUrl undefined");return async(e,r)=>{let n={jsonrpc:"2.0",id:+new Date,method:e,params:r},o=(await on.post(t,n)).data;if("error"in o)throw new Error(JSON.stringify(o.error));return o.result}}async function r6t(t,e={}){return on.fetch(t,e)}function mp(t){return t.status>199&&t.status<400}function n6t(t){return t instanceof Av}d();h();var o5=(t,e)=>`/user/v1/users/${t}/wallet-storage${e?`/${encodeURIComponent(e)}`:""}`;d();h();d();h();function vg(){return(t,e)=>e??t}var NIe=async({storage:t,keyRegistry:e,allRemoteData:r})=>{let i=Object.keys(r).filter(s=>Object.prototype.hasOwnProperty.call(e,s)),o=await t.getAll();try{await t.setAll(i.reduce((s,c)=>{let l=o[c],m=r[c];if(m!=null){let{resolver:w=vg}=e[c];s[c]=w(l,m)}return s},{})).then(()=>{je.addBreadcrumb("storage","\u2705 Synced remote data to disk!","info")})}catch{try{for(let c of i){let l=o[c],m=r[c];if(m==null)continue;let{resolver:w=vg}=e[c];await t.set(c,w(l,m)).then(()=>{je.addBreadcrumb("storage",`\u2705 Synced remote data to disk: ${c}`,"info")}).catch(b=>{je.addBreadcrumb("storage",`\u274C Failed to sync remote data to disk: ${c} => Error: ${b}`,"info")})}}catch(c){je.addBreadcrumb("storage",`\u274C Failed to sync remote data to disk: ${c}`,"info")}}};var See=2,Aee=500,s5=class t{static#e;#t;#n={};#r={};#i=null;#o=null;#a;#s=null;#c=!1;constructor({storage:e,keyRegistry:r,authRepository:n,queryClient:i,isOnboardingDone:o}){this.#t=e,this.#r=r,this.#o=n,this.#i=i,this.#a=o}static getInstance({storage:e,keyRegistry:r,authRepository:n,queryClient:i,isOnboardingDone:o}){return this.#e||(this.#e=new t({storage:e,keyRegistry:r,authRepository:n,queryClient:i,isOnboardingDone:o})),this.#e}clear(){this.#s=null,this.#n={},this.#c=!1,je.addBreadcrumb("storage","\u{1F5D1}\uFE0F  SyncedStorage cleared!","info")}async hydrateIfNeeded(e=!0){if(!oI()){if(!await uv.isFeatureEnabledAsync("enable-synced-storage"))return je.addBreadcrumb("storage","\u{1F7E0} SyncedStorage: Feature not enabled!","info");if(!this.#o||!this.#t||!this.#r)return je.addBreadcrumb("storage","\u{1F7E0} SyncedStorage: Not initialized!","info");if(!await this.#a())return je.addBreadcrumb("storage","\u{1F7E0} SyncedStorage: Not onboarded!","info");try{let r=await this.#o.getUser();if(!r)return je.addBreadcrumb("storage","\u{1F7E0} SyncedStorage: No user found","info");if(r?.userID===this.#s)return;this.#s=r.userID;let n=await this.syncFromCloud();if(n){je.addBreadcrumb("storage","\u2705 SyncedStorage found!","info"),this.#n=n,e&&(await NIe({storage:this.#t,keyRegistry:this.#r,allRemoteData:n}),this.#c=!0);let i=Object.values(this.#r).map(o=>o.queryKey).flat();await this.#i?.invalidateQueries({queryKey:i})}}catch(r){je.captureError(new Error(`\u274C Failed to initialize Synced Storage: ${JSON.stringify(r)}`),"storage")}}}async syncFromCloud(e){if(this.#s)try{let r=o5(this.#s,e),n=await on.api().bearer(!0).retry(See,Aee).get(r);if(mp(n))return n.data;je.addBreadcrumb("storage",`\u274C Failed to sync from cloud: ${JSON.stringify(n)}`,"info")}catch(r){je.addBreadcrumb("storage",`\u274C Failed to sync from cloud: ${JSON.stringify(r)}`,"info")}}async syncToCloud(e,r){if(this.#n[e]=r,!this.#s)return!1;try{let n=o5(this.#s,e),i=await on.api().bearer(!0).retry(See,Aee).put(n,{value:r});if(mp(i))return je.addBreadcrumb("storage",`\u2705 Synced to cloud: ${e}`,"info"),!0;je.addBreadcrumb("storage",`\u274C Failed to sync to cloud: ${e} => Error: ${JSON.stringify(i)}`,"info")}catch(n){je.addBreadcrumb("storage",`\u274C Failed to sync to cloud: ${JSON.stringify(n)}`,"info")}return!1}async removeFromCloud(e){if(delete this.#n[e],!this.#s)return!1;try{let r=o5(this.#s,e),n=await on.api().bearer(!0).retry(See,Aee).delete(r);if(mp(n))return je.addBreadcrumb("storage",`\u2705 Removed from cloud: ${e}`,"info"),!0;je.addBreadcrumb("storage",`\u274C Failed to remove from cloud: ${e} => Error: ${JSON.stringify(n)}`,"info")}catch(r){je.addBreadcrumb("storage",`\u274C Failed to remove from cloud: ${JSON.stringify(r)}`,"info")}return!1}async get(e){let r=await this.#t.get(e);if(!this.#s||!this.#r||!Object.prototype.hasOwnProperty.call(this.#r,e))return r;let{resolver:n=vg,fetchLatestRemote:i=!1}=this.#r[e];if(!i&&this.#c)return r;let o=i?await this.syncFromCloud(e):this.#n[e];return n(r,o)}async getAll(e){return this.#t.getAll(e)}async remove(e){await this.#t.remove(e),Array.isArray(e)?Promise.all(e.map(r=>this.removeFromCloud(r))):this.removeFromCloud(e)}async set(e,r){await this.#t.set(e,r),this.syncToCloud(e,r)}async setAll(e){await this.#t.setAll(e),Promise.all(Object.entries(e).map(([r,n])=>this.syncToCloud(r,n)))}subscribe(e){return this.#t.subscribe(e)}async update(e,r){await this.#t.update(e,r);let n=await this.get(e);this.syncToCloud(e,n)}};d();h();var UN=(t,e,r=vg(),n=!1)=>({[t]:{queryKey:e,resolver:r,fetchLatestRemote:n}});d();h();var DIe=new WeakMap,UIe=()=>{let t=X8(),e=cc();if(e instanceof s5){let r=DIe.get(e);return r===void 0&&(r=new QS(e),DIe.set(e,r)),r}return t},i6t=Vs(t=>UIe().get(t)),o6t=Vs(t=>N4(async e=>UIe().set(t,e)));d();h();var s6t={[Lr.Monad.Mainnet]:1,[Lr.Monad.Devnet]:1,[Lr.Monad.Testnet]:1,[Lr.Ethereum.Mainnet]:6,[Lr.Ethereum.Sepolia]:6,[Lr.Polygon.Mainnet]:128,[Lr.Polygon.Amoy]:128,[Lr.Base.Mainnet]:3,[Lr.Base.Sepolia]:3,[Lr.Arbitrum.Mainnet]:1,[Lr.Arbitrum.Sepolia]:1,[Lr.Hypercore.Mainnet]:1,[Lr.Hypercore.Testnet]:1},a6t={[Lr.Bitcoin.Mainnet]:1,[Lr.Bitcoin.Testnet]:1};var c6t="TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb",u6t=100;d();h();d();h();function f6t(t,e){return e.getSupportedChains().includes(t)}function LIe(t,e){if(dR(t))return e.get(t);if(ze.isNetworkID(t)){let r=ze.getChainID(t);if(f6t(r,e))return e.get(r)}throw new Error("Invalid input type for chain config get method")}function Eee(t){return{get:e=>LIe(e,t),supportedChains:t.getSupportedChains()}}d();h();var a5=class{chainConfigMap=new Map;constructor(e){Object.entries(e).forEach(([r,n])=>{this.register(r,n)})}register(e,r){this.chainConfigMap.set(e,r)}getSupportedChains(){return Array.from(this.chainConfigMap.keys())}get(e){let r=this.chainConfigMap.get(e);if(!r)throw new Error(`No chain config found for chain: ${e}`);return r}};d();h();d();h();var Ev="@phantom/chains",_v={enabledChains:[`${Ev}:enabled-chains`],enabledAddressTypes:[`${Ev}:enabled-address-types`],enabledNetworkIDs(t){return[`${Ev}:enabled-network-ids`,{mainnetOnly:t}]},chainAvailability(t){return[`${Ev}:chain-availability`,t]}};var _ee=".phantom-labs.internal.enabledChainsOverrideSettings",FIe=async t=>{try{return(await t.get(_ee))?.settings}catch{return null}},VIe=async(t,e,r)=>{let n=await FIe(r);return r.set(_ee,{version:1,settings:{...n!=null&&n,[t]:e}})},qIe=async t=>{let e=[],r;try{r=await FIe(t),r&&Object.entries(r).forEach(([n,i])=>{i||e.push(n)})}catch{}try{let n=await t.get(h6t);!n||n.version===1||n.chains.forEach(i=>{r&&r[i]||e.push(i)})}catch{}try{ze.getAllChainIDs().forEach(n=>{r&&r[n]||ze.isChainDefaultEnabled(n)||e.push(n)})}catch{}return[...new Set(e)]},KIe=async(t,e)=>VIe(t,!1,e),Tee=async(t,e)=>VIe(t,!0,e),Tv=".phantom-labs.internal.disabledAddressTypes",HIe=async t=>{let e;try{e=await t.get(Tv)!==null}catch{e=!1}return e},jIe=async t=>{let e;try{e=(await t.get(Tv))?.addressTypes??[]}catch{e=[]}return[...new Set([...e,"bip122_p2sh","bip122_p2pkh"])]},zIe=async(t,e)=>{let r=await e.get(Tv),n=new Set(r?.addressTypes??[]);return n.delete(t),e.set(Tv,{version:1,addressTypes:Array.from(n)})},WIe=async(t,e)=>{let r=await e.get(Tv),n=new Set(r?.addressTypes??[]);return n.add(t),e.set(Tv,{version:1,addressTypes:Array.from(n)})},l6t=(t,e)=>({version:1,settings:{...t?.settings,...e?.settings}}),d6t={...UN(_ee,[`${Ev}:chain-availability`,`${Ev}:enabled-network-ids`,..._v.enabledChains],l6t),...UN(Tv,[..._v.enabledAddressTypes])},h6t=".phantom-labs.internal.disabledChains";d();h();var GIe=!1,cA=async(t,e)=>{e=e??await uv.isFeatureEnabledAsync("enable-arbitrum");let r=!Kp();GIe||(je.addBreadcrumb("network","Fetched chain availability","info",{skipFileLogger:!0}),GIe=!0);let n=ze.getAllChainIDs().filter(U=>(U!=="arbitrum"||e)&&(U!=="hypercore"||r)),i=await qIe(t),o=new Set(i),s=n.filter(U=>!o.has(U)),c=U=>{let P=ze.getChainID(U);return s.includes(P)},l=ze.getAllNetworkIDs({mainnetOnly:!1}).filter(c),m=ze.getAllNetworkIDs({mainnetOnly:!0}).filter(c),w=new Set(i.flatMap(U=>ze.getNetworkIDs(U))),b=l.filter(U=>!w.has(U)),E=m.filter(U=>!w.has(U)),I=b.filter(U=>!ze.isMainnetNetworkID(U)),M=ya.getAll(),k=await jIe(t),R=new Set(k);for(let U of M){let P=ze.getChainIDs(U);if(!P){R.add(U);continue}P.every(q=>o.has(q))&&R.add(U)}let B=M.filter(U=>!R.has(U));return{supportedChainIDs:n,supportedAddressTypes:M,disabledChainIDs:i,enabledChainIDs:s,enabledAddressTypes:B,enabledNetworkIDs:b,enabledMainnetOnlyNetworkIDs:E,enabledTestnetOnlyNetworkIDs:I}};d();h();var $Ie=[],Iee=t=>{$Ie.push(t)},yp=async t=>{let e=uv.isFeatureEnabled("enable-arbitrum");await t.invalidateQueries({queryKey:_v.chainAvailability({isArbitrumEnabled:e})}),await Promise.all($Ie.map(r=>r(t)))};d();h();d();h();var uA=(i=>(i.Image="image",i.Emoji="emoji",i.ReadOnlyDefault="read-only-default",i.Default="default",i))(uA||{}),p6t=J.object({type:J.nativeEnum(uA),imageUrl:J.string().optional(),unicode:J.string().optional()}),LN=(e=>(e.Ledger="ledger",e))(LN||{}),FN=(e=>(e.BLE="ble",e))(FN||{}),m6t=J.object({version:J.literal(1),connectionType:J.nativeEnum(FN),deviceType:J.nativeEnum(LN),id:J.string().min(1),name:J.string().optional(),model:J.string().optional()}),y6t=J.object({value:J.number(),timestamp:J.number()}),g6t=J.object({name:J.string(),icon:p6t.optional(),connectedDevices:m6t.array().optional(),balance:y6t.optional()});var b6t=100,v6t={unicode:void 0,imageUrl:void 0,type:"default"},Mee={version:1,isDeveloperMode:!1};var fA=Lr.Solana.Devnet,lA=Lr.Ethereum.Sepolia,kee=Lr.Sui.Testnet;function c5(){return{version:1,setting:{solana:fA,eip155:lA,sui:kee}}}function Ql(t){return t.map(e=>ya[e].defaultDerivationPathType)}var x6t={bip44Root:"bip44RootEthereum",bip44Change:"bip44Ethereum",bip44:"bip44EthereumSecondary",deprecated:"bip44EthereumTertiary",bip44RootEthereum:null,bip44Ethereum:null,bip44EthereumSecondary:null,bip44EthereumTertiary:null,bitcoinTaproot:null,bitcoinNativeSegwit:null,bitcoinNestedSegwit:null,bitcoinLegacy:null,bip44Sui:null},gp={bip44Root:-1,bip44RootEthereum:-1,bitcoinTaproot:0,bitcoinNativeSegwit:0,bitcoinNestedSegwit:0,bitcoinLegacy:0,bip44Change:0,bip44Ethereum:0,bip44:1,bip44EthereumSecondary:1,deprecated:2,bip44EthereumTertiary:2,bip44Sui:0},w6t="https://help.phantom.com/hc/en-us/articles/4406563212819";var S6t="https://help.phantom.com/hc/en-us/articles/21872962238355";d();h();var u5=(t,e=5)=>{let r=t.length,n=t.startsWith("0x")?e+2:e;return`${t.substring(0,n)}...${t.substring(r-e,r)}`};d();h();var A6t=t=>{let e=t.toString();return u5(e)};d();h();d();h();var E6t=t=>t.includes(".")||t.includes("@")?!1:Vp.safeParse(t).success||wd.safeParse(t).success||Ly.safeParse(t).success||qp.safeParse(t).success,Pee=(t,e=5)=>E6t(t)?u5(t,e):t;var _6t=(t,e,r,n=4)=>{let i=e?e.name:r,o=Pee(t,n);return i?`${i} (${o})`:o};d();h();var T6t=t=>`${t.substring(0,5)}...`;d();h();var dA=qe(ur()),YIe=(0,dA.createContext)(null);function I6t({children:t,authRepository:e}){return dA.default.createElement(YIe.Provider,{value:e},t)}function jc(){let t=(0,dA.useContext)(YIe);if(!t)throw new Error("useAuthRepository must be used within an AuthProvider");return t}function bp(){return jc().useUser()}d();h();d();h();var Bee=qe(Vn());d();h();var f5="https://phantom.app",l5="https://api.phantom.app/oauth2/auth",VN={prod:"a61bc25e-0c4f-4ab3-aa54-b50ec746eea2",staging:"fe26708b-7db7-4146-9fbb-9a9736acfb2b"},qN={prod:"https://auth.phantom.app",staging:"https://staging-auth.phantom.app"},ZIe="/login/start",QIe="/oauth2/token";var M6t="https://help.phantom.com/hc/en-us/articles/32367778944403";var JIe=ol({minutes:60})-ol({minutes:15}),Iv="/v1/authentication-keys";d();h();var Ho=t=>Buffer.from(t).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"");d();h();var k6t="https://time.phantom.app/utc",P6t=J.number().int().positive();async function Mv(){let t;try{let e=await on.get(k6t);if(e.status!==200)throw new Error("Failed to fetch time from server");t=P6t.parse(e.data)}catch{t=Date.now()}return Math.floor(t/1e3)}var B6t=60,R6t=()=>Math.floor(Date.now()/1e3);async function kv(t=!0){let e={alg:"ES256",type:"JWT"},r=t?await Mv():R6t(),n={iss:f5,aud:l5,nbf:r,exp:r+B6t,iat:r};return{header:e,payload:n}}function Pv(t){let e=Ho(Bee.Buffer.from(JSON.stringify(t.header))),r=Ho(Bee.Buffer.from(JSON.stringify(t.payload)));return[e,r,t.signature].join(".")}d();h();var XIe=J.object({alg:J.string(),type:J.string(),kid:J.string()}),eMe=J.object({sub:J.string(),iss:J.string(),aud:J.string(),nbf:J.number(),exp:J.number(),iat:J.number()}),Ree=J.object({header:XIe,payload:eMe,signature:J.string()}),tMe=J.object({alg:J.string(),type:J.string()}),rMe=J.object({iss:J.string(),aud:J.string(),nbf:J.number(),exp:J.number(),iat:J.number()}),Cee=J.object({header:tMe,payload:rMe}),Oee=J.object({id_token:J.string(),access_token:J.string(),refresh_token:J.string(),scope:J.string(),token_type:J.string(),expires_in:J.number().gte(0)}),C6t=J.object({redirectTo:J.string()}),nMe=J.object({at_hash:J.string(),aud:J.array(J.string()),auth_time:J.number(),exp:J.number(),iat:J.number(),iss:J.string(),jti:J.string(),rat:J.number(),sid:J.string(),sub:J.string(),email:J.string().optional()}),KN=J.object({authenticationKeys:J.array(J.object({createdAt:J.string().datetime().nullish().default(null),updatedAt:J.string().datetime().nullish().default(null),id:J.string().uuid(),publicKey:J.string(),userId:J.string().uuid()})).optional()});d();h();var Bv=qe(Yee());d();h();d();h();d();h();d();h();function Zee(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function M_t(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function SMe(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function k_t(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Zee(t.outputLen),Zee(t.blockLen)}function P_t(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function B_t(t,e){SMe(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var R_t={number:Zee,bool:M_t,bytes:SMe,hash:k_t,exists:P_t,output:B_t},tD=R_t;d();h();d();h();var C_t={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};var nD=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Jl=(t,e)=>t<<32-e|t>>>e,O_t=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!O_t)throw new Error("Non little-endian hardware is not supported");var Hin=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function N_t(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function Qee(t){if(typeof t=="string"&&(t=N_t(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}var rD=class{clone(){return this._cloneInto()}};function Jee(t){let e=n=>t().update(Qee(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function D_t(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),c=Number(r&o),l=n?4:0,m=n?0:4;t.setUint32(e+l,s,n),t.setUint32(e+m,c,n)}var iD=class extends rD{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=nD(this.buffer)}update(e){tD.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=Qee(e);let o=e.length;for(let s=0;s<o;){let c=Math.min(i-this.pos,o-s);if(c===i){let l=nD(e);for(;i<=o-s;s+=i)this.process(l,s);continue}n.set(e.subarray(s,s+c),this.pos),this.pos+=c,s+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){tD.exists(this),tD.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let b=s;b<i;b++)r[b]=0;D_t(n,i-8,BigInt(this.length*8),o),this.process(n,0);let c=nD(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let m=l/4,w=this.get();if(m>w.length)throw new Error("_sha2: outputLen bigger than state");for(let b=0;b<m;b++)c.setUint32(4*b,w[b],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:c}=this;return e.length=i,e.pos=c,e.finished=o,e.destroyed=s,i%r&&e.buffer.set(n),e}};var U_t=(t,e,r)=>t&e^~t&r,L_t=(t,e,r)=>t&e^t&r^e&r,F_t=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ag=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Eg=new Uint32Array(64),oD=class extends iD{constructor(){super(64,32,8,!1),this.A=Ag[0]|0,this.B=Ag[1]|0,this.C=Ag[2]|0,this.D=Ag[3]|0,this.E=Ag[4]|0,this.F=Ag[5]|0,this.G=Ag[6]|0,this.H=Ag[7]|0}get(){let{A:e,B:r,C:n,D:i,E:o,F:s,G:c,H:l}=this;return[e,r,n,i,o,s,c,l]}set(e,r,n,i,o,s,c,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=c|0,this.H=l|0}process(e,r){for(let b=0;b<16;b++,r+=4)Eg[b]=e.getUint32(r,!1);for(let b=16;b<64;b++){let E=Eg[b-15],I=Eg[b-2],M=Jl(E,7)^Jl(E,18)^E>>>3,k=Jl(I,17)^Jl(I,19)^I>>>10;Eg[b]=k+Eg[b-7]+M+Eg[b-16]|0}let{A:n,B:i,C:o,D:s,E:c,F:l,G:m,H:w}=this;for(let b=0;b<64;b++){let E=Jl(c,6)^Jl(c,11)^Jl(c,25),I=w+E+U_t(c,l,m)+F_t[b]+Eg[b]|0,k=(Jl(n,2)^Jl(n,13)^Jl(n,22))+L_t(n,i,o)|0;w=m,m=l,l=c,c=s+I|0,s=o,o=i,i=n,n=I+k|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,c=c+this.E|0,l=l+this.F|0,m=m+this.G|0,w=w+this.H|0,this.set(n,i,o,s,c,l,m,w)}roundClean(){Eg.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},Xee=class extends oD{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}},AMe=Jee(()=>new oD),eon=Jee(()=>new Xee);var yA=qe(Yee()),EMe=qe(ds()),ete={generateRandom:t=>{let e=(0,EMe.randomBytes)(t);return(0,yA.bufferToString)(e)},async deriveChallenge(t){let e=AMe((0,yA.textEncodeLite)(t));return(0,yA.urlSafe)(e)}};d();h();var Gf=()=>{let t=gb();return t==="https://staging-api.phantom.app"?qN.staging:t==="https://api.phantom.app"?qN.prod:T.BASE_AUTH_ENDPOINT||qN.staging},tte=()=>`${Gf()}${ZIe}`,sD=()=>`${Gf()}${QIe}`;var _Me=new Bv.BasicQueryStringUtils;async function h5(t,e){let{url:r,codeVerifier:n}=await TMe(t.getClientID(),t.redirectURL,e),i=e.type==="email",o=await t.fetchAuthorizationCode(t.redirectURL,r,i);return await rte({grantType:"authorization_code",clientID:t.getClientID(),redirectURI:t.redirectURL,tokenEndpoint:sD(),code:o,codeVerifier:n})}async function TMe(t,e,r){let n=tte(),i,o=["openid","offline_access","user","incognito","seedless"],s;switch(r.type){case"key":{i={type:"key",jwt:Pv(r.clientJWT)};break}case"email":{i={type:"email",provider:r.provider,existingAccessToken:r.existingAccessToken},s=r.prompt,o.push("email");break}case"session":{i={type:"session",existingAccessToken:r.existingAccessToken};break}}let l=await new Bv.AuthorizationRequest({client_id:t,redirect_uri:e,scope:o.join(" "),response_type:"code"},ete).toJson(),m;switch(i.type){case"key":m=`jwt:${Ho(Buffer.from(i.jwt,"utf8"))}`;break;case"email":m=`sso:${i.provider}`,i.existingAccessToken&&(m=`${m}:${i.existingAccessToken}`);break;case"session":m=`session:${i.existingAccessToken}`;break}let w={redirect_uri:l.redirect_uri,client_id:l.client_id,response_type:l.response_type,state:l.state??"",scope:l.scope,login_hint:m};s&&(w.prompt=s);let b=l.extras?.code_challenge,E=l.extras?.code_challenge_method,I=l.internal?.code_verifier;if(b&&E&&(w.code_challenge=b,w.code_challenge_method=E),!b||!E||!I)throw new Error("Missing code challenge or code verifier for PKCE.");let M=_Me.stringify(w);return{url:`${n}?${M}`,codeVerifier:I}}async function rte(t){let{grantType:e,tokenEndpoint:r,clientID:n,redirectURI:i}=t,o;e==="authorization_code"?o=new Bv.TokenRequest({client_id:n,redirect_uri:i,grant_type:e,code:t.code,extras:{code_verifier:t.codeVerifier}}):o=new Bv.TokenRequest({client_id:n,redirect_uri:i,grant_type:e,refresh_token:t.refreshToken});let s=await on.headers({"Content-Type":"application/x-www-form-urlencoded"},{mergeHeaders:!1}).auth(Kp()).post(r,_Me.stringify(o.toStringMap()));V_t(s,e);let c=Oee.safeParse(s.data);if(!c.success)throw new Error("Invalid OAuth2Token response.");let{data:l}=c,m=await Mv();return{idToken:l.id_token,accessToken:l.access_token,refreshToken:l.refresh_token,scope:l.scope,tokenType:l.token_type,expiresAt:(m+l.expires_in)*1e3}}async function aD(t,e){return await rte({clientID:t.getClientID(),redirectURI:t.redirectURL,grantType:"refresh_token",tokenEndpoint:sD(),refreshToken:e})}function V_t(t,e){if([401,400].includes(t.status)){let r="";if(t.status===401)switch(r="Token Request Unauthorized (401): ",e){case"authorization_code":r+="Authorization code is expired or invalid.";break;case"refresh_token":r+="Refresh token is expired or invalid.";break;default:r+=`Unknown grant type [${e}]. `}if(t.status===400)switch(r="Bad Token Request (400): ",e){case"authorization_code":r="for [authorization_code]. Possible causes: 1. The authorization code is expired or invalid. 2. Redirect URI mismatch. 3. Code verifier mismatch (if using PKCE).";break;case"refresh_token":r="for [refresh_token]. Possible causes: 1. The refresh token is expired, invalid, or revoked. 2. Client ID mismatch. 3. Missing or malformed refresh token in the request.";break;default:r=`for unknown grant type [${e}]. Check the payload and OAuth provider documentation.`}throw new Error(r)}}d();h();d();h();d();h();var p5=class{subscribers={};subscribe(e,r){return this.subscribers[e]||(this.subscribers[e]=[]),this.subscribers[e].push(r),()=>{this.subscribers[e].splice(this.subscribers[e].indexOf(r),1)}}emitEvent(e,...r){(this.subscribers[e]??[]).forEach(i=>i(...r))}};var cD=class extends p5{emit(e){e&&(this.emitEvent("user",e),this.emitEvent("userID",e.userID),this.emitEvent("accessToken",e.accessToken),e.email&&this.emitEvent("email",e.email))}emitLoggedOut(){this.emitEvent("loggedOut")}};d();h();d();h();function xp(t,e="expected value not found"){if(t==null)throw new Error(e);return t}function IMe(t,e="expected value not found"){if(!t)throw new Error(e)}var uD=async(t,e)=>{let r=Gf(),n=xp(t.signer,"Signer is required for key-based auth."),i=await n.getAuthenticationPublicKey(e),o=await kv(t.isServerTimeEnabled()),s=await n.sign(o,e),c=await on.get(`${r}${Iv}`,{params:{token:Pv(s)}});if(!mp(c))throw new Error("Failed to get authentication keys: response is not okay");let l=c.data;return(KN.parse(l).authenticationKeys??[]).some(b=>b.publicKey===i)};d();h();d();h();var MMe=async t=>{try{let e=await on.headers({"Content-Type":"application/x-www-form-urlencoded"},{mergeHeaders:!1}).bearer(t).get(`${Gf()}/userinfo`);return mp(e)}catch{return!1}};d();h();var nte=".phantom.auth",wp=`${nte}.tokens`,kMe=`${nte}.authentication-factors`,K_t=`${nte}.email-provider`;d();h();d();h();var PMe=t=>Buffer.from(t.replace("-","+").replace("_","/").replace(/=+$/,""),"base64");var Rv=t=>{let e=t.idToken.split(".");if(e.length!==3)throw new Error("Malformed ID token. Expected 3 period-delimited parts to ID token.");let r;try{let n=PMe(e[1]).toString("utf-8"),i=JSON.parse(n);r=nMe.parse(i)}catch{throw new Error("Unable to parse ID token payload.")}return{accessToken:t.accessToken,userID:r.sub,email:r.email}};d();h();var BMe="@phantom/auth",Mu={user:["auth",`${BMe}:user`],authFactors:["auth",`${BMe}:user-auth-factors`]};d();h();var fD=async(t,e,r)=>{let{storage:n,authConfig:i}=t,o,{type:s}=r;switch(s){case"key":{let l=xp(t.signer,"Signer is required for key-based auth."),m=await kv(t.isServerTimeEnabled()),w=await l.sign(m,r.secretIdentifier);o=await h5(i,{type:s,clientJWT:w});break}case"email":{o=await h5(i,{type:s,prompt:r.prompt,provider:r.provider});break}case"session":{o=await h5(i,{type:s,existingAccessToken:r.accessToken});break}}je.addBreadcrumb("Auth","\u2705 Login succeeded!","debug"),await n.set(wp,o);let c=Rv(o);return await t.queryClient.setQueryData(Mu.user,c),e.emit(c),c};var RMe={queryKey:Mu.user,gcTime:JIe,staleTime:ol({minutes:5})},gA=async(t,e)=>await t.queryClient.fetchQuery({...RMe,queryFn:()=>OMe(t,e)}),CMe=(t,e)=>Sr({...RMe,queryFn:async()=>{let r=await OMe(t,e);if(!r)throw new Error("Unable to log in.");return r},retryOnMount:!1}),OMe=async(t,e)=>{let r=async()=>{let n=await H_t(t);return n||(t.signer?await j_t(t,e):null)};return t.runExclusive(async()=>{let n=await r();return e.emit(n),n})};async function H_t({storage:t,authConfig:e,isLocalTokenValidityCheckEnabled:r}){let n=await t.get(wp);if(!n)return null;let i=r(),o=!1;if(i){let s=await Mv()+10,c=Math.floor(n.expiresAt/1e3);o=s<c}else o=await MMe(n.accessToken);if(o)return je.addBreadcrumb(`\u267B\uFE0F Access token still valid => Expires at ${n.expiresAt}`,"Auth","debug"),Rv(n);if(n.refreshToken)try{let s=await aD(e,n.refreshToken);return je.addBreadcrumb(`\u2705 Refreshed auth token => Expires at ${s.expiresAt}`,"Auth","debug"),await t.set(wp,s),Rv(s)}catch(s){return je.addBreadcrumb("Error refreshing auth token.","Auth","error"),je.captureError(s,"Auth"),null}return null}async function j_t(t,e){let n=await xp(t.signer,"Unable to log in with key-based auth. Signer is not available.").getAllSecretIdentifiers();if(n.length===0)return je.addBreadcrumb("Auth","Unable to log in with key-based auth. Vault is not yet onboarded or has no secrets that can perform key-based auth.","info"),null;let i;try{for(let o of n)if(await uD(t,o)){i=o;break}}catch(o){throw je.addBreadcrumb("Auth","Unable to log in with key-based auth. Error checking auth factors.","error"),o}i||(i=n[0],je.addBreadcrumb("Auth","No auth factor found, creating new user with first secret identifier.","debug"));try{return await fD(t,e,{type:"key",secretIdentifier:i})}catch(o){throw je.addBreadcrumb("Auth","Unable to log in with key-based auth. Error performing auth.","error"),o}}d();h();var ite=async t=>{await t.removeQueries({queryKey:Mu.user})},ote=async t=>{await t.resetQueries({queryKey:Mu.user})},Cv=async t=>{await t.invalidateQueries({queryKey:Mu.user})},Sp=async t=>{await t.invalidateQueries({queryKey:Mu.authFactors})};var z_t=t=>{let e=new cD,r={getUser:()=>gA(t,e),useUser:()=>CMe(t,e),refreshTokens:()=>W_t(t),logIn:n=>fD(t,e,n),isExistingAuthFactor:n=>uD(t,n),getAuthenticationKeys:()=>G_t(t,e),getLocalAuthenticationPublicKeys:()=>Y_t(t),addAuthFactor:n=>Z_t(t,e,n),deleteAuthFactor:n=>Q_t(t,e,n),deleteAllAuthFactors:()=>J_t(t,e),subscribe:(n,i)=>e.subscribe(n,i),logOut:()=>X_t(t,e)};return gee(async(n=!1)=>(n&&await Cv(t.queryClient),(await r.getUser())?.accessToken??null)),r},W_t=async t=>{let e=await t.storage.get(wp);if(!e)return!1;let r=await aD(t.authConfig,e.refreshToken);return await t.storage.set(wp,r),await t.queryClient.setQueryData(Mu.user,Rv(r)),!0},G_t=async(t,e)=>({authenticationPublicKeys:(await $_t(t,e)).map(n=>n.publicKey)}),$_t=async(t,e)=>{let r=Gf(),n=await gA(t,e);if(!n)throw new Error("User not authenticated.");let{data:i}=await on.bearer(n.accessToken).get(`${r}${Iv}`),o=KN.safeParse(i);if(!o.success)throw new Error("Unable to parse auth factors response.");return o.data.authenticationKeys??[]},Y_t=async t=>{try{let e=xp(t.signer,"Signer is required for key-based auth."),r=await e.getAllSecretIdentifiers(),n={};for(let i of r)n[i]=await e.getAuthenticationPublicKey(i);return n}catch{return{}}},Z_t=async(t,e,{secretIdentifier:r})=>{let n=Gf(),i=xp(t.signer,"Signer is required for key-based auth."),o=await gA(t,e);if(!o)throw new Error("User not authenticated.");je.addBreadcrumb("Auth",`Adding auth factor: ${r}`,"info");let s=await kv(t.isServerTimeEnabled()),c=await i.sign(s,r);await on.bearer(o.accessToken).post(`${n}${Iv}`,{jwt:Pv(c)})},Q_t=async(t,e,{authenticationPublicKey:r})=>{let n=Gf(),i=await gA(t,e);if(!i)throw new Error("User not authenticated.");je.addBreadcrumb("Auth",`Deleting auth factor: ${r}`,"info"),await on.bearer(i.accessToken).delete(`${n}${Iv}/${encodeURIComponent(r)}`)},J_t=async(t,e)=>{let r=Gf(),n=t.storage,i=await gA(t,e);if(!i)throw new Error("User not authenticated.");je.addBreadcrumb("Auth","Deleting all auth factors","info"),await on.bearer(i.accessToken).delete(`${r}${Iv}`),await n.remove(kMe)},X_t=async({storage:t},e)=>{await t.remove(wp),e.emitLoggedOut()};d();h();var e4t=(t,e)=>{let r=new URL(e);if(!r.toString().startsWith(t))throw new Error("Unexpected redirectURL. RedirectURL from auth flow must match local redirect URL.");let n=r.searchParams.get("code");if(!n)throw new Error("No authorization code");return n};d();h();var t4t=(t,e)=>{let r=new URL(e);if(!r.toString().startsWith(t))throw new Error("Unexpected redirectURL. RedirectURL from auth flow must match local redirect URL.");let n=r.searchParams.get("error"),i=r.searchParams.get("error_description");if(n)throw new Error(`${n}: ${i}`,{cause:n});return!1};d();h();var r4t=()=>gb()==="https://api.phantom.app"?VN.prod:VN.staging;d();h();var ste=()=>{let t=jc(),{data:e}=bp(),r=Mu.authFactors;return Sr({queryKey:r,queryFn:async()=>{let i=await t.getLocalAuthenticationPublicKeys();if(Object.keys(i).length===0)return{};let o=[];try{if(e){let{authenticationPublicKeys:c=[]}=await t.getAuthenticationKeys();o=c}}catch(c){e&&c instanceof Error&&je.addBreadcrumb("Auth",`Unable to fetch existing AuthFactors for user (${e?.userID}): ${c.message}`,"error")}let s={};for(let[c,l]of Object.entries(i)){let m=o.includes(l);!m&&await t.isExistingAuthFactor(c)||(s[c]={authenticationPublicKey:l,isExistingAuthFactor:m})}return e&&Object.keys(s).length===0&&je.addBreadcrumb("Auth",`Unable to build AuthFactors map: 
- user: ${e?.userID}
- locally available auth factors: ${Object.keys(i).length}
- auth factors registered with user: ${o.length}`,"error"),s},retryOnMount:!1})};d();h();d();h();var Ap=()=>{let{data:t}=bp();return!!t};function n4t(t,e){let r=Ap(),n;return t.enabled===void 0?n=r:typeof t.enabled=="function"?n=i=>(IMe(typeof t.enabled=="function","expected enabled to be a function"),r&&t.enabled(i)):typeof t.enabled=="boolean"?n=r&&t.enabled:Ct(t.enabled),Sr({...t,enabled:n},e)}d();h();var i4t=()=>{let t=Pt(),e=jc(),r=async({secretIdentifier:n})=>{await e.addAuthFactor({secretIdentifier:n}),await Sp(t)};return Dt({mutationFn:async n=>{try{return await r(n)}catch(i){je.addBreadcrumb("Auth",`Could not add auth factor: ${n.secretIdentifier}`,"error");let o;throw i instanceof Error?o=i:o=new Error(`Could not add auth factor: ${n.secretIdentifier}`),je.captureError(o,"Auth"),o}}})};d();h();var o4t=()=>{let t=Pt(),e=jc(),r=async({authenticationPublicKey:n})=>{await e.deleteAuthFactor({authenticationPublicKey:n}),await Sp(t)};return Dt({mutationFn:async n=>{try{return await r(n)}catch(i){je.addBreadcrumb("Auth","Could not remove auth factor!","error");let o;throw i instanceof Error?o=i:o=new Error("Could not remove auth factor!"),je.captureError(o,"Auth"),o}}})};d();h();var s4t=()=>{let{data:t}=bp();return t?.accessToken};d();h();d();h();d();h();var bA=qe(ur()),NMe=(0,bA.createContext)(null);function a4t({children:t,analytics:e}){return bA.default.createElement(NMe.Provider,{value:e},t)}function uc(){let t=(0,bA.useContext)(NMe);if(!t)throw new Error("useAnalytics must be used within a AnalyticsProvider");return t}d();h();d();h();var vA=qe(ur()),DMe=(0,vA.createContext)(null);function c4t({children:t,userRepository:e,claimUsernameSigner:r}){return vA.default.createElement(DMe.Provider,{value:{userRepository:e,claimUsernameSigner:r}},t)}function u4t(){let t=(0,vA.useContext)(DMe);if(!t)throw new Error("useUserContext must be used within a UserProvider");return t}function _n(){return u4t().userRepository}d();h();d();h();d();h();var xA=(t,e)=>e?`/user/v1/users/${t}/wallet-accounts/${e}`:`/user/v1/users/${t}/wallet-accounts`,m5=t=>`/user/v1/users/${t}/profile`,lD=t=>`/user/v1/profiles/${t}`,UMe=()=>"/user/v1/profiles/creation-check",LMe=["seed","seedless","privateKey"];var ate=10,FMe=500,y5={seedless:1,seed:2,privateKey:3};d();h();d();h();var g5="@phantom/users",jo={checkUsernameAvailability(t){return["user",`${g5}:check-username-availability`,{username:t}]},userProfile(){return["user",`${g5}:user-profile`]},userProfileAttributeEffect(t){return["user",`${g5}:user-profile-attribute-effect`,{username:t}]},userSyncedAccounts(){return["user",`${g5}:user-synced-accounts`]}};var cte=async t=>{await t.removeQueries({queryKey:jo.userProfile()})},ute=async t=>{await t.resetQueries({queryKey:jo.userProfile()})},Ov=async t=>{await t.invalidateQueries({queryKey:jo.userProfile()})},fte=async t=>{await t.removeQueries({queryKey:jo.userSyncedAccounts()})};var Xl=async t=>{await t.invalidateQueries({queryKey:jo.userSyncedAccounts()})};d();h();d();h();var wA=(i=>(i.PUBLIC="public",i.PRIVATE="private",i.INVISIBLE="invisible",i.HIDDEN="hidden",i))(wA||{}),f4t=Object.values(wA),KMe=J.string().brand("ProfileId"),dD=J.object({id:KMe,username:J.string(),icon:J.string().nullish(),addresses:J.record(J.string(),J.string()),privacyState:J.nativeEnum(wA).optional().default("public"),biography:J.string().nullish(),phantomJoinDate:J.string().nullish()}),lte=J.string().url().brand("ActorId"),l4t=J.object({id:J.string().optional(),orderedItems:lte.array(),next:J.string().optional()}),VMe=J.object({id:J.string().url(),current:l4t.optional(),totalItems:J.number().optional()}),qMe=J.object({type:J.string(),value:J.string().optional(),name:J.string().optional()}),d4t=J.object({id:J.string().url().optional(),name:J.string().optional(),type:J.string()}),h4t=J.object({id:lte,name:J.string(),preferredUsername:J.string(),manuallyApprovesFollowers:J.boolean(),followers:J.union([VMe,J.string().url()]),following:J.union([VMe,J.string().url()]),icon:d4t.nullish(),attachment:J.union([qMe,J.array(qMe)]).optional(),summary:J.string().nullish(),published:J.string().nullish()}).transform(t=>{let{attachment:e,...r}=t,n={},i=!1,o=!1,s=!1,c=!1,l=!1;if(e){let m=Array.isArray(e)?e:[e];for(let w of m)if(!(!w.name||!w.value)){if(w.name.endsWith(":address")){let b=G0.safeParse(w.name.replace(":address",""));if(b.success){let E=b.data;n[E]=w.value}}w.name==="requesting"&&(i=w.value==="true"),w.name==="requestedBy"&&(o=w.value==="true"),w.name==="blocking"&&(s=w.value==="true"),w.name==="following"&&(c=w.value==="true"),w.name==="followedBy"&&(l=w.value==="true")}}return{...r,addresses:n,isSentFollowRequestPending:i,hasPendingFollowRequest:o,isBlocking:s,isFollowing:c,isFollowedBy:l}}),b5={Image:"image",Emoji:"emoji",ReadOnlyDefault:"read-only-default",Default:"default"},oun=J.object({type:J.nativeEnum(b5),imageUrl:J.string().optional(),unicode:J.string().optional()}),dte=J.object({error:J.object({message:J.string()})});var hte=async t=>{let e=await on.api().get(lD(t)),r=dD.safeParse(e.data);return r.success?r.data:null};d();h();var hD=J.string().regex(/^https?:\/\/.+$/),pD=J.string(),mD=J.literal("privateKey"),p4t=J.object({networkId:qy,publicKey:yb,address:Qse,pathType:f_.or(mD)}),m4t=J.object({networkId:Vy,publicKey:yb,address:wd,pathType:u_.or(mD)}),y4t=J.object({networkId:Uy,publicKey:yb,address:J.string(),pathType:c_.or(mD)}),g4t=J.object({networkId:iS,publicKey:yb,address:J.string(),pathType:Wj.or(mD)}),b4t=J.union([p4t,m4t,y4t,g4t]),HMe=J.object({accountHash:J.string(),accountOrigin:J.string().regex(/^(seed|privateKey|seedless):(.+)/).catch("readOnly"),name:J.string().nullish().default(null).catch(null),icon:J.union([hD,pD]).nullish().default(null).catch(null),derivationIndex:J.number().nullish().default(null).catch(null),addresses:J.array(b4t).min(1)}),v4t=HMe.and(J.object({id:J.string()})),yD=J.object({walletAccounts:J.array(v4t)}),vun=J.record(J.string(),HMe);d();h();var SA=t=>{for(let e of LMe)if(t.accountOrigin?.split(":")[0]===e)return e;return null},_g=t=>t.accountOrigin?.replace("seed:","")?.replace("privateKey:","")?.replace("seedless:",""),jMe=(t=[])=>t.sort((e,r)=>{let n=SA(e),i=SA(r);if(n===null&&i===null)return 0;if(n===null)return 1;if(i===null)return-1;if(y5[n]-y5[i]!==0)return y5[n]-y5[i];let o=_g(e),s=_g(r);if(o===null&&s===null)return 0;if(o===null)return 1;if(s===null)return-1;let c=o.localeCompare(s);return c!==0?c:e.derivationIndex===null&&r.derivationIndex===null?0:e.derivationIndex===null?1:r.derivationIndex===null?-1:e.derivationIndex-r.derivationIndex});var x4t=t=>({getUsernameAvailability:e=>w4t(e),getUserProfile:()=>S4t(t),getUserProfileByUsername:e=>hte(e),getUserProfileByUsernameOrUserProfileId:e=>hte(e),setUserProfile:({username:e,addresses:r,icon:n,privacyState:i})=>A4t(t,{username:e,addresses:r,icon:n,privacyState:i}),patchUserProfile:e=>E4t(t,e),deleteUserProfile:()=>_4t(t),isEligibleToClaim:e=>T4t(e),getSyncedAccounts:()=>pte(t),downloadSyncedAccounts:()=>I4t(t),uploadSyncedAccounts:e=>M4t(t,e),uploadSyncedAccount:e=>k4t(t,e),deleteSyncedAccounts:()=>P4t(t),deleteSyncedAccount:e=>B4t(t,e)}),w4t=async t=>{switch((await on.api().get(lD(t))).status){case 200:return!1;case 403:return!1;case 404:return!0;default:throw new Error("Failed to check for username availability.")}},S4t=async({authRepository:t})=>{let e=await t.getUser();if(!e)throw new Error("User is not logged in, unable to get user profile.");let{userID:r,accessToken:n}=e,i=await on.api().bearer(n).get(m5(r)),o=dD.safeParse(i.data);return o.success?o.data:null},A4t=async({authRepository:t},{username:e,addresses:r,icon:n,privacyState:i})=>{let o=await t.getUser();if(!o)throw new Error("User is not logged in, unable to claim username.");let{userID:s,accessToken:c}=o,l=await on.api().bearer(c).post(m5(s),{username:e,icon:n,addresses:r,privacyState:i});if(l.status===201)return;let m=dte.safeParse(l.data);throw m.success?new Error(m.data.error.message):new Error("Unknown error")},E4t=async({authRepository:t},{username:e,addresses:r,icon:n,privacyState:i,biography:o})=>{let s=await t.getUser();if(!s)throw new Error("User is not logged in, unable to claim username.");let{userID:c,accessToken:l}=s,m=await on.api().bearer(l).patch(m5(c),{username:e,addresses:r,icon:n,privacyState:i,biography:o});if(m.status===200)return;je.captureMessage(`Failed to patch user profile: ${m.status} ${JSON.stringify(m.data)}`,"Auth");let w=dte.safeParse(m.data);throw w.success?new Error(w.data.error.message):new Error("Unknown error")},_4t=async({authRepository:t})=>{let e=await t.getUser();if(!e)throw new Error("User is not logged in, unable to sync down accounts.");let{userID:r,accessToken:n}=e,i=await on.api().bearer(n).delete(m5(r));return 200<=i.status&&i.status<300},T4t=async t=>{try{return(await on.api().post(UMe(),{addresses:t})).status===200}catch{return!1}},pte=async({authRepository:t})=>{let e=await t.getUser();if(!e)throw new Error("User is not logged in, unable to sync down accounts.");let{userID:r,accessToken:n}=e,i=await on.api().bearer(n).get(xA(r)),o=yD.safeParse(i.data);if(!o.success)throw new Error("Unable to get synced accounts: unable to parse GET /wallet-accounts response.");return{walletAccounts:jMe(o.data.walletAccounts)}},I4t=async t=>{let{walletAccounts:e}=await pte(t),r=e.reduce((n,i)=>(n[i.accountHash]=i,n),{});return await t.claimUsernameSigner.storeSyncedAccounts(r),!0},zMe=(t,e,r)=>on.api().bearer(t).post(xA(e),r),M4t=async(t,e)=>{let{authRepository:r,claimUsernameSigner:n,queryClient:i}=t,o=await r.getUser();if(!o)return je.addBreadcrumb("Auth","User is not logged in, unable to sync up accounts.","info"),!1;try{let s=e;s||(je.addBreadcrumb("Auth","Uploading all currently synced accounts...","info"),s=[...(await pte(t)).walletAccounts.reduce((I,M)=>(I.add(M.accountHash),I),new Set)]);let c=await n.getBatchAccountMetadata(s),{userID:l,accessToken:m}=o,w=NF(Object.values(c),ate);for(let b of w)await Promise.all(b.map(E=>zMe(m,l,E))),await Xse(FMe);return await Xl(i),je.addBreadcrumb("Auth",`\u2705 Uploaded synced accounts: ${e?e?.join(" "):"all currently synced accounts"}`,"info"),!0}catch(s){throw je.addBreadcrumb("Auth",`Unable to sync up accounts: ${e?e?.join(" "):"all currently synced accounts"}`,"info"),je.captureError(s,"Auth"),s}},k4t=async({authRepository:t,claimUsernameSigner:e,queryClient:r},n)=>{let i=await t.getUser();if(!i)return je.addBreadcrumb("Auth",`User is not logged in, unable to sync up account: ${n}`,"info"),!1;try{je.addBreadcrumb("Auth",`Syncing account... : ${n}`,"info");let o=await e.getAccountMetadata(n),{userID:s,accessToken:c}=i;return await zMe(c,s,o),await Xl(r),je.addBreadcrumb("Auth",`\u2705 Synced account: ${n}`,"info"),!0}catch(o){throw je.addBreadcrumb("Auth",`Unable to sync up account: ${n}`,"info"),je.captureError(o,"Auth"),o}},WMe=(t,e,r)=>(je.addBreadcrumb("Auth",`Deleting synced account: ${r.accountHash}`,"info"),on.api().bearer(t).delete(xA(e,r.id),r)),P4t=async({authRepository:t})=>{let e=await t.getUser();if(!e)throw new Error("User is not logged in, unable to delete all synced accounts.");let{userID:r,accessToken:n}=e,i=await on.api().bearer(n).get(xA(r)),o=yD.safeParse(i.data);if(!o.success)throw new Error("Unable to delete all synced accounts => unable to parse GET /wallet-accounts response.");let s=NF(o.data.walletAccounts,ate);for(let c of s)await Promise.all(c.map(l=>WMe(n,r,l)));return!0},B4t=async({authRepository:t},e)=>{let r=await t.getUser();if(!r)throw new Error(`User is not logged in, unable to remove synced account: ${e}`);let{userID:n,accessToken:i}=r,o=await on.api().bearer(i).get(xA(n)),s=yD.safeParse(o.data);if(!s.success)throw new Error(`Unable to delete synced account [${e}] => unable to parse GET /wallet-accounts response`);let c=s.data.walletAccounts.find(l=>l.accountHash===e);if(!c)return je.addBreadcrumb("Auth",`Calling deleteSyncedAccount on account that is not synced to begin with: ${e}`,"info"),!1;try{await WMe(i,n,c)}catch(l){throw je.addBreadcrumb("Auth",`Unable to delete synced account: ${e}`,"info"),je.captureError(l,"Auth"),l}return!0};d();h();var R4t=new Set([jo.userProfile()[1],jo.userSyncedAccounts()[1]]),C4t=t=>{let e=t.queryKey[1];return typeof e!="string"||!e?!1:R4t.has(e)};d();h();d();h();var v5=sI(uc,t=>new gD(t)),gD=class{#e;constructor(e){this.#e=e}onClaimFlowStart(){this.#e.capture("userUsernameClaimFlowStart")}onCheckAvailability(e,r){this.#e.capture("userUsernameCheckAvailability",{data:{username:e,isAvailable:r}})}onAvatarSaved(e){this.#e.capture("userUsernameClaimFlowAvatarSaved",{data:{avatarType:e}})}onAnonymousAuthSaved(e,r){this.#e.capture("userUsernameClaimFlowAnonymousAuthSaved",{data:{numAuthFactorsSaved:e,numAuthFactorsShown:r}})}onLinkWalletsSaved(e,r){this.#e.capture("userUsernameClaimFlowLinkWalletsSaved",{data:{numWalletsSaved:e,numWalletsShown:r}})}onPublicAddressesSaved(){this.#e.capture("userUsernameClaimFlowPublicAddressesSaved")}onClaimFlowComplete(e,r){this.#e.capture("userUsernameClaimComplete",{data:{username:e,authUserID:r}})}};function O4t(){let t=v5(),e=jc(),r=_n(),n=Pt(),i=async({username:o,addresses:s,icon:c,accountIdentifiers:l})=>{je.addBreadcrumb("Auth",`Claiming Username: ${o}.`,"debug");let m=await e.getUser();if(!m)throw new Error("Unable to claim username. User not authenticated.");je.addBreadcrumb("Auth","Creating user profile to claim username","debug"),await r.setUserProfile({username:o,addresses:s,icon:c,privacyState:"public"}),je.addBreadcrumb("Auth","Uploading Synced Accounts","debug"),await r.uploadSyncedAccounts(l),je.addBreadcrumb("Auth","\u2705 Username Claimed!","debug"),await ote(n),await ute(n),await Cv(n),await Ov(n),await Sp(n),t.onClaimFlowComplete(o,m.userID)};return Dt({mutationFn:async o=>{try{return await i(o)}catch(s){je.addBreadcrumb("Auth","Could not claim username","error");let c;throw s instanceof Error?c=s:c=new Error("Unable to claim username"),je.captureError(c,"Auth"),c}}})}d();h();function N4t(t){let e=v5(),r=_n(),n=jo.checkUsernameAvailability(t);return Sr({enabled:!!t,queryKey:n,queryFn:async()=>{if(!t)return!1;let s=await r.getUsernameAvailability(t);return e.onCheckAvailability(t,s),s}})}d();h();d();h();var x5=class extends Error{constructor(e="No user profile."){super(e),this.name="NoUserProfileError"}},mte=class extends Error{constructor(e="Missing required username claim params."){super(e),this.name="MissingRequiredUsernameClaimParamsError"}};var D4t=ol({days:1}),U4t=ol({minutes:1});function ed(){let t=_n(),e=Ap(),r=jo.userProfile();return Sr({enabled:e,queryKey:r,queryFn:async()=>{let i=await t.getUserProfile();if(!i)throw new x5;return i},gcTime:D4t,staleTime:U4t})}d();h();var L4t=ol({days:1}),F4t=ol({minutes:1}),GMe=t=>{let e=_n(),r=Ap();return Sr({enabled:r,queryKey:jo.userSyncedAccounts(),queryFn:async()=>(await e.getSyncedAccounts()).walletAccounts,gcTime:L4t,staleTime:F4t,select:t})};d();h();var V4t=()=>{let t=Pt(),e=jc(),r=_n();return Dt({mutationFn:async()=>{await r.deleteSyncedAccounts(),await r.deleteUserProfile(),await e.deleteAllAuthFactors(),await e.logOut(),await fte(t),await cte(t),await ite(t),await Xl(t),await Ov(t),await Cv(t),await Sp(t)}})};d();h();var yte=()=>{let t=Pt(),e=_n(),r=async n=>{await e.patchUserProfile(n),await Ov(t)};return Dt({mutationFn:async n=>{try{return await r(n)}catch(i){je.addBreadcrumb("Auth",`Could not update user profile: ${JSON.stringify(n)}`,"error");let o;throw i instanceof Error?o=i:o=new Error("Could not update user profile!"),je.captureError(o,"Auth"),o}},onMutate:async n=>{let i=jo.userProfile();await t.cancelQueries({queryKey:i});let o=t.getQueryData(i);return t.setQueryData(i,{...o,...n}),{previousData:o}},onSuccess:(n,i)=>{let o=jo.userProfile(),s=t.getQueryData(o);if(s){let c={...s,...i};t.setQueryData(o,c)}},onError:(n,i,o)=>{o&&t.setQueryData(jo.userProfile(),o.previousData)}})};d();h();d();h();var q4t=()=>{let t=Pt(),e=_n(),r=async n=>{Array.isArray(n)?await e.uploadSyncedAccounts(n):await e.uploadSyncedAccount(n),await Xl(t)};return Dt({mutationFn:async n=>{try{return await r(n)}catch(i){let o=Array.isArray(n)?n.join(" "):n;je.addBreadcrumb("Auth",`Could not add synced account: ${o}`,"error");let s;throw i instanceof Error?s=i:s=new Error("Could not add synced account!"),je.captureError(s,"Auth"),s}}})};d();h();var K4t=()=>{let t=Pt(),e=_n(),r=async n=>{Array.isArray(n)?await Promise.all(n.map(i=>e.deleteSyncedAccount(i))):await e.deleteSyncedAccount(n),await Xl(t)};return Dt({mutationFn:async n=>{try{return await r(n)}catch(i){let o=Array.isArray(n)?n.join(" "):n;je.addBreadcrumb("Auth",`Could not remove synced account: ${o}`,"error");let s;throw i instanceof Error?s=i:s=new Error("Could not remove synced account!"),je.captureError(s,"Auth"),s}}})};d();h();var H4t=sI(uc,t=>new bD(t)),bD=class{#e;constructor(e){this.#e=e}onAvatarUpdated(e){this.#e.capture("userManageProfileAvatarUpdated",{data:{avatarType:e}})}onAuthFactorsUpdated(e,r){this.#e.capture("userManageProfileAuthFactorsUpdated",{data:{numAuthFactorsSaved:e,numAuthFactorsShown:r}})}onLinkedWalletsUpdated(e,r){this.#e.capture("userManageProfileLinkedWalletsUpdated",{data:{numWalletsSaved:e,numWalletsShown:r}})}onPrivacyStateUpdated(e){this.#e.capture("userManageProfilePrivacyStateUpdated",{data:{privacyState:e}})}onBiographyUpdated(){this.#e.capture("userManageProfileBiographyUpdated")}onPublicAddressesUpdated(e){this.#e.capture("userManageProfilePublicAddressesUpdated",{data:{networkIdsSaved:e}})}};d();h();var AA=qe(ur()),$Me=(0,AA.createContext)(null);function j4t({children:t,accountAnalytics:e}){return AA.default.createElement($Me.Provider,{value:e},t)}function gte(){let t=(0,AA.useContext)($Me);if(!t)throw new Error("useAccountAnalytics must be used within an AccountAnalyticsProvider");return t}d();h();d();h();d();h();d();h();var vD=(t,e)=>{try{let r=ah(t,e);switch(r){case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":return ya.getDisplayName(r);default:return}}catch(r){je.addBreadcrumb("account","Failed to get address badge","error",{...r instanceof Error&&{error:r.message},networkId:t,address:e});return}};var YMe={badge:(t,e,r)=>e.filter(Dy).length<=1?"":vD(t,r)??"",showAddressTypeExplainer:t=>t.filter(Dy).length>1,addressTooltipNetworkName:(t,e,r)=>r.filter(Dy).length>=2?vD(t,e)??ze.getChainName(t):ze.getChainName(t)};d();h();var ZMe={badge:(t,e)=>{switch(t){case"eip155:41454":case"eip155:10143":return ze.getNetworkDefinition(t).shortName;case"eip155:143":return}},networkNameOverride:()=>"Monad"};var z4t=new a5({solana:{},ethereum:{},polygon:{},base:{},arbitrum:{},monad:ZMe,bitcoin:YMe,sui:{},hypercore:{}}),w5=Eee(z4t);d();h();var gdn=J.string().regex(/^(root-derivation-path-group|(recommended|secondary|tertiary)-group:index-[0-9]+)$/,{message:"Invalid derivation path group."});d();h();d();h();var Rr=(s=>(s.Seed="seed",s.PrivateKey="privateKey",s.Ledger="ledger",s.SeedVault="seedVault",s.ReadOnly="readOnly",s.Seedless="seedless",s))(Rr||{}),W4t=J.object({derivationIndex:J.number(),addresses:J.array(J.object({pathType:J.union([u_,f_]),value:J.string()})),publicKeys:J.array(J.object({pathType:c_,value:J.string()}))}),Ph=class extends Error{message="No account exists in storage for identifier"},Nv=class extends Error{message="No account exists in storage for identifier"},Tg=class extends Error{message="Address type not found or incompatible with account"},S5=class extends Error{message="Hardware wallet account does not have known secr*ts"},A5=class extends Error{message="Read only account does not have known secr*ts"},E5=class extends Error{message="Invalid configuration for read only account"},Dv=class extends Error{message="Seed already exists in storage"},Ep=class extends Error{message="No seed exists in storage for identifier"},_5=class extends Error{message="The derivation index is missing or invalid"},T5=class extends Error{message="Private key already exists in storage"},Uv=class extends Error{message="No private key exists in storage for identifier"};var Bh=class extends Error{message;constructor(e,r){super(),this.message=`Account of type ${e} found in Vault, while trying to add ${r} account`}},xD=class extends Error{message="Vault already stores a seedless account"},G4t=J.union([J.literal("unonboarded"),J.literal("unable-to-load-accounts")]),$4t=J.union([J.literal("invalid-identifier"),J.literal("fetch-integrity-storage-error"),J.literal("fetch-entropy-storage-error"),J.literal("fetch-pk-storage-error"),J.literal("invalid-entropy"),J.literal("invalid-entropy-bip-39"),J.literal("invalid-checksum-bits"),J.literal("invalid-entropy-bits"),J.literal("invalid-checksum"),J.literal("invalid-entropy-length-less-than-twelve"),J.literal("invalid-entropy-length-more-than-twenty-four"),J.literal("invalid-entropy-length-wrong-word"),J.literal("invalid-pk-address-type"),J.literal("invalid-pk-identifier"),J.literal("invalid-pk"),J.literal("internal-error")]),Y4t=J.literal("safely-onboarded"),Z4t=J.union([J.object({status:G4t,isOnboarded:J.literal(!1),reonboardingNeeded:J.literal(!1)}),J.object({status:$4t,isOnboarded:J.literal(!0),reonboardingNeeded:J.literal(!0)}),J.object({status:Y4t,isOnboarded:J.literal(!0),reonboardingNeeded:J.literal(!1)})]);var Q4t=(t,e,r,n)=>{let i=[];for(let o of e){let s=ze.getChainID(o);if(n.includes(s))for(let c of ze[s].addressTypes){if(!r.includes(c))continue;let l=t.chains[c];if(l)switch(l.chainType){case"eip155":case"solana":{i.push({networkID:o,addressType:c,address:l.address});break}case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":{i.push({networkID:o,addressType:c,publicKey:l.publicKey,address:l.addresses[o]});break}case"sui":{i.push({networkID:o,addressType:c,publicKey:l.publicKey,address:l.address});break}default:Ct(l)}}}return i},J4t=(t,e,r,n)=>{let i=[];for(let o of e){let s=ze.getChainID(o);if(n.includes(s))for(let c of ze[s].addressTypes){if(!r.includes(c))continue;let l=t.chains[c];if(l)switch(l.chainType){case"eip155":case"solana":{i.push({networkID:o,addressType:c,address:l.address});break}case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":{i.push({networkID:o,addressType:c,publicKey:l.publicKey,address:l.addresses[o]});break}case"sui":{i.push({networkID:o,addressType:c,publicKey:l.publicKey,address:l.address});break}default:Ct(l)}}}return i},X4t=(t,e,r,n)=>{let i=[];for(let o of e){let s=ze.getChainID(o);if(n.includes(s))for(let c of ze[s].addressTypes)r.includes(c)&&t.chainType===c&&i.push({networkID:o,addressType:c,address:t.address})}return i},e8t=(t,e,r,n)=>{let i=[];for(let o of e){let s=ze.getChainID(o);if(n.includes(s)){for(let c of ze[s].addressTypes)if(r.includes(c)&&t.chainType===c)switch(t.chainType){case"eip155":case"solana":{i.push({networkID:o,addressType:c,address:t.address});break}case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":{i.push({networkID:o,addressType:c,publicKey:t.publicKey,address:t.addresses[o]});break}case"sui":{i.push({networkID:o,addressType:c,publicKey:t.publicKey,address:t.address});break}default:Ct(t)}}}return i},t8t=(t,e,r,n)=>{let i=[];for(let o of e){let s=ze.getChainID(o);if(n.includes(s)){for(let c of ze[s].addressTypes)if(r.includes(c))for(let[l,m]of Object.entries(t.addresses))l===c&&i.push({networkID:o,addressType:c,address:m})}}return i},I5=(t,e,r,n,i,o)=>{let s;switch(o?s=Object.values(i.setting):s=e,s=s.sort((c,l)=>ze.compareNetworkID(c,l)),t.type){case"seedless":case"seed":return Q4t(t,s,r,n);case"ledger":return J4t(t,s,r,n);case"seedVault":return X4t(t,s,r,n);case"privateKey":return e8t(t,s,r,n);case"readOnly":return t8t(t,s,r,n)}};d();h();var r8t=({account:t,syncedAccounts:e,index:r,offsetIndex:n})=>{let i=e.find(s=>s.accountHash===t.identifier),o={name:i?.name??Hp.t("onboardingImportAccountsAccountName",{walletIndex:n+r+1})};return i?.icon&&(o.icon=i.icon.startsWith("https://")?{type:"image",imageUrl:i.icon}:{type:"emoji",unicode:i.icon}),o};d();h();d();h();var EA="Trying to find a selected account, but there no accounts in the vault.",M5="Missing ChainAvailability.",QMe=(t,e)=>`No account found! Num accounts: ${t} | Identifier used: ${e}`,bte=new Error("The current account group has no valid bitcoin address"),vte=new Error("The current account group has no valid EIP-155 address"),xte=new Error("The current account group has no valid solana address"),wte=new Error("The current account group has no valid sui address"),JMe=new Error("The current account group has no valid address or the the chain type was unsupported"),Ldn=new Error("[Legacy Mn*monic Fetch] no legacy mn*monic in storage"),Fdn=new Error("[Legacy Mn*monic Fetch] internal error fetching legacy mn*monic");d();h();var n8t=[".phantom-labs.account.accountMetadata","developerMode","networkSetting",".phantom-labs.account.selectedAccount","termsHaveBeenAcknowledgedLastSeenVersion"];var Hdn=new Error("Failed to clear selected account index");async function Ste(t){try{let e=await t.get(".phantom-labs.account.selectedAccount");return e?.version===2?e.identifier:null}catch{throw i8t}}var i8t=new Error("Failed to get selected account identifier");async function ku(t,e){try{let r={version:2,identifier:e};return await t.set(".phantom-labs.account.selectedAccount",r)}catch{throw o8t}}var o8t=new Error("Failed to set selected account identifier");var _p=async(t,e)=>{if(t.length===0)throw new Error(EA);let r=await Ste(e),n=t.find(i=>i.identifier===r);return n||(await ku(e,t[0].identifier),t[0])};d();h();var Ate=t=>{switch(t){case"bitcoinTaproot":case"bitcoinNativeSegwit":case"bitcoinNestedSegwit":case"bitcoinLegacy":case"bip44Change":case"bip44Ethereum":return!0;case"bip44":case"deprecated":case"bip44Root":case"bip44RootEthereum":case"bip44EthereumSecondary":case"bip44EthereumTertiary":case"bip44Sui":return!1}};d();h();var s8t=({pathType:t,index:e})=>{switch(t){case"bip44RootEthereum":case"bip44Root":return"root-derivation-path-group";case"bip44Change":case"bip44Ethereum":case"bip44Sui":case"bitcoinTaproot":case"bitcoinNativeSegwit":case"bitcoinNestedSegwit":case"bitcoinLegacy":return`recommended-group:index-${e}`;case"bip44EthereumSecondary":case"bip44":return`secondary-group:index-${e}`;case"bip44EthereumTertiary":case"deprecated":return`tertiary-group:index-${e}`}};d();h();d();h();var a8t=t=>t==null?!1:["ledger","seedVault"].includes(t);d();h();function XMe(t,e){let n=(t?.addresses??[]).find(({addressType:i})=>i===e);if(!t?.addresses||!n)switch(e){case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":throw bte;case"eip155":throw vte;case"solana":throw xte;case"sui":throw wte;default:throw JMe}return n}function c8t(t,e){return XMe(t,e)?.address}var wD=t=>{switch(t.type){case"seedless":case"seed":case"privateKey":return!0;case"ledger":case"seedVault":case"readOnly":return!1;default:Ct(t)}};d();h();function u8t(t){let e=t.endsWith(".sol"),r=t==="@",n=t.startsWith("@")&&t.length>1;return[e,r,n]}d();h();function f8t(t){return[t.endsWith(".eth")]}d();h();var l8t=async(t,e,r)=>{let i=(await t.fetchAllAccounts()).find(s=>{switch(s.type){case"seed":case"seedless":return s.seedIdentifier===r;case"privateKey":return s.privateKeyIdentifier===r;case"ledger":case"seedVault":case"readOnly":return!1;default:Ct(s)}});if(!i)throw new Error("Unable to find account to sign client JWT with.");let o=await t.sign(i.identifier,{isJWT:!0,data:e});if(o.status==="error")throw new Error("Error signing over clientJWT.");if(!("signedJWT"in o)||!o.signedJWT)throw new Error("No JWT from vault signing.");return o.signedJWT};d();h();d();h();var eke=async t=>[...(await t.fetchAllAccounts()).reduce((i,o)=>{switch(o.type){case"seed":case"seedless":{i.add(o.seedIdentifier);break}case"privateKey":{i.add(o.privateKeyIdentifier);break}case"ledger":case"seedVault":case"readOnly":break;default:Ct(o);break}return i},new Set)];d();h();var zte=qe(ta());d();h();d();h();function Gs(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];if(T.NODE_ENV!=="production"){var i=v8t[t],o=i?typeof i=="function"?i.apply(null,r):i:"unknown error nr: "+t;throw Error("[Immer] "+o)}throw Error("[Immer] minified error nr: "+t+(r.length?" "+r.map(function(s){return"'"+s+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function _A(t){return!!t&&!!t[Pu]}function Fv(t){return!!t&&(function(e){if(!e||typeof e!="object")return!1;var r=Object.getPrototypeOf(e);if(r===null)return!0;var n=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return n===Object||typeof n=="function"&&Function.toString.call(n)===x8t}(t)||Array.isArray(t)||!!t[cke]||!!t.constructor[cke]||Cte(t)||Ote(t))}function P5(t,e,r){r===void 0&&(r=!1),IA(t)===0?(r?Object.keys:Fte)(t).forEach(function(n){r&&typeof n=="symbol"||e(n,t[n],t)}):t.forEach(function(n,i){return e(i,n,t)})}function IA(t){var e=t[Pu];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:Cte(t)?2:Ote(t)?3:0}function Mte(t,e){return IA(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function d8t(t,e){return IA(t)===2?t.get(e):t[e]}function uke(t,e,r){var n=IA(t);n===2?t.set(e,r):n===3?(t.delete(e),t.add(r)):t[e]=r}function h8t(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function Cte(t){return g8t&&t instanceof Map}function Ote(t){return b8t&&t instanceof Set}function Lv(t){return t.o||t.t}function Nte(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=w8t(t);delete e[Pu];for(var r=Fte(e),n=0;n<r.length;n++){var i=r[n],o=e[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(e[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function Dte(t,e){return e===void 0&&(e=!1),Ute(t)||_A(t)||!Fv(t)||(IA(t)>1&&(t.set=t.add=t.clear=t.delete=p8t),Object.freeze(t),e&&P5(t,function(r,n){return Dte(n,!0)},!0)),t}function p8t(){Gs(2)}function Ute(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function Rh(t){var e=S8t[t];return e||Gs(18,t),e}function tke(){return T.NODE_ENV==="production"||TA||Gs(0),TA}function Ete(t,e){e&&(Rh("Patches"),t.u=[],t.s=[],t.v=e)}function SD(t){kte(t),t.p.forEach(m8t),t.p=null}function kte(t){t===TA&&(TA=t.l)}function rke(t){return TA={p:[],l:TA,h:t,m:!0,_:0}}function m8t(t){var e=t[Pu];e.i===0||e.i===1?e.j():e.O=!0}function _te(t,e){e._=e.p.length;var r=e.p[0],n=t!==void 0&&t!==r;return e.h.g||Rh("ES5").S(e,t,n),n?(r[Pu].P&&(SD(e),Gs(4)),Fv(t)&&(t=AD(e,t),e.l||ED(e,t)),e.u&&Rh("Patches").M(r[Pu].t,t,e.u,e.s)):t=AD(e,r,[]),SD(e),e.u&&e.v(e.u,e.s),t!==fke?t:void 0}function AD(t,e,r){if(Ute(e))return e;var n=e[Pu];if(!n)return P5(e,function(o,s){return nke(t,n,e,o,s,r)},!0),e;if(n.A!==t)return e;if(!n.P)return ED(t,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var i=n.i===4||n.i===5?n.o=Nte(n.k):n.o;P5(n.i===3?new Set(i):i,function(o,s){return nke(t,n,i,o,s,r)}),ED(t,i,!1),r&&t.u&&Rh("Patches").R(n,r,t.u,t.s)}return n.o}function nke(t,e,r,n,i,o){if(T.NODE_ENV!=="production"&&i===r&&Gs(5),_A(i)){var s=AD(t,i,o&&e&&e.i!==3&&!Mte(e.D,n)?o.concat(n):void 0);if(uke(r,n,s),!_A(s))return;t.m=!1}if(Fv(i)&&!Ute(i)){if(!t.h.F&&t._<1)return;AD(t,i),e&&e.A.l||ED(t,i)}}function ED(t,e,r){r===void 0&&(r=!1),t.h.F&&t.m&&Dte(e,r)}function Tte(t,e){var r=t[Pu];return(r?Lv(r):t)[e]}function ike(t,e){if(e in t)for(var r=Object.getPrototypeOf(t);r;){var n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=Object.getPrototypeOf(r)}}function Pte(t){t.P||(t.P=!0,t.l&&Pte(t.l))}function Ite(t){t.o||(t.o=Nte(t.t))}function Bte(t,e,r){var n=Cte(e)?Rh("MapSet").N(e,r):Ote(e)?Rh("MapSet").T(e,r):t.g?function(i,o){var s=Array.isArray(i),c={i:s?1:0,A:o?o.A:tke(),P:!1,I:!1,D:{},l:o,t:i,k:null,o:null,j:null,C:!1},l=c,m=Rte;s&&(l=[c],m=k5);var w=Proxy.revocable(l,m),b=w.revoke,E=w.proxy;return c.k=E,c.j=b,E}(e,r):Rh("ES5").J(e,r);return(r?r.A:tke()).p.push(n),n}function y8t(t){return _A(t)||Gs(22,t),function e(r){if(!Fv(r))return r;var n,i=r[Pu],o=IA(r);if(i){if(!i.P&&(i.i<4||!Rh("ES5").K(i)))return i.t;i.I=!0,n=oke(r,o),i.I=!1}else n=oke(r,o);return P5(n,function(s,c){i&&d8t(i.t,s)===c||uke(n,s,e(c))}),o===3?new Set(n):n}(t)}function oke(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return Nte(t)}var ske,TA,Lte=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",g8t=typeof Map<"u",b8t=typeof Set<"u",ake=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",fke=Lte?Symbol.for("immer-nothing"):((ske={})["immer-nothing"]=!0,ske),cke=Lte?Symbol.for("immer-draftable"):"__$immer_draftable",Pu=Lte?Symbol.for("immer-state"):"__$immer_state";var v8t={0:"Illegal state",1:"Immer drafts cannot have computed properties",2:"This object has been frozen and should not be mutated",3:function(t){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+t},4:"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",5:"Immer forbids circular references",6:"The first or second argument to `produce` must be a function",7:"The third argument to `produce` must be a function or undefined",8:"First argument to `createDraft` must be a plain object, an array, or an immerable object",9:"First argument to `finishDraft` must be a draft returned by `createDraft`",10:"The given draft is already finalized",11:"Object.defineProperty() cannot be used on an Immer draft",12:"Object.setPrototypeOf() cannot be used on an Immer draft",13:"Immer only supports deleting array indices",14:"Immer only supports setting array indices and the 'length' property",15:function(t){return"Cannot apply patch, path doesn't resolve: "+t},16:'Sets cannot have "replace" patches.',17:function(t){return"Unsupported patch operation: "+t},18:function(t){return"The plugin for '"+t+"' has not been loaded into Immer. To enable the plugin, import and call `enable"+t+"()` when initializing your application."},20:"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available",21:function(t){return"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '"+t+"'"},22:function(t){return"'current' expects a draft, got: "+t},23:function(t){return"'original' expects a draft, got: "+t},24:"Patching reserved attributes like __proto__, prototype and constructor is not allowed"},x8t=""+Object.prototype.constructor,Fte=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,w8t=Object.getOwnPropertyDescriptors||function(t){var e={};return Fte(t).forEach(function(r){e[r]=Object.getOwnPropertyDescriptor(t,r)}),e},S8t={},Rte={get:function(t,e){if(e===Pu)return t;var r=Lv(t);if(!Mte(r,e))return function(i,o,s){var c,l=ike(o,s);return l?"value"in l?l.value:(c=l.get)===null||c===void 0?void 0:c.call(i.k):void 0}(t,r,e);var n=r[e];return t.I||!Fv(n)?n:n===Tte(t.t,e)?(Ite(t),t.o[e]=Bte(t.A.h,n,t)):n},has:function(t,e){return e in Lv(t)},ownKeys:function(t){return Reflect.ownKeys(Lv(t))},set:function(t,e,r){var n=ike(Lv(t),e);if(n?.set)return n.set.call(t.k,r),!0;if(!t.P){var i=Tte(Lv(t),e),o=i?.[Pu];if(o&&o.t===r)return t.o[e]=r,t.D[e]=!1,!0;if(h8t(r,i)&&(r!==void 0||Mte(t.t,e)))return!0;Ite(t),Pte(t)}return t.o[e]===r&&typeof r!="number"&&(r!==void 0||e in t.o)||(t.o[e]=r,t.D[e]=!0,!0)},deleteProperty:function(t,e){return Tte(t.t,e)!==void 0||e in t.t?(t.D[e]=!1,Ite(t),Pte(t)):delete t.D[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var r=Lv(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty:function(){Gs(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){Gs(12)}},k5={};P5(Rte,function(t,e){k5[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),k5.deleteProperty=function(t,e){return T.NODE_ENV!=="production"&&isNaN(parseInt(e))&&Gs(13),k5.set.call(this,t,e,void 0)},k5.set=function(t,e,r){return T.NODE_ENV!=="production"&&e!=="length"&&isNaN(parseInt(e))&&Gs(14),Rte.set.call(this,t[0],e,r,t[0])};var A8t=function(){function t(r){var n=this;this.g=ake,this.F=!0,this.produce=function(i,o,s){if(typeof i=="function"&&typeof o!="function"){var c=o;o=i;var l=n;return function(k){var R=this;k===void 0&&(k=c);for(var B=arguments.length,U=Array(B>1?B-1:0),P=1;P<B;P++)U[P-1]=arguments[P];return l.produce(k,function(F){var q;return(q=o).call.apply(q,[R,F].concat(U))})}}var m;if(typeof o!="function"&&Gs(6),s!==void 0&&typeof s!="function"&&Gs(7),Fv(i)){var w=rke(n),b=Bte(n,i,void 0),E=!0;try{m=o(b),E=!1}finally{E?SD(w):kte(w)}return typeof Promise<"u"&&m instanceof Promise?m.then(function(k){return Ete(w,s),_te(k,w)},function(k){throw SD(w),k}):(Ete(w,s),_te(m,w))}if(!i||typeof i!="object"){if((m=o(i))===void 0&&(m=i),m===fke&&(m=void 0),n.F&&Dte(m,!0),s){var I=[],M=[];Rh("Patches").M(i,m,I,M),s(I,M)}return m}Gs(21,i)},this.produceWithPatches=function(i,o){if(typeof i=="function")return function(m){for(var w=arguments.length,b=Array(w>1?w-1:0),E=1;E<w;E++)b[E-1]=arguments[E];return n.produceWithPatches(m,function(I){return i.apply(void 0,[I].concat(b))})};var s,c,l=n.produce(i,o,function(m,w){s=m,c=w});return typeof Promise<"u"&&l instanceof Promise?l.then(function(m){return[m,s,c]}):[l,s,c]},typeof r?.useProxies=="boolean"&&this.setUseProxies(r.useProxies),typeof r?.autoFreeze=="boolean"&&this.setAutoFreeze(r.autoFreeze)}var e=t.prototype;return e.createDraft=function(r){Fv(r)||Gs(8),_A(r)&&(r=y8t(r));var n=rke(this),i=Bte(this,r,void 0);return i[Pu].C=!0,kte(n),i},e.finishDraft=function(r,n){var i=r&&r[Pu];T.NODE_ENV!=="production"&&(i&&i.C||Gs(9),i.I&&Gs(10));var o=i.A;return Ete(o,n),_te(void 0,o)},e.setAutoFreeze=function(r){this.F=r},e.setUseProxies=function(r){r&&!ake&&Gs(20),this.g=r},e.applyPatches=function(r,n){var i;for(i=n.length-1;i>=0;i--){var o=n[i];if(o.path.length===0&&o.op==="replace"){r=o.value;break}}i>-1&&(n=n.slice(i+1));var s=Rh("Patches").$;return _A(r)?s(r,n):this.produce(r,function(c){return s(c,n)})},t}(),Bu=new A8t,Vte=Bu.produce,Vhn=Bu.produceWithPatches.bind(Bu),qhn=Bu.setAutoFreeze.bind(Bu),Khn=Bu.setUseProxies.bind(Bu),Hhn=Bu.applyPatches.bind(Bu),jhn=Bu.createDraft.bind(Bu),zhn=Bu.finishDraft.bind(Bu),Whn=Vte;var qte=new Error("Failed to add user account metadata to storage"),B5=new Error("Could not find account metadata in storage");async function Kte(t,e,r){let n=await t.get(".phantom-labs.account.accountMetadata");if(!n)throw B5;let i=n.accounts[e];i?i.name=r:(i={name:r},n.accounts[e]=i),await t.set(".phantom-labs.account.accountMetadata",n)}async function Hte(t,e,r){let n=await t.get(".phantom-labs.account.accountMetadata");if(!n)throw B5;let i=n.accounts[e];i?i.icon=r:(i={icon:r,name:Hp.t("onboardingImportAccountsAccountName",{walletIndex:""})},n.accounts[e]=i),await t.set(".phantom-labs.account.accountMetadata",n)}async function jte(t,e,r){let n=await t.get(".phantom-labs.account.accountMetadata");if(!n)throw B5;let i=n.accounts[e];i?i.balance=r:(i={balance:r,name:Hp.t("onboardingImportAccountsAccountName",{walletIndex:""})},n.accounts[e]=i),await t.set(".phantom-labs.account.accountMetadata",n)}async function Mg(t,e,r){try{let n=await t.get(".phantom-labs.account.accountMetadata");n?n.accounts[e]=r:n={version:1,accounts:{[e]:r}},await t.set(".phantom-labs.account.accountMetadata",n)}catch{throw qte}}async function R5(t,e){try{let r=await t.get(".phantom-labs.account.accountMetadata");r?r.accounts=Vte(r.accounts,n=>{for(let[i,o]of Object.entries(e))n[i]||(n[i]={name:""}),n[i].name=o.name,n[i].icon=o.icon??n[i].icon,n[i].balance=o.balance??n[i].balance,n[i].connectedDevices=o.connectedDevices??n[i].connectedDevices}):r={version:1,accounts:{...e}},await t.set(".phantom-labs.account.accountMetadata",r)}catch{throw qte}}async function C5(t,e){let r=await t.get(".phantom-labs.account.accountMetadata");r||(r={version:1,accounts:{}});let n=r.accounts[e];return n||(n={name:Hp.t("onboardingImportAccountsAccountName",{walletIndex:""})}),n}async function O5(t){let e=await t.get(".phantom-labs.account.accountMetadata");return e?e.accounts:{}}async function N5(t,e){let r=await t.get(".phantom-labs.account.accountMetadata");if(!r)throw B5;delete r.accounts[e],await t.set(".phantom-labs.account.accountMetadata",r)}d();h();d();h();var MA=async t=>{let e=await t.get("networkSetting");if(!e)return c5();let r=E8t(e);return _8t(t,r)};function E8t(t){let e={...t,setting:{...t.setting}};return e.setting.sui||(e.setting.sui=c5().setting.sui),e}var _8t=async(t,e)=>{let r=!1;T8t(e)&&(r=!0);let n=e.setting.solana;n&&ze.isMainnetNetworkID(n)&&(e.setting.solana=fA,r=!0);let i=e.setting.eip155;return i&&ze.isMainnetNetworkID(i)&&(e.setting.eip155=lA,r=!0),r&&await t.set("networkSetting",e),e},T8t=t=>{let e=!1,r=t.setting.eip155;return r&&(r.toString()==="eip155:5"&&(t.setting.eip155=Lr.Ethereum.Sepolia,e=!0),r.toString()==="eip155:80001"&&(t.setting.eip155=Lr.Polygon.Amoy,e=!0)),e};var kA=async(t,e,r)=>{let n=await t.fetchAllAccounts();if(n.length===0)return[];let i=e.get("developerMode"),o=MA(e),s=O5(e),[c,l,m]=await Promise.all([i,o,s]);return n.map(w=>{let b=m[w.identifier];b||(b={name:Hp.t("onboardingImportAccountsAccountName",{walletIndex:""})});let E={name:b.name,icon:b.icon,identifier:w.identifier,addresses:I5(w,r.enabledMainnetOnlyNetworkIDs,r.enabledAddressTypes,r.enabledChainIDs,l,c?.isDeveloperMode??!1)};return w.type==="seed"?{...E,type:"seed",seedIdentifier:w.seedIdentifier,isReadOnly:!1}:w.type==="seedless"?{...E,type:"seedless",seedIdentifier:w.seedIdentifier,isReadOnly:!1}:w.type==="readOnly"?{...E,type:"readOnly",isReadOnly:!0}:w.type==="privateKey"?{...E,privateKeyIdentifier:w.privateKeyIdentifier,type:"privateKey",isReadOnly:!1}:{...E,type:w.type,isReadOnly:!1}})};var lke=(t,e)=>{let r=t.addresses.map(n=>{let i;switch(e.chainType){case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":i=`0x${Buffer.from(e.publicKey).toString("hex")}`;break;case"solana":i=`0x${Buffer.from(zte.default.decode(e.address)).toString("hex")}`;break;case"eip155":i=e.address;break;case"sui":i=i2(e.publicKey);break}return{networkId:n.networkID,pathType:"privateKey",publicKey:i,address:n.address}});return r.length===0?null:{accountHash:t.identifier,accountOrigin:`privateKey:${t.privateKeyIdentifier}`,derivationIndex:-1,name:t.name,icon:t.icon?.imageUrl??t.icon?.unicode??null,addresses:r}},dke=(t,e)=>{let r=[];for(let n of t.addresses){let i=e.chains[n.addressType];if(!i)continue;let o,s;switch(i.chainType){case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":{o=`0x${Buffer.from(i.publicKey).toString("hex")}`,s=i.addresses["bip122:000000000019d6689c085ae165831e93"];break}case"solana":o=`0x${Buffer.from(zte.default.decode(i.address)).toString("hex")}`,s=i.address;break;case"eip155":o=i.address,s=i.address;break;case"sui":o=`0x${Buffer.from(i.publicKey).toString("hex")}`,s=i.address;break}let c=null;switch(!0){case(Zj(i.pathType)&&ze.isSolanaNetworkID(n.networkID)):c={publicKey:o,address:s,pathType:i.pathType,networkId:n.networkID};break;case(Yj(i.pathType)&&ze.isEVMNetworkID(n.networkID)):c={publicKey:o,address:s,pathType:i.pathType,networkId:n.networkID};break;case($j(i.pathType)&&ze.isBitcoinNetworkID(n.networkID)):c={publicKey:o,address:s,pathType:i.pathType,networkId:n.networkID};break;case(Qj(i.pathType)&&ze.isSuiNetworkID(n.networkID)):c={publicKey:o,address:s,pathType:i.pathType,networkId:n.networkID};break}c&&r.push(c)}return{accountHash:t.identifier,accountOrigin:t.type==="seed"?`seed:${t.seedIdentifier}`:`seedless:${t.seedIdentifier}`,name:t.name,icon:t.icon?.imageUrl??t.icon?.unicode??null,derivationIndex:e.derivationIndex,addresses:r}},I8t=t=>{let e=hD.safeParse(t);if(e.success)return{type:"image",imageUrl:e.data};let r=pD.safeParse(t);return r.success?{type:"emoji",unicode:r.data}:{type:"default"}},M8t=async(t,e)=>{let r=Object.entries(e).reduce((n,[i,o])=>(n[i]={name:o.name??"",icon:I8t(o.icon)},n),{});await R5(t,r)},k8t=(t,e)=>({getBatchAccountMetadata:async r=>{let n=new Set(r),i=await cA(e),o=await kA(t,e,i),s=(await t.fetchAllAccounts()).reduce((l,m)=>(l[m.identifier]=m,l),{}),c={};for(let l of o){if(!wD(l))continue;let m=s?.[l.identifier]??null,w=null;switch(l.type){case"seedless":case"seed":n.has(l.identifier)&&m.type===l.type&&(w=dke(l,m));break;case"privateKey":n.has(l.identifier)&&m.type===l.type&&(w=lke(l,m));break}w&&(c[l.identifier]=w)}return c},getAccountMetadata:async r=>{let n=await cA(e),i=await kA(t,e,n),o=(await t.fetchAllAccounts()).reduce((m,w)=>(m[w.identifier]=w,m),{}),s=i.find(m=>m.identifier===r)??null;if(!s)throw new Error(`Unable to get account metadata for account: ${r}`);if(!wD(s))throw new Error(`Syncing is not supported for account type: ${s.type}`);let c=o?.[s.identifier]??null,l=null;switch(s.type){case"seedless":case"seed":c.type===s.type&&(l=dke(s,c));break;case"privateKey":c.type===s.type&&(l=lke(s,c));break}if(!l)throw new Error(`Unable to construct metadata to sync for account: ${s.identifier}`);return l},storeSyncedAccounts:async r=>(je.addBreadcrumb("Auth",`Storing ${Object.entries(r).length} synced accounts`,"info"),await M8t(e,r),je.addBreadcrumb("storage","\u2705 Synced Account Metadata","info"),await t.syncAccounts(r),je.addBreadcrumb("storage","\u2705 Synced Vault Accounts","info"),!0)});d();h();var P8t=(t,e)=>t.filter(r=>{switch(r.type){case"seed":case"seedless":return r.seedIdentifier===e;case"privateKey":return r.privateKeyIdentifier===e;case"ledger":case"seedVault":case"readOnly":return!1;default:Ct(r);return}});d();h();function B8t(t){return w5.get(t).networkNameOverride?.(t)??ze.getNetworkName(t,!0)}d();h();function R8t(){return{version:1,setting:{solana:fA,eip155:lA,sui:kee}}}d();h();d();h();function PA(t,e){return typeof t=="string"?t===e:t.length===e.length&&t.every((r,n)=>r===e[n])}d();h();var D5=qe(n7e());function GTt(t){return t=(0,D5.default)(t),t.accounts.forEach(e=>{switch(e.type){case"privateKey":{switch(e.chainType){case"eip155":case"solana":break;case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":case"sui":{Vv(e.publicKey)&&(e.publicKey=new Uint8Array(Buffer.from(e.publicKey)));break}default:Ct(e)}break}case"readOnly":break;case"ledger":case"seedless":case"seed":for(let r of Object.keys(e.chains)){let n=e.chains[r];if(n)switch(n.chainType){case"eip155":case"solana":break;case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":case"sui":{Vv(n.publicKey)&&(n.publicKey=new Uint8Array(Buffer.from(n.publicKey)));break}default:Ct(n)}}break;case"seedVault":break;default:Ct(e)}}),t}function $Tt(t){return t=(0,D5.default)(t),t.accounts.forEach(e=>{switch(e.type){case"privateKey":{switch(e.chainType){case"eip155":case"solana":break;case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":case"sui":{e.publicKey instanceof Uint8Array&&(e.publicKey=Buffer.from(e.publicKey).toJSON());break}default:Ct(e)}break}case"readOnly":break;case"ledger":case"seedless":case"seed":for(let r of Object.keys(e.chains)){let n=e.chains[r];if(n)switch(n.chainType){case"eip155":case"solana":break;case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":case"sui":{n.publicKey instanceof Uint8Array&&(e.chains[r].publicKey=Buffer.from(n.publicKey).toJSON());break}default:Ct(n)}}break;case"seedVault":break;default:Ct(e)}}),t}function i7e(t){return t=(0,D5.default)(t),t.accounts.forEach(e=>{switch(e.type){case"privateKey":{e.version===1&&Vv(e.publicKey)&&(e.publicKey=new Uint8Array(Buffer.from(e.publicKey)));break}case"readOnly":break;case"ledger":case"seed":case"seedless":for(let r of Object.keys(e.chains))if(e.version===1&&Vv(e.chains[r]?.publicKey)){let n=e.chains[r];n&&(n.publicKey=new Uint8Array(Buffer.from(n.publicKey)))}break;case"seedVault":break;default:Ct(e)}}),t}function o7e(t){return t=(0,D5.default)(t),t.accounts.forEach(e=>{switch(e.type){case"privateKey":{e.version===1&&e.publicKey instanceof Uint8Array&&(e.publicKey=Buffer.from(e.publicKey).toJSON());break}case"readOnly":break;case"ledger":case"seed":case"seedless":for(let r of Object.keys(e.chains))e.version===1&&e.chains[r]?.publicKey instanceof Uint8Array&&(e.chains[r].publicKey=Buffer.from(e.chains[r]?.publicKey).toJSON());break;case"seedVault":break;default:Ct(e)}}),t}function Vv(t){return!!t&&typeof t=="object"&&DF("type",t)&&typeof t.type=="string"&&DF("data",t)&&Array.isArray(t.data)&&t.data.every(e=>!Number.isNaN(parseInt(e)))}d();h();var Ru=".phantom-labs.vault";var ID=`${Ru}.accounts`,BA=`${Ru}.secrets`,MD=t=>`${Ru}.privateKey.${t}`,kD=t=>`${Ru}.seed.${t}`,PD=t=>`${Ru}.seedless.${t}`,TD=`${Ru}.integrityCheck`;async function ti(t){return(await p7e(t))?.accounts??[]}async function c7e(t){let e=await Cu(t),r=new Set(e.seedIdentifiers),n=await ti(t);for(let o of n)o.type==="seed"&&r.add(o.seedIdentifier);let i=[];for(let o of r)i.push({identifier:o});return i}async function BD(t){let e=await Cu(t),r=new Set(e.seedlessIdentifiers),n=await ti(t);for(let o of n)o.type==="seedless"&&r.add(o.seedIdentifier);let i=[];for(let o of r)i.push({identifier:o});return i}async function Cu(t){let e=await t.generalStorage.get(BA);return{privateKeyIdentifiers:e?.privateKeyIdentifiers??[],seedIdentifiers:e?.seedIdentifiers??[],seedlessIdentifiers:e?.seedlessIdentifiers??[]}}async function u7e(t,e){let r=kD(e),n=await t.secretsStorage.getSecureValue(r);if(n===null){let i=PD(e);n=await t.secretsStorage.getSecureValue(i)}if(n==null)throw new Ep;return Vv(n.entropy)?n.entropy=new Uint8Array(Buffer.from(n.entropy)):n.entropy=new Uint8Array(Object.values(n.entropy)),n}async function kg(t,e){let r=MD(e),n=await t.secretsStorage.getSecureValue(r);if(n==null)throw new Uv;return Vv(n.privateKey)?n.privateKey=new Uint8Array(Buffer.from(n.privateKey)):n.privateKey=new Uint8Array(Object.values(n.privateKey)),n}async function Na(t,e,r=!0){let n=await p7e(t);if(!n)n={version:1,accounts:[e]};else{let i=n.accounts,o=ZTt(i,e);if(o.length>0){if(!r)throw new Bh(o[0].type,e.type);let s=a7e(e.type);for(let l of o)if(a7e(l.type)>=s)throw new Bh(l.type,e.type);let c=o.map(l=>l.identifier);return i=i.filter(l=>!c.includes(l.identifier)),i.push(e),await td(t,i),await Gte(t)}else i.push(e);n.accounts=i}return td(t,n.accounts)}async function td(t,e){let r={version:1,accounts:e};return t.generalStorage.set(ID,o7e(r))}async function f7e(t,e){let r=MD(e.identifier);await t.secretsStorage.setSecureValue(r,e),await XTt(t,e.identifier)}async function l7e(t,e){let r=kD(e.identifier);await t.secretsStorage.setSecureValue(r,e),await QTt(t,e.identifier)}async function d7e(t,e){let r=PD(e.identifier);await t.secretsStorage.setSecureValue(r,e),await JTt(t,e.identifier)}async function Gte(t){let e=await ti(t),r=new Set,n=new Set;for(let c of e)switch(c.type){case"seed":case"seedless":r.add(c.seedIdentifier);break;case"privateKey":n.add(c.privateKeyIdentifier);break;case"ledger":case"readOnly":case"seedVault":break;default:Ct(c)}let i=await Cu(t),o={seedIdentifiers:i.seedIdentifiers.filter(c=>r.has(c)),seedlessIdentifiers:i.seedlessIdentifiers.filter(c=>r.has(c)),privateKeyIdentifiers:i.privateKeyIdentifiers.filter(c=>n.has(c))},s={seedIdentifiers:i.seedIdentifiers.filter(c=>!r.has(c)),seedlessIdentifiers:i.seedlessIdentifiers.filter(c=>!r.has(c)),privateKeyIdentifiers:i.privateKeyIdentifiers.filter(c=>!n.has(c))};await t.generalStorage.set(BA,{version:1,...o}),await t.secretsStorage.removeSecureValue([...s.seedIdentifiers.map(c=>kD(c)),...s.seedlessIdentifiers.map(c=>PD(c)),...s.privateKeyIdentifiers.map(c=>MD(c))])}async function $te(t,e){e?await t.secretsStorage.setSecureValue(TD,e):await t.secretsStorage.removeSecureValue(TD)}async function Yte(t){return t.secretsStorage.getSecureValue(TD)}async function h7e(t){await t.secureCache.clear(),await t.generalStorage.remove(ID);let e=await Cu(t),r=e.privateKeyIdentifiers.map(o=>MD(o)),n=e.seedIdentifiers.map(o=>kD(o)),i=e.seedlessIdentifiers.map(o=>PD(o));await t.secretsStorage.removeSecureValue([...r,...i,...n]),await t.generalStorage.remove(BA),await t.secretsStorage.removeSecureValue(TD)}async function p7e(t){let e=await t.generalStorage.get(ID);return e?(e=i7e(e),e=await YTt(t,e),e):null}async function YTt(t,e){let r=!1;return e.accounts.forEach(n=>{switch(n.type){case"privateKey":{r=s7e(n)||r;break}case"readOnly":break;case"ledger":case"seed":case"seedless":Object.values(n.chains).forEach(i=>{r=s7e(i)||r});break;case"seedVault":break;default:Ct(n)}}),r&&await td(t,e.accounts),e}function s7e(t){let e=!1;switch(t.chainType){case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":{Object.values(Eo).forEach(r=>{if(t.addresses&&t.addresses[r])return;let n=ms({publicKey:t.publicKey,addressType:t.chainType,networkID:r});t.addresses={...t.addresses,[r]:n},e=!0});break}default:}return e}function ZTt(t,e){let r=[],n=[];switch(e.type){case"seed":case"seedless":case"ledger":{Object.values(e.chains).forEach(o=>{switch(o.chainType){case"eip155":case"solana":{n.push(o.publicKey);break}case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":{r.push(o.publicKey);break}case"sui":{n.push(o.address);break}default:Ct(o)}});break}case"readOnly":{Object.values(e.addresses).forEach(o=>{n.push(o)});break}case"privateKey":{switch(e.chainType){case"eip155":case"solana":{n.push(e.publicKey);break}case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":{r.push(e.publicKey);break}case"sui":{n.push(e.address);break}default:Ct(e)}break}case"seedVault":{n.push(e.publicKey);break}default:(o=>{throw new Error("unknown account type")})(e)}let i=[];for(let o of t){let s;switch(o.type){case"seed":case"seedless":case"ledger":{s=Object.values(o.chains).some(c=>{switch(c.chainType){case"eip155":case"solana":return!!n.find(l=>PA(l,c.publicKey));case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":case"sui":return!!r.find(l=>PA(l,c.publicKey));default:Ct(c)}});break}case"readOnly":{s=Object.values(o.addresses).some(c=>!!n.find(l=>PA(l,c)));break}case"privateKey":{s=!!n.find(c=>PA(c,o.publicKey));break}case"seedVault":{s=!!n.find(c=>PA(c,o.publicKey));break}default:(c=>{throw new Error("unknown account type")})(o)}s&&i.push(o)}return i}async function QTt(t,e){let r=await Cu(t);return r.seedIdentifiers=[...new Set([...r.seedIdentifiers,e])],t.generalStorage.set(BA,{version:1,...r})}async function JTt(t,e){let r=await Cu(t);return r.seedlessIdentifiers=[...new Set([...r.seedlessIdentifiers,e])],t.generalStorage.set(BA,{version:1,...r})}async function XTt(t,e){let r=await Cu(t);return r.privateKeyIdentifiers=[...new Set([...r.privateKeyIdentifiers,e])],t.generalStorage.set(BA,{version:1,...r})}function a7e(t){switch(t){case"readOnly":return 1;case"privateKey":return 2;case"seedless":case"seed":return 3;case"ledger":return 4;case"seedVault":return 5;default:return 0}}d();h();d();h();var vT=qe(Vn()),Vh=qe(One());d();h();d();h();var ZPt=J.array(J.object({address:J.string(),signingIndexes:J.array(J.number()),sigHash:J.number().optional(),isScriptSpend:J.boolean().optional()})),QPt=J.object({chainType:Wm,signingType:J.literal("transaction"),message:J.string().min(1),inputsToSign:ZPt.optional(),finalize:J.boolean()}),JPt=J.object({chainType:Wm,signingType:J.literal("message"),message:J.instanceof(Uint8Array)}),XPt=QPt.or(JPt),eBt=J.object({chainType:J.literal("sui"),signingType:J.literal("transaction"),transaction:J.instanceof(Uint8Array)}),tBt=J.object({chainType:J.literal("sui"),signingType:J.literal("personalMessage"),message:J.instanceof(Uint8Array)}),rBt=eBt.or(tBt),nBt=J.object({chainType:J.literal("solana"),signingType:J.literal("transaction"),message:J.union([J.string().min(1),J.instanceof(Uint8Array)])}),iBt=J.object({chainType:J.literal("solana"),signingType:J.literal("message"),message:J.string().min(1)}),RCe=nBt.or(iBt),oBt=J.object({chainType:J.literal("eip155"),signingType:J.literal("transaction"),message:J.string().min(1)}),CCe=J.object({chainType:J.literal("eip155"),signingType:J.literal("message"),message:J.string().min(1)}),OCe=J.object({chainType:J.literal("eip155"),signingType:J.literal("typedData"),version:J.literal(1),data:$se}),NCe=J.object({chainType:J.literal("eip155"),signingType:J.literal("typedData"),version:J.literal(3),data:Yse}),DCe=J.object({chainType:J.literal("eip155"),signingType:J.literal("typedData"),version:J.literal(4),data:Zse}),sBt=oBt.or(CCe).or(OCe).or(NCe).or(DCe),aBt=J.object({isJWT:J.literal(!0),data:Cee}),cBt=J.object({isKMSP256OrganizationOwner:J.literal(!0),data:J.string()}),uBt=J.object({isCash:J.literal(!0),data:RCe}),fBt=CCe.extend({isAgentWallet:J.literal(!0)}),lBt=OCe.extend({isAgentWallet:J.literal(!0)}),dBt=NCe.extend({isAgentWallet:J.literal(!0)}),hBt=DCe.extend({isAgentWallet:J.literal(!0)}),pBt=J.union([fBt,lBt,dBt,hBt]),mBt=J.object({status:J.literal("success"),signature:J.string()}),UCe=J.object({status:J.literal("success"),signature:J.string()}),yBt=J.object({status:J.literal("success"),signature:J.string(),message:J.instanceof(Uint8Array).optional()}),gBt=J.object({status:J.literal("success"),signature:J.string()}),bBt=J.object({status:J.literal("success"),signature:J.string(),signedJWT:Ree.optional()}),vBt=J.object({status:J.literal("success"),signature:J.string()}),xBt=UCe;var Nne=RCe.or(sBt).or(XPt).or(rBt).or(aBt).or(cBt).or(pBt).or(uBt),Du=(k=>(k.InvalidInput="invalidInput",k.InvalidAccountId="invalidAccountId",k.InvalidAddressType="invalidAddressType",k.InvalidMessageEncoding="invalidMessageEncoding",k.InvalidDerivationPath="invalidDerivationPath",k.LedgerAppNotOpen="ledgerAppNotOpen",k.LedgerNotConnected="ledgerNotConnected",k.LedgerNeedPermission="ledgerNeedPermission",k.LedgerRejectAction="ledgerRejectAction",k.LedgerUnknownSignError="ledgerUnknownSignError",k.UnsupportedOperation="unsupportedOperation",k.InternalError="internalError",k.ExpiredTokenError="expiredToken",k.BeforeIATError="beforeTimeOfIssuance",k.InvalidClaimError="invalidClaim",k))(Du||{}),wBt=J.object({status:J.literal("error"),type:J.nativeEnum(Du),message:J.string()}),SBt=J.union([bBt,vBt,xBt,yBt,mBt,UCe,gBt,wBt]);var ABt={invalidInput:{message:"Invalid input"},invalidAccountId:{message:"Invalid account identifier."},invalidAddressType:{message:"Invalid chain type."},invalidMessageEncoding:{message:"Invalid message encoding."},invalidDerivationPath:{message:"Invalid derivation path."},ledgerAppNotOpen:{message:"Ledger App not open."},ledgerNotConnected:{message:"Ledger not connected."},ledgerNeedPermission:{message:"Need permission to connect to Ledger."},ledgerRejectAction:{message:"Ledger user rejected action."},ledgerUnknownSignError:{message:"Ledger unknown sign error."},unsupportedOperation:{message:"Unsupported operation."},internalError:{message:"Internal error."},expiredToken:{message:"Token is expired"},beforeTimeOfIssuance:{message:"Received token before issuance time"},invalidClaim:{message:"Claim is invalid"}},cn=(t,e)=>({status:"error",type:t,message:e??ABt[t].message});var LCe=()=>({type:"keyPair",sign:(t,e)=>{try{switch(e.signingType){case"typedData":{switch(e.version){case 1:{let r=vT.Buffer.from(t.privateKey.slice()),n=Vh.SignTypedDataVersion.V1,{data:i}=e,o=(0,Vh.signTypedData)({privateKey:r,version:n,data:i});return r.fill(0),Promise.resolve({status:"success",signature:o})}case 3:{let r=vT.Buffer.from(t.privateKey.slice()),n=Vh.SignTypedDataVersion.V3,i=e.data,o=(0,Vh.signTypedData)({privateKey:r,version:n,data:i});return r.fill(0),Promise.resolve({status:"success",signature:o})}case 4:{let r=vT.Buffer.from(t.privateKey.slice()),n=Vh.SignTypedDataVersion.V4,i=e.data,o=(0,Vh.signTypedData)({privateKey:r,version:n,data:i});return r.fill(0),Promise.resolve({status:"success",signature:o})}}break}case"message":{let r=e.message,n=vT.Buffer.from(t.privateKey);try{let i=(0,Vh.personalSign)({privateKey:n,data:r});return Promise.resolve({status:"success",signature:i})}finally{n.fill(0)}}}}catch(r){return console.error(r),Promise.resolve(cn("invalidMessageEncoding"))}}});d();h();var Yc=qe(Vn());d();h();d();h();var xT={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};var bE=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),ud=(t,e)=>t<<32-e|t>>>e,EBt=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!EBt)throw new Error("Non little-endian hardware is not supported");var Xvn=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function _Bt(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function Fg(t){if(typeof t=="string"&&(t=_Bt(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}var gE=class{clone(){return this._cloneInto()}},TBt=t=>Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object;function FCe(t,e){if(e!==void 0&&(typeof e!="object"||!TBt(e)))throw new TypeError("Options should be object or undefined");return Object.assign(t,e)}function Dne(t){let e=n=>t().update(Fg(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function wT(t=32){if(xT.web)return xT.web.getRandomValues(new Uint8Array(t));if(xT.node)return new Uint8Array(xT.node.randomBytes(t).buffer);throw new Error("The environment doesn't have randomBytes function")}d();h();d();h();d();h();var Vne={};OF(Vne,{bitGet:()=>CBt,bitLen:()=>RBt,bitMask:()=>ST,bitSet:()=>OBt,bytesToHex:()=>cx,bytesToNumberBE:()=>Zs,bytesToNumberLE:()=>qU,concatBytes:()=>Ip,createHmacDrbg:()=>Fne,ensureBytes:()=>Wo,equalBytes:()=>PBt,hexToBytes:()=>ux,hexToNumber:()=>Lne,numberToBytesBE:()=>fd,numberToBytesLE:()=>KU,numberToHexUnpadded:()=>KCe,numberToVarBytesBE:()=>kBt,utf8ToBytes:()=>BBt,validateObject:()=>Vg});d();h();var qCe=BigInt(0),FU=BigInt(1),IBt=BigInt(2),VU=t=>t instanceof Uint8Array,MBt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function cx(t){if(!VU(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=MBt[t[r]];return e}function KCe(t){let e=t.toString(16);return e.length&1?`0${e}`:e}function Lne(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function ux(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let r=new Uint8Array(e/2);for(let n=0;n<r.length;n++){let i=n*2,o=t.slice(i,i+2),s=Number.parseInt(o,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");r[n]=s}return r}function Zs(t){return Lne(cx(t))}function qU(t){if(!VU(t))throw new Error("Uint8Array expected");return Lne(cx(Uint8Array.from(t).reverse()))}function fd(t,e){return ux(t.toString(16).padStart(e*2,"0"))}function KU(t,e){return fd(t,e).reverse()}function kBt(t){return ux(KCe(t))}function Wo(t,e,r){let n;if(typeof e=="string")try{n=ux(e)}catch(o){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${o}`)}else if(VU(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);let i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${t} expected ${r} bytes, got ${i}`);return n}function Ip(...t){let e=new Uint8Array(t.reduce((n,i)=>n+i.length,0)),r=0;return t.forEach(n=>{if(!VU(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}function PBt(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function BBt(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function RBt(t){let e;for(e=0;t>qCe;t>>=FU,e+=1);return e}function CBt(t,e){return t>>BigInt(e)&FU}var OBt=(t,e,r)=>t|(r?FU:qCe)<<BigInt(e),ST=t=>(IBt<<BigInt(t-1))-FU,Une=t=>new Uint8Array(t),VCe=t=>Uint8Array.from(t);function Fne(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=Une(t),i=Une(t),o=0,s=()=>{n.fill(1),i.fill(0),o=0},c=(...b)=>r(i,n,...b),l=(b=Une())=>{i=c(VCe([0]),b),n=c(),b.length!==0&&(i=c(VCe([1]),b),n=c())},m=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let b=0,E=[];for(;b<e;){n=c();let I=n.slice();E.push(I),b+=n.length}return Ip(...E)};return(b,E)=>{s(),l(b);let I;for(;!(I=E(m()));)l();return s(),I}}var NBt={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Vg(t,e,r={}){let n=(i,o,s)=>{let c=NBt[o];if(typeof c!="function")throw new Error(`Invalid validator "${o}", expected function`);let l=t[i];if(!(s&&l===void 0)&&!c(l,t))throw new Error(`Invalid param ${String(i)}=${l} (${typeof l}), expected ${o}`)};for(let[i,o]of Object.entries(e))n(i,o,!1);for(let[i,o]of Object.entries(r))n(i,o,!0);return t}var $o=BigInt(0),no=BigInt(1),fx=BigInt(2),DBt=BigInt(3),qne=BigInt(4),HCe=BigInt(5),jCe=BigInt(8),UBt=BigInt(9),LBt=BigInt(16);function Go(t,e){let r=t%e;return r>=$o?r:e+r}function FBt(t,e,r){if(r<=$o||e<$o)throw new Error("Expected power/modulo > 0");if(r===no)return $o;let n=no;for(;e>$o;)e&no&&(n=n*t%r),t=t*t%r,e>>=no;return n}function Uu(t,e,r){let n=t;for(;e-- >$o;)n*=n,n%=r;return n}function HU(t,e){if(t===$o||e<=$o)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=Go(t,e),n=e,i=$o,o=no,s=no,c=$o;for(;r!==$o;){let m=n/r,w=n%r,b=i-s*m,E=o-c*m;n=r,r=w,i=s,o=c,s=b,c=E}if(n!==no)throw new Error("invert: does not exist");return Go(i,e)}function VBt(t){let e=(t-no)/fx,r,n,i;for(r=t-no,n=0;r%fx===$o;r/=fx,n++);for(i=fx;i<t&&FBt(i,e,t)!==t-no;i++);if(n===1){let s=(t+no)/qne;return function(l,m){let w=l.pow(m,s);if(!l.eql(l.sqr(w),m))throw new Error("Cannot find square root");return w}}let o=(r+no)/fx;return function(c,l){if(c.pow(l,e)===c.neg(c.ONE))throw new Error("Cannot find square root");let m=n,w=c.pow(c.mul(c.ONE,i),r),b=c.pow(l,o),E=c.pow(l,r);for(;!c.eql(E,c.ONE);){if(c.eql(E,c.ZERO))return c.ZERO;let I=1;for(let k=c.sqr(E);I<m&&!c.eql(k,c.ONE);I++)k=c.sqr(k);let M=c.pow(w,no<<BigInt(m-I-1));w=c.sqr(M),b=c.mul(b,M),E=c.mul(E,w),m=I}return b}}function qBt(t){if(t%qne===DBt){let e=(t+no)/qne;return function(n,i){let o=n.pow(i,e);if(!n.eql(n.sqr(o),i))throw new Error("Cannot find square root");return o}}if(t%jCe===HCe){let e=(t-HCe)/jCe;return function(n,i){let o=n.mul(i,fx),s=n.pow(o,e),c=n.mul(i,s),l=n.mul(n.mul(c,fx),s),m=n.mul(c,n.sub(l,n.ONE));if(!n.eql(n.sqr(m),i))throw new Error("Cannot find square root");return m}}return t%LBt,VBt(t)}var KBt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Kne(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=KBt.reduce((n,i)=>(n[i]="function",n),e);return Vg(t,r)}function HBt(t,e,r){if(r<$o)throw new Error("Expected power > 0");if(r===$o)return t.ONE;if(r===no)return e;let n=t.ONE,i=e;for(;r>$o;)r&no&&(n=t.mul(n,i)),i=t.sqr(i),r>>=no;return n}function jBt(t,e){let r=new Array(e.length),n=e.reduce((o,s,c)=>t.is0(s)?o:(r[c]=o,t.mul(o,s)),t.ONE),i=t.inv(n);return e.reduceRight((o,s,c)=>t.is0(s)?o:(r[c]=t.mul(o,r[c]),t.mul(o,s)),i),r}function Hne(t,e){let r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function zCe(t,e,r=!1,n={}){if(t<=$o)throw new Error(`Expected Field ORDER > 0, got ${t}`);let{nBitLength:i,nByteLength:o}=Hne(t,e);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");let s=qBt(t),c=Object.freeze({ORDER:t,BITS:i,BYTES:o,MASK:ST(i),ZERO:$o,ONE:no,create:l=>Go(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return $o<=l&&l<t},is0:l=>l===$o,isOdd:l=>(l&no)===no,neg:l=>Go(-l,t),eql:(l,m)=>l===m,sqr:l=>Go(l*l,t),add:(l,m)=>Go(l+m,t),sub:(l,m)=>Go(l-m,t),mul:(l,m)=>Go(l*m,t),pow:(l,m)=>HBt(c,l,m),div:(l,m)=>Go(l*HU(m,t),t),sqrN:l=>l*l,addN:(l,m)=>l+m,subN:(l,m)=>l-m,mulN:(l,m)=>l*m,inv:l=>HU(l,t),sqrt:n.sqrt||(l=>s(c,l)),invertBatch:l=>jBt(c,l),cmov:(l,m,w)=>w?m:l,toBytes:l=>r?KU(l,o):fd(l,o),fromBytes:l=>{if(l.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${l.length}`);return r?qU(l):Zs(l)}});return Object.freeze(c)}function WCe(t){if(typeof t!="bigint")throw new Error("field order must be bigint");let e=t.toString(2).length;return Math.ceil(e/8)}function jne(t){let e=WCe(t);return e+Math.ceil(e/2)}function GCe(t,e,r=!1){let n=t.length,i=WCe(e),o=jne(e);if(n<16||n<o||n>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${n}`);let s=r?Zs(t):qU(t),c=Go(s,e-no)+no;return r?KU(c,i):fd(c,i)}d();h();d();h();var WBt=BigInt(0),zne=BigInt(1);function $Ce(t,e){let r=(i,o)=>{let s=o.negate();return i?s:o},n=i=>{let o=Math.ceil(e/i)+1,s=2**(i-1);return{windows:o,windowSize:s}};return{constTimeNegate:r,unsafeLadder(i,o){let s=t.ZERO,c=i;for(;o>WBt;)o&zne&&(s=s.add(c)),c=c.double(),o>>=zne;return s},precomputeWindow(i,o){let{windows:s,windowSize:c}=n(o),l=[],m=i,w=m;for(let b=0;b<s;b++){w=m,l.push(w);for(let E=1;E<c;E++)w=w.add(m),l.push(w);m=w.double()}return l},wNAF(i,o,s){let{windows:c,windowSize:l}=n(i),m=t.ZERO,w=t.BASE,b=BigInt(2**i-1),E=2**i,I=BigInt(i);for(let M=0;M<c;M++){let k=M*l,R=Number(s&b);s>>=I,R>l&&(R-=E,s+=zne);let B=k,U=k+Math.abs(R)-1,P=M%2!==0,F=R<0;R===0?w=w.add(r(P,o[B])):m=m.add(r(F,o[U]))}return{p:m,f:w}},wNAFCached(i,o,s,c){let l=i._WINDOW_SIZE||1,m=o.get(i);return m||(m=this.precomputeWindow(i,l),l!==1&&o.set(i,c(m))),this.wNAF(l,m,s)}}}function Wne(t){return Kne(t.Fp),Vg(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Hne(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}function GBt(t){let e=Wne(t);Vg(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}var{bytesToNumberBE:$Bt,hexToBytes:YBt}=Vne,lx={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){let{Err:e}=lx;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");let r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:$Bt(n),l:t.subarray(r+2)}},toSig(t){let{Err:e}=lx,r=typeof t=="string"?YBt(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");let{d:i,l:o}=lx._parseInt(r.subarray(2)),{d:s,l:c}=lx._parseInt(o);if(c.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s}},hexFromSig(t){let e=m=>Number.parseInt(m[0],16)&8?"00"+m:m,r=m=>{let w=m.toString(16);return w.length&1?`0${w}`:w},n=e(r(t.s)),i=e(r(t.r)),o=n.length/2,s=i.length/2,c=r(o),l=r(s);return`30${r(s+o+4)}02${l}${i}02${c}${n}`}},Mp=BigInt(0),el=BigInt(1),yxn=BigInt(2),YCe=BigInt(3),gxn=BigInt(4);function ZBt(t){let e=GBt(t),{Fp:r}=e,n=e.toBytes||((M,k,R)=>{let B=k.toAffine();return Ip(Uint8Array.from([4]),r.toBytes(B.x),r.toBytes(B.y))}),i=e.fromBytes||(M=>{let k=M.subarray(1),R=r.fromBytes(k.subarray(0,r.BYTES)),B=r.fromBytes(k.subarray(r.BYTES,2*r.BYTES));return{x:R,y:B}});function o(M){let{a:k,b:R}=e,B=r.sqr(M),U=r.mul(B,M);return r.add(r.add(U,r.mul(M,k)),R)}if(!r.eql(r.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function s(M){return typeof M=="bigint"&&Mp<M&&M<e.n}function c(M){if(!s(M))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(M){let{allowedPrivateKeyLengths:k,nByteLength:R,wrapPrivateKey:B,n:U}=e;if(k&&typeof M!="bigint"){if(M instanceof Uint8Array&&(M=cx(M)),typeof M!="string"||!k.includes(M.length))throw new Error("Invalid key");M=M.padStart(R*2,"0")}let P;try{P=typeof M=="bigint"?M:Zs(Wo("private key",M,R))}catch{throw new Error(`private key must be ${R} bytes, hex or bigint, not ${typeof M}`)}return B&&(P=Go(P,U)),c(P),P}let m=new Map;function w(M){if(!(M instanceof b))throw new Error("ProjectivePoint expected")}class b{constructor(k,R,B){if(this.px=k,this.py=R,this.pz=B,k==null||!r.isValid(k))throw new Error("x required");if(R==null||!r.isValid(R))throw new Error("y required");if(B==null||!r.isValid(B))throw new Error("z required")}static fromAffine(k){let{x:R,y:B}=k||{};if(!k||!r.isValid(R)||!r.isValid(B))throw new Error("invalid affine point");if(k instanceof b)throw new Error("projective point not allowed");let U=P=>r.eql(P,r.ZERO);return U(R)&&U(B)?b.ZERO:new b(R,B,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(k){let R=r.invertBatch(k.map(B=>B.pz));return k.map((B,U)=>B.toAffine(R[U])).map(b.fromAffine)}static fromHex(k){let R=b.fromAffine(i(Wo("pointHex",k)));return R.assertValidity(),R}static fromPrivateKey(k){return b.BASE.multiply(l(k))}_setWindowSize(k){this._WINDOW_SIZE=k,m.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}let{x:k,y:R}=this.toAffine();if(!r.isValid(k)||!r.isValid(R))throw new Error("bad point: x or y not FE");let B=r.sqr(R),U=o(k);if(!r.eql(B,U))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:k}=this.toAffine();if(r.isOdd)return!r.isOdd(k);throw new Error("Field doesn't support isOdd")}equals(k){w(k);let{px:R,py:B,pz:U}=this,{px:P,py:F,pz:q}=k,K=r.eql(r.mul(R,q),r.mul(P,U)),re=r.eql(r.mul(B,q),r.mul(F,U));return K&&re}negate(){return new b(this.px,r.neg(this.py),this.pz)}double(){let{a:k,b:R}=e,B=r.mul(R,YCe),{px:U,py:P,pz:F}=this,q=r.ZERO,K=r.ZERO,re=r.ZERO,Q=r.mul(U,U),ie=r.mul(P,P),S=r.mul(F,F),a=r.mul(U,P);return a=r.add(a,a),re=r.mul(U,F),re=r.add(re,re),q=r.mul(k,re),K=r.mul(B,S),K=r.add(q,K),q=r.sub(ie,K),K=r.add(ie,K),K=r.mul(q,K),q=r.mul(a,q),re=r.mul(B,re),S=r.mul(k,S),a=r.sub(Q,S),a=r.mul(k,a),a=r.add(a,re),re=r.add(Q,Q),Q=r.add(re,Q),Q=r.add(Q,S),Q=r.mul(Q,a),K=r.add(K,Q),S=r.mul(P,F),S=r.add(S,S),Q=r.mul(S,a),q=r.sub(q,Q),re=r.mul(S,ie),re=r.add(re,re),re=r.add(re,re),new b(q,K,re)}add(k){w(k);let{px:R,py:B,pz:U}=this,{px:P,py:F,pz:q}=k,K=r.ZERO,re=r.ZERO,Q=r.ZERO,ie=e.a,S=r.mul(e.b,YCe),a=r.mul(R,P),f=r.mul(B,F),p=r.mul(U,q),y=r.add(R,B),g=r.add(P,F);y=r.mul(y,g),g=r.add(a,f),y=r.sub(y,g),g=r.add(R,U);let A=r.add(P,q);return g=r.mul(g,A),A=r.add(a,p),g=r.sub(g,A),A=r.add(B,U),K=r.add(F,q),A=r.mul(A,K),K=r.add(f,p),A=r.sub(A,K),Q=r.mul(ie,g),K=r.mul(S,p),Q=r.add(K,Q),K=r.sub(f,Q),Q=r.add(f,Q),re=r.mul(K,Q),f=r.add(a,a),f=r.add(f,a),p=r.mul(ie,p),g=r.mul(S,g),f=r.add(f,p),p=r.sub(a,p),p=r.mul(ie,p),g=r.add(g,p),a=r.mul(f,g),re=r.add(re,a),a=r.mul(A,g),K=r.mul(y,K),K=r.sub(K,a),a=r.mul(y,f),Q=r.mul(A,Q),Q=r.add(Q,a),new b(K,re,Q)}subtract(k){return this.add(k.negate())}is0(){return this.equals(b.ZERO)}wNAF(k){return I.wNAFCached(this,m,k,R=>{let B=r.invertBatch(R.map(U=>U.pz));return R.map((U,P)=>U.toAffine(B[P])).map(b.fromAffine)})}multiplyUnsafe(k){let R=b.ZERO;if(k===Mp)return R;if(c(k),k===el)return this;let{endo:B}=e;if(!B)return I.unsafeLadder(this,k);let{k1neg:U,k1:P,k2neg:F,k2:q}=B.splitScalar(k),K=R,re=R,Q=this;for(;P>Mp||q>Mp;)P&el&&(K=K.add(Q)),q&el&&(re=re.add(Q)),Q=Q.double(),P>>=el,q>>=el;return U&&(K=K.negate()),F&&(re=re.negate()),re=new b(r.mul(re.px,B.beta),re.py,re.pz),K.add(re)}multiply(k){c(k);let R=k,B,U,{endo:P}=e;if(P){let{k1neg:F,k1:q,k2neg:K,k2:re}=P.splitScalar(R),{p:Q,f:ie}=this.wNAF(q),{p:S,f:a}=this.wNAF(re);Q=I.constTimeNegate(F,Q),S=I.constTimeNegate(K,S),S=new b(r.mul(S.px,P.beta),S.py,S.pz),B=Q.add(S),U=ie.add(a)}else{let{p:F,f:q}=this.wNAF(R);B=F,U=q}return b.normalizeZ([B,U])[0]}multiplyAndAddUnsafe(k,R,B){let U=b.BASE,P=(q,K)=>K===Mp||K===el||!q.equals(U)?q.multiplyUnsafe(K):q.multiply(K),F=P(this,R).add(P(k,B));return F.is0()?void 0:F}toAffine(k){let{px:R,py:B,pz:U}=this,P=this.is0();k==null&&(k=P?r.ONE:r.inv(U));let F=r.mul(R,k),q=r.mul(B,k),K=r.mul(U,k);if(P)return{x:r.ZERO,y:r.ZERO};if(!r.eql(K,r.ONE))throw new Error("invZ was invalid");return{x:F,y:q}}isTorsionFree(){let{h:k,isTorsionFree:R}=e;if(k===el)return!0;if(R)return R(b,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:k,clearCofactor:R}=e;return k===el?this:R?R(b,this):this.multiplyUnsafe(e.h)}toRawBytes(k=!0){return this.assertValidity(),n(b,this,k)}toHex(k=!0){return cx(this.toRawBytes(k))}}b.BASE=new b(e.Gx,e.Gy,r.ONE),b.ZERO=new b(r.ZERO,r.ONE,r.ZERO);let E=e.nBitLength,I=$Ce(b,e.endo?Math.ceil(E/2):E);return{CURVE:e,ProjectivePoint:b,normPrivateKeyToScalar:l,weierstrassEquation:o,isWithinCurveOrder:s}}function QBt(t){let e=Wne(t);return Vg(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function ZCe(t){let e=QBt(t),{Fp:r,n}=e,i=r.BYTES+1,o=2*r.BYTES+1;function s(g){return Mp<g&&g<r.ORDER}function c(g){return Go(g,n)}function l(g){return HU(g,n)}let{ProjectivePoint:m,normPrivateKeyToScalar:w,weierstrassEquation:b,isWithinCurveOrder:E}=ZBt({...e,toBytes(g,A,_){let v=A.toAffine(),u=r.toBytes(v.x),x=Ip;return _?x(Uint8Array.from([A.hasEvenY()?2:3]),u):x(Uint8Array.from([4]),u,r.toBytes(v.y))},fromBytes(g){let A=g.length,_=g[0],v=g.subarray(1);if(A===i&&(_===2||_===3)){let u=Zs(v);if(!s(u))throw new Error("Point is not on curve");let x=b(u),L=r.sqrt(x),D=(L&el)===el;return(_&1)===1!==D&&(L=r.neg(L)),{x:u,y:L}}else if(A===o&&_===4){let u=r.fromBytes(v.subarray(0,r.BYTES)),x=r.fromBytes(v.subarray(r.BYTES,2*r.BYTES));return{x:u,y:x}}else throw new Error(`Point of length ${A} was invalid. Expected ${i} compressed bytes or ${o} uncompressed bytes`)}}),I=g=>cx(fd(g,e.nByteLength));function M(g){let A=n>>el;return g>A}function k(g){return M(g)?c(-g):g}let R=(g,A,_)=>Zs(g.slice(A,_));class B{constructor(A,_,v){this.r=A,this.s=_,this.recovery=v,this.assertValidity()}static fromCompact(A){let _=e.nByteLength;return A=Wo("compactSignature",A,_*2),new B(R(A,0,_),R(A,_,2*_))}static fromDER(A){let{r:_,s:v}=lx.toSig(Wo("DER",A));return new B(_,v)}assertValidity(){if(!E(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!E(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(A){return new B(this.r,this.s,A)}recoverPublicKey(A){let{r:_,s:v,recovery:u}=this,x=re(Wo("msgHash",A));if(u==null||![0,1,2,3].includes(u))throw new Error("recovery id invalid");let L=u===2||u===3?_+e.n:_;if(L>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");let D=u&1?"03":"02",C=m.fromHex(D+I(L)),z=l(L),ee=c(-x*z),ne=c(v*z),Ke=m.BASE.multiplyAndAddUnsafe(C,ee,ne);if(!Ke)throw new Error("point at infinify");return Ke.assertValidity(),Ke}hasHighS(){return M(this.s)}normalizeS(){return this.hasHighS()?new B(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return ux(this.toDERHex())}toDERHex(){return lx.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return ux(this.toCompactHex())}toCompactHex(){return I(this.r)+I(this.s)}}let U={isValidPrivateKey(g){try{return w(g),!0}catch{return!1}},normPrivateKeyToScalar:w,randomPrivateKey:()=>{let g=jne(e.n);return GCe(e.randomBytes(g),e.n)},precompute(g=8,A=m.BASE){return A._setWindowSize(g),A.multiply(BigInt(3)),A}};function P(g,A=!0){return m.fromPrivateKey(g).toRawBytes(A)}function F(g){let A=g instanceof Uint8Array,_=typeof g=="string",v=(A||_)&&g.length;return A?v===i||v===o:_?v===2*i||v===2*o:g instanceof m}function q(g,A,_=!0){if(F(g))throw new Error("first arg must be private key");if(!F(A))throw new Error("second arg must be public key");return m.fromHex(A).multiply(w(g)).toRawBytes(_)}let K=e.bits2int||function(g){let A=Zs(g),_=g.length*8-e.nBitLength;return _>0?A>>BigInt(_):A},re=e.bits2int_modN||function(g){return c(K(g))},Q=ST(e.nBitLength);function ie(g){if(typeof g!="bigint")throw new Error("bigint expected");if(!(Mp<=g&&g<Q))throw new Error(`bigint expected < 2^${e.nBitLength}`);return fd(g,e.nByteLength)}function S(g,A,_=a){if(["recovered","canonical"].some(W=>W in _))throw new Error("sign() legacy options not supported");let{hash:v,randomBytes:u}=e,{lowS:x,prehash:L,extraEntropy:D}=_;x==null&&(x=!0),g=Wo("msgHash",g),L&&(g=Wo("prehashed msgHash",v(g)));let C=re(g),z=w(A),ee=[ie(z),ie(C)];if(D!=null){let W=D===!0?u(r.BYTES):D;ee.push(Wo("extraEntropy",W))}let ne=Ip(...ee),Ke=C;function ae(W){let he=K(W);if(!E(he))return;let te=l(he),ce=m.BASE.multiply(he).toAffine(),Ze=c(ce.x);if(Ze===Mp)return;let se=c(te*c(Ke+Ze*z));if(se===Mp)return;let le=(ce.x===Ze?0:2)|Number(ce.y&el),Bt=se;return x&&M(se)&&(Bt=k(se),le^=1),new B(Ze,Bt,le)}return{seed:ne,k2sig:ae}}let a={lowS:e.lowS,prehash:!1},f={lowS:e.lowS,prehash:!1};function p(g,A,_=a){let{seed:v,k2sig:u}=S(g,A,_),x=e;return Fne(x.hash.outputLen,x.nByteLength,x.hmac)(v,u)}m.BASE._setWindowSize(8);function y(g,A,_,v=f){let u=g;if(A=Wo("msgHash",A),_=Wo("publicKey",_),"strict"in v)throw new Error("options.strict was renamed to lowS");let{lowS:x,prehash:L}=v,D,C;try{if(typeof u=="string"||u instanceof Uint8Array)try{D=B.fromDER(u)}catch(ce){if(!(ce instanceof lx.Err))throw ce;D=B.fromCompact(u)}else if(typeof u=="object"&&typeof u.r=="bigint"&&typeof u.s=="bigint"){let{r:ce,s:Ze}=u;D=new B(ce,Ze)}else throw new Error("PARSE");C=m.fromHex(_)}catch(ce){if(ce.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(x&&D.hasHighS())return!1;L&&(A=e.hash(A));let{r:z,s:ee}=D,ne=re(A),Ke=l(ee),ae=c(ne*Ke),W=c(z*Ke),he=m.BASE.multiplyAndAddUnsafe(C,ae,W)?.toAffine();return he?c(he.x)===z:!1}return{CURVE:e,getPublicKey:P,getSharedSecret:q,sign:p,verify:y,ProjectivePoint:m,Signature:B,utils:U}}d();h();function JBt(t){return{hash:t,hmac:(e,...r)=>i5(t,e,RIe(...r)),randomBytes:NN}}function QCe(t,e){let r=n=>ZCe({...t,...JBt(n)});return Object.freeze({...r(e),create:r})}var GU=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),jU=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),eOe=BigInt(1),zU=BigInt(2),JCe=(t,e)=>(t+e/zU)/e;function tOe(t){let e=GU,r=BigInt(3),n=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),c=BigInt(44),l=BigInt(88),m=t*t*t%e,w=m*m*t%e,b=Uu(w,r,e)*w%e,E=Uu(b,r,e)*w%e,I=Uu(E,zU,e)*m%e,M=Uu(I,i,e)*I%e,k=Uu(M,o,e)*M%e,R=Uu(k,c,e)*k%e,B=Uu(R,l,e)*R%e,U=Uu(B,c,e)*k%e,P=Uu(U,r,e)*w%e,F=Uu(P,s,e)*M%e,q=Uu(F,n,e)*m%e,K=Uu(q,zU,e);if(!$ne.eql($ne.sqr(K),t))throw new Error("Cannot find square root");return K}var $ne=zCe(GU,void 0,void 0,{sqrt:tOe}),vE=QCe({a:BigInt(0),b:BigInt(7),Fp:$ne,n:jU,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{let e=jU,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-eOe*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,s=BigInt("0x100000000000000000000000000000000"),c=JCe(o*t,e),l=JCe(-n*t,e),m=Go(t-c*r-l*i,e),w=Go(-c*n-l*o,e),b=m>s,E=w>s;if(b&&(m=e-m),E&&(w=e-w),m>s||w>s)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:b,k1:m,k2neg:E,k2:w}}}},gs),$U=BigInt(0),rOe=t=>typeof t=="bigint"&&$U<t&&t<GU,XBt=t=>typeof t=="bigint"&&$U<t&&t<jU,XCe={};function WU(t,...e){let r=XCe[t];if(r===void 0){let n=gs(Uint8Array.from(t,i=>i.charCodeAt(0)));r=Ip(n,n),XCe[t]=r}return gs(Ip(r,...e))}var Qne=t=>t.toRawBytes(!0).slice(1),Yne=t=>fd(t,32),Gne=t=>Go(t,GU),AT=t=>Go(t,jU),Jne=vE.ProjectivePoint,eRt=(t,e,r)=>Jne.BASE.multiplyAndAddUnsafe(t,e,r);function Zne(t){let e=vE.utils.normPrivateKeyToScalar(t),r=Jne.fromPrivateKey(e);return{scalar:r.hasEvenY()?e:AT(-e),bytes:Qne(r)}}function nOe(t){if(!rOe(t))throw new Error("bad x: need 0 < x < p");let e=Gne(t*t),r=Gne(e*t+BigInt(7)),n=tOe(r);n%zU!==$U&&(n=Gne(-n));let i=new Jne(t,n,eOe);return i.assertValidity(),i}function iOe(...t){return AT(Zs(WU("BIP0340/challenge",...t)))}function tRt(t){return Zne(t).bytes}function rRt(t,e,r=NN(32)){let n=Wo("message",t),{bytes:i,scalar:o}=Zne(e),s=Wo("auxRand",r,32),c=Yne(o^Zs(WU("BIP0340/aux",s))),l=WU("BIP0340/nonce",c,i,n),m=AT(Zs(l));if(m===$U)throw new Error("sign failed: k is zero");let{bytes:w,scalar:b}=Zne(m),E=iOe(w,i,n),I=new Uint8Array(64);if(I.set(w,0),I.set(Yne(AT(b+E*o)),32),!oOe(I,n,i))throw new Error("sign: Invalid signature produced");return I}function oOe(t,e,r){let n=Wo("signature",t,64),i=Wo("message",e),o=Wo("publicKey",r,32);try{let s=nOe(Zs(o)),c=Zs(n.subarray(0,32));if(!rOe(c))return!1;let l=Zs(n.subarray(32,64));if(!XBt(l))return!1;let m=iOe(Yne(c),Qne(s),i),w=eRt(s,l,AT(-m));return!(!w||!w.hasEvenY()||w.toAffine().x!==c)}catch{return!1}}var Lu={getPublicKey:tRt,sign:rRt,verify:oOe,utils:{randomPrivateKey:vE.utils.randomPrivateKey,lift_x:nOe,pointToBytes:Qne,numberToBytesBE:fd,bytesToNumberBE:Zs,taggedHash:WU,mod:Go}};d();h();var nRt=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),aOe=Uint8Array.from({length:16},(t,e)=>e),iRt=aOe.map(t=>(9*t+5)%16),eie=[aOe],tie=[iRt];for(let t=0;t<4;t++)for(let e of[eie,tie])e.push(e[t].map(r=>nRt[r]));var cOe=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(t=>new Uint8Array(t)),oRt=eie.map((t,e)=>t.map(r=>cOe[e][r])),sRt=tie.map((t,e)=>t.map(r=>cOe[e][r])),aRt=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),cRt=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),YU=(t,e)=>t<<e|t>>>32-e;function sOe(t,e,r,n){return t===0?e^r^n:t===1?e&r|~e&n:t===2?(e|~r)^n:t===3?e&n|r&~n:e^(r|~n)}var ZU=new Uint32Array(16),Xne=class extends oA{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0:e,h1:r,h2:n,h3:i,h4:o}=this;return[e,r,n,i,o]}set(e,r,n,i,o){this.h0=e|0,this.h1=r|0,this.h2=n|0,this.h3=i|0,this.h4=o|0}process(e,r){for(let I=0;I<16;I++,r+=4)ZU[I]=e.getUint32(r,!0);let n=this.h0|0,i=n,o=this.h1|0,s=o,c=this.h2|0,l=c,m=this.h3|0,w=m,b=this.h4|0,E=b;for(let I=0;I<5;I++){let M=4-I,k=aRt[I],R=cRt[I],B=eie[I],U=tie[I],P=oRt[I],F=sRt[I];for(let q=0;q<16;q++){let K=YU(n+sOe(I,o,c,m)+ZU[B[q]]+k,P[q])+b|0;n=b,b=m,m=YU(c,10)|0,c=o,o=K}for(let q=0;q<16;q++){let K=YU(i+sOe(M,s,l,w)+ZU[U[q]]+R,F[q])+E|0;i=E,E=w,w=YU(l,10)|0,l=s,s=K}}this.set(this.h1+c+w|0,this.h2+m+E|0,this.h3+b+i|0,this.h4+n+s|0,this.h0+o+l|0)}roundClean(){ZU.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}},uOe=ON(()=>new Xne);d();h();function xE(t){if(!Number.isSafeInteger(t))throw new Error(`Wrong integer: ${t}`)}function JU(...t){let e=(i,o)=>s=>i(o(s)),r=Array.from(t).reverse().reduce((i,o)=>i?e(i,o.encode):o.encode,void 0),n=t.reduce((i,o)=>i?e(i,o.decode):o.decode,void 0);return{encode:r,decode:n}}function iie(t){return{encode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return e.map(r=>{if(r<0||r>=t.length)throw new Error(`Digit index outside alphabet: ${r} (alphabet: ${t.length})`);return t[r]})},decode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("alphabet.decode input should be array of strings");return e.map(r=>{if(typeof r!="string")throw new Error(`alphabet.decode: not string element=${r}`);let n=t.indexOf(r);if(n===-1)throw new Error(`Unknown letter: "${r}". Allowed: ${t}`);return n})}}}function oie(t=""){if(typeof t!="string")throw new Error("join separator should be string");return{encode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("join.encode input should be array of strings");for(let r of e)if(typeof r!="string")throw new Error(`join.encode: non-string input=${r}`);return e.join(t)},decode:e=>{if(typeof e!="string")throw new Error("join.decode input should be string");return e.split(t)}}}function uRt(t){if(typeof t!="function")throw new Error("normalize fn should be function");return{encode:e=>e,decode:e=>t(e)}}function fOe(t,e,r){if(e<2)throw new Error(`convertRadix: wrong from=${e}, base cannot be less than 2`);if(r<2)throw new Error(`convertRadix: wrong to=${r}, base cannot be less than 2`);if(!Array.isArray(t))throw new Error("convertRadix: data should be array");if(!t.length)return[];let n=0,i=[],o=Array.from(t);for(o.forEach(s=>{if(s<0||s>=e)throw new Error(`Wrong integer: ${s}`)});;){let s=0,c=!0;for(let l=n;l<o.length;l++){let m=o[l],w=e*s+m;if(!Number.isSafeInteger(w)||e*s/e!==s||w-m!==e*s)throw new Error("convertRadix: carry overflow");s=w%r;let b=Math.floor(w/r);if(o[l]=b,!Number.isSafeInteger(b)||b*r+s!==w)throw new Error("convertRadix: carry overflow");if(c)b?c=!1:n=l;else continue}if(i.push(s),c)break}for(let s=0;s<t.length-1&&t[s]===0;s++)i.push(0);return i.reverse()}var pOe=(t,e)=>e?pOe(e,t%e):t,QU=(t,e)=>t+(e-pOe(t,e));function rie(t,e,r,n){if(!Array.isArray(t))throw new Error("convertRadix2: data should be array");if(e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(QU(e,r)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${r} carryBits=${QU(e,r)}`);let i=0,o=0,s=2**r-1,c=[];for(let l of t){if(l>=2**e)throw new Error(`convertRadix2: invalid data word=${l} from=${e}`);if(i=i<<e|l,o+e>32)throw new Error(`convertRadix2: carry overflow pos=${o} from=${e}`);for(o+=e;o>=r;o-=r)c.push((i>>o-r&s)>>>0);i&=2**o-1}if(i=i<<r-o&s,!n&&o>=e)throw new Error("Excess padding");if(!n&&i)throw new Error(`Non-zero padding: ${i}`);return n&&o>0&&c.push(i>>>0),c}function fRt(t){return{encode:e=>{if(!(e instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return fOe(Array.from(e),2**8,t)},decode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(fOe(e,t,2**8))}}}function mOe(t,e=!1){if(t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(QU(8,t)>32||QU(t,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!(r instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return rie(Array.from(r),8,t,!e)},decode:r=>{if(!Array.isArray(r)||r.length&&typeof r[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(rie(r,t,8,e))}}}function lOe(t){if(typeof t!="function")throw new Error("unsafeWrapper fn should be function");return function(...e){try{return t.apply(null,e)}catch{}}}function lRt(t,e){if(typeof e!="function")throw new Error("checksum fn should be function");return{encode(r){if(!(r instanceof Uint8Array))throw new Error("checksum.encode: input should be Uint8Array");let n=e(r).slice(0,t),i=new Uint8Array(r.length+t);return i.set(r),i.set(n,r.length),i},decode(r){if(!(r instanceof Uint8Array))throw new Error("checksum.decode: input should be Uint8Array");let n=r.slice(0,-t),i=e(n).slice(0,t),o=r.slice(-t);for(let s=0;s<t;s++)if(i[s]!==o[s])throw new Error("Invalid checksum");return n}}}var dRt=t=>JU(fRt(58),iie(t),oie("")),hRt=dRt("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var yOe=t=>JU(lRt(4,e=>t(t(e))),hRt),nie=JU(iie("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),oie("")),dOe=[996825010,642813549,513874426,1027748829,705979059];function ET(t){let e=t>>25,r=(t&33554431)<<5;for(let n=0;n<dOe.length;n++)(e>>n&1)===1&&(r^=dOe[n]);return r}function hOe(t,e,r=1){let n=t.length,i=1;for(let o=0;o<n;o++){let s=t.charCodeAt(o);if(s<33||s>126)throw new Error(`Invalid prefix (${t})`);i=ET(i)^s>>5}i=ET(i);for(let o=0;o<n;o++)i=ET(i)^t.charCodeAt(o)&31;for(let o of e)i=ET(i)^o;for(let o=0;o<6;o++)i=ET(i);return i^=r,nie.encode(rie([i%2**30],30,5,!1))}function gOe(t){let e=t==="bech32"?1:734539939,r=mOe(5),n=r.decode,i=r.encode,o=lOe(n);function s(w,b,E=90){if(typeof w!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof w}`);if(!Array.isArray(b)||b.length&&typeof b[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof b}`);let I=w.length+7+b.length;if(E!==!1&&I>E)throw new TypeError(`Length ${I} exceeds limit ${E}`);let M=w.toLowerCase(),k=hOe(M,b,e);return`${M}1${nie.encode(b)}${k}`}function c(w,b=90){if(typeof w!="string")throw new Error(`bech32.decode input should be string, not ${typeof w}`);if(w.length<8||b!==!1&&w.length>b)throw new TypeError(`Wrong string length: ${w.length} (${w}). Expected (8..${b})`);let E=w.toLowerCase();if(w!==E&&w!==w.toUpperCase())throw new Error("String must be lowercase or uppercase");w=E;let I=w.lastIndexOf("1");if(I===0||I===-1)throw new Error('Letter "1" must be present between prefix and data only');let M=w.slice(0,I),k=w.slice(I+1);if(k.length<6)throw new Error("Data must be at least 6 characters long");let R=nie.decode(k).slice(0,-6),B=hOe(M,R,e);if(!k.endsWith(B))throw new Error(`Invalid checksum in ${w}: expected "${B}"`);return{prefix:M,words:R}}let l=lOe(c);function m(w){let{prefix:b,words:E}=c(w,!1);return{prefix:b,words:E,bytes:n(E)}}return{encode:s,decode:c,decodeToBytes:m,decodeUnsafe:l,fromWords:n,fromWordsUnsafe:o,toWords:i}}var XU=gOe("bech32"),sie=gOe("bech32m"),aie={encode:t=>new TextDecoder().decode(t),decode:t=>new TextEncoder().encode(t)},zi=JU(mOe(4),iie("0123456789abcdef"),oie(""),uRt(t=>{if(typeof t!="string"||t.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof t} with length ${t.length}`);return t.toLowerCase()}));d();h();var Wi=new Uint8Array,oL=new Uint8Array([0]);function xi(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function eL(...t){if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let o=t[n];r.set(o,i),i+=o.length}return r}var Fu=t=>t instanceof Uint8Array,tL=class{constructor(e,r=[],n=[]){this.data=e,this.path=r,this.fieldPath=n,this.pos=0,this.hasPtr=!1,this.bitBuf=0,this.bitPos=0}err(e){return new Error(`Reader(${this.fieldPath.join("/")}): ${e}`)}absBytes(e){if(e>this.data.length)throw new Error("absBytes: Unexpected end of buffer");return this.data.subarray(e)}bytes(e,r=!1){if(this.bitPos)throw this.err("readBytes: bitPos not empty");if(!Number.isFinite(e))throw this.err(`readBytes: wrong length=${e}`);if(this.pos+e>this.data.length)throw this.err("readBytes: Unexpected end of buffer");let n=this.data.subarray(this.pos,this.pos+e);return r||(this.pos+=e),n}byte(e=!1){if(this.bitPos)throw this.err("readByte: bitPos not empty");return this.data[e?this.pos:this.pos++]}get leftBytes(){return this.data.length-this.pos}isEnd(){return this.pos>=this.data.length&&!this.bitPos}length(e){let r;if(qg(e)?r=Number(e.decodeStream(this)):typeof e=="number"?r=e:typeof e=="string"&&(r=iL(this.path,e.split("/"))),typeof r=="bigint"&&(r=Number(r)),typeof r!="number")throw this.err(`Wrong length: ${r}`);return r}bits(e){if(e>32)throw this.err("BitReader: cannot read more than 32 bits in single call");let r=0;for(;e;){this.bitPos||(this.bitBuf=this.data[this.pos++],this.bitPos=8);let n=Math.min(e,this.bitPos);this.bitPos-=n,r=r<<n|this.bitBuf>>this.bitPos&2**n-1,this.bitBuf&=2**this.bitPos-1,e-=n}return r>>>0}find(e,r=this.pos){if(!Fu(e))throw this.err(`find: needle is not bytes! ${e}`);if(this.bitPos)throw this.err("findByte: bitPos not empty");if(!e.length)throw this.err("find: needle is empty");for(let n=r;(n=this.data.indexOf(e[0],n))!==-1;n++){if(n===-1||this.data.length-n<e.length)return;if(xi(e,this.data.subarray(n,n+e.length)))return n}}finish(){if(!(this.isEnd()||this.hasPtr))throw this.err(`${this.leftBytes} bytes ${this.bitPos} bits left after unpack: ${zi.encode(this.data.slice(this.pos))}`)}fieldPathPush(e){this.fieldPath.push(e)}fieldPathPop(){this.fieldPath.pop()}},rL=class{constructor(e=[],r=[]){this.path=e,this.fieldPath=r,this.buffers=[],this.pos=0,this.ptrs=[],this.bitBuf=0,this.bitPos=0}err(e){return new Error(`Writer(${this.fieldPath.join("/")}): ${e}`)}bytes(e){if(this.bitPos)throw this.err("writeBytes: ends with non-empty bit buffer");this.buffers.push(e),this.pos+=e.length}byte(e){if(this.bitPos)throw this.err("writeByte: ends with non-empty bit buffer");this.buffers.push(new Uint8Array([e])),this.pos++}get buffer(){if(this.bitPos)throw this.err("buffer: ends with non-empty bit buffer");let e=eL(...this.buffers);for(let r of this.ptrs){let n=e.length;e=eL(e,r.buffer);let i=r.ptr.encode(n);for(let o=0;o<i.length;o++)e[r.pos+o]=i[o]}return e}length(e,r){if(e===null)return;if(qg(e))return e.encodeStream(this,r);let n;if(typeof e=="number"?n=e:typeof e=="string"&&(n=iL(this.path,e.split("/"))),typeof n=="bigint"&&(n=Number(n)),n===void 0||n!==r)throw this.err(`Wrong length: ${n} len=${e} exp=${r}`)}bits(e,r){if(r>32)throw this.err("writeBits: cannot write more than 32 bits in single call");if(e>=2**r)throw this.err(`writeBits: value (${e}) >= 2**bits (${r})`);for(;r;){let n=Math.min(r,8-this.bitPos);this.bitBuf=this.bitBuf<<n|e>>r-n,this.bitPos+=n,r-=n,e&=2**r-1,this.bitPos===8&&(this.bitPos=0,this.buffers.push(new Uint8Array([this.bitBuf])),this.pos++)}}fieldPathPush(e){this.fieldPath.push(e)}fieldPathPop(){this.fieldPath.pop()}},nL=t=>Uint8Array.from(t).reverse();function bOe(t,e,r,n){if(n){let i=2n**(r-1n);if(e<-i||e>=i)throw t.err("sInt: value out of bounds")}else if(0n>e||e>=2n**r)throw t.err("uInt: value out of bounds")}function Yo(t){return{...t,encode:e=>{let r=new rL;return t.encodeStream(r,e),r.buffer},decode:e=>{let r=new tL(e),n=t.decodeStream(r);return r.finish(),n}}}function iL(t,e){t=Array.from(t);let r=0;for(;r<e.length&&e[r]==="..";r++)t.pop();let n=t.pop();for(;r<e.length;r++){if(!n||n[e[r]]===void 0)return;n=n[e[r]]}return n}function qg(t){return typeof t.encode=="function"&&typeof t.encodeStream=="function"&&typeof t.decode=="function"&&typeof t.decodeStream=="function"}function mRt(){return{encode:t=>{let e={};for(let[r,n]of t){if(e[r]!==void 0)throw new Error(`coders.dict: same key(${r}) appears twice in struct`);e[r]=n}return e},decode:t=>Object.entries(t)}}var yRt={encode:t=>{if(t>BigInt(Number.MAX_SAFE_INTEGER))throw new Error(`coders.number: element bigger than MAX_SAFE_INTEGER=${t}`);return Number(t)},decode:t=>BigInt(t)};function gRt(t){return{encode:e=>t[e],decode:e=>t[e]}}function bRt(t){let e=10n**BigInt(t);return{encode:r=>{let n=(r<0n?-r:r).toString(10),i=n.length-t;i<0&&(n=n.padStart(n.length-i,"0"),i=0);let o=n.length-1;for(;o>=i&&n[o]==="0";o--);let[s,c]=[n.slice(0,i),n.slice(i,o+1)];return s||(s="0"),r<0n&&(s="-"+s),c?`${s}.${c}`:s},decode:r=>{let n=!1;r.startsWith("-")&&(n=!0,r=r.slice(1));let i=r.indexOf(".");i=i===-1?r.length:i;let[o,s]=[r.slice(0,i),r.slice(i+1)],c=BigInt(o)*e,l=Math.min(s.length,t),m=BigInt(s.slice(0,l))*10n**BigInt(t-l),w=c+m;return n?-w:w}}}function vRt(t){return{encode:e=>{for(let r of t){let n=r.encode(e);if(n!==void 0)return n}throw new Error(`match/encode: cannot find match in ${e}`)},decode:e=>{for(let r of t){let n=r.decode(e);if(n!==void 0)return n}throw new Error(`match/decode: cannot find match in ${e}`)}}}var wE={dict:mRt,number:yRt,tsEnum:gRt,decimal:bRt,match:vRt};var Vu=(t,e=!1,r=!1)=>Yo({size:t,encodeStream:(n,i)=>{if(typeof i!="number"&&typeof i!="bigint")throw n.err(`bigint: invalid value: ${i}`);let o=BigInt(i),s=BigInt(t);bOe(n,o,8n*s,!!r);let c=2n**(8n*s-1n);r&&o<0&&(o=o|c);let l=[];for(let w=0;w<t;w++)l.push(Number(o&255n)),o>>=8n;let m=new Uint8Array(l).reverse();n.bytes(e?m.reverse():m)},decodeStream:n=>{let i=BigInt(t),o=n.bytes(t);e&&(o=nL(o));let s=nL(o),c=2n**(8n*i-1n),l=0n;for(let m=0;m<s.length;m++)l|=BigInt(s[m])<<8n*BigInt(m);return r&&l&c&&(l=(l^c)-c),bOe(n,l,8n*i,!!r),l}}),zxn=Vu(32,!0),vOe=Vu(32,!1),Wxn=Vu(32,!0,!0),Gxn=Vu(32,!1,!0),$xn=Vu(16,!0),Yxn=Vu(16,!1),Zxn=Vu(16,!0,!0),Qxn=Vu(16,!1,!0),_T=Vu(8,!0),Jxn=Vu(8,!1),xOe=Vu(8,!0,!0),Xxn=Vu(8,!1,!0),qh=(t,e=!1,r=!1)=>{if(t>6)throw new Error("int supports size up to 6 bytes (48 bits), for other use bigint");return IT(Vu(t,e,r),wE.number)},ni=qh(4,!0),wOe=qh(4,!1),SE=qh(4,!0,!0),ewn=qh(4,!1,!0),cie=qh(2,!0),twn=qh(2,!1),rwn=qh(2,!0,!0),nwn=qh(2,!1,!0),kp=qh(1,!1),iwn=qh(1,!1,!0),own=Yo({size:1,encodeStream:(t,e)=>t.byte(e?1:0),decodeStream:t=>{let e=t.byte();if(e!==0&&e!==1)throw t.err(`bool: invalid value ${e}`);return e===1}}),Ci=(t,e=!1)=>Yo({size:typeof t=="number"?t:void 0,encodeStream:(r,n)=>{if(!Fu(n))throw r.err(`bytes: invalid value ${n}`);Fu(t)||r.length(t,n.length),r.bytes(e?nL(n):n),Fu(t)&&r.bytes(t)},decodeStream:r=>{let n;if(Fu(t)){let i=r.find(t);if(!i)throw r.err("bytes: cannot find terminator");n=r.bytes(i-r.pos),r.bytes(t.length)}else n=r.bytes(t===null?r.leftBytes:r.length(t));return e?nL(n):n}}),TT=(t,e=!1)=>{let r=Ci(t,e);return Yo({size:r.size,encodeStream:(n,i)=>r.encodeStream(n,aie.decode(i)),decodeStream:n=>aie.encode(r.decodeStream(n))})},swn=TT(oL),SOe=(t,e=!1,r=!1)=>{let n=Ci(t,e);return Yo({size:n.size,encodeStream:(i,o)=>{if(r&&!o.startsWith("0x"))throw new Error("hex(withZero=true).encode input should start with 0x");let s=zi.decode(r?o.slice(2):o);return n.encodeStream(i,s)},decodeStream:i=>(r?"0x":"")+zi.encode(n.decodeStream(i))})};function IT(t,e){if(!qg(t))throw new Error(`apply: invalid inner value ${t}`);return Yo({size:t.size,encodeStream:(r,n)=>{let i;try{i=e.decode(n)}catch(o){throw r.err(""+o)}return t.encodeStream(r,i)},decodeStream:r=>{let n=t.decodeStream(r);try{return e.encode(n)}catch(i){throw r.err(""+i)}}})}function tl(t,e){if(!qg(t))throw new Error(`validate: invalid inner value ${t}`);return Yo({size:t.size,encodeStream:(r,n)=>t.encodeStream(r,e(n)),decodeStream:r=>e(t.decodeStream(r))})}var AOe=(t,e=!1)=>Yo({size:t.length,encodeStream:(r,n)=>{!!n!==e&&r.bytes(t)},decodeStream:r=>{let n=r.leftBytes>=t.length;return n&&(n=xi(r.bytes(t.length,!0),t),n&&r.bytes(t.length)),n!==e}});function EOe(t,e,r){if(!qg(e))throw new Error(`flagged: invalid inner value ${e}`);return Yo({encodeStream:(n,i)=>{typeof t=="string"?iL(n.path,t.split("/"))?e.encodeStream(n,i):r&&e.encodeStream(n,r):(t.encodeStream(n,!!i),i?e.encodeStream(n,i):r&&e.encodeStream(n,r))},decodeStream:n=>{let i=!1;if(typeof t=="string"?i=iL(n.path,t.split("/")):i=t.decodeStream(n),i)return e.decodeStream(n);r&&e.decodeStream(n)}})}function MT(t,e,r=!0){if(!qg(t))throw new Error(`flagged: invalid inner value ${t}`);return Yo({size:t.size,encodeStream:(n,i)=>t.encodeStream(n,e),decodeStream:n=>{let i=t.decodeStream(n);if(r&&typeof i!="object"&&i!==e||Fu(e)&&!xi(e,i))throw n.err(`magic: invalid value: ${i} !== ${e}`)}})}function _Oe(t){let e=0;for(let r of t){if(!r.size)return;e+=r.size}return e}function Da(t){if(Array.isArray(t))throw new Error("Packed.Struct: got array instead of object");return Yo({size:_Oe(Object.values(t)),encodeStream:(e,r)=>{if(typeof r!="object"||r===null)throw e.err(`struct: invalid value ${r}`);e.path.push(r);for(let n in t)e.fieldPathPush(n),t[n].encodeStream(e,r[n]),e.fieldPathPop();e.path.pop()},decodeStream:e=>{let r={};e.path.push(r);for(let n in t)e.fieldPathPush(n),r[n]=t[n].decodeStream(e),e.fieldPathPop();return e.path.pop(),r}})}function TOe(t){if(!Array.isArray(t))throw new Error(`Packed.Tuple: got ${typeof t} instead of array`);return Yo({size:_Oe(t),encodeStream:(e,r)=>{if(!Array.isArray(r))throw e.err(`tuple: invalid value ${r}`);e.path.push(r);for(let n=0;n<t.length;n++)e.fieldPathPush(""+n),t[n].encodeStream(e,r[n]),e.fieldPathPop();e.path.pop()},decodeStream:e=>{let r=[];e.path.push(r);for(let n=0;n<t.length;n++)e.fieldPathPush(""+n),r.push(t[n].decodeStream(e)),e.fieldPathPop();return e.path.pop(),r}})}function IOe(t,e){if(!qg(e))throw new Error(`prefix: invalid inner value ${e}`);if(Fu(t))throw new Error("prefix: len cannot be Uint8Array");let r=Ci(t);return Yo({size:typeof t=="number"?t:void 0,encodeStream:(n,i)=>{let o=new rL(n.path,n.fieldPath);e.encodeStream(o,i),r.encodeStream(n,o.buffer)},decodeStream:n=>{let i=r.decodeStream(n);return e.decodeStream(new tL(i,n.path,n.fieldPath))}})}function dc(t,e){if(!qg(e))throw new Error(`array: invalid inner value ${e}`);return Yo({size:typeof t=="number"&&e.size?t*e.size:void 0,encodeStream:(r,n)=>{if(!Array.isArray(n))throw r.err(`array: invalid value ${n}`);Fu(t)||r.length(t,n.length),r.path.push(n);for(let i=0;i<n.length;i++){r.fieldPathPush(""+i);let o=n[i],s=r.pos;if(e.encodeStream(r,o),Fu(t)){if(t.length>r.pos-s)continue;let c=r.buffer.subarray(s,r.pos);if(xi(c.subarray(0,t.length),t))throw r.err(`array: inner element encoding same as separator. elm=${o} data=${c}`)}r.fieldPathPop()}r.path.pop(),Fu(t)&&r.bytes(t)},decodeStream:r=>{let n=[];if(t===null){let i=0;for(r.path.push(n);!r.isEnd()&&(r.fieldPathPush(""+i++),n.push(e.decodeStream(r)),r.fieldPathPop(),!(e.size&&r.leftBytes<e.size)););r.path.pop()}else if(Fu(t)){let i=0;for(r.path.push(n);;){if(xi(r.bytes(t.length,!0),t)){r.bytes(t.length);break}r.fieldPathPush(""+i++),n.push(e.decodeStream(r)),r.fieldPathPop()}r.path.pop()}else{r.fieldPathPush("arrayLen");let i=r.length(t);r.fieldPathPop(),r.path.push(n);for(let o=0;o<i;o++)r.fieldPathPush(""+o),n.push(e.decodeStream(r)),r.fieldPathPop();r.path.pop()}return n}})}var awn=MT(Ci(0),Wi);var{ProjectivePoint:pL,sign:MOe,getPublicKey:wRt}=vE,uL=vE.CURVE.n,PT=(t,e)=>t===void 0?e:t,Ni=Fu,mL=t=>uOe(gs(t)),Kg=(...t)=>gs(gs(Hg(...t))),Hg=eL,KOe=yOe(gs);function fL(t){if(Array.isArray(t))return t.map(e=>fL(e));if(t instanceof Uint8Array)return Uint8Array.from(t);if(["number","bigint","boolean","string","undefined"].includes(typeof t))return t;if(t===null)return t;if(typeof t=="object")return Object.fromEntries(Object.entries(t).map(([e,r])=>[e,fL(r)]));throw new Error(`cloneDeep: unknown type=${t} (${typeof t})`)}var Ua;(function(t){t[t.ecdsa=0]="ecdsa",t[t.schnorr=1]="schnorr"})(Ua||(Ua={}));function TE(t,e){let r=t.length;if(e===Ua.ecdsa){if(r===32)throw new Error("Expected non-Schnorr key");return pL.fromHex(t),t}else if(e===Ua.schnorr){if(r!==32)throw new Error("Expected 32-byte Schnorr key");return Lu.utils.lift_x(Lu.utils.bytesToNumberBE(t)),t}else throw new Error("Unknown key type")}function hx(t,e){try{return TE(t,e),!0}catch{return!1}}var kOe=t=>t.r<uL/2n;function SRt(t,e,r=!1){let n=MOe(t,e);if(r&&!kOe(n)){let i=new Uint8Array(32);for(let o=0;o<Number.MAX_SAFE_INTEGER&&(i.set(ni.encode(o)),n=MOe(t,e,{extraEntropy:i}),!kOe(n));o++);}return n.toDERRawBytes()}function HOe(t,e){let r=Lu.utils,n=r.taggedHash("TapTweak",t,e),i=r.bytesToNumberBE(n);if(i>=uL)throw new Error("tweak higher than curve order");return i}function ARt(t,e=new Uint8Array){let r=Lu.utils,n=r.bytesToNumberBE(t),i=pL.fromPrivateKey(n),o=i.hasEvenY()?n:r.mod(-n,uL),s=r.pointToBytes(i),c=HOe(s,e);return r.numberToBytesBE(r.mod(o+c,uL),32)}function jOe(t,e){let r=Lu.utils,n=HOe(t,e),o=r.lift_x(r.bytesToNumberBE(t)).add(pL.fromPrivateKey(n)),s=o.hasEvenY()?0:1;return[r.pointToBytes(o),s]}var hie=tl(Ci(null),t=>TE(t,Ua.ecdsa)),lL=tl(Ci(32),t=>TE(t,Ua.schnorr)),POe=tl(Ci(null),t=>{if(t.length!==64&&t.length!==65)throw new Error("Schnorr signature should be 64 or 65 bytes long");return t});var jg={bech32:"bc",pubKeyHash:0,scriptHash:5,wif:128};var ERt=8,_Rt=2,dx=0,zOe=4294967295,sL=new Uint8Array(32),pwn=wE.decimal(ERt);function pie(t,e){if(!Ni(t)||!Ni(e))throw new Error(`cmp: wrong type a=${typeof t} b=${typeof e}`);let r=Math.min(t.length,e.length);for(let n=0;n<r;n++)if(t[n]!=e[n])return Math.sign(t[n]-e[n]);return Math.sign(t.length-e.length)}var Zo;(function(t){t[t.OP_0=0]="OP_0",t[t.PUSHDATA1=76]="PUSHDATA1",t[t.PUSHDATA2=77]="PUSHDATA2",t[t.PUSHDATA4=78]="PUSHDATA4",t[t["1NEGATE"]=79]="1NEGATE",t[t.RESERVED=80]="RESERVED",t[t.OP_1=81]="OP_1",t[t.OP_2=82]="OP_2",t[t.OP_3=83]="OP_3",t[t.OP_4=84]="OP_4",t[t.OP_5=85]="OP_5",t[t.OP_6=86]="OP_6",t[t.OP_7=87]="OP_7",t[t.OP_8=88]="OP_8",t[t.OP_9=89]="OP_9",t[t.OP_10=90]="OP_10",t[t.OP_11=91]="OP_11",t[t.OP_12=92]="OP_12",t[t.OP_13=93]="OP_13",t[t.OP_14=94]="OP_14",t[t.OP_15=95]="OP_15",t[t.OP_16=96]="OP_16",t[t.NOP=97]="NOP",t[t.VER=98]="VER",t[t.IF=99]="IF",t[t.NOTIF=100]="NOTIF",t[t.VERIF=101]="VERIF",t[t.VERNOTIF=102]="VERNOTIF",t[t.ELSE=103]="ELSE",t[t.ENDIF=104]="ENDIF",t[t.VERIFY=105]="VERIFY",t[t.RETURN=106]="RETURN",t[t.TOALTSTACK=107]="TOALTSTACK",t[t.FROMALTSTACK=108]="FROMALTSTACK",t[t["2DROP"]=109]="2DROP",t[t["2DUP"]=110]="2DUP",t[t["3DUP"]=111]="3DUP",t[t["2OVER"]=112]="2OVER",t[t["2ROT"]=113]="2ROT",t[t["2SWAP"]=114]="2SWAP",t[t.IFDUP=115]="IFDUP",t[t.DEPTH=116]="DEPTH",t[t.DROP=117]="DROP",t[t.DUP=118]="DUP",t[t.NIP=119]="NIP",t[t.OVER=120]="OVER",t[t.PICK=121]="PICK",t[t.ROLL=122]="ROLL",t[t.ROT=123]="ROT",t[t.SWAP=124]="SWAP",t[t.TUCK=125]="TUCK",t[t.CAT=126]="CAT",t[t.SUBSTR=127]="SUBSTR",t[t.LEFT=128]="LEFT",t[t.RIGHT=129]="RIGHT",t[t.SIZE=130]="SIZE",t[t.INVERT=131]="INVERT",t[t.AND=132]="AND",t[t.OR=133]="OR",t[t.XOR=134]="XOR",t[t.EQUAL=135]="EQUAL",t[t.EQUALVERIFY=136]="EQUALVERIFY",t[t.RESERVED1=137]="RESERVED1",t[t.RESERVED2=138]="RESERVED2",t[t["1ADD"]=139]="1ADD",t[t["1SUB"]=140]="1SUB",t[t["2MUL"]=141]="2MUL",t[t["2DIV"]=142]="2DIV",t[t.NEGATE=143]="NEGATE",t[t.ABS=144]="ABS",t[t.NOT=145]="NOT",t[t["0NOTEQUAL"]=146]="0NOTEQUAL",t[t.ADD=147]="ADD",t[t.SUB=148]="SUB",t[t.MUL=149]="MUL",t[t.DIV=150]="DIV",t[t.MOD=151]="MOD",t[t.LSHIFT=152]="LSHIFT",t[t.RSHIFT=153]="RSHIFT",t[t.BOOLAND=154]="BOOLAND",t[t.BOOLOR=155]="BOOLOR",t[t.NUMEQUAL=156]="NUMEQUAL",t[t.NUMEQUALVERIFY=157]="NUMEQUALVERIFY",t[t.NUMNOTEQUAL=158]="NUMNOTEQUAL",t[t.LESSTHAN=159]="LESSTHAN",t[t.GREATERTHAN=160]="GREATERTHAN",t[t.LESSTHANOREQUAL=161]="LESSTHANOREQUAL",t[t.GREATERTHANOREQUAL=162]="GREATERTHANOREQUAL",t[t.MIN=163]="MIN",t[t.MAX=164]="MAX",t[t.WITHIN=165]="WITHIN",t[t.RIPEMD160=166]="RIPEMD160",t[t.SHA1=167]="SHA1",t[t.SHA256=168]="SHA256",t[t.HASH160=169]="HASH160",t[t.HASH256=170]="HASH256",t[t.CODESEPARATOR=171]="CODESEPARATOR",t[t.CHECKSIG=172]="CHECKSIG",t[t.CHECKSIGVERIFY=173]="CHECKSIGVERIFY",t[t.CHECKMULTISIG=174]="CHECKMULTISIG",t[t.CHECKMULTISIGVERIFY=175]="CHECKMULTISIGVERIFY",t[t.NOP1=176]="NOP1",t[t.CHECKLOCKTIMEVERIFY=177]="CHECKLOCKTIMEVERIFY",t[t.CHECKSEQUENCEVERIFY=178]="CHECKSEQUENCEVERIFY",t[t.NOP4=179]="NOP4",t[t.NOP5=180]="NOP5",t[t.NOP6=181]="NOP6",t[t.NOP7=182]="NOP7",t[t.NOP8=183]="NOP8",t[t.NOP9=184]="NOP9",t[t.NOP10=185]="NOP10",t[t.CHECKSIGADD=186]="CHECKSIGADD",t[t.INVALID=255]="INVALID"})(Zo||(Zo={}));var Qo=Yo({encodeStream:(t,e)=>{for(let r of e){if(typeof r=="string"){if(Zo[r]===void 0)throw new Error(`Unknown opcode=${r}`);t.byte(Zo[r]);continue}else if(typeof r=="number"){if(r===0){t.byte(0);continue}else if(1<=r&&r<=16){t.byte(Zo.OP_1-1+r);continue}}if(typeof r=="number"&&(r=WOe().encode(BigInt(r))),!Ni(r))throw new Error(`Wrong Script OP=${r} (${typeof r})`);let n=r.length;n<Zo.PUSHDATA1?t.byte(n):n<=255?(t.byte(Zo.PUSHDATA1),t.byte(n)):n<=65535?(t.byte(Zo.PUSHDATA2),t.bytes(cie.encode(n))):(t.byte(Zo.PUSHDATA4),t.bytes(ni.encode(n))),t.bytes(r)}},decodeStream:t=>{let e=[];for(;!t.isEnd();){let r=t.byte();if(Zo.OP_0<r&&r<=Zo.PUSHDATA4){let n;if(r<Zo.PUSHDATA1)n=r;else if(r===Zo.PUSHDATA1)n=kp.decodeStream(t);else if(r===Zo.PUSHDATA2)n=cie.decodeStream(t);else if(r===Zo.PUSHDATA4)n=ni.decodeStream(t);else throw new Error("Should be not possible");e.push(t.bytes(n))}else if(r===0)e.push(0);else if(Zo.OP_1<=r&&r<=Zo.OP_16)e.push(r-(Zo.OP_1-1));else{let n=Zo[r];if(n===void 0)throw new Error(`Unknown opcode=${r.toString(16)}`);e.push(n)}}return e}});function WOe(t=6,e=!1){return Yo({encodeStream:(r,n)=>{if(n===0n)return;let i=n<0,o=BigInt(n),s=[];for(let c=i?-o:o;c;c>>=8n)s.push(Number(c&0xffn));s[s.length-1]>=128?s.push(i?128:0):i&&(s[s.length-1]|=128),r.bytes(new Uint8Array(s))},decodeStream:r=>{let n=r.leftBytes;if(n>t)throw new Error(`ScriptNum: number (${n}) bigger than limit=${t}`);if(n===0)return 0n;if(e&&!(r.data[n-1]&127)&&(n<=1||!(r.data[n-2]&128)))throw new Error("Non-minimally encoded ScriptNum");let i=0,o=0n;for(let s=0;s<n;++s)i=r.byte(),o|=BigInt(i)<<8n*BigInt(s);return i>=128&&(o&=2n**BigInt(n*8)-1n>>1n,o=-o),o}})}function TRt(t,e=4,r=!0){if(typeof t=="number")return t;if(Ni(t))try{let n=WOe(e,r).decode(t);return n>Number.MAX_SAFE_INTEGER?void 0:Number(n)}catch{return}}var BOe={253:[253,2,253n,65535n],254:[254,4,65536n,4294967295n],255:[255,8,4294967296n,18446744073709551615n]},yL=Yo({encodeStream:(t,e)=>{if(typeof e=="number"&&(e=BigInt(e)),0n<=e&&e<=252n)return t.byte(Number(e));for(let[r,n,i,o]of Object.values(BOe))if(!(i>e||e>o)){t.byte(r);for(let s=0;s<n;s++)t.byte(Number(e>>8n*BigInt(s)&0xffn));return}throw t.err(`VarInt too big: ${e}`)},decodeStream:t=>{let e=t.byte();if(e<=252)return BigInt(e);let[r,n,i]=BOe[e],o=0n;for(let s=0;s<n;s++)o|=BigInt(t.byte())<<8n*BigInt(s);if(o<i)throw t.err(`Wrong CompactSize(${8*n})`);return o}}),dd=IT(yL,wE.number),ROe=t=>dc(yL,t),ld=Ci(yL),IRt=Da({txid:Ci(32,!0),index:ni,finalScriptSig:ld,sequence:ni}),EE=Da({amount:_T,script:ld}),MRt={amount:0xffffffffffffffffn,script:Wi},Sie=dc(dd,ld),kRt=Da({version:SE,segwitFlag:AOe(new Uint8Array([0,1])),inputs:ROe(IRt),outputs:ROe(EE),witnesses:EOe("segwitFlag",dc("inputs/length",Sie)),lockTime:ni});function PRt(t){if(t.segwitFlag&&t.witnesses&&!t.witnesses.length)throw new Error("Segwit flag with empty witnesses array");return t}var Kh=tl(kRt,PRt);function mie(t){let[e,r,n,i,o,s]=t;return{type:e,kc:r,vc:n,reqInc:i,allowInc:o,silentIgnore:s}}var gL=Da({fingerprint:wOe,path:dc(null,ni)}),BRt=Da({version:kp,internalKey:Ci(32),merklePath:dc(null,Ci(32))}),_E=tl(BRt,t=>{if(t.merklePath.length>128)throw new Error("TaprootControlBlock: merklePath should be of length 0..128 (inclusive)");return t}),GOe=Da({hashes:dc(dd,Ci(32)),der:gL}),RRt=Ci(78),CRt=Da({pubKey:lL,leafHash:Ci(32)}),ORt=dc(null,Da({depth:kp,version:kp,script:ld})),Jo=Ci(null),COe=Ci(20),kT=Ci(32),Aie={unsignedTx:[0,!1,Kh,[0],[0],!1],xpub:[1,RRt,gL,[],[0,2],!1],txVersion:[2,!1,ni,[2],[2],!1],fallbackLocktime:[3,!1,ni,[],[2],!1],inputCount:[4,!1,dd,[2],[2],!1],outputCount:[5,!1,dd,[2],[2],!1],txModifiable:[6,!1,kp,[],[2],!1],version:[251,!1,ni,[],[0,2],!1],proprietary:[252,Jo,Jo,[],[0,2],!1]},dL={nonWitnessUtxo:[0,!1,Kh,[],[0,2],!1],witnessUtxo:[1,!1,EE,[],[0,2],!1],partialSig:[2,hie,Jo,[],[0,2],!1],sighashType:[3,!1,ni,[],[0,2],!1],redeemScript:[4,!1,Jo,[],[0,2],!1],witnessScript:[5,!1,Jo,[],[0,2],!1],bip32Derivation:[6,hie,gL,[],[0,2],!1],finalScriptSig:[7,!1,Jo,[],[0,2],!1],finalScriptWitness:[8,!1,Sie,[],[0,2],!1],porCommitment:[9,!1,Jo,[],[0,2],!1],ripemd160:[10,COe,Jo,[],[0,2],!1],sha256:[11,kT,Jo,[],[0,2],!1],hash160:[12,COe,Jo,[],[0,2],!1],hash256:[13,kT,Jo,[],[0,2],!1],txid:[14,!1,kT,[2],[2],!0],index:[15,!1,ni,[2],[2],!0],sequence:[16,!1,ni,[],[2],!0],requiredTimeLocktime:[17,!1,ni,[],[2],!1],requiredHeightLocktime:[18,!1,ni,[],[2],!1],tapKeySig:[19,!1,POe,[],[0,2],!1],tapScriptSig:[20,CRt,POe,[],[0,2],!1],tapLeafScript:[21,_E,Jo,[],[0,2],!1],tapBip32Derivation:[22,kT,GOe,[],[0,2],!1],tapInternalKey:[23,!1,lL,[],[0,2],!1],tapMerkleRoot:[24,!1,kT,[],[0,2],!1],proprietary:[252,Jo,Jo,[],[0,2],!1]},NRt=["txid","sequence","index","witnessUtxo","nonWitnessUtxo","finalScriptSig","finalScriptWitness","unknown"],DRt=["partialSig","finalScriptSig","finalScriptWitness","tapKeySig","tapScriptSig"],hL={redeemScript:[0,!1,Jo,[],[0,2],!1],witnessScript:[1,!1,Jo,[],[0,2],!1],bip32Derivation:[2,hie,gL,[],[0,2],!1],amount:[3,!1,xOe,[2],[2],!0],script:[4,!1,Jo,[2],[2],!0],tapInternalKey:[5,!1,lL,[],[0,2],!1],tapTree:[6,!1,ORt,[],[0,2],!1],tapBip32Derivation:[7,lL,GOe,[],[0,2],!1],proprietary:[252,Jo,Jo,[],[0,2],!1]},URt=[],OOe=dc(oL,Da({key:IOe(dd,Da({type:dd,key:Ci(null)})),value:Ci(dd)})),mwn=Da({type:dd,key:Ci(null)});function Eie(t){let e={};for(let r in t){let[n,i,o]=t[r];e[n]=[r,i,o]}return Yo({encodeStream:(r,n)=>{let i=[];for(let o in t){let s=n[o];if(s===void 0)continue;let[c,l,m]=t[o];if(!l)i.push({key:{type:c,key:Wi},value:m.encode(s)});else{let w=s.map(([b,E])=>[l.encode(b),m.encode(E)]);w.sort((b,E)=>pie(b[0],E[0]));for(let[b,E]of w)i.push({key:{key:b,type:c},value:E})}}if(n.unknown){n.unknown.sort((o,s)=>pie(o[0].key,s[0].key));for(let[o,s]of n.unknown)i.push({key:o,value:s})}OOe.encodeStream(r,i)},decodeStream:r=>{let n=OOe.decodeStream(r),i={},o={};for(let s of n){let c="unknown",l=s.key.key,m=s.value;if(e[s.key.type]){let[w,b,E]=e[s.key.type];if(c=w,!b&&l.length)throw new Error(`PSBT: Non-empty key for ${c} (key=${zi.encode(l)} value=${zi.encode(m)}`);if(l=b?b.decode(l):void 0,m=E.decode(m),!b){if(i[c])throw new Error(`PSBT: Same keys: ${c} (key=${l} value=${m})`);i[c]=m,o[c]=!0;continue}}else l={type:s.key.type,key:s.key.key};if(o[c])throw new Error(`PSBT: Key type with empty key and no key=${c} val=${m}`);i[c]||(i[c]=[]),i[c].push([l,m])}return i}})}function NOe(t,e){if(!xi(t.hash,gs(e)))throw new Error("checkScript: wsh wrong witnessScript hash");let r=Xo.decode(e);if(r.type==="tr"||r.type==="tr_ns"||r.type==="tr_ms")throw new Error(`checkScript: P2${r.type} cannot be wrapped in P2SH`);if(r.type==="wpkh"||r.type==="sh")throw new Error(`checkScript: P2${r.type} cannot be wrapped in P2WSH`)}function yie(t,e,r){if(t){let n=Xo.decode(t);if(n.type==="tr_ns"||n.type==="tr_ms"||n.type==="ms"||n.type=="pk")throw new Error(`checkScript: non-wrapped ${n.type}`);if(n.type==="sh"&&e){if(!xi(n.hash,mL(e)))throw new Error("checkScript: sh wrong redeemScript hash");let i=Xo.decode(e);if(i.type==="tr"||i.type==="tr_ns"||i.type==="tr_ms")throw new Error(`checkScript: P2${i.type} cannot be wrapped in P2SH`);if(i.type==="sh")throw new Error("checkScript: P2SH cannot be wrapped in P2SH")}n.type==="wsh"&&r&&NOe(n,r)}if(e){let n=Xo.decode(e);n.type==="wsh"&&r&&NOe(n,r)}}var _ie=tl(Eie(dL),t=>{if(t.finalScriptWitness&&!t.finalScriptWitness.length)throw new Error("validateInput: wmpty finalScriptWitness");if(t.partialSig&&!t.partialSig.length)throw new Error("Empty partialSig");if(t.partialSig)for(let[e]of t.partialSig)TE(e,Ua.ecdsa);if(t.bip32Derivation)for(let[e]of t.bip32Derivation)TE(e,Ua.ecdsa);if(t.requiredTimeLocktime!==void 0&&t.requiredTimeLocktime<5e8)throw new Error(`validateInput: wrong timeLocktime=${t.requiredTimeLocktime}`);if(t.requiredHeightLocktime!==void 0&&(t.requiredHeightLocktime<=0||t.requiredHeightLocktime>=5e8))throw new Error(`validateInput: wrong heighLocktime=${t.requiredHeightLocktime}`);if(t.nonWitnessUtxo&&t.index!==void 0){let e=t.nonWitnessUtxo.outputs.length-1;if(t.index>e)throw new Error(`validateInput: index(${t.index}) not in nonWitnessUtxo`);let r=t.nonWitnessUtxo.outputs[t.index];if(t.witnessUtxo&&(!xi(t.witnessUtxo.script,r.script)||t.witnessUtxo.amount!==r.amount))throw new Error("validateInput: witnessUtxo different from nonWitnessUtxo")}if(t.tapLeafScript)for(let[e,r]of t.tapLeafScript){if((e.version&254)!==r[r.length-1])throw new Error("validateInput: tapLeafScript version mimatch");if(r[r.length-1]&1)throw new Error("validateInput: tapLeafScript version has parity bit!")}if(t.nonWitnessUtxo&&t.index&&t.txid){if(t.nonWitnessUtxo.outputs.length-1<t.index)throw new Error("nonWitnessUtxo: incorect output index");let r=px.fromRaw(Kh.encode(t.nonWitnessUtxo)),n=zi.encode(t.txid);if(r.id!==n)throw new Error(`nonWitnessUtxo: wrong txid, exp=${n} got=${r.id}`)}return t}),Tie=tl(Eie(hL),t=>{if(t.bip32Derivation)for(let[e]of t.bip32Derivation)TE(e,Ua.ecdsa);return t}),$Oe=tl(Eie(Aie),t=>{if((t.version||0)===0){if(!t.unsignedTx)throw new Error("PSBTv0: missing unsignedTx");if(t.unsignedTx.segwitFlag||t.unsignedTx.witnesses)throw new Error("PSBTv0: witness in unsingedTx");for(let r of t.unsignedTx.inputs)if(r.finalScriptSig&&r.finalScriptSig.length)throw new Error("PSBTv0: input scriptSig found in unsignedTx")}return t}),LRt=Da({magic:MT(TT(new Uint8Array([255])),"psbt"),global:$Oe,inputs:dc("global/unsignedTx/inputs/length",_ie),outputs:dc(null,Tie)}),FRt=Da({magic:MT(TT(new Uint8Array([255])),"psbt"),global:$Oe,inputs:dc("global/inputCount",_ie),outputs:dc("global/outputCount",Tie)}),ywn=Da({magic:MT(TT(new Uint8Array([255])),"psbt"),items:dc(null,IT(dc(oL,TOe([SOe(dd),Ci(yL)])),wE.dict()))});function uie(t,e,r){for(let n in r){if(n==="unknown"||!e[n])continue;let{allowInc:i}=mie(e[n]);if(!i.includes(t))throw new Error(`PSBTv${t}: field ${n} is not allowed`)}for(let n in e){let{reqInc:i}=mie(e[n]);if(i.includes(t)&&r[n]===void 0)throw new Error(`PSBTv${t}: missing required field ${n}`)}}function DOe(t,e,r){let n={};for(let i in r){let o=i;if(o!=="unknown"){if(!e[o])continue;let{allowInc:s,silentIgnore:c}=mie(e[o]);if(!s.includes(t)){if(c)continue;throw new Error(`Failed to serialize in PSBTv${t}: ${o} but versions allows inclusion=${s}`)}}n[o]=r[o]}return n}function YOe(t){let e=t&&t.global&&t.global.version||0;uie(e,Aie,t.global);for(let s of t.inputs)uie(e,dL,s);for(let s of t.outputs)uie(e,hL,s);let r=e?t.global.inputCount:t.global.unsignedTx.inputs.length;if(t.inputs.length<r)throw new Error("Not enough inputs");let n=t.inputs.slice(r);if(n.length>1||n.length&&Object.keys(n[0]).length)throw new Error(`Unexpected inputs left in tx=${n}`);let i=e?t.global.outputCount:t.global.unsignedTx.outputs.length;if(t.outputs.length<i)throw new Error("Not outputs inputs");let o=t.outputs.slice(i);if(o.length>1||o.length&&Object.keys(o[0]).length)throw new Error(`Unexpected outputs left in tx=${o}`);return t}function fie(t,e,r,n){let i={...r,...e};for(let o in t){let s=o,[c,l,m]=t[s],w=n&&!n.includes(o);if(e[o]===void 0&&o in e){if(w)throw new Error(`Cannot remove signed field=${o}`);delete i[o]}else if(l){let b=r&&r[o]?r[o]:[],E=e[s];if(E){if(!Array.isArray(E))throw new Error(`keyMap(${o}): KV pairs should be [k, v][]`);E=E.map(k=>{if(k.length!==2)throw new Error(`keyMap(${o}): KV pairs should be [k, v][]`);return[typeof k[0]=="string"?l.decode(zi.decode(k[0])):k[0],typeof k[1]=="string"?m.decode(zi.decode(k[1])):k[1]]});let I={},M=(k,R,B)=>{if(I[k]===void 0){I[k]=[R,B];return}let U=zi.encode(m.encode(I[k][1])),P=zi.encode(m.encode(B));if(U!==P)throw new Error(`keyMap(${s}): same key=${k} oldVal=${U} newVal=${P}`)};for(let[k,R]of b){let B=zi.encode(l.encode(k));M(B,k,R)}for(let[k,R]of E){let B=zi.encode(l.encode(k));if(R===void 0){if(w)throw new Error(`Cannot remove signed field=${s}/${k}`);delete I[B]}else M(B,k,R)}i[s]=Object.values(I)}}else if(typeof i[o]=="string")i[o]=m.decode(zi.decode(i[o]));else if(w&&o in e&&r&&r[o]!==void 0&&!xi(m.encode(e[o]),m.encode(r[o])))throw new Error(`Cannot change signed field=${o}`)}for(let o in i)t[o]||delete i[o];return i}var UOe=tl(LRt,YOe),LOe=tl(FRt,YOe),lie=Da({txid:Ci(32,!0),index:ni}),VRt={encode(t){if(!(t.length!==2||!Ni(t[0])||!hx(t[0],Ua.ecdsa)||t[1]!=="CHECKSIG"))return{type:"pk",pubkey:t[0]}},decode:t=>t.type==="pk"?[t.pubkey,"CHECKSIG"]:void 0};var qRt={encode(t){if(!(t.length!==5||t[0]!=="DUP"||t[1]!=="HASH160"||!Ni(t[2]))&&!(t[3]!=="EQUALVERIFY"||t[4]!=="CHECKSIG"))return{type:"pkh",hash:t[2]}},decode:t=>t.type==="pkh"?["DUP","HASH160",t.hash,"EQUALVERIFY","CHECKSIG"]:void 0};var KRt={encode(t){if(!(t.length!==3||t[0]!=="HASH160"||!Ni(t[1])||t[2]!=="EQUAL"))return{type:"sh",hash:t[1]}},decode:t=>t.type==="sh"?["HASH160",t.hash,"EQUAL"]:void 0},ZOe=(t,e=jg)=>{let r=t.script;if(!Ni(r))throw new Error(`Wrong script: ${typeof t.script}, expected Uint8Array`);let n=mL(r),i=Xo.encode({type:"sh",hash:n});yie(i,r,t.witnessScript);let o={type:"sh",redeemScript:r,script:Xo.encode({type:"sh",hash:n}),address:bL(e).encode({type:"sh",hash:n})};return t.witnessScript&&(o.witnessScript=t.witnessScript),o},HRt={encode(t){if(!(t.length!==2||t[0]!==0||!Ni(t[1]))&&t[1].length===32)return{type:"wsh",hash:t[1]}},decode:t=>t.type==="wsh"?[0,t.hash]:void 0};var jRt={encode(t){if(!(t.length!==2||t[0]!==0||!Ni(t[1]))&&t[1].length===20)return{type:"wpkh",hash:t[1]}},decode:t=>t.type==="wpkh"?[0,t.hash]:void 0},Iie=(t,e=jg)=>{if(!hx(t,Ua.ecdsa))throw new Error("P2WPKH: invalid publicKey");if(t.length===65)throw new Error("P2WPKH: uncompressed public key");let r=mL(t);return{type:"wpkh",script:Xo.encode({type:"wpkh",hash:r}),address:bL(e).encode({type:"wpkh",hash:r})}},zRt={encode(t){let e=t.length-1;if(t[e]!=="CHECKMULTISIG")return;let r=t[0],n=t[e-1];if(typeof r!="number"||typeof n!="number")return;let i=t.slice(1,-2);if(n===i.length){for(let o of i)if(!Ni(o))return;return{type:"ms",m:r,pubkeys:i}}},decode:t=>t.type==="ms"?[t.m,...t.pubkeys,t.pubkeys.length,"CHECKMULTISIG"]:void 0};var WRt={encode(t){if(!(t.length!==2||t[0]!==1||!Ni(t[1])))return{type:"tr",pubkey:t[1]}},decode:t=>t.type==="tr"?[1,t.pubkey]:void 0};function GRt(t){let e=Array.from(t);for(;e.length>=2;){e.sort((s,c)=>(c.weight||1)-(s.weight||1));let n=e.pop(),i=e.pop(),o=(i?.weight||1)+(n?.weight||1);e.push({weight:o,childs:[i?.childs||i,n?.childs||n]})}let r=e[0];return r?.childs||r}function $Rt(t,e,r=!1){let n=Xo.decode(t);if(n.type==="unknown"&&r)return;if(!["tr_ns","tr_ms"].includes(n.type))throw new Error(`P2TR: invalid leaf script=${n.type}`);let i=n;if(!r&&i.pubkeys)for(let o of i.pubkeys){if(xi(o,QOe))throw new Error("Unspendable taproot key in leaf script");if(xi(o,e))throw new Error("Using P2TR with leaf script with same key as internal key is not supported")}}function gie(t,e,r=!1){if(!t)throw new Error("taprootHashTree: empty tree");if(Array.isArray(t)&&t.length===1&&(t=t[0]),!Array.isArray(t)){let{leafVersion:c,script:l}=t;if(t.tapLeafScript||t.tapMerkleRoot&&!xi(t.tapMerkleRoot,Wi))throw new Error("P2TR: tapRoot leafScript cannot have tree");let m=typeof l=="string"?zi.decode(l):l;if(!Ni(m))throw new Error(`checkScript: wrong script type=${m}`);return $Rt(m,e,r),{type:"leaf",version:c,script:m,hash:cL(m,c)}}if(t.length!==2&&(t=GRt(t)),t.length!==2)throw new Error("hashTree: non binary tree!");let n=gie(t[0],e,r),i=gie(t[1],e,r),[o,s]=[n.hash,i.hash];return pie(s,o)===-1&&([o,s]=[s,o]),{type:"branch",left:n,right:i,hash:Lu.utils.taggedHash("TapBranch",o,s)}}function bie(t,e=[]){if(!t)throw new Error("taprootAddPath: empty tree");if(t.type==="leaf")return{...t,path:e};if(t.type!=="branch")throw new Error(`taprootAddPath: wrong type=${t}`);return{...t,path:e,left:bie(t.left,[t.right.hash,...e]),right:bie(t.right,[t.left.hash,...e])}}function vie(t){if(!t)throw new Error("taprootAddPath: empty tree");if(t.type==="leaf")return[t];if(t.type!=="branch")throw new Error(`taprootWalkTree: wrong type=${t}`);return[...vie(t.left),...vie(t.right)]}var QOe=gs(pL.BASE.toRawBytes(!1));function JOe(t,e,r=jg,n=!1){if(!t&&!e)throw new Error("p2tr: should have pubKey or scriptTree (or both)");let i=typeof t=="string"?zi.decode(t):t||QOe;if(!hx(i,Ua.schnorr))throw new Error("p2tr: non-schnorr pubkey");let o=e?bie(gie(e,i,n)):void 0,s=o?o.hash:void 0,[c,l]=jOe(i,s||Wi),m;o&&(m=vie(o).map(E=>({...E,controlBlock:_E.encode({version:(E.version||wie)+l,internalKey:i,merklePath:E.path})})));let w;m&&(w=m.map(E=>[_E.decode(E.controlBlock),Hg(E.script,new Uint8Array([E.version||wie]))]));let b={type:"tr",script:Xo.encode({type:"tr",pubkey:c}),address:bL(r).encode({type:"tr",pubkey:c}),tweakedPubkey:c,tapInternalKey:i};return m&&(b.leaves=m),w&&(b.tapLeafScript=w),s&&(b.tapMerkleRoot=s),b}var YRt={encode(t){let e=t.length-1;if(t[e]!=="CHECKSIG")return;let r=[];for(let n=0;n<e;n++){let i=t[n];if(n&1){if(i!=="CHECKSIGVERIFY"||n===e-1)return;continue}if(!Ni(i))return;r.push(i)}return{type:"tr_ns",pubkeys:r}},decode:t=>{if(t.type!=="tr_ns")return;let e=[];for(let r=0;r<t.pubkeys.length-1;r++)e.push(t.pubkeys[r],"CHECKSIGVERIFY");return e.push(t.pubkeys[t.pubkeys.length-1],"CHECKSIG"),e}};var ZRt={encode(t){let e=t.length-1;if(t[e]!=="NUMEQUAL"||t[1]!=="CHECKSIG")return;let r=[],n=TRt(t[e-1]);if(typeof n=="number"){for(let i=0;i<e-1;i++){let o=t[i];if(i&1){if(o!==(i===1?"CHECKSIG":"CHECKSIGADD"))throw new Error("OutScript.encode/tr_ms: wrong element");continue}if(!Ni(o))throw new Error("OutScript.encode/tr_ms: wrong key element");r.push(o)}return{type:"tr_ms",pubkeys:r,m:n}}},decode:t=>{if(t.type!=="tr_ms")return;let e=[t.pubkeys[0],"CHECKSIG"];for(let r=1;r<t.pubkeys.length;r++)e.push(t.pubkeys[r],"CHECKSIGADD");return e.push(t.m,"NUMEQUAL"),e}};var QRt={encode(t){return{type:"unknown",script:Qo.encode(t)}},decode:t=>t.type==="unknown"?Qo.decode(t.script):void 0},JRt=[VRt,qRt,KRt,HRt,jRt,zRt,WRt,YRt,ZRt,QRt],XRt=IT(Qo,wE.match(JRt)),Xo=tl(XRt,t=>{if(t.type==="pk"&&!hx(t.pubkey,Ua.ecdsa))throw new Error("OutScript/pk: wrong key");if((t.type==="pkh"||t.type==="sh"||t.type==="wpkh")&&(!Ni(t.hash)||t.hash.length!==20))throw new Error(`OutScript/${t.type}: wrong hash`);if(t.type==="wsh"&&(!Ni(t.hash)||t.hash.length!==32))throw new Error("OutScript/wsh: wrong hash");if(t.type==="tr"&&(!Ni(t.pubkey)||!hx(t.pubkey,Ua.schnorr)))throw new Error("OutScript/tr: wrong taproot public key");if((t.type==="ms"||t.type==="tr_ns"||t.type==="tr_ms")&&!Array.isArray(t.pubkeys))throw new Error("OutScript/multisig: wrong pubkeys array");if(t.type==="ms"){let e=t.pubkeys.length;for(let r of t.pubkeys)if(!hx(r,Ua.ecdsa))throw new Error("OutScript/multisig: wrong pubkey");if(t.m<=0||e>16||t.m>e)throw new Error("OutScript/multisig: invalid params")}if(t.type==="tr_ns"||t.type==="tr_ms"){for(let e of t.pubkeys)if(!hx(e,Ua.schnorr))throw new Error(`OutScript/${t.type}: wrong pubkey`)}if(t.type==="tr_ms"){let e=t.pubkeys.length;if(t.m<=0||e>999||t.m>e)throw new Error("OutScript/tr_ms: invalid params")}return t});function XOe(t,e){if(e.length<2||e.length>40)throw new Error("Witness: invalid length");if(t>16)throw new Error("Witness: invalid version");if(t===0&&!(e.length===20||e.length===32))throw new Error("Witness: invalid length for version")}function die(t,e,r=jg){XOe(t,e);let n=t===0?XU:sie;return n.encode(r.bech32,[t].concat(n.toWords(e)))}function FOe(t,e){return KOe.encode(Hg(Uint8Array.from(e),t))}function bL(t=jg){return{encode(e){let{type:r}=e;if(r==="wpkh")return die(0,e.hash,t);if(r==="wsh")return die(0,e.hash,t);if(r==="tr")return die(1,e.pubkey,t);if(r==="pkh")return FOe(e.hash,[t.pubKeyHash]);if(r==="sh")return FOe(e.hash,[t.scriptHash]);throw new Error(`Unknown address type=${r}`)},decode(e){if(e.length<14||e.length>74)throw new Error("Invalid address length");if(t.bech32&&e.toLowerCase().startsWith(t.bech32)){let n;try{if(n=XU.decode(e),n.words[0]!==0)throw new Error(`bech32: wrong version=${n.words[0]}`)}catch{if(n=sie.decode(e),n.words[0]===0)throw new Error(`bech32m: wrong version=${n.words[0]}`)}if(n.prefix!==t.bech32)throw new Error(`wrong bech32 prefix=${n.prefix}`);let[i,...o]=n.words,s=XU.fromWords(o);if(XOe(i,s),i===0&&s.length===32)return{type:"wsh",hash:s};if(i===0&&s.length===20)return{type:"wpkh",hash:s};if(i===1&&s.length===32)return{type:"tr",pubkey:s};throw new Error("Unknown witness program")}let r=KOe.decode(e);if(r.length!==21)throw new Error("Invalid base58 address");if(r[0]===t.pubKeyHash)return{type:"pkh",hash:r.slice(1)};if(r[0]===t.scriptHash)return{type:"sh",hash:r.slice(1)};throw new Error(`Invalid address prefix=${r[0]}`)}}}var Oi;(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.ALL=1]="ALL",t[t.NONE=2]="NONE",t[t.SINGLE=3]="SINGLE",t[t.ANYONECANPAY=128]="ANYONECANPAY"})(Oi||(Oi={}));var xie;(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.ALL=1]="ALL",t[t.NONE=2]="NONE",t[t.SINGLE=3]="SINGLE",t[t.DEFAULT_ANYONECANPAY=128]="DEFAULT_ANYONECANPAY",t[t.ALL_ANYONECANPAY=129]="ALL_ANYONECANPAY",t[t.NONE_ANYONECANPAY=130]="NONE_ANYONECANPAY",t[t.SINGLE_ANYONECANPAY=131]="SINGLE_ANYONECANPAY"})(xie||(xie={}));function eCt(t){if(typeof t!="number"||typeof xie[t]!="string")throw new Error(`Invalid SigHash=${t}`);return t}function VOe(t){let e=t&31;return{isAny:!!(t&Oi.ANYONECANPAY),isNone:e===Oi.NONE,isSingle:e===Oi.SINGLE}}function aL(t){if(t.txid===void 0||t.index===void 0)throw new Error("Transaction/input: txid and index required");return{txid:t.txid,index:t.index,sequence:PT(t.sequence,zOe),finalScriptSig:PT(t.finalScriptSig,Wi)}}function qOe(t){for(let e in t){let r=e;NRt.includes(r)||delete t[r]}}function AE(t){if(t.script===void 0||t.amount===void 0)throw new Error("Transaction/output: script and amount required");return{script:t.script,amount:t.amount}}var wie=192,cL=(t,e=wie)=>Lu.utils.taggedHash("TapLeaf",new Uint8Array([e]),ld.encode(t));function tCt(t,e,r,n=Wi){return xi(r,e)&&(t=ARt(t,n),e=Lu.getPublicKey(t)),{privKey:t,pubKey:e}}var rCt={}.toString;function nCt(t){if(t!==void 0&&rCt.call(t)!=="[object Object]")throw new Error(`Wrong object type for transaction options: ${t}`);let e={...t,version:PT(t.version,_Rt),lockTime:PT(t.lockTime,0),PSBTVersion:PT(t.PSBTVersion,0)};if(typeof e.allowUnknowInput<"u"&&(t.allowUnknownInputs=e.allowUnknowInput),typeof e.allowUnknowOutput<"u"&&(t.allowUnknownOutputs=e.allowUnknowOutput),![-1,0,1,2].includes(e.version))throw new Error(`Unknown version: ${e.version}`);if(typeof e.lockTime!="number")throw new Error("Transaction lock time should be number");if(ni.encode(e.lockTime),e.PSBTVersion!==0&&e.PSBTVersion!==2)throw new Error(`Unknown PSBT version ${e.PSBTVersion}`);for(let r of["allowUnknownOutputs","allowUnknownInputs","disableScriptCheck","bip174jsCompat","allowLegacyWitnessUtxo","lowR"]){let n=e[r];if(n!==void 0&&typeof n!="boolean")throw new Error(`Transation options wrong type: ${r}=${n} (${typeof n})`)}return Object.freeze(e)}var px=class t{constructor(e={}){this.global={},this.inputs=[],this.outputs=[];let r=this.opts=nCt(e);r.lockTime!==dx&&(this.global.fallbackLocktime=r.lockTime),this.global.txVersion=r.version}static fromRaw(e,r={}){let n=Kh.decode(e),i=new t({...r,version:n.version,lockTime:n.lockTime});for(let o of n.outputs)i.addOutput(o);if(i.outputs=n.outputs,i.inputs=n.inputs,n.witnesses)for(let o=0;o<n.witnesses.length;o++)i.inputs[o].finalScriptWitness=n.witnesses[o];return i}static fromPSBT(e,r={}){let n;try{n=UOe.decode(e)}catch(b){try{n=LOe.decode(e)}catch{throw b}}let i=n.global.version||0;if(i!==0&&i!==2)throw new Error(`Wrong PSBT version=${i}`);let o=n.global.unsignedTx,s=i===0?o?.version:n.global.txVersion,c=i===0?o?.lockTime:n.global.fallbackLocktime,l=new t({...r,version:s,lockTime:c,PSBTVersion:i}),m=i===0?o?.inputs.length:n.global.inputCount;l.inputs=n.inputs.slice(0,m).map((b,E)=>({finalScriptSig:Wi,...n.global.unsignedTx?.inputs[E],...b}));let w=i===0?o?.outputs.length:n.global.outputCount;return l.outputs=n.outputs.slice(0,w).map((b,E)=>({...b,...n.global.unsignedTx?.outputs[E]})),l.global={...n.global,txVersion:s},c!==dx&&(l.global.fallbackLocktime=c),l}toPSBT(e=this.opts.PSBTVersion){if(e!==0&&e!==2)throw new Error(`Wrong PSBT version=${e}`);let r=this.inputs.map(o=>DOe(e,dL,o));for(let o of r)o.partialSig&&!o.partialSig.length&&delete o.partialSig,o.finalScriptSig&&!o.finalScriptSig.length&&delete o.finalScriptSig,o.finalScriptWitness&&!o.finalScriptWitness.length&&delete o.finalScriptWitness;let n=this.outputs.map(o=>DOe(e,hL,o)),i={...this.global};return e===0?(i.unsignedTx=Kh.decode(this.unsignedTx),delete i.fallbackLocktime,delete i.txVersion):(i.version=e,i.txVersion=this.version,i.inputCount=this.inputs.length,i.outputCount=this.outputs.length,i.fallbackLocktime&&i.fallbackLocktime===dx&&delete i.fallbackLocktime),this.opts.bip174jsCompat&&(r.length||r.push({}),n.length||n.push({})),(e===0?UOe:LOe).encode({global:i,inputs:r,outputs:n})}get lockTime(){let e=dx,r=0,n=dx,i=0;for(let o of this.inputs)o.requiredHeightLocktime&&(e=Math.max(e,o.requiredHeightLocktime),r++),o.requiredTimeLocktime&&(n=Math.max(n,o.requiredTimeLocktime),i++);return r&&r>=i?e:n!==dx?n:this.global.fallbackLocktime||dx}get version(){if(this.global.txVersion===void 0)throw new Error("No global.txVersion");return this.global.txVersion}inputStatus(e){this.checkInputIdx(e);let r=this.inputs[e];return r.finalScriptSig&&r.finalScriptSig.length||r.finalScriptWitness&&r.finalScriptWitness.length?"finalized":r.tapKeySig||r.tapScriptSig&&r.tapScriptSig.length||r.partialSig&&r.partialSig.length?"signed":"unsigned"}inputSighash(e){this.checkInputIdx(e);let r=this.inputType(this.inputs[e]).sighash,n=r===Oi.DEFAULT?Oi.ALL:r&3;return{sigInputs:r&Oi.ANYONECANPAY,sigOutputs:n}}signStatus(){let e=!0,r=!0,n=[],i=[];for(let o=0;o<this.inputs.length;o++){if(this.inputStatus(o)==="unsigned")continue;let{sigInputs:c,sigOutputs:l}=this.inputSighash(o);if(c===Oi.ANYONECANPAY?n.push(o):e=!1,l===Oi.ALL)r=!1;else if(l===Oi.SINGLE)i.push(o);else if(l!==Oi.NONE)throw new Error(`Wrong signature hash output type: ${l}`)}return{addInput:e,addOutput:r,inputs:n,outputs:i}}get isFinal(){for(let e=0;e<this.inputs.length;e++)if(this.inputStatus(e)!=="finalized")return!1;return!0}get hasWitnesses(){let e=!1;for(let r of this.inputs)r.finalScriptWitness&&r.finalScriptWitness.length&&(e=!0);return e}get weight(){if(!this.isFinal)throw new Error("Transaction is not finalized");let e=32,r=this.outputs.map(AE);this.hasWitnesses&&(e+=2),e+=4*dd.encode(this.inputs.length).length,e+=4*dd.encode(this.outputs.length).length;for(let n of this.inputs)e+=160+4*ld.encode(n.finalScriptSig||Wi).length;for(let n of r)e+=32+4*ld.encode(n.script).length;if(this.hasWitnesses)for(let n of this.inputs)n.finalScriptWitness&&(e+=Sie.encode(n.finalScriptWitness).length);return e}get vsize(){return Math.ceil(this.weight/4)}toBytes(e=!1,r=!1){return Kh.encode({version:this.version,lockTime:this.lockTime,inputs:this.inputs.map(aL).map(n=>({...n,finalScriptSig:e&&n.finalScriptSig||Wi})),outputs:this.outputs.map(AE),witnesses:this.inputs.map(n=>n.finalScriptWitness||[]),segwitFlag:r&&this.hasWitnesses})}get unsignedTx(){return this.toBytes(!1,!1)}get hex(){return zi.encode(this.toBytes(!0,this.hasWitnesses))}get hash(){if(!this.isFinal)throw new Error("Transaction is not finalized");return zi.encode(Kg(this.toBytes(!0)))}get id(){if(!this.isFinal)throw new Error("Transaction is not finalized");return zi.encode(Kg(this.toBytes(!0)).reverse())}checkInputIdx(e){if(!Number.isSafeInteger(e)||0>e||e>=this.inputs.length)throw new Error(`Wrong input index=${e}`)}getInput(e){return this.checkInputIdx(e),fL(this.inputs[e])}get inputsLength(){return this.inputs.length}normalizeInput(e,r,n){let{nonWitnessUtxo:i,txid:o}=e;typeof i=="string"&&(i=zi.decode(i)),Ni(i)&&(i=Kh.decode(i)),i===void 0&&(i=r?.nonWitnessUtxo),typeof o=="string"&&(o=zi.decode(o)),o===void 0&&(o=r?.txid);let s={...r,...e,nonWitnessUtxo:i,txid:o};s.nonWitnessUtxo===void 0&&delete s.nonWitnessUtxo,s.sequence===void 0&&(s.sequence=zOe),s.tapMerkleRoot===null&&delete s.tapMerkleRoot,s=fie(dL,s,r,n),_ie.encode(s);let c;return s.nonWitnessUtxo&&s.index!==void 0?c=s.nonWitnessUtxo.outputs[s.index]:s.witnessUtxo&&(c=s.witnessUtxo),c&&!this.opts.disableScriptCheck&&yie(c&&c.script,s.redeemScript,s.witnessScript),s}addInput(e,r=!1){if(!r&&!this.signStatus().addInput)throw new Error("Tx has signed inputs, cannot add new one");return this.inputs.push(this.normalizeInput(e)),this.inputs.length-1}updateInput(e,r,n=!1){this.checkInputIdx(e);let i;if(!n){let o=this.signStatus();(!o.addInput||o.inputs.includes(e))&&(i=DRt)}this.inputs[e]=this.normalizeInput(r,this.inputs[e],i)}checkOutputIdx(e){if(!Number.isSafeInteger(e)||0>e||e>=this.outputs.length)throw new Error(`Wrong output index=${e}`)}getOutput(e){return this.checkOutputIdx(e),fL(this.outputs[e])}get outputsLength(){return this.outputs.length}normalizeOutput(e,r,n){let{amount:i,script:o}=e;if(i===void 0&&(i=r?.amount),typeof i!="bigint")throw new Error("amount must be bigint sats");typeof o=="string"&&(o=zi.decode(o)),o===void 0&&(o=r?.script);let s={...r,...e,amount:i,script:o};if(s.amount===void 0&&delete s.amount,s=fie(hL,s,r,n),Tie.encode(s),s.script&&!this.opts.allowUnknownOutputs&&Xo.decode(s.script).type==="unknown")throw new Error("Transaction/output: unknown output script type, there is a chance that input is unspendable. Pass allowUnknownScript=true, if you sure");return this.opts.disableScriptCheck||yie(s.script,s.redeemScript,s.witnessScript),s}addOutput(e,r=!1){if(!r&&!this.signStatus().addOutput)throw new Error("Tx has signed outputs, cannot add new one");return this.outputs.push(this.normalizeOutput(e)),this.outputs.length-1}updateOutput(e,r,n=!1){this.checkOutputIdx(e);let i;if(!n){let o=this.signStatus();(!o.addOutput||o.outputs.includes(e))&&(i=URt)}this.outputs[e]=this.normalizeOutput(r,this.outputs[e],i)}addOutputAddress(e,r,n=jg){return this.addOutput({script:Xo.encode(bL(n).decode(e)),amount:r})}get fee(){let e=0n;for(let n of this.inputs){let i=this.prevOut(n);if(!i)throw new Error("Empty input amount");e+=i.amount}let r=this.outputs.map(AE);for(let n of r)e-=n.amount;return e}preimageLegacy(e,r,n){let{isAny:i,isNone:o,isSingle:s}=VOe(n);if(e<0||!Number.isSafeInteger(e))throw new Error(`Invalid input idx=${e}`);if(s&&e>=this.outputs.length||e>=this.inputs.length)return vOe.encode(1n);r=Qo.encode(Qo.decode(r).filter(w=>w!=="CODESEPARATOR"));let c=this.inputs.map(aL).map((w,b)=>({...w,finalScriptSig:b===e?r:Wi}));i?c=[c[e]]:(o||s)&&(c=c.map((w,b)=>({...w,sequence:b===e?w.sequence:0})));let l=this.outputs.map(AE);o?l=[]:s&&(l=l.slice(0,e).fill(MRt).concat([l[e]]));let m=Kh.encode({lockTime:this.lockTime,version:this.version,segwitFlag:!1,inputs:c,outputs:l});return Kg(m,SE.encode(n))}preimageWitnessV0(e,r,n,i){let{isAny:o,isNone:s,isSingle:c}=VOe(n),l=sL,m=sL,w=sL,b=this.inputs.map(aL),E=this.outputs.map(AE);o||(l=Kg(...b.map(lie.encode))),!o&&!c&&!s&&(m=Kg(...b.map(M=>ni.encode(M.sequence)))),!c&&!s?w=Kg(...E.map(EE.encode)):c&&e<E.length&&(w=Kg(EE.encode(E[e])));let I=b[e];return Kg(SE.encode(this.version),l,m,Ci(32,!0).encode(I.txid),ni.encode(I.index),ld.encode(r),_T.encode(i),ni.encode(I.sequence),w,ni.encode(this.lockTime),ni.encode(n))}preimageWitnessV1(e,r,n,i,o=-1,s,c=192,l){if(!Array.isArray(i)||this.inputs.length!==i.length)throw new Error(`Invalid amounts array=${i}`);if(!Array.isArray(r)||this.inputs.length!==r.length)throw new Error(`Invalid prevOutScript array=${r}`);let m=[kp.encode(0),kp.encode(n),SE.encode(this.version),ni.encode(this.lockTime)],w=n===Oi.DEFAULT?Oi.ALL:n&3,b=n&Oi.ANYONECANPAY,E=this.inputs.map(aL),I=this.outputs.map(AE);b!==Oi.ANYONECANPAY&&m.push(...[E.map(lie.encode),i.map(_T.encode),r.map(ld.encode),E.map(k=>ni.encode(k.sequence))].map(k=>gs(Hg(...k)))),w===Oi.ALL&&m.push(gs(Hg(...I.map(EE.encode))));let M=(l?1:0)|(s?2:0);if(m.push(new Uint8Array([M])),b===Oi.ANYONECANPAY){let k=E[e];m.push(lie.encode(k),_T.encode(i[e]),ld.encode(r[e]),ni.encode(k.sequence))}else m.push(ni.encode(e));return M&1&&m.push(gs(ld.encode(l||Wi))),w===Oi.SINGLE&&m.push(e<I.length?gs(EE.encode(I[e])):sL),s&&m.push(cL(s,c),kp.encode(0),SE.encode(o)),Lu.utils.taggedHash("TapSighash",...m)}prevOut(e){if(e.nonWitnessUtxo){if(e.index===void 0)throw new Error("Unknown input index");return e.nonWitnessUtxo.outputs[e.index]}else{if(e.witnessUtxo)return e.witnessUtxo;throw new Error("Cannot find previous output info")}}inputType(e){let r="legacy",n=Oi.ALL,i=this.prevOut(e),o=Xo.decode(i.script),s=o.type,c=o,l=[o];if(o.type==="tr")return n=Oi.DEFAULT,{txType:"taproot",type:"tr",last:o,lastScript:i.script,defaultSighash:n,sighash:e.sighashType||n};{if((o.type==="wpkh"||o.type==="wsh")&&(r="segwit"),o.type==="sh"){if(!e.redeemScript)throw new Error("inputType: sh without redeemScript");let E=Xo.decode(e.redeemScript);(E.type==="wpkh"||E.type==="wsh")&&(r="segwit"),l.push(E),c=E,s+=`-${E.type}`}if(c.type==="wsh"){if(!e.witnessScript)throw new Error("inputType: wsh without witnessScript");let E=Xo.decode(e.witnessScript);E.type==="wsh"&&(r="segwit"),l.push(E),c=E,s+=`-${E.type}`}let m=l[l.length-1];if(m.type==="sh"||m.type==="wsh")throw new Error("inputType: sh/wsh cannot be terminal type");let w=Xo.encode(m),b={type:s,txType:r,last:m,lastScript:w,defaultSighash:n,sighash:e.sighashType||n};if(r==="legacy"&&!this.opts.allowLegacyWitnessUtxo&&!e.nonWitnessUtxo)throw new Error("Transaction/sign: legacy input without nonWitnessUtxo, can result in attack that forces paying higher fees. Pass allowLegacyWitnessUtxo=true, if you sure");return b}}signIdx(e,r,n,i){this.checkInputIdx(r);let o=this.inputs[r],s=this.inputType(o);if(!Ni(e)){if(!o.bip32Derivation||!o.bip32Derivation.length)throw new Error("bip32Derivation: empty");let w=o.bip32Derivation.filter(E=>E[1].fingerprint==e.fingerprint).map(([E,{path:I}])=>{let M=e;for(let k of I)M=M.deriveChild(k);if(!xi(M.publicKey,E))throw new Error("bip32Derivation: wrong pubKey");if(!M.privateKey)throw new Error("bip32Derivation: no privateKey");return M});if(!w.length)throw new Error(`bip32Derivation: no items with fingerprint=${e.fingerprint}`);let b=!1;for(let E of w)this.signIdx(E.privateKey,r)&&(b=!0);return b}n?n.forEach(eCt):n=[s.defaultSighash];let c=s.sighash;if(!n.includes(c))throw new Error(`Input with not allowed sigHash=${c}. Allowed: ${n.join(", ")}`);let{sigOutputs:l}=this.inputSighash(r);if(l===Oi.SINGLE&&r>=this.outputs.length)throw new Error(`Input with sighash SINGLE, but there is no output with corresponding index=${r}`);let m=this.prevOut(o);if(s.txType==="taproot"){if(o.tapBip32Derivation)throw new Error("tapBip32Derivation unsupported");let w=this.inputs.map(this.prevOut),b=w.map(R=>R.script),E=w.map(R=>R.amount),I=!1,M=Lu.getPublicKey(e),k=o.tapMerkleRoot||Wi;if(o.tapInternalKey){let{pubKey:R,privKey:B}=tCt(e,M,o.tapInternalKey,k),[U,P]=jOe(o.tapInternalKey,k);if(xi(U,R)){let F=this.preimageWitnessV1(r,b,c,E),q=Hg(Lu.sign(F,B,i),c!==Oi.DEFAULT?new Uint8Array([c]):Wi);this.updateInput(r,{tapKeySig:q},!0),I=!0}}if(o.tapLeafScript){o.tapScriptSig=o.tapScriptSig||[];for(let[R,B]of o.tapLeafScript){let U=B.subarray(0,-1),P=Qo.decode(U),F=B[B.length-1],q=cL(U,F);if(P.findIndex(ie=>Ni(ie)&&xi(ie,M))===-1)continue;let re=this.preimageWitnessV1(r,b,c,E,void 0,U,F),Q=Hg(Lu.sign(re,e,i),c!==Oi.DEFAULT?new Uint8Array([c]):Wi);this.updateInput(r,{tapScriptSig:[[{pubKey:M,leafHash:q},Q]]},!0),I=!0}}if(!I)throw new Error("No taproot scripts signed");return!0}else{let w=wRt(e),b=!1,E=mL(w);for(let k of Qo.decode(s.lastScript))Ni(k)&&(xi(k,w)||xi(k,E))&&(b=!0);if(!b)throw new Error(`Input script doesn't have pubKey: ${s.lastScript}`);let I;if(s.txType==="legacy")I=this.preimageLegacy(r,s.lastScript,c);else if(s.txType==="segwit"){let k=s.lastScript;s.last.type==="wpkh"&&(k=Xo.encode({type:"pkh",hash:s.last.hash})),I=this.preimageWitnessV0(r,k,c,m.amount)}else throw new Error(`Transaction/sign: unknown tx type: ${s.txType}`);let M=SRt(I,e,this.opts.lowR);this.updateInput(r,{partialSig:[[w,Hg(M,new Uint8Array([c]))]]},!0)}return!0}sign(e,r,n){let i=0;for(let o=0;o<this.inputs.length;o++)try{this.signIdx(e,o,r,n)&&i++}catch{}if(!i)throw new Error("No inputs signed");return i}finalizeIdx(e){if(this.checkInputIdx(e),this.fee<0n)throw new Error("Outputs spends more than inputs amount");let r=this.inputs[e],n=this.inputType(r);if(n.txType==="taproot"){if(r.tapKeySig)r.finalScriptWitness=[r.tapKeySig];else if(r.tapLeafScript&&r.tapScriptSig){let l=r.tapLeafScript.sort((m,w)=>_E.encode(m[0]).length-_E.encode(w[0]).length);for(let[m,w]of l){let b=w.slice(0,-1),E=w[w.length-1],I=Xo.decode(b),M=cL(b,E),k=r.tapScriptSig.filter(B=>xi(B[0].leafHash,M)),R=[];if(I.type==="tr_ms"){let B=I.m,U=I.pubkeys,P=0;for(let F of U){let q=k.findIndex(K=>xi(K[0].pubKey,F));if(P===B||q===-1){R.push(Wi);continue}R.push(k[q][1]),P++}if(P!==B)continue}else if(I.type==="tr_ns"){for(let B of I.pubkeys){let U=k.findIndex(P=>xi(P[0].pubKey,B));U!==-1&&R.push(k[U][1])}if(R.length!==I.pubkeys.length)continue}else if(I.type==="unknown"&&this.opts.allowUnknownInputs){let B=Qo.decode(b);if(R=k.map(([{pubKey:U},P])=>{let F=B.findIndex(q=>Ni(q)&&xi(q,U));if(F===-1)throw new Error("finalize/taproot: cannot find position of pubkey in script");return{signature:P,pos:F}}).sort((U,P)=>U.pos-P.pos).map(U=>U.signature),!R.length)continue}else throw new Error("Finalize: Unknown tapLeafScript");r.finalScriptWitness=R.reverse().concat([b,_E.encode(m)]);break}if(!r.finalScriptWitness)throw new Error("finalize/taproot: empty witness")}else throw new Error("finalize/taproot: unknown input");r.finalScriptSig=Wi,qOe(r);return}if(!r.partialSig||!r.partialSig.length)throw new Error("Not enough partial sign");let i=Wi,o=[];if(n.last.type==="ms"){let l=n.last.m,m=n.last.pubkeys,w=[];for(let b of m){let E=r.partialSig.find(I=>xi(b,I[0]));E&&w.push(E[1])}if(w=w.slice(0,l),w.length!==l)throw new Error(`Multisig: wrong signatures count, m=${l} n=${m.length} signatures=${w.length}`);i=Qo.encode([0,...w])}else if(n.last.type==="pk")i=Qo.encode([r.partialSig[0][1]]);else if(n.last.type==="pkh")i=Qo.encode([r.partialSig[0][1],r.partialSig[0][0]]);else if(n.last.type==="wpkh")i=Wi,o=[r.partialSig[0][1],r.partialSig[0][0]];else if(n.last.type==="unknown"&&!this.opts.allowUnknownInputs)throw new Error("Unknown inputs not allowed");let s,c;if(n.type.includes("wsh-")&&(i.length&&n.lastScript.length&&(o=Qo.decode(i).map(l=>{if(l===0)return Wi;if(Ni(l))return l;throw new Error(`Wrong witness op=${l}`)})),o=o.concat(n.lastScript)),n.txType==="segwit"&&(c=o),n.type.startsWith("sh-wsh-")?s=Qo.encode([Qo.encode([0,gs(n.lastScript)])]):n.type.startsWith("sh-")?s=Qo.encode([...Qo.decode(i),n.lastScript]):n.type.startsWith("wsh-")||n.txType!=="segwit"&&(s=i),!s&&!c)throw new Error("Unknown error finalizing input");s&&(r.finalScriptSig=s),c&&(r.finalScriptWitness=c),qOe(r)}finalize(){for(let e=0;e<this.inputs.length;e++)this.finalizeIdx(e)}extract(){if(!this.isFinal)throw new Error("Transaction has unfinalized inputs");if(!this.outputs.length)throw new Error("Transaction has no outputs");if(this.fee<0n)throw new Error("Outputs spends more than inputs amount");return this.toBytes(!0,!0)}combine(e){for(let i of["PSBTVersion","version","lockTime"])if(this.opts[i]!==e.opts[i])throw new Error(`Transaction/combine: different ${i} this=${this.opts[i]} other=${e.opts[i]}`);for(let i of["inputs","outputs"])if(this[i].length!==e[i].length)throw new Error(`Transaction/combine: different ${i} length this=${this[i].length} other=${e[i].length}`);let r=this.global.unsignedTx?Kh.encode(this.global.unsignedTx):Wi,n=e.global.unsignedTx?Kh.encode(e.global.unsignedTx):Wi;if(!xi(r,n))throw new Error("Transaction/combine: different unsigned tx");this.global=fie(Aie,this.global,e.global);for(let i=0;i<this.inputs.length;i++)this.updateInput(i,e.inputs[i],!0);for(let i=0;i<this.outputs.length;i++)this.updateOutput(i,e.outputs[i],!0);return this}clone(){return t.fromPSBT(this.toPSBT(2),this.opts)}};var eNe=qe(d4()),Mie=qe(s$());var kie=t=>t.length===32?t:t.slice(1,33);function oCt(t){return Yc.Buffer.concat([(0,Mie.encode)(t.byteLength),t])}function sCt(t){let{sha256:e}=eNe.crypto,n=e(Yc.Buffer.from("BIP0322-signed-message"));return e(Yc.Buffer.concat([n,n,Yc.Buffer.from(t)])).toString("hex")}var aCt=(t,e)=>{switch(t){case"bip122_p2tr":return ybe.getPublicKey(e);case"bip122_p2sh":return _0(e,!0);case"bip122_p2wpkh":return _0(e,!0);default:throw new Error("Unsupported Address Type")}},cCt=(t,e)=>{let r=jg;switch(t){case"bip122_p2tr":return JOe(e,void 0,r);case"bip122_p2wpkh":return Iie(e,r);case"bip122_p2sh":{let n=Iie(e,r);return ZOe(n,r)}default:throw new Error("Unsupported Address Type")}};function uCt(t,e,r,n){let i=px.fromPSBT(r,{allowUnknownInputs:!0});try{e.forEach(o=>{let s=ah("bip122:000000000019d6689c085ae165831e93",o.address),c=t[s];if(!c)throw new Error("missing private key for ("+s+")");let{publicKey:l,privateKey:m}=c;o.signingIndexes.forEach(w=>{let b=i.getInput(w),E=b.witnessUtxo?.script&&Xo.decode(b.witnessUtxo.script);if(!o.isScriptSpend&&!b.tapInternalKey&&E?.type==="tr"&&i.updateInput(w,{tapInternalKey:kie(Yc.Buffer.from(l))}),o.sigHash)try{i.signIdx(m,w,[o.sigHash],wT(32))}catch{i.signIdx(m,w,void 0,wT(32))}else i.signIdx(m,w,void 0,wT(32));if(n)try{i.finalizeIdx(w)}catch{}})})}catch(o){throw console.error(o),new Error(`Error signing PSBT ${o.toString()}`)}return Promise.resolve(i.toPSBT(0))}var tNe=()=>({type:"keyPair",sign:async(t,e)=>{try{switch(e.signingType){case"message":{let r=e.chainType,n=Yc.Buffer.from(e.message).toString("utf8"),i=t[e.chainType]?.privateKey;if(!i)throw new Error("missing private key for ("+e.chainType+")");let o=Yc.Buffer.from(i).toString("hex"),s=aCt(r,o),c=cCt(r,s),l=Yc.Buffer.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),m=0,w=4294967295,b=0,E=Qo.encode(["OP_0",Yc.Buffer.from(sCt(n),"hex")]),I=new px({allowUnknownOutputs:!0,version:m});I.addOutput({amount:BigInt(0),script:c.script}),I.addInput({txid:l,index:w,sequence:b,finalScriptSig:E});let M=new px({allowUnknownOutputs:!0,version:m});M.addInput({txid:I.id,index:0,sequence:b,tapInternalKey:r==="bip122_p2tr"?s:void 0,witnessUtxo:{script:c.script,amount:BigInt(0)},redeemScript:c.redeemScript}),M.addOutput({script:Qo.encode(["RETURN"]),amount:BigInt(0)}),M.sign(Yc.Buffer.from(o,"hex"),void 0,wT(32)),M.finalize();let k=null,R=M.getInput(0);if(R.finalScriptWitness?.length){let B=(0,Mie.encode)(R.finalScriptWitness?.length);k=Yc.Buffer.concat([B,...R.finalScriptWitness.map(U=>oCt(U))])}else throw new Error("couldnt produce a signature");return{status:"success",signature:k.toString("hex"),message:M.toBytes()}}case"transaction":{let r=await uCt(t,e.inputsToSign??[],Yc.Buffer.from(e.message??"","hex"),e.finalize??!1);return{status:"success",signature:Yc.Buffer.from(r).toString("hex")}}}}catch{return cn("internalError")}}});d();h();var Pie=qe(ta()),rNe=qe(ds());var nNe=()=>({type:"keyPair",sign:(t,e)=>{let r=e.data;if(r.chainType!=="solana")return Promise.resolve(cn("invalidAddressType"));let n;try{typeof r.message=="string"?r.signingType==="transaction"?n=Pie.default.decode(r.message):n=Buffer.from(r.message,"utf8"):n=r.message}catch{return Promise.resolve(cn("invalidMessageEncoding"))}let i=Pie.default.encode(rNe.default.sign.detached(n,t.privateKey));return Promise.resolve({status:"success",signature:i})}});d();h();var IE=qe(Vn()),iNe=qe(rs());var Hh=qe(One()),oNe=qe(Ix());var sNe=()=>({type:"keyPair",sign:(t,e)=>{try{switch(e.signingType){case"typedData":{switch(e.version){case 1:{let r=IE.Buffer.from(t.privateKey.slice()),n=Hh.SignTypedDataVersion.V1,{data:i}=e,o=(0,Hh.signTypedData)({privateKey:r,version:n,data:i});return r.fill(0),Promise.resolve({status:"success",signature:o})}case 3:{let r=IE.Buffer.from(t.privateKey.slice()),n=Hh.SignTypedDataVersion.V3,i=e.data,o=(0,Hh.signTypedData)({privateKey:r,version:n,data:i});return r.fill(0),Promise.resolve({status:"success",signature:o})}case 4:{let r=IE.Buffer.from(t.privateKey.slice()),n=Hh.SignTypedDataVersion.V4,i=e.data,o=(0,Hh.signTypedData)({privateKey:r,version:n,data:i});return r.fill(0),Promise.resolve({status:"success",signature:o})}}break}case"message":{let r=e.message,n=(0,Hh.personalSign)({privateKey:IE.Buffer.from(t.privateKey),data:r});return Promise.resolve({status:"success",signature:n})}case"transaction":{let r=IE.Buffer.from(e.message.replace("0x",""),"hex"),n=new Af(t.privateKey),i=`0x${(0,oNe.keccak256)(r)}`,o=(0,iNe.joinSignature)(n.signDigest(i));return Promise.resolve({status:"success",signature:o})}}}catch(r){return console.error(r),Promise.resolve(cn("invalidMessageEncoding"))}}});d();h();var xx=qe(Vn());d();h();d();h();d();h();d();h();function aNe(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function fCt(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function Bie(t,...e){if(!fCt(t))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function cNe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");aNe(t.outputLen),aNe(t.blockLen)}function ME(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function uNe(t,e){Bie(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}d();h();d();h();var vL=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function fNe(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}var xL=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),hd=(t,e)=>t<<32-e|t>>>e,lCt=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!lCt)throw new Error("Non little-endian hardware is not supported");function dCt(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function BT(t){if(typeof t=="string"&&(t=dCt(t)),!fNe(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function lNe(...t){let e=0;for(let n=0;n<t.length;n++){let i=t[n];if(!fNe(i))throw new Error("Uint8Array expected");e+=i.length}let r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let o=t[n];r.set(o,i),i+=o.length}return r}var kE=class{clone(){return this._cloneInto()}},Wwn={}.toString;function dNe(t){let e=n=>t().update(BT(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function hNe(t=32){if(vL&&typeof vL.getRandomValues=="function")return vL.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}var wL=class extends kE{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,cNe(e);let n=BT(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?e.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(e){return ME(this),this.iHash.update(e),this}digestInto(e){ME(this),Bie(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:c}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=c,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Rie=(t,e,r)=>new wL(t,e).update(r).digest();Rie.create=(t,e)=>new wL(t,e);d();h();d();h();var Die={};OF(Die,{bitGet:()=>vCt,bitLen:()=>bCt,bitMask:()=>RT,bitSet:()=>xCt,bytesToHex:()=>mx,bytesToNumberBE:()=>Bp,bytesToNumberLE:()=>AL,concatBytes:()=>PE,createHmacDrbg:()=>Nie,ensureBytes:()=>qu,equalBytes:()=>yCt,hexToBytes:()=>yx,hexToNumber:()=>Oie,isBytes:()=>pd,numberToBytesBE:()=>zg,numberToBytesLE:()=>EL,numberToHexUnpadded:()=>gNe,numberToVarBytesBE:()=>mCt,utf8ToBytes:()=>gCt,validateObject:()=>Wg});d();h();var yNe=BigInt(0),SL=BigInt(1),hCt=BigInt(2);function pd(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}var pCt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function mx(t){if(!pd(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=pCt[t[r]];return e}function gNe(t){let e=t.toString(16);return e.length&1?`0${e}`:e}function Oie(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}var Pp={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function pNe(t){if(t>=Pp._0&&t<=Pp._9)return t-Pp._0;if(t>=Pp._A&&t<=Pp._F)return t-(Pp._A-10);if(t>=Pp._a&&t<=Pp._f)return t-(Pp._a-10)}function yx(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length,r=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let i=0,o=0;i<r;i++,o+=2){let s=pNe(t.charCodeAt(o)),c=pNe(t.charCodeAt(o+1));if(s===void 0||c===void 0){let l=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+o)}n[i]=s*16+c}return n}function Bp(t){return Oie(mx(t))}function AL(t){if(!pd(t))throw new Error("Uint8Array expected");return Oie(mx(Uint8Array.from(t).reverse()))}function zg(t,e){return yx(t.toString(16).padStart(e*2,"0"))}function EL(t,e){return zg(t,e).reverse()}function mCt(t){return yx(gNe(t))}function qu(t,e,r){let n;if(typeof e=="string")try{n=yx(e)}catch(o){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${o}`)}else if(pd(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);let i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${t} expected ${r} bytes, got ${i}`);return n}function PE(...t){let e=0;for(let i=0;i<t.length;i++){let o=t[i];if(!pd(o))throw new Error("Uint8Array expected");e+=o.length}let r=new Uint8Array(e),n=0;for(let i=0;i<t.length;i++){let o=t[i];r.set(o,n),n+=o.length}return r}function yCt(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}function gCt(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function bCt(t){let e;for(e=0;t>yNe;t>>=SL,e+=1);return e}function vCt(t,e){return t>>BigInt(e)&SL}var xCt=(t,e,r)=>t|(r?SL:yNe)<<BigInt(e),RT=t=>(hCt<<BigInt(t-1))-SL,Cie=t=>new Uint8Array(t),mNe=t=>Uint8Array.from(t);function Nie(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=Cie(t),i=Cie(t),o=0,s=()=>{n.fill(1),i.fill(0),o=0},c=(...b)=>r(i,n,...b),l=(b=Cie())=>{i=c(mNe([0]),b),n=c(),b.length!==0&&(i=c(mNe([1]),b),n=c())},m=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let b=0,E=[];for(;b<e;){n=c();let I=n.slice();E.push(I),b+=n.length}return PE(...E)};return(b,E)=>{s(),l(b);let I;for(;!(I=E(m()));)l();return s(),I}}var wCt={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||pd(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Wg(t,e,r={}){let n=(i,o,s)=>{let c=wCt[o];if(typeof c!="function")throw new Error(`Invalid validator "${o}", expected function`);let l=t[i];if(!(s&&l===void 0)&&!c(l,t))throw new Error(`Invalid param ${String(i)}=${l} (${typeof l}), expected ${o}`)};for(let[i,o]of Object.entries(e))n(i,o,!1);for(let[i,o]of Object.entries(r))n(i,o,!0);return t}var es=BigInt(0),io=BigInt(1),gx=BigInt(2),SCt=BigInt(3),Uie=BigInt(4),bNe=BigInt(5),vNe=BigInt(8),ACt=BigInt(9),ECt=BigInt(16);function La(t,e){let r=t%e;return r>=es?r:e+r}function _Ct(t,e,r){if(r<=es||e<es)throw new Error("Expected power/modulo > 0");if(r===io)return es;let n=io;for(;e>es;)e&io&&(n=n*t%r),t=t*t%r,e>>=io;return n}function Ku(t,e,r){let n=t;for(;e-- >es;)n*=n,n%=r;return n}function _L(t,e){if(t===es||e<=es)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=La(t,e),n=e,i=es,o=io,s=io,c=es;for(;r!==es;){let m=n/r,w=n%r,b=i-s*m,E=o-c*m;n=r,r=w,i=s,o=c,s=b,c=E}if(n!==io)throw new Error("invert: does not exist");return La(i,e)}function TCt(t){let e=(t-io)/gx,r,n,i;for(r=t-io,n=0;r%gx===es;r/=gx,n++);for(i=gx;i<t&&_Ct(i,e,t)!==t-io;i++);if(n===1){let s=(t+io)/Uie;return function(l,m){let w=l.pow(m,s);if(!l.eql(l.sqr(w),m))throw new Error("Cannot find square root");return w}}let o=(r+io)/gx;return function(c,l){if(c.pow(l,e)===c.neg(c.ONE))throw new Error("Cannot find square root");let m=n,w=c.pow(c.mul(c.ONE,i),r),b=c.pow(l,o),E=c.pow(l,r);for(;!c.eql(E,c.ONE);){if(c.eql(E,c.ZERO))return c.ZERO;let I=1;for(let k=c.sqr(E);I<m&&!c.eql(k,c.ONE);I++)k=c.sqr(k);let M=c.pow(w,io<<BigInt(m-I-1));w=c.sqr(M),b=c.mul(b,M),E=c.mul(E,w),m=I}return b}}function ICt(t){if(t%Uie===SCt){let e=(t+io)/Uie;return function(n,i){let o=n.pow(i,e);if(!n.eql(n.sqr(o),i))throw new Error("Cannot find square root");return o}}if(t%vNe===bNe){let e=(t-bNe)/vNe;return function(n,i){let o=n.mul(i,gx),s=n.pow(o,e),c=n.mul(i,s),l=n.mul(n.mul(c,gx),s),m=n.mul(c,n.sub(l,n.ONE));if(!n.eql(n.sqr(m),i))throw new Error("Cannot find square root");return m}}return t%ECt,TCt(t)}var MCt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Lie(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=MCt.reduce((n,i)=>(n[i]="function",n),e);return Wg(t,r)}function kCt(t,e,r){if(r<es)throw new Error("Expected power > 0");if(r===es)return t.ONE;if(r===io)return e;let n=t.ONE,i=e;for(;r>es;)r&io&&(n=t.mul(n,i)),i=t.sqr(i),r>>=io;return n}function PCt(t,e){let r=new Array(e.length),n=e.reduce((o,s,c)=>t.is0(s)?o:(r[c]=o,t.mul(o,s)),t.ONE),i=t.inv(n);return e.reduceRight((o,s,c)=>t.is0(s)?o:(r[c]=t.mul(o,r[c]),t.mul(o,s)),i),r}function Fie(t,e){let r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function TL(t,e,r=!1,n={}){if(t<=es)throw new Error(`Expected Field ORDER > 0, got ${t}`);let{nBitLength:i,nByteLength:o}=Fie(t,e);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");let s=ICt(t),c=Object.freeze({ORDER:t,BITS:i,BYTES:o,MASK:RT(i),ZERO:es,ONE:io,create:l=>La(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return es<=l&&l<t},is0:l=>l===es,isOdd:l=>(l&io)===io,neg:l=>La(-l,t),eql:(l,m)=>l===m,sqr:l=>La(l*l,t),add:(l,m)=>La(l+m,t),sub:(l,m)=>La(l-m,t),mul:(l,m)=>La(l*m,t),pow:(l,m)=>kCt(c,l,m),div:(l,m)=>La(l*_L(m,t),t),sqrN:l=>l*l,addN:(l,m)=>l+m,subN:(l,m)=>l-m,mulN:(l,m)=>l*m,inv:l=>_L(l,t),sqrt:n.sqrt||(l=>s(c,l)),invertBatch:l=>PCt(c,l),cmov:(l,m,w)=>w?m:l,toBytes:l=>r?EL(l,o):zg(l,o),fromBytes:l=>{if(l.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${l.length}`);return r?AL(l):Bp(l)}});return Object.freeze(c)}function xNe(t){if(typeof t!="bigint")throw new Error("field order must be bigint");let e=t.toString(2).length;return Math.ceil(e/8)}function Vie(t){let e=xNe(t);return e+Math.ceil(e/2)}function IL(t,e,r=!1){let n=t.length,i=xNe(e),o=Vie(e);if(n<16||n<o||n>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${n}`);let s=r?Bp(t):AL(t),c=La(s,e-io)+io;return r?EL(c,i):zg(c,i)}d();h();var BCt=BigInt(0),qie=BigInt(1);function SNe(t,e){let r=(i,o)=>{let s=o.negate();return i?s:o},n=i=>{let o=Math.ceil(e/i)+1,s=2**(i-1);return{windows:o,windowSize:s}};return{constTimeNegate:r,unsafeLadder(i,o){let s=t.ZERO,c=i;for(;o>BCt;)o&qie&&(s=s.add(c)),c=c.double(),o>>=qie;return s},precomputeWindow(i,o){let{windows:s,windowSize:c}=n(o),l=[],m=i,w=m;for(let b=0;b<s;b++){w=m,l.push(w);for(let E=1;E<c;E++)w=w.add(m),l.push(w);m=w.double()}return l},wNAF(i,o,s){let{windows:c,windowSize:l}=n(i),m=t.ZERO,w=t.BASE,b=BigInt(2**i-1),E=2**i,I=BigInt(i);for(let M=0;M<c;M++){let k=M*l,R=Number(s&b);s>>=I,R>l&&(R-=E,s+=qie);let B=k,U=k+Math.abs(R)-1,P=M%2!==0,F=R<0;R===0?w=w.add(r(P,o[B])):m=m.add(r(F,o[U]))}return{p:m,f:w}},wNAFCached(i,o,s,c){let l=i._WINDOW_SIZE||1,m=o.get(i);return m||(m=this.precomputeWindow(i,l),l!==1&&o.set(i,c(m))),this.wNAF(l,m,s)}}}function Kie(t){return Lie(t.Fp),Wg(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Fie(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}function RCt(t){let e=Kie(t);Wg(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}var{bytesToNumberBE:CCt,hexToBytes:OCt}=Die,bx={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){let{Err:e}=bx;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");let r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:CCt(n),l:t.subarray(r+2)}},toSig(t){let{Err:e}=bx,r=typeof t=="string"?OCt(t):t;if(!pd(r))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");let{d:i,l:o}=bx._parseInt(r.subarray(2)),{d:s,l:c}=bx._parseInt(o);if(c.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s}},hexFromSig(t){let e=m=>Number.parseInt(m[0],16)&8?"00"+m:m,r=m=>{let w=m.toString(16);return w.length&1?`0${w}`:w},n=e(r(t.s)),i=e(r(t.r)),o=n.length/2,s=i.length/2,c=r(o),l=r(s);return`30${r(s+o+4)}02${l}${i}02${c}${n}`}},Rp=BigInt(0),rl=BigInt(1),p2n=BigInt(2),ANe=BigInt(3),m2n=BigInt(4);function NCt(t){let e=RCt(t),{Fp:r}=e,n=e.toBytes||((M,k,R)=>{let B=k.toAffine();return PE(Uint8Array.from([4]),r.toBytes(B.x),r.toBytes(B.y))}),i=e.fromBytes||(M=>{let k=M.subarray(1),R=r.fromBytes(k.subarray(0,r.BYTES)),B=r.fromBytes(k.subarray(r.BYTES,2*r.BYTES));return{x:R,y:B}});function o(M){let{a:k,b:R}=e,B=r.sqr(M),U=r.mul(B,M);return r.add(r.add(U,r.mul(M,k)),R)}if(!r.eql(r.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function s(M){return typeof M=="bigint"&&Rp<M&&M<e.n}function c(M){if(!s(M))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(M){let{allowedPrivateKeyLengths:k,nByteLength:R,wrapPrivateKey:B,n:U}=e;if(k&&typeof M!="bigint"){if(pd(M)&&(M=mx(M)),typeof M!="string"||!k.includes(M.length))throw new Error("Invalid key");M=M.padStart(R*2,"0")}let P;try{P=typeof M=="bigint"?M:Bp(qu("private key",M,R))}catch{throw new Error(`private key must be ${R} bytes, hex or bigint, not ${typeof M}`)}return B&&(P=La(P,U)),c(P),P}let m=new Map;function w(M){if(!(M instanceof b))throw new Error("ProjectivePoint expected")}class b{constructor(k,R,B){if(this.px=k,this.py=R,this.pz=B,k==null||!r.isValid(k))throw new Error("x required");if(R==null||!r.isValid(R))throw new Error("y required");if(B==null||!r.isValid(B))throw new Error("z required")}static fromAffine(k){let{x:R,y:B}=k||{};if(!k||!r.isValid(R)||!r.isValid(B))throw new Error("invalid affine point");if(k instanceof b)throw new Error("projective point not allowed");let U=P=>r.eql(P,r.ZERO);return U(R)&&U(B)?b.ZERO:new b(R,B,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(k){let R=r.invertBatch(k.map(B=>B.pz));return k.map((B,U)=>B.toAffine(R[U])).map(b.fromAffine)}static fromHex(k){let R=b.fromAffine(i(qu("pointHex",k)));return R.assertValidity(),R}static fromPrivateKey(k){return b.BASE.multiply(l(k))}_setWindowSize(k){this._WINDOW_SIZE=k,m.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}let{x:k,y:R}=this.toAffine();if(!r.isValid(k)||!r.isValid(R))throw new Error("bad point: x or y not FE");let B=r.sqr(R),U=o(k);if(!r.eql(B,U))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:k}=this.toAffine();if(r.isOdd)return!r.isOdd(k);throw new Error("Field doesn't support isOdd")}equals(k){w(k);let{px:R,py:B,pz:U}=this,{px:P,py:F,pz:q}=k,K=r.eql(r.mul(R,q),r.mul(P,U)),re=r.eql(r.mul(B,q),r.mul(F,U));return K&&re}negate(){return new b(this.px,r.neg(this.py),this.pz)}double(){let{a:k,b:R}=e,B=r.mul(R,ANe),{px:U,py:P,pz:F}=this,q=r.ZERO,K=r.ZERO,re=r.ZERO,Q=r.mul(U,U),ie=r.mul(P,P),S=r.mul(F,F),a=r.mul(U,P);return a=r.add(a,a),re=r.mul(U,F),re=r.add(re,re),q=r.mul(k,re),K=r.mul(B,S),K=r.add(q,K),q=r.sub(ie,K),K=r.add(ie,K),K=r.mul(q,K),q=r.mul(a,q),re=r.mul(B,re),S=r.mul(k,S),a=r.sub(Q,S),a=r.mul(k,a),a=r.add(a,re),re=r.add(Q,Q),Q=r.add(re,Q),Q=r.add(Q,S),Q=r.mul(Q,a),K=r.add(K,Q),S=r.mul(P,F),S=r.add(S,S),Q=r.mul(S,a),q=r.sub(q,Q),re=r.mul(S,ie),re=r.add(re,re),re=r.add(re,re),new b(q,K,re)}add(k){w(k);let{px:R,py:B,pz:U}=this,{px:P,py:F,pz:q}=k,K=r.ZERO,re=r.ZERO,Q=r.ZERO,ie=e.a,S=r.mul(e.b,ANe),a=r.mul(R,P),f=r.mul(B,F),p=r.mul(U,q),y=r.add(R,B),g=r.add(P,F);y=r.mul(y,g),g=r.add(a,f),y=r.sub(y,g),g=r.add(R,U);let A=r.add(P,q);return g=r.mul(g,A),A=r.add(a,p),g=r.sub(g,A),A=r.add(B,U),K=r.add(F,q),A=r.mul(A,K),K=r.add(f,p),A=r.sub(A,K),Q=r.mul(ie,g),K=r.mul(S,p),Q=r.add(K,Q),K=r.sub(f,Q),Q=r.add(f,Q),re=r.mul(K,Q),f=r.add(a,a),f=r.add(f,a),p=r.mul(ie,p),g=r.mul(S,g),f=r.add(f,p),p=r.sub(a,p),p=r.mul(ie,p),g=r.add(g,p),a=r.mul(f,g),re=r.add(re,a),a=r.mul(A,g),K=r.mul(y,K),K=r.sub(K,a),a=r.mul(y,f),Q=r.mul(A,Q),Q=r.add(Q,a),new b(K,re,Q)}subtract(k){return this.add(k.negate())}is0(){return this.equals(b.ZERO)}wNAF(k){return I.wNAFCached(this,m,k,R=>{let B=r.invertBatch(R.map(U=>U.pz));return R.map((U,P)=>U.toAffine(B[P])).map(b.fromAffine)})}multiplyUnsafe(k){let R=b.ZERO;if(k===Rp)return R;if(c(k),k===rl)return this;let{endo:B}=e;if(!B)return I.unsafeLadder(this,k);let{k1neg:U,k1:P,k2neg:F,k2:q}=B.splitScalar(k),K=R,re=R,Q=this;for(;P>Rp||q>Rp;)P&rl&&(K=K.add(Q)),q&rl&&(re=re.add(Q)),Q=Q.double(),P>>=rl,q>>=rl;return U&&(K=K.negate()),F&&(re=re.negate()),re=new b(r.mul(re.px,B.beta),re.py,re.pz),K.add(re)}multiply(k){c(k);let R=k,B,U,{endo:P}=e;if(P){let{k1neg:F,k1:q,k2neg:K,k2:re}=P.splitScalar(R),{p:Q,f:ie}=this.wNAF(q),{p:S,f:a}=this.wNAF(re);Q=I.constTimeNegate(F,Q),S=I.constTimeNegate(K,S),S=new b(r.mul(S.px,P.beta),S.py,S.pz),B=Q.add(S),U=ie.add(a)}else{let{p:F,f:q}=this.wNAF(R);B=F,U=q}return b.normalizeZ([B,U])[0]}multiplyAndAddUnsafe(k,R,B){let U=b.BASE,P=(q,K)=>K===Rp||K===rl||!q.equals(U)?q.multiplyUnsafe(K):q.multiply(K),F=P(this,R).add(P(k,B));return F.is0()?void 0:F}toAffine(k){let{px:R,py:B,pz:U}=this,P=this.is0();k==null&&(k=P?r.ONE:r.inv(U));let F=r.mul(R,k),q=r.mul(B,k),K=r.mul(U,k);if(P)return{x:r.ZERO,y:r.ZERO};if(!r.eql(K,r.ONE))throw new Error("invZ was invalid");return{x:F,y:q}}isTorsionFree(){let{h:k,isTorsionFree:R}=e;if(k===rl)return!0;if(R)return R(b,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:k,clearCofactor:R}=e;return k===rl?this:R?R(b,this):this.multiplyUnsafe(e.h)}toRawBytes(k=!0){return this.assertValidity(),n(b,this,k)}toHex(k=!0){return mx(this.toRawBytes(k))}}b.BASE=new b(e.Gx,e.Gy,r.ONE),b.ZERO=new b(r.ZERO,r.ONE,r.ZERO);let E=e.nBitLength,I=SNe(b,e.endo?Math.ceil(E/2):E);return{CURVE:e,ProjectivePoint:b,normPrivateKeyToScalar:l,weierstrassEquation:o,isWithinCurveOrder:s}}function DCt(t){let e=Kie(t);return Wg(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function ENe(t){let e=DCt(t),{Fp:r,n}=e,i=r.BYTES+1,o=2*r.BYTES+1;function s(g){return Rp<g&&g<r.ORDER}function c(g){return La(g,n)}function l(g){return _L(g,n)}let{ProjectivePoint:m,normPrivateKeyToScalar:w,weierstrassEquation:b,isWithinCurveOrder:E}=NCt({...e,toBytes(g,A,_){let v=A.toAffine(),u=r.toBytes(v.x),x=PE;return _?x(Uint8Array.from([A.hasEvenY()?2:3]),u):x(Uint8Array.from([4]),u,r.toBytes(v.y))},fromBytes(g){let A=g.length,_=g[0],v=g.subarray(1);if(A===i&&(_===2||_===3)){let u=Bp(v);if(!s(u))throw new Error("Point is not on curve");let x=b(u),L=r.sqrt(x),D=(L&rl)===rl;return(_&1)===1!==D&&(L=r.neg(L)),{x:u,y:L}}else if(A===o&&_===4){let u=r.fromBytes(v.subarray(0,r.BYTES)),x=r.fromBytes(v.subarray(r.BYTES,2*r.BYTES));return{x:u,y:x}}else throw new Error(`Point of length ${A} was invalid. Expected ${i} compressed bytes or ${o} uncompressed bytes`)}}),I=g=>mx(zg(g,e.nByteLength));function M(g){let A=n>>rl;return g>A}function k(g){return M(g)?c(-g):g}let R=(g,A,_)=>Bp(g.slice(A,_));class B{constructor(A,_,v){this.r=A,this.s=_,this.recovery=v,this.assertValidity()}static fromCompact(A){let _=e.nByteLength;return A=qu("compactSignature",A,_*2),new B(R(A,0,_),R(A,_,2*_))}static fromDER(A){let{r:_,s:v}=bx.toSig(qu("DER",A));return new B(_,v)}assertValidity(){if(!E(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!E(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(A){return new B(this.r,this.s,A)}recoverPublicKey(A){let{r:_,s:v,recovery:u}=this,x=re(qu("msgHash",A));if(u==null||![0,1,2,3].includes(u))throw new Error("recovery id invalid");let L=u===2||u===3?_+e.n:_;if(L>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");let D=u&1?"03":"02",C=m.fromHex(D+I(L)),z=l(L),ee=c(-x*z),ne=c(v*z),Ke=m.BASE.multiplyAndAddUnsafe(C,ee,ne);if(!Ke)throw new Error("point at infinify");return Ke.assertValidity(),Ke}hasHighS(){return M(this.s)}normalizeS(){return this.hasHighS()?new B(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return yx(this.toDERHex())}toDERHex(){return bx.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return yx(this.toCompactHex())}toCompactHex(){return I(this.r)+I(this.s)}}let U={isValidPrivateKey(g){try{return w(g),!0}catch{return!1}},normPrivateKeyToScalar:w,randomPrivateKey:()=>{let g=Vie(e.n);return IL(e.randomBytes(g),e.n)},precompute(g=8,A=m.BASE){return A._setWindowSize(g),A.multiply(BigInt(3)),A}};function P(g,A=!0){return m.fromPrivateKey(g).toRawBytes(A)}function F(g){let A=pd(g),_=typeof g=="string",v=(A||_)&&g.length;return A?v===i||v===o:_?v===2*i||v===2*o:g instanceof m}function q(g,A,_=!0){if(F(g))throw new Error("first arg must be private key");if(!F(A))throw new Error("second arg must be public key");return m.fromHex(A).multiply(w(g)).toRawBytes(_)}let K=e.bits2int||function(g){let A=Bp(g),_=g.length*8-e.nBitLength;return _>0?A>>BigInt(_):A},re=e.bits2int_modN||function(g){return c(K(g))},Q=RT(e.nBitLength);function ie(g){if(typeof g!="bigint")throw new Error("bigint expected");if(!(Rp<=g&&g<Q))throw new Error(`bigint expected < 2^${e.nBitLength}`);return zg(g,e.nByteLength)}function S(g,A,_=a){if(["recovered","canonical"].some(W=>W in _))throw new Error("sign() legacy options not supported");let{hash:v,randomBytes:u}=e,{lowS:x,prehash:L,extraEntropy:D}=_;x==null&&(x=!0),g=qu("msgHash",g),L&&(g=qu("prehashed msgHash",v(g)));let C=re(g),z=w(A),ee=[ie(z),ie(C)];if(D!=null){let W=D===!0?u(r.BYTES):D;ee.push(qu("extraEntropy",W))}let ne=PE(...ee),Ke=C;function ae(W){let he=K(W);if(!E(he))return;let te=l(he),ce=m.BASE.multiply(he).toAffine(),Ze=c(ce.x);if(Ze===Rp)return;let se=c(te*c(Ke+Ze*z));if(se===Rp)return;let le=(ce.x===Ze?0:2)|Number(ce.y&rl),Bt=se;return x&&M(se)&&(Bt=k(se),le^=1),new B(Ze,Bt,le)}return{seed:ne,k2sig:ae}}let a={lowS:e.lowS,prehash:!1},f={lowS:e.lowS,prehash:!1};function p(g,A,_=a){let{seed:v,k2sig:u}=S(g,A,_),x=e;return Nie(x.hash.outputLen,x.nByteLength,x.hmac)(v,u)}m.BASE._setWindowSize(8);function y(g,A,_,v=f){let u=g;if(A=qu("msgHash",A),_=qu("publicKey",_),"strict"in v)throw new Error("options.strict was renamed to lowS");let{lowS:x,prehash:L}=v,D,C;try{if(typeof u=="string"||pd(u))try{D=B.fromDER(u)}catch(ce){if(!(ce instanceof bx.Err))throw ce;D=B.fromCompact(u)}else if(typeof u=="object"&&typeof u.r=="bigint"&&typeof u.s=="bigint"){let{r:ce,s:Ze}=u;D=new B(ce,Ze)}else throw new Error("PARSE");C=m.fromHex(_)}catch(ce){if(ce.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(x&&D.hasHighS())return!1;L&&(A=e.hash(A));let{r:z,s:ee}=D,ne=re(A),Ke=l(ee),ae=c(ne*Ke),W=c(z*Ke),he=m.BASE.multiplyAndAddUnsafe(C,ae,W)?.toAffine();return he?c(he.x)===z:!1}return{CURVE:e,getPublicKey:P,getSharedSecret:q,sign:p,verify:y,ProjectivePoint:m,Signature:B,utils:U}}function UCt(t){return{hash:t,hmac:(e,...r)=>Rie(t,e,lNe(...r)),randomBytes:hNe}}function ML(t,e){let r=n=>ENe({...t,...UCt(n)});return Object.freeze({...r(e),create:r})}d();h();d();h();function LCt(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),c=Number(r&o),l=n?4:0,m=n?0:4;t.setUint32(e+l,s,n),t.setUint32(e+m,c,n)}var kL=class extends kE{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=xL(this.buffer)}update(e){ME(this);let{view:r,buffer:n,blockLen:i}=this;e=BT(e);let o=e.length;for(let s=0;s<o;){let c=Math.min(i-this.pos,o-s);if(c===i){let l=xL(e);for(;i<=o-s;s+=i)this.process(l,s);continue}n.set(e.subarray(s,s+c),this.pos),this.pos+=c,s+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){ME(this),uNe(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let b=s;b<i;b++)r[b]=0;LCt(n,i-8,BigInt(this.length*8),o),this.process(n,0);let c=xL(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let m=l/4,w=this.get();if(m>w.length)throw new Error("_sha2: outputLen bigger than state");for(let b=0;b<m;b++)c.setUint32(4*b,w[b],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:c}=this;return e.length=i,e.pos=c,e.finished=o,e.destroyed=s,i%r&&e.buffer.set(n),e}};var FCt=(t,e,r)=>t&e^~t&r,VCt=(t,e,r)=>t&e^t&r^e&r,qCt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Gg=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),$g=new Uint32Array(64),Hie=class extends kL{constructor(){super(64,32,8,!1),this.A=Gg[0]|0,this.B=Gg[1]|0,this.C=Gg[2]|0,this.D=Gg[3]|0,this.E=Gg[4]|0,this.F=Gg[5]|0,this.G=Gg[6]|0,this.H=Gg[7]|0}get(){let{A:e,B:r,C:n,D:i,E:o,F:s,G:c,H:l}=this;return[e,r,n,i,o,s,c,l]}set(e,r,n,i,o,s,c,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=c|0,this.H=l|0}process(e,r){for(let b=0;b<16;b++,r+=4)$g[b]=e.getUint32(r,!1);for(let b=16;b<64;b++){let E=$g[b-15],I=$g[b-2],M=hd(E,7)^hd(E,18)^E>>>3,k=hd(I,17)^hd(I,19)^I>>>10;$g[b]=k+$g[b-7]+M+$g[b-16]|0}let{A:n,B:i,C:o,D:s,E:c,F:l,G:m,H:w}=this;for(let b=0;b<64;b++){let E=hd(c,6)^hd(c,11)^hd(c,25),I=w+E+FCt(c,l,m)+qCt[b]+$g[b]|0,k=(hd(n,2)^hd(n,13)^hd(n,22))+VCt(n,i,o)|0;w=m,m=l,l=c,c=s+I|0,s=o,o=i,i=n,n=I+k|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,c=c+this.E|0,l=l+this.F|0,m=m+this.G|0,w=w+this.H|0,this.set(n,i,o,s,c,l,m,w)}roundClean(){$g.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var PL=dNe(()=>new Hie);var _Ne=TL(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),KCt=_Ne.create(BigInt("-3")),HCt=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),vx=ML({a:KCt,b:HCt,Fp:_Ne,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},PL);var TNe=()=>({type:"keyPair",sign:(t,e)=>{if(!e.isJWT)return Promise.resolve(cn("invalidAddressType"));if(e.data.payload.iss!==f5)return Promise.resolve(cn("invalidClaim"));if(e.data.payload.aud!==l5)return Promise.resolve(cn("invalidClaim"));let r={...e.data.header,kid:Ho(xx.Buffer.from(t.publicKey))},n={...e.data.payload,sub:Ho(xx.Buffer.from(t.publicKey))},i=Ho(xx.Buffer.from(JSON.stringify(r)))+"."+Ho(xx.Buffer.from(JSON.stringify(n))),s=vx.sign(xx.Buffer.from(i).toString("hex"),t.privateKey,{prehash:!0}).toCompactRawBytes(),c=Ho(xx.Buffer.from(s)),l={header:r,payload:n,signature:c};return Promise.resolve({status:"success",signature:c,signedJWT:l})}});d();h();var INe=()=>({type:"keyPair",sign:async(t,e)=>{if(!e.isKMSP256OrganizationOwner)return cn("invalidAddressType");try{let r=Buffer.from(e.data).toString("hex"),i=vx.sign(r,t.privateKey,{prehash:!0}).toCompactRawBytes();return{status:"success",signature:Ho(i)}}catch(r){let n=r instanceof Error?r.message:"Failed to sign data for KMS organization owner authentication";return cn("internalError",n)}}});d();h();var MNe=qe(Vn());var jie=qe(ta()),kNe=qe(ds());var PNe=()=>({type:"keyPair",sign:(t,e)=>{if(e.chainType!=="solana")return Promise.resolve(cn("invalidAddressType"));let r;try{typeof e.message=="string"?e.signingType==="transaction"?r=jie.default.decode(e.message):r=MNe.Buffer.from(e.message,"utf8"):r=e.message}catch{return Promise.resolve(cn("invalidMessageEncoding"))}let n=jie.default.encode(kNe.default.sign.detached(r,t.privateKey));return Promise.resolve({status:"success",signature:n})}});d();h();d();h();d();h();var Ax=qe(ds(),1);d();h();d();h();d();h();d();h();function BE(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function jCt(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function RE(t,...e){if(!jCt(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function BNe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");BE(t.outputLen),BE(t.blockLen)}function Cp(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function BL(t,e){RE(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}d();h();var CE=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),RL=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);var Zg=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,CNe=t=>t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255,md=Zg?t=>t:t=>CNe(t);function wx(t){for(let e=0;e<t.length;e++)t[e]=CNe(t[e])}var zCt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function CL(t){RE(t);let e="";for(let r=0;r<t.length;r++)e+=zCt[t[r]];return e}var Op={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function RNe(t){if(t>=Op._0&&t<=Op._9)return t-Op._0;if(t>=Op._A&&t<=Op._F)return t-(Op._A-10);if(t>=Op._a&&t<=Op._f)return t-(Op._a-10)}function ONe(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length,r=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let i=0,o=0;i<r;i++,o+=2){let s=RNe(t.charCodeAt(o)),c=RNe(t.charCodeAt(o+1));if(s===void 0||c===void 0){let l=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+o)}n[i]=s*16+c}return n}function WCt(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function nl(t){return typeof t=="string"&&(t=WCt(t)),RE(t),t}var Yg=class{clone(){return this._cloneInto()}},lSn={}.toString;function NNe(t){let e=n=>t().update(nl(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function DNe(t){let e=(n,i)=>t(i).update(nl(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}var UNe=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3]),OL=class extends Yg{constructor(e,r,n={},i,o,s){if(super(),this.blockLen=e,this.outputLen=r,this.length=0,this.pos=0,this.finished=!1,this.destroyed=!1,BE(e),BE(r),BE(i),r<0||r>i)throw new Error("outputLen bigger than keyLen");if(n.key!==void 0&&(n.key.length<1||n.key.length>i))throw new Error(`key must be up 1..${i} byte long or undefined`);if(n.salt!==void 0&&n.salt.length!==o)throw new Error(`salt must be ${o} byte long or undefined`);if(n.personalization!==void 0&&n.personalization.length!==s)throw new Error(`personalization must be ${s} byte long or undefined`);this.buffer32=CE(this.buffer=new Uint8Array(e))}update(e){Cp(this);let{blockLen:r,buffer:n,buffer32:i}=this;e=nl(e);let o=e.length,s=e.byteOffset,c=e.buffer;for(let l=0;l<o;){this.pos===r&&(Zg||wx(i),this.compress(i,0,!1),Zg||wx(i),this.pos=0);let m=Math.min(r-this.pos,o-l),w=s+l;if(m===r&&!(w%4)&&l+m<o){let b=new Uint32Array(c,w,Math.floor((o-l)/4));Zg||wx(b);for(let E=0;l+r<o;E+=i.length,l+=r)this.length+=r,this.compress(b,E,!1);Zg||wx(b);continue}n.set(e.subarray(l,l+m),this.pos),this.pos+=m,this.length+=m,l+=m}return this}digestInto(e){Cp(this),BL(e,this);let{pos:r,buffer32:n}=this;this.finished=!0,this.buffer.subarray(r).fill(0),Zg||wx(n),this.compress(n,0,!0),Zg||wx(n);let i=CE(e);this.get().forEach((o,s)=>i[s]=md(o))}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){let{buffer:r,length:n,finished:i,destroyed:o,outputLen:s,pos:c}=this;return e||(e=new this.constructor({dkLen:s})),e.set(...this.get()),e.length=n,e.finished=i,e.destroyed=o,e.outputLen=s,e.buffer.set(r),e.pos=c,e}};d();h();var NL=BigInt(4294967295),zie=BigInt(32);function LNe(t,e=!1){return e?{h:Number(t&NL),l:Number(t>>zie&NL)}:{h:Number(t>>zie&NL)|0,l:Number(t&NL)|0}}function GCt(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:o,l:s}=LNe(t[i],e);[r[i],n[i]]=[o,s]}return[r,n]}var $Ct=(t,e)=>BigInt(t>>>0)<<zie|BigInt(e>>>0),YCt=(t,e,r)=>t>>>r,ZCt=(t,e,r)=>t<<32-r|e>>>r,QCt=(t,e,r)=>t>>>r|e<<32-r,JCt=(t,e,r)=>t<<32-r|e>>>r,XCt=(t,e,r)=>t<<64-r|e>>>r-32,eOt=(t,e,r)=>t>>>r-32|e<<64-r,tOt=(t,e)=>e,rOt=(t,e)=>t,nOt=(t,e,r)=>t<<r|e>>>32-r,iOt=(t,e,r)=>e<<r|t>>>32-r,oOt=(t,e,r)=>e<<r-32|t>>>64-r,sOt=(t,e,r)=>t<<r-32|e>>>64-r;function aOt(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}var cOt=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),uOt=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,fOt=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),lOt=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,dOt=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),hOt=(t,e,r,n,i,o)=>e+r+n+i+o+(t/2**32|0)|0;var pOt={fromBig:LNe,split:GCt,toBig:$Ct,shrSH:YCt,shrSL:ZCt,rotrSH:QCt,rotrSL:JCt,rotrBH:XCt,rotrBL:eOt,rotr32H:tOt,rotr32L:rOt,rotlSH:nOt,rotlSL:iOt,rotlBH:oOt,rotlBL:sOt,add:aOt,add3L:cOt,add3H:uOt,add4L:fOt,add4H:lOt,add5H:hOt,add5L:dOt},Ut=pOt;var ts=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),St=new Uint32Array(32);function Qg(t,e,r,n,i,o){let s=i[o],c=i[o+1],l=St[2*t],m=St[2*t+1],w=St[2*e],b=St[2*e+1],E=St[2*r],I=St[2*r+1],M=St[2*n],k=St[2*n+1],R=Ut.add3L(l,w,s);m=Ut.add3H(R,m,b,c),l=R|0,{Dh:k,Dl:M}={Dh:k^m,Dl:M^l},{Dh:k,Dl:M}={Dh:Ut.rotr32H(k,M),Dl:Ut.rotr32L(k,M)},{h:I,l:E}=Ut.add(I,E,k,M),{Bh:b,Bl:w}={Bh:b^I,Bl:w^E},{Bh:b,Bl:w}={Bh:Ut.rotrSH(b,w,24),Bl:Ut.rotrSL(b,w,24)},St[2*t]=l,St[2*t+1]=m,St[2*e]=w,St[2*e+1]=b,St[2*r]=E,St[2*r+1]=I,St[2*n]=M,St[2*n+1]=k}function Jg(t,e,r,n,i,o){let s=i[o],c=i[o+1],l=St[2*t],m=St[2*t+1],w=St[2*e],b=St[2*e+1],E=St[2*r],I=St[2*r+1],M=St[2*n],k=St[2*n+1],R=Ut.add3L(l,w,s);m=Ut.add3H(R,m,b,c),l=R|0,{Dh:k,Dl:M}={Dh:k^m,Dl:M^l},{Dh:k,Dl:M}={Dh:Ut.rotrSH(k,M,16),Dl:Ut.rotrSL(k,M,16)},{h:I,l:E}=Ut.add(I,E,k,M),{Bh:b,Bl:w}={Bh:b^I,Bl:w^E},{Bh:b,Bl:w}={Bh:Ut.rotrBH(b,w,63),Bl:Ut.rotrBL(b,w,63)},St[2*t]=l,St[2*t+1]=m,St[2*e]=w,St[2*e+1]=b,St[2*r]=E,St[2*r+1]=I,St[2*n]=M,St[2*n+1]=k}var Wie=class extends OL{constructor(e={}){super(128,e.dkLen===void 0?64:e.dkLen,e,64,16,16),this.v0l=ts[0]|0,this.v0h=ts[1]|0,this.v1l=ts[2]|0,this.v1h=ts[3]|0,this.v2l=ts[4]|0,this.v2h=ts[5]|0,this.v3l=ts[6]|0,this.v3h=ts[7]|0,this.v4l=ts[8]|0,this.v4h=ts[9]|0,this.v5l=ts[10]|0,this.v5h=ts[11]|0,this.v6l=ts[12]|0,this.v6h=ts[13]|0,this.v7l=ts[14]|0,this.v7h=ts[15]|0;let r=e.key?e.key.length:0;if(this.v0l^=this.outputLen|r<<8|65536|1<<24,e.salt){let n=CE(nl(e.salt));this.v4l^=md(n[0]),this.v4h^=md(n[1]),this.v5l^=md(n[2]),this.v5h^=md(n[3])}if(e.personalization){let n=CE(nl(e.personalization));this.v6l^=md(n[0]),this.v6h^=md(n[1]),this.v7l^=md(n[2]),this.v7h^=md(n[3])}if(e.key){let n=new Uint8Array(this.blockLen);n.set(nl(e.key)),this.update(n)}}get(){let{v0l:e,v0h:r,v1l:n,v1h:i,v2l:o,v2h:s,v3l:c,v3h:l,v4l:m,v4h:w,v5l:b,v5h:E,v6l:I,v6h:M,v7l:k,v7h:R}=this;return[e,r,n,i,o,s,c,l,m,w,b,E,I,M,k,R]}set(e,r,n,i,o,s,c,l,m,w,b,E,I,M,k,R){this.v0l=e|0,this.v0h=r|0,this.v1l=n|0,this.v1h=i|0,this.v2l=o|0,this.v2h=s|0,this.v3l=c|0,this.v3h=l|0,this.v4l=m|0,this.v4h=w|0,this.v5l=b|0,this.v5h=E|0,this.v6l=I|0,this.v6h=M|0,this.v7l=k|0,this.v7h=R|0}compress(e,r,n){this.get().forEach((l,m)=>St[m]=l),St.set(ts,16);let{h:i,l:o}=Ut.fromBig(BigInt(this.length));St[24]=ts[8]^o,St[25]=ts[9]^i,n&&(St[28]=~St[28],St[29]=~St[29]);let s=0,c=UNe;for(let l=0;l<12;l++)Qg(0,4,8,12,e,r+2*c[s++]),Jg(0,4,8,12,e,r+2*c[s++]),Qg(1,5,9,13,e,r+2*c[s++]),Jg(1,5,9,13,e,r+2*c[s++]),Qg(2,6,10,14,e,r+2*c[s++]),Jg(2,6,10,14,e,r+2*c[s++]),Qg(3,7,11,15,e,r+2*c[s++]),Jg(3,7,11,15,e,r+2*c[s++]),Qg(0,5,10,15,e,r+2*c[s++]),Jg(0,5,10,15,e,r+2*c[s++]),Qg(1,6,11,12,e,r+2*c[s++]),Jg(1,6,11,12,e,r+2*c[s++]),Qg(2,7,8,13,e,r+2*c[s++]),Jg(2,7,8,13,e,r+2*c[s++]),Qg(3,4,9,14,e,r+2*c[s++]),Jg(3,4,9,14,e,r+2*c[s++]);this.v0l^=St[0]^St[16],this.v0h^=St[1]^St[17],this.v1l^=St[2]^St[18],this.v1h^=St[3]^St[19],this.v2l^=St[4]^St[20],this.v2h^=St[5]^St[21],this.v3l^=St[6]^St[22],this.v3h^=St[7]^St[23],this.v4l^=St[8]^St[24],this.v4h^=St[9]^St[25],this.v5l^=St[10]^St[26],this.v5h^=St[11]^St[27],this.v6l^=St[12]^St[28],this.v6h^=St[13]^St[29],this.v7l^=St[14]^St[30],this.v7h^=St[15]^St[31],St.fill(0)}destroy(){this.destroyed=!0,this.buffer32.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},Sx=DNe(t=>new Wie(t));var DT=qe(w1(),1);d();h();d();h();d();h();d();h();var Xg=32;function FNe(t){return mOt(t)&&yOt(t)===Xg}function jh(t,e=!1){let r=t.toLowerCase();return!e&&r.startsWith("0x")&&(r=r.slice(2)),`0x${r.padStart(Xg*2,"0")}`}function mOt(t){return/^(0x|0X)?[a-fA-F0-9]+$/.test(t)&&t.length%2===0}function yOt(t){return/^(0x|0X)/.test(t)?(t.length-2)/2:t.length/2}d();h();var gOt=/^vector<(.+)>$/,bOt=/^([^:]+)::([^:]+)::([^<]+)(<(.+)>)?/,CT=class t{static parseFromStr(e,r=!1){if(e==="address")return{address:null};if(e==="bool")return{bool:null};if(e==="u8")return{u8:null};if(e==="u16")return{u16:null};if(e==="u32")return{u32:null};if(e==="u64")return{u64:null};if(e==="u128")return{u128:null};if(e==="u256")return{u256:null};if(e==="signer")return{signer:null};let n=e.match(gOt);if(n)return{vector:t.parseFromStr(n[1],r)};let i=e.match(bOt);if(i)return{struct:{address:r?jh(i[1]):i[1],module:i[2],name:i[3],typeParams:i[5]===void 0?[]:t.parseStructTypeArgs(i[5],r)}};throw new Error(`Encountered unexpected token when parsing type args for ${e}`)}static parseStructTypeArgs(e,r=!1){return __(e).map(n=>t.parseFromStr(n,r))}static tagToString(e){if("bool"in e)return"bool";if("u8"in e)return"u8";if("u16"in e)return"u16";if("u32"in e)return"u32";if("u64"in e)return"u64";if("u128"in e)return"u128";if("u256"in e)return"u256";if("address"in e)return"address";if("signer"in e)return"signer";if("vector"in e)return`vector<${t.tagToString(e.vector)}>`;if("struct"in e){let r=e.struct,n=r.typeParams.map(t.tagToString).join(", ");return`${r.address}::${r.module}::${r.name}${n?`<${n}>`:""}`}throw new Error("Invalid TypeTag")}};function vOt(t){return G.u64({name:"unsafe_u64",...t}).transform({input:e=>e,output:e=>Number(e)})}function xOt(t){return G.enum("Option",{None:null,Some:t})}var wi=G.bytes(Xg).transform({validate:t=>{let e=typeof t=="string"?t:Ro(t);if(!e||!FNe(jh(e)))throw new Error(`Invalid Sui address ${e}`)},input:t=>typeof t=="string"?Ef(jh(t)):t,output:t=>jh(Ro(t))}),Hu=G.vector(G.u8()).transform({name:"ObjectDigest",input:t=>Zd(t),output:t=>P0(new Uint8Array(t)),validate:t=>{if(Zd(t).length!==32)throw new Error("ObjectDigest must be 32 bytes")}}),Zc=G.struct("SuiObjectRef",{objectId:wi,version:G.u64(),digest:Hu}),Gie=G.struct("SharedObjectRef",{objectId:wi,initialSharedVersion:G.u64(),mutable:G.bool()}),$ie=G.enum("ObjectArg",{ImmOrOwnedObject:Zc,SharedObject:Gie,Receiving:Zc}),Yie=G.enum("CallArg",{Pure:G.struct("Pure",{bytes:G.vector(G.u8()).transform({input:t=>typeof t=="string"?wn(t):t,output:t=>lr(new Uint8Array(t))})}),Object:$ie}),Zie=G.enum("TypeTag",{bool:null,u8:null,u64:null,u128:null,address:null,signer:null,vector:G.lazy(()=>Zie),struct:G.lazy(()=>roe),u16:null,u32:null,u256:null}),DL=Zie.transform({input:t=>typeof t=="string"?CT.parseFromStr(t,!0):t,output:t=>CT.tagToString(t)}),yd=G.enum("Argument",{GasCoin:null,Input:G.u16(),Result:G.u16(),NestedResult:G.tuple([G.u16(),G.u16()])}),Qie=G.struct("ProgrammableMoveCall",{package:wi,module:G.string(),function:G.string(),typeArguments:G.vector(DL),arguments:G.vector(yd)}),Jie=G.enum("Command",{MoveCall:Qie,TransferObjects:G.struct("TransferObjects",{objects:G.vector(yd),address:yd}),SplitCoins:G.struct("SplitCoins",{coin:yd,amounts:G.vector(yd)}),MergeCoins:G.struct("MergeCoins",{destination:yd,sources:G.vector(yd)}),Publish:G.struct("Publish",{modules:G.vector(G.vector(G.u8()).transform({input:t=>typeof t=="string"?wn(t):t,output:t=>lr(new Uint8Array(t))})),dependencies:G.vector(wi)}),MakeMoveVec:G.struct("MakeMoveVec",{type:xOt(DL).transform({input:t=>t===null?{None:!0}:{Some:t},output:t=>t.Some??null}),elements:G.vector(yd)}),Upgrade:G.struct("Upgrade",{modules:G.vector(G.vector(G.u8()).transform({input:t=>typeof t=="string"?wn(t):t,output:t=>lr(new Uint8Array(t))})),dependencies:G.vector(wi),package:wi,ticket:yd})}),Xie=G.struct("ProgrammableTransaction",{inputs:G.vector(Yie),commands:G.vector(Jie)}),eoe=G.enum("TransactionKind",{ProgrammableTransaction:Xie,ChangeEpoch:null,Genesis:null,ConsensusCommitPrologue:null}),toe=G.enum("TransactionExpiration",{None:null,Epoch:vOt()}),roe=G.struct("StructTag",{address:wi,module:G.string(),name:G.string(),typeParams:G.vector(Zie)}),noe=G.struct("GasData",{payment:G.vector(Zc),owner:wi,price:G.u64(),budget:G.u64()}),ioe=G.struct("TransactionDataV1",{kind:eoe,sender:wi,gasData:noe,expiration:toe}),ooe=G.enum("TransactionData",{V1:ioe}),soe=G.enum("IntentScope",{TransactionData:null,TransactionEffects:null,CheckpointSummary:null,PersonalMessage:null}),aoe=G.enum("IntentVersion",{V0:null}),coe=G.enum("AppId",{Sui:null}),uoe=G.struct("Intent",{scope:soe,version:aoe,appId:coe});function foe(t){return G.struct(`IntentMessage<${t.name}>`,{intent:uoe,value:t})}var loe=G.enum("CompressedSignature",{ED25519:G.fixedArray(64,G.u8()),Secp256k1:G.fixedArray(64,G.u8()),Secp256r1:G.fixedArray(64,G.u8()),ZkLogin:G.vector(G.u8())}),doe=G.enum("PublicKey",{ED25519:G.fixedArray(32,G.u8()),Secp256k1:G.fixedArray(33,G.u8()),Secp256r1:G.fixedArray(33,G.u8()),ZkLogin:G.vector(G.u8())}),hoe=G.struct("MultiSigPkMap",{pubKey:doe,weight:G.u8()}),poe=G.struct("MultiSigPublicKey",{pk_map:G.vector(hoe),threshold:G.u16()}),VNe=G.struct("MultiSig",{sigs:G.vector(loe),bitmap:G.u16(),multisig_pk:poe}),wOt=G.vector(G.u8()).transform({input:t=>typeof t=="string"?wn(t):t,output:t=>lr(new Uint8Array(t))}),moe=G.struct("SenderSignedTransaction",{intentMessage:foe(ooe),txSignatures:G.vector(wOt)}),qNe=G.vector(moe,{name:"SenderSignedData"});d();h();var SOt=G.enum("PackageUpgradeError",{UnableToFetchPackage:G.struct("UnableToFetchPackage",{packageId:wi}),NotAPackage:G.struct("NotAPackage",{objectId:wi}),IncompatibleUpgrade:null,DigestDoesNotMatch:G.struct("DigestDoesNotMatch",{digest:G.vector(G.u8())}),UnknownUpgradePolicy:G.struct("UnknownUpgradePolicy",{policy:G.u8()}),PackageIDDoesNotMatch:G.struct("PackageIDDoesNotMatch",{packageId:wi,ticketId:wi})}),AOt=G.struct("ModuleId",{address:wi,name:G.string()}),KNe=G.struct("MoveLocation",{module:AOt,function:G.u16(),instruction:G.u16(),functionName:G.option(G.string())}),EOt=G.enum("CommandArgumentError",{TypeMismatch:null,InvalidBCSBytes:null,InvalidUsageOfPureArg:null,InvalidArgumentToPrivateEntryFunction:null,IndexOutOfBounds:G.struct("IndexOutOfBounds",{idx:G.u16()}),SecondaryIndexOutOfBounds:G.struct("SecondaryIndexOutOfBounds",{resultIdx:G.u16(),secondaryIdx:G.u16()}),InvalidResultArity:G.struct("InvalidResultArity",{resultIdx:G.u16()}),InvalidGasCoinUsage:null,InvalidValueUsage:null,InvalidObjectByValue:null,InvalidObjectByMutRef:null,SharedObjectOperationNotAllowed:null}),_Ot=G.enum("TypeArgumentError",{TypeNotFound:null,ConstraintNotSatisfied:null}),TOt=G.enum("ExecutionFailureStatus",{InsufficientGas:null,InvalidGasObject:null,InvariantViolation:null,FeatureNotYetSupported:null,MoveObjectTooBig:G.struct("MoveObjectTooBig",{objectSize:G.u64(),maxObjectSize:G.u64()}),MovePackageTooBig:G.struct("MovePackageTooBig",{objectSize:G.u64(),maxObjectSize:G.u64()}),CircularObjectOwnership:G.struct("CircularObjectOwnership",{object:wi}),InsufficientCoinBalance:null,CoinBalanceOverflow:null,PublishErrorNonZeroAddress:null,SuiMoveVerificationError:null,MovePrimitiveRuntimeError:G.option(KNe),MoveAbort:G.tuple([KNe,G.u64()]),VMVerificationOrDeserializationError:null,VMInvariantViolation:null,FunctionNotFound:null,ArityMismatch:null,TypeArityMismatch:null,NonEntryFunctionInvoked:null,CommandArgumentError:G.struct("CommandArgumentError",{argIdx:G.u16(),kind:EOt}),TypeArgumentError:G.struct("TypeArgumentError",{argumentIdx:G.u16(),kind:_Ot}),UnusedValueWithoutDrop:G.struct("UnusedValueWithoutDrop",{resultIdx:G.u16(),secondaryIdx:G.u16()}),InvalidPublicFunctionReturnType:G.struct("InvalidPublicFunctionReturnType",{idx:G.u16()}),InvalidTransferObject:null,EffectsTooLarge:G.struct("EffectsTooLarge",{currentSize:G.u64(),maxSize:G.u64()}),PublishUpgradeMissingDependency:null,PublishUpgradeDependencyDowngrade:null,PackageUpgradeError:G.struct("PackageUpgradeError",{upgradeError:SOt}),WrittenObjectsTooLarge:G.struct("WrittenObjectsTooLarge",{currentSize:G.u64(),maxSize:G.u64()}),CertificateDenied:null,SuiMoveVerificationTimedout:null,SharedObjectOperationNotAllowed:null,InputObjectDeleted:null,ExecutionCancelledDueToSharedObjectCongestion:G.struct("ExecutionCancelledDueToSharedObjectCongestion",{congestedObjects:G.vector(wi)}),AddressDeniedForCoin:G.struct("AddressDeniedForCoin",{address:wi,coinType:G.string()}),CoinTypeGlobalPause:G.struct("CoinTypeGlobalPause",{coinType:G.string()}),ExecutionCancelledDueToRandomnessUnavailable:null}),HNe=G.enum("ExecutionStatus",{Success:null,Failed:G.struct("ExecutionFailed",{error:TOt,command:G.option(G.u64())})}),jNe=G.struct("GasCostSummary",{computationCost:G.u64(),storageCost:G.u64(),storageRebate:G.u64(),nonRefundableStorageFee:G.u64()}),OE=G.enum("Owner",{AddressOwner:wi,ObjectOwner:wi,Shared:G.struct("Shared",{initialSharedVersion:G.u64()}),Immutable:null}),IOt=G.struct("TransactionEffectsV1",{status:HNe,executedEpoch:G.u64(),gasUsed:jNe,modifiedAtVersions:G.vector(G.tuple([wi,G.u64()])),sharedObjects:G.vector(Zc),transactionDigest:Hu,created:G.vector(G.tuple([Zc,OE])),mutated:G.vector(G.tuple([Zc,OE])),unwrapped:G.vector(G.tuple([Zc,OE])),deleted:G.vector(Zc),unwrappedThenDeleted:G.vector(Zc),wrapped:G.vector(Zc),gasObject:G.tuple([Zc,OE]),eventsDigest:G.option(Hu),dependencies:G.vector(Hu)}),yoe=G.tuple([G.u64(),Hu]),MOt=G.enum("ObjectIn",{NotExist:null,Exist:G.tuple([yoe,OE])}),kOt=G.enum("ObjectOut",{NotExist:null,ObjectWrite:G.tuple([Hu,OE]),PackageWrite:yoe}),POt=G.enum("IDOperation",{None:null,Created:null,Deleted:null}),BOt=G.struct("EffectsObjectChange",{inputState:MOt,outputState:kOt,idOperation:POt}),ROt=G.enum("UnchangedSharedKind",{ReadOnlyRoot:yoe,MutateDeleted:G.u64(),ReadDeleted:G.u64(),Cancelled:G.u64(),PerEpochConfig:null}),COt=G.struct("TransactionEffectsV2",{status:HNe,executedEpoch:G.u64(),gasUsed:jNe,transactionDigest:Hu,gasObjectIndex:G.option(G.u32()),eventsDigest:G.option(Hu),dependencies:G.vector(Hu),lamportVersion:G.u64(),changedObjects:G.vector(G.tuple([wi,BOt])),unchangedSharedObjects:G.vector(G.tuple([wi,ROt])),auxDataDigest:G.option(Hu)}),zNe=G.enum("TransactionEffects",{V1:IOt,V2:COt});var Np={...G,U8:G.u8(),U16:G.u16(),U32:G.u32(),U64:G.u64(),U128:G.u128(),U256:G.u256(),ULEB128:G.uleb128(),Bool:G.bool(),String:G.string(),Address:wi,AppId:coe,Argument:yd,CallArg:Yie,CompressedSignature:loe,GasData:noe,Intent:uoe,IntentMessage:foe,IntentScope:soe,IntentVersion:aoe,MultiSig:VNe,MultiSigPkMap:hoe,MultiSigPublicKey:poe,ObjectArg:$ie,ObjectDigest:Hu,ProgrammableMoveCall:Qie,ProgrammableTransaction:Xie,PublicKey:doe,SenderSignedData:qNe,SenderSignedTransaction:moe,SharedObjectRef:Gie,StructTag:roe,SuiObjectRef:Zc,Command:Jie,TransactionData:ooe,TransactionDataV1:ioe,TransactionExpiration:toe,TransactionKind:eoe,TypeTag:DL,TransactionEffects:zNe};function UL(t,e){return Np.IntentMessage(Np.fixedArray(e.length,Np.u8())).serialize({intent:{scope:{[t]:!0},version:{V0:!0},appId:{Sui:!0}},value:e}).toBytes()}d();h();var Dp={ED25519:0,Secp256k1:1,Secp256r1:2,MultiSig:3,ZkLogin:5},WNe={ED25519:32,Secp256k1:33,Secp256r1:33},LL={0:"ED25519",1:"Secp256k1",2:"Secp256r1",3:"MultiSig",5:"ZkLogin"};d();h();d();h();d();h();function goe(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}var NE=class{equals(e){return goe(this.toRawBytes(),e.toRawBytes())}toBase64(){return lr(this.toRawBytes())}toString(){throw new Error("`toString` is not implemented on public keys. Use `toBase64()` or `toRawBytes()` instead.")}toSuiPublicKey(){let e=this.toSuiBytes();return lr(e)}verifyWithIntent(e,r,n){let i=UL(n,e),o=Sx(i,{dkLen:32});return this.verify(o,r)}verifyPersonalMessage(e,r){return this.verifyWithIntent(Np.vector(Np.u8()).serialize(e).toBytes(),r,"PersonalMessage")}verifyTransaction(e,r){return this.verifyWithIntent(e,r,"TransactionData")}toSuiBytes(){let e=this.toRawBytes(),r=new Uint8Array(e.length+1);return r.set([this.flag()]),r.set(e,1),r}toSuiAddress(){return jh(CL(Sx(this.toSuiBytes(),{dkLen:32})).slice(0,Xg*2))}};d();h();var GNe=t=>{throw TypeError(t)},$Ne=(t,e,r)=>e.has(t)||GNe("Cannot "+r),FL=(t,e,r)=>($Ne(t,e,"read from private field"),r?r.call(t):e.get(t)),VL=(t,e,r)=>e.has(t)?GNe("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),qL=(t,e,r,n)=>($Ne(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),KL,HL,jL,zL,boe=class extends Error{},WL=class{constructor({url:e,fetch:r=fetch,headers:n={},queries:i={}}){VL(this,KL),VL(this,HL),VL(this,jL),VL(this,zL),qL(this,KL,e),qL(this,HL,i),qL(this,jL,n),qL(this,zL,(...o)=>r(...o))}async query(e){let r=await FL(this,zL).call(this,FL(this,KL),{method:"POST",headers:{"Content-Type":"application/json",...FL(this,jL)},body:JSON.stringify({query:typeof e.query=="string"?String(e.query):_2(e.query),variables:e.variables,extensions:e.extensions,operationName:e.operationName})});if(!r.ok)throw new boe(`GraphQL request failed: ${r.statusText} (${r.status})`);return await r.json()}async execute(e,r){return this.query({...r,query:FL(this,HL)[e]})}};KL=new WeakMap;HL=new WeakMap;jL=new WeakMap;zL=new WeakMap;d();h();var YNe=B_();d();h();function OOt(t){if(t.length!==1)throw new Error("Invalid base64Url character: "+t);let r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".indexOf(t);if(r===-1)throw new Error("Invalid base64Url character: "+t);let n=r.toString(2).padStart(6,"0");return Array.from(n).map(Number)}function NOt(t){let e=[];for(let r=0;r<t.length;r++){let n=t.charAt(r),i=OOt(n);e=e.concat(i)}return e}function DOt(t,e){if(t.length<2)throw new Error(`Input (s = ${t}) is not tightly packed because s.length < 2`);let r=NOt(t),n=e%4;if(n!==0)if(n===1)r=r.slice(2);else if(n===2)r=r.slice(4);else throw new Error(`Input (s = ${t}) is not tightly packed because i%4 = 3 (i = ${e}))`);let i=(e+t.length-1)%4;if(i!==3)if(i===2)r=r.slice(0,r.length-2);else if(i===1)r=r.slice(0,r.length-4);else throw new Error(`Input (s = ${t}) is not tightly packed because (i + s.length - 1)%4 = 0 (i = ${e}))`);if(r.length%8!==0)throw new Error("We should never reach here...");let o=new Uint8Array(Math.floor(r.length/8)),s=0;for(let c=0;c<r.length;c+=8){let l=r.slice(c,c+8),m=parseInt(l.join(""),2);o[s++]=m}return new TextDecoder().decode(o)}function UOt(t){if(!(t.slice(-1)==="}"||t.slice(-1)===","))throw new Error("Invalid claim");let e=JSON.parse("{"+t.slice(0,-1)+"}");if(Object.keys(e).length!==1)throw new Error("Invalid claim");let r=Object.keys(e)[0];return[r,e[r]]}function ZNe(t,e){let r=DOt(t.value,t.indexMod4),[n,i]=UOt(r);if(n!==e)throw new Error(`Invalid field name: found ${n} expected ${e}`);return i}d();h();d();h();var QNe=G.struct("ZkLoginSignature",{inputs:G.struct("ZkLoginSignatureInputs",{proofPoints:G.struct("ZkLoginSignatureInputsProofPoints",{a:G.vector(G.string()),b:G.vector(G.vector(G.string())),c:G.vector(G.string())}),issBase64Details:G.struct("ZkLoginSignatureInputsClaim",{value:G.string(),indexMod4:G.u8()}),headerBase64:G.string(),addressSeed:G.string()}),maxEpoch:G.u64(),userSignature:G.vector(G.u8())});function JNe(t){return QNe.parse(typeof t=="string"?wn(t):t)}d();h();function LOt(t){for(let e=0;e<t.length;e++)if(t[e]!==0)return e;return-1}function GL(t,e){let r=t.toString(16);return ONe(r.padStart(e*2,"0").slice(-e*2))}function voe(t,e){let r=GL(t,e),n=LOt(r);return n===-1?new Uint8Array([0]):r.slice(n)}var tDe=t=>{throw TypeError(t)},rDe=(t,e,r)=>e.has(t)||tDe("Cannot "+r),Up=(t,e,r)=>(rDe(t,e,"read from private field"),r?r.call(t):e.get(t)),xoe=(t,e,r)=>e.has(t)?tDe("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),DE=(t,e,r,n)=>(rDe(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),gd,OT,NT,FOt=class woe extends NE{constructor(e,{client:r}={}){super(),xoe(this,gd),xoe(this,OT),xoe(this,NT),DE(this,OT,r),typeof e=="string"?DE(this,gd,wn(e)):e instanceof Uint8Array?DE(this,gd,e):DE(this,gd,Uint8Array.from(e)),DE(this,NT,Up(this,gd).length!==Up(this,gd)[0]+1+32),Up(this,NT)&&DE(this,gd,XNe(Up(this,gd)))}equals(e){return super.equals(e)}toSuiAddress(){if(Up(this,NT)){let e=XNe(Up(this,gd),!0),r=new Uint8Array(e.length+1);return r[0]=this.flag(),r.set(e,1),jh(CL(Sx(r,{dkLen:32})).slice(0,Xg*2))}return super.toSuiAddress()}toRawBytes(){return Up(this,gd)}flag(){return Dp.ZkLogin}async verify(e,r){throw Error("does not support")}verifyPersonalMessage(e,r){let n=$L(r),i=new woe(n.publicKey).toSuiAddress();return eDe({address:i,bytes:lr(e),signature:n.serializedSignature,intentScope:"PERSONAL_MESSAGE",client:Up(this,OT)})}verifyTransaction(e,r){let n=$L(r),i=new woe(n.publicKey).toSuiAddress();return eDe({address:i,bytes:lr(e),signature:n.serializedSignature,intentScope:"TRANSACTION_DATA",client:Up(this,OT)})}};gd=new WeakMap;OT=new WeakMap;NT=new WeakMap;var VOt=FOt;function qOt(t,e,r){let n=r?.legacyAddress?voe(t,32):GL(t,32),i=new TextEncoder().encode(e),o=new Uint8Array(1+i.length+n.length);return o.set([i.length],0),o.set(i,1),o.set(n,1+i.length),new VOt(o,r)}var KOt=YNe(`
	query Zklogin(
		$bytes: Base64!
		$signature: Base64!
		$intentScope: ZkLoginIntentScope!
		$author: SuiAddress!
	) {
		verifyZkloginSignature(
			bytes: $bytes
			signature: $signature
			intentScope: $intentScope
			author: $author
		) {
			success
			errors
		}
	}
`);function XNe(t,e=!1){let r=t[0]+1,n=BigInt(`0x${Ro(t.slice(r))}`),i=e?voe(n,32):GL(n,32),o=new Uint8Array(r+i.length);return o.set(t.slice(0,r),0),o.set(i,r),o}async function eDe({address:t,bytes:e,signature:r,intentScope:n,client:i=new WL({url:"https://sui-mainnet.mystenlabs.com/graphql"})}){let o=await i.query({query:KOt,variables:{bytes:e,signature:r,intentScope:n,author:t}});return o.data?.verifyZkloginSignature.success===!0&&o.data?.verifyZkloginSignature.errors.length===0}function $L(t){let e=typeof t=="string"?wn(t):t;if(e[0]!==Dp.ZkLogin)throw new Error("Invalid signature scheme");let r=e.slice(1),{inputs:n,maxEpoch:i,userSignature:o}=JNe(r),{issBase64Details:s,addressSeed:c}=n,l=ZNe(s,"iss"),m=qOt(BigInt(c),l);return{serializedSignature:lr(e),signatureScheme:"ZkLogin",zkLogin:{inputs:n,maxEpoch:i,userSignature:o,iss:l,addressSeed:BigInt(c)},signature:e,publicKey:m.toRawBytes()}}function nDe({signature:t,signatureScheme:e,publicKey:r}){if(!r)throw new Error("`publicKey` is required");let n=r.toRawBytes(),i=new Uint8Array(1+t.length+n.length);return i.set([Dp[e]]),i.set(t,1),i.set(n,1+t.length),lr(i)}function iDe(t){let e=wn(t),r=LL[e[0]];switch(r){case"MultiSig":let n=Np.MultiSig.parse(e.slice(1));return{serializedSignature:t,signatureScheme:r,multisig:n,bytes:e};case"ZkLogin":return $L(t);case"ED25519":case"Secp256k1":case"Secp256r1":let i=WNe[r],o=e.slice(1,e.length-i),s=e.slice(1+o.length);return{serializedSignature:t,signatureScheme:r,signature:o,publicKey:s,bytes:e};default:throw new Error("Unsupported signature scheme")}}var UT=32;var oDe="suiprivkey",Soe=class{async signWithIntent(e,r){let n=UL(r,e),i=Sx(n,{dkLen:32});return{signature:nDe({signature:await this.sign(i),signatureScheme:this.getKeyScheme(),publicKey:this.getPublicKey()}),bytes:lr(e)}}async signTransaction(e){return this.signWithIntent(e,"TransactionData")}async signPersonalMessage(e){let{signature:r}=await this.signWithIntent(G.vector(G.u8()).serialize(e).toBytes(),"PersonalMessage");return{bytes:lr(e),signature:r}}toSuiAddress(){return this.getPublicKey().toSuiAddress()}},YL=class extends Soe{};function sDe(t){let{prefix:e,words:r}=DT.bech32.decode(t);if(e!==oDe)throw new Error("invalid private key prefix");let n=new Uint8Array(DT.bech32.fromWords(r)),i=n.slice(1);return{schema:LL[n[0]],secretKey:i}}function aDe(t,e){if(t.length!==UT)throw new Error("Invalid bytes length");let r=Dp[e],n=new Uint8Array(t.length+1);return n.set([r]),n.set(t,1),DT.bech32.encode(oDe,DT.bech32.toWords(n))}d();h();function Aoe(t){return!!new RegExp("^m\\/44'\\/784'\\/[0-9]+'\\/[0-9]+'\\/[0-9]+'+$").test(t)}function HOt(t){return TP(t,"")}function cDe(t){return Ro(HOt(t))}d();h();d();h();var ZL=class extends Yg{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,BNe(e);let n=nl(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?e.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(e){return Cp(this),this.iHash.update(e),this}digestInto(e){Cp(this),RE(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:c}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=c,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},QL=(t,e,r)=>new ZL(t,e).update(r).digest();QL.create=(t,e)=>new ZL(t,e);d();h();d();h();function jOt(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),c=Number(r&o),l=n?4:0,m=n?0:4;t.setUint32(e+l,s,n),t.setUint32(e+m,c,n)}var JL=class extends Yg{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=RL(this.buffer)}update(e){Cp(this);let{view:r,buffer:n,blockLen:i}=this;e=nl(e);let o=e.length;for(let s=0;s<o;){let c=Math.min(i-this.pos,o-s);if(c===i){let l=RL(e);for(;i<=o-s;s+=i)this.process(l,s);continue}n.set(e.subarray(s,s+c),this.pos),this.pos+=c,s+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Cp(this),BL(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let b=s;b<i;b++)r[b]=0;jOt(n,i-8,BigInt(this.length*8),o),this.process(n,0);let c=RL(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let m=l/4,w=this.get();if(m>w.length)throw new Error("_sha2: outputLen bigger than state");for(let b=0;b<m;b++)c.setUint32(4*b,w[b],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:c}=this;return e.length=i,e.pos=c,e.finished=o,e.destroyed=s,i%r&&e.buffer.set(n),e}};var[zOt,WOt]=Ut.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),eb=new Uint32Array(80),tb=new Uint32Array(80),Eoe=class extends JL{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:o,Cl:s,Dh:c,Dl:l,Eh:m,El:w,Fh:b,Fl:E,Gh:I,Gl:M,Hh:k,Hl:R}=this;return[e,r,n,i,o,s,c,l,m,w,b,E,I,M,k,R]}set(e,r,n,i,o,s,c,l,m,w,b,E,I,M,k,R){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=c|0,this.Dl=l|0,this.Eh=m|0,this.El=w|0,this.Fh=b|0,this.Fl=E|0,this.Gh=I|0,this.Gl=M|0,this.Hh=k|0,this.Hl=R|0}process(e,r){for(let P=0;P<16;P++,r+=4)eb[P]=e.getUint32(r),tb[P]=e.getUint32(r+=4);for(let P=16;P<80;P++){let F=eb[P-15]|0,q=tb[P-15]|0,K=Ut.rotrSH(F,q,1)^Ut.rotrSH(F,q,8)^Ut.shrSH(F,q,7),re=Ut.rotrSL(F,q,1)^Ut.rotrSL(F,q,8)^Ut.shrSL(F,q,7),Q=eb[P-2]|0,ie=tb[P-2]|0,S=Ut.rotrSH(Q,ie,19)^Ut.rotrBH(Q,ie,61)^Ut.shrSH(Q,ie,6),a=Ut.rotrSL(Q,ie,19)^Ut.rotrBL(Q,ie,61)^Ut.shrSL(Q,ie,6),f=Ut.add4L(re,a,tb[P-7],tb[P-16]),p=Ut.add4H(f,K,S,eb[P-7],eb[P-16]);eb[P]=p|0,tb[P]=f|0}let{Ah:n,Al:i,Bh:o,Bl:s,Ch:c,Cl:l,Dh:m,Dl:w,Eh:b,El:E,Fh:I,Fl:M,Gh:k,Gl:R,Hh:B,Hl:U}=this;for(let P=0;P<80;P++){let F=Ut.rotrSH(b,E,14)^Ut.rotrSH(b,E,18)^Ut.rotrBH(b,E,41),q=Ut.rotrSL(b,E,14)^Ut.rotrSL(b,E,18)^Ut.rotrBL(b,E,41),K=b&I^~b&k,re=E&M^~E&R,Q=Ut.add5L(U,q,re,WOt[P],tb[P]),ie=Ut.add5H(Q,B,F,K,zOt[P],eb[P]),S=Q|0,a=Ut.rotrSH(n,i,28)^Ut.rotrBH(n,i,34)^Ut.rotrBH(n,i,39),f=Ut.rotrSL(n,i,28)^Ut.rotrBL(n,i,34)^Ut.rotrBL(n,i,39),p=n&o^n&c^o&c,y=i&s^i&l^s&l;B=k|0,U=R|0,k=I|0,R=M|0,I=b|0,M=E|0,{h:b,l:E}=Ut.add(m|0,w|0,ie|0,S|0),m=c|0,w=l|0,c=o|0,l=s|0,o=n|0,s=i|0;let g=Ut.add3L(S,f,y);n=Ut.add3H(g,ie,a,p),i=g|0}({h:n,l:i}=Ut.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:o,l:s}=Ut.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:c,l}=Ut.add(this.Ch|0,this.Cl|0,c|0,l|0),{h:m,l:w}=Ut.add(this.Dh|0,this.Dl|0,m|0,w|0),{h:b,l:E}=Ut.add(this.Eh|0,this.El|0,b|0,E|0),{h:I,l:M}=Ut.add(this.Fh|0,this.Fl|0,I|0,M|0),{h:k,l:R}=Ut.add(this.Gh|0,this.Gl|0,k|0,R|0),{h:B,l:U}=Ut.add(this.Hh|0,this.Hl|0,B|0,U|0),this.set(n,i,o,s,c,l,m,w,b,E,I,M,k,R,B,U)}roundClean(){eb.fill(0),tb.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};var _oe=NNe(()=>new Eoe);var GOt=qe(ds(),1),$Ot="ed25519 seed",YOt=2147483648,ZOt=new RegExp("^m(\\/[0-9]+')+$"),uDe=t=>t.replace("'",""),QOt=t=>{let r=QL.create(_oe,$Ot).update(Ef(t)).digest(),n=r.slice(0,32),i=r.slice(32);return{key:n,chainCode:i}},JOt=({key:t,chainCode:e},r)=>{let n=new ArrayBuffer(4);new DataView(n).setUint32(0,r);let o=new Uint8Array(1+t.length+n.byteLength);o.set(new Uint8Array(1).fill(0)),o.set(t,1),o.set(new Uint8Array(n,0,n.byteLength),t.length+1);let s=QL.create(_oe,e).update(o).digest(),c=s.slice(0,32),l=s.slice(32);return{key:c,chainCode:l}};var XOt=t=>ZOt.test(t)?!t.split("/").slice(1).map(uDe).some(isNaN):!1,Toe=(t,e,r=YOt)=>{if(!XOt(t))throw new Error("Invalid derivation path");let{key:n,chainCode:i}=QOt(e);return t.split("/").slice(1).map(uDe).map(s=>parseInt(s,10)).reduce((s,c)=>JOt(s,c+r),{key:n,chainCode:i})};d();h();var fDe=qe(ds(),1);var Ioe=32,LT=class extends NE{constructor(e){if(super(),typeof e=="string"?this.data=wn(e):e instanceof Uint8Array?this.data=e:this.data=Uint8Array.from(e),this.data.length!==Ioe)throw new Error(`Invalid public key input. Expected ${Ioe} bytes, got ${this.data.length}`)}equals(e){return super.equals(e)}toRawBytes(){return this.data}flag(){return Dp.ED25519}async verify(e,r){let n;if(typeof r=="string"){let i=iDe(r);if(i.signatureScheme!=="ED25519")throw new Error("Invalid signature scheme");if(!goe(this.toRawBytes(),i.publicKey))throw new Error("Signature does not match public key");n=i.signature}else n=r;return fDe.default.sign.detached.verify(e,n,this.toRawBytes())}};LT.SIZE=Ioe;var Moe="m/44'/784'/0'/0'/0'",FT=class t extends YL{constructor(e){super(),e?this.keypair=e:this.keypair=Ax.default.sign.keyPair()}getKeyScheme(){return"ED25519"}static generate(){return new t(Ax.default.sign.keyPair())}static fromSecretKey(e,r){if(typeof e=="string"){let o=sDe(e);if(o.schema!=="ED25519")throw new Error(`Expected a ED25519 keypair, got ${o.schema}`);return this.fromSecretKey(o.secretKey,r)}let n=e.length;if(n!==UT)throw new Error(`Wrong secretKey size. Expected ${UT} bytes, got ${n}.`);let i=Ax.default.sign.keyPair.fromSeed(e);if(!r||!r.skipValidation){let s=new TextEncoder().encode("sui validation"),c=Ax.default.sign.detached(s,i.secretKey);if(!Ax.default.sign.detached.verify(s,c,i.publicKey))throw new Error("provided secretKey is invalid")}return new t(i)}getPublicKey(){return new LT(this.keypair.publicKey)}getSecretKey(){return aDe(this.keypair.secretKey.slice(0,UT),this.getKeyScheme())}async sign(e){return Ax.default.sign.detached(e,this.keypair.secretKey)}static deriveKeypair(e,r){if(r==null&&(r=Moe),!Aoe(r))throw new Error("Invalid derivation path");let{key:n}=Toe(r,cDe(e));return t.fromSecretKey(n)}static deriveKeypairFromSeed(e,r){if(r==null&&(r=Moe),!Aoe(r))throw new Error("Invalid derivation path");let{key:n}=Toe(r,e);return t.fromSecretKey(n)}};var lDe=()=>({type:"keyPair",sign:async(t,e)=>{let r=FT.fromSecretKey(t.privateKey);try{let n;switch(e.signingType){case"personalMessage":{n=await r.signPersonalMessage(e.message);break}case"transaction":{n=await r.signTransaction(e.transaction);break}}return Promise.resolve({status:"success",signature:n.signature})}catch(n){return console.error(n),Promise.resolve(cn("invalidMessageEncoding"))}}});d();h();var XL=class{#e;constructor(e){this.#e=e}async signWithKeypair(e,r){if("isJWT"in r)return this.#e.keyPair.JWT.sign(e,r);if("isKMSP256OrganizationOwner"in r)return this.#e.keyPair.KMSP256OrganizationOwner.sign(e,r);if("isAgentWallet"in r)return this.#e.keyPair.Agent.sign(e,r);if("isCash"in r)return this.#e.keyPair.Cash.sign(e,r);let n=r.chainType;switch(n){case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":return this.#e.keyPair[n].sign(e,r);case"eip155":return this.#e.keyPair[n].sign(e,r);case"solana":return this.#e.keyPair[n].sign(e,r);case"sui":return this.#e.keyPair[n].sign(e,r)}}async signWithHardware(e,r,n){return this.#e.ledger.sign(e,r,n)}async signWithSolanaSeedVault(e,r,n){return this.#e.seedVault.sign(e,r,n)}};d();h();var dDe=t=>Nne.safeParse(t).success;d();h();var eNt=t=>({getSeed:e=>tNt(t,e),setSeed:(e,r)=>rNt(t,e,r),getClientJWTSigner:(e,r)=>nNt(t,e,r),setClientJWTSigner:(e,r,n)=>iNt(t,e,r,n),removeSeeds:e=>hDe(t,e),removeClientJWTKeypairs:e=>pDe(t,e),clear:async()=>{await hDe(t,"all"),await pDe(t,"all")}}),rb=`${Ru}.cache.secrets`,koe=t=>`${Ru}.cache.seed.${t}`,Poe=t=>`${Ru}.cache.client-jwt.${t}`,tNt=async({isEnabled:t,secretsStorage:e},r)=>{if(!t())return null;let n=koe(r),i=null;try{i=await e.getSecureValue(n)}catch{}if(!i)return null;let{bytes:o,encoding:s}=i.seed;return new Uint8Array(Buffer.from(o,s))},rNt=async({isEnabled:t,generalStorage:e,secretsStorage:r},n,i)=>{if(!t())return;let o=koe(n);await r.setSecureValue(o,{version:1,identifier:n,seed:{bytes:Buffer.from(i).toString("base64"),encoding:"base64"}});let s=await e.get(rb);if(!s)s={version:1,seedIdentifiers:[n],clientJWTKeypairIdentifiers:[]};else{let c=new Set(s.seedIdentifiers);c.add(n),s.seedIdentifiers=Array.from(c)}await e.set(rb,s)},hDe=async({generalStorage:t,secretsStorage:e},r)=>{let n=await t.get(rb);if(!n)return;let i=r==="all"?n.seedIdentifiers:r,o=new Set(i),s=n.seedIdentifiers.filter(c=>o.has(c));await e.removeSecureValue(s.map(koe)),await t.set(rb,{version:1,seedIdentifiers:n.seedIdentifiers.filter(c=>!o.has(c)),clientJWTKeypairIdentifiers:n.clientJWTKeypairIdentifiers??[]})},nNt=async({isEnabled:t,secretsStorage:e},r,n)=>{if(!t())return null;let i=Poe(r),o=null;try{o=await e.getSecureValue(i)}catch{}if(!o||!o.keyPairs[n])return null;let s=o.keyPairs[n],c=new Uint8Array(Buffer.from(s.p256pubkey.bytes,s.p256pubkey.encoding)),l=new Uint8Array(Buffer.from(s.p256privkey.bytes,s.p256privkey.encoding));return{p256pubkey:c,p256privkey:l}},iNt=async({isEnabled:t,generalStorage:e,secretsStorage:r},n,i,o)=>{if(!t())return;let s=Poe(n),c=await r.getSecureValue(s)??{version:1,identifier:n,keyPairs:{}};c.keyPairs[i]={p256pubkey:{bytes:Ho(Buffer.from(o.p256pubkey)),encoding:"base64"},p256privkey:{bytes:Ho(Buffer.from(o.p256privkey)),encoding:"base64"}},await r.setSecureValue(s,c);let l=await e.get(rb);if(!l)l={version:1,seedIdentifiers:[],clientJWTKeypairIdentifiers:[n]};else{let m=new Set(l.clientJWTKeypairIdentifiers??[]);m.add(n),l.clientJWTKeypairIdentifiers=Array.from(m)}await e.set(rb,l)},pDe=async({generalStorage:t,secretsStorage:e},r)=>{let n=await t.get(rb);if(!n||!n.clientJWTKeypairIdentifiers||n.clientJWTKeypairIdentifiers.length===0)return;let i=r==="all"?n.clientJWTKeypairIdentifiers:r,o=new Set(i);await e.removeSecureValue(i.map(Poe)),await t.set(rb,{version:1,seedIdentifiers:n.seedIdentifiers,clientJWTKeypairIdentifiers:n.clientJWTKeypairIdentifiers.filter(s=>!o.has(s))})};d();h();d();h();d();h();d();h();d();h();async function Boe(t){let e=new Uint8Array(Array.from("mnemonic"+(t.passphrase??"")).map(r=>r.charCodeAt(0)));return t.pbkdf2(t.mnemonic,e,2048,64,"sha512")}d();h();var vDe=qe(Vn());d();h();d();h();function Roe(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function oNt(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function mDe(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function sNt(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Roe(t.outputLen),Roe(t.blockLen)}function aNt(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function cNt(t,e){mDe(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var uNt={number:Roe,bool:oNt,bytes:mDe,hash:sNt,exists:aNt,output:cNt},Qc=uNt;d();h();d();h();d();h();var fNt={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};var LE=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),bd=(t,e)=>t<<32-e|t>>>e,lNt=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!lNt)throw new Error("Non little-endian hardware is not supported");var Q3n=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function dNt(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function nb(t){if(typeof t=="string"&&(t=dNt(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}var UE=class{clone(){return this._cloneInto()}},hNt=t=>Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object;function yDe(t,e){if(e!==void 0&&(typeof e!="object"||!hNt(e)))throw new TypeError("Options should be object or undefined");return Object.assign(t,e)}function ib(t){let e=n=>t().update(nb(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}var eF=class extends UE{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,Qc.hash(e);let n=nb(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?e.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(e){return Qc.exists(this),this.iHash.update(e),this}digestInto(e){Qc.exists(this),Qc.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:c}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=c,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},tF=(t,e,r)=>new eF(t,e).update(r).digest();tF.create=(t,e)=>new eF(t,e);function pNt(t,e,r,n){Qc.hash(t);let i=yDe({dkLen:32,asyncTick:10},n),{c:o,dkLen:s,asyncTick:c}=i;if(Qc.number(o),Qc.number(s),Qc.number(c),o<1)throw new Error("PBKDF2: iterations (c) should be >= 1");let l=nb(e),m=nb(r),w=new Uint8Array(s),b=tF.create(t,l),E=b._cloneInto().update(m);return{c:o,dkLen:s,asyncTick:c,DK:w,PRF:b,PRFSalt:E}}function mNt(t,e,r,n,i){return t.destroy(),e.destroy(),n&&n.destroy(),i.fill(0),r}function gDe(t,e,r,n){let{c:i,dkLen:o,DK:s,PRF:c,PRFSalt:l}=pNt(t,e,r,n),m,w=new Uint8Array(4),b=LE(w),E=new Uint8Array(c.outputLen);for(let I=1,M=0;M<o;I++,M+=c.outputLen){let k=s.subarray(M,M+c.outputLen);b.setInt32(0,I,!1),(m=l._cloneInto(m)).update(w).digestInto(E),k.set(E.subarray(0,k.length));for(let R=1;R<i;R++){c._cloneInto(m).update(E).digestInto(E);for(let B=0;B<k.length;B++)k[B]^=E[B]}}return mNt(c,l,s,m,E)}d();h();d();h();function yNt(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),c=Number(r&o),l=n?4:0,m=n?0:4;t.setUint32(e+l,s,n),t.setUint32(e+m,c,n)}var FE=class extends UE{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=LE(this.buffer)}update(e){Qc.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=nb(e);let o=e.length;for(let s=0;s<o;){let c=Math.min(i-this.pos,o-s);if(c===i){let l=LE(e);for(;i<=o-s;s+=i)this.process(l,s);continue}n.set(e.subarray(s,s+c),this.pos),this.pos+=c,s+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Qc.exists(this),Qc.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let b=s;b<i;b++)r[b]=0;yNt(n,i-8,BigInt(this.length*8),o),this.process(n,0);let c=LE(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let m=l/4,w=this.get();if(m>w.length)throw new Error("_sha2: outputLen bigger than state");for(let b=0;b<m;b++)c.setUint32(4*b,w[b],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:c}=this;return e.length=i,e.pos=c,e.finished=o,e.destroyed=s,i%r&&e.buffer.set(n),e}};var gNt=(t,e,r)=>t&e^~t&r,bNt=(t,e,r)=>t&e^t&r^e&r,vNt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ob=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),sb=new Uint32Array(64),rF=class extends FE{constructor(){super(64,32,8,!1),this.A=ob[0]|0,this.B=ob[1]|0,this.C=ob[2]|0,this.D=ob[3]|0,this.E=ob[4]|0,this.F=ob[5]|0,this.G=ob[6]|0,this.H=ob[7]|0}get(){let{A:e,B:r,C:n,D:i,E:o,F:s,G:c,H:l}=this;return[e,r,n,i,o,s,c,l]}set(e,r,n,i,o,s,c,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=c|0,this.H=l|0}process(e,r){for(let b=0;b<16;b++,r+=4)sb[b]=e.getUint32(r,!1);for(let b=16;b<64;b++){let E=sb[b-15],I=sb[b-2],M=bd(E,7)^bd(E,18)^E>>>3,k=bd(I,17)^bd(I,19)^I>>>10;sb[b]=k+sb[b-7]+M+sb[b-16]|0}let{A:n,B:i,C:o,D:s,E:c,F:l,G:m,H:w}=this;for(let b=0;b<64;b++){let E=bd(c,6)^bd(c,11)^bd(c,25),I=w+E+gNt(c,l,m)+vNt[b]+sb[b]|0,k=(bd(n,2)^bd(n,13)^bd(n,22))+bNt(n,i,o)|0;w=m,m=l,l=c,c=s+I|0,s=o,o=i,i=n,n=I+k|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,c=c+this.E|0,l=l+this.F|0,m=m+this.G|0,w=w+this.H|0,this.set(n,i,o,s,c,l,m,w)}roundClean(){sb.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},Coe=class extends rF{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}},Ooe=ib(()=>new rF),x6n=ib(()=>new Coe);d();h();d();h();var nF=BigInt(4294967295),Noe=BigInt(32);function bDe(t,e=!1){return e?{h:Number(t&nF),l:Number(t>>Noe&nF)}:{h:Number(t>>Noe&nF)|0,l:Number(t&nF)|0}}function xNt(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:o,l:s}=bDe(t[i],e);[r[i],n[i]]=[o,s]}return[r,n]}var wNt=(t,e)=>BigInt(t>>>0)<<Noe|BigInt(e>>>0),SNt=(t,e,r)=>t>>>r,ANt=(t,e,r)=>t<<32-r|e>>>r,ENt=(t,e,r)=>t>>>r|e<<32-r,_Nt=(t,e,r)=>t<<32-r|e>>>r,TNt=(t,e,r)=>t<<64-r|e>>>r-32,INt=(t,e,r)=>t>>>r-32|e<<64-r,MNt=(t,e)=>e,kNt=(t,e)=>t,PNt=(t,e,r)=>t<<r|e>>>32-r,BNt=(t,e,r)=>e<<r|t>>>32-r,RNt=(t,e,r)=>e<<r-32|t>>>64-r,CNt=(t,e,r)=>t<<r-32|e>>>64-r;function ONt(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}var NNt=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),DNt=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,UNt=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),LNt=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,FNt=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),VNt=(t,e,r,n,i,o)=>e+r+n+i+o+(t/2**32|0)|0,qNt={fromBig:bDe,split:xNt,toBig:wNt,shrSH:SNt,shrSL:ANt,rotrSH:ENt,rotrSL:_Nt,rotrBH:TNt,rotrBL:INt,rotr32H:MNt,rotr32L:kNt,rotlSH:PNt,rotlSL:BNt,rotlBH:RNt,rotlBL:CNt,add:ONt,add3L:NNt,add3H:DNt,add4L:UNt,add4H:LNt,add5H:VNt,add5L:FNt},mr=qNt;var[KNt,HNt]=mr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),ab=new Uint32Array(80),cb=new Uint32Array(80),VE=class extends FE{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:o,Cl:s,Dh:c,Dl:l,Eh:m,El:w,Fh:b,Fl:E,Gh:I,Gl:M,Hh:k,Hl:R}=this;return[e,r,n,i,o,s,c,l,m,w,b,E,I,M,k,R]}set(e,r,n,i,o,s,c,l,m,w,b,E,I,M,k,R){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=c|0,this.Dl=l|0,this.Eh=m|0,this.El=w|0,this.Fh=b|0,this.Fl=E|0,this.Gh=I|0,this.Gl=M|0,this.Hh=k|0,this.Hl=R|0}process(e,r){for(let P=0;P<16;P++,r+=4)ab[P]=e.getUint32(r),cb[P]=e.getUint32(r+=4);for(let P=16;P<80;P++){let F=ab[P-15]|0,q=cb[P-15]|0,K=mr.rotrSH(F,q,1)^mr.rotrSH(F,q,8)^mr.shrSH(F,q,7),re=mr.rotrSL(F,q,1)^mr.rotrSL(F,q,8)^mr.shrSL(F,q,7),Q=ab[P-2]|0,ie=cb[P-2]|0,S=mr.rotrSH(Q,ie,19)^mr.rotrBH(Q,ie,61)^mr.shrSH(Q,ie,6),a=mr.rotrSL(Q,ie,19)^mr.rotrBL(Q,ie,61)^mr.shrSL(Q,ie,6),f=mr.add4L(re,a,cb[P-7],cb[P-16]),p=mr.add4H(f,K,S,ab[P-7],ab[P-16]);ab[P]=p|0,cb[P]=f|0}let{Ah:n,Al:i,Bh:o,Bl:s,Ch:c,Cl:l,Dh:m,Dl:w,Eh:b,El:E,Fh:I,Fl:M,Gh:k,Gl:R,Hh:B,Hl:U}=this;for(let P=0;P<80;P++){let F=mr.rotrSH(b,E,14)^mr.rotrSH(b,E,18)^mr.rotrBH(b,E,41),q=mr.rotrSL(b,E,14)^mr.rotrSL(b,E,18)^mr.rotrBL(b,E,41),K=b&I^~b&k,re=E&M^~E&R,Q=mr.add5L(U,q,re,HNt[P],cb[P]),ie=mr.add5H(Q,B,F,K,KNt[P],ab[P]),S=Q|0,a=mr.rotrSH(n,i,28)^mr.rotrBH(n,i,34)^mr.rotrBH(n,i,39),f=mr.rotrSL(n,i,28)^mr.rotrBL(n,i,34)^mr.rotrBL(n,i,39),p=n&o^n&c^o&c,y=i&s^i&l^s&l;B=k|0,U=R|0,k=I|0,R=M|0,I=b|0,M=E|0,{h:b,l:E}=mr.add(m|0,w|0,ie|0,S|0),m=c|0,w=l|0,c=o|0,l=s|0,o=n|0,s=i|0;let g=mr.add3L(S,f,y);n=mr.add3H(g,ie,a,p),i=g|0}({h:n,l:i}=mr.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:o,l:s}=mr.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:c,l}=mr.add(this.Ch|0,this.Cl|0,c|0,l|0),{h:m,l:w}=mr.add(this.Dh|0,this.Dl|0,m|0,w|0),{h:b,l:E}=mr.add(this.Eh|0,this.El|0,b|0,E|0),{h:I,l:M}=mr.add(this.Fh|0,this.Fl|0,I|0,M|0),{h:k,l:R}=mr.add(this.Gh|0,this.Gl|0,k|0,R|0),{h:B,l:U}=mr.add(this.Hh|0,this.Hl|0,B|0,U|0),this.set(n,i,o,s,c,l,m,w,b,E,I,M,k,R,B,U)}roundClean(){ab.fill(0),cb.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},Doe=class extends VE{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},Uoe=class extends VE{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},Loe=class extends VE{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}},Foe=ib(()=>new VE),P6n=ib(()=>new Doe),B6n=ib(()=>new Uoe),R6n=ib(()=>new Loe);var zNt=qe(ds());d();h();var Voe=["abandon","ability","able","about","above","absent","absorb","abstract","absurd","abuse","access","accident","account","accuse","achieve","acid","acoustic","acquire","across","act","action","actor","actress","actual","adapt","add","addict","address","adjust","admit","adult","advance","advice","aerobic","affair","afford","afraid","again","age","agent","agree","ahead","aim","air","airport","aisle","alarm","album","alcohol","alert","alien","all","alley","allow","almost","alone","alpha","already","also","alter","always","amateur","amazing","among","amount","amused","analyst","anchor","ancient","anger","angle","angry","animal","ankle","announce","annual","another","answer","antenna","antique","anxiety","any","apart","apology","appear","apple","approve","april","arch","arctic","area","arena","argue","arm","armed","armor","army","around","arrange","arrest","arrive","arrow","art","artefact","artist","artwork","ask","aspect","assault","asset","assist","assume","asthma","athlete","atom","attack","attend","attitude","attract","auction","audit","august","aunt","author","auto","autumn","average","avocado","avoid","awake","aware","away","awesome","awful","awkward","axis","baby","bachelor","bacon","badge","bag","balance","balcony","ball","bamboo","banana","banner","bar","barely","bargain","barrel","base","basic","basket","battle","beach","bean","beauty","because","become","beef","before","begin","behave","behind","believe","below","belt","bench","benefit","best","betray","better","between","beyond","bicycle","bid","bike","bind","biology","bird","birth","bitter","black","blade","blame","blanket","blast","bleak","bless","blind","blood","blossom","blouse","blue","blur","blush","board","boat","body","boil","bomb","bone","bonus","book","boost","border","boring","borrow","boss","bottom","bounce","box","boy","bracket","brain","brand","brass","brave","bread","breeze","brick","bridge","brief","bright","bring","brisk","broccoli","broken","bronze","broom","brother","brown","brush","bubble","buddy","budget","buffalo","build","bulb","bulk","bullet","bundle","bunker","burden","burger","burst","bus","business","busy","butter","buyer","buzz","cabbage","cabin","cable","cactus","cage","cake","call","calm","camera","camp","can","canal","cancel","candy","cannon","canoe","canvas","canyon","capable","capital","captain","car","carbon","card","cargo","carpet","carry","cart","case","cash","casino","castle","casual","cat","catalog","catch","category","cattle","caught","cause","caution","cave","ceiling","celery","cement","census","century","cereal","certain","chair","chalk","champion","change","chaos","chapter","charge","chase","chat","cheap","check","cheese","chef","cherry","chest","chicken","chief","child","chimney","choice","choose","chronic","chuckle","chunk","churn","cigar","cinnamon","circle","citizen","city","civil","claim","clap","clarify","claw","clay","clean","clerk","clever","click","client","cliff","climb","clinic","clip","clock","clog","close","cloth","cloud","clown","club","clump","cluster","clutch","coach","coast","coconut","code","coffee","coil","coin","collect","color","column","combine","come","comfort","comic","common","company","concert","conduct","confirm","congress","connect","consider","control","convince","cook","cool","copper","copy","coral","core","corn","correct","cost","cotton","couch","country","couple","course","cousin","cover","coyote","crack","cradle","craft","cram","crane","crash","crater","crawl","crazy","cream","credit","creek","crew","cricket","crime","crisp","critic","crop","cross","crouch","crowd","crucial","cruel","cruise","crumble","crunch","crush","cry","crystal","cube","culture","cup","cupboard","curious","current","curtain","curve","cushion","custom","cute","cycle","dad","damage","damp","dance","danger","daring","dash","daughter","dawn","day","deal","debate","debris","decade","december","decide","decline","decorate","decrease","deer","defense","define","defy","degree","delay","deliver","demand","demise","denial","dentist","deny","depart","depend","deposit","depth","deputy","derive","describe","desert","design","desk","despair","destroy","detail","detect","develop","device","devote","diagram","dial","diamond","diary","dice","diesel","diet","differ","digital","dignity","dilemma","dinner","dinosaur","direct","dirt","disagree","discover","disease","dish","dismiss","disorder","display","distance","divert","divide","divorce","dizzy","doctor","document","dog","doll","dolphin","domain","donate","donkey","donor","door","dose","double","dove","draft","dragon","drama","drastic","draw","dream","dress","drift","drill","drink","drip","drive","drop","drum","dry","duck","dumb","dune","during","dust","dutch","duty","dwarf","dynamic","eager","eagle","early","earn","earth","easily","east","easy","echo","ecology","economy","edge","edit","educate","effort","egg","eight","either","elbow","elder","electric","elegant","element","elephant","elevator","elite","else","embark","embody","embrace","emerge","emotion","employ","empower","empty","enable","enact","end","endless","endorse","enemy","energy","enforce","engage","engine","enhance","enjoy","enlist","enough","enrich","enroll","ensure","enter","entire","entry","envelope","episode","equal","equip","era","erase","erode","erosion","error","erupt","escape","essay","essence","estate","eternal","ethics","evidence","evil","evoke","evolve","exact","example","excess","exchange","excite","exclude","excuse","execute","exercise","exhaust","exhibit","exile","exist","exit","exotic","expand","expect","expire","explain","expose","express","extend","extra","eye","eyebrow","fabric","face","faculty","fade","faint","faith","fall","false","fame","family","famous","fan","fancy","fantasy","farm","fashion","fat","fatal","father","fatigue","fault","favorite","feature","february","federal","fee","feed","feel","female","fence","festival","fetch","fever","few","fiber","fiction","field","figure","file","film","filter","final","find","fine","finger","finish","fire","firm","first","fiscal","fish","fit","fitness","fix","flag","flame","flash","flat","flavor","flee","flight","flip","float","flock","floor","flower","fluid","flush","fly","foam","focus","fog","foil","fold","follow","food","foot","force","forest","forget","fork","fortune","forum","forward","fossil","foster","found","fox","fragile","frame","frequent","fresh","friend","fringe","frog","front","frost","frown","frozen","fruit","fuel","fun","funny","furnace","fury","future","gadget","gain","galaxy","gallery","game","gap","garage","garbage","garden","garlic","garment","gas","gasp","gate","gather","gauge","gaze","general","genius","genre","gentle","genuine","gesture","ghost","giant","gift","giggle","ginger","giraffe","girl","give","glad","glance","glare","glass","glide","glimpse","globe","gloom","glory","glove","glow","glue","goat","goddess","gold","good","goose","gorilla","gospel","gossip","govern","gown","grab","grace","grain","grant","grape","grass","gravity","great","green","grid","grief","grit","grocery","group","grow","grunt","guard","guess","guide","guilt","guitar","gun","gym","habit","hair","half","hammer","hamster","hand","happy","harbor","hard","harsh","harvest","hat","have","hawk","hazard","head","health","heart","heavy","hedgehog","height","hello","helmet","help","hen","hero","hidden","high","hill","hint","hip","hire","history","hobby","hockey","hold","hole","holiday","hollow","home","honey","hood","hope","horn","horror","horse","hospital","host","hotel","hour","hover","hub","huge","human","humble","humor","hundred","hungry","hunt","hurdle","hurry","hurt","husband","hybrid","ice","icon","idea","identify","idle","ignore","ill","illegal","illness","image","imitate","immense","immune","impact","impose","improve","impulse","inch","include","income","increase","index","indicate","indoor","industry","infant","inflict","inform","inhale","inherit","initial","inject","injury","inmate","inner","innocent","input","inquiry","insane","insect","inside","inspire","install","intact","interest","into","invest","invite","involve","iron","island","isolate","issue","item","ivory","jacket","jaguar","jar","jazz","jealous","jeans","jelly","jewel","job","join","joke","journey","joy","judge","juice","jump","jungle","junior","junk","just","kangaroo","keen","keep","ketchup","key","kick","kid","kidney","kind","kingdom","kiss","kit","kitchen","kite","kitten","kiwi","knee","knife","knock","know","lab","label","labor","ladder","lady","lake","lamp","language","laptop","large","later","latin","laugh","laundry","lava","law","lawn","lawsuit","layer","lazy","leader","leaf","learn","leave","lecture","left","leg","legal","legend","leisure","lemon","lend","length","lens","leopard","lesson","letter","level","liar","liberty","library","license","life","lift","light","like","limb","limit","link","lion","liquid","list","little","live","lizard","load","loan","lobster","local","lock","logic","lonely","long","loop","lottery","loud","lounge","love","loyal","lucky","luggage","lumber","lunar","lunch","luxury","lyrics","machine","mad","magic","magnet","maid","mail","main","major","make","mammal","man","manage","mandate","mango","mansion","manual","maple","marble","march","margin","marine","market","marriage","mask","mass","master","match","material","math","matrix","matter","maximum","maze","meadow","mean","measure","meat","mechanic","medal","media","melody","melt","member","memory","mention","menu","mercy","merge","merit","merry","mesh","message","metal","method","middle","midnight","milk","million","mimic","mind","minimum","minor","minute","miracle","mirror","misery","miss","mistake","mix","mixed","mixture","mobile","model","modify","mom","moment","monitor","monkey","monster","month","moon","moral","more","morning","mosquito","mother","motion","motor","mountain","mouse","move","movie","much","muffin","mule","multiply","muscle","museum","mushroom","music","must","mutual","myself","mystery","myth","naive","name","napkin","narrow","nasty","nation","nature","near","neck","need","negative","neglect","neither","nephew","nerve","nest","net","network","neutral","never","news","next","nice","night","noble","noise","nominee","noodle","normal","north","nose","notable","note","nothing","notice","novel","now","nuclear","number","nurse","nut","oak","obey","object","oblige","obscure","observe","obtain","obvious","occur","ocean","october","odor","off","offer","office","often","oil","okay","old","olive","olympic","omit","once","one","onion","online","only","open","opera","opinion","oppose","option","orange","orbit","orchard","order","ordinary","organ","orient","original","orphan","ostrich","other","outdoor","outer","output","outside","oval","oven","over","own","owner","oxygen","oyster","ozone","pact","paddle","page","pair","palace","palm","panda","panel","panic","panther","paper","parade","parent","park","parrot","party","pass","patch","path","patient","patrol","pattern","pause","pave","payment","peace","peanut","pear","peasant","pelican","pen","penalty","pencil","people","pepper","perfect","permit","person","pet","phone","photo","phrase","physical","piano","picnic","picture","piece","pig","pigeon","pill","pilot","pink","pioneer","pipe","pistol","pitch","pizza","place","planet","plastic","plate","play","please","pledge","pluck","plug","plunge","poem","poet","point","polar","pole","police","pond","pony","pool","popular","portion","position","possible","post","potato","pottery","poverty","powder","power","practice","praise","predict","prefer","prepare","present","pretty","prevent","price","pride","primary","print","priority","prison","private","prize","problem","process","produce","profit","program","project","promote","proof","property","prosper","protect","proud","provide","public","pudding","pull","pulp","pulse","pumpkin","punch","pupil","puppy","purchase","purity","purpose","purse","push","put","puzzle","pyramid","quality","quantum","quarter","question","quick","quit","quiz","quote","rabbit","raccoon","race","rack","radar","radio","rail","rain","raise","rally","ramp","ranch","random","range","rapid","rare","rate","rather","raven","raw","razor","ready","real","reason","rebel","rebuild","recall","receive","recipe","record","recycle","reduce","reflect","reform","refuse","region","regret","regular","reject","relax","release","relief","rely","remain","remember","remind","remove","render","renew","rent","reopen","repair","repeat","replace","report","require","rescue","resemble","resist","resource","response","result","retire","retreat","return","reunion","reveal","review","reward","rhythm","rib","ribbon","rice","rich","ride","ridge","rifle","right","rigid","ring","riot","ripple","risk","ritual","rival","river","road","roast","robot","robust","rocket","romance","roof","rookie","room","rose","rotate","rough","round","route","royal","rubber","rude","rug","rule","run","runway","rural","sad","saddle","sadness","safe","sail","salad","salmon","salon","salt","salute","same","sample","sand","satisfy","satoshi","sauce","sausage","save","say","scale","scan","scare","scatter","scene","scheme","school","science","scissors","scorpion","scout","scrap","screen","script","scrub","sea","search","season","seat","second","secret","section","security","seed","seek","segment","select","sell","seminar","senior","sense","sentence","series","service","session","settle","setup","seven","shadow","shaft","shallow","share","shed","shell","sheriff","shield","shift","shine","ship","shiver","shock","shoe","shoot","shop","short","shoulder","shove","shrimp","shrug","shuffle","shy","sibling","sick","side","siege","sight","sign","silent","silk","silly","silver","similar","simple","since","sing","siren","sister","situate","six","size","skate","sketch","ski","skill","skin","skirt","skull","slab","slam","sleep","slender","slice","slide","slight","slim","slogan","slot","slow","slush","small","smart","smile","smoke","smooth","snack","snake","snap","sniff","snow","soap","soccer","social","sock","soda","soft","solar","soldier","solid","solution","solve","someone","song","soon","sorry","sort","soul","sound","soup","source","south","space","spare","spatial","spawn","speak","special","speed","spell","spend","sphere","spice","spider","spike","spin","spirit","split","spoil","sponsor","spoon","sport","spot","spray","spread","spring","spy","square","squeeze","squirrel","stable","stadium","staff","stage","stairs","stamp","stand","start","state","stay","steak","steel","stem","step","stereo","stick","still","sting","stock","stomach","stone","stool","story","stove","strategy","street","strike","strong","struggle","student","stuff","stumble","style","subject","submit","subway","success","such","sudden","suffer","sugar","suggest","suit","summer","sun","sunny","sunset","super","supply","supreme","sure","surface","surge","surprise","surround","survey","suspect","sustain","swallow","swamp","swap","swarm","swear","sweet","swift","swim","swing","switch","sword","symbol","symptom","syrup","system","table","tackle","tag","tail","talent","talk","tank","tape","target","task","taste","tattoo","taxi","teach","team","tell","ten","tenant","tennis","tent","term","test","text","thank","that","theme","then","theory","there","they","thing","this","thought","three","thrive","throw","thumb","thunder","ticket","tide","tiger","tilt","timber","time","tiny","tip","tired","tissue","title","toast","tobacco","today","toddler","toe","together","toilet","token","tomato","tomorrow","tone","tongue","tonight","tool","tooth","top","topic","topple","torch","tornado","tortoise","toss","total","tourist","toward","tower","town","toy","track","trade","traffic","tragic","train","transfer","trap","trash","travel","tray","treat","tree","trend","trial","tribe","trick","trigger","trim","trip","trophy","trouble","truck","true","truly","trumpet","trust","truth","try","tube","tuition","tumble","tuna","tunnel","turkey","turn","turtle","twelve","twenty","twice","twin","twist","two","type","typical","ugly","umbrella","unable","unaware","uncle","uncover","under","undo","unfair","unfold","unhappy","uniform","unique","unit","universe","unknown","unlock","until","unusual","unveil","update","upgrade","uphold","upon","upper","upset","urban","urge","usage","use","used","useful","useless","usual","utility","vacant","vacuum","vague","valid","valley","valve","van","vanish","vapor","various","vast","vault","vehicle","velvet","vendor","venture","venue","verb","verify","version","very","vessel","veteran","viable","vibrant","vicious","victory","video","view","village","vintage","violin","virtual","virus","visa","visit","visual","vital","vivid","vocal","voice","void","volcano","volume","vote","voyage","wage","wagon","wait","walk","wall","walnut","want","warfare","warm","warrior","wash","wasp","waste","water","wave","way","wealth","weapon","wear","weasel","weather","web","wedding","weekend","weird","welcome","west","wet","whale","what","wheat","wheel","when","where","whip","whisper","wide","width","wife","wild","will","win","window","wine","wing","wink","winner","winter","wire","wisdom","wise","wish","witness","wolf","woman","wonder","wood","wool","word","work","world","worry","worth","wrap","wreck","wrestle","wrist","write","wrong","yard","year","yellow","you","young","youth","zebra","zero","zone","zoo"],D6n=new Set(Voe);var WNt=(t,e,r,n,i)=>{let o;switch(i){case"rmd160":case"md5":case"sha":throw new Error(`${i} is unsupported by noble`);case"ripemd160":case"sha1":case"sha224":case"sha384":throw new Error(`${i} is supported by noble, but we don't need it for bip39`);case"sha256":o=Ooe;break;case"sha512":o=Foe;break}return gDe(o,t,e,{c:r,dkLen:n})},GNt=(t,e,r)=>{for(;t.length<r;)t=e+t;return t},xDe=t=>t.map(e=>GNt(e.toString(2),"0",8)).join(""),$Nt=t=>parseInt(t,2),YNt=t=>{let r=t.length*8/32,n=Ooe(t);return xDe(Array.from(n)).slice(0,r)};var qoe=async t=>{let e=Voe;if(t.length<16)throw new Error("LessThanTwelve");if(t.length>32)throw new Error("MoreThanTwentyFour");if(t.length%4!==0)throw new Error("WrongWord");let r,n;try{r=xDe(Array.from(t))}catch{throw new Error("InvalidEntropyBits")}try{n=YNt(t)}catch{throw new Error("InvalidChecksumBits")}let o=(r+n).match(/(.{1,11})/g);if(!o)throw new Error("InvalidChecksum");let s=o.map(m=>{let w=$Nt(m);return e[w]}),c=vDe.Buffer.from(s.join(" "));return{seed:await Boe({mnemonic:c,pbkdf2:WNt}),mnemonic:c}};d();h();var ZNt=qe(ds()),Z6n=new RegExp("^m(\\/[0-9]+')+$");d();h();async function ub(t,e){let r=await u7e(t,e);if(!r)throw new Ep;let n=Ii.from(r.entropy);return r.entropy.fill(0),n}async function As(t,e){let r,n=await t.secureCache.getSeed(e);if(n)r=n;else{let o=await ub(t,e),{seed:s}=await o.foldAsync(qoe);r=s,await t.secureCache.setSeed(e,r)}let i=Ii.from(r);return r.fill(0),i}d();h();var Koe=qe(Ix());function Ex(t){return t.fold(Koe.keccak256)}function fb(t,e,r){let n=gp[r];return Koe.keccak256(`${t}:${e}:${n}`)}function zh(t,e,r,n){let i={};for(let o of n){let{publicKey:s}=t.keypairGenerator.generateKeypairFromSeed(e,r,o),c=ya.getAddressType(o);switch(o){case"bitcoinTaproot":case"bitcoinNativeSegwit":case"bitcoinNestedSegwit":case"bitcoinLegacy":{i[c]={chainType:c,pathType:o,publicKey:s,addresses:Object.values(Eo).reduce((l,m)=>({...l,[m]:ms({publicKey:s,addressType:c,networkID:m})}),{})};break}case"bip44RootEthereum":case"bip44Ethereum":case"bip44EthereumSecondary":case"bip44EthereumTertiary":case"bip44Root":case"bip44Change":case"bip44":case"deprecated":{i[c]={chainType:c,pathType:o,publicKey:ms({publicKey:s,addressType:c})};break}case"bip44Sui":{i[c]={chainType:c,pathType:o,publicKey:s,address:ms({publicKey:s,addressType:c})};break}default:Ct(o)}}return i}async function wDe(t,e){let r=new Set,n=await ti(t);for(let o of n)o.type==="seed"&&o.seedIdentifier===e&&gp[Object.values(o.chains)[0].pathType]===0&&r.add(o.derivationIndex);let i=0;for(let o=0;o<=r.size;o++)if(!r.has(o)){i=o;break}return SDe(t,e,i)}async function SDe(t,e,r){try{return await QNt(t,e,r)}catch(n){if(n instanceof Bh)return await SDe(t,e,r+1);throw n}}async function QNt(t,e,r){let n=await As(t,e),i=(await t.fetchChainAvailability()).enabledAddressTypes,o=Ql(i),s=await fb(e,r,o[0]),c={version:1,type:"seed",identifier:s,seedIdentifier:e,derivationIndex:r,chains:zh(t,n,r,o)};return await Na(t,c,!1),c}d();h();var kDe=qe(ZP());var PDe=qe(d4()),BDe=qe(MDe()),RDe=qe(Ix());function nDt(t,e,r){let n=gp[r];return RDe.keccak256(`${t}:${e}:${n}`)}async function CDe(t,e,r){let n=[];for(let i of r){if(i.addresses.length===0&&i.publicKeys.length===0)throw new Error("Must have at least 1 address or public key in account to add Ledger account.");let o=i.addresses[0]?.pathType||i.publicKeys[0]?.pathType,s=nDt(e,i.derivationIndex,o);PDe.initEccLib(kDe);let c=(0,BDe.ECPairFactory)(kDe),l={...i.addresses.reduce((w,b)=>{let E=ya.getAddressType(b.pathType);switch(E){case"eip155":case"solana":{w[E]={chainType:E,pathType:b.pathType,publicKey:b.value};break}case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":throw new Error("Bitcoin accounts should be using public key not computed addresses");case"sui":throw new nS("add ledger account");default:Ct(E)}return w},{}),...i.publicKeys.reduce((w,b)=>{let E=ya.getAddressType(b.pathType);switch(E){case"eip155":case"solana":throw new Error("EVM or Solana accounts should be using addreses directly, not public keys");case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":{let I=c.fromPublicKey(Buffer.from(b.value,"hex")),M=new Uint8Array(I.publicKey);w[E]={chainType:E,pathType:b.pathType,publicKey:M,addresses:Object.values(Eo).reduce((k,R)=>({...k,[R]:ms({publicKey:M,addressType:E,networkID:R})}),{})};break}case"sui":throw new nS("add ledger account");default:Ct(E)}return w},{})},m={version:1,type:"ledger",identifier:s,ledgerGroupIdentifier:e,derivationIndex:i.derivationIndex,chains:l};n.push(m),await Na(t,m)}return n}d();h();var ODe=qe(Ix());function iDt(t){return ODe.keccak256(t)}async function NDe(t,e,r,n){let i=await t.keypairGenerator.generateKeypairFromPrivateKey(r,e),o=await Cu(t),s=iDt(i.publicKey);if((o?.privateKeyIdentifiers??[]).includes(s))throw new T5;let m={version:1,identifier:s,name:n,chainType:e,privateKey:Buffer.from(i.privateKey)},w=s,b;switch(e){case"eip155":case"solana":{b={version:1,type:"privateKey",identifier:w,privateKeyIdentifier:s,publicKey:ms({publicKey:i.publicKey,addressType:e}),chainType:e};break}case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":{b={version:1,type:"privateKey",identifier:w,privateKeyIdentifier:s,publicKey:i.publicKey,addresses:Object.values(Eo).reduce((E,I)=>({...E,[I]:ms({publicKey:i.publicKey,addressType:e,networkID:I})}),{}),chainType:e};break}case"sui":{b={version:1,type:"privateKey",identifier:w,privateKeyIdentifier:s,publicKey:i.publicKey,address:ms({publicKey:i.publicKey,addressType:e}),chainType:e};break}default:Ct(e)}if(!b)throw new Error("unable to create a private key account based on the address type");return await Na(t,b),await f7e(t,m),b}d();h();var DDe=qe(Ix());function oDt(t){return DDe.keccak256(t)}async function UDe(t,e){let r=Object.values(e).find(Boolean);if(!r)throw new E5;let n=oDt(r),i={version:1,type:"readOnly",identifier:n,addresses:e};return await Na(t,i),i}d();h();async function LDe(t,e){let r=new Set,n=await ti(t);for(let o of n)o.type==="seedless"&&o.seedIdentifier===e&&gp[Object.values(o.chains)[0].pathType]===0&&r.add(o.derivationIndex);let i=0;for(let o=0;o<=r.size;o++)if(!r.has(o)){i=o;break}return FDe(t,e,i)}async function FDe(t,e,r){try{return await sDt(t,e,r)}catch(n){if(n instanceof Bh)return await FDe(t,e,r+1);throw n}}async function sDt(t,e,r){let n=await As(t,e),i=(await t.fetchChainAvailability()).enabledAddressTypes,o=Ql(i),s=await fb(e,r,o[0]),c={version:1,type:"seedless",identifier:s,seedIdentifier:e,derivationIndex:r,chains:zh(t,n,r,o)};return await Na(t,c,!1),c}d();h();d();h();d();h();async function HE(t,e){let r=await Cu(t),n=Ex(e),i=r?.seedIdentifiers??[],o=r?.seedlessIdentifiers??[];return i.concat(o).includes(n)}async function oF(t,e,r,n){if((await BD(t)).length>0)throw new xD;if(n.length===0)throw new _5;if(await HE(t,e))throw new Dv;let s=Ex(e),c=e.fold(w=>({version:1,identifier:s,name:r,entropy:new Uint8Array(w)}));await d7e(t,c);let l=[],m=await As(t,s);for(let w of n){let b=fb(s,w.derivationIndex,w.derivationPathTypes[0]),E=zh(t,m,w.derivationIndex,w.derivationPathTypes),I={version:1,type:"seedless",identifier:b,seedIdentifier:s,derivationIndex:w.derivationIndex,chains:E};await Na(t,I),l.push(I)}return l}async function VDe(t,e,r){let n=(await t.fetchChainAvailability()).enabledAddressTypes,i=0,o=Ql(n);return(await oF(t,e,r,[{name:r,derivationIndex:i,derivationPathTypes:o}]))[0]}d();h();d();h();async function sF(t,e,r,n,i=!1){let o=await HE(t,e);if(!i&&o)throw new Dv;let s=Ex(e),c=e.fold(w=>({version:1,identifier:s,name:r,entropy:new Uint8Array(w)}));await l7e(t,c);let l=[],m=await As(t,s);for(let w of n){let b=await fb(s,w.derivationIndex,w.derivationPathTypes[0]),E=zh(t,m,w.derivationIndex,w.derivationPathTypes),I={version:1,type:"seed",identifier:b,seedIdentifier:s,derivationIndex:w.derivationIndex,chains:E};await Na(t,I),l.push(I)}return l}async function qDe(t,e,r){let n=(await t.fetchChainAvailability()).enabledAddressTypes,i=0,o=Ql(n);return(await sF(t,e,r,[{name:r,derivationIndex:i,derivationPathTypes:o}]))[0]}d();h();var KDe=qe(Ix());function aDt(t){return KDe.keccak256(t)}async function HDe(t,e){let r=[];for(let{publicKey:n,derivationPath:i,authToken:o}of e){let s=aDt(n),c={version:1,type:"seedVault",identifier:s,derivationPath:i,authToken:o,publicKey:n,chainType:"solana"};r.push(c),await Na(t,c)}return r}d();h();d();h();async function aF(t,e,r){let i=(await ti(t)).find(o=>o.identifier===e);if(!i)throw new Ph;switch(i.type){case"seed":case"seedless":{let o=i.chains[r]?.pathType;if(!o)throw new Tg;let s=await As(t,i.seedIdentifier),c=t.keypairGenerator.generateKeypairFromSeed(s,i.derivationIndex,o);return Ii.from(c.privateKey)}case"privateKey":{let o=await kg(t,i.privateKeyIdentifier);if(o.chainType!==r)throw new Tg;let s=t.keypairGenerator.generateKeypairFromPrivateKey(Ii.from(o.privateKey),r);return Ii.from(s.privateKey)}case"ledger":case"seedVault":throw new S5;case"readOnly":throw new A5;default:(o=>{throw new Error("invalid account type")})(i)}}d();h();d();h();d();h();function Woe(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function cDt(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function jDe(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function uDt(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Woe(t.outputLen),Woe(t.blockLen)}function fDt(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function lDt(t,e){jDe(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var dDt={number:Woe,bool:cDt,bytes:jDe,hash:uDt,exists:fDt,output:lDt},Jc=dDt;d();h();var cF=class extends gE{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,Jc.hash(e);let n=Fg(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?e.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(e){return Jc.exists(this),this.iHash.update(e),this}digestInto(e){Jc.exists(this),Jc.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:c}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=c,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Goe=(t,e,r)=>new cF(t,e).update(r).digest();Goe.create=(t,e)=>new cF(t,e);function hDt(t,e,r,n){Jc.hash(t);let i=FCe({dkLen:32,asyncTick:10},n),{c:o,dkLen:s,asyncTick:c}=i;if(Jc.number(o),Jc.number(s),Jc.number(c),o<1)throw new Error("PBKDF2: iterations (c) should be >= 1");let l=Fg(e),m=Fg(r),w=new Uint8Array(s),b=Goe.create(t,l),E=b._cloneInto().update(m);return{c:o,dkLen:s,asyncTick:c,DK:w,PRF:b,PRFSalt:E}}function pDt(t,e,r,n,i){return t.destroy(),e.destroy(),n&&n.destroy(),i.fill(0),r}function zDe(t,e,r,n){let{c:i,dkLen:o,DK:s,PRF:c,PRFSalt:l}=hDt(t,e,r,n),m,w=new Uint8Array(4),b=bE(w),E=new Uint8Array(c.outputLen);for(let I=1,M=0;M<o;I++,M+=c.outputLen){let k=s.subarray(M,M+c.outputLen);b.setInt32(0,I,!1),(m=l._cloneInto(m)).update(w).digestInto(E),k.set(E.subarray(0,k.length));for(let R=1;R<i;R++){c._cloneInto(m).update(E).digestInto(E);for(let B=0;B<k.length;B++)k[B]^=E[B]}}return pDt(c,l,s,m,E)}d();h();d();h();function mDt(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),c=Number(r&o),l=n?4:0,m=n?0:4;t.setUint32(e+l,s,n),t.setUint32(e+m,c,n)}var uF=class extends gE{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=bE(this.buffer)}update(e){Jc.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=Fg(e);let o=e.length;for(let s=0;s<o;){let c=Math.min(i-this.pos,o-s);if(c===i){let l=bE(e);for(;i<=o-s;s+=i)this.process(l,s);continue}n.set(e.subarray(s,s+c),this.pos),this.pos+=c,s+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Jc.exists(this),Jc.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let b=s;b<i;b++)r[b]=0;mDt(n,i-8,BigInt(this.length*8),o),this.process(n,0);let c=bE(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let m=l/4,w=this.get();if(m>w.length)throw new Error("_sha2: outputLen bigger than state");for(let b=0;b<m;b++)c.setUint32(4*b,w[b],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:c}=this;return e.length=i,e.pos=c,e.finished=o,e.destroyed=s,i%r&&e.buffer.set(n),e}};var yDt=(t,e,r)=>t&e^~t&r,gDt=(t,e,r)=>t&e^t&r^e&r,bDt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),db=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),hb=new Uint32Array(64),fF=class extends uF{constructor(){super(64,32,8,!1),this.A=db[0]|0,this.B=db[1]|0,this.C=db[2]|0,this.D=db[3]|0,this.E=db[4]|0,this.F=db[5]|0,this.G=db[6]|0,this.H=db[7]|0}get(){let{A:e,B:r,C:n,D:i,E:o,F:s,G:c,H:l}=this;return[e,r,n,i,o,s,c,l]}set(e,r,n,i,o,s,c,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=c|0,this.H=l|0}process(e,r){for(let b=0;b<16;b++,r+=4)hb[b]=e.getUint32(r,!1);for(let b=16;b<64;b++){let E=hb[b-15],I=hb[b-2],M=ud(E,7)^ud(E,18)^E>>>3,k=ud(I,17)^ud(I,19)^I>>>10;hb[b]=k+hb[b-7]+M+hb[b-16]|0}let{A:n,B:i,C:o,D:s,E:c,F:l,G:m,H:w}=this;for(let b=0;b<64;b++){let E=ud(c,6)^ud(c,11)^ud(c,25),I=w+E+yDt(c,l,m)+bDt[b]+hb[b]|0,k=(ud(n,2)^ud(n,13)^ud(n,22))+gDt(n,i,o)|0;w=m,m=l,l=c,c=s+I|0,s=o,o=i,i=n,n=I+k|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,c=c+this.E|0,l=l+this.F|0,m=m+this.G|0,w=w+this.H|0,this.set(n,i,o,s,c,l,m,w)}roundClean(){hb.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},$oe=class extends fF{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}},Yoe=Dne(()=>new fF),J8n=Dne(()=>new $oe);d();h();d();h();var qT=new Error("Unknown error"),lF=new Error("Invalid entropy length"),VT=new Error("Invalid mn*monic sentence length"),Joe=new Error("Invalid checksum"),WDe=new RangeError("Invalid mn*monic word"),Qoe=new RangeError("Invalid wordlist"),Xoe=new RangeError("Invalid wordlist index"),il=(t,e)=>{if(!t)throw e};function pb(t){il(t>=128,lF),il(t<=256,lF),il(t%32===0,lF)}function KT(t){il(t>=12,VT),il(t<=24,VT),il(t%3===0,VT)}function jE(t){il(t.length===2048,Qoe),il(t.every(e=>typeof e=="string"),Qoe)}function ese(t,e){return KT(t),e(t*4/3)}async function dF(t,e){let r=t.length*8;pb(r);let n=r/32,i=await e(t),[o]=i,s=8-n,c=o>>>s<<s>>>0,l=new Uint8Array(t.length+1);return l.set(t,0),l[l.length-1]=c,l}function hF(t){let e=(t.length-1)*8;pb(e);let r=e/32,n=(e+r)/11,i=new ArrayBuffer(n*4),o=new DataView(i),s=0,c=0,l=0;for(let m of t)if(l+=8,c|=m<<32-l,c>>>=0,l>=11){let w=c>>>21;il(w>=0&&w<=2047,Xoe),o.setUint32(s*4,w,!0),s++,c<<=11,c>>>=0,l-=11}return il(s===n,VT),new Uint32Array(i)}function GDe(t){let e=t.length;KT(e);let r=11,n=t.length*r,i=new ArrayBuffer(Math.ceil(n/8)),o=new DataView(i),s=new DataView(t.buffer),c=t.length,l=0,m=0,w=0,b=8;for(let E=0;E<c;E++){let I=s.getUint32(E*4,!0);il(I<2048,Xoe);let M=r;for(;M>0;){let k=32-M,R=M>=b?b:M;l|=I>>32-k-R&(1<<R)-1,m+=R,l<<=b-R,l>>>=0,M-=R,b-=R,b<=0&&(b=8),m%8===0&&(o.setUint8(w,l),w++,l=0)}}return c%8!==0&&o.setUint8(w,l),new Uint8Array(i)}function tse(t){KT(t.length);let e=GDe(t),r=e.slice(0,e.length-1);return e.fill(0),r}async function zE(t,e){let r=t.length*8;pb(r);let n=await dF(t,e),i=hF(n);return n.fill(0),i}function rse(t,e){jE(e);let r=new Set(e),n=new Uint32Array(24),i=0,o="";for(let c=0;c<t.length;c++){let l=t[c],m=l===32,w=c===t.length-1;if(w&&(o+=String.fromCharCode(l)),m||w){il(r.has(o),WDe);let b=0;for(let E of e){if(o===E)break;b++}n[i++]=b,o=""}else o+=String.fromCharCode(l)}KT(i);let s=n.slice(0,i);return n.fill(0),s}async function WE(t,e,r){let n=await zE(t,r),i=new Uint8Array(n.reduce((s,c)=>s+e[c].length+1,-1)),o=0;for(let s of n){o>0&&(i[o++]=32);let c=e[s];for(let l of c)i[o++]=l.charCodeAt(0)}return n.fill(0),i}var Zoe=Uint8Array.of(109,110,101,109,111,110,105,99);async function _x(t,e,r,n,i){let o=await WE(t,r,n),s=new Uint8Array(Zoe.length+e.length);s.set(Zoe,0),s.set(e,Zoe.length);let c=await i(o,s,2048,64,"sha512");return s.fill(0),o.fill(0),c}d();h();var GE=qe(om());d();h();var HT=["abandon","ability","able","about","above","absent","absorb","abstract","absurd","abuse","access","accident","account","accuse","achieve","acid","acoustic","acquire","across","act","action","actor","actress","actual","adapt","add","addict","address","adjust","admit","adult","advance","advice","aerobic","affair","afford","afraid","again","age","agent","agree","ahead","aim","air","airport","aisle","alarm","album","alcohol","alert","alien","all","alley","allow","almost","alone","alpha","already","also","alter","always","amateur","amazing","among","amount","amused","analyst","anchor","ancient","anger","angle","angry","animal","ankle","announce","annual","another","answer","antenna","antique","anxiety","any","apart","apology","appear","apple","approve","april","arch","arctic","area","arena","argue","arm","armed","armor","army","around","arrange","arrest","arrive","arrow","art","artefact","artist","artwork","ask","aspect","assault","asset","assist","assume","asthma","athlete","atom","attack","attend","attitude","attract","auction","audit","august","aunt","author","auto","autumn","average","avocado","avoid","awake","aware","away","awesome","awful","awkward","axis","baby","bachelor","bacon","badge","bag","balance","balcony","ball","bamboo","banana","banner","bar","barely","bargain","barrel","base","basic","basket","battle","beach","bean","beauty","because","become","beef","before","begin","behave","behind","believe","below","belt","bench","benefit","best","betray","better","between","beyond","bicycle","bid","bike","bind","biology","bird","birth","bitter","black","blade","blame","blanket","blast","bleak","bless","blind","blood","blossom","blouse","blue","blur","blush","board","boat","body","boil","bomb","bone","bonus","book","boost","border","boring","borrow","boss","bottom","bounce","box","boy","bracket","brain","brand","brass","brave","bread","breeze","brick","bridge","brief","bright","bring","brisk","broccoli","broken","bronze","broom","brother","brown","brush","bubble","buddy","budget","buffalo","build","bulb","bulk","bullet","bundle","bunker","burden","burger","burst","bus","business","busy","butter","buyer","buzz","cabbage","cabin","cable","cactus","cage","cake","call","calm","camera","camp","can","canal","cancel","candy","cannon","canoe","canvas","canyon","capable","capital","captain","car","carbon","card","cargo","carpet","carry","cart","case","cash","casino","castle","casual","cat","catalog","catch","category","cattle","caught","cause","caution","cave","ceiling","celery","cement","census","century","cereal","certain","chair","chalk","champion","change","chaos","chapter","charge","chase","chat","cheap","check","cheese","chef","cherry","chest","chicken","chief","child","chimney","choice","choose","chronic","chuckle","chunk","churn","cigar","cinnamon","circle","citizen","city","civil","claim","clap","clarify","claw","clay","clean","clerk","clever","click","client","cliff","climb","clinic","clip","clock","clog","close","cloth","cloud","clown","club","clump","cluster","clutch","coach","coast","coconut","code","coffee","coil","coin","collect","color","column","combine","come","comfort","comic","common","company","concert","conduct","confirm","congress","connect","consider","control","convince","cook","cool","copper","copy","coral","core","corn","correct","cost","cotton","couch","country","couple","course","cousin","cover","coyote","crack","cradle","craft","cram","crane","crash","crater","crawl","crazy","cream","credit","creek","crew","cricket","crime","crisp","critic","crop","cross","crouch","crowd","crucial","cruel","cruise","crumble","crunch","crush","cry","crystal","cube","culture","cup","cupboard","curious","current","curtain","curve","cushion","custom","cute","cycle","dad","damage","damp","dance","danger","daring","dash","daughter","dawn","day","deal","debate","debris","decade","december","decide","decline","decorate","decrease","deer","defense","define","defy","degree","delay","deliver","demand","demise","denial","dentist","deny","depart","depend","deposit","depth","deputy","derive","describe","desert","design","desk","despair","destroy","detail","detect","develop","device","devote","diagram","dial","diamond","diary","dice","diesel","diet","differ","digital","dignity","dilemma","dinner","dinosaur","direct","dirt","disagree","discover","disease","dish","dismiss","disorder","display","distance","divert","divide","divorce","dizzy","doctor","document","dog","doll","dolphin","domain","donate","donkey","donor","door","dose","double","dove","draft","dragon","drama","drastic","draw","dream","dress","drift","drill","drink","drip","drive","drop","drum","dry","duck","dumb","dune","during","dust","dutch","duty","dwarf","dynamic","eager","eagle","early","earn","earth","easily","east","easy","echo","ecology","economy","edge","edit","educate","effort","egg","eight","either","elbow","elder","electric","elegant","element","elephant","elevator","elite","else","embark","embody","embrace","emerge","emotion","employ","empower","empty","enable","enact","end","endless","endorse","enemy","energy","enforce","engage","engine","enhance","enjoy","enlist","enough","enrich","enroll","ensure","enter","entire","entry","envelope","episode","equal","equip","era","erase","erode","erosion","error","erupt","escape","essay","essence","estate","eternal","ethics","evidence","evil","evoke","evolve","exact","example","excess","exchange","excite","exclude","excuse","execute","exercise","exhaust","exhibit","exile","exist","exit","exotic","expand","expect","expire","explain","expose","express","extend","extra","eye","eyebrow","fabric","face","faculty","fade","faint","faith","fall","false","fame","family","famous","fan","fancy","fantasy","farm","fashion","fat","fatal","father","fatigue","fault","favorite","feature","february","federal","fee","feed","feel","female","fence","festival","fetch","fever","few","fiber","fiction","field","figure","file","film","filter","final","find","fine","finger","finish","fire","firm","first","fiscal","fish","fit","fitness","fix","flag","flame","flash","flat","flavor","flee","flight","flip","float","flock","floor","flower","fluid","flush","fly","foam","focus","fog","foil","fold","follow","food","foot","force","forest","forget","fork","fortune","forum","forward","fossil","foster","found","fox","fragile","frame","frequent","fresh","friend","fringe","frog","front","frost","frown","frozen","fruit","fuel","fun","funny","furnace","fury","future","gadget","gain","galaxy","gallery","game","gap","garage","garbage","garden","garlic","garment","gas","gasp","gate","gather","gauge","gaze","general","genius","genre","gentle","genuine","gesture","ghost","giant","gift","giggle","ginger","giraffe","girl","give","glad","glance","glare","glass","glide","glimpse","globe","gloom","glory","glove","glow","glue","goat","goddess","gold","good","goose","gorilla","gospel","gossip","govern","gown","grab","grace","grain","grant","grape","grass","gravity","great","green","grid","grief","grit","grocery","group","grow","grunt","guard","guess","guide","guilt","guitar","gun","gym","habit","hair","half","hammer","hamster","hand","happy","harbor","hard","harsh","harvest","hat","have","hawk","hazard","head","health","heart","heavy","hedgehog","height","hello","helmet","help","hen","hero","hidden","high","hill","hint","hip","hire","history","hobby","hockey","hold","hole","holiday","hollow","home","honey","hood","hope","horn","horror","horse","hospital","host","hotel","hour","hover","hub","huge","human","humble","humor","hundred","hungry","hunt","hurdle","hurry","hurt","husband","hybrid","ice","icon","idea","identify","idle","ignore","ill","illegal","illness","image","imitate","immense","immune","impact","impose","improve","impulse","inch","include","income","increase","index","indicate","indoor","industry","infant","inflict","inform","inhale","inherit","initial","inject","injury","inmate","inner","innocent","input","inquiry","insane","insect","inside","inspire","install","intact","interest","into","invest","invite","involve","iron","island","isolate","issue","item","ivory","jacket","jaguar","jar","jazz","jealous","jeans","jelly","jewel","job","join","joke","journey","joy","judge","juice","jump","jungle","junior","junk","just","kangaroo","keen","keep","ketchup","key","kick","kid","kidney","kind","kingdom","kiss","kit","kitchen","kite","kitten","kiwi","knee","knife","knock","know","lab","label","labor","ladder","lady","lake","lamp","language","laptop","large","later","latin","laugh","laundry","lava","law","lawn","lawsuit","layer","lazy","leader","leaf","learn","leave","lecture","left","leg","legal","legend","leisure","lemon","lend","length","lens","leopard","lesson","letter","level","liar","liberty","library","license","life","lift","light","like","limb","limit","link","lion","liquid","list","little","live","lizard","load","loan","lobster","local","lock","logic","lonely","long","loop","lottery","loud","lounge","love","loyal","lucky","luggage","lumber","lunar","lunch","luxury","lyrics","machine","mad","magic","magnet","maid","mail","main","major","make","mammal","man","manage","mandate","mango","mansion","manual","maple","marble","march","margin","marine","market","marriage","mask","mass","master","match","material","math","matrix","matter","maximum","maze","meadow","mean","measure","meat","mechanic","medal","media","melody","melt","member","memory","mention","menu","mercy","merge","merit","merry","mesh","message","metal","method","middle","midnight","milk","million","mimic","mind","minimum","minor","minute","miracle","mirror","misery","miss","mistake","mix","mixed","mixture","mobile","model","modify","mom","moment","monitor","monkey","monster","month","moon","moral","more","morning","mosquito","mother","motion","motor","mountain","mouse","move","movie","much","muffin","mule","multiply","muscle","museum","mushroom","music","must","mutual","myself","mystery","myth","naive","name","napkin","narrow","nasty","nation","nature","near","neck","need","negative","neglect","neither","nephew","nerve","nest","net","network","neutral","never","news","next","nice","night","noble","noise","nominee","noodle","normal","north","nose","notable","note","nothing","notice","novel","now","nuclear","number","nurse","nut","oak","obey","object","oblige","obscure","observe","obtain","obvious","occur","ocean","october","odor","off","offer","office","often","oil","okay","old","olive","olympic","omit","once","one","onion","online","only","open","opera","opinion","oppose","option","orange","orbit","orchard","order","ordinary","organ","orient","original","orphan","ostrich","other","outdoor","outer","output","outside","oval","oven","over","own","owner","oxygen","oyster","ozone","pact","paddle","page","pair","palace","palm","panda","panel","panic","panther","paper","parade","parent","park","parrot","party","pass","patch","path","patient","patrol","pattern","pause","pave","payment","peace","peanut","pear","peasant","pelican","pen","penalty","pencil","people","pepper","perfect","permit","person","pet","phone","photo","phrase","physical","piano","picnic","picture","piece","pig","pigeon","pill","pilot","pink","pioneer","pipe","pistol","pitch","pizza","place","planet","plastic","plate","play","please","pledge","pluck","plug","plunge","poem","poet","point","polar","pole","police","pond","pony","pool","popular","portion","position","possible","post","potato","pottery","poverty","powder","power","practice","praise","predict","prefer","prepare","present","pretty","prevent","price","pride","primary","print","priority","prison","private","prize","problem","process","produce","profit","program","project","promote","proof","property","prosper","protect","proud","provide","public","pudding","pull","pulp","pulse","pumpkin","punch","pupil","puppy","purchase","purity","purpose","purse","push","put","puzzle","pyramid","quality","quantum","quarter","question","quick","quit","quiz","quote","rabbit","raccoon","race","rack","radar","radio","rail","rain","raise","rally","ramp","ranch","random","range","rapid","rare","rate","rather","raven","raw","razor","ready","real","reason","rebel","rebuild","recall","receive","recipe","record","recycle","reduce","reflect","reform","refuse","region","regret","regular","reject","relax","release","relief","rely","remain","remember","remind","remove","render","renew","rent","reopen","repair","repeat","replace","report","require","rescue","resemble","resist","resource","response","result","retire","retreat","return","reunion","reveal","review","reward","rhythm","rib","ribbon","rice","rich","ride","ridge","rifle","right","rigid","ring","riot","ripple","risk","ritual","rival","river","road","roast","robot","robust","rocket","romance","roof","rookie","room","rose","rotate","rough","round","route","royal","rubber","rude","rug","rule","run","runway","rural","sad","saddle","sadness","safe","sail","salad","salmon","salon","salt","salute","same","sample","sand","satisfy","satoshi","sauce","sausage","save","say","scale","scan","scare","scatter","scene","scheme","school","science","scissors","scorpion","scout","scrap","screen","script","scrub","sea","search","season","seat","second","secret","section","security","seed","seek","segment","select","sell","seminar","senior","sense","sentence","series","service","session","settle","setup","seven","shadow","shaft","shallow","share","shed","shell","sheriff","shield","shift","shine","ship","shiver","shock","shoe","shoot","shop","short","shoulder","shove","shrimp","shrug","shuffle","shy","sibling","sick","side","siege","sight","sign","silent","silk","silly","silver","similar","simple","since","sing","siren","sister","situate","six","size","skate","sketch","ski","skill","skin","skirt","skull","slab","slam","sleep","slender","slice","slide","slight","slim","slogan","slot","slow","slush","small","smart","smile","smoke","smooth","snack","snake","snap","sniff","snow","soap","soccer","social","sock","soda","soft","solar","soldier","solid","solution","solve","someone","song","soon","sorry","sort","soul","sound","soup","source","south","space","spare","spatial","spawn","speak","special","speed","spell","spend","sphere","spice","spider","spike","spin","spirit","split","spoil","sponsor","spoon","sport","spot","spray","spread","spring","spy","square","squeeze","squirrel","stable","stadium","staff","stage","stairs","stamp","stand","start","state","stay","steak","steel","stem","step","stereo","stick","still","sting","stock","stomach","stone","stool","story","stove","strategy","street","strike","strong","struggle","student","stuff","stumble","style","subject","submit","subway","success","such","sudden","suffer","sugar","suggest","suit","summer","sun","sunny","sunset","super","supply","supreme","sure","surface","surge","surprise","surround","survey","suspect","sustain","swallow","swamp","swap","swarm","swear","sweet","swift","swim","swing","switch","sword","symbol","symptom","syrup","system","table","tackle","tag","tail","talent","talk","tank","tape","target","task","taste","tattoo","taxi","teach","team","tell","ten","tenant","tennis","tent","term","test","text","thank","that","theme","then","theory","there","they","thing","this","thought","three","thrive","throw","thumb","thunder","ticket","tide","tiger","tilt","timber","time","tiny","tip","tired","tissue","title","toast","tobacco","today","toddler","toe","together","toilet","token","tomato","tomorrow","tone","tongue","tonight","tool","tooth","top","topic","topple","torch","tornado","tortoise","toss","total","tourist","toward","tower","town","toy","track","trade","traffic","tragic","train","transfer","trap","trash","travel","tray","treat","tree","trend","trial","tribe","trick","trigger","trim","trip","trophy","trouble","truck","true","truly","trumpet","trust","truth","try","tube","tuition","tumble","tuna","tunnel","turkey","turn","turtle","twelve","twenty","twice","twin","twist","two","type","typical","ugly","umbrella","unable","unaware","uncle","uncover","under","undo","unfair","unfold","unhappy","uniform","unique","unit","universe","unknown","unlock","until","unusual","unveil","update","upgrade","uphold","upon","upper","upset","urban","urge","usage","use","used","useful","useless","usual","utility","vacant","vacuum","vague","valid","valley","valve","van","vanish","vapor","various","vast","vault","vehicle","velvet","vendor","venture","venue","verb","verify","version","very","vessel","veteran","viable","vibrant","vicious","victory","video","view","village","vintage","violin","virtual","virus","visa","visit","visual","vital","vivid","vocal","voice","void","volcano","volume","vote","voyage","wage","wagon","wait","walk","wall","walnut","want","warfare","warm","warrior","wash","wasp","waste","water","wave","way","wealth","weapon","wear","weasel","weather","web","wedding","weekend","weird","welcome","west","wet","whale","what","wheat","wheel","when","where","whip","whisper","wide","width","wife","wild","will","win","window","wine","wing","wink","winner","winter","wire","wisdom","wise","wish","witness","wolf","woman","wonder","wood","wool","word","work","world","worry","worth","wrap","wreck","wrestle","wrist","write","wrong","yard","year","yellow","you","young","youth","zebra","zero","zone","zoo"];async function nse(t){switch(t){case"english":return HT}}function ise(t){return e=>new t(e)}function ose(t,e){return async r=>{let n=null,i=null,o=null,s=null,c=null;try{i=tse(r),o=await dF(i,e),s=hF(o);let l=r[r.length-1],m=s[s.length-1];if(l!==m)throw Joe;c=t.fromEntropy(i)}catch(l){l instanceof Error?n=l:(console.error(l),n=qT)}finally{if(i?.fill(0),o?.fill(0),s?.fill(0),n)throw n;return c}}}function sse(t,e){return async r=>{let n=null,i=null,o=null;try{i=rse(r,e),o=await t.fromIndexes(i)}catch(s){s instanceof Error?n=s:(console.error(s),n=qT)}finally{if(i?.fill(0),n)throw n;return o}}}function ase(t,e){return r=>{let n=null,i=null,o=null;try{i=ese(r,e),o=t.fromEntropy(i)}catch(s){s instanceof Error?n=s:(console.error(s),n=qT)}finally{if(i?.fill(0),n)throw n;return o}}}var cse=class{static async webCrypto(e){let r=typeof e=="string"?await nse(e):e;jE(r);let n=s=>self.crypto.getRandomValues(new Uint8Array(s)),i=async s=>new Uint8Array(await self.crypto.subtle.digest("SHA-256",s)),o=async(s,c,l,m,w)=>{let b="SHA-"+w.substring(3),E=await self.crypto.subtle.importKey("raw",s,"PBKDF2",!1,["deriveBits"]),I=await self.crypto.subtle.deriveBits({name:"PBKDF2",salt:c,iterations:l,hash:b},E,m*8);return new Uint8Array(I)};return class jT{static fromEntropy=ise(jT);static fromIndexes=ose(jT,i);static fromMnemonic=sse(jT,r);static fromSentenceLength=ase(jT,n);static wordlist=r;#e;constructor(c){pb(c.length*8),this.#e=c.slice()}deriveSeed=(c=new Uint8Array)=>_x(this.#e,c,r,i,o);getEntropy=()=>this.#e.slice();getIndexes=()=>zE(this.#e,i);getMnemonic=()=>WE(this.#e,r,i);getSentenceLength=()=>{let c=this.#e.length*8,l=c/32;return(c+l)/11}}}static async nodeCrypto(e){let r=typeof e=="string"?await nse(e):e;jE(r);let n=s=>new Uint8Array((0,GE.randomBytes)(s).buffer),i=s=>new Uint8Array((0,GE.createHash)("sha256").update(s).digest().buffer),o=(...s)=>new Promise((c,l)=>{(0,GE.pbkdf2)(...s,(m,w)=>{if(m)return l(m);c(new Uint8Array(w.buffer))})});return class zT{static fromEntropy=ise(zT);static fromIndexes=ose(zT,i);static fromMnemonic=sse(zT,r);static fromSentenceLength=ase(zT,n);static wordlist=r;#e;constructor(c){pb(c.length*8),this.#e=c.slice()}deriveSeed=(c=new Uint8Array)=>_x(this.#e,c,r,i,o);getEntropy=()=>this.#e.slice();getIndexes=()=>zE(this.#e,i);getMnemonic=()=>WE(this.#e,r,i);getSentenceLength=()=>{let c=this.#e.length*8,l=c/32;return(c+l)/11}}}static async customCrypto(e,r){let n=typeof e=="string"?await nse(e):e;jE(n);let{random:i,sha256:o,pbkdf2:s}=r;return class WT{static fromEntropy=ise(WT);static fromIndexes=ose(WT,o);static fromMnemonic=sse(WT,n);static fromSentenceLength=ase(WT,i);static wordlist=n;#e;constructor(l){pb(l.length*8),this.#e=l.slice()}deriveSeed=(l=new Uint8Array)=>_x(this.#e,l,n,o,s);getEntropy=()=>this.#e.slice();getIndexes=()=>zE(this.#e,o);getMnemonic=()=>WE(this.#e,n,o);getSentenceLength=()=>{let l=this.#e.length*8,m=l/32;return(l+m)/11}}}};async function $De(t,e){let r,n=await t.secureCache.getSeed(e);if(n)r=n;else{let o=await ub(t,e);try{r=await o.foldAsync(async c=>_x(c,new Uint8Array,HT,Yoe,(l,m,w,b)=>zDe(Yoe,l,m,{c:w,dkLen:b})))}catch{throw new Error("InvalidEntropyBip39")}await t.secureCache.setSeed(e,r)}let i=Ii.from(r);return r.fill(0),i}var vDt=new Ep,xDt=new Tg,wDt=new Uv,Xn={unableToLoadAccounts:{status:"unable-to-load-accounts",isOnboarded:!1,reonboardingNeeded:!1},unonboarded:{status:"unonboarded",isOnboarded:!1,reonboardingNeeded:!1},invalidIdentifier:{status:"invalid-identifier",isOnboarded:!0,reonboardingNeeded:!0},fetchIntegrityStorageError:{status:"fetch-integrity-storage-error",isOnboarded:!0,reonboardingNeeded:!0},fetchEntropyStorageError:{status:"fetch-entropy-storage-error",isOnboarded:!0,reonboardingNeeded:!0},fetchPkStorageError:{status:"fetch-pk-storage-error",isOnboarded:!0,reonboardingNeeded:!0},invalidEntropy:{status:"invalid-entropy",isOnboarded:!0,reonboardingNeeded:!0},invalidEntropyBip39:{status:"invalid-entropy-bip-39",isOnboarded:!0,reonboardingNeeded:!0},invalidChecksumBits:{status:"invalid-checksum-bits",isOnboarded:!0,reonboardingNeeded:!0},invalidEntropyBits:{status:"invalid-entropy-bits",isOnboarded:!0,reonboardingNeeded:!0},invalidChecksum:{status:"invalid-checksum",isOnboarded:!0,reonboardingNeeded:!0},invalidEntropyLengthLessThanTwelve:{status:"invalid-entropy-length-less-than-twelve",isOnboarded:!0,reonboardingNeeded:!0},invalidEntropyLengthMoreThanTwentyFour:{status:"invalid-entropy-length-more-than-twenty-four",isOnboarded:!0,reonboardingNeeded:!0},invalidEntropyLengthWrongWord:{status:"invalid-entropy-length-wrong-word",isOnboarded:!0,reonboardingNeeded:!0},invalidPkAddressType:{status:"invalid-pk-address-type",isOnboarded:!0,reonboardingNeeded:!0},invalidPkIdentifier:{status:"invalid-pk-identifier",isOnboarded:!0,reonboardingNeeded:!0},invalidPk:{status:"invalid-pk",isOnboarded:!0,reonboardingNeeded:!0},internalError:{status:"internal-error",isOnboarded:!0,reonboardingNeeded:!0},safelyOnboarded:{status:"safely-onboarded",isOnboarded:!0,reonboardingNeeded:!1}};async function QDe(t){let e;try{if(e=await ti(t),e.length===0)return Xn.unonboarded}catch{return Xn.unableToLoadAccounts}return SDt(t,e)}var SDt=async(t,e)=>{let r=await ADt(t,e);if(r.status!=="safely-onboarded")return r;try{let s=await Yte(t);if(s?.version===3&&s?.isSafelyOnboarded)return Xn.safelyOnboarded}catch{return Xn.fetchIntegrityStorageError}let n=await ZDe(t,e,"seed"),i=await ZDe(t,e,"seedless"),o=await _Dt(t,e);return n.status!=="safely-onboarded"?n:i.status!=="safely-onboarded"?i:o.status!=="safely-onboarded"?o:(await $te(t,{version:3,isSafelyOnboarded:!0,lastCheckedTimestamp:Date.now()}),Xn.safelyOnboarded)},ADt=async(t,e)=>{try{if((await Yte(t))?.isSafelyOnboarded)return Xn.safelyOnboarded}catch{return Xn.fetchIntegrityStorageError}let r=await YDe(t,e,"seed"),n=await YDe(t,e,"seedless");return r.status!=="safely-onboarded"?r:n.status!=="safely-onboarded"?n:(await $te(t,{version:1,isSafelyOnboarded:!0,lastCheckedTimestamp:Date.now()}),Xn.safelyOnboarded)},YDe=async(t,e,r)=>{let n=new Set;for(let i of e)i.type===r&&n.add(i.seedIdentifier);for(let i of n)try{await ub(t,i)}catch(o){if(o instanceof Error){if(o.message===vDt.message)return Xn.invalidIdentifier;if(o.message.match(/ExpoSecureStorage/))return Xn.fetchEntropyStorageError}return Xn.internalError}return Xn.safelyOnboarded},EDt=t=>{if(!(t instanceof Error))return Xn.invalidEntropy;let e=[[/ExpoSecureStorage/,Xn.fetchEntropyStorageError],[/InvalidEntropyBip39/,Xn.invalidEntropyBip39],[/LessThanTwelve/,Xn.invalidEntropyLengthLessThanTwelve],[/MoreThanTwentyFour/,Xn.invalidEntropyLengthMoreThanTwentyFour],[/WrongWord/,Xn.invalidEntropyLengthWrongWord],[/InvalidChecksumBits/,Xn.invalidChecksumBits],[/InvalidEntropyBits/,Xn.invalidEntropyBits],[/InvalidChecksum/,Xn.invalidChecksum]];for(let[r,n]of e)if(t.message.match(r))return n;return Xn.invalidEntropy},ZDe=async(t,e,r)=>{let n=new Set;for(let i of e)i.type===r&&n.add(i.seedIdentifier);for(let i of n)try{await $De(t,i)}catch(o){return EDt(o)}return Xn.safelyOnboarded},_Dt=async(t,e)=>{for(let r of e)if(r.type==="privateKey")try{await aF(t,r.identifier,r.chainType)}catch(n){if(n instanceof Error){if(n.message===xDt.message)return Xn.invalidPkAddressType;if(n.message===wDt.message)return Xn.invalidPkIdentifier;if(n.message.match(/ExpoSecureStorage/))return Xn.fetchPkStorageError}return Xn.invalidPk}return Xn.safelyOnboarded};d();h();async function JDe(t){let e=(await t.fetchChainAvailability()).enabledAddressTypes,r=!1,n=await ti(t);if(n.length===0)return r;let i=new Map;for(let o of n){if(o.type!=="seed"&&o.type!=="seedless")continue;let s=i.get(o.seedIdentifier);s?s.push(o):i.set(o.seedIdentifier,[o])}for(let[o,s]of i){let c;for(let l of s)if(!(l.chains&&!Ate(Object.values(l.chains)[0].pathType)))for(let m of e){if(l.chains[m])continue;c||(c=await As(t,o));let b=Ql([m]),E=zh(t,c,l.derivationIndex,b);l.chains={...l.chains,...E},r=!0}}return r&&await td(t,n),r}d();h();d();h();d();h();d();h();var tUe=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),XDe=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),TDt=BigInt(1),use=BigInt(2),eUe=(t,e)=>(t+e/use)/e;function IDt(t){let e=tUe,r=BigInt(3),n=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),c=BigInt(44),l=BigInt(88),m=t*t*t%e,w=m*m*t%e,b=Ku(w,r,e)*w%e,E=Ku(b,r,e)*w%e,I=Ku(E,use,e)*m%e,M=Ku(I,i,e)*I%e,k=Ku(M,o,e)*M%e,R=Ku(k,c,e)*k%e,B=Ku(R,l,e)*R%e,U=Ku(B,c,e)*k%e,P=Ku(U,r,e)*w%e,F=Ku(P,s,e)*M%e,q=Ku(F,n,e)*m%e,K=Ku(q,use,e);if(!fse.eql(fse.sqr(K),t))throw new Error("Cannot find square root");return K}var fse=TL(tUe,void 0,void 0,{sqrt:IDt}),pF=ML({a:BigInt(0),b:BigInt(7),Fp:fse,n:XDe,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{let e=XDe,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-TDt*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,s=BigInt("0x100000000000000000000000000000000"),c=eUe(o*t,e),l=eUe(-n*t,e),m=La(t-c*r-l*i,e),w=La(-c*n-l*o,e),b=m>s,E=w>s;if(b&&(m=e-m),E&&(w=e-w),m>s||w>s)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:b,k1:m,k2neg:E,k2:w}}}},PL),G5n=BigInt(0);var $5n=pF.ProjectivePoint;async function rUe(){let t=pF.utils.randomPrivateKey();return{publicKey:pF.getPublicKey(t),privateKey:t}}var nUe=t=>`${Ru}.perps.agent.keypair.${t}`,mF=async(t,e,r=!1)=>{let n=await MDt(t,e);if(n&&!r)return n;let i=await rUe();return await kDt(t,i,e),i},MDt=async(t,e)=>{let r=nUe(e),n=null;try{n=await t.secretsStorage.getSecureValue(r)}catch{}if(!n)return null;let i=n.keyPair,o=new Uint8Array(Buffer.from(i.publicKey.bytes,i.publicKey.encoding)),s=new Uint8Array(Buffer.from(i.privateKey.bytes,i.privateKey.encoding));return{publicKey:o,privateKey:s}},kDt=async(t,e,r)=>{let n=nUe(r),i={publicKey:{bytes:Buffer.from(e.publicKey).toString("base64"),encoding:"base64"},privateKey:{bytes:Buffer.from(e.privateKey).toString("base64"),encoding:"base64"}},o={version:1,identifier:r,keyPair:i};await t.secretsStorage.setSecureValue(n,o)};var iUe=async(t,e,r=!1)=>{let{publicKey:n}=await mF(t,e,r);return ms({publicKey:n,addressType:"eip155"})};d();h();d();h();var lse="m/23001'/0'";async function GT(t,e){let r;switch(e.type){case"seedless":case"seed":r=e.seedIdentifier;break;case"privateKey":r=e.privateKeyIdentifier;break}let n=await t.secureCache.getClientJWTSigner(r,lse);if(n)return{publicKey:n.p256pubkey,privateKey:n.p256privkey};let i;switch(e.type){case"seedless":case"seed":{i=(await As(t,e.seedIdentifier)).fold(s=>new ma(s));break}case"privateKey":{let o=await kg(t,e.privateKeyIdentifier);i=new ma(o.privateKey);break}}try{let o=i.derivePath({ellipticCurve:"ed25519",derivationPath:lse,bytesInPrivateKey:64}),s=IL(o.secretKey,vx.CURVE.n),c=vx.getPublicKey(s);return await t.secureCache.setClientJWTSigner(r,lse,{p256pubkey:c,p256privkey:s}),{publicKey:c,privateKey:s}}finally{i.cleanup()}}var PDt=t=>t.type==="seed"||t.type==="seedless"||t.type==="privateKey",oUe=async(t,e)=>{let r=await ti(t);if(r.length===0)throw new Error("No accounts, unable to get authentication public key.");let i=r.filter(PDt).find(s=>s.type==="privateKey"?s.privateKeyIdentifier===e:s.seedIdentifier===e);if(!i)throw new Error("Unable to derive authentication public key for given secret identifier.");let o=await GT(t,i);return Ho(o.publicKey)};d();h();var sUe=qe(ta());d();h();var BDt="m/24001'/0'",yF=async t=>{let e=await ti(t);if(e.length===0)throw new Error("No accounts, unable to derive cash key.");let r=e[0],n;switch(r.type){case"seed":case"seedless":{n=(await As(t,r.seedIdentifier)).fold(o=>new ma(o));break}case"privateKey":{let i=await kg(t,r.privateKeyIdentifier);n=new ma(i.privateKey);break}default:throw new Error(`Account type ${r.type} is not supported, unable to derive cash key.`)}try{let i=n.derivePath({ellipticCurve:"ed25519",derivationPath:BDt,bytesInPrivateKey:64});return{publicKey:i.publicKey,privateKey:i.secretKey}}finally{n.cleanup()}};var aUe=async t=>{let{publicKey:e}=await yF(t);return sUe.default.encode(e)};d();h();async function cUe(t,e){let r=await ti(t);if(r.length===0)throw new Ph;let n=r.filter(i=>i.identifier!==e);await td(t,n),await Gte(t)}d();h();async function uUe(t,e,r){let n=await ti(t);if(r<0||r>=n.length)throw new Ph;let i=n.map(s=>s.identifier).indexOf(e);if(i<0)throw new Ph;if(i===r)return;let o=n[i];n.splice(i,1),n.splice(r,0,o),await td(t,n)}d();h();async function gF(t,e,r){let n=e.chains[r]?.pathType;if(!n)return cn("invalidAddressType",`Seed Account does not contain a chain address for the chain type ${r}.`);let i=await As(t,e.seedIdentifier);return t.keypairGenerator.generateKeypairFromSeed(i,e.derivationIndex,n)}async function fUe(t,e,r){let n=await ti(t),i=n.find(o=>o.identifier===e);if(!i)return cn("invalidAccountId",`Vault (${n.length} account(s) found) does not contain an account for the given identifier: ${e}`);if("isAgentWallet"in r)switch(i.type){case"seedless":case"seed":case"privateKey":{let o=await mF(t,i.identifier);return t.vaultSigner.signWithKeypair(o,r)}default:return cn("unsupportedOperation","Invalid signingAccount type provided for paramType")}if("isJWT"in r)switch(i.type){case"seedless":case"seed":case"privateKey":{let o=await GT(t,i);return t.vaultSigner.signWithKeypair(o,r)}default:return cn("unsupportedOperation","Invalid signingAccount type provided for paramType")}if("isKMSP256OrganizationOwner"in r)switch(i.type){case"seedless":case"seed":case"privateKey":{let o=await GT(t,i);return t.vaultSigner.signWithKeypair(o,r)}default:return cn("unsupportedOperation","Invalid signingAccount type provided for paramType")}if("isCash"in r){let o=await yF(t);return t.vaultSigner.signWithKeypair(o,r)}switch(i.type){case"seedless":case"seed":{switch(r.chainType){case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":{let{enabledAddressTypes:o}=await t.fetchChainAvailability(),s={},c=Object.keys(i.chains).filter(l=>Wm.safeParse(l).success).filter(l=>o.includes(l));for(let l of c){let m=await gF(t,i,l);if("status"in m&&m.status==="error")return m;s[l]=m}return t.vaultSigner.signWithKeypair(s,r)}case"eip155":{let o=await gF(t,i,r.chainType);return"status"in o&&o.status==="error"?o:t.vaultSigner.signWithKeypair(o,r)}case"solana":{let o=await gF(t,i,r.chainType);return"status"in o&&o.status==="error"?o:t.vaultSigner.signWithKeypair(o,r)}case"sui":{let o=await gF(t,i,r.chainType);return"status"in o&&o.status==="error"?o:t.vaultSigner.signWithKeypair(o,r)}}break}case"privateKey":{let o=await kg(t,i.privateKeyIdentifier);if(o.chainType!==r.chainType)return cn("invalidAddressType",`Private Key account from accountID is a different chain type from params. Expected ${o.chainType}, got ${r.chainType}`);let s=t.keypairGenerator.generateKeypairFromPrivateKey(Ii.from(o.privateKey),r.chainType);switch(r.chainType){case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":return t.vaultSigner.signWithKeypair({[r.chainType]:s},r);case"eip155":return t.vaultSigner.signWithKeypair(s,r);case"solana":return t.vaultSigner.signWithKeypair(s,r);case"sui":return t.vaultSigner.signWithKeypair(s,r)}break}case"ledger":{let o=i.chains[r.chainType];if(!o)return cn("invalidAddressType",`Ledger Account does not contain a chain address for the chain type ${r.chainType}.`);let s=f9.safeParse({pathType:o.pathType,index:i.derivationIndex});if(!s.success)return cn("invalidDerivationPath","Unsupported Derivation Path. Ledger account derivation path type is incompatible with ChainType in signing params.");let c=Gj(s.data);return t.vaultSigner.signWithHardware(e,c,r)}case"seedVault":{let{authToken:o,derivationPath:s,chainType:c}=i;return c!==r.chainType?cn("invalidAddressType",`Solana Seed Vault account from accountID is a different chain type from params. Expected ${c}, got ${r.chainType}`):t.vaultSigner.signWithSolanaSeedVault(o,s,r)}case"readOnly":return cn("unsupportedOperation","Read Only Accounts cannot sign transactions.");default:(o=>{throw new Error("invalid account type")})(i)}}d();h();function dse(t){switch(t.type){case"seed":return $T(t);case"seedless":return YT(t);case"privateKey":return pse(t);case"ledger":return hse(t);case"seedVault":return mse(t);case"readOnly":return t}}function hse(t){let{chains:e,version:r,...n}=t,i={};for(let o of Object.keys(e)){let s=e[o];if(!s)continue;let c;switch(s.chainType){case"solana":case"eip155":{let{publicKey:l,...m}=s;c={...m,address:l};break}case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":{let{addresses:l,...m}=s,w=Object.values(Eo).reduce((b,E)=>{let I=l?l[E]:void 0;if(!I)throw new Nv;return{...b,[E]:I}},{});c={...m,addresses:w};break}case"sui":{c=s;break}}i[o]=c}return{...n,chains:i}}function pse(t){switch(t.chainType){case"solana":case"eip155":{let{publicKey:e,version:r,...n}=t;return{...n,address:e}}case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":{let{addresses:e,version:r,...n}=t,i=Object.values(Eo).reduce((o,s)=>{let c=e?e[s]:void 0;if(!c)throw new Nv;return{...o,[s]:c}},{});return{...n,addresses:i}}case"sui":return t}}function mse(t){let{publicKey:e,version:r,...n}=t;return{...n,address:e}}function $T(t){let{chains:e,version:r,...n}=t,i={};for(let o of Object.keys(e)){let s=e[o];if(!s)continue;let c;switch(s.chainType){case"solana":case"eip155":{let{publicKey:l,...m}=s;c={...m,address:l};break}case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":{let{addresses:l,...m}=s,w=Object.values(Eo).reduce((b,E)=>{let I=l?l[E]:void 0;if(!I)throw new Nv;return{...b,[E]:I}},{});c={...m,addresses:w};break}case"sui":{c=s;break}}i[o]=c}return{...n,chains:i}}function YT(t){let{chains:e,version:r,...n}=t,i={};for(let o of Object.keys(e)){let s=e[o];if(!s)continue;let c;switch(s.chainType){case"solana":case"eip155":{let{publicKey:l,...m}=s;c={...m,address:l};break}case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":{let{addresses:l,...m}=s,w=Object.values(Eo).reduce((b,E)=>{let I=l?l[E]:void 0;if(!I)throw new Nv;return{...b,[E]:I}},{});c={...m,addresses:w};break}case"sui":c=s}i[o]=c}return{...n,chains:i}}d();h();var bse=qe(ta());var RDt=new Set(Object.values(Rr)),lUe=t=>t!==null&&RDt.has(t),gse=t=>{},yse=(t,e)=>{let r=e==="seed"?"se*d":"se*dless";if(t.derivationIndex===null||t.derivationIndex<0)return je.addBreadcrumb("Auth",`Invalid derivation index for ${r} account: ${t.derivationIndex}`,"error"),null;let n=t.addresses.reduce((o,s)=>{if(s.pathType==="privateKey")return je.addBreadcrumb("Auth",`Invalid path type when converting synced account to ${r} account: ${s.pathType}`,"error"),o;let c=Z$(s.pathType);switch(s.pathType){case"bitcoinTaproot":case"bitcoinNativeSegwit":case"bitcoinNestedSegwit":case"bitcoinLegacy":Dy(c)?o[c]={chainType:c,publicKey:Buffer.from(s.publicKey.replace("0x",""),"hex"),addresses:{"bip122:000000000019d6689c085ae165831e93":s.address},pathType:s.pathType}:je.addBreadcrumb("Auth",`Invalid address type used when converting synced account to ${r} account.`,"error",{addressType:c,pathType:s.pathType});break;case"bip44Root":case"bip44":case"bip44Change":case"deprecated":c==="solana"?o[c]={chainType:c,publicKey:bse.default.encode(Buffer.from(s.publicKey.replace("0x",""),"hex")),pathType:s.pathType}:je.addBreadcrumb("Auth",`Invalid address type used when converting synced account to ${r} account.`,"error",{addressType:c,pathType:s.pathType});break;case"bip44RootEthereum":case"bip44Ethereum":case"bip44EthereumSecondary":case"bip44EthereumTertiary":c==="eip155"?o[c]={chainType:c,publicKey:s.address,pathType:s.pathType}:je.addBreadcrumb("Auth",`Invalid address type used when converting synced account to ${r} account.`,"error",{addressType:c,pathType:s.pathType});break;case"bip44Sui":c==="sui"?o[c]={chainType:c,publicKey:d_(s.publicKey),address:s.address,pathType:s.pathType}:je.addBreadcrumb("Auth",`Invalid address type used when converting synced account to ${r} account.`,"error",{addressType:c,pathType:s.pathType});break;default:gse(s.pathType)}return o},{});if(Object.entries(n).length===0)return je.captureError(new Error(`Unable to convert synced account to ${r} account. No addresses found.`),"Auth"),null;let i=_g(t);return i?{version:1,type:e,identifier:t.accountHash,seedIdentifier:i,derivationIndex:t.derivationIndex,chains:n}:(je.captureError(new Error(`Unable to convert synced account to ${r} account. Missing account origin.`),"Auth"),null)},dUe=t=>{let e=_g(t);if(!e)return je.captureError(new Error("Unable to convert synced account to pk account. Missing account origin."),"Auth"),null;let r=t.addresses[0];if(!r)return je.captureError(new Error("Unable to convert synced account to pk account. No address."),"Auth"),null;let n;try{n=ah(r.networkId,r.address)}catch{return je.captureError(new Error("Unable to convert synced account to pk account. Unable to determine address type."),"Auth"),null}return Dy(n)?{version:1,type:"privateKey",identifier:t.accountHash,privateKeyIdentifier:e,publicKey:Buffer.from(r.publicKey.replace("0x",""),"hex"),addresses:{"bip122:000000000019d6689c085ae165831e93":r.address},chainType:n}:n==="solana"?{version:1,type:"privateKey",identifier:t.accountHash,privateKeyIdentifier:e,publicKey:bse.default.encode(Buffer.from(r.publicKey.replace("0x",""),"hex")),chainType:n}:n==="eip155"?{version:1,type:"privateKey",identifier:t.accountHash,privateKeyIdentifier:e,publicKey:r.address,chainType:n}:n==="sui"?{version:1,type:"privateKey",identifier:t.accountHash,privateKeyIdentifier:e,publicKey:d_(r.publicKey),address:r.address,chainType:n}:(Ct(n),null)},hUe=async(t,e)=>{let r=await ti(t),n=await Cu(t),i=new Set(n.seedIdentifiers),o=new Set(n.seedlessIdentifiers),s=new Set(n.privateKeyIdentifiers);for(let l=0;l<r.length;++l){let m=r[l],w=e[m.identifier];if(delete e[m.identifier],!w||m.type!=="readOnly")continue;let b=SA(w),E=_g(w);if(!lUe(b)||!E)continue;let I=null;switch(b){case"seed":case"seedless":try{(i.has(E)||o.has(E))&&(I=yse(w,b))}catch{}break;case"privateKey":try{s.has(E)&&(I=dUe(w))}catch{}break;default:gse(b)}I&&(r[l]=I)}let c=[...r];for(let l of Object.values(e)){if(l.addresses.length===0)continue;let m=SA(l),w=_g(l);if(!(!lUe(m)||!w))switch(m){case"seed":if(i.has(w)){let b=yse(l,m);b&&c.push(b)}break;case"seedless":if(o.has(w)){let b=yse(l,m);b&&c.push(b)}break;case"privateKey":if(s.has(w)){let b=dUe(l);b&&c.push(b)}break;default:gse(m)}}return await td(t,c),!1};function CDt(t){return{addSeedWithDefaultAccount:(e,r)=>qDe(t,e,r).then($T),addAccountForExistingSeed:e=>wDe(t,e).then($T),addSeedWithMultipleAccounts:(e,r,n,i)=>sF(t,e,r,n,i).then(o=>o.map($T)),addPrivateKeyAccount:(e,r,n)=>NDe(t,e,r,n).then(pse),addLedgerAccounts:(e,r)=>CDe(t,e,r).then(n=>n.map(hse)),addSolanaSeedVaultAccounts:e=>HDe(t,e).then(r=>r.map(mse)),addReadonlyAccount:e=>UDe(t,e),deriveAddresses:()=>JDe(t),removeAccount:e=>cUe(t,e),reorderAccount:(e,r)=>uUe(t,e,r),exportEntropy:e=>ub(t,e),exportPrivateKey:(e,r)=>aF(t,e,r),fetchAllAccounts:()=>ti(t).then(e=>e.map(dse)),fetchAllSeedMetas:()=>c7e(t),fetchAllSeedlessMetas:()=>BD(t),sign:(e,r)=>fUe(t,e,r),isExistingSeed:e=>HE(t,e),checkVaultIntegrity:()=>QDe(t),clearVault:()=>h7e(t),addSeedlessWithMultipleAccounts:(e,r,n)=>oF(t,e,r,n).then(i=>i.map(YT)),addSeedlessWithDefaultAccount:(e,r)=>VDe(t,e,r).then(YT),addAccountForExistingSeedless:e=>LDe(t,e).then(YT),getAuthenticationPublicKey:e=>oUe(t,e),getCashAddress:()=>aUe(t),getAgentAddress:(e,r)=>iUe(t,e,r),syncAccounts:e=>hUe(t,e)}}d();h();d();h();var vse=class{#e;#t;#n;constructor(e,r,n){this.#e=e,this.#t=r,this.#n=n}identifyAccount=async(e,r,n)=>{let i=!!r.addresses.find(M=>ze.isSolanaNetworkID(M.networkID)),o=!!r.addresses.find(M=>ze.isEthereumNetworkID(M.networkID)),s=!!r.addresses.find(M=>ze.isBitcoinNetworkID(M.networkID)),c=!!r.addresses.find(M=>ze.isSuiNetworkID(M.networkID)),l={hasSolanaAddress:i,hasEthereumAddress:o,hasBitcoinAddress:s,hasSuiAddress:c},m=n.enabledChainIDs.map(M=>ze[M].name).join(", "),w=new Set;for(let M of e)switch(M.type){case"seed":case"seedless":w.add(M.seedIdentifier);break;case"readOnly":case"privateKey":case"ledger":case"seedVault":break;default:Ct(M);break}let{id:b,type:E}=await this.getIdentifyID(r),I=await this.getUsername();switch(r.type){case"seed":case"seedless":this.#e.identify(b,{...l,accountType:r.type,rootID:r.seedIdentifier,rootIds:Array.from(w),accountID:r.identifier,isReadOnly:!1,enabledChains:m,idType:E,username:I});break;case"readOnly":this.#e.identify(b,{...l,accountType:r.type,isReadOnly:!0,enabledChains:m,idType:E,username:I});break;case"privateKey":case"ledger":case"seedVault":this.#e.identify(b,{...l,accountType:r.type,rootIds:Array.from(w),accountID:r.identifier,isReadOnly:!1,enabledChains:m,idType:E,username:I});break;default:Ct(r)}};getIdentifyID=async e=>{let r=await this.#t.getUser().catch(()=>{});return r?{type:"userID",id:r.userID}:{type:"accountID",id:e.identifier}};getUsername=async()=>{let e=await this.#n.getUserProfile().catch(()=>{});if(e)return e.username};onAppSessionStart=e=>{let r=new Map;for(let n of e){if(n.type==="readOnly")continue;let{addresses:i,identifier:o}=n;for(let s of i){let c=ze.getChainName(s.networkID),l={type:n.type,accountId:o,id:s.address};if(!r.get(c))r.set(c,[l]);else{let m=r.get(c)??[];r.set(c,[...m,l])}}}this.#e.capture("appSessionStart",{data:{ids:Object.fromEntries(r)}})}};d();h();d();h();d();h();d();h();var bF=qe(ur());d();h();var vd=()=>{let t=cc(),{data:[e],isLoading:r}=tJ(["enable-arbitrum"]);return Sr({enabled:!r,queryKey:_v.chainAvailability({isArbitrumEnabled:e}),queryFn:()=>cA(t,e)})};d();h();var xse=()=>{let t=Pt(),e=cc();return Dt({mutationFn:async({addressTypes:n})=>{for(let i of n)await WIe(i,e);yp(t)}})};d();h();var ODt=()=>{let t=cc(),e=Pt();return Dt({mutationFn:async({chainIDs:n})=>{for(let i of n)await KIe(i,t);yp(e)}})};d();h();d();h();d();h();var $E=qe(ur()),pUe=(0,$E.createContext)(null);function NDt({children:t,vault:e}){return $E.default.createElement(pUe.Provider,{value:e},t)}function oi(){let t=(0,$E.useContext)(pUe);if(!t)throw new Error("useVaultProxy must be used within a VaultProxyProvider");return t}var wse=()=>{let t=Pt(),e=cc(),r=oi();return Dt({mutationFn:async({addressTypes:i})=>{for(let o of i)await zIe(o,e);await r.deriveAddresses(),await yp(t)}})};d();h();var DDt=()=>{let t=cc(),e=Pt(),r=oi();return Dt({mutationFn:async({chainIDs:i})=>{for(let o of i)await Tee(o,t);await r.deriveAddresses(),await yp(e)}})};d();h();var UDt=()=>{let t=cc(),{mutateAsync:e}=xse(),{mutateAsync:r}=wse();return Dt({mutationFn:async({addressTypes:i})=>{if(await HIe(t))await r({addressTypes:i});else{let s=new Set(ze.bitcoin.addressTypes);for(let c of i)s.delete(c);if(s.size===ze.bitcoin.addressTypes.length&&s.delete("bip122_p2wpkh"),s.size>0){let c=Array.from(s);await e({addressTypes:c})}}}})};var Sse=ze.getAllChainIDs().filter(t=>ze.isChainDefaultEnabled(t)),mUe=Sse.map(t=>ze.getMainnetNetworkID(t)),LDt=mUe.flatMap(t=>ze.getAddressTypes(t)),yUe=()=>vd().data?.enabledAddressTypes??LDt,YE=()=>vd().data?.enabledChainIDs??Sse,V7n=()=>vd().data?.supportedChainIDs??Sse,q7n=t=>{let e=vd().data;return e?t?e.enabledNetworkIDs:e.enabledMainnetOnlyNetworkIDs:mUe},K7n=()=>YE().length===1,H7n=()=>{let t=YE();return(0,bF.useMemo)(()=>ze.getChainIDs("eip155").some(e=>t.includes(e)),[t])},j7n=()=>{let t=YE();return(0,bF.useMemo)(()=>t.length===1&&t.includes("solana"),[t])},z7n=t=>{let e=YE();return(0,bF.useMemo)(()=>t.map(r=>e.includes(r)),[e,t])};d();h();d();h();d();h();var Fa="@phantom/accounts",Ase=`${Fa}:account-identifier`,Ese=`${Fa}:selected-account`,vF=`${Fa}:all-accounts`,_se=`${Fa}:all-seeds`,FDt=`${Fa}:all-secrets`,X7n=`${Fa}:account-balance`,nr={accountBalance(t){return[`${Fa}:account-balance`,{identifier:t}]},allAccountBalances(){return[`${Fa}:all-account-balances`]},allAccounts(t){let e=t?{chainAvailability:{enabledChainIDs:t.enabledChainIDs,enabledAddressTypes:t.enabledAddressTypes}}:{};return[vF,{chainAvailabilityQueryObject:e}]},allSeeds(t){return[_se,t]},allSecretIdentifiers(){return[FDt]},developerMode(){return[`${Fa}:developer-mode`]},accountIdentifier(t){return[Ase,{identifier:t}]},selectedAccount(t){let e=t?{chainAvailability:{enabledChainIDs:t.enabledChainIDs,enabledAddressTypes:t.enabledAddressTypes}}:{};return[Ese,e]},selectedAccountIdentifier(){return[`${Fa}:selected-account-identifier`]},selectedNetworkSetting(){return[`${Fa}:selected-network-setting`]},trustedApps(){return[`${Fa}:trusted-apps`]},migratedWithInvalidChecksum(){return[`${Fa}:migrated-with-invalid-checksum`]},syncUserAccounts(){return[`${Fa}:sync-user-accounts`]},accountsEligibleToClaim(t,e,r){return[`${Fa}:are-accounts-eligible-to-claim`,{username:t,selectedAccountIdentifier:e,solanaAddresses:r}]},patchProfileAddresses(t){return[`${Fa}:patch-profile-addresses`,t]}};function Tx(t){let{isSuccess:e,data:r}=vd(),n=oi(),i=nr.allAccounts(r),o=er();return Sr({enabled:e,queryKey:i,queryFn:async()=>{if(!r)throw new Error(M5);let c=await kA(n,o,r);return je.addBreadcrumb("account",`Finished fetching all accounts. Num accounts: ${c.length}`,"info"),c},select:t})}var xF=()=>{let{isSuccess:t,isFetching:e,data:r=[]}=Tx(),n=t&&!e&&!!r.length;return n?{enabled:n,accounts:r}:{enabled:n}};d();h();var Un=async t=>{await t.invalidateQueries({queryKey:[_se]}),await t.invalidateQueries({queryKey:[vF],predicate:e=>e.queryKey[0]===vF}),await t.invalidateQueries({queryKey:[Ase]}),await wF(t)},wF=async t=>{await t.invalidateQueries({predicate:e=>typeof e.queryKey[0]=="string"&&e.queryKey[0]===Ese}),await t.invalidateQueries({queryKey:nr.selectedAccountIdentifier()})};Iee(Un);d();h();d();h();d();h();var Qs=[];for(let t=0;t<256;++t)Qs.push((t+256).toString(16).slice(1));function gUe(t,e=0){return(Qs[t[e+0]]+Qs[t[e+1]]+Qs[t[e+2]]+Qs[t[e+3]]+"-"+Qs[t[e+4]]+Qs[t[e+5]]+"-"+Qs[t[e+6]]+Qs[t[e+7]]+"-"+Qs[t[e+8]]+Qs[t[e+9]]+"-"+Qs[t[e+10]]+Qs[t[e+11]]+Qs[t[e+12]]+Qs[t[e+13]]+Qs[t[e+14]]+Qs[t[e+15]]).toLowerCase()}d();h();var Tse,VDt=new Uint8Array(16);function Ise(){if(!Tse){if(typeof self.crypto>"u"||!self.crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Tse=self.crypto.getRandomValues.bind(self.crypto)}return Tse(VDt)}d();h();d();h();var qDt=typeof self.crypto<"u"&&self.crypto.randomUUID&&self.crypto.randomUUID.bind(self.crypto),Mse={randomUUID:qDt};function KDt(t,e,r){if(Mse.randomUUID&&!e&&!t)return Mse.randomUUID();t=t||{};let n=t.random??t.rng?.()??Ise();if(n.length<16)throw new Error("Random bytes length must be >= 16");if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){if(r=r||0,r<0||r+16>e.length)throw new RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let i=0;i<16;++i)e[r+i]=n[i];return e}return gUe(n)}var kse=KDt;d();h();function SF(){let t=er(),e=Pt();return Dt({mutationFn:async({metadataBatch:o})=>{je.addBreadcrumb("account",`Adding Account Metadata Batch: ${Object.entries(o).length} entries`,"info"),await R5(t,o)},onSuccess:async()=>{await Un(e)},onError:o=>{je.captureError(o,"account")}})}function HDt(){let{mutateAsync:t}=SF(),e=er(),r=Pt(),n=oi(),{t:i}=Yh();return Dt({mutationFn:async({accounts:l,pairedBLEDevice:m})=>{let w=kse(),b=await n.connectLedgerAccounts(w,l),E=b.reduce((M,k,R)=>{let{name:B,accountIndex:U}=l[R],P;!B||B.length===0?P=i("onboardingImportAccountsLedgerAccountName",{walletIndex:1+U}):P=B;let F;m&&(F=[{...m,version:1,connectionType:"ble",deviceType:"ledger"}]);let q={name:P,icon:void 0,connectedDevices:F};return M[k.identifier]=q,M},{});await t({metadataBatch:E});let I=b[0]?.identifier;return I||(I=(await n.fetchAllAccounts())[0].identifier),await ku(e,I),r.setQueryData(nr.selectedAccountIdentifier(),I),b},onSettled:async()=>{await Un(r)},onError:l=>je.captureError(l,"account")})}d();h();function ju({select:t}={}){let{isSuccess:e,data:r}=vd(),n=xF(),i=n.enabled&&e,o=er(),s=gte(),c=nr.selectedAccount(r);return Sr({queryKey:c,queryFn:async()=>{try{if(!r)throw new Error(M5);if(!n.enabled)throw new Error(EA);let m=await _p(n.accounts,o);return je.addBreadcrumb("account",`Finished fetching selected account: ${m.identifier}`,"info"),s.identifyAccount(n.accounts,m,r),m}catch(m){throw m instanceof Error&&je.captureError(m,"account"),m}},enabled:i,select:t})}d();h();var jDt=()=>{let{data:t}=ju();return t?t.type==="ledger":void 0};d();h();var bUe=qe(ur());var zDt=t=>{let e=(0,bUe.useMemo)(()=>{if(t){if(WDt(t))return n=>n.address===t.address&&n.networkID===t.networkID;if(ze.isNetworkID(t))return n=>n.networkID===t;if(rG(t))return n=>n.addressType===t;throw new Error(`Unrecognized filter type: ${t}`)}else return()=>!1},[t]);return ju({select:n=>{let i=n.addresses.filter(e);if(i.length>1)throw new Error(`Multiple addresses match filter: ${t}`);return i[0]}})};function WDt(t){return typeof t=="object"&&"address"in t&&(typeof t.address=="string"||t.address===void 0)&&"networkID"in t}d();h();d();h();d();h();var vUe=async(t,e)=>(await C5(t,e))?.balance,xUe=async t=>await O5(t);var GDt=(t,e=!0)=>{let r=er(),n=e&&!!t,i=nr.accountBalance(t||"");return Sr({queryKey:i,queryFn:async()=>{try{return t&&await vUe(r,t)||null}catch(s){throw s instanceof Error&&je.captureError(s,"account"),s}},enabled:n})},$Dt=(t=!0)=>{let e=er(),r=nr.allAccountBalances();return Sr({queryKey:r,queryFn:async()=>{try{return await xUe(e)}catch(i){throw i instanceof Error&&je.captureError(i,"account"),i}},enabled:t})};d();h();function YDt(t){let e=xF(),r=e.enabled&&t.length>0,n=nr.accountIdentifier(t);return Sr({enabled:r,queryKey:n,queryFn:async()=>{try{if(je.addBreadcrumb("account",`Fetching Account: ${t}`,"info"),!e.enabled)throw new Error(EA);let{accounts:o}=e,s=o.find(c=>c.identifier===t);if(!s)throw new Error(QMe(o.length,t));return s}catch(o){throw o instanceof Error&&je.captureError(o,"account"),o}}})}d();h();d();h();function ZDt(){let t=er(),e=Pt(),r=oi();return Dt({mutationFn:async({name:c,addresses:l,icon:m})=>{let w=await r.addReadonlyAccount(l),b={name:c,icon:m};return await Mg(t,w.identifier,b),await ku(t,w.identifier),w},onSettled:async()=>{await Un(e)},onSuccess:c=>{e.setQueryData(nr.selectedAccountIdentifier(),c.identifier)},onError:c=>je.captureError(c,"account")})}d();h();function QDt(){let{t}=Yh(),e=er(),r=Pt(),n=_n(),{fetchAllAccounts:i,addAccountForSeed:o,addAccountForSeedless:s,fetchAllSeedlessMetas:c}=oi();return Dt({mutationFn:async({name:E,icon:I,seedIdentifier:M})=>{je.addBreadcrumb("account",`Adding new account for s**d: ${M}`,"info");let R=(await c()).find(U=>U.identifier===M),B=R?await s(M):await o(M);return await Mg(e,B.identifier,{name:E||t("onboardingImportAccountsAccountName",{walletIndex:(await i()).length}),icon:I}),await ku(e,B.identifier),R&&n.uploadSyncedAccount(B.identifier),B},onSettled:async()=>{await Un(r)},onSuccess:E=>{r.setQueryData(nr.selectedAccountIdentifier(),E.identifier)},onError:E=>je.captureError(E,"account")})}d();h();d();h();function ZT(t){let e=oi(),r=nr.allSeeds(t);return Sr({queryKey:r,queryFn:async()=>{try{let i;switch(t){case"all":{let o=await e.fetchAllSeedMetas();i=[...await e.fetchAllSeedlessMetas(),...o];break}case"local-only":{i=[...await e.fetchAllSeedMetas()];break}case"recoverable-only":{i=[...await e.fetchAllSeedlessMetas()];break}}return i}catch(i){throw i instanceof Error&&je.captureError(i,"account"),i}}})}d();h();d();h();function Pse(){let t=er();return Sr(wUe(t))}function wUe(t){return{queryKey:nr.developerMode(),queryFn:async()=>await t.get("developerMode")||Mee}}d();h();function JDt(){let t=er(),e=Pt(),r=oi();return Dt({mutationFn:async({chainType:s,privateKey:c,name:l,icon:m})=>{je.addBreadcrumb("account","Importing Private Key Account... \u23F3","info");let w=await r.importPrivateKeyAccount(s,c),b={name:l,icon:m};return await Mg(t,w.identifier,b),await ku(t,w.identifier),je.addBreadcrumb("account",`Imported Private Key Account \u2705: ${w.identifier}`,"info"),w},onSettled:async()=>{await Un(e)},onSuccess:s=>{e.setQueryData(nr.selectedAccountIdentifier(),s.identifier)}})}d();h();d();h();function XDt(){let t=nr.selectedNetworkSetting(),e=er();return Sr({queryKey:t,queryFn:()=>MA(e)})}d();h();function eUt(){let t=er(),e=uc(),r=oi(),n=Pt(),i=_n();return Dt({mutationFn:async({identifier:c})=>{je.addBreadcrumb("account",`Removing Account... \u23F3: ${c}`,"info"),await Promise.all([r.removeAccount(c),N5(t,c)]),await _p(await r.fetchAllAccounts(),t),e.capture("removeAccount"),i.deleteSyncedAccount(c),je.addBreadcrumb("account",`Removed Account \u2705: ${c}`,"info")},onSuccess:async()=>{await Un(n)}})}d();h();function tUt(){let t=er(),e=uc(),r=Pt(),n=oi();return Dt({mutationFn:async({seedIdentifier:c})=>{let l=await n.fetchAllAccounts(),m=[];for(let w of l)switch(w.type){case"privateKey":case"ledger":case"seedVault":case"readOnly":continue;case"seed":case"seedless":w.seedIdentifier===c&&m.push(w.identifier);break;default:Ct(w)}for(let w of m)await Promise.all([n.removeAccount(w),N5(t,w)]);e.capture("removeSeed",{data:{numOfAccounts:m.length}})},onSuccess:()=>{Un(r)},onError:c=>{je.captureError(c,"account")}})}d();h();function rUt(){let t=er(),e=Pt(),r=_n();return Dt({mutationFn:async({identifier:s,name:c})=>{je.addBreadcrumb("account","Renaming Multichain Account","info"),await Kte(t,s,c),r.uploadSyncedAccounts()},onSuccess:async()=>{await Un(e)},onError:s=>je.captureError(s,"account")})}d();h();function nUt(){let t=Pt(),e=oi();return Dt({mutationFn:async({identifier:i,toIndex:o})=>{await e.reorderAccount(i,o)},onSuccess:()=>{Un(t)}})}d();h();function iUt(){let t=nr.selectedAccountIdentifier(),e=er(),r=oi();return Sr({queryKey:t,queryFn:async()=>{try{let i=await r.fetchAllAccounts(),s=(await _p(i,e)).identifier;if(!s)throw new Error("Unable to resolve selected account identifier => no available accounts or identifier!");return s}catch(i){throw i instanceof Error&&je.captureError(i,"account"),i}}})}d();h();function oUt(){let t=er(),e=Pt();return Dt({mutationFn:async({identifier:i,balance:o})=>(await jte(t,i,o),{identifier:i,balance:o}),onSuccess:({identifier:i,balance:o})=>{i&&e.invalidateQueries({queryKey:nr.accountBalance(i)}),o&&e.invalidateQueries({queryKey:nr.allAccountBalances()})}})}d();h();function sUt(){let t=er(),e=Pt();return Dt({mutationFn:async({developerMode:i})=>{e.setQueryData(nr.developerMode(),i),await t.set("developerMode",i)},onSuccess:()=>{Un(e)}})}d();h();function aUt(){let t=er(),e=Pt(),r=_n();return Dt({mutationFn:async({identifier:o,icon:s})=>{je.addBreadcrumb("account","Setting Multichain Account Icon","info"),await Hte(t,o,s),r.uploadSyncedAccounts()},onSuccess:async()=>{await Un(e)}})}d();h();function cUt(){let t=er(),e=Pt();return Dt({mutationFn:async({networkSetting:i})=>{e.setQueryData(nr.selectedNetworkSetting(),i),await t.set("networkSetting",i)},onSuccess:()=>{Un(e)}})}d();h();function uUt(){let t=er(),e=uc(),r=Pt();return Dt({mutationFn:async({identifier:s})=>(await ku(t,s),e.capture("changeAccount",{data:{identifier:s}}),s),onSuccess:s=>{wF(r),r.setQueryData(nr.selectedAccountIdentifier(),s)},onError:s=>je.captureError(s,"account")})}d();h();var fUt=()=>{let t=Pt(),e=_n(),r=Ap(),n=nr.syncUserAccounts();return Sr({enabled:r,queryKey:n,queryFn:async()=>{let o=!1;try{o=await e.downloadSyncedAccounts()}catch{return!1}return o&&await Un(t),o},gcTime:1/0,staleTime:1/0})};d();h();var AUe=qe(ur());d();h();var SUe=qe(ur());var QT=()=>{let{data:t}=ju();return(0,SUe.useMemo)(()=>{let e=t?.addresses??[];return[...new Set(e.map(r=>r.networkID))]},[t])};var lUt=()=>{let{data:t,isFetching:e}=Tx(),{data:r,isFetching:n}=ju(),i=QT();return(0,AUe.useMemo)(()=>({data:{"All Accounts":XO(t),"Selected Account":XO(r),"Selected Networks":i.map(o=>ze.getNetworkName(o))},isFetching:e||n}),[t,e,n,r,i])};d();h();var EUe=qe(ur()),dUt=(t=[])=>{let e=YE();return(0,EUe.useMemo)(()=>t.filter(r=>{let n=ze.getParentChain(r.networkID);return n?e.includes(n):!1}),[t,e])};d();h();var YUe=qe(kLe()),BF=qe(ur());d();h();var Ai=qe(ur(),1),tI=t=>t.type==="checkbox",QE=t=>t instanceof Date,Xc=t=>t==null,NUe=t=>typeof t=="object",Es=t=>!Xc(t)&&!Array.isArray(t)&&NUe(t)&&!QE(t),DUe=t=>Es(t)&&t.target?tI(t.target)?t.target.checked:t.target.value:t,hUt=t=>t.substring(0,t.search(/.\d/))||t,UUe=(t,e)=>[...t].some(r=>hUt(e)===r),MF=t=>t.filter(Boolean),mo=t=>t===void 0,Rt=(t,e,r)=>{if(!e||!Es(t))return r;let n=MF(e.split(/[,[\].]+?/)).reduce((i,o)=>Xc(i)?i:i[o],t);return mo(n)||n===t?mo(t[e])?r:t[e]:n},Ose={BLUR:"blur",CHANGE:"change"},xd={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Lp={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Use=(t,e)=>{let r=Object.assign({},t);return delete r[e],r},pUt=Ai.default.createContext(null),Lse=()=>Ai.default.useContext(pUt);var LUe=(t,e,r,n=!0)=>{function i(s){return()=>{if(s in t)return e[s]!==xd.all&&(e[s]=!n||xd.all),r&&(r[s]=!0),t[s]}}let o={};for(let s in t)Object.defineProperty(o,s,{get:i(s)});return o},zu=t=>Es(t)&&!Object.keys(t).length,FUe=(t,e,r)=>{let n=Use(t,"name");return zu(n)||Object.keys(n).length>=Object.keys(e).length||Object.keys(n).find(i=>e[i]===(!r||xd.all))},AF=t=>Array.isArray(t)?t:[t],VUe=(t,e,r)=>r&&e?t===e:!t||!e||t===e||AF(t).some(n=>n&&(n.startsWith(e)||e.startsWith(n)));function Fse(t){let e=Ai.default.useRef(t);e.current=t,Ai.default.useEffect(()=>{let r=i=>{i&&i.unsubscribe()},n=!t.disabled&&e.current.subject.subscribe({next:e.current.callback});return()=>r(n)},[t.disabled])}function mUt(t){let e=Lse(),{control:r=e.control,disabled:n,name:i,exact:o}=t||{},[s,c]=Ai.default.useState(r._formState),l=Ai.default.useRef({isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),m=Ai.default.useRef(i),w=Ai.default.useRef(!0);m.current=i;let b=Ai.default.useCallback(E=>w.current&&VUe(m.current,E.name,o)&&FUe(E,l.current)&&c(Object.assign(Object.assign({},r._formState),E)),[r,o]);return Fse({disabled:n,callback:b,subject:r._subjects.state}),Ai.default.useEffect(()=>()=>{w.current=!1},[]),LUe(s,r._proxyFormState,l.current,!1)}var Wh=t=>typeof t=="string",qUe=(t,e,r,n)=>{let i=Array.isArray(t);return Wh(t)?(n&&e.watch.add(t),Rt(r,t)):i?t.map(o=>(n&&e.watch.add(o),Rt(r,o))):(n&&(e.watchAll=!0),r)},kF=t=>typeof t=="function",Vse=t=>{for(let e in t)if(kF(t[e]))return!0;return!1};function yUt(t){let e=Lse(),{control:r=e.control,name:n,defaultValue:i,disabled:o,exact:s}=t||{},c=Ai.default.useRef(n);c.current=n;let l=Ai.default.useCallback(b=>{if(VUe(c.current,b.name,s)){let E=qUe(c.current,r._names,b.values||r._formValues);w(mo(c.current)||Es(E)&&!Vse(E)?Object.assign({},E):Array.isArray(E)?[...E]:mo(E)?i:E)}},[r,s,i]);Fse({disabled:o,subject:r._subjects.watch,callback:l});let[m,w]=Ai.default.useState(mo(i)?r._getWatch(n):i);return Ai.default.useEffect(()=>{r._removeUnmounted()}),m}function gUt(t){let e=Lse(),{name:r,control:n=e.control,shouldUnregister:i}=t,o=UUe(n._names.array,r),s=yUt({control:n,name:r,defaultValue:Rt(n._formValues,r,Rt(n._defaultValues,r,t.defaultValue)),exact:!o}),c=mUt({control:n,name:r}),l=Ai.default.useRef(n.register(r,Object.assign(Object.assign({},t.rules),{value:s})));return Ai.default.useEffect(()=>{let m=(w,b)=>{let E=Rt(n._fields,w);E&&(E._f.mount=b)};return m(r,!0),()=>{let w=n._options.shouldUnregister||i;o?w&&n._stateFlags.action:w?n.unregister(r):m(r,!1)}},[r,n,o,i]),{field:{name:r,value:s,onChange:Ai.default.useCallback(m=>{l.current.onChange({target:{value:DUe(m),name:r},type:Ose.CHANGE})},[r]),onBlur:Ai.default.useCallback(()=>{l.current.onBlur({target:{value:Rt(n._formValues,r),name:r},type:Ose.BLUR})},[r,n]),ref:Ai.default.useCallback(m=>{let w=Rt(n._fields,r);m&&w&&m.focus&&(w._f.ref={focus:()=>m.focus(),setCustomValidity:b=>m.setCustomValidity(b),reportValidity:()=>m.reportValidity()})},[r,n])},formState:c,fieldState:{invalid:!!Rt(c.errors,r),isDirty:!!Rt(c.dirtyFields,r),isTouched:!!Rt(c.touchedFields,r),error:Rt(c.errors,r)}}}var KUe=t=>t.render(gUt(t)),bUt=(t,e,r,n,i)=>e?Object.assign(Object.assign({},r[t]),{types:Object.assign(Object.assign({},r[t]&&r[t].types?r[t].types:{}),{[n]:i||!0})}):{},qse=t=>/^\w*$/.test(t),HUe=t=>MF(t.replace(/["|']|\]/g,"").split(/\.|\[/));function Io(t,e,r){let n=-1,i=qse(e)?[e]:HUe(e),o=i.length,s=o-1;for(;++n<o;){let c=i[n],l=r;if(n!==s){let m=t[c];l=Es(m)||Array.isArray(m)?m:isNaN(+i[n+1])?{}:[]}t[c]=l,t=t[c]}return t}var Nse=(t,e,r)=>{for(let n of r||Object.keys(t)){let i=Rt(t,n);if(i){let o=i._f,s=Use(i,"_f");if(o&&e(o.name)){if(o.ref.focus&&mo(o.ref.focus()))break;if(o.refs){o.refs[0].focus();break}}else Es(s)&&Nse(s,e)}}};var _Ue=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));function XT(t){let e,r=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(r||Es(t)){e=r?[]:{};for(let n in t){if(kF(t[n])){e=t;break}e[n]=XT(t[n])}}else return t;return e}function Bse(){let t=[];return{get observers(){return t},next:i=>{for(let o of t)o.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(o=>o!==i)}}),unsubscribe:()=>{t=[]}}}var _F=t=>Xc(t)||!NUe(t);function JE(t,e){if(_F(t)||_F(e))return t===e;if(QE(t)&&QE(e))return t.getTime()===e.getTime();let r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(let i of r){let o=t[i];if(!n.includes(i))return!1;if(i!=="ref"){let s=e[i];if(QE(o)&&QE(s)||Es(o)&&Es(s)||Array.isArray(o)&&Array.isArray(s)?!JE(o,s):o!==s)return!1}}return!0}var TUe=t=>({isOnSubmit:!t||t===xd.onSubmit,isOnBlur:t===xd.onBlur,isOnChange:t===xd.onChange,isOnAll:t===xd.all,isOnTouch:t===xd.onTouched}),eI=t=>typeof t=="boolean",Kse=t=>t.type==="file",Dse=t=>t instanceof HTMLElement,jUe=t=>t.type==="select-multiple",Hse=t=>t.type==="radio",vUt=t=>Hse(t)||tI(t),IUe=typeof self<"u"&&typeof self.HTMLElement<"u"&&typeof document<"u",Rse=t=>Dse(t)&&t.isConnected;function xUt(t,e){let r=e.slice(0,-1).length,n=0;for(;n<r;)t=mo(t)?n++:t[e[n++]];return t}function pc(t,e){let r=qse(e)?[e]:HUe(e),n=r.length==1?t:xUt(t,r),i=r[r.length-1],o;n&&delete n[i];for(let s=0;s<r.slice(0,-1).length;s++){let c=-1,l,m=r.slice(0,-(s+1)),w=m.length-1;for(s>0&&(o=t);++c<m.length;){let b=m[c];l=l?l[b]:t[b],w===c&&(Es(l)&&zu(l)||Array.isArray(l)&&!l.filter(E=>Es(E)&&!zu(E)||eI(E)).length)&&(o?delete o[b]:delete t[b]),o=l}}return t}function TF(t,e={}){let r=Array.isArray(t);if(Es(t)||r)for(let n in t)Array.isArray(t[n])||Es(t[n])&&!Vse(t[n])?(e[n]=Array.isArray(t[n])?[]:{},TF(t[n],e[n])):Xc(t[n])||(e[n]=!0);return e}function zUe(t,e,r){let n=Array.isArray(t);if(Es(t)||n)for(let i in t)Array.isArray(t[i])||Es(t[i])&&!Vse(t[i])?mo(e)||_F(r[i])?r[i]=Array.isArray(t[i])?TF(t[i],[]):Object.assign({},TF(t[i])):zUe(t[i],Xc(e)?{}:e[i],r[i]):r[i]=!JE(t[i],e[i]);return r}var MUe=(t,e)=>zUe(t,e,TF(e)),kUe={value:!1,isValid:!1},PUe={value:!0,isValid:!0},WUe=t=>{if(Array.isArray(t)){if(t.length>1){let e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!mo(t[0].attributes.value)?mo(t[0].value)||t[0].value===""?PUe:{value:t[0].value,isValid:!0}:PUe:kUe}return kUe},GUe=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>mo(t)?t:e?t===""?NaN:+t:r&&Wh(t)?new Date(t):n?n(t):t,BUe={isValid:!1,value:null},$Ue=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,BUe):BUe;function Cse(t){let e=t.ref;if(!(t.refs?t.refs.every(r=>r.disabled):e.disabled))return Kse(e)?e.files:Hse(e)?$Ue(t.refs).value:jUe(e)?[...e.selectedOptions].map(({value:r})=>r):tI(e)?WUe(t.refs).value:GUe(mo(e.value)?t.ref.value:e.value,t)}var wUt=(t,e,r,n)=>{let i={};for(let o of t){let s=Rt(e,o);s&&Io(i,o,s._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},IF=t=>t instanceof RegExp,JT=t=>mo(t)?void 0:IF(t)?t.source:Es(t)?IF(t.value)?t.value.source:t.value:t,SUt=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function RUe(t,e,r){let n=Rt(t,r);if(n||qse(r))return{error:n,name:r};let i=r.split(".");for(;i.length;){let o=i.join("."),s=Rt(e,o),c=Rt(t,o);if(s&&!Array.isArray(s)&&r!==o)return{name:r};if(c&&c.type)return{name:o,error:c};i.pop()}return{name:r}}var AUt=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,EUt=(t,e)=>!MF(Rt(t,e)).length&&pc(t,e),EF=t=>Wh(t)||Ai.default.isValidElement(t);function CUe(t,e,r="validate"){if(EF(t)||Array.isArray(t)&&t.every(EF)||eI(t)&&!t)return{type:r,message:EF(t)?t:"",ref:e}}var ZE=t=>Es(t)&&!IF(t)?t:{value:t,message:""},OUe=async(t,e,r,n)=>{let{ref:i,refs:o,required:s,maxLength:c,minLength:l,min:m,max:w,pattern:b,validate:E,name:I,valueAsNumber:M,mount:k,disabled:R}=t._f;if(!k||R)return{};let B=o?o[0]:i,U=S=>{n&&B.reportValidity&&(B.setCustomValidity(eI(S)?"":S||" "),B.reportValidity())},P={},F=Hse(i),q=tI(i),K=F||q,re=(M||Kse(i))&&!i.value||e===""||Array.isArray(e)&&!e.length,Q=bUt.bind(null,I,r,P),ie=(S,a,f,p=Lp.maxLength,y=Lp.minLength)=>{let g=S?a:f;P[I]=Object.assign({type:S?p:y,message:g,ref:i},Q(S?p:y,g))};if(s&&(!K&&(re||Xc(e))||eI(e)&&!e||q&&!WUe(o).isValid||F&&!$Ue(o).isValid)){let{value:S,message:a}=EF(s)?{value:!!s,message:s}:ZE(s);if(S&&(P[I]=Object.assign({type:Lp.required,message:a,ref:B},Q(Lp.required,a)),!r))return U(a),P}if(!re&&(!Xc(m)||!Xc(w))){let S,a,f=ZE(w),p=ZE(m);if(isNaN(e)){let y=i.valueAsDate||new Date(e);Wh(f.value)&&(S=y>new Date(f.value)),Wh(p.value)&&(a=y<new Date(p.value))}else{let y=i.valueAsNumber||parseFloat(e);Xc(f.value)||(S=y>f.value),Xc(p.value)||(a=y<p.value)}if((S||a)&&(ie(!!S,f.message,p.message,Lp.max,Lp.min),!r))return U(P[I].message),P}if((c||l)&&!re&&Wh(e)){let S=ZE(c),a=ZE(l),f=!Xc(S.value)&&e.length>S.value,p=!Xc(a.value)&&e.length<a.value;if((f||p)&&(ie(f,S.message,a.message),!r))return U(P[I].message),P}if(b&&!re&&Wh(e)){let{value:S,message:a}=ZE(b);if(IF(S)&&!e.match(S)&&(P[I]=Object.assign({type:Lp.pattern,message:a,ref:i},Q(Lp.pattern,a)),!r))return U(a),P}if(E){if(kF(E)){let S=await E(e),a=CUe(S,B);if(a&&(P[I]=Object.assign(Object.assign({},a),Q(Lp.validate,a.message)),!r))return U(a.message),P}else if(Es(E)){let S={};for(let a in E){if(!zu(S)&&!r)break;let f=CUe(await E[a](e),B,a);f&&(S=Object.assign(Object.assign({},f),Q(a,f.message)),U(f.message),r&&(P[I]=S))}if(!zu(S)&&(P[I]=Object.assign({ref:B},S),!r))return P}}return U(!0),P},_Ut={mode:xd.onSubmit,reValidateMode:xd.onChange,shouldFocusError:!0};function TUt(t={}){let e=Object.assign(Object.assign({},_Ut),t),r={isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}},n={},i=e.defaultValues||{},o=e.shouldUnregister?{}:XT(i),s={action:!1,mount:!1,watch:!1},c={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,m=0,w={},b={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},E={watch:Bse(),array:Bse(),state:Bse()},I=TUe(e.mode),M=TUe(e.reValidateMode),k=e.criteriaMode===xd.all,R=(W,he)=>(...te)=>{clearTimeout(m),m=self.setTimeout(()=>W(...te),he)},B=async W=>{let he=!1;return b.isValid&&(he=e.resolver?zu((await re()).errors):await ie(n,!0),!W&&he!==r.isValid&&(r.isValid=he,E.state.next({isValid:he}))),he},U=(W,he,te,ce=[],Ze=!0,se=!0)=>{if(s.action=!0,se&&Array.isArray(Rt(n,W))){let le=he(Rt(n,W),te.argA,te.argB);Ze&&Io(n,W,le)}if(b.errors&&se&&Array.isArray(Rt(r.errors,W))){let le=he(Rt(r.errors,W),te.argA,te.argB);Ze&&Io(r.errors,W,le),EUt(r.errors,W)}if(b.touchedFields&&Array.isArray(Rt(r.touchedFields,W))){let le=he(Rt(r.touchedFields,W),te.argA,te.argB);Ze&&Io(r.touchedFields,W,le)}b.dirtyFields&&(r.dirtyFields=MUe(i,o)),E.state.next({isDirty:a(W,ce),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})},P=(W,he)=>(Io(r.errors,W,he),E.state.next({errors:r.errors})),F=(W,he,te,ce)=>{let Ze=Rt(n,W);if(Ze){let se=Rt(o,W,mo(te)?Rt(i,W):te);mo(se)||ce&&ce.defaultChecked||he?Io(o,W,he?se:Cse(Ze._f)):y(W,se),s.mount&&B()}},q=(W,he,te,ce,Ze)=>{let se=!1,le={name:W},Bt=Rt(r.touchedFields,W);if(b.isDirty){let ge=r.isDirty;r.isDirty=le.isDirty=a(),se=ge!==le.isDirty}if(b.dirtyFields&&(!te||ce)){let ge=Rt(r.dirtyFields,W);JE(Rt(i,W),he)?pc(r.dirtyFields,W):Io(r.dirtyFields,W,!0),le.dirtyFields=r.dirtyFields,se=se||ge!==Rt(r.dirtyFields,W)}return te&&!Bt&&(Io(r.touchedFields,W,te),le.touchedFields=r.touchedFields,se=se||b.touchedFields&&Bt!==te),se&&Ze&&E.state.next(le),se?le:{}},K=async(W,he,te,ce,Ze)=>{let se=Rt(r.errors,he),le=b.isValid&&r.isValid!==te;if(t.delayError&&ce?(l=l||R(P,t.delayError),l(he,ce)):(clearTimeout(m),ce?Io(r.errors,he,ce):pc(r.errors,he)),((ce?!JE(se,ce):se)||!zu(Ze)||le)&&!W){let Bt=Object.assign(Object.assign(Object.assign({},Ze),le?{isValid:te}:{}),{errors:r.errors,name:he});r=Object.assign(Object.assign({},r),Bt),E.state.next(Bt)}w[he]--,b.isValidating&&!w[he]&&(E.state.next({isValidating:!1}),w={})},re=async W=>e.resolver?await e.resolver(Object.assign({},o),e.context,wUt(W||c.mount,n,e.criteriaMode,e.shouldUseNativeValidation)):{},Q=async W=>{let{errors:he}=await re();if(W)for(let te of W){let ce=Rt(he,te);ce?Io(r.errors,te,ce):pc(r.errors,te)}else r.errors=he;return he},ie=async(W,he,te={valid:!0})=>{for(let ce in W){let Ze=W[ce];if(Ze){let se=Ze._f,le=Use(Ze,"_f");if(se){let Bt=await OUe(Ze,Rt(o,se.name),k,e.shouldUseNativeValidation);if(Bt[se.name]&&(te.valid=!1,he))break;he||(Bt[se.name]?Io(r.errors,se.name,Bt[se.name]):pc(r.errors,se.name))}le&&await ie(le,he,te)}}return te.valid},S=()=>{for(let W of c.unMount){let he=Rt(n,W);he&&(he._f.refs?he._f.refs.every(te=>!Rse(te)):!Rse(he._f.ref))&&C(W)}c.unMount=new Set},a=(W,he)=>(W&&he&&Io(o,W,he),!JE(u(),i)),f=(W,he,te)=>{let ce=Object.assign({},s.mount?o:mo(he)?i:Wh(W)?{[W]:he}:he);return qUe(W,c,ce,te)},p=W=>MF(Rt(s.mount?o:i,W,t.shouldUnregister?Rt(i,W,[]):[])),y=(W,he,te={})=>{let ce=Rt(n,W),Ze=he;if(ce){let se=ce._f;se&&(!se.disabled&&Io(o,W,GUe(he,se)),Ze=IUe&&Dse(se.ref)&&Xc(he)?"":he,jUe(se.ref)?[...se.ref.options].forEach(le=>le.selected=Ze.includes(le.value)):se.refs?tI(se.ref)?se.refs.length>1?se.refs.forEach(le=>le.checked=Array.isArray(Ze)?!!Ze.find(Bt=>Bt===le.value):Ze===le.value):se.refs[0]&&(se.refs[0].checked=!!Ze):se.refs.forEach(le=>le.checked=le.value===Ze):Kse(se.ref)||(se.ref.value=Ze,se.ref.type||E.watch.next({name:W})))}(te.shouldDirty||te.shouldTouch)&&q(W,Ze,te.shouldTouch,te.shouldDirty,!0),te.shouldValidate&&v(W)},g=(W,he,te)=>{for(let ce in he){let Ze=he[ce],se=`${W}.${ce}`,le=Rt(n,se);(c.array.has(W)||!_F(Ze)||le&&!le._f)&&!QE(Ze)?g(se,Ze,te):y(se,Ze,te)}},A=(W,he,te={})=>{let ce=Rt(n,W),Ze=c.array.has(W);Io(o,W,he),Ze?(E.array.next({name:W,values:o}),(b.isDirty||b.dirtyFields)&&te.shouldDirty&&(r.dirtyFields=MUe(i,o),E.state.next({name:W,dirtyFields:r.dirtyFields,isDirty:a(W,he)}))):ce&&!ce._f&&!Xc(he)?g(W,he,te):y(W,he,te),_Ue(W,c)&&E.state.next({}),E.watch.next({name:W})},_=async W=>{let he=W.target,te=he.name,ce=Rt(n,te);if(ce){let Ze,se,le=he.type?Cse(ce._f):DUe(W),Bt=W.type===Ose.BLUR,ge=!SUt(ce._f)&&!e.resolver&&!Rt(r.errors,te)&&!ce._f.deps||AUt(Bt,Rt(r.touchedFields,te),r.isSubmitted,M,I),ye=_Ue(te,c,Bt);Io(o,te,le),Bt?ce._f.onBlur&&ce._f.onBlur(W):ce._f.onChange&&ce._f.onChange(W);let $r=q(te,le,Bt,!1),Ie=!zu($r)||ye;if(!Bt&&E.watch.next({name:te,type:W.type}),ge)return Ie&&E.state.next(Object.assign({name:te},ye?{}:$r));if(!Bt&&ye&&E.state.next({}),w[te]=(w[te],1),b.isValidating&&E.state.next({isValidating:!0}),e.resolver){let{errors:we}=await re([te]),gn=RUe(r.errors,n,te),ve=RUe(we,n,gn.name||te);Ze=ve.error,te=ve.name,se=zu(we)}else Ze=(await OUe(ce,Rt(o,te),k,e.shouldUseNativeValidation))[te],se=await B(!0);ce._f.deps&&v(ce._f.deps),K(!1,te,se,Ze,$r)}},v=async(W,he={})=>{let te,ce,Ze=AF(W);if(E.state.next({isValidating:!0}),e.resolver){let se=await Q(mo(W)?W:Ze);te=zu(se),ce=W?!Ze.some(le=>Rt(se,le)):te}else W?(ce=(await Promise.all(Ze.map(async se=>{let le=Rt(n,se);return await ie(le&&le._f?{[se]:le}:le)}))).every(Boolean),!(!ce&&!r.isValid)&&B()):ce=te=await ie(n);return E.state.next(Object.assign(Object.assign(Object.assign({},!Wh(W)||b.isValid&&te!==r.isValid?{}:{name:W}),e.resolver?{isValid:te}:{}),{errors:r.errors,isValidating:!1})),he.shouldFocus&&!ce&&Nse(n,se=>Rt(r.errors,se),W?Ze:c.mount),ce},u=W=>{let he=Object.assign(Object.assign({},i),s.mount?o:{});return mo(W)?he:Wh(W)?Rt(he,W):W.map(te=>Rt(he,te))},x=W=>{W?AF(W).forEach(he=>pc(r.errors,he)):r.errors={},E.state.next({errors:r.errors})},L=(W,he,te)=>{let ce=(Rt(n,W,{_f:{}})._f||{}).ref;Io(r.errors,W,Object.assign(Object.assign({},he),{ref:ce})),E.state.next({name:W,errors:r.errors,isValid:!1}),te&&te.shouldFocus&&ce&&ce.focus&&ce.focus()},D=(W,he)=>kF(W)?E.watch.subscribe({next:te=>W(f(void 0,he),te)}):f(W,he,!0),C=(W,he={})=>{for(let te of W?AF(W):c.mount)c.mount.delete(te),c.array.delete(te),Rt(n,te)&&(he.keepValue||(pc(n,te),pc(o,te)),!he.keepError&&pc(r.errors,te),!he.keepDirty&&pc(r.dirtyFields,te),!he.keepTouched&&pc(r.touchedFields,te),!e.shouldUnregister&&!he.keepDefaultValue&&pc(i,te));E.watch.next({}),E.state.next(Object.assign(Object.assign({},r),he.keepDirty?{isDirty:a()}:{})),!he.keepIsValid&&B()},z=(W,he={})=>{let te=Rt(n,W),ce=eI(he.disabled);return Io(n,W,{_f:Object.assign(Object.assign(Object.assign({},te&&te._f?te._f:{ref:{name:W}}),{name:W,mount:!0}),he)}),c.mount.add(W),te?ce&&Io(o,W,he.disabled?void 0:Rt(o,W,Cse(te._f))):F(W,!0,he.value),Object.assign(Object.assign(Object.assign({},ce?{disabled:he.disabled}:{}),e.shouldUseNativeValidation?{required:!!he.required,min:JT(he.min),max:JT(he.max),minLength:JT(he.minLength),maxLength:JT(he.maxLength),pattern:JT(he.pattern)}:{}),{name:W,onChange:_,onBlur:_,ref:Ze=>{if(Ze){z(W,he),te=Rt(n,W);let se=mo(Ze.value)&&Ze.querySelectorAll&&Ze.querySelectorAll("input,select,textarea")[0]||Ze,le=vUt(se),Bt=te._f.refs||[];if(le?Bt.find(ge=>ge===se):se===te._f.ref)return;Io(n,W,{_f:Object.assign(Object.assign({},te._f),le?{refs:Bt.concat(se).filter(Rse),ref:{type:se.type,name:W}}:{ref:se})}),F(W,!1,void 0,se)}else te=Rt(n,W,{}),te._f&&(te._f.mount=!1),(e.shouldUnregister||he.shouldUnregister)&&!(UUe(c.array,W)&&s.action)&&c.unMount.add(W)}})};return{control:{register:z,unregister:C,_executeSchema:re,_getWatch:f,_getDirty:a,_updateValid:B,_removeUnmounted:S,_updateFieldArray:U,_getFieldArray:p,_subjects:E,_proxyFormState:b,get _fields(){return n},set _fields(W){n=W},get _formValues(){return o},set _formValues(W){o=W},get _stateFlags(){return s},set _stateFlags(W){s=W},get _defaultValues(){return i},set _defaultValues(W){i=W},get _names(){return c},set _names(W){c=W},get _formState(){return r},set _formState(W){r=W},get _options(){return e},set _options(W){e=Object.assign(Object.assign({},e),W)}},trigger:v,register:z,handleSubmit:(W,he)=>async te=>{te&&(te.preventDefault&&te.preventDefault(),te.persist&&te.persist());let ce=!0,Ze=e.shouldUnregister?XT(o):Object.assign({},o);E.state.next({isSubmitting:!0});try{if(e.resolver){let{errors:se,values:le}=await re();r.errors=se,Ze=le}else await ie(n);zu(r.errors)&&Object.keys(r.errors).every(se=>Rt(Ze,se))?(E.state.next({errors:{},isSubmitting:!0}),await W(Ze,te)):(he&&await he(r.errors,te),e.shouldFocusError&&Nse(n,se=>Rt(r.errors,se),c.mount))}catch(se){throw ce=!1,se}finally{r.isSubmitted=!0,E.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:zu(r.errors)&&ce,submitCount:r.submitCount+1,errors:r.errors})}},watch:D,setValue:A,getValues:u,reset:(W,he={})=>{let te=W||i,ce=XT(te),Ze=W&&!zu(W)?ce:i;if(he.keepDefaultValues||(i=te),!he.keepValues){if(IUe&&mo(W))for(let se of c.mount){let le=Rt(n,se);if(le&&le._f){let Bt=Array.isArray(le._f.refs)?le._f.refs[0]:le._f.ref;try{Dse(Bt)&&Bt.closest("form").reset();break}catch{}}}o=t.shouldUnregister?he.keepDefaultValues?XT(i):{}:ce,n={},E.array.next({values:Ze}),E.watch.next({values:Ze})}c={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!b.isValid||!!he.keepIsValid,s.watch=!!t.shouldUnregister,E.state.next({submitCount:he.keepSubmitCount?r.submitCount:0,isDirty:he.keepDirty?r.isDirty:he.keepDefaultValues?!JE(W,i):!1,isSubmitted:he.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:he.keepDirty?r.dirtyFields:he.keepDefaultValues&&W?Object.entries(W).reduce((se,[le,Bt])=>Object.assign(Object.assign({},se),{[le]:Bt!==Rt(i,le)}),{}):{},touchedFields:he.keepTouched?r.touchedFields:{},errors:he.keepErrors?r.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},resetField:(W,he={})=>{Rt(n,W)&&(mo(he.defaultValue)?A(W,Rt(i,W)):(A(W,he.defaultValue),Io(i,W,he.defaultValue)),he.keepTouched||pc(r.touchedFields,W),he.keepDirty||(pc(r.dirtyFields,W),r.isDirty=he.defaultValue?a(W,Rt(i,W)):a()),he.keepError||(pc(r.errors,W),b.isValid&&B()),E.state.next(Object.assign({},r)))},clearErrors:x,unregister:C,setError:L,setFocus:W=>{let he=Rt(n,W)._f;(he.ref.focus?he.ref:he.refs[0]).focus()}}}function PF(t={}){let e=Ai.default.useRef(),[r,n]=Ai.default.useState({isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}});e.current?e.current.control._options=t:e.current=Object.assign(Object.assign({},TUt(t)),{formState:r});let i=e.current.control,o=Ai.default.useCallback(s=>{FUe(s,i._proxyFormState,!0)&&(i._formState=Object.assign(Object.assign({},i._formState),s),n(Object.assign({},i._formState)))},[i]);return Fse({subject:i._subjects.state,callback:o}),Ai.default.useEffect(()=>{i._stateFlags.mount||(i._proxyFormState.isValid&&i._updateValid(),i._stateFlags.mount=!0),i._stateFlags.watch&&(i._stateFlags.watch=!1,i._subjects.state.next({})),i._removeUnmounted()}),e.current.formState=LUe(r,i._proxyFormState),e.current}var IUt=({accounts:t,enabledAddressTypes:e,enableAddressTypes:r,editableAccountMetadata:n,addReadOnlyAccount:i,fetchDomainOwner:o})=>{let s=_n(),{t:c}=Yh(),l=uc(),m=n?.networkID||Lr.Solana.Mainnet,{formState:{errors:w},control:b,clearErrors:E,getValues:I,setValue:M,register:k,handleSubmit:R,watch:B,trigger:U}=PF({mode:"all"}),{networkID:P,name:F,address:q,resolvedAddress:K}=B(),re={required:!0},Q=(0,BF.useMemo)(()=>({required:{value:!0,message:c("addAccountImportAccountPublicKeyRequired")},validate:(0,YUe.default)(async a=>{if(a==="")return!0;if(!mR(a,P||m))try{let g=(await o(a,P,s,l))?.owner;return g?(M("resolvedAddress",g),t.find(_=>_.addresses.map(v=>v.address).includes(g))?c("addAccountImportAccountDuplicateAddress"):!0):c("addAccountImportAccountIncorrectFormat")}catch{return c("sendFormErrorInvalidDomain")}return M("resolvedAddress",a),t.find(y=>y.addresses.map(g=>g.address).includes(a))?c("addAccountImportAccountDuplicateAddress"):!0},500)}),[c,P,m,M,t,o,s,l]),ie=F&&K&&!w.name&&!w.address,S=(0,BF.useCallback)(async({networkID:a,name:f,resolvedAddress:p},y)=>{let g=ah(a,p);e.includes(g)||await r({addressTypes:[g]});let A={};A[g]=p,i({name:f,addresses:A,icon:n?.icon}),y(),l.capture("addReadOnlyAccount",{data:{networkID:a,chainType:g}})},[i,n?.icon,r,e,l]);return{Controller:KUe,canSubmit:ie,control:b,errors:w,nameValidations:re,address:q,addressValidations:Q,clearErrors:E,getValues:I,handleSubmit:R,onSubmit:S,register:k,setValue:M,trigger:U}};d();h();function MUt(t){let e=yUe();return t.map(r=>w5.get(r.networkID).addressTooltipNetworkName?.(r.networkID,r.address,e)??ze.getNetworkName(r.networkID))}d();h();d();h();d();h();d();h();var kUt=()=>{let{data:t}=ed();return t?.username};d();h();var QUe=qe(ur());d();h();var PUt=/^https?:\/\/.+$/,ZUe=t=>BUt(t?.icon),BUt=t=>t?t.match(PUt)?{type:b5.Image,imageUrl:t}:{type:b5.Emoji,unicode:t}:{type:b5.Default};var RUt=()=>{let{data:t}=ed();return(0,QUe.useMemo)(()=>ZUe(t),[t])};d();h();var JUe=qe(ur());var CUt=()=>{let{data:t}=ed();return(0,JUe.useMemo)(()=>t?.privacyState??"public",[t?.privacyState])};d();h();var XUe=qe(ur());var OUt=()=>{let{data:t}=ed();return(0,XUe.useMemo)(()=>t?.addresses,[t?.addresses])};d();h();d();h();var eLe=qe(ur());var NUt=0,DUt=t=>t!==null?t.split("@")[NUt]:null,UUt=async(t,e)=>{let r=await t.getUser();if(!r)throw new Error("no user");let n=await e.getUserProfile();return{userID:r.userID,username:n?.username??null,email:DUt(r.email??null)}},LUt=()=>{let t=jc(),e=_n(),{data:r={}}=ste();return(0,eLe.useCallback)(async()=>{try{return{...await UUt(t,e),authFactors:r}}catch{return{userID:null,username:null,email:null,authFactors:r}}},[r,t,e])};var VUt=qe(ur());d();h();var tLe=qe(ur());var qUt=()=>{let{data:t}=ju(),e=(0,tLe.useMemo)(()=>{if(!t||!t.addresses.length)return ze.getChainID("solana:101");let r=t.addresses[0];return ze.getChainID(r.networkID)},[t]);return{caip19:pR(yR(e)),tokenName:ze.getChainName(e),tokenSymbol:ze.getTokenSymbol(e)}};d();h();var KUt=()=>c5();d();h();var HUt=()=>{let{data:t}=Pse();return!!t?.isDeveloperMode},jUt=()=>QT().some(e=>ze.isLocalNetworkID(e));d();h();var nLe=qe(ur());d();h();var rLe=()=>{let{data:t}=vd(),{data:e}=Tx(),{data:r}=ed();return Sr({queryKey:nr.patchProfileAddresses({chainAvailability:t?.enabledNetworkIDs,accountIdentifiers:e?.map(n=>n.identifier),user:r}),queryFn:t&&e&&r?()=>{let{enabledNetworkIDs:n}=t,i=n?.reduce((w,b)=>{let E=e.find(I=>I.addresses.some(M=>M.networkID===b))?.addresses.find(I=>I.networkID===b)?.address;return E&&(w[b]=E),w},{})??{},o=r?.addresses,s=o?Object.keys(o).filter(ze.isNetworkID):[],c=(n??[]).filter(w=>!s.includes(w)).reduce((w,b)=>{let E=i[b];return E&&(w[b]=E),w},{});return Object.keys(c).length>0?{addresses:{...c,...o},addedAddresses:c}:null}:Th})};var zUt=()=>{let{data:t}=rLe(),{mutate:e}=yte(),r=uc();(0,nLe.useEffect)(()=>{if(t){let{addresses:n,addedAddresses:i}=t,o=Object.keys(i);r.capture("autoSyncUsernameAddresses",{data:{addedChains:o}}),e({addresses:n})}},[t,e,r])};d();h();var iLe=qe(ur());var WUt=t=>{let e=(0,iLe.useCallback)(r=>r.addresses.find(n=>t===ze.getChainID(n.networkID))?.networkID,[t]);return ju({select:e})};d();h();var oLe=qe(ur()),GUt=({accountBalance:t,accountId:e,enabled:r,value:n,setAccountBalance:i})=>{(0,oLe.useEffect)(()=>{if(r&&e&&n!==void 0&&n!==t){let o=Date.now();i({identifier:e,balance:{timestamp:o,value:n}})}},[t,e,r,n,i])};d();h();var sLe=qe(ur());var $Ut=()=>{let{data:t=[]}=ZT("local-only"),{data:e=[]}=ZT("recoverable-only");return(0,sLe.useMemo)(()=>t.length+e.length>1,[t.length,e.length])};d();h();d();h();d();h();var mc=qe(ur());function YUt(t){let e,r=new Set,n=(m,w)=>{let b=typeof m=="function"?m(e):m;if(b!==e){let E=e;e=w?b:Object.assign({},e,b),r.forEach(I=>I(e,E))}},i=()=>e,o=(m,w=i,b=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let E=w(e);function I(){let M=w(e);if(!b(E,M)){let k=E;m(E=M,k)}}return r.add(I),()=>r.delete(I)},l={setState:n,getState:i,subscribe:(m,w,b)=>w||b?o(m,w,b):(r.add(m),()=>r.delete(m)),destroy:()=>r.clear()};return e=t(n,i,l),l}var ZUt=typeof self>"u"||!self.navigator||/ServerSideRendering|^Deno\//.test(self.navigator.userAgent),aLe=ZUt?mc.useEffect:mc.useLayoutEffect;function RF(t){let e=typeof t=="function"?YUt(t):t,r=(n=e.getState,i=Object.is)=>{let[,o]=(0,mc.useReducer)(R=>R+1,0),s=e.getState(),c=(0,mc.useRef)(s),l=(0,mc.useRef)(n),m=(0,mc.useRef)(i),w=(0,mc.useRef)(!1),b=(0,mc.useRef)();b.current===void 0&&(b.current=n(s));let E,I=!1;(c.current!==s||l.current!==n||m.current!==i||w.current)&&(E=n(s),I=!i(b.current,E)),aLe(()=>{I&&(b.current=E),c.current=s,l.current=n,m.current=i,w.current=!1});let M=(0,mc.useRef)(s);aLe(()=>{let R=()=>{try{let U=e.getState(),P=l.current(U);m.current(b.current,P)||(c.current=U,b.current=P,o())}catch{w.current=!0,o()}},B=e.subscribe(R);return e.getState()!==M.current&&R(),B},[]);let k=I?E:b.current;return(0,mc.useDebugValue)(k),k};return Object.assign(r,e),r[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");let n=[r,e];return{next(){let i=n.length<=0;return{value:n.shift(),done:i}}}},r}var QUt={editableAccountMetadata:void 0,setEditableAccountMetadata:()=>{}},CF=RF(t=>({...QUt,setEditableAccountMetadata:e=>{t({editableAccountMetadata:e})}}));d();h();var cLe={username:"",available:null,usernameAvailabilityError:null,icon:null,secretIdentifiers:[],accountIdentifiersToSync:[],addresses:{}},uLe=RF((t,e)=>({...cLe,setUsername:r=>t({username:r}),setUsernameAvailabilityError:r=>t({usernameAvailabilityError:r}),setAvailable:r=>t({available:r}),setIcon:r=>t({icon:r}),addSecretIdentifier:r=>{let n=[...e().secretIdentifiers];n.includes(r)||n.push(r),t({secretIdentifiers:n})},removeSecretIdentifier:r=>{t({secretIdentifiers:e().secretIdentifiers.filter(n=>n!==r)})},addAccountIdentifierToSync:r=>{let n=[...e().accountIdentifiersToSync];n.includes(r)||n.push(r),t({accountIdentifiersToSync:n})},removeAccountIdentifierToSync:r=>{t({accountIdentifiersToSync:e().accountIdentifiersToSync.filter(n=>n!==r)})},clearAccountIdentifiersToSync:()=>t({accountIdentifiersToSync:[]}),setAccountIdentifiersToSync:r=>t({accountIdentifiersToSync:r}),addAddress:(r,n)=>{let i={...e().addresses};i[r]=n,t({addresses:i})},removeAddress:(r,n)=>{let i={...e().addresses};i[r]===n&&delete i[r],t({addresses:i})},clearAddresses:()=>{t({addresses:{}})},reset:()=>{t(cLe)}}));d();h();var JUt=qe(ur());d();h();var fLe=qe(ta()),Gh=qe(ur());var XUt=({importPrivateKeyCallback:t,existingAccounts:e,editableAccountMetadata:r,analytics:n})=>{let{t:i}=Yh(),{formState:{errors:o},control:s,clearErrors:c,getValues:l,setValue:m,register:w,handleSubmit:b,watch:E,trigger:I}=PF({mode:"all",defaultValues:{addressType:r?.addressType||"solana",networkID:r?.networkID||Lr.Solana.Mainnet}}),[M,k]=(0,Gh.useState)(null),R=CF(f=>f.setEditableAccountMetadata),{name:B}=E(),U=r?.secrets,P=l("networkID"),F=l("addressType"),q=l("privateKey"),K=(0,Gh.useMemo)(()=>new U_,[]),re={required:!0},Q=(0,Gh.useMemo)(()=>({required:{value:!0,message:i("addAccountImportAccountPrivateKeyRequired")},onChange:f=>{f.target.value||k(null)},validate:f=>{try{let p=l("networkID"),y=l("addressType");if(/\s/.test(f)||!y)return i("addAccountImportAccountIncorrectFormat");let g=ze.getNetworkDefinition(p).value,A=F_({privateKey:f,addressType:y,networkIDValue:g});R({...r,secrets:A});let _=K.generateKeypairFromPrivateKey(A,y);return e.find(u=>!u.isReadOnly&&(u.addresses.map(x=>x.address).includes(ms({publicKey:_.publicKey,addressType:y,networkID:p}))||u.addresses.filter(x=>"publicKey"in x).map(x=>x.publicKey).find(x=>x?Buffer.from(x).equals(Buffer.from(_.publicKey)):!1)))?i("addAccountImportAccountDuplicatePrivateKey"):!0}catch{return i("addAccountImportAccountIncorrectFormat")}}}),[i,K,e,r,R,l]);(0,Gh.useEffect)(()=>{if(o.privateKey){k(null);return}if(q||U)try{let f=ze.getNetworkDefinition(P).value,p=U||F_({privateKey:q,addressType:F,networkIDValue:f}),y=K.generateKeypairFromPrivateKey(p,F);if(!q){let g="";switch(F){case"solana":{g=fLe.default.encode(y.privateKey);break}case"eip155":{g="0x"+Buffer.from(y.privateKey).toString("hex");break}case"sui":{g=i2(y.privateKey);break}}m("privateKey",g)}k(ms({publicKey:y.publicKey,addressType:F,networkID:P}))}catch{k(null)}},[o.privateKey,F,K,q,U,m,P]);let ie=(0,Gh.useMemo)(()=>!!(B&&q&&!o.name&&!o.privateKey),[o.name,o.privateKey,B,q]),S=(0,Gh.useCallback)(async({networkID:f,name:p,privateKey:y,addressType:g})=>{let A=ze.getNetworkDefinition(f).value,_=F_({privateKey:y,addressType:g,networkIDValue:A});await t({chainType:g,name:p,icon:r?.icon,privateKey:_}),n.capture("addPrivateKeyAccount",{data:{networkID:f,chainType:g}})},[t,r?.icon,n]);return{formOnSubmitHandler:b(f=>S(f)),canSubmit:ie,control:s,getValues:l,register:w,setValue:m,trigger:I,errors:o,clearErrors:c,nameValidations:re,privateKey:q,privateKeyValidations:Q,addressPreview:M}};d();h();var eLt=async(t,e,r)=>{let{enabledAddressTypes:n,enabledChainIDs:i,enabledMainnetOnlyNetworkIDs:o}=r,[s,c]=await Promise.all([e.get("developerMode"),MA(e)]),l=await t.fetchAllAccounts(),m=await _p(l,e),w=await C5(e,m.identifier),b={name:w.name,icon:w.icon,identifier:m.identifier,addresses:I5(m,o,n,i,c,s?.isDeveloperMode??!1)};return m.type==="seed"?{...b,type:"seed",seedIdentifier:m.seedIdentifier,isReadOnly:!1}:m.type==="seedless"?{...b,type:"seedless",seedIdentifier:m.seedIdentifier,isReadOnly:!1}:m.type==="readOnly"?{...b,type:"readOnly",isReadOnly:!0}:m.type==="privateKey"?{...b,privateKeyIdentifier:m.privateKeyIdentifier,type:"privateKey",isReadOnly:!1}:{...b,type:m.type,isReadOnly:!1}};d();h();export{tm as a,aM as b,hw as c,om as d,cme as e,fme as f,u6 as g,gH as h,Ame as i,Wme as j,Cw as k,CH as l,tye as m,OH as n,DH as o,UH as p,FH as q,sye as r,cye as s,jH as t,F7 as u,Kge as v,jge as w,Aj as x,Age as y,pf as z,Ej as A,$w as B,_j as C,Tj as D,Bge as E,Rge as F,Cge as G,Oge as H,Nge as I,Dge as J,Uge as K,Lge as L,Fge as M,vrt as N,Ec as O,lu as P,q3t as Q,EIe as R,gs as S,on as T,t6t as U,r6t as V,mp as W,n6t as X,Gj as Y,Hnt as Z,$j as _,Yj as $,Zj as aa,ma as ba,Tt as ca,_be as da,Wm as ea,ya as fa,qt as ga,KXt as ha,I0 as ia,Pbe as ja,m_ as ka,p_ as la,Gm as ma,Cbe as na,w9 as oa,y_ as pa,Dbe as qa,Xnt as ra,eit as sa,ez as ta,tit as ua,rit as va,nit as wa,fs as xa,Hbe as ya,o2 as za,iz as Aa,ait as Ba,Tit as Ca,Iit as Da,a2 as Ea,uz as Fa,lz as Ga,wz as Ha,_z as Ia,Tz as Ja,Lrr as Ka,Qm as La,Qz as Ma,_2 as Na,B_ as Oa,U_ as Pa,D2 as Qa,FP as Ra,Wct as Sa,Ii as Ta,i2 as Ua,F_ as Va,ZP as Wa,VG as Xa,s$ as Ya,p$ as Za,fAe as _a,d4 as $a,ms as ab,Dy as bb,Z$ as cb,nS as db,iS as eb,Uy as fb,Ly as gb,Fy as hb,Vy as ib,qy as jb,cY as kb,ze as lb,WAe as mb,Lr as nb,G0 as ob,qAe as pb,Ky as qb,jAe as rb,zAe as sb,pR as tb,GAe as ub,$Ae as vb,YAe as wb,ZAe as xb,QAe as yb,JAe as zb,XAe as Ab,eEe as Bb,tEe as Cb,rEe as Db,nEe as Eb,iEe as Fb,mR as Gb,ah as Hb,yR as Ib,oEe as Jb,sEe as Kb,pY as Lb,Eee as Mb,a5 as Nb,z1 as Ob,Smt as Pb,MEe as Qb,Vs as Rb,DR as Sb,VY as Tb,I_e as Ub,u8 as Vb,Axt as Wb,ZQ as Xb,f8 as Yb,eJ as Zb,l8 as _b,Ext as $b,tJ as ac,uv as bc,lv as cc,PEt as dc,je as ec,FEt as fc,VEt as gc,JO as hc,$Et as ic,YEt as jc,ZEt as kc,s5 as lc,UN as mc,eN as nc,er as oc,OTe as pc,cc as qc,JEt as rc,VTe as sc,Th as tc,Jr as uc,QTe as vc,hp as wc,GX as xc,uN as yc,Pt as zc,aIe as Ac,Dt as Bc,cIe as Cc,h3t as Dc,Sr as Ec,QEt as Fc,b3t as Gc,wIe as Hc,hee as Ic,mee as Jc,i6t as Kc,o6t as Lc,_ee as Mc,d6t as Nc,s6t as Oc,a6t as Pc,c6t as Qc,u6t as Rc,cA as Sc,Iee as Tc,b6t as Uc,v6t as Vc,Mee as Wc,Ql as Xc,w6t as Yc,S6t as Zc,vD as _c,w5 as $c,W4t as ad,r8t as bd,M5 as cd,bte as dd,wte as ed,n8t as fd,Ate as gd,s8t as hd,a8t as id,XMe as jd,c8t as kd,wD as ld,u5 as md,A6t as nd,_6t as od,T6t as pd,u8t as qd,f8t as rd,l8t as sd,eke as td,ute as ud,Ov as vd,KMe as wd,h4t as xd,x4t as yd,C4t as zd,M6t as Ad,Gf as Bd,p5 as Cd,K_t as Dd,ote as Ed,Cv as Fd,Sp as Gd,z_t as Hd,e4t as Id,t4t as Jd,I6t as Kd,jc as Ld,bp as Md,r4t as Nd,ste as Od,Ap as Pd,n4t as Qd,i4t as Rd,o4t as Sd,s4t as Td,a4t as Ud,uc as Vd,c4t as Wd,_n as Xd,O4t as Yd,N4t as Zd,x5 as _d,mte as $d,ed as ae,GMe as be,V4t as ce,yte as de,q4t as ee,K4t as fe,H4t as ge,Whn as he,kA as ie,k8t as je,P8t as ke,B8t as le,R8t as me,n7e as ne,GTt as oe,$Tt as pe,ID as qe,tT as re,One as se,Nne as te,cn as ue,LCe as ve,px as we,kie as xe,tNe as ye,nNe as ze,sNe as Ae,TNe as Be,INe as Ce,PNe as De,lDe as Ee,XL as Fe,dDe as Ge,eNt as He,Ex as Ie,MDe as Je,cse as Ke,CDt as Le,vse as Me,j4t as Ne,vd as Oe,xse as Pe,ODt as Qe,NDt as Re,oi as Se,wse as Te,DDt as Ue,UDt as Ve,yUe as We,YE as Xe,V7n as Ye,q7n as Ze,K7n as _e,H7n as $e,j7n as af,z7n as bf,GDt as cf,$Dt as df,Tx as ef,YDt as ff,Un as gf,SF as hf,ZDt as if,QDt as jf,ZT as kf,HDt as lf,Pse as mf,wUe as nf,JDt as of,XDt as pf,eUt as qf,tUt as rf,rUt as sf,nUt as tf,iUt as uf,ju as vf,oUt as wf,sUt as xf,aUt as yf,cUt as zf,uUt as Af,fUt as Bf,QT as Cf,lUt as Df,dUt as Ef,gUt as Ff,KUe as Gf,PF as Hf,IUt as If,MUt as Jf,kUt as Kf,RUt as Lf,CUt as Mf,OUt as Nf,LUt as Of,qUt as Pf,KUt as Qf,jDt as Rf,HUt as Sf,jUt as Tf,zUt as Uf,zDt as Vf,WUt as Wf,GUt as Xf,$Ut as Yf,RF as Zf,CF as _f,uLe as $f,XUt as ag,eLt as bg};
/*! Bundled license information:

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/ed25519/lib/index.js:
  (*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)

@solana/buffer-layout/lib/Layout.js:
  (**
   * Support for translating between Uint8Array instances and JavaScript
   * native types.
   *
   * {@link module:Layout~Layout|Layout} is the basis of a class
   * hierarchy that associates property names with sequences of encoded
   * bytes.
   *
   * Layouts are supported for these scalar (numeric) types:
   * * {@link module:Layout~UInt|Unsigned integers in little-endian
   *   format} with {@link module:Layout.u8|8-bit}, {@link
   *   module:Layout.u16|16-bit}, {@link module:Layout.u24|24-bit},
   *   {@link module:Layout.u32|32-bit}, {@link
   *   module:Layout.u40|40-bit}, and {@link module:Layout.u48|48-bit}
   *   representation ranges;
   * * {@link module:Layout~UIntBE|Unsigned integers in big-endian
   *   format} with {@link module:Layout.u16be|16-bit}, {@link
   *   module:Layout.u24be|24-bit}, {@link module:Layout.u32be|32-bit},
   *   {@link module:Layout.u40be|40-bit}, and {@link
   *   module:Layout.u48be|48-bit} representation ranges;
   * * {@link module:Layout~Int|Signed integers in little-endian
   *   format} with {@link module:Layout.s8|8-bit}, {@link
   *   module:Layout.s16|16-bit}, {@link module:Layout.s24|24-bit},
   *   {@link module:Layout.s32|32-bit}, {@link
   *   module:Layout.s40|40-bit}, and {@link module:Layout.s48|48-bit}
   *   representation ranges;
   * * {@link module:Layout~IntBE|Signed integers in big-endian format}
   *   with {@link module:Layout.s16be|16-bit}, {@link
   *   module:Layout.s24be|24-bit}, {@link module:Layout.s32be|32-bit},
   *   {@link module:Layout.s40be|40-bit}, and {@link
   *   module:Layout.s48be|48-bit} representation ranges;
   * * 64-bit integral values that decode to an exact (if magnitude is
   *   less than 2^53) or nearby integral Number in {@link
   *   module:Layout.nu64|unsigned little-endian}, {@link
   *   module:Layout.nu64be|unsigned big-endian}, {@link
   *   module:Layout.ns64|signed little-endian}, and {@link
   *   module:Layout.ns64be|unsigned big-endian} encodings;
   * * 32-bit floating point values with {@link
   *   module:Layout.f32|little-endian} and {@link
   *   module:Layout.f32be|big-endian} representations;
   * * 64-bit floating point values with {@link
   *   module:Layout.f64|little-endian} and {@link
   *   module:Layout.f64be|big-endian} representations;
   * * {@link module:Layout.const|Constants} that take no space in the
   *   encoded expression.
   *
   * and for these aggregate types:
   * * {@link module:Layout.seq|Sequence}s of instances of a {@link
   *   module:Layout~Layout|Layout}, with JavaScript representation as
   *   an Array and constant or data-dependent {@link
   *   module:Layout~Sequence#count|length};
   * * {@link module:Layout.struct|Structure}s that aggregate a
   *   heterogeneous sequence of {@link module:Layout~Layout|Layout}
   *   instances, with JavaScript representation as an Object;
   * * {@link module:Layout.union|Union}s that support multiple {@link
   *   module:Layout~VariantLayout|variant layouts} over a fixed
   *   (padded) or variable (not padded) span of bytes, using an
   *   unsigned integer at the start of the data or a separate {@link
   *   module:Layout.unionLayoutDiscriminator|layout element} to
   *   determine which layout to use when interpreting the buffer
   *   contents;
   * * {@link module:Layout.bits|BitStructure}s that contain a sequence
   *   of individual {@link
   *   module:Layout~BitStructure#addField|BitField}s packed into an 8,
   *   16, 24, or 32-bit unsigned integer starting at the least- or
   *   most-significant bit;
   * * {@link module:Layout.cstr|C strings} of varying length;
   * * {@link module:Layout.blob|Blobs} of fixed- or variable-{@link
   *   module:Layout~Blob#length|length} raw data.
   *
   * All {@link module:Layout~Layout|Layout} instances are immutable
   * after construction, to prevent internal state from becoming
   * inconsistent.
   *
   * @local Layout
   * @local ExternalLayout
   * @local GreedyCount
   * @local OffsetLayout
   * @local UInt
   * @local UIntBE
   * @local Int
   * @local IntBE
   * @local NearUInt64
   * @local NearUInt64BE
   * @local NearInt64
   * @local NearInt64BE
   * @local Float
   * @local FloatBE
   * @local Double
   * @local DoubleBE
   * @local Sequence
   * @local Structure
   * @local UnionDiscriminator
   * @local UnionLayoutDiscriminator
   * @local Union
   * @local VariantLayout
   * @local BitStructure
   * @local BitField
   * @local Boolean
   * @local Blob
   * @local CString
   * @local Constant
   * @local bindConstructorLayout
   * @module Layout
   * @license MIT
   * @author Peter A. Bigot
   * @see {@link https://github.com/pabigot/buffer-layout|buffer-layout on GitHub}
   *)

@babel/runtime/helpers/regeneratorRuntime.js:
  (*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE *)

@noble/secp256k1/lib/index.js:
  (*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

assert/build/internal/util/comparisons.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
   * @license  MIT
   *)

@noble/ed25519/lib/esm/index.js:
  (*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/secp256k1/lib/esm/index.js:
  (*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@scure/bip39/esm/index.js:
  (*! scure-bip39 - MIT License (c) 2022 Patricio Palladino, Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/modular.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/curve.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/weierstrass.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/_shortw_utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/secp256k1.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@scure/base/lib/esm/index.js:
  (*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@scure/btc-signer/index.js:
  (*! scure-btc-signer - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/modular.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/curve.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/weierstrass.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/_shortw_utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/p256.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/secp256k1.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)
*/
//# sourceMappingURL=chunk-MP5PPKB7.js.map
