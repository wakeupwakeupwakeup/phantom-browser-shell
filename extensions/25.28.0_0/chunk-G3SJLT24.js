import{$a as mn,Ab as ko,Eb as fn,F as Zi,G as eo,H as to,Hb as No,I as no,Jb as Io,K as ro,L as io,M as oo,Mb as Do,N as so,Nb as Bo,O as ao,Ob as Jc,Pa as po,Q as on,Qa as lo,R as sn,Ra as fo,S as co,Sa as yo,T as uo,Ta as Ne,Ua as cn,V as an,W as mo,Wa as Ie,Xa as go,Y as Yn,Ya as un,bb as bo,c as N,cb as To,e as Hi,ec as Xn,f as Gi,fb as pn,fc as Jn,g as rn,gc as yn,h as Ki,hb as ho,i as qi,ib as at,ic as Mo,j as zn,k as $n,lc as Oo,mb as So,n as Qi,nb as vo,o as ji,ob as Co,p as zi,pb as Ao,q as $i,qb as Eo,r as Wi,s as Yi,sb as Po,t as Et,tb as wo,u as Xi,ub as ln,vb as dn,wb as xo,x as Wn,xb as Fo,y as Ji}from"./chunk-FDJQKATD.js";import{ja as Li}from"./chunk-OGTXJ4NL.js";import{$a as Fe,Ac as Mi,Bc as Ct,Cb as xi,Db as Fi,Ec as S,Ga as $c,Gb as ki,Hb as Te,Ib as Yt,Mb as Xt,Nb as Jt,P as ie,Se as en,T as G,Vd as he,Vf as Ui,W as zt,X as Ue,Xd as Ri,Za as Wc,_a as Ai,bc as st,da as Ci,db as Ei,ec as M,f as Qc,lb as T,mc as Ni,nb as ye,ob as Pi,oc as ue,pb as wi,qc as Ii,qd as Oi,rd as _i,sb as ke,sc as Zt,tb as j,tc as Di,u as vt,uc as Bi,vb as Qn,vf as tn,wb as jn,zc as W}from"./chunk-MP5PPKB7.js";import{c as Hn,e as qc,u as ot}from"./chunk-LV3AOIIH.js";import{A as jc,Z as hi,_ as zc,b as E,c as w,ca as qn,d as yi,da as We,f as gi,fa as Si,h as $t,ja as vi,k as Wt,l as K,o as Gn,y as h,z as bi}from"./chunk-LT72WXA6.js";import{L as O,Q as Ti,Qb as Xc,R as Kn,c as H,fa as Yc,ic as Zc,jc as eu,l as u,wa as At,xa as nn,ya as Vi}from"./chunk-NRW4C74H.js";import{c as re,f as P,g as Kc,h as o,m as Buffer,n as s}from"./chunk-YJSZZTEX.js";var vn=re(_=>{"use strict";o();s();Object.defineProperty(_,"__esModule",{value:!0});_.MULTIPLE_ACCOUNT_INFO_MAX=_.NAME_HOUSE_PREFIX=_.TLD_HOUSE_PREFIX=_.NFT_RECORD_PREFIX=_.TOKEN_METADATA_PROGRAM_ID=_.SPL_TOKEN_PROGRAM_ID=_.NAME_HOUSE_PROGRAM_ID=_.TLD_HOUSE_PROGRAM_ID=_.ANS_PROGRAM_ID=_.ORIGIN_TLD=_.MAIN_DOMAIN_PREFIX=void 0;var It=vt();_.MAIN_DOMAIN_PREFIX="main_domain";_.ORIGIN_TLD="ANS";_.ANS_PROGRAM_ID=new It.PublicKey("ALTNSZ46uaAUU7XUV6awvdorLGqAsPwa9shm7h4uP2FK");_.TLD_HOUSE_PROGRAM_ID=new It.PublicKey("TLDHkysf5pCnKsVA4gXpNvmy7psXLPEu4LAdDJthT9S");_.NAME_HOUSE_PROGRAM_ID=new It.PublicKey("NH3uX6FtVE2fNREAioP7hm5RaozotZxeL6khU1EHx51");_.SPL_TOKEN_PROGRAM_ID=new It.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");_.TOKEN_METADATA_PROGRAM_ID=new It.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");_.NFT_RECORD_PREFIX="nft_record";_.TLD_HOUSE_PREFIX="tld_house";_.NAME_HOUSE_PREFIX="name_house";_.MULTIPLE_ACCOUNT_INFO_MAX=100});var Cs=re(I=>{"use strict";o();s();var cm=I&&I.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),um=I&&I.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Ce=I&&I.__decorate||function(e,t,n,r){var i=arguments.length,a=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,n,r);else for(var m=e.length-1;m>=0;m--)(c=e[m])&&(a=(i<3?c(a):i>3?c(t,n,a):c(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},mm=I&&I.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.hasOwnProperty.call(e,n)&&cm(t,e,n);return um(t,e),t},Ts=I&&I.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(I,"__esModule",{value:!0});I.deserializeUnchecked=I.deserialize=I.serialize=I.BinaryReader=I.BinaryWriter=I.BorshError=I.baseDecode=I.baseEncode=void 0;var Le=Ts(Hn()),hs=Ts(qc()),pm=mm(Qc()),lm=typeof self.TextDecoder!="function"?pm.TextDecoder:self.TextDecoder,dm=new lm("utf-8",{fatal:!0});function fm(e){return typeof e=="string"&&(e=Buffer.from(e,"utf8")),hs.default.encode(Buffer.from(e))}I.baseEncode=fm;function ym(e){return Buffer.from(hs.default.decode(e))}I.baseDecode=ym;var fr=1024,Q=class extends Error{constructor(t){super(t),this.fieldPath=[],this.originalMessage=t}addToFieldPath(t){this.fieldPath.splice(0,0,t),this.message=this.originalMessage+": "+this.fieldPath.join(".")}};I.BorshError=Q;var Cn=class{constructor(){this.buf=Buffer.alloc(fr),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(fr)]))}writeU8(t){this.maybeResize(),this.buf.writeUInt8(t,this.length),this.length+=1}writeU16(t){this.maybeResize(),this.buf.writeUInt16LE(t,this.length),this.length+=2}writeU32(t){this.maybeResize(),this.buf.writeUInt32LE(t,this.length),this.length+=4}writeU64(t){this.maybeResize(),this.writeBuffer(Buffer.from(new Le.default(t).toArray("le",8)))}writeU128(t){this.maybeResize(),this.writeBuffer(Buffer.from(new Le.default(t).toArray("le",16)))}writeU256(t){this.maybeResize(),this.writeBuffer(Buffer.from(new Le.default(t).toArray("le",32)))}writeU512(t){this.maybeResize(),this.writeBuffer(Buffer.from(new Le.default(t).toArray("le",64)))}writeBuffer(t){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),t,Buffer.alloc(fr)]),this.length+=t.length}writeString(t){this.maybeResize();let n=Buffer.from(t,"utf8");this.writeU32(n.length),this.writeBuffer(n)}writeFixedArray(t){this.writeBuffer(Buffer.from(t))}writeArray(t,n){this.maybeResize(),this.writeU32(t.length);for(let r of t)this.maybeResize(),n(r)}toArray(){return this.buf.subarray(0,this.length)}};I.BinaryWriter=Cn;function Ae(e,t,n){let r=n.value;n.value=function(...i){try{return r.apply(this,i)}catch(a){if(a instanceof RangeError){let c=a.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(c)>=0)throw new Q("Reached the end of buffer when deserializing")}throw a}}}var X=class{constructor(t){this.buf=t,this.offset=0}readU8(){let t=this.buf.readUInt8(this.offset);return this.offset+=1,t}readU16(){let t=this.buf.readUInt16LE(this.offset);return this.offset+=2,t}readU32(){let t=this.buf.readUInt32LE(this.offset);return this.offset+=4,t}readU64(){let t=this.readBuffer(8);return new Le.default(t,"le")}readU128(){let t=this.readBuffer(16);return new Le.default(t,"le")}readU256(){let t=this.readBuffer(32);return new Le.default(t,"le")}readU512(){let t=this.readBuffer(64);return new Le.default(t,"le")}readBuffer(t){if(this.offset+t>this.buf.length)throw new Q(`Expected buffer length ${t} isn't within bounds`);let n=this.buf.slice(this.offset,this.offset+t);return this.offset+=t,n}readString(){let t=this.readU32(),n=this.readBuffer(t);try{return dm.decode(n)}catch(r){throw new Q(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(t){return new Uint8Array(this.readBuffer(t))}readArray(t){let n=this.readU32(),r=Array();for(let i=0;i<n;++i)r.push(t());return r}};Ce([Ae],X.prototype,"readU8",null);Ce([Ae],X.prototype,"readU16",null);Ce([Ae],X.prototype,"readU32",null);Ce([Ae],X.prototype,"readU64",null);Ce([Ae],X.prototype,"readU128",null);Ce([Ae],X.prototype,"readU256",null);Ce([Ae],X.prototype,"readU512",null);Ce([Ae],X.prototype,"readString",null);Ce([Ae],X.prototype,"readFixedArray",null);Ce([Ae],X.prototype,"readArray",null);I.BinaryReader=X;function Ss(e){return e.charAt(0).toUpperCase()+e.slice(1)}function Dt(e,t,n,r,i){try{if(typeof r=="string")i[`write${Ss(r)}`](n);else if(r instanceof Array)if(typeof r[0]=="number"){if(n.length!==r[0])throw new Q(`Expecting byte array of length ${r[0]}, but got ${n.length} bytes`);i.writeFixedArray(n)}else if(r.length===2&&typeof r[1]=="number"){if(n.length!==r[1])throw new Q(`Expecting byte array of length ${r[1]}, but got ${n.length} bytes`);for(let a=0;a<r[1];a++)Dt(e,null,n[a],r[0],i)}else i.writeArray(n,a=>{Dt(e,t,a,r[0],i)});else if(r.kind!==void 0)switch(r.kind){case"option":{n==null?i.writeU8(0):(i.writeU8(1),Dt(e,t,n,r.type,i));break}default:throw new Q(`FieldType ${r} unrecognized`)}else vs(e,n,i)}catch(a){throw a instanceof Q&&a.addToFieldPath(t),a}}function vs(e,t,n){if(typeof t.borshSerialize=="function"){t.borshSerialize(n);return}let r=e.get(t.constructor);if(!r)throw new Q(`Class ${t.constructor.name} is missing in schema`);if(r.kind==="struct")r.fields.map(([i,a])=>{Dt(e,i,t[i],a,n)});else if(r.kind==="enum"){let i=t[r.field];for(let a=0;a<r.values.length;++a){let[c,m]=r.values[a];if(c===i){n.writeU8(a),Dt(e,c,t[c],m,n);break}}}else throw new Q(`Unexpected schema kind: ${r.kind} for ${t.constructor.name}`)}function gm(e,t,n=Cn){let r=new n;return vs(e,t,r),r.toArray()}I.serialize=gm;function Bt(e,t,n,r){try{if(typeof n=="string")return r[`read${Ss(n)}`]();if(n instanceof Array){if(typeof n[0]=="number")return r.readFixedArray(n[0]);if(typeof n[1]=="number"){let i=[];for(let a=0;a<n[1];a++)i.push(Bt(e,null,n[0],r));return i}else return r.readArray(()=>Bt(e,t,n[0],r))}return n.kind==="option"?r.readU8()?Bt(e,t,n.type,r):void 0:yr(e,n,r)}catch(i){throw i instanceof Q&&i.addToFieldPath(t),i}}function yr(e,t,n){if(typeof t.borshDeserialize=="function")return t.borshDeserialize(n);let r=e.get(t);if(!r)throw new Q(`Class ${t.name} is missing in schema`);if(r.kind==="struct"){let i={};for(let[a,c]of e.get(t).fields)i[a]=Bt(e,a,c,n);return new t(i)}if(r.kind==="enum"){let i=n.readU8();if(i>=r.values.length)throw new Q(`Enum index: ${i} is out of range`);let[a,c]=r.values[i],m=Bt(e,a,c,n);return new t({[a]:m})}throw new Q(`Unexpected schema kind: ${r.kind} for ${t.constructor.name}`)}function bm(e,t,n,r=X){let i=new r(n),a=yr(e,t,i);if(i.offset<n.length)throw new Q(`Unexpected ${n.length-i.offset} bytes after deserialized data`);return a}I.deserialize=bm;function Tm(e,t,n,r=X){let i=new r(n);return yr(e,t,i)}I.deserializeUnchecked=Tm});var An=re(lt=>{"use strict";o();s();var As=lt&&lt.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function m(f){try{d(r.next(f))}catch(y){c(y)}}function l(f){try{d(r.throw(f))}catch(y){c(y)}}function d(f){f.done?a(f.value):i(f.value).then(m,l)}d((r=r.apply(e,t||[])).next())})};Object.defineProperty(lt,"__esModule",{value:!0});lt.NameRecordHeader=void 0;var gr=vt(),Mt=Cs(),Je=class e{constructor(t){this.parentName=new gr.PublicKey(t.parentName),this.nclass=new gr.PublicKey(t.nclass),this.expiresAt=new Date(new Mt.BinaryReader(Buffer.from(t.expiresAt)).readU64().toNumber()*1e3),this.createdAt=new Date(new Mt.BinaryReader(Buffer.from(t.createdAt)).readU64().toNumber()*1e3),this.nonTransferable=t.nonTransferable[0]!==0;let n=45*24*60*60*1e3;this.isValid=new Mt.BinaryReader(Buffer.from(t.expiresAt)).readU64().toNumber()===0?!0:this.expiresAt.getTime()+n>new Date(Date.now()).getTime(),this.owner=this.isValid?new gr.PublicKey(t.owner):void 0}static get byteSize(){return 200}static fromAccountAddress(t,n){var r;return As(this,void 0,void 0,function*(){let i=yield t.getAccountInfo(n,"confirmed");if(!i)return;let a=(0,Mt.deserializeUnchecked)(this.schema,e,i.data);return a.data=(r=i.data)===null||r===void 0?void 0:r.subarray(this.byteSize),a})}static fromMultipileAccountAddresses(t,n){return As(this,void 0,void 0,function*(){let r=yield t.getMultipleAccountsInfo(n),i=[];return r.forEach(a=>{if(!a){i.push(void 0);return}let c=this.fromAccountInfo(a);if(!c){i.push(void 0);return}i.push(c)}),i})}static fromAccountInfo(t){var n;let r=(0,Mt.deserializeUnchecked)(this.schema,e,t.data);return r.data=(n=t.data)===null||n===void 0?void 0:n.subarray(this.byteSize),r}pretty(){var t;let n=this.data.indexOf(0);return{parentName:this.parentName.toBase58(),owner:(t=this.owner)===null||t===void 0?void 0:t.toBase58(),nclass:this.nclass.toBase58(),expiresAt:this.expiresAt,createdAt:this.createdAt,nonTransferable:this.nonTransferable,isValid:this.isValid,data:this.isValid?this.data.subarray(0,n).toString():void 0}}};lt.NameRecordHeader=Je;Je.DISCRIMINATOR=[68,72,88,44,15,167,103,243];Je.HASH_PREFIX="ALT Name Service";Je.schema=new Map([[Je,{kind:"struct",fields:[["discriminator",[8]],["parentName",[32]],["owner",[32]],["nclass",[32]],["expiresAt",[8]],["createdAt",[8]],["nonTransferable",[1]],["padding",[79]]]}]])});var br=re(oe=>{"use strict";o();s();var hm=oe&&oe.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Sm=oe&&oe.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),vm=oe&&oe.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&hm(t,e,n);return Sm(t,e),t};Object.defineProperty(oe,"__esModule",{value:!0});oe.tagBeet=oe.Tag=void 0;var Cm=vm(Wn()),Es;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.ActiveRecord=1]="ActiveRecord",e[e.InactiveRecord=2]="InactiveRecord"})(Es=oe.Tag||(oe.Tag={}));oe.tagBeet=Cm.fixedScalarEnum(Es)});var Tr=re(L=>{"use strict";o();s();var Am=L&&L.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Em=L&&L.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),ws=L&&L.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&Am(t,e,n);return Em(t,e),t},Ps=L&&L.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function m(f){try{d(r.next(f))}catch(y){c(y)}}function l(f){try{d(r.throw(f))}catch(y){c(y)}}function d(f){f.done?a(f.value):i(f.value).then(m,l)}d((r=r.apply(e,t||[])).next())})};Object.defineProperty(L,"__esModule",{value:!0});L.nftRecordBeet=L.NftRecord=L.nftRecordDiscriminator=void 0;var En=ws(Wn()),Pn=ws(Ji()),xs=br();L.nftRecordDiscriminator=[174,190,114,100,177,14,90,254];var wn=class e{constructor(t,n,r,i,a,c){this.tag=t,this.bump=n,this.nameAccount=r,this.owner=i,this.nftMintAccount=a,this.tldHouse=c}static fromArgs(t){return new e(t.tag,t.bump,t.nameAccount,t.owner,t.nftMintAccount,t.tldHouse)}static fromAccountInfo(t,n=0){return e.deserialize(t.data,n)}static fromAccountAddress(t,n){return Ps(this,void 0,void 0,function*(){let r=yield t.getAccountInfo(n);if(r==null)throw new Error(`Unable to find NftRecord account at ${n}`);return e.fromAccountInfo(r,0)[0]})}static deserialize(t,n=0){return L.nftRecordBeet.deserialize(t,n)}serialize(){return L.nftRecordBeet.serialize(Object.assign({accountDiscriminator:L.nftRecordDiscriminator},this))}static get byteSize(){return L.nftRecordBeet.byteSize}static getMinimumBalanceForRentExemption(t,n){return Ps(this,void 0,void 0,function*(){return yield t.getMinimumBalanceForRentExemption(e.byteSize,n)})}static hasCorrectByteSize(t,n=0){return t.byteLength-n===e.byteSize}pretty(){return{tag:"Tag."+xs.Tag[this.tag],bump:this.bump,nameAccount:this.nameAccount.toBase58(),owner:this.owner.toBase58(),nftMintAccount:this.nftMintAccount.toBase58(),tldHouse:this.tldHouse.toBase58()}}};L.NftRecord=wn;L.nftRecordBeet=new En.BeetStruct([["accountDiscriminator",En.uniformFixedSizeArray(En.u8,8)],["tag",xs.tagBeet],["bump",En.u8],["nameAccount",Pn.publicKey],["owner",Pn.publicKey],["nftMintAccount",Pn.publicKey],["tldHouse",Pn.publicKey]],wn.fromArgs,"NftRecord")});var xn=re(A=>{"use strict";o();s();var be=A&&A.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function m(f){try{d(r.next(f))}catch(y){c(y)}}function l(f){try{d(r.throw(f))}catch(y){c(y)}}function d(f){f.done?a(f.value):i(f.value).then(m,l)}d((r=r.apply(e,t||[])).next())})};Object.defineProperty(A,"__esModule",{value:!0});A.splitDomainTld=A.getParsedAllDomainsNftAccountsByOwner=A.delay=A.performReverseLookupBatched=A.findMetadataAddress=A.findNameHouse=A.findTldHouse=A.findNftRecord=A.getMintOwner=A.findAllDomainsForTld=A.getParentAccountFromTldHouseAccountInfo=A.getTldFromTldHouseAccountInfo=A.getAllTld=A.findMainDomain=A.findOwnedNameAccountsForUser=A.getOriginNameAccountKey=A.getHashedName=A.getNameOwner=A.getNameAccountKeyWithBump=void 0;var me=vt(),Pm=Hn(),wm=$c(),z=vn(),hr=An(),xm=br(),Fm=Tr();function Sr(e,t,n){let r=[e,t?t.toBuffer():Buffer.alloc(32),n?n.toBuffer():Buffer.alloc(32)];return me.PublicKey.findProgramAddressSync(r,z.ANS_PROGRAM_ID)}A.getNameAccountKeyWithBump=Sr;function km(e,t,n){return be(this,void 0,void 0,function*(){let r=yield hr.NameRecordHeader.fromAccountAddress(e,t),i=r.owner;if(!r.isValid)return;if(!n)return i;let[a]=Ds(n),[c]=Is(t,a);return i?.toBase58()!==c.toBase58()?i:yield Ns(e,c)})}A.getNameOwner=km;function vr(e){return be(this,void 0,void 0,function*(){let t=hr.NameRecordHeader.HASH_PREFIX+e,n=(0,wm.sha256)(Buffer.from(t,"utf8")).slice(2);return Buffer.from(n,"hex")})}A.getHashedName=vr;function Nm(e=z.ORIGIN_TLD){return be(this,void 0,void 0,function*(){let t=yield vr(e),[n]=Sr(t,void 0,void 0);return n})}A.getOriginNameAccountKey=Nm;function Im(e,t,n){return be(this,void 0,void 0,function*(){let r=[{memcmp:{offset:40,bytes:t.toBase58(),encoding:"base58"}}];return n&&r.push({memcmp:{offset:8,bytes:n.toBase58(),encoding:"base58"}}),(yield e.getProgramAccounts(z.ANS_PROGRAM_ID,{filters:r})).map(a=>a.pubkey)})}A.findOwnedNameAccountsForUser=Im;function Dm(e){return me.PublicKey.findProgramAddressSync([Buffer.from(z.MAIN_DOMAIN_PREFIX),e.toBuffer()],z.TLD_HOUSE_PROGRAM_ID)}A.findMainDomain=Dm;function Bm(e){return be(this,void 0,void 0,function*(){let n=[{memcmp:{offset:0,bytes:[247,144,135,1,238,173,19,249],encoding:"binary"}}],r=yield e.getProgramAccounts(z.TLD_HOUSE_PROGRAM_ID,{filters:n}),i=[];return r.map(({account:a})=>{let c=ks(a),m=Fs(a);i.push({tld:m,parentAccount:c})}),i})}A.getAllTld=Bm;function Fs(e){var t;let r=(t=e?.data)===null||t===void 0?void 0:t.subarray(104),i=new Pm.BN(r?.subarray(0,4),"le").toNumber();return r.subarray(4,4+i).toString().replace(/\0.*$/g,"")}A.getTldFromTldHouseAccountInfo=Fs;function ks(e){var t;let r=(t=e?.data)===null||t===void 0?void 0:t.subarray(72,104);return new me.PublicKey(r)}A.getParentAccountFromTldHouseAccountInfo=ks;function Mm(e,t){return be(this,void 0,void 0,function*(){let n=[{memcmp:{offset:8,bytes:t.toBase58(),encoding:"base58"}}];return(yield e.getProgramAccounts(z.ANS_PROGRAM_ID,{filters:n})).map(i=>i.pubkey)})}A.findAllDomainsForTld=Mm;function Ns(e,t){return be(this,void 0,void 0,function*(){try{let n=yield Fm.NftRecord.fromAccountAddress(e,t);if(n.tag!==xm.Tag.ActiveRecord)return;let r=yield e.getTokenLargestAccounts(n.nftMintAccount),i=yield e.getParsedAccountInfo(r.value[0].address);return i.value.data?new me.PublicKey(i.value.data.parsed.info.owner):void 0}catch{return}})}A.getMintOwner=Ns;function Is(e,t){return me.PublicKey.findProgramAddressSync([Buffer.from(z.NFT_RECORD_PREFIX),t.toBuffer(),e.toBuffer()],z.NAME_HOUSE_PROGRAM_ID)}A.findNftRecord=Is;function Om(e){return e=e.toLowerCase(),me.PublicKey.findProgramAddressSync([Buffer.from(z.TLD_HOUSE_PREFIX),Buffer.from(e)],z.TLD_HOUSE_PROGRAM_ID)}A.findTldHouse=Om;function Ds(e){return me.PublicKey.findProgramAddressSync([Buffer.from(z.NAME_HOUSE_PREFIX),e.toBuffer()],z.NAME_HOUSE_PROGRAM_ID)}A.findNameHouse=Ds;var _m=e=>me.PublicKey.findProgramAddressSync([Buffer.from("metadata"),z.TOKEN_METADATA_PROGRAM_ID.toBuffer(),e.toBuffer()],z.TOKEN_METADATA_PROGRAM_ID)[0];A.findMetadataAddress=_m;function Rm(e,t,n){return be(this,void 0,void 0,function*(){let r=t.map(c=>be(this,void 0,void 0,function*(){let m=yield vr(c.toBase58()),[l]=Sr(m,n,void 0);return l})),i=yield Promise.all(r);return(yield e.getMultipleAccountsInfo(i)).map(c=>c?.data.subarray(hr.NameRecordHeader.byteSize,c?.data.length).toString())})}A.performReverseLookupBatched=Rm;function Um(e){return new Promise(t=>setTimeout(t,e))}A.delay=Um;var Vm=(e,t,n)=>be(void 0,void 0,void 0,function*(){let{value:r}=yield t.getParsedTokenAccountsByOwner(e,{programId:z.SPL_TOKEN_PROGRAM_ID}),i=r.filter(c=>{var m,l,d,f,y,g,b,C,k,x;let B=(y=(f=(d=(l=(m=c.account)===null||m===void 0?void 0:m.data)===null||l===void 0?void 0:l.parsed)===null||d===void 0?void 0:d.info)===null||f===void 0?void 0:f.tokenAmount)===null||y===void 0?void 0:y.uiAmount;return((x=(k=(C=(b=(g=c.account)===null||g===void 0?void 0:g.data)===null||b===void 0?void 0:b.parsed)===null||C===void 0?void 0:C.info)===null||k===void 0?void 0:k.tokenAmount)===null||x===void 0?void 0:x.decimals)===0&&B===1}).map(c=>{var m,l,d,f;return(f=(d=(l=(m=c.account)===null||m===void 0?void 0:m.data)===null||l===void 0?void 0:l.parsed)===null||d===void 0?void 0:d.info)===null||f===void 0?void 0:f.mint});return yield Lm(i,t,n)});A.getParsedAllDomainsNftAccountsByOwner=Vm;var Lm=(e,t,n)=>be(void 0,void 0,void 0,function*(){let r=[];if(e.length>100)for(;e.length>0;){let c=e.splice(0,100).map(l=>(0,A.findMetadataAddress)(new me.PublicKey(l))),m=yield t.getMultipleAccountsInfo(c);for(let l of m)if(l){let d=new me.PublicKey(l.data.subarray(326,358));if(!!l.data.subarray(326,327)&&d.toString()===n.toString()){let y=l.data.subarray(66,101).toString().replace(/\u0000/g,"");r.push(y)}}}else{let c=e.map(l=>(0,A.findMetadataAddress)(new me.PublicKey(l))),m=yield t.getMultipleAccountsInfo(c);for(let l of m)if(l){let d=new me.PublicKey(l.data.subarray(326,358));if(!!l.data.subarray(326,327)&&d.toString()===n.toString()){let y=l.data.subarray(66,101).toString().replace(/\u0000/g,"");r.push(y)}}}return r});function Hm(e){let t=e.split("."),n="",r="",i="";return t.length===1?r=t[0]:(n="."+t[t.length-1],r=t[t.length-2],i=t.slice(0,t.length-2).join(".")),[n,r,i]}A.splitDomainTld=Hm});var Ar=re(R=>{"use strict";o();s();var Gm=R&&R.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Km=R&&R.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Cr=R&&R.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&Gm(t,e,n);return Km(t,e),t},Bs=R&&R.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function m(f){try{d(r.next(f))}catch(y){c(y)}}function l(f){try{d(r.throw(f))}catch(y){c(y)}}function d(f){f.done?a(f.value):i(f.value).then(m,l)}d((r=r.apply(e,t||[])).next())})};Object.defineProperty(R,"__esModule",{value:!0});R.mainDomainBeet=R.MainDomain=R.mainDomainDiscriminator=void 0;var qm=Cr(vt()),Ms=Cr(Ji()),Ot=Cr(Wn());R.mainDomainDiscriminator=[109,239,227,199,98,226,66,175];var Fn=class e{constructor(t,n,r){this.nameAccount=t,this.tld=n,this.domain=r}static fromArgs(t){return new e(t.nameAccount,t.tld,t.domain)}static fromAccountInfo(t,n=0){return e.deserialize(t.data,n)}static fromAccountAddress(t,n,r){return Bs(this,void 0,void 0,function*(){let i=yield t.getAccountInfo(n,r);if(i==null)throw new Error(`Unable to find MainDomain account at ${n}`);return e.fromAccountInfo(i,0)[0]})}static gpaBuilder(t=new qm.PublicKey("TLDHkysf5pCnKsVA4gXpNvmy7psXLPEu4LAdDJthT9S")){return Ms.GpaBuilder.fromStruct(t,R.mainDomainBeet)}static deserialize(t,n=0){return R.mainDomainBeet.deserialize(t,n)}serialize(){return R.mainDomainBeet.serialize(Object.assign({accountDiscriminator:R.mainDomainDiscriminator},this))}static byteSize(t){let n=e.fromArgs(t);return R.mainDomainBeet.toFixedFromValue(Object.assign({accountDiscriminator:R.mainDomainDiscriminator},n)).byteSize}static getMinimumBalanceForRentExemption(t,n,r){return Bs(this,void 0,void 0,function*(){return yield n.getMinimumBalanceForRentExemption(e.byteSize(t),r)})}pretty(){return{nameAccount:this.nameAccount.toBase58(),tld:this.tld,domain:this.domain}}};R.MainDomain=Fn;R.mainDomainBeet=new Ot.FixableBeetStruct([["accountDiscriminator",Ot.uniformFixedSizeArray(Ot.u8,8)],["nameAccount",Ms.publicKey],["tld",Ot.utf8String],["domain",Ot.utf8String]],Fn.fromArgs,"MainDomain")});var Pr=re(dt=>{"use strict";o();s();var Os=dt&&dt.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function m(f){try{d(r.next(f))}catch(y){c(y)}}function l(f){try{d(r.throw(f))}catch(y){c(y)}}function d(f){f.done?a(f.value):i(f.value).then(m,l)}d((r=r.apply(e,t||[])).next())})};Object.defineProperty(dt,"__esModule",{value:!0});dt.getDomainKey=void 0;var Er=xn(),Qm=(e,t=!1)=>Os(void 0,void 0,void 0,function*(){let n=e.split(".");if(n.length===3){let m="."+n[2],l=n[1],d=n[0],{pubkey:f}=yield Oe(m),{pubkey:y}=yield Oe(l,f),b=Buffer.from([t?1:0]).toString().concat(d),C=yield Oe(b,y);return Object.assign(Object.assign({},C),{isSub:!0,parent:y})}else if(n.length===4&&t){let m="."+n[3],l=n[2],d=n[1],f=n[0],{pubkey:y}=yield Oe(m),{pubkey:g}=yield Oe(l,y),{pubkey:b}=yield Oe("\0".concat(d),g),C=Buffer.from([1]).toString(),k=yield Oe(C.concat(f),b);return Object.assign(Object.assign({},k),{isSub:!0,parent:g,isSubRecord:!0})}else if(n.length>4)throw new Error("Invalid derivation input");let r="."+n[1],{pubkey:i}=yield Oe(r),a=n[0],c=yield Oe(a,i);return Object.assign(Object.assign({},c),{isSub:!1,parent:void 0})});dt.getDomainKey=Qm;var Oe=(e,t)=>Os(void 0,void 0,void 0,function*(){t||(t=yield(0,Er.getOriginNameAccountKey)());let n=yield(0,Er.getHashedName)(e),[r]=yield(0,Er.getNameAccountKeyWithBump)(n,void 0,t);return{pubkey:r,hashed:n}})});var Rs=re(ft=>{"use strict";o();s();var se=ft&&ft.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function m(f){try{d(r.next(f))}catch(y){c(y)}}function l(f){try{d(r.throw(f))}catch(y){c(y)}}function d(f){f.done?a(f.value):i(f.value).then(m,l)}d((r=r.apply(e,t||[])).next())})};Object.defineProperty(ft,"__esModule",{value:!0});ft.TldParser=void 0;var Ee=vt(),jm=Hn(),zm=Ar(),wr=An(),v=xn(),He=vn(),_s=Pr(),xr=class{constructor(t){this.connection=t}getAllUserDomains(t){return se(this,void 0,void 0,function*(){return typeof t=="string"&&(t=new Ee.PublicKey(t)),yield(0,v.findOwnedNameAccountsForUser)(this.connection,t,void 0)})}getAllUserDomainsFromTld(t,n){return se(this,void 0,void 0,function*(){let r="."+n,i=yield(0,v.getOriginNameAccountKey)(),a=yield(0,v.getHashedName)(r),[c]=(0,v.getNameAccountKeyWithBump)(a,void 0,i);return typeof t=="string"&&(t=new Ee.PublicKey(t)),yield(0,v.findOwnedNameAccountsForUser)(this.connection,t,c)})}getOwnerFromDomainTld(t){return se(this,void 0,void 0,function*(){let n=t.split("."),r=n[0],i="."+n[1],a=yield(0,v.getOriginNameAccountKey)(),c=yield(0,v.getHashedName)(i),[m]=(0,v.getNameAccountKeyWithBump)(c,void 0,a),l=yield(0,v.getHashedName)(r),[d]=(0,v.getNameAccountKeyWithBump)(l,void 0,m),[f]=(0,v.findTldHouse)(i);return yield(0,v.getNameOwner)(this.connection,d,f)})}getNameRecordFromDomainTld(t){return se(this,void 0,void 0,function*(){let n=t.split("."),r=n[0],i="."+n[1],a=yield(0,v.getOriginNameAccountKey)(),c=yield(0,v.getHashedName)(i),[m]=(0,v.getNameAccountKeyWithBump)(c,void 0,a),l=yield(0,v.getHashedName)(r),[d]=(0,v.getNameAccountKeyWithBump)(l,void 0,m);return yield wr.NameRecordHeader.fromAccountAddress(this.connection,d)})}getTldFromParentAccount(t){var n;return se(this,void 0,void 0,function*(){typeof t=="string"&&(t=new Ee.PublicKey(t));let r=yield wr.NameRecordHeader.fromAccountAddress(this.connection,t),i=yield this.connection.getAccountInfo(r?.owner),c=(n=i?.data)===null||n===void 0?void 0:n.subarray(104),m=new jm.BN(c?.subarray(0,4),"le").toNumber();return c.subarray(4,4+m).toString().replace(/\0.*$/g,"")})}reverseLookupNameAccount(t,n){var r;return se(this,void 0,void 0,function*(){typeof t=="string"&&(t=new Ee.PublicKey(t)),typeof n=="string"&&(n=new Ee.PublicKey(n));let i=yield(0,v.getHashedName)(t.toString()),[a]=(0,v.getNameAccountKeyWithBump)(i,n,void 0),c=yield wr.NameRecordHeader.fromAccountAddress(this.connection,a);return(r=c?.data)===null||r===void 0?void 0:r.toString()})}getMainDomain(t){return se(this,void 0,void 0,function*(){typeof t=="string"&&(t=new Ee.PublicKey(t));let[n]=(0,v.findMainDomain)(t);return yield zm.MainDomain.fromAccountAddress(this.connection,n)})}getParsedAllUserDomainsFromTldUnwrapped(t,n){return se(this,void 0,void 0,function*(){let r="."+n,i=yield(0,v.getOriginNameAccountKey)(),a=yield(0,v.getHashedName)(r),[c]=(0,v.findTldHouse)(r),[m]=(0,v.getNameAccountKeyWithBump)(a,void 0,i);typeof t=="string"&&(t=new Ee.PublicKey(t));let l=yield(0,v.findOwnedNameAccountsForUser)(this.connection,t,m),d=[];for(let f=0;f<l.length;f+=He.MULTIPLE_ACCOUNT_INFO_MAX){yield(0,v.delay)(100);let y=Math.min(f+He.MULTIPLE_ACCOUNT_INFO_MAX,l.length),g=l.slice(f,y),C=(yield(0,v.performReverseLookupBatched)(this.connection,g,c)).map((k,x)=>({nameAccount:g[x],domain:k+r}));C.length>0&&C.sort((k,x)=>k.domain.localeCompare(x.domain,void 0,{numeric:!0,sensitivity:"base"})),d.push(...C)}return d})}getParsedAllUserDomainsFromTld(t,n){return se(this,void 0,void 0,function*(){let r="."+n,i=yield(0,v.getOriginNameAccountKey)(),a=yield(0,v.getHashedName)(r),[c]=(0,v.findTldHouse)(r),[m]=(0,v.getNameAccountKeyWithBump)(a,void 0,i);typeof t=="string"&&(t=new Ee.PublicKey(t));let l=yield(0,v.findOwnedNameAccountsForUser)(this.connection,t,m),d=[],y=(yield(0,v.getParsedAllDomainsNftAccountsByOwner)(t,this.connection,(0,v.findNameHouse)(c)[0])).map(b=>b+r),g=yield Promise.all(y.map(b=>se(this,void 0,void 0,function*(){return{nameAccount:(yield(0,_s.getDomainKey)(b)).pubkey,domain:b}})));d.push(...g);for(let b=0;b<l.length;b+=He.MULTIPLE_ACCOUNT_INFO_MAX){yield(0,v.delay)(100);let C=Math.min(b+He.MULTIPLE_ACCOUNT_INFO_MAX,l.length),k=l.slice(b,C),B=(yield(0,v.performReverseLookupBatched)(this.connection,k,c)).map((J,le)=>({nameAccount:k[le],domain:J+r}));d.push(...B)}return d.length>0&&d.sort((b,C)=>b.domain.localeCompare(C.domain,void 0,{numeric:!0,sensitivity:"base"})),d})}getParsedAllUserDomainsUnwrapped(t){return se(this,void 0,void 0,function*(){let n=yield(0,v.getAllTld)(this.connection),r=[];typeof t=="string"&&(t=new Ee.PublicKey(t));for(let{parentAccount:i,tld:a}of n){let c=a.toString(),[m]=(0,v.findTldHouse)(c),l=yield(0,v.findOwnedNameAccountsForUser)(this.connection,t,i);for(let d=0;d<l.length;d+=He.MULTIPLE_ACCOUNT_INFO_MAX){yield(0,v.delay)(100);let f=Math.min(d+He.MULTIPLE_ACCOUNT_INFO_MAX,l.length),y=l.slice(d,f),b=(yield(0,v.performReverseLookupBatched)(this.connection,y,m)).map((C,k)=>({nameAccount:y[k],domain:C+c}));r.push(...b)}}return r.length>0&&r.sort((i,a)=>i.domain.localeCompare(a.domain,void 0,{numeric:!0,sensitivity:"base"})),r})}getParsedAllUserDomains(t){return se(this,void 0,void 0,function*(){let n=yield(0,v.getAllTld)(this.connection),r=[];typeof t=="string"&&(t=new Ee.PublicKey(t));for(let{parentAccount:i,tld:a}of n){let c=a.toString(),[m]=(0,v.findTldHouse)(c),l=yield(0,v.findOwnedNameAccountsForUser)(this.connection,t,i),f=(yield(0,v.getParsedAllDomainsNftAccountsByOwner)(t,this.connection,(0,v.findNameHouse)(m)[0])).map(g=>g+c),y=yield Promise.all(f.map(g=>se(this,void 0,void 0,function*(){return{nameAccount:(yield(0,_s.getDomainKey)(g)).pubkey,domain:g}})));r.push(...y);for(let g=0;g<l.length;g+=He.MULTIPLE_ACCOUNT_INFO_MAX){yield(0,v.delay)(100);let b=Math.min(g+He.MULTIPLE_ACCOUNT_INFO_MAX,l.length),C=l.slice(g,b),x=(yield(0,v.performReverseLookupBatched)(this.connection,C,m)).map((B,J)=>({nameAccount:C[J],domain:B+c}));r.push(...x)}}return r.length>0&&r.sort((i,a)=>i.domain.localeCompare(a.domain,void 0,{numeric:!0,sensitivity:"base"})),r})}};ft.TldParser=xr});var Us=re(_t=>{"use strict";o();s();Object.defineProperty(_t,"__esModule",{value:!0});_t.Record=void 0;var $m;(function(e){e.IPFS="IPFS",e.ARWV="ARWV",e.SOL="SOL",e.ETH="ETH",e.BTC="BTC",e.LTC="LTC",e.DOGE="DOGE",e.Email="email",e.Url="url",e.Discord="discord",e.Github="github",e.Reddit="reddit",e.Twitter="twitter",e.Telegram="telegram",e.Pic="pic",e.SHDW="SHDW",e.POINT="POINT"})($m=_t.Record||(_t.Record={}))});var Vs=re(Z=>{"use strict";o();s();var Wm=Z&&Z.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Ge=Z&&Z.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Wm(t,e,n)};Object.defineProperty(Z,"__esModule",{value:!0});Ge(xn(),Z);Ge(vn(),Z);Ge(Rs(),Z);Ge(An(),Z);Ge(Ar(),Z);Ge(Tr(),Z);Ge(Pr(),Z);Ge(Us(),Z)});var Qs=re(Nr=>{"use strict";o();s();Object.defineProperty(Nr,"__esModule",{value:!0});var Ke=H();function Zm(e,t){t===void 0&&(t=0);var n=Ke.useRef(!1),r=Ke.useRef(),i=Ke.useRef(e),a=Ke.useCallback(function(){return n.current},[]),c=Ke.useCallback(function(){n.current=!1,r.current&&clearTimeout(r.current),r.current=setTimeout(function(){n.current=!0,i.current()},t)},[t]),m=Ke.useCallback(function(){n.current=null,r.current&&clearTimeout(r.current)},[]);return Ke.useEffect(function(){i.current=e},[e]),Ke.useEffect(function(){return c(),m},[t]),[a,m,c]}Nr.default=Zm});var js=re(Ir=>{"use strict";o();s();Object.defineProperty(Ir,"__esModule",{value:!0});var ep=(eu(),Kc(Zc)),tp=H(),np=ep.__importDefault(Qs());function rp(e,t,n){t===void 0&&(t=0),n===void 0&&(n=[]);var r=np.default(e,t),i=r[0],a=r[1],c=r[2];return tp.useEffect(c,n),[i,a]}Ir.default=rp});o();s();var tu=/[e|+|-]/i;function nu(e,t){let n=Math.floor(e*t*100)/100;return!Number.isFinite(n)||n.toString().match(tu)?0:n}function ru(e,t,n){let r=E(e);return t<=0||!r.isFinite()?0:r.dividedBy(t).decimalPlaces(n).toNumber()}o();s();o();s();var Zn=u.object({usd:u.number().optional(),usd_24h_change:u.number().optional(),price:u.number().optional(),priceChange24h:u.number().optional(),currencyValue:u.number().optional(),currencyChange:u.number().optional(),lastUpdatedAt:u.string().datetime().optional()}),iu=[u.literal("1H"),u.literal("1D"),u.literal("1W"),u.literal("1M"),u.literal("YTD"),u.literal("ALL")],ou=u.union(iu).nullish().transform(e=>e??"1D");var su=[u.literal("1m"),u.literal("5m"),u.literal("1h"),u.literal("4h"),u.literal("1d"),u.literal("1w"),u.literal("4w"),u.literal("1mo")],Yd=u.union(su).nullish().transform(e=>e??"1d"),au=u.object({unixTime:u.number(),value:u.string()}),er=u.object({history:u.array(au)});o();s();function tr({balance:e,priceId:t,priceMap:n}){let r=t?n[t]?.usd:void 0,i=t?n[t]?.usd_24h_change:void 0;if(r===void 0)return{usd:void 0,usd_24h_change:void 0,price:r};let a=e.multipliedBy(r),c;return i!==void 0&&(c=a.minus(a.dividedBy(1+i/100))),{usd:a.toNumber(),usd_24h_change:c?.toNumber(),price:r,priceChange24h:i,currencyValue:a.toNumber(),currencyChange:c?.toNumber()}}o();s();o();s();var uu=new Jt({solana:{},ethereum:{},polygon:{},base:{},arbitrum:{},monad:{pricesDisabled:!0},bitcoin:{},sui:{},hypercore:{}}),ge=Xt(uu);o();s();o();s();var gn=(c=>(c[c.Always=1/0]="Always",c[c.Short=h({days:1})]="Short",c[c.Medium=h({days:3})]="Medium",c[c.Long=h({days:7})]="Long",c[c.VeryLong=h({days:30})]="VeryLong",c[c.Never=0]="Never",c))(gn||{}),Y=(m=>(m[m.Immediate=0]="Immediate",m[m.VeryShort=h({seconds:1})]="VeryShort",m[m.Short=h({seconds:15})]="Short",m[m.Medium=h({minutes:3})]="Medium",m[m.Long=h({minutes:5})]="Long",m[m.VeryLong=h({minutes:10})]="VeryLong",m[m.Never=1/0]="Never",m))(Y||{}),Se=(i=>(i[i.VeryShort=h({seconds:2})]="VeryShort",i[i.Short=h({seconds:15})]="Short",i[i.Medium=h({minutes:3})]="Medium",i[i.Long=h({minutes:5})]="Long",i))(Se||{});var _o=h({seconds:10}),Ro={gcTime:gn.Short,staleTime:Y.Short};o();s();var mu="prices",bn=(e,t)=>{if(!Ue(e))return;let r=e.response?.status;if(!r||r===0||r>=500||r===404){M.addBreadcrumb(mu,e.message,"info",t);return}r>=400&&r<500&&M.captureError(e,"prices")};var Vo=u.object({price:u.number(),priceChange24h:u.number(),lastUpdatedAt:u.string().datetime().optional()}),Uo=u.object({prices:u.record(wi,Vo)});async function Pt({tokens:e}){try{let t=e.filter(c=>!ge.get(c.chainId)?.pricesDisabled),n={tokens:t.map(c=>({token:c}))},r="/price/v1",i,a=G.timeout(_o).retry(1,200).validateStatus(!0).api();if(t.length===0)return{};if(t.length===1){let c=t[0];r+=`/${c.chainId}`,c.resourceType==="nativeToken"?r+=`/nativeToken/${c.slip44}`:r+=`/address/${c.address}`;let m=await a.get(r);i=Uo.parse({prices:{[j(c)]:m.data}})}else{let c=await a.post(r,n);i=Uo.parse(c.data)}return pu(i.prices)}catch(t){throw bn(t),t}}function pu(e){let t={};for(let n of Object.keys(e)){let{price:r,priceChange24h:i,lastUpdatedAt:a}=e[n],c={price:r,usd:r,usd_24h_change:i,lastUpdatedAt:a};t[n]=c}return t}o();s();o();s();var Tn="prices",q={price:e=>[Tn,{id:e}],priceError:()=>[Tn,"error"],priceHistory:(e,t)=>[Tn,e,t],priceHistoryInterval:(e,t,n,r)=>[Tn,e,t,n,...r?[r]:[]],tempPrices:e=>["tempPrices",e]};var ut=new Error("Price history unavailable for this token"),nr=new Error("Insufficient data for this time frame and token"),rr=async({caip19:e,timeFrame:t})=>{let n=ke(e);if(ge.get(n.chainId)?.pricesDisabled)throw ut;let r=await G.api().get("/price-history/v1",{params:{token:e,type:t}});if(r.status===400)throw ut;let i=er.safeParse(r.data);if(!i.success)throw ut;if(i.data.history.length<2)throw nr;return i.data.history},Lo=({caip19:e,timeFrame:t})=>({queryKey:q.priceHistory(e,t),queryFn:()=>rr({caip19:e,timeFrame:t}),staleTime:Y.Short,gcTime:Y.Short}),ir=e=>S(Lo(e));o();s();var lu=new Error("Price history interval unavailable for this token");o();s();var or=({priceHistory:e,currentPrice:t})=>{let n=e.at(-1),r=e.at(-2),i=e.map(m=>({...m,tooltipUnixTime:m.unixTime}));if(t===void 0||!n||!r)return i;let a=n.unixTime-r.unixTime,c={unixTime:n.unixTime+a,value:t.toString(),tooltipUnixTime:n.unixTime+a};return[...i,c]};o();s();var sr=({priceHistory:e,realtimePriceUpdates:t})=>{let n=e.at(-1),r=e.at(-2);if(!n||!r)return e.map(m=>({...m,tooltipUnixTime:m.unixTime}));let i=n.unixTime-r.unixTime,a=t.map((m,l)=>({unixTime:n.unixTime+(l+1)*i,value:m.value,tooltipUnixTime:m.unixTime}));return[...e.map(m=>({...m,tooltipUnixTime:m.unixTime})),...a]};o();s();var my=[{value:"1m",ms:h({minutes:1})},{value:"5m",ms:h({minutes:5})},{value:"1h",ms:h({hours:1})},{value:"4h",ms:h({hours:4})},{value:"1d",ms:h({days:1})},{value:"1w",ms:h({days:7})},{value:"4w",ms:h({days:28})},{value:"1mo",ms:h({days:30})}];o();s();o();s();var ar=u.object({feerate:u.string()}),Ho=u.object({conservative:ar,economical:ar,unset:ar}),du=u.object({recommended:u.object({priceEstimates:Ho}),bitcoin_rpc:u.object({priceEstimates:Ho})}),fu=u.object({gasPriceSources:du}),yu=new w("1.25"),gu=new w("1.5"),Go=async(e,t=!0)=>{let n,r,i;try{let{priceEstimates:a}=(await bu(e)).gasPriceSources.recommended,{conservative:c,economical:m,unset:l}=a;n=new w(c.feerate),r=new w(m.feerate),i=new w(l.feerate)}catch(a){if(!t)throw a;let c=await cn(e).estimateSmartFee(2,"ECONOMICAL");i=new w(c.feerate),r=i.times(yu),n=i.times(gu)}return{fast:{btcPerKilobyte:n.multipliedBy(1)},standard:{btcPerKilobyte:r.multipliedBy(1)},slow:{btcPerKilobyte:i.multipliedBy(1)}}};async function bu(e){let t=`https://gas-price-oracle.phantom.app/?chainId=${e}`,n=await G.headers({"Content-Type":"application/json"}).get(t);return fu.parse(n.data)}o();s();var Ye="gas-estimation";var Tu=3,hu=600,Su=h({seconds:30}),Be=({networkID:e,enableFallback:t=!1,retry:n=Tu,retryDelay:r=hu,enabled:i=!0})=>S({queryFn:async()=>{try{if(!e)throw new Error("Missing networkID");if(T.isBitcoinNetworkID(e))return await Go(e,t);if(T.isEVMNetworkID(e))return await Yi(e,t);if(T.isSolanaNetworkID(e))throw new Error("Transaction speeds is not supported for Solana.");if(T.isSuiNetworkID(e))throw new Ei("transaction speeds to unit cost");return K(e)}catch(a){throw a instanceof Wi||(M.addBreadcrumb(Ye,`enableFallback: ${t}, networkID: ${e}`,"info"),M.captureError(a,"transaction")),a}},queryKey:N.transactionSpeedsToUnitCost(e),refetchOnMount:"always",retry:n,retryDelay:r,staleTime:Su,enabled:i&&!!e&&(T.isEVMNetworkID(e)||T.isBitcoinNetworkID(e)),placeholderData:Zt});o();s();o();s();var Ko=async(e,t)=>{let n=ji(e),r=await Hi.eth_estimateGas(n,[t]);if("error"in r)throw new Error(`[${r.error.code}] ${r.error.message}`);return new w(r.result)};var gg=new w(21e3),vu=6,Cu=600,Au=h({seconds:5}),Eu=h({days:1}),cr=(e,t=!0)=>S({queryFn:async()=>{if(!e)throw new Error("Args is required for calculating transaction units.");try{return await Pu(e)}catch(r){throw M.addBreadcrumb(Ye,`networkId: ${e?.networkID}`,"info"),M.captureError(r,"transaction"),r}},queryKey:N.transactionUnitAmount(e),enabled:!!e&&(T.isEVMNetworkID(e.networkID)||T.isBitcoinNetworkID(e.networkID))&&t,retry:vu,retryDelay:Cu,staleTime:Au,gcTime:Eu}),Pu=async e=>{if(sn(e)){let{gas:t}=e.unsignedTransaction;if(t)return{gasLimit:new w(t,16)};{let n=await Ko(e.networkID,e.unsignedTransaction);return{gasLimit:new w(Xi(n))}}}else if(on(e)){let t=e.psbtChain,n=t?new w($t(t.map(i=>i.additionalCost.vb.toNumber()))):new w(0),r=t?new w($t(t.map(i=>i.additionalCost.sats.toNumber()))):new w(0);return{virtualBytes:new w(e.vb),additionalCosts:{vb:n,sats:r}}}else throw new Error(`Unsupported transaction networkId: ${e.networkID} for calculating transaction units.`)};o();s();o();s();var wu=h({seconds:30}),xu=h({minutes:5}),qo=e=>S({queryKey:N.transactionAdditionalCosts(e),queryFn:async()=>{if(!e)return new w(0);let t=Ne.get(e.networkID).additionalTransactionCost;return t?await t(e):new w(0)},enabled:!!e,staleTime:wu,gcTime:xu});var Fu=6,ku=600,Nu=h({seconds:5}),Iu=h({days:1}),Du=["fast","standard","slow"],Bu=e=>{if(!e)return"fast";for(let t of Du)if(e[t])return t;throw new Error("No valid transaction speeds found.")},ur=e=>{let t=_u(e),n=e?.queryOptions?.refetchInterval,{data:r,isError:i}=cr(e?.multichainTransaction,t),{data:a}=Be({networkID:e?.networkID,enableFallback:!0,refetchInterval:n}),{data:c}=qo(e?.multichainTransaction),m=Ou(e,r,a);return S({queryFn:async()=>{try{if(!e)throw new Error("Missing args");let{multichainTransaction:d,transactionSpeed:f="standard"}=e;if(!d)throw new Error("Multichain transaction is null.");if(i&&mr(e.networkID))throw new Error("Transaction unit amount is required but errored.");if(sn(d)||on(d)){if(!a)throw new Error("Missing transactionSpeedsToUnitCost");if(!r)throw new Error("Missing transactionUnit");let y=f==="fastest"?Bu(a):f,g=a[y];if(!g)throw new Error(`Missing transactionSpeedsToUnitCost for ${f}`);return at(d.networkID,g,r,c)}if(co(d))return d.networkID==="solana:localnet"?{networkID:d.networkID,value:0,highFees:!1}:await yn(d.networkID,d.transaction.map(g=>"version"in g?g.message:g.compileMessage()));if(uo(d))return await Io(d);K(d)}catch(d){throw M.addBreadcrumb(Ye,`chainId: ${e?.networkID}`,"info"),M.captureError(d,"transaction"),d}},queryKey:N.gasEstimation(e?.networkID,e?.multichainTransaction,e?.transactionSpeed,c),enabled:m,retry:Fu,retryDelay:ku,refetchInterval:n,staleTime:Nu,gcTime:Iu,placeholderData:d=>d})};function mr(e){return T.isBitcoinNetworkID(e)||T.isEVMNetworkID(e)?!0:T.isSolanaNetworkID(e)||T.isSuiNetworkID(e)?!1:K(e)}function Mu(e){return T.isBitcoinNetworkID(e)||T.isEVMNetworkID(e)?!0:T.isSolanaNetworkID(e)||T.isSuiNetworkID(e)?!1:K(e)}function Ou(e,t,n){if(!e)return!1;let{networkID:r,multichainTransaction:i}=e;return i?(!!t||!mr(r))&&(!!n||!Mu(r)):!1}function _u(e){return e?mr(e.networkID):!1}o();s();o();s();function hn(e){return{caip19:pr(e)}}function pr(e){return typeof e=="string"?ke(e):e}var jo=new Error("Price not available"),zo=({query:e,enabled:t=!0,queryOptions:n={refetchInterval:Se.Short,staleTime:Y.Short,gcTime:Y.Short}})=>{let r=e?e.data:void 0,i=r?Ru(r):void 0,a=n.refetchInterval,c=n.staleTime,m=n.gcTime,l=r?hn(r).caip19.chainId:void 0,d=l?!ge.get(l).pricesDisabled:!1;return{enabled:t&&!!i&&d,queryKey:q.price(i),refetchInterval(y){return y.state.error===jo?!1:a},staleTime:c,gcTime:m,retry:!1,queryFn:async()=>{if(!r||!i)throw new Error("No caip19able provided");let y=pr(r);try{let b=(await Pt({tokens:[y]}))[i];if(!b)throw new Error(`Failed to fetch price for ${r}`);return b}catch(g){let b=g;throw i&&(b.response?.status===404||b.response?.status===400)?jo:g}}}};function Xe({query:e,enabled:t=!0,queryOptions:n={refetchInterval:Se.Short,staleTime:Y.Short,gcTime:Y.Short}}){return S(zo({query:e,enabled:t,queryOptions:n}))}function Ru(e){return typeof e=="string"?e:j(e)}o();s();o();s();var Xo=P(H());o();s();var $o=function(e,t=0){let n=3735928559^t,r=1103547991^t;for(let i=0,a;i<e.length;i++)a=e.charCodeAt(i),n=Math.imul(n^a,2654435761),r=Math.imul(r^a,1597334677);return n=Math.imul(n^n>>>16,2246822507),n^=Math.imul(r^r>>>13,3266489909),r=Math.imul(r^r>>>16,2246822507),r^=Math.imul(n^n>>>13,3266489909),4294967296*(2097151&r)+(n>>>0)};o();s();function Wo(e){return e.data.map(hn)}o();s();var Uu=500;async function Yo({queryClient:e,queries:t}){let n={};try{let r={},i=[];for(let d of t){let f=d.caip19,y=j(f);if(r[y])continue;r[y]=!0;let g=q.price(y),b=e.getQueryState(g);if(b&&Date.now()-b.dataUpdatedAt<Ro.staleTime){n[y]=b.data;continue}i.push(f)}let a=await Promise.allSettled(yi(i,Uu).map(d=>Pt({tokens:d}))),c=[],m=a.some(d=>d.status==="rejected"),l=a.reduce((d,f)=>f.status==="rejected"?d:{...d,...f.value},{});for(let d of i){let f=j(d),y=l[f],g=q.price(f);!y&&m&&(y=e.getQueryData(g)),y&&(n[f]=y),c.push(()=>{let b=y??null;e.setQueryData(g,b,{updatedAt:Date.now()})})}if(m){let d=e.getQueryData(q.priceError())??0;e.setQueryData(q.priceError(),d+1)}else e.removeQueries({queryKey:q.priceError()});Vu(c,50)}catch(r){bn(r)}return n}function Vu(e,t){let n=e.length,r=0;function i(){let a=e.slice(r,r+t);Bi.batch(()=>{a.forEach(c=>c())}),r+=t,r<n&&setTimeout(i,0)}i()}var Lu=e=>typeof e=="string"?e:e.resourceType==="nativeToken"?e.slip44:e.address,Hu=(e,t)=>e.localeCompare(t),Jo=e=>{let t=e.map(Lu).sort(Hu).join(",");return $o(t)},Zo=({query:e,enabled:t=!0,key:n,queryOptions:r={refetchInterval:Se.Short},queryClient:i})=>{let{refetchInterval:a}=r,c=Wo(e),m=t&&e!=null&&e.data.length>0;return{queryKey:q.tempPrices(n),staleTime:0,gcTime:0,refetchInterval:a,queryFn:()=>Yo({queryClient:i,queries:c}),enabled:m}};function lr({query:e,enabled:t=!0,queryOptions:n={refetchInterval:Se.Short}}){let r=W(),i=(0,Xo.useMemo)(()=>Jo(e.data),[e]);return S(Zo({query:e,enabled:t,key:i,queryOptions:n,queryClient:r}))}o();s();var Gu=()=>S({queryKey:q.priceError(),initialData:0});o();s();var Ku=1*60*1e3,qu=e=>{let t=e.queryKey[1];return Object.prototype.hasOwnProperty.call(t??{},"id")?e.state.dataUpdatedAt>Date.now()-Ku:String(t)===q.priceError()[1]};o();s();o();s();var Qu="25.13.0",mt=`fungible-tokens-${Qu}`,ju=[mt,"token-updates"],zu=[mt,"token-details"],$u=[mt,"portfolio-value"],Wu=[mt,"token-balance"],Yu=[mt,"infinite-token-balances"],Xu=[mt,"visibility-overrides"],es={infiniteTokenBalances:({walletCaip19s:e})=>[...Yu,{walletCaip19s:e}],tokenBalance:({wallets:e,encodedCaip19:t,isSplCompressed:n})=>{let r=e.map(i=>typeof i=="string"?i:j({chainId:i.networkID,address:i.address,resourceType:"address"})).sort();return[...Wu,{walletCaip19s:r,encodedCaip19:t,isSplCompressed:n}]},tokenUpdates:({walletCaip19s:e,from:t})=>[...ju,{walletCaip19s:e,from:t}],portfolioValue:({walletCaip19s:e,include:t,exclude:n,isMainnet:r})=>[...$u,{walletCaip19s:e,include:t,exclude:n,isMainnet:r}],visibilityOverrides:({accountId:e})=>[...Xu,{accountId:e}],tokenDetails:({caip19:e,includePrice:t})=>[...zu,{caip19:e,includePrice:t}]};var V=P(H());o();s();var ts=P(Xc()),pt=P(H()),ns=(e,t=100)=>{let[n,r]=(0,pt.useState)(e),i=(0,pt.useMemo)(()=>(0,ts.default)(a=>r(a),t),[t]);return(0,pt.useEffect)(()=>i(e),[i,e]),n};var Ju=({error:e,chainId:t,prices:n,isPending:r})=>{if(ge.get(t).pricesDisabled)return O.t("assetDetailPriceNoValue");if(e===ut)return O.t("assetDetailPriceHistoryUnavailable");if(e===nr||!r&&n.length===0)return O.t("assetDetailPriceHistoryInsufficientData");if(e)return O.t("assetDetailPriceHistoryError")},Zu=({caip19:e,userLocale:t="en-US",timeFrame:n="1D"})=>{let{t:r}=Ti(),i=he(),a=W(),[c,m]=(0,V.useState)(n),l=(0,V.useCallback)($=>{if($!==c){m($);try{let{symbol:ce}=a.getQueryData(es.tokenDetails({caip19:e,includePrice:!0}))||{};i.capture("onPublicFungibleTimeframeChanged",{data:{timeFrame:$,caip19:e,symbol:typeof ce=="string"?ce:void 0}})}catch(ce){console.error("error capturing onPublicFungibleTimeframeChanged",ce)}}},[i,e,a,c]),{data:d,isPending:f,error:y}=ir({caip19:e,timeFrame:c}),{data:g}=Xe({query:{data:e},queryOptions:{refetchInterval:Se.VeryShort,staleTime:Y.VeryShort}}),b=(0,V.useMemo)(()=>{if(d){if(g?.price&&g.lastUpdatedAt&&d){let $=g.price,ce=new Date(g.lastUpdatedAt),it={value:$.toString(),unixTime:Math.floor(ce.getTime()/1e3)};return sr({priceHistory:d,realtimePriceUpdates:[it]})}return or({priceHistory:d,currentPrice:g?.price})}},[d,g?.price,g?.lastUpdatedAt]),k=ke(e).chainId,x=g?.price,B=g?.usd_24h_change,J=(0,V.useMemo)(()=>!x||!B?null:x/(1+B/100),[x,B]),[le,Re]=(0,V.useState)(null);(0,V.useEffect)(()=>{b?.length&&Re(b)},[b,Re]);let de=(0,V.useMemo)(()=>b||le||[],[b,le]),we=Ju({error:y,chainId:k,prices:de,isPending:f});(0,V.useEffect)(()=>{we&&Re(null)},[we]);let Qt=(0,V.useMemo)(()=>[{timeFrame:"1H",label:r("assetDetailTimeFrame1H")},{timeFrame:"1D",label:r("assetDetailTimeFrame1D")},{timeFrame:"1W",label:r("assetDetailTimeFrame1W")},{timeFrame:"1M",label:r("assetDetailTimeFrame1M")},{timeFrame:"YTD",label:r("assetDetailTimeFrameYTD")},{timeFrame:"ALL",label:r("assetDetailTimeFrameAll")}].map($=>({...$,label:$.label?.toUpperCase()})),[r]),[Ln,tt]=(0,V.useState)(null),nt=ns(Ln,100),[ne,je]=(0,V.useMemo)(()=>{if(!de.length)return[J??null,x??null];let[$,ce]=[de[0],de[de.length-1]].map(it=>new E(it.value).toNumber());return[$,x||ce]},[x,J,de]),rt=(0,V.useMemo)(()=>nt??je,[nt,je]),ze=(0,V.useMemo)(()=>je===null||ne===null?null:je-ne,[ne,je]),fe=(0,V.useMemo)(()=>rt===null||ne===null?null:rt-ne,[rt,ne]),jt=(0,V.useMemo)(()=>{if(fe===null||ne===null||ne===0)return null;let $=fe/ne*100;return`${vi($,{includePlusPrefix:!0})}%`},[fe,ne]),xe=(0,V.useCallback)($=>{let ce=new Date($*1e3),it=ce.toLocaleTimeString(t,{hour:"2-digit",minute:"2-digit"}),di=ce.toLocaleString(t,{month:"short",day:"2-digit"}),Gc=ce.getFullYear(),fi=de.at(-1);if(fi&&fi.unixTime===$)return r("assetDetailPriceHistoryNow");switch(c){case"1H":case"1D":return it;case"1W":case"1M":return`${it}, ${di}`;case"YTD":case"ALL":return`${di}, ${Gc}`;default:return c}},[t,de,c,r]),$e=(0,V.useMemo)(()=>ge.get(k).pricesDisabled??!1,[k]);return{activeTimeFrame:c,setActiveTimeFrame:l,prices:de,isPending:f,errorText:we,timeFrames:Qt,setScrubValue:tt,scrubValue:nt,currentPrice:rt,overallPriceChange:ze,currentPriceChange:fe,formattedPercentageChange:jt,formatTimeFrameText:xe,hidePriceAmounts:$e,hideTimeFrames:$e}};o();s();o();s();o();s();var em=new Error("missing price"),tm=new Error("Unable to format gas estimation"),Sn=(e,t)=>{if(!t.usd)throw em;try{let n=T.getTokenDecimals(e.networkID);if(so(e)){let r=Co(e),a=new E(r).div(We(n)).times(new E(t.usd));return{gasEstimationPriceUSD:Et(a),gasEstimationPriceUSDNumber:a.toNumber(),gasEstimationAmount:r}}else if(io(e)){let r=Ao(e),a=r.div(new E(ie.LAMPORTS_PER_SOL)).times(t.usd);return{gasEstimationPriceUSD:Et(a),gasEstimationPriceUSDNumber:a.toNumber(),gasEstimationAmount:r}}else if(oo(e)){let i=Si(e.gasBudget,n).times(t.usd);return{gasEstimationPriceUSD:Et(i),gasEstimationPriceUSDNumber:i.toNumber(),gasEstimationAmount:e.gasBudget}}else if(ao(e)){let r=Eo(e),a=new E(r).div(We(n)).times(t.usd);return{gasEstimationPriceUSD:Et(a),gasEstimationPriceUSDNumber:a.toNumber(),gasEstimationAmount:r}}else throw K(e),new Error("unsupported chain type")}catch{throw tm}};var nm=(e,t,n)=>{let r=e?T.getChainID(e):null,i=r?Yt(r):void 0,{data:a,isFetched:c}=Xe({query:{data:i}}),m=!!e&&!!t&&c,l=N.gasEstimationPrice(e,t);return S({enabled:m,queryKey:l,queryFn:()=>{if(!a||!t)throw new Error("missing args");return Sn(t,a)},refetchOnMount:!0,placeholderData:Zt,...n||{}})};o();s();o();s();var rs=Object.prototype.hasOwnProperty;function is(e,t,n){for(n of e.keys())if(Me(n,t))return n}function Me(e,t){var n,r,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&Me(e[r],t[r]););return r===-1}if(n===Set){if(e.size!==t.size)return!1;for(r of e)if(i=r,i&&typeof i=="object"&&(i=is(t,i),!i)||!t.has(i))return!1;return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e)if(i=r[0],i&&typeof i=="object"&&(i=is(t,i),!i)||!Me(r[1],t.get(i)))return!1;return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return r===-1}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return r===-1}if(!n||typeof e=="object"){r=0;for(n in e)if(rs.call(e,n)&&++r&&!rs.call(t,n)||!(n in t)||!Me(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!==e&&t!==t}var os=P(H());var rm=e=>{let t=ue(),n=(0,os.useRef)(void 0),r=N.pendingTransactionById(e);return S({queryKey:r,queryFn:async()=>{try{let c=(await mn(t))[e];return c?(Me(c,n.current)||(n.current=c),n.current):null}catch(a){throw M.captureError(a,"transaction"),a}},refetchInterval:200,staleTime:200,gcTime:0,refetchOnMount:!0})};o();s();var cs=P(bi()),us=P(jc());var Ft=P(H());o();s();var xt=P(bi()),ss=P(H());function as(e,t){let n=(0,ss.useRef)((0,xt.default)());S({queryKey:["PENDING-TX-POLLER",e],enabled:e.length>0,queryFn:()=>vo(e,t),refetchInterval:()=>(0,xt.default)().diff(n.current,"seconds")<30?5*1e3:(0,xt.default)().diff(n.current,"minutes")<2?15*1e3:(0,xt.default)().diff(n.current,"minutes")<5?30*1e3:!1})}cs.default.extend(us.default);var kt=e=>{let t=ue(),n=(0,Ft.useRef)([]),r=(0,Ft.useRef)([]);(0,Ft.useEffect)(()=>{n.current=[],r.current=[]},[e]);let i=N.pendingTransactions(e),a=async()=>{let c=await mn(t),m=bo(c,e);if(!Me(m,n.current)){let l=n.current.filter(d=>!m.find(f=>f.id===d.id));Me(l,r.current)||(r.current=l),n.current=m}return{pendingTransaction:n.current,removedPendingTransactions:r.current}};return as(e,t),S({queryKey:i,queryFn:a,refetchInterval:1e3,staleTime:500,gcTime:0,refetchOnMount:!0,enabled:!!e.length})};o();s();var ds=P(H());o();s();var ms=e=>({connection:Ie(e),cluster:un(e)}),ps=()=>ms(ye.Solana.Mainnet),ls=e=>{let t,n=e?.addresses??[];for(let i of n)if(T.isSolanaNetworkID(i.networkID)){t=i.networkID;break}let r=t??ye.Solana.Mainnet;return ms(r)};var im=()=>{let e=(0,ds.useMemo)(ps,[]),{data:t=e}=tn({select:ls});return t};o();s();o();s();o();s();o();s();o();s();var om="/currency_exchange/v1/rates",fs=async()=>{let e=await G.api().get(`${om}?from=USD&currencies=${Object.keys(At).join(",")}`);if(!zt(e))throw new Error("Failed to fetch exchange rates");return await e.data};var sm=h({hours:2}),dr=e=>S({queryKey:Vi.currencyExchangeRates(),queryFn:fs,enabled:!!e,staleTime:sm,select(t){return e?t?.rates[e]:1}});var ve=P(H()),ys=(0,ve.createContext)(null),am=({children:e})=>{let{data:t}=Li(),{data:n,isLoading:r}=dr(t),i=t&&n?At[t].languageCode:nn.languageCode,a=t||nn.value,c=t&&n?At[t].symbol:nn.symbol,m=(0,ve.useCallback)((y,g)=>Intl.NumberFormat(i,{style:"currency",currency:a,...g}).format(y),[a,i]),l=(0,ve.useCallback)(y=>!t||!n?Number(y):E(y).div(E(n)).toNumber(),[t,n]),d=(0,ve.useCallback)((y,g)=>{if(!t||!n)return Number(y);let b=E(y).times(E(n));return g===void 0?b.toNumber():b.decimalPlaces(g).toNumber()},[t,n]),f={isLoading:r,currencyLocale:i,currencySymbol:c,currencyCode:a,toUsd:l,fromUsd:d,formatLocalizedPrice:m};return ve.default.createElement(ys.Provider,{value:f},e)},Nt=()=>{let e=(0,ve.useContext)(ys);if(!e)throw new Error("useLocalizedCurrency must be used within a LocalizedCurrencyProvider");return e};o();s();o();s();o();s();var Ks=P(H());o();s();var gs=async e=>{try{return await zi(ye.Ethereum.Mainnet).resolveName(e)}catch(t){return console.error(t),null}};o();s();var bs=async(e,t)=>{let n="/uns/v1/resolve";try{let r=await G.api().headers({"Content-Type":"application/json"}).post(n,{query:e,chainId:t});if(!zt(r))throw $n;let i=r.data;if(i.address===""||i.status!=="OK")throw $n;return i.address}catch{return null}};o();s();var Ls=P(Vs());var Hs=async(e,t)=>{try{if(!T.isSolanaNetworkID(t))return null;let n=un(t),r=go(n),a=await new Ls.TldParser(r).getOwnerFromDomainTld(e);return a?a.toString():null}catch{return null}};o();s();var Gs=async(e,t)=>{try{if(!T.isSuiNetworkID(t))return null;let n=yo(t);return e.toLowerCase().endsWith(".sui")&&await n.resolveNameServiceAddress({name:e})||null}catch{return null}};function Fr(e,t){let n=e?.toLowerCase(),r=kr(n,t),i=r.error,a=(0,Ks.useMemo)(()=>i===rn?O.t("sendFormErrorInvalidDomain"):i===Ki?O.t("sendFormErrorInvalidSolanaAddress"):i===qi?O.t("sendFormErrorInvalidTwitterHandle"):i===zn?O.t("sendFormErrorInvalidUsername"):"",[i]);return{...r,error:a}}function kr(e,t){let n=Ri(),r=he(),i=!!e&&!!t,a=N.resolveDomainName(e,t);return S({queryKey:a,queryFn:async()=>{if(!e||!t)throw Gi;let m=await qs(e,t,n,r);return{address:m?.owner??null,type:m?.type??null,handle:e}},enabled:i})}var Ym=async(e,t)=>{try{if(e.startsWith("@")||!T.isEVMNetworkID(t))return null;let[n]=_i(e);if(n){let r=await gs(e);if(!r)throw rn;return r}return null}catch(n){return M.captureError(n instanceof Error?n:new Error(`Unable to resolve EVM domain: ${e}`),"transaction"),null}},Xm=async(e,t,n)=>{try{if(e.startsWith("@")||!T.isSolanaNetworkID(t))return null;let[r,i,a]=Oi(e);(r||i||a)&&n.capture("resolveDomainBonfida");let c=r||i||a,m=null;if(c&&(m=await bs(e,t),!m))throw rn;return m}catch(r){return M.captureError(r instanceof Error?r:new Error(`Unable to resolve solana domain: ${e}`),"transaction"),null}},Jm=async(e,t,n)=>{try{if(!e.startsWith("@"))return null;let r=e.slice(1),i=await n.getUserProfileByUsername(r),a=i?.username?.toLowerCase()===r.toLowerCase(),c=i?.addresses?i.addresses?.[t]!==void 0:!1,m=!!i&&a&&c,l=null;if(m&&(l=i.addresses[t],!l))throw zn;return l}catch(r){return M.captureError(r instanceof Error?r:new Error(`Unable to resolve username: ${e}`),"Auth"),null}};async function qs(e,t,n,r){let i=st.isFeatureEnabled("kill-suins"),a=[{type:"username",fetch:Jm(e,t,n)},{type:"solana",fetch:Xm(e,t,r)},{type:"evm",fetch:Ym(e,t)},{type:"ans",fetch:Hs(e,t)}];i||a.push({type:"suins",fetch:Gs(e,t)});let c=await Promise.all(a.map(({fetch:l})=>l)),m=c.findIndex(l=>l!==null);return m===-1?null:{type:a[m].type,owner:c[m]}}o();s();var kn=P(H()),zs=P(js());function ip(e,t){let[n,r]=(0,kn.useState)(e);(0,zs.default)(()=>r(e),500,[e]);let{data:i,error:a,isLoading:c}=Fr(n,t),l=i?.address??e,d=e.length>0,y=!d||e!==n||c,g=(0,kn.useMemo)(()=>{if(y)return;if(a)return a;if(!ki(l,t))return O.t("sendFormInvalidAddress",{assetName:T.getChainName(t)})},[t,y,a,l]);return{recipientError:g,currentRecipient:l,isStaleRecipient:y,disabledDueToRecipient:!!g||y||!d,isRecipientLoading:c&&e!==""}}o();s();var op=3,sp=500,ap=5e3,cp=(e,t,n)=>S({async queryFn(){if(T.isEVMNetworkID(e))try{return await up(e,t,n)}catch(r){throw M.captureError(r,"transaction"),r}},queryKey:N.gasEstimationTimeToMine(e,t,n),retry:op,retryDelay:sp,refetchInterval:ap,enabled:T.isEVMNetworkID(e)&&T.isMainnetNetworkID(e)});async function up(e,t,n){let r=`https://gas-price-oracle.phantom.app/time_to_mine?chainId=${e}&maxFeePerGas=${t}&maxPriorityFeePerGas=${n}`,i={Accept:"application/json","Content-Type":"application/json"},a=await G.headers(i).get(r);if(a.status!==200)throw new Error("Error estimating time to mine");return a.data}o();s();o();s();var mp=({networkID:e,refetchInterval:t,transactionSpeed:n="standard",gasLimit:r,enabled:i=!0})=>{let{data:a,status:c,fetchStatus:m,isError:l,isPending:d,isFetched:f,isSuccess:y}=Be({networkID:e,refetchInterval:t,enableFallback:!0,enabled:i}),g;if(i&&a&&r){let{maxFeePerGas:C,maxPriorityFeePerGas:k}=a[n];g={networkID:e,gasLimit:r,maxFeePerGas:C,maxPriorityFeePerGas:k}}return{status:c,data:g,isError:l,isLoading:d,fetchStatus:m,hasFailed:f&&!y}};o();s();var Dr=e=>{let t=e[0]?.networkID,n=t?T.getChainID(t):null,r=n?Yt(n):void 0,{data:i}=Xe({query:{data:r}});return Mi({queries:e.map(c=>({queryKey:N.gasEstimationPrice(t,c),queryFn:()=>{if(!i||!c)throw new Error("missing args");return Sn(c,i)}}))}).map(c=>c.data)};o();s();var $s=P(H());var pp=h({days:5}),lp=()=>{let e=he(),t=W(),{data:n={}}=S({queryKey:N.timestamps(),queryFn:()=>({...t.getQueryData(N.timestamps())||{}})});(0,$s.useEffect)(()=>{let r=Object.values(n),{staleTimestampDatas:i,freshTimestampDatas:a}=r.reduce((m,l)=>{let d=Math.max(...Object.values(l.timestamps));return Date.now()-d>pp?m.staleTimestampDatas.push(l):m.freshTimestampDatas.push(l),m},{staleTimestampDatas:[],freshTimestampDatas:[]});Zi(t,i?.map(m=>m.transactionId)??[]);let c=a.filter(m=>m.timestamps.appUpdated);eo(c,e,t)},[n,e,t])};o();s();var Ws=P(H());var Br=(e,t,n=!1)=>{let r=W();return(0,Ws.useCallback)((a,c,m)=>{if(a===void 0)return;let l=N.timestamps(),f=r.getQueryData(l)||{[a]:{chainId:t,transactionType:e,isLedger:n,transactionId:a,timestamps:{}}},y=f[a];if(y?.timestamps[c])return;let g={...f,[a]:{...y||{chainId:t,transactionType:e,isLedger:n,transactionId:a,timestamps:{}},timestamps:{...y?.timestamps??{},[c]:m??Date.now()}}};r.setQueryData(l,g)},[t,n,r,e])};o();s();function dp(e){let t=ue(),n=en();return Ct({mutationFn:async i=>await Oo({...i,accountSigner:n,connection:e,storage:t})})}o();s();var Rt=P(H());var fp={fast:"gasFast",standard:"gasAverage",slow:"gasSlow"};function yp(e,t,n){let[r,i]=(0,Rt.useState)(t),a=n??no(e),{data:c={}}=Be({networkID:e}),m=(0,Rt.useMemo)(()=>Object.keys(c).reduce((x,B)=>{let J=B,le=c[J];return le&&(x[J]=at(e,le,a,void 0)),x},{}),[c,e,a]),l=Object.keys(m),d=Object.values(m),f=Dr(Object.values(m)),y=d.map(x=>an(x)),{fromUsd:g,formatLocalizedPrice:b}=Nt(),C=l.map((x,B)=>{let J=d[B],le=f[B],Re=y[B];return gp(le,Re,x,J,g,b)});return{presets:(0,Rt.useMemo)(()=>C.map((x,B)=>({description:x,title:O.t(fp[l[B]]),selected:r===l[B],onClick:()=>i(l[B]),withBorderTop:B!==0})),[C,l,r]),transactionSpeed:r}}var gp=(e,t,n,r,i,a)=>{let c=[],m=e?.gasEstimationPriceUSDNumber?i(e?.gasEstimationPriceUSDNumber):void 0,l=m?a(m,{maximumFractionDigits:4}):void 0,d=l?O.t("gasUpTo",{amount:l}):t?O.t("gasUpTo",{amount:t}):void 0;c.push(d);let f=r?Ne.get(r.networkID).transactionSettingsRowFeeDescription?.(r):void 0;c.push(f);let y=r?.networkID;if(y){let g=Ne.get(y).transactionSpeedDescription(n);g&&c.push(O.t(g))}return c.filter(gi).join("  \u2022  ")};o();s();function bp(e){let{data:t}=kt(e?[e]:[]);if(e&&T.isBitcoinNetworkID(e.networkID))return!t||t.pendingTransaction.length===0?void 0:{title:O.t("sendSummaryBitcoinPendingTxTitle"),description:O.t("sendSummaryBitcoinPendingTxDescription"),buttonText:O.t("gotIt")}}o();s();var Ys=P(H());o();s();var Nn=hi(ue,e=>Fo(new xo(e)));var Tp="transactions-utxo-state",hp=6,Sp=600,vp=h({seconds:30}),Cp=h({seconds:5}),Ap=h({minutes:10}),Mr=e=>{let t=Nn();return S({queryFn:Xs(e,t),queryKey:N.utxoState(e),enabled:Js(e),retry:hp,retryDelay:Sp,refetchInterval:vp,staleTime:Cp,gcTime:Ap})};function Ep(e){let t=Nn(),n=W(),r=N.utxoState(e);(0,Ys.useEffect)(()=>{Js(e)&&n.prefetchQuery({queryKey:r,queryFn:Xs(e,t)})},[])}function Xs(e,t){return async()=>{try{if(!e)throw new Error("chainAddress not provided when fetching utxo state.");if(Qn(e)){await t.refetchUtxos(e);let[n,r,i]=await Promise.all([t.getSafeToSendUtxos(e.address),t.getInscribedUtxos(e.address),t.getRareSatsUtxos(e.address)]);return{safeToSendUtxos:n,inscribedUtxos:r,rareSatsUtxos:i}}else throw new Error(`Unsupported chain address type for fetching utxo state: ${e.addressType}`)}catch(n){if(Ue(n)){let r=n.response?.status;ko(n,r,Tp)}throw n}}}function Js(e){return!!e&&Qn(e)}o();s();function Or(e,t){let n=e?.toLowerCase(),{data:r}=kr(n,t);return r?.address||e}o();s();var Pp=({networkID:e,gasEstimation:t,gasEstimationPrice:n})=>{let r=an(t),{fromUsd:i,formatLocalizedPrice:a}=Nt(),c=n?.gasEstimationPriceUSDNumber?i(n?.gasEstimationPriceUSDNumber):void 0,m=c?a(c,{maximumFractionDigits:4}):void 0,l=!T.isMainnetNetworkID(e),d=m&&!l?m:r||void 0;return Ne.get(e).networkFeeRowString(d,m)};o();s();var Zs=P(H());function wp(e,t,n){let r=e.data.transactions[e.data.transactions.length-1],{data:i}=kt(n?.addresses||[]),a=e.networkID;(0,Zs.useEffect)(()=>{let x=i?.pendingTransaction.find(B=>B.id===e.id);(!x||x.data.transactions.some(B=>B.confirmations>0))&&t()},[i?.pendingTransaction,t,e]);let c={networkID:a,unsignedTransaction:r.unsignedTransaction},{data:m,status:l}=ur({networkID:a,transactionSpeed:"fast",multichainTransaction:c,queryOptions:{refetchInterval:!1}}),d=new w(r.unsignedTransaction.maxFeePerGas??"0"),f=m?.maxFeePerGas&&m?.maxFeePerGas.gt(d)?m?.maxFeePerGas:d,y=new w(r.unsignedTransaction.maxPriorityFeePerGas??"0"),g=m?.maxPriorityFeePerGas&&m?.maxPriorityFeePerGas.gt(y)?m?.maxPriorityFeePerGas:y,b=f?.multipliedBy(1.11).integerValue(),C=g?.multipliedBy(1.11).integerValue();return{data:at(a,{maxFeePerGas:b,maxPriorityFeePerGas:C},{gasLimit:new w(r.unsignedTransaction.gas??"0")},m?.l1Fee),status:l}}o();s();var xp=P(Yc());o();s();var Fp=()=>{let e=st.getMultivariateAssignment("frontend-transaction-sharing-delay-ms");if(!e)return Yn;let t=parseInt(e);return Number.isNaN(t)?Yn:t},kp=()=>({delayMs:Fp()});o();s();o();s();o();s();o();s();o();s();o();s();o();s();var ea=async(e,t,n)=>{let{accountIdentifier:r,nonce:i,pendingTransaction:a,pendingTransactionInput:c,gasEstimation:m}=t,{data:{transactions:l}}=a,d=l[l.length-1],{callPayload:f,unsignedTransaction:y}=d,{networkID:g}=a,b=await No({accountSigner:e,accountIdentifier:r,networkID:g,unsignedTransaction:{...y,...ho(m),nonce:fn(new w(i))},callPayload:{...f},pendingTransactionInput:c,storage:n});return{networkID:g,id:b}};function Ip(){let e=en(),t=ue();return Ct({mutationFn:async r=>ea(e,r,t)})}o();s();o();s();var Dp=h({seconds:5}),In=async(e,t,n=1,r=Dp,i=2)=>{try{let a=await cn(e).getRawTransaction(t);return a.confirmations&&a?.confirmations>=n?a:(await Gn(r),In(e,t,n,r,i))}catch(a){if(a instanceof Error&&i>0)return await Gn(r),await In(e,t,n,r,i-1);throw a}};function Bp(e,t){let n=he(),r=!!t,i=N.waitForTransactionConfirmation(t);return S({enabled:r,queryKey:i,queryFn:async()=>{if(!t){let c="Missing chainID or transactionReceipt.";throw new Error(c)}try{if(T.isSolanaNetworkID(t.networkID)){let c=Ie(t.networkID);await Mo({connection:c,signature:t.id})}else if(T.isEVMNetworkID(t.networkID))await $i(t.networkID,t.id);else if(T.isBitcoinNetworkID(t.networkID))await In(t.networkID,t.id);else if(T.isSuiNetworkID(t.networkID))await Do(t.networkID,t.id);else throw new Error("Unsupported transaction receipt type.");return e(t),!0}catch(c){if(c&&c instanceof Qi)throw c;let m="Unable to send transaction.";c.message&&(m=c.message);let{networkID:l}=t,d={chainId:T.getChainID(l),networkId:l};throw n.capture("waitForTransactionConfirmationError",{data:{...d,errorMessage:c.message}}),new Error(m)}}})}o();s();var Mp=e=>{let t=e.transaction.getData();return S({queryKey:N.suiTransaction(t),queryFn:()=>Bo(e)})};o();s();o();s();o();s();o();s();var qe=(i=>(i[i.Always=1/0]="Always",i[i.Short=h({days:1})]="Short",i[i.Medium=h({days:3})]="Medium",i[i.Long=h({days:7})]="Long",i))(qe||{}),yt=(a=>(a[a.Immediate=0]="Immediate",a[a.Short=h({minutes:1})]="Short",a[a.Medium=h({minutes:2.5})]="Medium",a[a.Long=h({minutes:5})]="Long",a[a.Never=1/0]="Never",a))(yt||{}),_r=(r=>(r[r.Short=h({minutes:1})]="Short",r[r.Medium=h({minutes:2.5})]="Medium",r[r.Long=h({minutes:5})]="Long",r))(_r||{});o();s();var Ut=(e,t,n,r)=>{(!t||t>=400&&t<500)&&(M.addBreadcrumb(n,e.message,"info",r),M.captureError(e,"fungibles"))};o();s();o();s();o();s();o();s();var Ht=(a=>(a.Trusted="TRUSTED",a.Verified="VERIFIED",a.NotVerified="NOT_VERIFIED",a.PossibleSpam="POSSIBLE_SPAM",a.Spam="SPAM",a))(Ht||{});var Vt=class e extends Error{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype),this.name="FungibleError"}},Lt=class e extends Error{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype),this.name="CollectibleError"}};o();s();var Op={...Ni("accountIdToHiddenMints",["hiddenMints"])};function _p(e){return e.map(t=>typeof t=="string"?{mintId:t,status:"hidden"}:t)}function Rp(e){return e?e.version===2?e:{version:2,value:Object.entries(e.value).reduce((t,[n,r])=>(t[n]=_p(r),t),{})}:null}async function Rr(e){try{return Rp(await e.get("accountIdToHiddenMints"))}catch{throw new Vt("Failed to get visibility overrides")}}async function ta(e,t){try{return await e.set("accountIdToHiddenMints",t)}catch{throw new Vt("Failed to set new visibility overrides")}}function Up(e){return new Map(e.map(t=>typeof t=="string"?[t,{mintId:t,status:"hidden"}]:[t.mintId,t]))}async function Ur(e,t){let r=((await Rr(e))?.value??{})[t]??[];return Up(r)}async function Vp(e,t,{accountId:n,mutations:r}){let a=(await Rr(e)??{version:2,value:{}}).value??{},c=new Map((a[n]??[]).map(m=>[m.mintId,m]));for(let{fungibleKey:m,...l}of r)if("isHidden"in l){let{isHidden:d}=l;t.capture(d?"hideFungibleToken":"unhideFungibleToken",{data:{fungibleKey:m}}),c.set(m,{mintId:m,status:d?"hidden":"visible"})}else{let{visibility:d}=l;c.set(m,{mintId:m,status:d})}return a[n]=Array.from(c.values()),ta(e,{version:2,value:a})}o();s();o();s();async function Lp(e){let t=await e.get("hiddenCollections"),n=await e.get("unhiddenCollections");if(!t&&!n)return null;let r=await e.get("accountIdToCollectibleVisibilitySettings")??{version:2,value:{}},i=Object.entries(r.value).reduce((a,[c,m])=>(a[c]=new Map(m.map(l=>[l.id,l])),a),{});t&&Object.entries(t).forEach(([a,c])=>{i[a]||(i[a]=new Map);let m=i[a];c.forEach(l=>m.set(l,{id:l,status:"hidden"}))}),n&&Object.entries(n).forEach(([a,c])=>{i[a]||(i[a]=new Map);let m=i[a];c.forEach(l=>m.set(l,{id:l,status:"visible"}))}),await e.set("accountIdToCollectibleVisibilitySettings",{version:2,value:Object.entries(i).reduce((a,[c,m])=>(a[c]=Array.from(m.values()),a),{})}),await e.remove("hiddenCollections"),await e.remove("unhiddenCollections")}async function Dn(e){try{return await Lp(e),await e.get("accountIdToCollectibleVisibilitySettings")}catch{throw new Lt("Failed to get visibility overrides")}}async function na(e,t){try{return await e.set("accountIdToCollectibleVisibilitySettings",t)}catch{throw new Lt("Failed to set new visibility overrides")}}function Hp(e){return new Map(e.map(t=>[t.id,t]))}async function Gp(e,t){let r=((await Dn(e))?.value??{})[t]??[];return Hp(r)}async function Kp(e){let n=(await Dn(e)??{version:2,value:{}}).value??{};return Object.values(n).reduce((r,i)=>r+i.length,0)}async function qp(e,t,{accountId:n,mutations:r}){let a=(await Dn(e)??{version:2,value:{}}).value??{},c=new Map((a[n]??[]).map(m=>[m.id,m]));for(let{id:m,visibility:l}of r)l===null?c.delete(m):(t.capture(l.includes("hidden")?"collectionHidden":"collectionUnhidden",{data:{id:m}}),c.set(m,{id:m,status:l}));return a[n]=Array.from(c.values()),na(e,{version:2,value:a})}o();s();o();s();o();s();var gt=(a=>(a.Trusted="TRUSTED",a.Verified="VERIFIED",a.NotVerified="NOT_VERIFIED",a.PossibleSpam="POSSIBLE_SPAM",a.Spam="SPAM",a))(gt||{}),Bn=u.nativeEnum(gt);o();s();var ra=e=>{switch(e){case"TRUSTED":return 5;case"VERIFIED":return 4;case"NOT_VERIFIED":return 3;case"POSSIBLE_SPAM":return 2;case"SPAM":return 1;default:return K(e,new Error(`Invalid spam status: ${e}`))}};function Vr({minimum:e,spamStatus:t}){let n=ra(e);return ra(t)>=n}function ia({visibilityStatus:e,spamStatus:t}){return e==="hidden:reported_spam"?"POSSIBLE_SPAM":e==="visible:reported_notSpam"?Vr({minimum:"VERIFIED",spamStatus:t})?t:"NOT_VERIFIED":t}function Qp(e,{key:t,spamStatus:n}){let r=e?.get(t);return oa(r,{spamStatus:n})}function oa(e,{spamStatus:t}){if(!e)return t;let{status:n}=e;return ia({visibilityStatus:n,spamStatus:t})}function jp(e,{key:t,spamStatus:n}){let r=e?.get(t);return sa(r,{spamStatus:n})}function sa(e,{spamStatus:t}){if(!e)return t;let{status:n}=e;return ia({visibilityStatus:n,spamStatus:t})}function zp(e){return e==="POSSIBLE_SPAM"||e==="SPAM"}o();s();function aa(e,{key:t,spamStatus:n}){let r=e?.get(t);return ca(r,{spamStatus:n})}function ca(e,{spamStatus:t}){if(!e&&(t==="POSSIBLE_SPAM"||t==="SPAM"))return!0;if(!e)return!1;let{status:n}=e;return n==="hidden"||n==="hidden:reported_spam"}function Lr(e,{key:t,spamStatus:n}){return!aa(e,{key:t,spamStatus:n})}function $p(e,{key:t,spamStatus:n}){let r=e?.get(t);return Hr(r,{spamStatus:n})}function Hr(e,{spamStatus:t}){if(!e&&(t==="POSSIBLE_SPAM"||t==="SPAM"))return!0;if(!e)return!1;let{status:n}=e;return Yp(n)}function Wp(e,{spamStatus:t}){return!Hr(e,{spamStatus:t})}function Yp(e){return e==="hidden"||e==="hidden:reported_spam"}o();s();function Xp(e){return e.map(t=>`${t.networkID}/${t.address}`).sort()}function ua(e){return["tokens",Xp(e)]}var ee={swapperDiscovery(e){return["swapperDiscovery",e]},hiddenMints(e){return["hiddenMints",{accountId:e}]},splTokenMap:["splTokenMap"],tokenPrices(e){return["tokenPrices",{tokenIds:e}]},tokens(e){return ua(e)},tokensErrorCount(e){return[...ua(e),"tokensError"]},minimumRequiredBalance(e){return["minimumRequiredBalance",{chainAddress:e}]},solanaBalance(e){return["solanaBalance",{chainAddress:e}]},transferFungibleLoggingContext(e){return["transferFungibleLoggingContext",{fungibleKey:e}]},transferTransaction(e){return["transferTransaction",e]},unwrapTransaction({caip19:e,amount:t,owner:n}){return["unwrapTransaction",{caip19:e,amount:t,owner:n}]},fungibleDetail({caip19:e}){return["fungibleDetail",{caip19:e}]},fungiblePosition({caip19:e,walletAddress:t}){return["fungiblePosition",{caip19:e,walletAddress:t}]}};function ma(e){let t=Ii();return S(Jp(t,e??""))}function Jp(e,t){return{gcTime:qe.Long,staleTime:1/0,enabled:!!t&&!!e,queryKey:ee.hiddenMints(t??""),async queryFn(){return!t||!e?new Map:await Ur(e,t)}}}o();s();o();s();o();s();o();s();o();s();var F=u.object({chain:xi,decimals:u.number(),logoUri:u.string().nullish().default(null),name:u.string().nullish().default(null),symbol:u.string().nullish().default(null),spamStatus:Bn.optional().default("NOT_VERIFIED"),marketCap:u.number().optional(),volume24hUsd:u.number().optional()});o();s();o();s();var Gr=(i=>(i.Website="website",i.Telegram="telegram",i.X="x",i.Discrod="discord",i))(Gr||{}),Zp=u.object({type:u.nativeEnum(Gr),url:u.string()});var el=u.object({extension:u.literal("interestBearingConfig"),state:u.object({currentRate:u.number(),initializationTimestamp:u.number(),lastUpdateTimestamp:u.number(),preUpdateAverageRate:u.number(),rateAuthority:u.string()}),meta:u.object({amountPrincipal:u.string()}).optional()}),tl=u.object({extension:u.literal("transferFeeConfig"),state:u.object({newerTransferFee:u.object({transferFeeBasisPoints:u.number()})})}),nl=u.object({extension:u.literal("permanentDelegate"),state:u.object({delegate:u.string()})}),rl=u.object({extension:u.literal("transferHook"),state:u.object({authority:u.string().nullish().default(null),programId:u.string()})}),il=u.object({extension:u.literal("tokenMetadata"),state:u.object({additionalMetadata:u.array(u.array(u.string())),mint:u.string(),name:u.string(),symbol:u.string(),updateAuthority:u.string(),uri:u.string()})}),ol=u.object({extension:u.literal("mintCloseAuthority"),state:u.object({closeAuthority:u.string()})}),sl=u.object({extension:u.literal("groupMemberPointer"),state:u.object({authority:u.string(),memberAddress:u.string()})}),al=u.object({extension:u.literal("metadataPointer"),state:u.object({authority:u.string(),metadataAddress:u.string()})}),cl=u.object({extension:u.literal("nonTransferable")}),Kt=u.union([el,tl,nl,rl,il,ol,al,sl,cl]),Jx=F.merge(u.object({address:u.string().nullish(),description:u.string().nullish(),logoURI:u.string().nullish(),links:u.array(Zp).nullish(),marketCap:u.number({coerce:!0}).nullish(),totalSupply:u.number({coerce:!0}).nullish(),circulatingSupply:u.number({coerce:!0}).nullish(),maxSupply:u.number({coerce:!0}).nullish(),holders:u.number().nullish(),volume24hUSD:u.number({coerce:!0}).nullish(),volume24hUSDChangePercentage:u.number().nullish(),trades24h:u.number().nullish(),trades24hChangePercentage:u.number().nullish(),uniqueWallets24h:u.number().nullish(),uniqueWallets24hChangePercentage:u.number().nullish(),top10HoldersPercent:u.number().nullish(),mintable:u.boolean().nullish(),freezable:u.boolean().nullish(),mutableMetadata:u.boolean().nullish(),ownershipRenounced:u.boolean().nullish(),updateAuthority:u.string().nullish(),freezeAuthority:u.string().nullish(),spamStatus:Bn.optional().default("NOT_VERIFIED"),mintExtensions:Wt(Kt).nullish(),createdDate:u.string().datetime().nullish().default(null),categories:u.object({id:u.string(),name:u.string(),imageUri:u.string(),numTokens:u.number()}).array().optional()})),Zx=u.object({code:u.string(),message:u.string()});var pa=(c=>(c.NonFungible="NonFungible",c.SemiFungible="SemiFungible",c.Fungible="Fungible",c.NonFungibleEdition="NonFungibleEdition",c.ProgrammableNonFungible="ProgrammableNonFungible",c.ProgrammableNonFungibleEdition="ProgrammableNonFungibleEdition",c))(pa||{}),la=(c=>(c.ERC20="ERC20",c.ERC721="ERC721",c.ERC777="ERC777",c.ERC1155="ERC1155",c.ERC4626="ERC4626",c.unknown="unknown",c))(la||{});var da=["BitcoinNative","EthereumNative","PolygonNative","MonadNative","SolanaNative","BaseNative","ArbitrumNative","SuiNative","HypercoreNative"],D=u.object({walletAddress:u.string(),amount:u.string()}),ul=u.object({type:u.literal("SolanaNative"),data:F}),ml=u.object({type:u.literal("SolanaNative"),data:F.merge(D)}),pl=u.object({type:u.literal("EthereumNative"),data:F}),ll=u.object({type:u.literal("EthereumNative"),data:F.merge(D)}),dl=u.object({type:u.literal("PolygonNative"),data:F}),fl=u.object({type:u.literal("PolygonNative"),data:F.merge(D)}),yl=u.object({type:u.literal("BaseNative"),data:F}),gl=u.object({type:u.literal("BaseNative"),data:F.merge(D)}),bl=u.object({type:u.literal("ArbitrumNative"),data:F}),Tl=u.object({type:u.literal("ArbitrumNative"),data:F.merge(D)}),hl=u.object({type:u.literal("MonadNative"),data:F}),Sl=u.object({type:u.literal("MonadNative"),data:F.merge(D)}),vl=u.object({type:u.literal("SuiNative"),data:F}),Cl=u.object({type:u.literal("SuiNative"),data:F.merge(D)}),Al=u.object({type:u.literal("HypercoreNative"),data:F}),El=u.object({type:u.literal("HypercoreNative"),data:F.merge(D)}),Pl=u.object({type:u.literal("BitcoinNative"),data:F}),wl=u.object({type:u.literal("BitcoinNative"),data:F.merge(D)}),Kr=(n=>(n.PreDeploy="preDeploy",n.Graduated="graduated",n))(Kr||{}),xl=u.object({programId:u.string(),status:u.nativeEnum(Kr)}),Fl=F.extend({contractAddress:u.string()}),kl=u.object({type:u.literal("HypercoreAsset"),data:Fl}),bt=F.extend({mintAddress:u.string(),splTokenAccountPubkey:u.string(),programId:u.string(),mintExtensions:Wt(Kt).optional(),ugcTokenMeta:xl.optional()}),fF=u.object({type:u.literal("SPL"),data:bt}),Nl=u.object({type:u.literal("SPL"),data:bt.merge(D)}),Il=u.object({type:u.literal("CompressedSPL"),data:bt.merge(D).omit({splTokenAccountPubkey:!0})}),Dl=u.object({type:u.literal("SPL"),data:bt.omit({splTokenAccountPubkey:!0,programId:!0})}),qr=F.extend({contractAddress:u.string()}),Bl=u.object({type:u.literal("ERC20"),data:qr}),Ml=u.object({type:u.literal("ERC20"),data:qr.merge(D)}),Qr=F.extend({firstCreatedTransactionHash:u.string().optional(),firstCreatedInscriptionId:u.string()}),Ol=u.object({type:u.literal("BRC20"),data:Qr}),_l=u.object({type:u.literal("BRC20"),data:Qr.merge(D)}),fa=F.extend({contractAddress:u.string()}),Rl=u.object({type:u.literal("SuiCoin"),data:fa}),ya=F.extend({contractAddress:u.string()}),yF=u.object({type:u.literal("SuiCoin"),data:ya}),Ul=u.object({type:u.literal("SuiCoin"),data:ya.merge(D)}),jr=u.discriminatedUnion("type",[_l,Ml,Nl,Il,Ul,ml,ll,fl,gl,Tl,Sl,wl,Cl,El]),Vl=u.union([Ol,Bl,Dl,ul,pl,dl,yl,bl,hl,Pl,vl,Rl,Al,kl]),ga=u.object({code:u.string(),message:u.string(),details:u.object({chainId:Pi,address:u.string()})}),te=Zn.extend({balance:u.instanceof(w),key:u.string(),tokenAddress:u.string().optional(),externalUrl:u.string().optional()}),Ll=u.union([u.object({type:u.literal("SolanaNative"),data:u.intersection(F.merge(D),te)}),u.object({type:u.literal("SPL"),data:u.intersection(bt.merge(D),te)}),u.object({type:u.literal("CompressedSPL"),data:u.intersection(bt.merge(D).omit({splTokenAccountPubkey:!0}),te)})]),Hl=u.union([u.object({type:u.literal("EthereumNative"),data:u.intersection(F.merge(D),te)}),u.object({type:u.literal("ERC20"),data:u.intersection(qr.merge(D),te)}),u.object({type:u.literal("PolygonNative"),data:u.intersection(F.merge(D),te)}),u.object({type:u.literal("BaseNative"),data:u.intersection(F.merge(D),te)}),u.object({type:u.literal("ArbitrumNative"),data:u.intersection(F.merge(D),te)}),u.object({type:u.literal("MonadNative"),data:u.intersection(F.merge(D),te)}),u.object({type:u.literal("HypercoreNative"),data:u.intersection(F.merge(D),te)})]),Gl=u.union([u.object({type:u.literal("BitcoinNative"),data:u.intersection(F.merge(D),te)}),u.object({type:u.literal("BRC20"),data:u.intersection(Qr.merge(D),te)})]),Kl=u.union([u.object({type:u.literal("SuiNative"),data:u.intersection(F.merge(D),te)}),u.object({type:u.literal("SuiCoin"),data:u.intersection(fa.merge(D),te)})]),gF=u.union([Ll,Hl,Gl,Kl]),zr=u.object({averageCostBasis:u.string().optional(),amount:u.string()}),qt=class e extends Error{statusCode=400;constructor(t){super(t),Object.setPrototypeOf(this,e.prototype),this.name="FungibleError"}getMessage(){return`Something went wrong: ${this.message}`}};o();s();var Pe=P(H());o();s();var _a=P(H());o();s();o();s();o();s();o();s();o();s();o();s();var pe={sendSuccessCondition:"CONFIRMATION",formDisplayPrecision:4,minimumSendableCurrencyAmount:.01,nonNativeFungibleTokenType:"ERC20"};var ba={...pe,nativeFungibleTokenType:"ArbitrumNative",nativeTokenFungibleBalanceKey:function(e){return this.nativeFungibleTokenType},alwaysShowNetworkBadge:!0};o();s();var Ta={...pe,nativeFungibleTokenType:"BaseNative",nativeTokenFungibleBalanceKey:function(e){return this.nativeFungibleTokenType},alwaysShowNetworkBadge:!0};o();s();var ha={sendSuccessCondition:"SUBMISSION",formDisplayPrecision:6,minimumSendableCurrencyAmount:.5,nativeFungibleTokenType:"BitcoinNative",nonNativeFungibleTokenType:"BRC20",nativeTokenFungibleBalanceKey:function(e,t){if(t!==void 0)return`BitcoinNative-${t}`},alwaysShowNetworkBadge:!1};o();s();var Sa={...pe,nativeFungibleTokenType:"EthereumNative",nativeTokenFungibleBalanceKey(e){return this.nativeFungibleTokenType},alwaysShowNetworkBadge:!1};o();s();var va={...pe,nativeFungibleTokenType:"HypercoreNative",nativeTokenFungibleBalanceKey:function(e){return this.nativeFungibleTokenType},alwaysShowNetworkBadge:!1};o();s();var Ca={...pe,nativeFungibleTokenType:"MonadNative",nativeTokenFungibleBalanceKey:function(e){return this.nativeFungibleTokenType},alwaysShowNetworkBadge:!1,isPriceDetailSupported:!1};o();s();var Aa={...pe,nativeFungibleTokenType:"PolygonNative",nativeTokenFungibleBalanceKey:function(e){return this.nativeFungibleTokenType},alwaysShowNetworkBadge:!1};o();s();var Ea={sendSuccessCondition:"CONFIRMATION",formDisplayPrecision:4,minimumSendableCurrencyAmount:.01,nativeFungibleTokenType:"SolanaNative",nonNativeFungibleTokenType:"SPL",nativeTokenFungibleBalanceKey:function(e){return this.nativeFungibleTokenType},alwaysShowNetworkBadge:!1};o();s();var Pa={nativeFungibleTokenType:"SuiNative",nativeTokenFungibleBalanceKey:function(e){return this.nativeFungibleTokenType},alwaysShowNetworkBadge:!1,isPriceDetailSupported:!0,sendSuccessCondition:"CONFIRMATION",formDisplayPrecision:9,minimumSendableCurrencyAmount:0,nonNativeFungibleTokenType:"SuiCoin"};var ql=new Jt({solana:Ea,ethereum:Sa,polygon:Aa,base:Ta,arbitrum:ba,bitcoin:ha,monad:Ca,sui:Pa,hypercore:va}),Ze=Xt(ql);function $r(e){return e.resourceType==="nativeToken"?Ze.get(e.chainId).nativeFungibleTokenType:Ze.get(e.chainId).nonNativeFungibleTokenType}o();s();function ae(e){return!!e&&da.includes(e)}function et(e){if(ae(e.type))return e.type==="BitcoinNative"?`${e.type}-${Te(e.data.chain.id,e.data.walletAddress)}`:e.type;switch(e.type){case"SPL":case"CompressedSPL":return e.data.mintAddress??"";case"ERC20":case"SuiCoin":return e.data.contractAddress;case"BRC20":{let t=Te(e.data.chain.id,e.data.walletAddress);return`${e.data.firstCreatedInscriptionId}-${t}`}}}function Ql(e,t){let n=$r(e);if(ae(n))return n==="BitcoinNative"&&t!==void 0?[`${n}-${Te(e.chainId,t)}`]:[n];if(n==="SPL"&&e.resourceType==="address")return[e.address];if(n==="ERC20"&&e.resourceType==="address")return[e.address];if(n==="BRC20"&&e.resourceType==="address")return Ci.map(r=>`${e.address}-${r}`);if(n==="SuiCoin"&&e.resourceType==="address")return[e.address]}o();s();o();s();o();s();o();s();o();s();var Wr=e=>e/100;o();s();var Yr=e=>e.extension==="transferFeeConfig",Xr=e=>e.extension==="interestBearingConfig",wa=e=>e.extension==="permanentDelegate";function jl(e){return e.extension==="nonTransferable"}function xa(e){return T.isSolanaNetworkID(e.data.chain.id)}function Fa(e){return T.isEVMNetworkID(e.data.chain.id)}function ka(e){return T.isSuiNetworkID(e.data.chain.id)}function Na(e){return T.isBitcoinNetworkID(e.data.chain.id)}var _n=e=>"data"in e&&e.data&&"mintExtensions"in e.data?e.data.mintExtensions||[]:"chainData"in e&&e.chainData&&"mintExtensions"in e.chainData?e.chainData.mintExtensions||[]:[];function zl(e){if(!e)return;let n=_n(e)?.find(Yr)?.state.newerTransferFee.transferFeeBasisPoints;return n?Wr(n):void 0}function Jr(e){return e?_n(e)?.find(Xr):void 0}function $l(e){return e?!!_n(e).find(r=>r.extension==="nonTransferable"):!1}function Zr(e){return e?_n(e).reduce((r,i)=>i.extension==="transferHook"?i.state.programId:r,void 0):void 0}var Ia=new E("31556736"),Da=new E("10000"),Wl=17,Ba=e=>new E(Math.exp(e.toNumber())),ei=class{initializationTimestamp;preUpdateAverageRate;lastUpdateTimestamp;currentRate;constructor(t){this.initializationTimestamp=new E(t.initializationTimestamp),this.preUpdateAverageRate=new E(t.preUpdateAverageRate),this.lastUpdateTimestamp=new E(t.lastUpdateTimestamp),this.currentRate=new E(t.currentRate)}preUpdateTimespan(){return this.lastUpdateTimestamp.minus(this.initializationTimestamp)}preUpdateExp(){let n=new E(this.preUpdateAverageRate).times(this.preUpdateTimespan()).div(Ia).div(Da);return Ba(n)}postUpdateTimespan(t){return t.minus(this.lastUpdateTimestamp)}postUpdateExp(t){let r=new E(this.currentRate).times(this.postUpdateTimespan(t)).div(Ia).div(Da);return Ba(r)}totalScale(t,n){return this.preUpdateExp()?.times(this.postUpdateExp(n)).div(We(t))}amountToUiAmount(t,n,r){return new E(t).times(this.totalScale(n,new E(r))).precision(Wl).decimalPlaces(n).toString()}},Ma=e=>{if(e.type!=="SPL")return e;let t=Jr(e)?.state;if(!t)return e;let{amount:n,mintExtensions:r}=e.data,i=new ei(t),a=Date.now()/1e3,c=i.amountToUiAmount(n,0,a),m=r?r?.map(l=>l.extension==="interestBearingConfig"?{...l,meta:{amountPrincipal:n}}:l):void 0;return{...e,data:{...e.data,amount:c,mintExtensions:m}}},ti=(e,t)=>{let n=Jr(e);if(!n||!n.meta)return t;let r=new E(e.data.amount),i=new E(n.meta.amountPrincipal);return new E(t).times(i).div(r).decimalPlaces(0)};var SN=new qt("Failed to get fungible tokens for addresses");async function ni(e){let{addresses:t,analytics:n}=e;try{let r=await G.api().headers({"Content-Type":"application/json"}).timeout(h({seconds:20})).post("/tokens/v1",{addresses:t},{params:{isSolCompressedTokensEnabled:"true"}});if(r.status!==200)throw new Kn({key:"TokensNotLoading"});let i=await r.data,a=[],c=[],m=!1;for(let l of i.tokens){let d=jr.safeParse(l);if(d.success){let f=Ma(d.data);a.push(f)}else m=!0}return i.errors.forEach(l=>{let d=ga.safeParse(l);d.success&&c.push(d.data)}),c.length===0&&i.isTrimmed&&c.push({code:"TokensTrimmed",message:"",details:{chainId:"solana:101",address:"unknown"}}),c.length&&n.capture("getBalanceRequestError",{data:{chains:c.map(l=>l.details.chainId)}}),m&&M.captureError(new Error("fungibles failed to parse some items"),"fungibles"),{tokens:a,errors:c,isTrimmed:i.isTrimmed}}catch{throw new Kn({key:"TokensNotLoading"})}}function Oa({select:e,chainAddresses:t=[],queryOptions:n={staleTime:yt.Short,refetchInterval:_r.Long}}){let r=ee.tokens(t),i=ee.tokensErrorCount(t),a=he(),c=W();return S({queryKey:r,enabled:t.length>0&&t.every(m=>!T.isLocalNetworkID(m.networkID)),gcTime:qe.Medium,staleTime:n.staleTime,refetchInterval:n.refetchInterval,refetchOnReconnect:!0,networkMode:"always",retry:!1,select:e,async queryFn({queryKey:m}){try{let l=t.map(So),d=await ni({addresses:l,analytics:a});if(d.errors.length>0&&!d.isTrimmed){let f=c.getQueryData(m);if(f)for(let y of d.errors){let g=f.tokens.filter(b=>b.data.chain.id===y.details.chainId);d.tokens.push(...g)}}return c.removeQueries({queryKey:i}),d}catch(l){let d=c.getQueryData(i)??0;throw c.setQueryData(i,d+1),l}}})}function ri({chainAddresses:e,keys:t,queryOptions:n}){let r=(0,_a.useCallback)(({tokens:i})=>!t||!t.length?i:i.filter(a=>t.includes(et(a))),[t]);return Oa({select:r,chainAddresses:e,queryOptions:n})}o();s();function Ra(e){let t,n;for(let{data:r}of e){let{usd:i,usd_24h_change:a}=r;i!==void 0&&(t=t!==void 0?t+i:i),a!==void 0&&(n=n!==void 0?n+a:a)}return{value:t,earnings:n}}o();s();function Ua(e,t){return e.getQueriesData({predicate:r=>r.queryKey[0]==="transferFungibleLoggingContext"}).map(([,r])=>r).filter(r=>{if(!r)return!1;let{previousBalance:i,fungibleKey:a}=r,c=t.get(a);return c?!c.data.balance.isEqualTo(i):!1})}o();s();o();s();var Va=["solana","eip155","sui","bip122_p2tr","bip122_p2wpkh","bip122_p2sh","bip122_p2pkh"],La=qn(Te);function Xl(e,t){let n=La(e.data.chain.id,e.data.walletAddress),r=La(t.data.chain.id,t.data.walletAddress),i=Va.indexOf(n)-Va.indexOf(r);return i===0?0:i<0?-1:1}var Ga=qn(Xl);o();s();function ii(e,t){return t.data.balance.comparedTo(e.data.balance)}o();s();var Ka="\uFFFF";function qa(e,t){let n=e.data.name?.toUpperCase()??Ka,r=t.data.name?.toUpperCase()??Ka;return n.localeCompare(r)}o();s();function Qa(e,t){let n=e.data.usd??Number.NEGATIVE_INFINITY,r=t.data.usd??Number.NEGATIVE_INFINITY;return n>r?-1:n<r?1:0}o();s();function ja(e,t){let n=e.data.spamStatus,r=t.data.spamStatus,i=m=>{switch(m){case"TRUSTED":return 5;case"VERIFIED":return 4;case"NOT_VERIFIED":return 3;case"POSSIBLE_SPAM":return 2;case"SPAM":return 1}},a=i(n),c=i(r);return a>c?-1:a<c?1:0}o();s();var za="\uFFFF";function $a(e,t){let n=e.data.symbol?.toUpperCase()??za,r=t.data.symbol?.toUpperCase()??za;return n.localeCompare(r)}o();s();function Wa(e,t){let n=ae(e.type),r=ae(t.type);return n!==r?n?-1:1:T.compareNetworkID(e.data.chain.id,t.data.chain.id)}var oi=(e,t)=>{let n=Qa(e,t);if(n)return n;let r=ja(e,t);if(r)return r;let i=ii(e,t);if(i)return i;let a=Wa(e,t);if(a)return a;let c=Ga(e,t);if(c)return c;let m=qa(e,t);return m||$a(e,t)};o();s();var _e=e=>{let t=e.data.chain.id;if(ae(e.type))return{chainId:t,slip44:T.getSlip44(t),resourceType:"nativeToken"};{let n;switch(e.type){case"SPL":case"CompressedSPL":n=e.data.mintAddress;break;case"ERC20":case"SuiCoin":n=e.data.contractAddress;break;case"BRC20":n=e.data.firstCreatedInscriptionId;break;case"HypercoreAsset":n=e.data.contractAddress;break}return{chainId:t,address:n,resourceType:"address"}}};o();s();var Ya=(e,t)=>{let n=ee.transferFungibleLoggingContext(e);t.removeQueries({queryKey:n})};o();s();o();s();E.config({EXPONENTIAL_AT:1e3,DECIMAL_PLACES:78});var si=(e,t)=>new E(e).div(We(t));function Xa({tokens:e,priceMap:t}){let n=[];for(let r of e){let{amount:i,decimals:a}=r.data,c=_e(r),m=j(c),l=et(r),d=si(i,a),f={type:r.type,data:{...r.data,balance:d,key:l}},y,g=tr({priceId:m,balance:d,priceMap:t});if(r.type==="SPL"||r.type==="CompressedSPL"){let{mintAddress:b}=r.data;y=b}else if(r.type==="ERC20"||r.type==="SuiCoin"){let{contractAddress:b}=r.data;y=b}else if(r.type==="BRC20"){let{firstCreatedInscriptionId:b}=r.data;y=b}f.data.tokenAddress=y,f.data.usd=g.usd,f.data.price=g.price,f.data.usd_24h_change=g.usd_24h_change,f.data.priceChange24h=g.priceChange24h,f.data.currencyChange=g.currencyChange,f.data.currencyValue=g.currencyValue,n.push(f)}return n}function Ja({showHiddenMints:e=!1,keys:t,enablePrices:n=!0,enableSorting:r=!0,usePricesQueryOptions:i,useTokenQueryOptions:a}={}){let{data:c}=tn(),{data:m=[],isPending:l,isRefetching:d,refetch:f,isError:y,error:g}=ri({chainAddresses:c?.addresses,keys:t,queryOptions:a}),{data:b,isPending:C,isRefetching:k}=ma(c?.identifier),{query:x}=(0,Pe.useMemo)(()=>({query:{data:m.map(_e)}}),[m]),{data:B,isPending:J,isRefetching:le,refetch:Re,isError:de}=lr({query:x,enabled:n&&!l&&c?.identifier!=null,queryOptions:i}),{fungibles:we,fungibleMap:Qt}=(0,Pe.useMemo)(()=>{let ze=e?m:m.filter(xe=>{let $e=et(xe),ht=(t||[]).includes($e),St=Lr(b,{key:$e,spamStatus:xe.data.spamStatus});return ht||St}),fe=Xa({tokens:ze,priceMap:B??{}});r&&(t===void 0?fe=fe.sort(oi):fe=fe.sort((xe,$e)=>{let ht=t.indexOf(xe.data.key),St=t.indexOf($e.data.key);return ht<St?-1:ht>St?1:0}));let jt=new Map;for(let xe of fe)jt.set(xe.data.key,xe);return{fungibles:fe,fungibleMap:jt}},[m,t,e,b,B,r]),Ln=(0,Pe.useMemo)(()=>!!b&&b.size>0&&m.length>0&&we.length===0,[m,b,we]),tt=W(),nt=(0,Pe.useMemo)(()=>Ua(tt,Qt),[Qt,tt]),ne=Br("send:fungible",ye.Solana.Mainnet);(0,Pe.useEffect)(()=>{for(let ze of nt)ne(ze.transactionId,"appUpdated"),Ya(ze.fungibleKey,tt)},[nt,ne,tt]);let je=(0,Pe.useMemo)(()=>Ra(we),[we]),rt=(0,Pe.useCallback)(async()=>{await Promise.all([f(),Re()])},[f,Re]);return{fungibles:we,portfolio:je,visibilityOverrides:b,isHidingAllFungibles:Ln,isLoadingTokens:l,isLoadingVisibilityOverrides:C,isLoadingPrices:n?J:!1,isRefetchingTokens:d,isRefetchingVisibilityOverrides:k,isRefetchingPrices:n?le:!1,isErrorTokens:y,tokensError:g,isErrorPrices:de,refetch:rt}}function Za({key:e,splTokenAccount:t,...n}){let{fungibles:r,...i}=Ja({...n,keys:e?[e]:[]}),a;return r.length===1?a=r[0]:r.length>1&&t?a=r.find(c=>c.type==="SPL"&&c.data.splTokenAccountPubkey===t):r.length>1&&(a=r.filter(c=>c.type==="SPL").reduce((c,m)=>!c||m.data.balance.gt(c.data.balance)?m:c,void 0)),{fungible:a,...i}}o();s();var CD=h({seconds:10});var ec={location:0,distance:50,threshold:.2,shouldSort:!0,keys:[{name:"data.name",weight:.4},{name:"data.symbol",weight:.4},{name:"data.chain.name",weight:.1},{name:"data.tokenAddress",weight:.1}]},Jl={...ec,shouldSort:!1};var Zl="https://help.phantom.com/hc/en-us/articles/22984230766483",ed={maximumFractionDigits:2,minimumFractionDigits:2},tc="pSo1f9nQXWgXibFtKf7NWYxb5enAM4qfP6UJSiXRQfL",td=`solana:101/address:${tc}`,nd="solana:101/nativeToken:501",nc="EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",rd=`solana:101/address:${nc}`,rc="J1toso1uCk3RLmjorhTtrVwY9HJ7X8V9yYac6Y7kGCPn",id=`solana:101/address:${rc}`;o();s();var Qe=P(Jc());var od=h({days:30}),sd=Qe.struct([Qe.blob(32,"mint"),Qe.blob(32,"owner"),Qe.nu64("amount"),Qe.blob(93)]),ad=e=>{let t=ee.minimumRequiredBalance(e);return S({enabled:!!e&&jn(e),gcTime:1/0,staleTime:od,queryKey:t,async queryFn(){if(!e)throw new Error("No chain address provided");if(jn(e))return Ie(e.networkID).getMinimumBalanceForRentExemption(sd.span);throw new Error(`Minimum required balance not implemented for ${e.networkID}`)}})};o();s();var ic={Taproot:"bip122_p2tr",NativeSegwit:"bip122_p2wpkh"};function cd(e){return!e||!e.startsWith("BitcoinNative")?null:e.endsWith("bip122_p2tr")?ic.Taproot:e.endsWith("bip122_p2wpkh")?ic.NativeSegwit:null}o();s();var ud=(e,t)=>Ze.get(e).nativeTokenFungibleBalanceKey(e,t);o();s();var md=e=>pd[e],pd={"shortcut-chat":"MessageCircle","shortcut-default":"Link","shortcut-discord":"LogoDiscord","shortcut-gaming":"Joystick","shortcut-gaming-2":"PacMan","shortcut-generic-add":"Plus","shortcut-generic-link":"Link","shortcut-instagram":"Instagram","shortcut-leaderboard":"Crown","shortcut-mint":"Sparkle","shortcut-mint-2":"Leaf","shortcut-stake":"TrendingUp","shortcut-stake-2":"Star","shortcut-telegram":"LogoTelegram","shortcut-tip":"DollarSign","shortcut-twitter":"LogoXTwitter","shortcut-twitter-2":"LogoXTwitter","shortcut-view":"Eye","shortcut-vote":"ThumbsUp","shortcut-vote-2":"CheckSquare","shortcut-x":"LogoXTwitter",burnToken:"Burn",buy:"DollarSign",copyTokenAddress:"Copy",hide:"Eye",list:"Tag2",mintLST:"Droplet",more:"MoreHorizontal",pin:"PinRight",receive:"Qr",reportIssue:"Flag",reportAsNotSpam:"Flag",reportAsSpam:"Flag",saveToLibrary:"Download",send:"Send",setAsAvatar:"Smile",share:"Share",stake:"TrendingUp",stakeSol:"TrendingUp",swap:"Swap",unhide:"EyeOff",unpin:"PinRightOff",unstake:"MinusCircle",unwrapWrappedSol:"WalletOpen",viewOnExplorer:"ExternalLink",decompress:"PlusCircle",depositWithKamino:"Droplet"};o();s();o();s();o();s();o();s();o();s();var bc=P(Ai());o();s();var oc=P(Fe()),sc=P(Fe()),ac=P(Ai());o();s();o();s();o();s();function Tt(e){return e*111+546}function Un(e){return e*151+Tt(e)}function cc({sender:e,feerate:t,taprootScriptSpendPath:n,utxoState:{safeToSendUtxos:r}}){let i=Un(t),{scriptTree:a,inscribeP2tr:c}=n,m=c.output;if(!m)throw new Error("Commit output script is undefined");let l=c.address;if(!l)throw new Error("Reveal address is undefined");let d=[{address:l,script:m,value:i,tapInternalKey:c.internalPubkey,tapTree:{leaves:(0,ac.tapTreeToList)(a)}}],f=ln(Te(ye.Bitcoin.Mainnet,e),r,d,t),y=new sc.Psbt({network:oc.networks.bitcoin});if(f.type==="success"){let{inputs:g,outputs:b}=f;y.addInputs(g.map(C=>dn(C,e,!0))),y.addOutputs(b)}return[y,y.data.inputs.map((g,b)=>({address:e,signingIndexes:[b]})),f.vb]}o();s();var uc=P(Fe()),mc=P(Fe());function pc({sender:e,feerate:t,taprootScriptSpendPath:n}){return{metadata:"brc20_reveal",inputsToSign:[{address:e,signingIndexes:[0],isScriptSpend:!0}],psbtFn:r=>{let{inscribeP2tr:i,tapLeafScript:a}=n,c=i.output;if(!c)throw new Error("Commit output script is undefined");let m=new mc.Psbt({network:uc.networks.bitcoin}),l=Un(t),d={hash:r,index:0,value:l};m.addInput({hash:d.hash,index:d.index,witnessUtxo:{script:c,value:d.value},tapLeafScript:[a]});let f=Tt(t);return m.addOutput({address:e,value:f}),m},additionalCost:{vb:new w(151),sats:new w(0)}}}o();s();var lc=P(Fe()),dc=P(Fe()),fc=P(Wc());function yc({sender:e,receiver:t,feerate:n}){return{metadata:"brc20_send",inputsToSign:[{address:e,signingIndexes:[0]}],psbtFn:r=>{let i=new dc.Psbt({network:lc.networks.bitcoin}),a=Tt(n),c={hash:r,index:0,value:a};return i.addInput({hash:c.hash,index:c.index,witnessUtxo:{script:(0,fc.toOutputScript)(e),value:c.value}}),i.addOutput({address:t,value:546}),i},additionalCost:{vb:new w(111),sats:new w(546)}}}o();s();var Vn=P(Fe());function gc(e,t,n){let r=wo(e,Po(t,n)),i={output:r},a={output:r,redeemVersion:192},c=Vn.payments.p2tr({internalPubkey:e,scriptTree:i,network:Vn.networks.bitcoin,redeem:a}),m=c.witness;if(!m)throw new Error("Witness is undefined");let l={leafVersion:a.redeemVersion,script:a.output,controlBlock:m[m.length-1]};return{scriptTree:i,inscribeLockRedeem:a,inscribeP2tr:c,tapLeafScript:l}}var Tc=({senderAddress:e,destination:t,tick:n,amount:r,scriptPublicKey:i,utxoState:a,feerate:c})=>{let m=(0,bc.toXOnly)(Buffer.from(i)),l=gc(m,n,r.toNumber()),[d,f,y]=cc({sender:e,feerate:c,taprootScriptSpendPath:l,utxoState:a}),g=pc({sender:e,feerate:c,taprootScriptSpendPath:l}),b=yc({sender:e,receiver:t,feerate:c});return[d,[g,b],f,y]};o();s();var hc=P(Fe()),Sc=P(Fe()),vc=({senderAddress:e,destination:t,amount:n,utxoState:{safeToSendUtxos:r},feerate:i})=>{let a=ln(Te(ye.Bitcoin.Mainnet,e),r,[{address:t,value:n.toNumber()}],i),c=new Sc.Psbt({network:hc.networks.bitcoin});if(a.type==="success"){let{inputs:m,outputs:l}=a;c.addInputs(m.map(d=>dn(d,e,!0))),c.addOutputs(l)}return[c,c.data.inputs.map((m,l)=>({address:e,signingIndexes:[l]})),a.vb]};function Cc({data:e,type:t},{amountAsset:n,recipient:r,transactionSpeed:i},a){let c,m,l,d,{transactionSpeedsToUnitCost:f,utxoState:y,chainAddress:g}=a,b=e.chain.id,C=f[i??"standard"];if(!C?.btcPerKilobyte)throw new Error("Transaction unit cost is required");let k=Math.round(C?ro(C.btcPerKilobyte).toNumber():to);switch(t){case"BitcoinNative":[c,d,l]=vc({senderAddress:e.walletAddress,destination:r,amount:n,utxoState:y,feerate:k});break;case"BRC20":{if(!g)throw new Error("Cannot find chain address to sign with.");let x=g.publicKey;if(!x)throw new Error(`Public key does not exist for address ${e.walletAddress}`);[c,m,d,l]=Tc({senderAddress:e.walletAddress,destination:r,amount:n,scriptPublicKey:x,tick:e.name??"",utxoState:y,feerate:k});break}}return{networkID:b,psbt:c,psbtChain:m,inputsToSign:d,vb:l}}o();s();o();s();var dd=["function allowance(address owner, address spender) view returns (uint256)","function balanceOf(address owner) view returns (uint256)","function decimals() view returns (uint8)","function symbol() view returns (string)","function approve(address spender, uint amount) returns (bool)","function transfer(address to, uint amount) returns (bool)","event Transfer(address indexed from, address indexed to, uint amount)"],Ac=new Error("Error populating ERC20 transaction data."),Ec=async e=>{let{sender:t,networkID:n,destination:r,contractAddress:i,value:a,ethereumNetworkID:c}=e,m=mo(n,i,dd,t),l;try{let f=await m.populateTransaction.transfer(r,fn(a),{from:t});if(f.data)l=f.data;else throw Ac}catch{throw Ac}return ot.parse({type:"0x2",to:i,from:t,chainId:typeof c=="number"?c:T.getEVMNetworkIDValue(c),data:l})};o();s();var ui=e=>{let{nonce:t,sender:n,destination:r,value:i,ethereumNetworkID:a}=e;return ot.parse({type:"0x2",nonce:t!==void 0?`0x${Number(t).toString(16)}`:void 0,from:n,to:r,chainId:typeof a=="number"?a:T.getEVMNetworkIDValue(a),value:`0x${i.toString(16)}`})};async function Pc({type:e,data:t},{recipient:n,amountAsset:r}){let{chain:i}=t,a=i.id,c;if(ae(e))c=ui({sender:t.walletAddress,destination:n,value:r,ethereumNetworkID:a});else if(e==="ERC20")c=await Ec({sender:t.walletAddress,networkID:a,destination:n,contractAddress:t.contractAddress,value:r,ethereumNetworkID:a});else return K(e);return{networkID:a,unsignedTransaction:c}}o();s();async function wc(e,{amountAsset:t,recipient:n,solana:r}){let{type:i,data:a}=e,c=a.chain.id,{references:m,memo:l}=r,d=r.references?.map(C=>C.toString())??[],{walletAddress:f}=a,y=Ie(c),g,b=2e5;switch(i){case"SolanaNative":{let C=new ie.PublicKey(f),k=new ie.PublicKey(n);(!d||!d.length)&&!l&&(b=500),g=Jn({fromPubkey:C,toPubkey:k,lamports:BigInt(t.toFixed()),references:d?.map(x=>new ie.PublicKey(x))??[],memo:l??null});break}case"SPL":{g=await Xn({connection:y,destination:n,senderAccount:a.splTokenAccountPubkey,mint:a.mintAddress,decimals:a.decimals,amount:ti(e,t),programId:a.programId,references:d,memo:l,networkID:c,senderAddress:{networkID:c,addressType:"solana",address:a.walletAddress},transferHookProgramId:Zr(e)});break}default:throw new Error("Unsupported solana transfer transaction")}if(!g)throw new Error("Unable to create transaction.");return g.feePayer=new ie.PublicKey(f),g=await pn(g,{connection:y,calculators:{budget:new To(b)}}),g.recentBlockhash=(await y.getLatestBlockhash("confirmed")).blockhash,{networkID:c,transaction:[g]}}o();s();var gd=BigInt("4000000"),xc=async({type:e,data:t},n)=>{let{walletAddress:r,chain:i}=t,a=i.id,{amountAsset:c,recipient:m}=n,l=T.getRpcProxyUrl(a);if(!l)throw new Error("Failed to get Sui RPC url");let d=new fo({url:l}),f=new po;f.setSender(r),f.setGasBudget(gd);let y=()=>{let C=BigInt(c.toFixed()),k;switch(e){case"SuiNative":k={useGasCoin:!0};break;case"SuiCoin":k={type:t.contractAddress};break;default:K(e)}return lo({balance:C,...k})};f.transferObjects([y()],m);let g=await f.build({client:d});return{networkID:a,transaction:g}};async function Fc(e,t,n){return xa(e)?wc(e,t):Fa(e)?Pc(e,t):ka(e)?xc(e,t):Na(e)?Cc(e,t,n):K(e)}var bd="fungible-transfer-tx",Td=h({seconds:30});function hd(e){let t=e?.fungibleKey,{fungible:n}=Za({key:t,splTokenAccount:e?.splTokenAccount}),r=Or(e?.sendFormValues?.recipient,n?.data.chain.id)??"",i=e?.sendSessionId??"",{chain:a,walletAddress:c}=n?.data??{},{data:m}=Ui({address:c,networkID:a?.id}),{data:l}=Mr(m),{data:d}=Be({networkID:a?.id,enableFallback:!0}),f=Sd(a?.id,d,l,m),y=f?.sendContextRequired?f.sendContext:void 0,g=e?.sendFormValues;return S({staleTime:Td,enabled:!!n&&!!e&&!!f,queryKey:ee.transferTransaction({fungibleKey:t,fungibleSendFormValues:g,sendSessionId:i,sendContext:y}),async queryFn(){if(!n||!g||!f)throw new Error("Missing required data to construct fungible transfer transaction");try{return await Fc(n,{...g,recipient:r},y)}catch(b){if(Ue(b)){let C=b.response?.status;Ut(b,C,bd)}}throw new Error("Failed to create transfer transaction")}})}function Sd(e,t,n,r){if(e)return T.isBitcoinNetworkID(e)?!t||!n||!r?void 0:{sendContextRequired:!0,sendContext:{transactionSpeedsToUnitCost:t,utxoState:n,chainAddress:r}}:{sendContextRequired:!1}}o();s();o();s();async function kc(e){let t=ke(e.caip19);if(t.chainId!=="solana:101")throw new Error("Unsupported network for fungible position");let n=t.resourceType==="nativeToken"?"0x0":t.address,r=await G.api().timeout(h({seconds:10})).get(`/bdp/positions/${e.walletAddress}/${n}`);if(r.status!==200)throw new Error(`Failed to fetch fungible position: ${r.statusText}`);let i=await r.data;return zr.parse(i)}var vd=e=>{let t=st.isFeatureEnabled("enable-fungible-position"),n=e&&t;return{gcTime:qe.Short,staleTime:yt.Long,queryKey:n?ee.fungiblePosition(e):[],queryFn:n?async()=>{try{return await kc(e)}catch(r){if(Ue(r)){let i=r.response?.status;Ut(r,i,"get-fungible-position")}throw r}}:Di}};function Cd(e){return S(vd(e))}o();s();o();s();function Ed({fungible:e,accountId:t,analytics:n,setVisibilityOverrides:r}){if(!(!e||!t))return async()=>{n.capture("fungiblesReportAsSpam",{data:{caip19:"encodedCaip19"in e?e.encodedCaip19:j(_e(e))}}),await r({accountId:t,mutations:[{fungibleKey:"legacyKey"in e?e.legacyKey:e.data.key,visibility:"hidden:reported_spam"}]})}}o();s();var Pd=["receive","send","decompress","swap","buy","stakeSol","mintLST","stake","unstake","viewOnExplorer","copyTokenAddress","unwrapWrappedSol","share","reportIssue"],SM=new Map(Pd.map((e,t)=>[e,t+1]));function wd(e,t){let n=e.length>t?e.slice(t-1):[];return{more:n,primary:n.length>0?e.slice(0,t-1):e}}o();s();o();s();function Nc(e,t,n,r,i,a,c,m){return{ownerAddress:e.address,networkID:t,data:{txID:"",psbtHex:""},type:"send",display:{summary:{topLeft:{text:`${n("transactionsPendingSending")} ${r} ${i}`},topRight:{text:`-${r} ${i}`},bottomLeft:{text:`${n("transactionsToParagraphInterpolated",{to:a})}`}},detail:{header:`${r} ${i}`,logoUri:c,uiRecipient:a,assetSymbol:i,tokenUSDPrice:m}}}}o();s();function Ic(e,t="standard",n,r,i,a,c,m,l){let d=Ne.get(e).transactionSpeedSeconds(t);return{ownerAddress:n.address,networkID:e,data:{nonce:"",hash:"",unsignedTransaction:ot.parse({from:n.address}),estimatedTimeToMineInSeconds:d},type:"send",display:{summary:{topLeft:{text:`${r("transactionsPendingSending")}`},topRight:{text:`-${i} ${a}`},bottomLeft:{text:`${r("transactionsToParagraphInterpolated",{to:c})}`}},detail:{header:`${i} ${a}`,assetSymbol:a,logoUri:m,tokenUSDPrice:l,uiRecipient:c}}}}o();s();function Dc(e,t,n,r,i,a,c){return{ownerAddress:e.address,networkID:t,data:{signature:""},type:"send",display:{summary:{topLeft:{text:`${n("transactionsPendingSending")} ${r} ${i}`},topRight:{text:`-${r} ${i}`},bottomLeft:{text:`${n("transactionsToParagraphInterpolated",{to:a})}`}},detail:{logoUri:c}}}}o();s();function Bc(e,t,n,r,i,a){return{ownerAddress:e.address,networkID:t,data:{digest:""},type:"send",display:{summary:{topLeft:{text:`${O.t("transactionsPendingSending")} ${n} ${r}`},topRight:{text:`-${n} ${r}`},bottomLeft:{text:`${O.t("transactionsToParagraphInterpolated",{to:i})}`}},detail:{logoUri:a}}}}var xd=(e,t,n,r,i,a,c,m,l)=>{if(T.isEVMNetworkID(e))return Ic(e,t,n,l,c,r,a,i,m);if(T.isSolanaNetworkID(e))return Dc(n,e,l,c,r,a,i);if(T.isBitcoinNetworkID(e))return Nc(n,e,l,c,r,a,i,m);if(T.isSuiNetworkID(e))return Bc(n,e,c,r,a,i);throw new Error(`Unable to create pending transaction input for chain id ${e}}`)};o();s();var Fd=e=>({chainId:e.data.chain.id,resourceType:"address",address:e.data.walletAddress});o();s();var pi=e=>{let t=T.getAllChainIDs().reduce((n,r)=>(n[`${r}WalletBalance`]=!1,n),{});for(let n of e){let{balance:r,chain:i}=n.data,a=r.isGreaterThan(0),m=`${T.getChainName(i.id).toLowerCase()}WalletBalance`;if(!t[m]&&(t[m]=a,Object.values(t).every(l=>l)))break}return t};o();s();o();s();function Mc(e,t){return e instanceof Error?Mc(e.message,t):typeof e=="string"&&t==="solana"?Nd(e):"UnknownError"}function Nd(e){let[t]=e.match(/0x\d+/)||[];return t&&typeof t=="string"&&t==="0x1"?"InsufficientFunds":"UnknownError"}o();s();function Id(e){if(ae(e.type))return e.data.walletAddress;switch(e.type){case"ERC20":case"BRC20":case"CompressedSPL":case"SuiCoin":return e.data.walletAddress;case"SPL":return e.data.splTokenAccountPubkey}}o();s();function Dd(e){if(!e||e.type==="BRC20"||e.type==="BitcoinNative")return null;let t=_e(e);return t.resourceType==="address"?t.address:null}o();s();var _c=P(zc()),Oc=1e-5,Bd="0,0.[00]a",Md=1e5,Od=(e,t=5)=>{let n=new w(e);if(n.abs().isGreaterThan(0)&&n.abs().isLessThan(Oc))return`< ${n.isLessThan(0)?"-":""}${Oc}`;let r=(0,_c.default)(n.toNumber());return n.isGreaterThanOrEqualTo(Md)?r.format(Bd):r.format(`0,0.[${"0".repeat(t)}]`)};o();s();var Rc=[T.solana,T.ethereum,T.polygon,T.bitcoin,T.base,T.sui],_d=({chainName:e,address:t})=>{let n=Rc.find(i=>i.id===e);if(!n)throw new Error(`Chain ${e} not supported`);let r=n.mainnetID;return typeof t!="string"?j({chainId:r,resourceType:"nativeToken",slip44:n.slip44}):j({chainId:r,address:t,resourceType:"address"})},Rd=()=>(Math.random()*Date.now()).toString(36).replace(".",""),Ud=({caip19:e,isAnalyticsOptedOut:t,isRelative:n})=>{let r=e.resourceType==="address"?e.address:void 0;return Uc({chainId:e.chainId,address:r,isAnalyticsOptedOut:t,isRelative:n})},Uc=({chainId:e,address:t,isAnalyticsOptedOut:n,isRelative:r=!1})=>{let i=Rc.find(d=>d.mainnetID===e);if(!i)return null;let c=`${r?"":"https://phantom.com"}/tokens/${i.id}`,m=t?`${c}/${t}`:c,l=n?"":`?referralId=${Rd()}`;return`${m}${l}`},Vd={getCaip19FromUrlPath:_d,getUrlFromFungible:Ud,getUrlForFungibleComponents:Uc};o();s();var Vc=e=>{if(!e?.data?.balance||!e?.data?.price)return;let t=new E(e.data.balance),n=new E(e.data.price);return t.multipliedBy(n).toNumber()},Lc=(e,t)=>{if(!e?.averageCostBasis||!t?.data?.balance||!t?.data?.price)return;let n=new E(e.averageCostBasis),r=new E(t.data.balance),i=new E(t.data.price);return n.multipliedBy(10**6).multipliedBy(i).dividedBy(r).toNumber()},Ld=(e,t)=>{let n=Lc(e,t),r=Vc(t);if(!n||!r||!t?.data?.balance)return;let a=new E(t.data.balance).multipliedBy(n);return new E(r).minus(a).toNumber()};o();s();var Hc={website:"website",twitter:"x",x:"x",telegram:"telegram",discord:"discord"},Hd=Object.keys(Hc);function Gd(e){return{address:e.decodedCaip19.resourceType==="address"?e.decodedCaip19.address:void 0,chain:Fi(e.decodedCaip19.chainId),decimals:e.decimals,logoUri:e.logoUri??null,logoURI:e.logoUri??null,name:e.name||O.t("assetVisibilityUnknownToken"),symbol:e.symbol??"Unknown",spamStatus:e.spamStatus,createdDate:e.extraMetadata?.createdDate??null,marketCap:e.extraMetadata?.marketCap,description:e.extraMetadata?.description,volume24hUSD:e.extraMetadata?.volume24hUSD,volume24hUSDChangePercentage:e.extraMetadata?.volume24hUSDChangePercentage,totalSupply:e.extraMetadata?.totalSupply,uniqueWallets24h:e.extraMetadata?.uniqueWallets24h,uniqueWallets24hChangePercentage:e.extraMetadata?.uniqueWallets24hChangePercentage,links:e.extraMetadata?.links?.filter(t=>Hd.includes(t.type)).map(t=>({type:Hc[t.type],url:t.url})),circulatingSupply:e.extraMetadata?.circulatingSupply,holders:e.extraMetadata?.holders,top10HoldersPercent:e.extraMetadata?.top10HoldersPercent,mintable:e.extraMetadata?.mintable,freezable:e.extraMetadata?.freezable,mutableMetadata:e.extraMetadata?.mutableMetadata,updateAuthority:e.extraMetadata?.updateAuthority,categories:e.categories}}o();s();var Kd=e=>e?.data?.symbol==="Cash"&&!!e?.data?.walletAddress;o();s();var li=class{#e;constructor(t){this.#e=t}walletBalance=(t,n,r)=>{let i=pi(r),a={accountId:t,selectedNetworks:n,...i};this.#e.capture("walletBalance",{data:a})};ctaBarTrackPrimaryButtonsClick=({uiContext:t,position:n,type:r,maxButtons:i,primaryActions:a,moreActions:c,shortcutActions:m,typeSpecificMetadata:l})=>{let d=[...c,...m||[]],f=[...a,...d].findIndex(b=>b.type===r),y=a.length+d.length,g={type:r,typeSpecificMetadata:l,overallIndex:f,position:n,primaryButtons:a.map(({type:b})=>({type:b})),moreButtons:d.map(({type:b})=>({type:b})),uiContext:t,maxButtons:i,totalButtons:y};this.#e.capture("ctaBarClickByUser",{data:{ctaBar:g}})};ctaBarTrackMoreButtonClick=({uiContext:t,maxButtons:n,totalButtons:r})=>{let i={uiContext:t,maxButtons:n,totalButtons:r};this.#e.capture("ctaBarMoreClickByUser",{data:{ctaBar:i}})};onPublicFungiblePageOpen=({uiContext:t,caip19:n,address:r,symbol:i,hasBalance:a})=>{let c={uiContext:t,caip19:n,address:r,symbol:i,hasBalance:a};this.#e.capture("onPublicFungiblePageOpen",{data:c})}};o();s();export{qe as a,Bn as b,Kt as c,nu as d,ru as e,Pt as f,pa as g,la as h,Vl as i,qt as j,ee as k,es as l,Ht as m,Op as n,Ur as o,Vp as p,Gp as q,Kp as r,qp as s,Vr as t,Qp as u,oa as v,jp as w,sa as x,zp as y,aa as z,Lr as A,$p as B,Hr as C,Wp as D,Be as E,mp as F,cr as G,ur as H,lr as I,Xe as J,Gu as K,qu as L,Zu as M,nm as N,lp as O,Br as P,Me as Q,rm as R,kt as S,ls as T,im as U,dp as V,am as W,Nt as X,yp as Y,bp as Z,Nn as _,Mr as $,Ep as aa,Fr as ba,qs as ca,Or as da,Pp as ea,wp as fa,ip as ga,kp as ha,Ip as ia,Bp as ja,cp as ka,Mp as la,Ze as ma,$r as na,ae as oa,et as pa,Ql as qa,Wr as ra,Yr as sa,wa as ta,jl as ua,zl as va,$l as wa,Zr as xa,ti as ya,Oa as za,ri as Aa,ma as Ba,_e as Ca,si as Da,Ja as Ea,Za as Fa,ui as Ga,hd as Ha,Jl as Ia,Zl as Ja,ed as Ka,tc as La,td as Ma,nd as Na,id as Oa,ad as Pa,Cd as Qa,cd as Ra,Ed as Sa,SM as Ta,wd as Ua,xd as Va,Fd as Wa,ud as Xa,Mc as Ya,Id as Za,Dd as _a,Od as $a,Vd as ab,Vc as bb,Lc as cb,Ld as db,Gd as eb,Kd as fb,li as gb,md as hb};
//# sourceMappingURL=chunk-G3SJLT24.js.map
