import{b as g}from"./chunk-NRW4C74H.js";import{f as m,h as n,n as s}from"./chunk-YJSZZTEX.js";n();s();var r={},c=()=>{let e=globalThis.chrome?.storage?.local,o=globalThis.window?.localStorage;return e||o},d=async()=>{if(typeof document>"u")return!1;let e=document.createElement("div");e.style.display="none",document.body.appendChild(e);let o=getComputedStyle(e).getPropertyValue("--arc-palette-title");return document.body.removeChild(e),await c().set({isArcBrowser:!!o}),!!o},l=async()=>(await c().get("isArcBrowser"))?.isArcBrowser,w=async()=>{let e=await navigator.userAgentData?.getHighEntropyValues(["platform","platformVersion","brands"]);if(!e)return;r={...await h(e.brands),platform:e.platform,platformVersion:e.platformVersion}},f=async e=>{if(e.includes("Chrome/"))e.includes("Edg/")?(r.name="Microsoft Edge",r.version=e.split("Edg/")[1].split(" ")[0]):e.includes("OPR/")?(r.name="Opera",r.version=e.split("OPR/")[1].split(" ")[0]):(navigator.brave?.isBrave()?r.name="Brave":r.name="Chrome",r.version=e.split("Chrome/")[1].split(" ")[0]);else if(e.includes("Firefox/"))r.name="Firefox",r.version=e.split("Firefox/")[1].split(" ")[0];else if(e.includes("Safari/")&&!e.includes("Chrome/"))r.name="Safari",e.includes("Version/")?r.version=e.split("Version/")[1].split(" ")[0]:r.version=e.split("Safari/")[1].split(" ")[0];else{let o=/(?:Mozilla|Opera|AppleWebKit)\/[\d.]+\s+\(.*?\)\s+(?!Version)([^/]+)\/([^ ]+)/,t=e.match(o);t&&(r.name=t[1],r.version=t[2])}r.name?.match(/Chrome/)&&(r.name=await l()?"Arc":"Chrome")},p=e=>{let o=[{name:"Windows",pattern:/Windows NT ([0-9._]+)/},{name:"Mac OS",pattern:/Mac OS X ([0-9._]+)/},{name:"iOS",pattern:/(?:iPhone|iPad|iPod).*?OS ([0-9._]+)/},{name:"Linux",pattern:/Linux/},{name:"Chrome OS",pattern:/CrOS/}];for(let t of o){let a=e.match(t.pattern);a&&(r.platform=t.name,r.platformVersion=a[1])}r.platform||(r.platform="Unknown",r.platformVersion="Unknown")},u=async()=>{let e=navigator.userAgent;await f(e),p(e)},h=async e=>{if(!e||!e.length)return;let o;for(let t of e)if(!(t.brand.includes("Not")||t.brand.includes("Chromium"))){o={name:t.brand,version:t.version};break}if(!o?.name){let t=e.find(a=>a.brand==="Chromium");t?o={name:await l()?"Arc":"Chromium",version:t.version}:o={name:e[0].brand,version:e[0].version}}return o},y=async()=>{try{await d()}catch{}await w(),r?.name||await u()},v=()=>r;n();s();n();s();var S=m(g());export{y as a,v as b};
//# sourceMappingURL=chunk-BCKEKIIT.js.map
