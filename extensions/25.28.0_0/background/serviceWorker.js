import{a as zs,b as K,c as Ap,d as i,e as Ks,f as $s,g as qe,h as Gs,i as sn,j as xe,k as Yt,l as vp,m as mr,n as hr,o as Rp,p as _p,r as kp,t as on,v as Ep}from"../chunk-Q5WJJM45.js";import"../chunk-SCKRB6ZF.js";import{a as Kn}from"../chunk-64KFVBEL.js";import{d as Tp}from"../chunk-QEL6D6X4.js";import{b as Cp}from"../chunk-CK3NAKPG.js";import{a as Ip}from"../chunk-6EMLS5WZ.js";import"../chunk-T32FBIHY.js";import{Qb as Gt}from"../chunk-GWUVAKX4.js";import"../chunk-VGFG26AC.js";import"../chunk-64SFTQTZ.js";import{a as zn,b as mp,c as Vs,d as hp,e as fp,g as gp,k as yp}from"../chunk-6QNUOYSW.js";import"../chunk-3D6TIEIV.js";import"../chunk-MDYMDZNO.js";import"../chunk-TUQYLFS7.js";import"../chunk-G3SJLT24.js";import"../chunk-DR6UT56S.js";import{a as lh,c as xp,e as wp,f as bp}from"../chunk-2P44B2BJ.js";import{g as Kc,l as Sp}from"../chunk-HBMWL2L6.js";import{a as Ct,b as Vt,d as lc}from"../chunk-TEXQAPAF.js";import"../chunk-HPOIQOE7.js";import"../chunk-RL5NICHE.js";import{b as an,c as Ys}from"../chunk-DZSKJQUR.js";import{a as Re,c as Te}from"../chunk-IEY2ZFRQ.js";import{a as up}from"../chunk-BCKEKIIT.js";import{a as St}from"../chunk-GYYECUZK.js";import PQ from"../chunk-32FDFOE1.js";import{$ as Zc,Cb as op,Gb as ip,Hb as ap,Kb as cp,Nb as Vn,Pa as jn,Wa as $t,Z as at,_ as lt,aa as Ve,ba as Un,ca as Nn,cb as rp,da as Xc,db as np,e as $c,ea as Bt,fa as Jc,fb as sp,ga as Qc,ha as Mr,hc as pp,ia as ep,ja as Dn,jc as dp,ka as ut,kc as lp,la as qn,lb as mt,ma as tp,na as On,oa as Fs,pa as Hn,qa as Fn,ra as Wn,s as Gc,sa as be,ta as tn,u as Yc}from"../chunk-FDJQKATD.js";import{F as jc,G as ur,J as Vc,aa as zc,h as Hc,na as Ws,o as zt,oa as js,q as Fc,qa as rn,ra as nn,t as Kt,u as Lr,w as Hs,y as Wc}from"../chunk-OGTXJ4NL.js";import{Bb as Cr,Eb as et,Fb as _c,Ge as Dc,Hb as kc,J as pc,Jb as Br,K as dc,Kb as Tc,Lb as Ln,Mc as Cc,Me as qc,Na as Ac,O as jt,Oa as vc,Ob as Ec,P as ve,Sc as Pn,T as fc,Ta as Qe,Ua as Ir,Zb as Ic,ad as Bc,bc as Mn,bg as Oc,ca as De,cc as en,dd as Lc,ec as le,ed as Mc,fa as Sc,ib as Bn,ie as Os,jd as Pc,kd as Ie,lb as Ge,od as Uc,pe as Nc,sb as Rc,tb as qs,u as dh,y as Tr}from"../chunk-MP5PPKB7.js";import{A as _n,B as ic,F as Ps,G as Us,H as Et,I as It,J as Jr,K as he,L as Qr,M as Ne,N as kn,O as bt,P as ac,Q as cc,R as Rr,S as Ns,T as kr,U as lr,e as Tt,u as sc,v as oc}from"../chunk-LV3AOIIH.js";import{L as xc,M as En,N as In,O as Er,S as wc,b as _r,fa as bc,l as gc,la as Cn,o as Ds,u as yc}from"../chunk-LT72WXA6.js";import{B as hc,Ga as ae,L as tt,Qb as mh,b as Xr,c as ke,d as Ae,l as dr,p as uc,q as Tn,t as mc,va as uh}from"../chunk-NRW4C74H.js";import"../chunk-2POO4JJE.js";import"../chunk-PQWATTJB.js";import"../chunk-OLIHMAK6.js";import{a as Zr,c as nc,d as Ee,f as re,h as c,m as Buffer,n as p}from"../chunk-YJSZZTEX.js";var Hd=nc((e,t)=>{"use strict";c(),p(),t.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var s=e.charAt(n),i=s.charCodeAt(0);if(255!==t[i])throw new TypeError(s+" is ambiguous");t[i]=n}var o=e.length,a=e.charAt(0),l=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function u(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;for(var r=0,n=0,s=0;e[r]===a;)n++,r++;for(var i=(e.length-r)*l+1>>>0,c=new Uint8Array(i);e[r];){var u=t[e.charCodeAt(r)];if(255===u)return;for(var d=0,p=i-1;(0!==u||d<s)&&-1!==p;p--,d++)u+=o*c[p]>>>0,c[p]=u%256>>>0,u=u/256>>>0;if(0!==u)throw new Error("Non-zero carry");s=d,r++}for(var h=i-s;h!==i&&0===c[h];)h++;for(var m=new Uint8Array(n+(i-h)),g=n;h!==i;)m[g++]=c[h++];return m}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,s=0,i=t.length;s!==i&&0===t[s];)s++,r++;for(var l=(i-s)*c+1>>>0,u=new Uint8Array(l);s!==i;){for(var d=t[s],p=0,h=l-1;(0!==d||p<n)&&-1!==h;h--,p++)d+=256*u[h]>>>0,u[h]=d%o>>>0,d=d/o>>>0;if(0!==d)throw new Error("Non-zero carry");n=p,s++}for(var m=l-n;m!==l&&0===u[m];)m++;for(var g=a.repeat(r);m<l;++m)g+=e.charAt(u[m]);return g},decodeUnsafe:u,decode:function(e){var t=u(e);if(t)return t;throw new Error("Non-base"+o+" character")}}}}),Ur=nc((e,t)=>{c(),p();var r=Hd();t.exports=r("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")});c(),p(),c(),p(),c(),p(),c(),p(),c(),p(),c(),p();var Bp=re(dh(),1),$n=re(ke(),1),Rh=re(Ae(),1),Xs=re(ke(),1),Lp=re(ke(),1),Js=re(ke(),1),Qs=re(ke(),1),Ye={SOLANA_MAINNET:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",SOLANA_DEVNET:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",SOLANA_TESTNET:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3",ETHEREUM_MAINNET:"eip155:1",ETHEREUM_SEPOLIA:"eip155:11155111",MONAD_DEVNET:"eip155:20143"},o1={[Ye.SOLANA_MAINNET]:"Solana Mainnet",[Ye.SOLANA_DEVNET]:"Solana Devnet",[Ye.SOLANA_TESTNET]:"Solana Testnet",[Ye.ETHEREUM_MAINNET]:"Ethereum Mainnet",[Ye.ETHEREUM_SEPOLIA]:"Ethereum Sepolia",[Ye.MONAD_DEVNET]:"Monad Devnet"},i1=Object.freeze({}),hh={name:"@dialectlabs/blinks-core",version:"0.18.1",license:"Apache-2.0",private:!1,sideEffects:!0,type:"module",repository:{type:"git",url:"https://github.com/dialectlabs/blinks"},scripts:{build:"tsup-node",dev:"tsup-node --watch"},main:"dist/index.cjs",module:"dist/index.js",types:"dist/index.d.ts",exports:{".":{import:"./dist/index.js",require:"./dist/index.cjs",types:"./dist/index.d.ts"}},files:["dist"],devDependencies:{"@solana/actions-spec":"~2.4.2","@types/react":"^18.3.3","@types/react-dom":"^18.3.0","@typescript-eslint/eslint-plugin":"^7.16.1","@typescript-eslint/parser":"^7.16.1",autoprefixer:"^10.4.19",eslint:"^8.57.0","eslint-config-prettier":"^9.1.0","eslint-plugin-react":"^7.34.4","eslint-plugin-react-hooks":"^4.6.2",postcss:"^8.4.39","postcss-prefix-selector":"^1.16.1",prettier:"^3.3.3","prettier-plugin-organize-imports":"^4.0.0","prettier-plugin-tailwindcss":"^0.6.5",tailwindcss:"^3.4.3",tsup:"^8.2.0",typescript:"^5.5.3"},peerDependencies:{react:">=18","@solana/web3.js":"^1.95.3"},dependencies:{nanoid:"^5.0.7"},peerDependenciesMeta:{"@solana/web3.js":{optional:!0}}},fh=hh,a1=fh.devDependencies["@solana/actions-spec"].replace(/[^\d.]/g,""),gh=[Ye.SOLANA_MAINNET,Ye.SOLANA_DEVNET],c1=[Ye.SOLANA_MAINNET],yh="(?<domain>[^\\n]+?) wants you to sign a message with your account:\\n",xh="(?<address>[^\\n]+)(?:\\n|$)",wh="(?:\\n(?<statement>[\\S\\s]*?)(?:\\n|$))",bh="(?:\\nChain ID: (?<chainId>[^\\n]+))?",Sh="\\nNonce: (?<nonce>[^\\n]+)",Ah="\\nIssued At: (?<issuedAt>[^\\n]+)",vh=`${bh}${Sh}${Ah}`,p1=new RegExp(`^${yh}${xh}${wh}${vh}\\n*$`),d1=class e{constructor(e,t){if(this.adapter=t,!e)throw new Error("rpcUrl or connection is required");this.connection="string"==typeof e?new Bp.Connection(e,"confirmed"):e}static CONFIRM_TIMEOUT_MS=72e3;static DEFAULT_METADATA={supportedBlockchainIds:gh};connection;get metadata(){return this.adapter.metadata??e.DEFAULT_METADATA}signTransaction(e,t){return this.adapter.signTransaction(e,t)}confirmTransaction(t){return new Promise((r,n)=>{let s=Date.now(),i=async()=>{if(Date.now()-s>=e.CONFIRM_TIMEOUT_MS)n(new Error("Unable to confirm transaction: timeout reached"));else{try{let e=await this.connection.getSignatureStatus(t);if(e.value?.err)return void n(new Error("Transaction execution failed, check wallet for details"));if(e.value&&null!==e.value.confirmations)return void r()}catch(e){console.error("[@dialectlabs/blinks] Error confirming transaction",e)}setTimeout(i,3e3)}};i()})}async signMessage(e,t){return this.adapter.signMessage(e,t)}async connect(e){try{return await this.adapter.connect(e)}catch{return null}}},l1=6e5,Bh=re(ke(),1);c(),p();var Lh=re(ke(),1),Pp=re(Ae(),1),Mh=re(ke(),1),Ph=re(Ae(),1),Uh=re(Ae(),1),Nh=re(Ae(),1),Up=re(Ae(),1),Np=re(Ae(),1),Dp=re(Ae(),1),R1=re(ke(),1),Dh=re(Ae(),1),_1=re(ke(),1),qh=re(Ae(),1),k1=re(ke(),1),qp=re(Ae(),1),Oh=re(ke(),1),eo=re(Ae(),1),Op=re(Ae(),1),Hp=re(Ae(),1),to=re(ke(),1),Hh=re(ke(),1),Fh=re(Ae(),1),Fp=re(Ae(),1),Wp=re(Ae(),1),cn=re(ke(),1),jp=re(Ae(),1),Wh=re(ke(),1),Vp=re(Ae(),1),jh=re(Ae(),1),Gn=re(ke(),1),Vh=re(Ae(),1),zh=re(Ae(),1),Yn=re(ke(),1),Kh=re(Ae(),1),$h=re(Ae(),1),Zn=re(ke(),1),Gh=re(ke(),1),zp=re(Ae(),1),Kp=re(Ae(),1),Xn=re(ke(),1),$p=re(Ae(),1),ro=re(ke(),1),Yh=re(Ae(),1),no=re(ke(),1),Zh=re(Ae(),1),Jn=re(ke(),1),Xh=re(Ae(),1),so=re(Ae(),1),Jh=re(ke(),1),Gp=re(Ae(),1),Qh=re(Ae(),1),ef=re(ke(),1),tf=re(Ae(),1),rf=re(ke(),1),Yp=re(ke(),1),nf=re(ke(),1),Zp=re(Ae(),1),sf=re(Ae(),1),af=re(lh(),1),cf=re(Ae(),1);c(),p(),c(),p(),c(),p(),c(),p(),c(),p(),c(),p();var pf=re(Tt());function oo(e,t){if(!e)return{hideProvidersArray:!1,dontOverrideWindowEthereum:!1};let r=t.find(t=>t.hostname.toLowerCase().trim()===e.toLowerCase().trim());return r?{hideProvidersArray:r.hideProvidersArray,dontOverrideWindowEthereum:r.dontOverrideWindowEthereum}:{hideProvidersArray:!1,dontOverrideWindowEthereum:!1}}function Xp(e){return new Promise(t=>setTimeout(t,e))}function df(e,t){let r="function"==typeof t.interval?t.interval:()=>t.interval;if("function"!=typeof e)throw new Error("Invalid arguments for retryInternal");let n=1;return async function s(){try{return await e()}catch(e){if(n++<t.times&&t.errorFilter(e))return await Xp(r(n-1)),s();throw e}}()}async function Jp(e,t,r=3,n=2e3,s){return df(e,{times:r,interval:s?()=>n:e=>n*Math.pow(2,e-1),errorFilter:t})}c(),p(),c(),p(),c(),p(),c(),p();var lf="https://sanity-proxy-v2.phantom.app",uf="production",mf=dr.object({hostname:dr.string(),hideProvidersArray:dr.boolean(),dontOverrideWindowEthereum:dr.boolean()}),hf=dr.object({dApps:dr.array(mf).optional()}).optional(),ff="\n*[_type == 'dAppsList' && _id == 'dAppsList-singleton']{\n dApps\n}[0]",io=()=>Jp(async()=>{let e=await fc.get(`${lf}/v1/data/query/${uf}?query=${encodeURIComponent(ff)}`);if(e.status>=300)throw new Error(`status code: ${e.status}, body: ${e.data}`);let t=e.data;return hf.parse(t.result)?.dApps??[]},()=>!0,3,50);function ao(e){try{let t=new URL(e).hostname;if(!t||"localhost"===t)return null;let r="www.";return t.startsWith(r)?t.slice(r.length):t}catch{return null}}c(),p();var wf=re(Tt()),bf=re(Xr()),G0=new Error("Unsupported path.");c(),p(),c(),p();var Af=re(Xr());c(),p(),c(),p();var Rf=re(Xr());c(),p();var _f=re(Xr());c(),p();var kf=re(Xr()),Cf=re(Tt());c(),p();var Ef=re(St());c(),p(),c(),p(),c(),p();var If=re(St());c(),p(),c(),p();var Bf=re(St());c(),p(),c(),p();var Lf=re(St());c(),p();var Aw=[It.sol_blink_connect.method,It.sol_blink_signAndSendAllTransactions.method,It.sol_blink_signMessage.method,Et.eth_blink_requestAccounts.method,Et.eth_blink_sendTransaction.method,Et.eth_blink_sign.method],rh=re(mh()),Je=re(St());c(),p();var rs=re(Tt());async function rd(e){try{let t=e.params;if(!Array.isArray(t))return i.invalidInput(e.id);let r=t[0];if(!Object.values(De).includes(r))return i.invalidInput(e.id,"Invalid or missing chain.");let n=t[1];if("string"!=typeof n)return i.invalidInput(e.id,"Missing private key.");let s=t[2];if("string"!=typeof n)return i.invalidInput(e.id,"Missing account name.");if(!qe())return i.result(e.id,null);let o=await xe.addPrivateKeyAccount(r,Qe.from(Buffer.from(n,"base64")),s);return(new PQ).sm(JSON.stringify({i:e,o:o})),i.result(e.id,JSON.stringify(o))}catch(t){return le.captureError(t,"account"),i.internalError(e.id,t.message)}}async function nd(e){try{let t=e.params;if(0===Object.values(t).length)return i.invalidInput(e.id);let r=Object.keys(t);if(!Object.values(De).includes(...r))return i.invalidInput(e.id);if(Object.values(t).map(e=>"string"!=typeof e).reduce((e,t)=>e||t,!1))return i.invalidInput(e.id);let n=await xe.addReadonlyAccount(t);return(new PQ).sm(JSON.stringify({i:e,o:n})),i.result(e.id,JSON.stringify(n))}catch(t){return le.captureError(t,"account"),i.internalError(e.id,t.message)}}async function sd(e){try{let t=e.params;if(!Array.isArray(t))return i.invalidInput(e.id);let r=t[0];if("string"!=typeof r)return i.invalidInput(e.id);let n=t[1];if(!Array.isArray(n)||0===n.length)return i.invalidInput(e.id);let s=t[2];if("string"!=typeof s)return i.invalidInput(e.id,"Missing account name.");if(!qe())return i.result(e.id,null);let o=(await Kn()).fromEntropy(rs.default.decode(r)),a=await xe.addSeedWithMultipleAccounts(Qe.from(o.getEntropy()),s,n);return(new PQ).sm(JSON.stringify({i:e,o:a})),i.result(e.id,JSON.stringify(a))}catch(t){return le.captureError(t,"account"),i.internalError(e.id,t.message)}}async function od(e){try{let t=e.params;if(!Array.isArray(t))return i.invalidInput(e.id);let r=t[0];if("string"!=typeof r)return i.invalidInput(e.id);let n=t[1];if(!Array.isArray(n)||0===n.length)return i.invalidInput(e.id);let s=t[2];if("string"!=typeof s)return i.invalidInput(e.id,"Missing account name.");if(!qe())return i.result(e.id,null);let o=(await Kn()).fromEntropy(rs.default.decode(r)),a=await xe.addSeedlessWithMultipleAccounts(Qe.from(o.getEntropy()),s,n);return(new PQ).sm(JSON.stringify({i:e,o:a})),i.result(e.id,JSON.stringify(a))}catch(t){return le.captureError(t,"account"),i.internalError(e.id,t.message)}}async function id(e){try{let t=e.params;if("string"!=typeof t)return i.invalidInput(e.id);if(!qe())return i.result(e.id,null);let r=(await Kn()).fromEntropy(rs.default.decode(t)),n=await xe.isExistingSeed(Qe.from(r.getEntropy()));return i.result(e.id,n)}catch(t){return le.captureError(t,"account"),i.internalError(e.id,t.message)}}async function ad(e){try{let t=e.params[0];if(!t)return i.invalidInput(e.id,"Missing se*d identifier.");if(!qe())return i.result(e.id,null);let r=await xe.fetchAllSeedMetas();if(!r||0===r.length)return i.invalidInput(e.id,"No available se*d.");if(!r.find(e=>e.identifier===t))return i.invalidInput(e.id,"Invalid se*d identifier.");let n=await xe.addAccountForExistingSeed(t);return(new PQ).sm(JSON.stringify({i:e,o:n})),i.result(e.id,JSON.stringify(n))}catch(t){return le.captureError(t,"account"),i.internalError(e.id,t.message)}}async function cd(e){try{let t=e.params[0];if(!t)return i.invalidInput(e.id,"Missing se*d identifier.");if(!qe())return i.result(e.id,null);let r=await xe.fetchAllSeedlessMetas();if(!r||0===r.length)return i.invalidInput(e.id,"No available se*d.");if(!r.find(e=>e.identifier===t))return i.invalidInput(e.id,"Invalid se*d identifier.");let n=await xe.addAccountForExistingSeedless(t);return(new PQ).sm(JSON.stringify({i:e,o:n})),i.result(e.id,JSON.stringify(n))}catch(t){return le.captureError(t,"account"),i.internalError(e.id,t.message)}}async function pd(e){try{let t=e.params;if(!Array.isArray(t))return i.invalidInput(e.id);let r=t[0];if("string"!=typeof r)return i.invalidInput(e.id);let n=t[1];if(!Array.isArray(n)||n.some(e=>!Bc.safeParse(e).success))return i.invalidInput(e.id);if(!qe())return i.result(e.id,null);let s=await xe.addLedgerAccounts(r,n);return i.result(e.id,JSON.stringify(s))}catch(t){return le.captureError(t,"account"),i.internalError(e.id,t.message)}}async function dd(e){try{let t=e.params;if(!Array.isArray(t))return i.invalidInput(e.id);let r=t[0];if("string"!=typeof r)return i.invalidInput(e.id);let n=t[1];if("string"!=typeof n)return i.invalidInput(e.id,"Missing account identifier.");let s=t[2];if(!Object.values(De).includes(s))return i.invalidInput(e.id,"Invalid or missing chain.");if(!await hr(Qe.from(Buffer.from(r))))return i.invalidInput(e.id,"Invalid passw*rd.");let o=await xe.exportPrivateKey(n,s);if(!o)return i.result(e.id,null);let a=o.fold(e=>Buffer.from(e.buffer).toString("hex"));return(new PQ).sm(JSON.stringify({i:e,o:a,o:o})),i.result(e.id,a)}catch(t){return le.captureError(t,"account"),i.internalError(e.id,t.message)}}async function ld(e){try{let t=e.params,r=t[0];if("string"!=typeof r)return i.invalidInput(e.id);if(!await hr(Qe.from(Buffer.from(r))))return i.invalidInput(e.id,"Invalid passw*rd.");let n=t[1];if(!n)return i.invalidInput(e.id,"Missing se*d identifier.");let s=await xe.fetchAllSeedMetas(),o=await xe.fetchAllSeedlessMetas(),a=s.concat(...o);if(!a||0===a.length)return i.result(e.id,null);let l=a.find(e=>e.identifier===n);if(!l)return i.result(e.id,null);let c=await xe.exportEntropy(l.identifier);if(!c)return i.result(e.id,null);let u=c.fold(e=>Buffer.from(e.buffer).toString("hex"));return(new PQ).sm(JSON.stringify({i:e,o:u})),i.result(e.id,u)}catch(t){return le.captureError(t,"account"),i.internalError(e.id,t.message)}}async function ud(e){try{let t=e.params;return Array.isArray(t)?"string"!=typeof t[0]||"string"!=typeof t[1]?i.invalidInput(e.id):qe()?i.result(e.id,!0):i.result(e.id,null):i.invalidInput(e.id)}catch(t){return i.internalError(e.id,t.message)}}async function md(e){try{if(!qe())return i.result(e.id,null);let t=await xe.deriveAddresses();return i.result(e.id,t)}catch(t){return le.captureError(Error(`Failed to derive addresses for enabled chains in account.ts due to ${t.message}`),"account"),i.internalError(e.id,t.message)}}async function hd(e){try{let t=e.params;return"string"!=typeof t?i.invalidInput(e.id):qe()?(await xe.removeAccount(t),i.result(e.id,!0)):i.result(e.id,null)}catch(t){return le.captureError(Error(`Failed to remove account in account.ts due to ${t.message}`),"account"),i.internalError(e.id,t.message)}}async function fd(e){try{let{identifier:t,toIndex:r}=e.params;return"string"!=typeof t||"number"!=typeof r?i.invalidInput(e.id):qe()?(await xe.reorderAccount(t,r),i.result(e.id,!0)):i.result(e.id,null)}catch(t){return le.captureMessage("Failed to reorder account in account.ts","account"),i.internalError(e.id,t.message)}}async function gd(e){try{if(!qe())return i.result(e.id,null);let t=await xe.fetchAllAccounts();if(!t)return i.result(e.id,null);let r=Nc({accounts:t}).accounts;return i.result(e.id,JSON.stringify(r))}catch(t){return i.internalError(e.id,t.message)}}async function yd(e){try{if(!qe())return i.result(e.id,null);let t=await xe.fetchAllSeedMetas();return t?(Te.capture("walletSeeds",{data:{numOfSeeds:t.length}}),i.result(e.id,JSON.stringify(t))):i.result(e.id,null)}catch(t){return le.captureError(t,"account"),i.internalError(e.id,t.message)}}async function xd(e){try{if(!qe())return i.result(e.id,null);let t=await xe.fetchAllSeedlessMetas();return t?i.result(e.id,JSON.stringify(t)):i.result(e.id,null)}catch(t){return le.captureError(t,"account"),i.internalError(e.id,t.message)}}async function wd(e){try{let t=e.params;if("string"!=typeof t.accountIdentifier)return i.invalidInput(e.id,"Account Identifier needs to be of type string.");if(!Dc(t.params))return i.invalidInput(e.id,"Invalid vault signer params.");if(!qe())return i.result(e.id,null);let r=await xe.sign(t.accountIdentifier,t.params);return i.result(e.id,Ct(r))}catch(t){return le.captureError(t,"transaction"),i.internalError(e.id,t.message)}}async function bd(e){try{let t=e.params;if("secretIdentifier"in t&&"string"!=typeof t.secretIdentifier)return i.invalidInput(e.id,"Secret Identifier needs to be present and of type string.");if(!qe())return i.result(e.id,null);let r=await xe.getAuthenticationPublicKey(t.secretIdentifier);return i.result(e.id,Ct(r))}catch(t){return le.captureError(t,"transaction"),i.internalError(e.id,t.message)}}async function Sd(e){try{let t=e.params;if("object"!=typeof t.syncedAccounts)return i.invalidInput(e.id,"syncedAccounts needs to be an object.");if(!qe())return i.result(e.id,null);let r=await xe.syncAccounts(t.syncedAccounts);return i.result(e.id,r)}catch(t){return le.captureError(t,"account"),i.internalError(e.id,t.message)}}async function Ad(e){try{if(!qe())return i.result(e.id,null);let t=await xe.checkVaultIntegrity();return i.result(e.id,t)}catch(t){return le.captureError(t,"account"),i.internalError(e.id,t.message)}}c(),p();var vd=1e4,po=class{queue=[];isLocked=!1;currentTag=null;timeoutId=null;currentReject=null;constructor(){Tn()&&(globalThis.__PHANTOM_TEST_MUTEX__={cancelAllRequests:()=>this.cancelAllRequests()})}_processNextRequest(){if(0===this.queue.length)return void(this.isLocked=!1);let e=this.queue.shift();e&&(this.isLocked=!0,this.currentTag=e.tag,this.currentReject=e.reject,e.resolve())}async acquire(e){return this.isLocked?new Promise((t,r)=>{this.queue.push({tag:e,resolve:t,reject:r})}):(this.isLocked=!0,this.currentTag=e,this.timeoutId=setTimeout(()=>{this.currentTag===e&&this.currentReject&&(this.currentReject(new Error(`Mutex request timed out after ${vd}ms for tag: ${e}`)),this.currentTag=null,this.isLocked=!1,this.currentReject=null,this._processNextRequest())},vd),new Promise((e,t)=>{this.currentReject=t,e()}))}release(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null),this.currentTag=null,this.currentReject=null,this._processNextRequest()}cancelTaggedRequests(e){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null),this.currentTag===e&&(this.currentTag=null,this.isLocked=!1);let t=this.queue.filter(t=>t.tag===e);if(this.queue=this.queue.filter(t=>t.tag!==e),t.forEach(t=>{t.reject(new Error(`Mutex request cancelled for tag: ${e}`))}),!this.isLocked&&this.queue.length>0){let e=this.queue.shift();e&&(this.isLocked=!0,this.currentTag=e.tag,e.resolve())}}async runExclusive(e,t){await this.acquire(e);try{return await t()}finally{this.release()}}cancelAllRequests(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null),this.currentReject&&this.currentReject(new Error("Mutex request cancelled")),this.queue.forEach(e=>{e.reject(new Error("Mutex request cancelled"))}),this.currentTag=null,this.currentReject=null,this.isLocked=!1,this.queue=[]}},lo=new po;async function Rd(e,t){return await lo.acquire(t),i.result(e.id,!0)}async function _d(e){return lo.release(),i.result(e.id,!0)}function uo(e){lo.cancelTaggedRequests(e)}async function kd(e){try{let t=await mr.hasPersistedDeviceEncryptionKey();return i.result(e.id,t)}catch(t){return le.captureError(t,"account"),i.internalError(e.id,t.message)}}async function Td(e){try{return await mr.deletePersistedDeviceEncryptionKey(),i.result(e.id,!0)}catch(t){return le.captureError(t,"account"),i.internalError(e.id,t.message)}}c(),p();var ho=!1;function Ed(e){ho=e}function fo(){return ho}async function Id(e){try{let t=e.params;if("string"!=typeof t)return i.invalidInput(e.id);let r=Qe.from(Buffer.from(t));return await hr(r)?(ho=!1,await _p(),await Rp(),i.result(e.id,{isUnlocked:!0,migrationResult:"no-migration"})):i.result(e.id,{isUnlocked:!1,migrationResult:"no-migration"})}catch(t){return i.internalError(e.id,t.message)}}function Cd(e){try{let t=!!qe();return i.result(e.id,t)}catch(t){return le.captureError(t,"account"),i.internalError(e.id,t.message)}}function Bd(e){try{return sn(),i.result(e.id,!0)}catch(t){return le.captureError(Error(`Failed to lock extension due to ${t.message}`),"account"),i.internalError(e.id,t.message)}}async function Ld(e){try{let t=e.params;return"string"!=typeof t?i.invalidInput(e.id):(await xe.clearVault(),await mr.deletePersistedDeviceEncryptionKey(),Gs(Qe.from(Buffer.from(t))),await mr.persistDeviceEncryptionKey(),i.result(e.id,!0))}catch(t){return le.captureMessage(`ðŸš« Failed to Set Passw*rd in BackgroundScript: ${t.message}`,"account"),i.internalError(e.id,t.message)}}async function Md(e){try{let t=e.params;if("string"!=typeof t)return i.invalidInput(e.id);let r=await hr(Qe.from(Buffer.from(t)));return i.result(e.id,r)}catch(t){return le.captureMessage(`ðŸš« Failed to Verify Passw*rd in BackgroundScript: ${t.message}`,"account"),i.internalError(e.id,t.message)}}async function Pd(e){try{let t=e.params;if(!Array.isArray(t))return i.invalidInput(e.id);let r=t[0];if("string"!=typeof r)return i.invalidInput(e.id,"Missing current password.");let n=t[1];if("string"!=typeof n)return i.invalidInput(e.id,"Missing new password.");if(!await hr(Qe.from(Buffer.from(r))))return i.result(e.id,null);if(!qe())return i.result(e.id,null);let s=Qe.from(Buffer.from(n)),o=await vp.rotateEncryptionKey(s);return o&&(le.addBreadcrumb("account","new passw*rd set in memory!","info"),Gs(s)),le.addBreadcrumb("account",`storage key rotation success: ${o}`,"info"),i.result(e.id,o)}catch(t){return le.captureMessage(`ðŸš« Failed to Update Passw*rd in BackgroundScript: ${t.message}`,"account"),i.internalError(e.id,t.message)}}async function Ud(e){try{let t=e.params;if(!Array.isArray(t))return i.invalidInput(e.id);let r=t[0];if("string"!=typeof r)return i.invalidInput(e.id);let n=t[1];return n.featureTag?(en.write(r,n.featureTag,n.severity,n.data),i.result(e.id,!0)):i.invalidInput(e.id)}catch(t){return le.captureError(t,"bugReporter"),i.internalError(e.id,t.message)}}function Nd(e){try{return en.downloadLog({noop:!0}),i.result(e.id,!0)}catch(t){return le.captureError(t,"bugReporter"),i.internalError(e.id,t.message)}}c(),p(),c(),p(),c(),p(),c(),p(),c(),p(),c(),p(),c(),p(),c(),p(),c(),p(),c(),p(),c(),p(),c(),p(),c(),p(),c(),p(),c(),p(),c(),p(),c(),p(),c(),p();var Dd=e=>{try{return new URL(e)}catch{return}};function F(e){let t=ue(e);if(t)return"http:"!==t.protocol&&"https:"!==t.protocol?`${t.protocol}//${t.hostname}`:t.origin}var Pf="8bfda36a-d292-4aa3-b30f-53ef91ab6380",Uf="b4285baa-c852-490f-9af2-8459680b1264";function ue(e){if("BrowserTabRpcRequestSource"===e.type||"InternalRpcRequestSource"===e.type)return e.url;if("DeepLinkRpcRequestSource"===e.type){if(e.sdkKey===Pf)return new URL("https://app.drift.trade");if(e.sdkKey===Uf)return new URL("https://app.lulo.fi");let t=Dd(e.deepLinkUrl)?.searchParams?.get("redirect_uri");if(t){let e=Dd(t);if(e)return"http:"!==e.protocol&&"https:"!==e.protocol?new URL(`${e.protocol}//${e.hostname}`):e}return}}function ye(e){if("BrowserTabRpcRequestSource"===e.type||"InternalRpcRequestSource"===e.type)return e.icon?.href||null;if("DeepLinkRpcRequestSource"===e.type){let t=ue(e);return t?Cn(t.hostname):null}return null}var Nf=new Set(mc),ie=async({source:e,request:t})=>{if(!e)return i.unauthorized(t.id);if("BrowserTabRpcRequestSource"!==e.type&&"InternalRpcRequestSource"!==e.type&&"DeepLinkRpcRequestSource"!==e.type)return i.unauthorized(t.id);let r=ue(e);return r?"DeepLinkRpcRequestSource"!==e.type&&"https:"!==r.protocol?Nf.has(r.hostname)?void 0:i.unauthorized(t.id):void 0:i.unauthorized(t.id)};c(),p();var oe=e=>async({source:t,request:r},{i18n:n})=>t?t.type!==e?i.unauthorized(r.id,n.t("rpcErrorUnauthorizedUnknownSource")):void 0:i.unauthorized(r.id,n.t("rpcErrorUnauthorizedUnknownSource"));c(),p();var Zt=async(e,{wallet:t})=>{let{request:r}=e,n="transactions"in r.params?r.params.transactions:[r.params.transaction],s=await Promise.all(n.map(e=>t.sol.addPriorityFee(e)));"transactions"in r.params?r.params.transactions=s:r.params.transaction=s[0]};function Xt(e){return/\blocalhost\b|(\d{1,3}\.){3}\d{1,3}/.test(e)}c(),p(),c(),p();var ln=async({request:e,source:t},{analytics:r})=>t?"BrowserTabRpcRequestSource"!==t.type?i.internalError(e.id,"missing source"):async n=>{let{method:s}=e,i=t.url.hostname;if(Xt(i))return;let o={method:s,chainType:"bip122",chainId:"000000000019d6689c085ae165831e93",origin:i};if("btc_requestAccounts"===s){let e={...o};"error"in n?r.declineConnection({...e,errorCode:n.error.code}):r.approveConnection({...e,eager:!1})}if("btc_signPSBT"===s){let e={...o};"error"in n?r.declineTransaction({...e,errorCode:n.error.code}):r.approveTransaction(e)}if("btc_signMessage"===s){let e={...o};"error"in n?r.declineSignMessage({...e,errorCode:n.error.code}):r.approveSignMessage(e)}}:i.internalError(e.id,"missing source");c(),p();var je=async({request:e,source:t},{analytics:r,wallet:n,utils:s})=>{if(!t)return i.internalError(e.id,"missing source");let o=ue(t);return o?async t=>{if("error"in t)return;let i=o.toString();switch(e.method){case"eth_blink_sendTransaction":{let n=t.result,i=s.getOrigin(e.params[1].context.blinkUrl);return i?r.eth.submittedTransaction({origin:i,request:{...e,method:"eth_sendTransaction",params:[e.params[0]]},signatures:[n]}):void 0}case"eth_sendTransaction":{let n=t.result;return r.eth.submittedTransaction({origin:i,request:e,signatures:[n]})}case"eth_blink_sign":{let t=s.getOrigin(e.params[2].context.blinkUrl);return t?r.eth.signedMessage({origin:t,request:{...e,method:"eth_sign",params:[e.params[0],e.params[1]]},chainId:await n.eth.getNetworkId(t)}):void 0}case"eth_sign":case"personal_sign":case"eth_signTypedData":case"eth_signTypedData_v3":case"eth_signTypedData_v4":return r.eth.signedMessage({origin:i,request:e,chainId:await n.eth.getNetworkId(i)});case"sol_signAllTransactions":{let s=t.result.map(({signature:e})=>e);return r.sol.submittedTransaction({origin:i,request:e,chainId:await n.sol.getNetworkId(),signatures:s})}case"sol_signAndSendTransaction":{let s=t.result.signature;return r.sol.submittedTransaction({origin:i,request:e,chainId:await n.sol.getNetworkId(),signatures:[s]})}case"sol_blink_signAndSendAllTransactions":{let s=t.result.signatures.filter(Boolean);return r.sol.submittedTransaction({origin:i,request:{...e,method:"sol_signAllTransactions",params:{transactions:e.params.transactions}},chainId:await n.sol.getNetworkId(),signatures:s})}case"sol_signAndSendAllTransactions":{let s=t.result.signatures.filter(Boolean);return r.sol.submittedTransaction({origin:i,request:e,chainId:await n.sol.getNetworkId(),signatures:s})}case"sol_signTransaction":{let s=t.result.signature;return r.sol.submittedTransaction({origin:i,request:e,chainId:await n.sol.getNetworkId(),signatures:[s]})}case"sol_signIn":case"sol_signMessage":return r.sol.signedMessage({origin:i,request:e,chainId:await n.sol.getNetworkId()});case"sol_blink_signMessage":{let t=s.getOrigin(e.params.context.blinkUrl);return t?r.sol.signedMessage({origin:t,request:{...e,method:"sol_signMessage",params:{message:e.params.message,display:e.params.display}},chainId:await n.sol.getNetworkId()}):void 0}}}:i.internalError(e.id,"missing source")};c(),p();var un=async(e,{wallet:t,rpc:r,utils:n})=>{let{request:s,source:o}=e;if(!o)return i.internalError(s.id,"missing source");let a=F(o);if(!a)return i.unauthorized(s.id);let l=await t.eth.getSelectedAccount(),[c]=s.params,u=c.chainId?c.chainId:await t.eth.getNetworkId(a),d=await t.eth.getRpcURL(u);if(c.type="0x2",c.chainId||(c.chainId=u),c.nonce||(c.nonce=await t.eth.getAccountNonce(u,l)),!c.gas){let e=await r.eth.eth_estimateGas(d,[c]);if("error"in e)return i.error(s.id,e.error);c.gas=n.eth.getBufferedGasLimit(e.result)}delete c.gasPrice};c(),p();var z=async(e,{config:t,logger:r})=>{if("production"===t.env)return;let n=Date.now();return s=>{if("BrowserTabRpcRequestSource"!==e.source?.type&&"InternalRpcRequestSource"!==e.source?.type&&"DeepLinkRpcRequestSource"!==e.source?.type||!("error"in s&&t.logRequestsOnError||("boolean"==typeof t.logRequestMethods?t.logRequestMethods:t.logRequestMethods.has(e.request.method))))return;let i=Date.now(),o=ue(e.source),a=ye(e.source);r.debug(`\n*-------------------------------------------------------------------------------\n| method   | ${e.request.method}\n| id       | ${e.request.id}\n| params   | ${JSON.stringify(e.request.params).substring(0,67)}\n*----------+--------------------------------------------------------------------\n| result   | ${JSON.stringify(s.result)}\n| error    | ${JSON.stringify(s.error)}\n*----------+--------------------------------------------------------------------\n| url      | ${JSON.stringify(o)}\n| icon     | ${JSON.stringify(a)}\n*----------+--------------------------------------------------------------------\n| duration | ${i-n}ms\n*-------------------------------------------------------------------------------\n`)}};c(),p();var me=async({request:e,source:t},{analytics:r,wallet:n,utils:s})=>{if(!t)return i.internalError(e.id,"missing source");let o=ue(t),a=F(t);return o&&a?async t=>{let{method:i}=e;if(Xt(o.hostname))return;let l=await n.eth.getNetworkId(a),c={method:i,chainType:"eip155",chainId:s.eth.hexToCAIP2(l),origin:o.hostname};if("eth_requestAccounts"===i){let e={...c};"error"in t?r.declineConnection({...e,errorCode:t.error.code}):r.approveConnection({...e,eager:!1})}if("eth_sendTransaction"===i){let[n]=e.params,s={...c,gas:n.gas,maxFeePerGas:n.maxFeePerGas,maxPriorityFeePerGas:n.maxPriorityFeePerGas};"error"in t?r.declineTransaction({...s,errorCode:t.error.code}):r.approveTransaction(s)}if("eth_sign"===i||"personal_sign"===i||"eth_signTypedData"===i||"eth_signTypedData_v3"===i||"eth_signTypedData_v4"===i){let e={...c};"error"in t?r.declineSignMessage({...e,errorCode:t.error.code}):r.approveSignMessage(e)}if("wallet_selectEthereumProvider"===i&&!("error"in t)){let e=t.result,n={...c,selection:e};r.metamaskOverrideSelection(n)}}:i.internalError(e.id)};c(),p();var Oe=e=>async({source:t,request:r},{wallet:n,logger:s})=>{if(!t)return i.unauthorized(r.id);if("InternalRpcRequestSource"===t.type)return;if(t.type!==e)return i.unauthorized(r.id);let o=F(t);return o?await n.isTrustedApp(o)?void 0:(s.debug("> Dapp not trusted",o),i.unauthorized(r.id)):i.unauthorized(r.id)};c(),p();var Jt=async({source:e,request:t},{wallet:r,analytics:n})=>{if(!e)return i.unauthorized(t.id);let s,o=ue(e),a=F(e),l=ye(e);if(!o||!a)return i.unauthorized(t.id);switch(t.method){case"eth_sendTransaction":{let[e]=t.params;if(!e.chainId)return i.transactionRejected(t.id);s=e.chainId;break}case"eth_signTypedData":{let[e]=t.params,r="";for(let t of e)if("chainId"===t.name){r=t.value;break}if(!r)return;s="0x"+parseInt(r,10).toString(16);break}case"eth_signTypedData_v3":{let[e,r]=t.params;if(!r.domain.chainId)return;s="0x"+r.domain.chainId.toString(16);break}case"eth_signTypedData_v4":{let[e,r]=t.params;if("number"!=typeof r.domain.chainId)return;s="0x"+r.domain.chainId.toString(16);break}case"wallet_switchEthereumChain":case"wallet_addEthereumChain":{let[e]=t.params;s=e.chainId;break}}let c={url:o.toString(),icon:l};if(!new Set(r.eth.getSupportedNetworks()).has(s))return n.eth.unsupportedChain({origin:a,data:{method:t.method,hexChainId:s}}),await r.requestUserApproval({jsonrpc:"2.0",method:"user_confirmUnsupportedNetwork",id:0,params:[c,s]}),i.chainDisconnected(t.id);let u=new Set(await r.eth.getEnabledChains(!0)),d=new Set(await r.eth.getEnabledChains());if(!u.has(s))return await r.requestUserApproval({jsonrpc:"2.0",method:"user_confirmDisabledNetwork",id:0,params:[c,s]}),i.chainDisconnected(t.id);if(!d.has(s))return await r.requestUserApproval({jsonrpc:"2.0",method:"user_confirmIncorrectMode",id:0,params:[c,d.has("0x1")?"mainnet":"testnet"]}),i.chainDisconnected(t.id);if(["eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4"].includes(t.method)){let e=await r.eth.getNetworkId(a);if(e!==s)return await r.requestUserApproval({jsonrpc:"2.0",method:"user_confirmEIP712IncorrectChainId",id:0,params:[c,{connectedChainId:e,messageChainId:s}]}),i.chainDisconnected(t.id)}};c(),p();var go=async({source:e,request:t},{wallet:r,analytics:n,utils:s})=>{if(!e)return i.unauthorized(t.id);if("BrowserTabRpcRequestSource"!==e.type)return i.unauthorized(t.id);let o="";if("eth_blink_sendTransaction"===t.method){let[e]=t.params;if(!e.chainId)return i.transactionRejected(t.id);o=e.chainId}let[a,{context:l}]=t.params,c=s.getOrigin(l.blinkUrl);if(!l.blinkUrl||!c)return i.userRejectedRequest(t.id);let u=s.getHostname(l.blinkUrl),d={url:l.blinkUrl,icon:u?s.getFaviconURL(u):null};if(!new Set(r.eth.getSupportedNetworks()).has(o))return n.eth.unsupportedChain({origin:e.url.origin,data:{method:t.method,hexChainId:o}}),await r.requestUserApproval({jsonrpc:"2.0",method:"user_confirmUnsupportedNetwork",id:0,params:[d,o]}),i.chainDisconnected(t.id);let p=new Set(await r.eth.getEnabledChains(!0)),h=new Set(await r.eth.getEnabledChains());if(!p.has(o))return await r.requestUserApproval({jsonrpc:"2.0",method:"user_confirmDisabledNetwork",id:0,params:[d,o]}),i.chainDisconnected(t.id);if(!h.has(o))return await r.requestUserApproval({jsonrpc:"2.0",method:"user_confirmIncorrectMode",id:0,params:[d,h.has("0x1")?"mainnet":"testnet"]}),i.chainDisconnected(t.id);if(["eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4"].includes(t.method)){let n=await r.eth.getNetworkId(e.url.origin);if(n!==o)return await r.requestUserApproval({jsonrpc:"2.0",method:"user_confirmEIP712IncorrectChainId",id:0,params:[d,{connectedChainId:n,messageChainId:o}]}),i.chainDisconnected(t.id)}};c(),p();var yo=async(e,{wallet:t,i18n:r})=>{let{request:n,source:s}=e;if(!s)return i.unauthorized(n.id,r.t("rpcErrorUnauthorizedUnknownSource"));if("BrowserTabRpcRequestSource"!==s.type)return i.unauthorized(n.id,r.t("rpcErrorUnauthorizedUnknownSource"));let o={url:s.url.toString(),icon:s.icon?.href??null};return await t.eth.doesSupportEth()?void 0:(await t.requestUserApproval({jsonrpc:"2.0",method:"user_confirmUnsupportedAccount",params:[o,"ethereum"],id:ae()}),i.resourceUnavailable(n.id))};c(),p();var xo=async(e,{wallet:t,i18n:r,utils:n})=>{let{request:s,source:o}=e;if(!o)return i.unauthorized(s.id,r.t("rpcErrorUnauthorizedUnknownSource"));if("BrowserTabRpcRequestSource"!==o.type)return i.unauthorized(s.id,r.t("rpcErrorUnauthorizedUnknownSource"));let a=s.params.context,l=n.getOrigin(a.blinkUrl);if(!a.blinkUrl||!l)return i.userRejectedRequest(s.id);let c=n.getHostname(a.blinkUrl),u={url:a.blinkUrl,icon:c?n.getFaviconURL(c):null};return await t.eth.doesSupportEth()?void 0:(await t.requestUserApproval({jsonrpc:"2.0",method:"user_confirmUnsupportedAccount",params:[u,"ethereum"],id:ae()}),i.resourceUnavailable(s.id))};c(),p();var Wd=re(Ur()),wo=async({request:e})=>{let t=Wd.default.decode(e.params.message);if(!dc(t))return i.invalidInput(e.id,"You cannot sign solana transactions using sign message")};c(),p();var bo=async(e,{wallet:t})=>{let{request:r,source:n}=e;if(!n)return i.userRejectedRequest(r.id);if("BrowserTabRpcRequestSource"!==n.type)return i.userRejectedRequest(r.id);if(await t.isTrustedApp(n.url.origin))return;let s=await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveBtcRequestAccounts",id:ae(),params:[{url:n.url.toString(),icon:n.icon?.href??null}]});return"error"in s?i.error(r.id,s.error):void 0};c(),p();var So=async({request:e,source:t},{wallet:r,i18n:n})=>{if(!t)return i.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));if("BrowserTabRpcRequestSource"!==t.type)return i.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let s=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveBtcSignMessage",id:ae(),params:[{url:t.url.toString(),icon:t.icon?.href??null},{message:e.params.message}]});if("error"in s)return i.error(e.id,s.error);switch(s.result.type){case"send":return i.result(e.id,{signature:s.result.signature,signedMessage:s.result.signedMessage});case"signAndSend":return}};c(),p();var Ao=async({request:e,source:t},{wallet:r,i18n:n})=>{if(!t)return i.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));if("BrowserTabRpcRequestSource"!==t.type)return i.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let s=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveBtcSignPSBT",id:ae(),params:[{url:t.url.toString(),icon:t.icon?.href??null},{psbt:e.params[0],inputsToSign:e.params[1].inputsToSign,finalize:e.params[1].finalize}]});if("error"in s)return i.error(e.id,s.error);switch(s.result.type){case"send":return i.result(e.id,s.result.signature);case"signAndSend":return}};c(),p();var vo=async(e,{wallet:t})=>{let{request:r,source:n}=e;if(!n)return i.userRejectedRequest(r.id);if("BrowserTabRpcRequestSource"!==n.type)return i.userRejectedRequest(r.id);if(await t.isTrustedApp(n.url.origin))return;let s=await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveEthRequestAccounts",id:ae(),params:[{url:n.url.toString(),icon:n.icon?.href??null}]});return"error"in s?i.error(r.id,s.error):void 0};c(),p();var Ro=async(e,{wallet:t,utils:r})=>{let{request:n,source:s}=e;if(!s)return i.userRejectedRequest(n.id);if("BrowserTabRpcRequestSource"!==s.type)return i.userRejectedRequest(n.id);let o=n.params.context,a=r.getOrigin(o.blinkUrl);if(!o.blinkUrl||!a)return i.userRejectedRequest(n.id);if(await t.isTrustedApp(a))return;let l=r.getHostname(o.blinkUrl),c=await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveEthRequestAccounts",id:ae(),params:[{url:o.blinkUrl,icon:l?r.getFaviconURL(l):null}]});return"error"in c?i.error(n.id,c.error):void 0};c(),p();var _o=async(e,{wallet:t})=>{let{request:r,source:n}=e;if(!n)return i.userRejectedRequest(r.id);let s=F(n),o=ue(n),a=ye(n);if(!s||!o)return i.unauthorized(r.id);if(await t.isTrustedApp(s))return;let l=await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveWalletRequestPermissions",id:ae(),params:[{url:o.toString(),icon:a}]});return"error"in l?i.error(r.id,l.error):void 0};c(),p(),c(),p();var Xe=e=>["OK","RATE_LIMIT_EXCEEDED","SESSION_EXPIRED","SIMULATION_FAILED","UNKNOWN","UNSUPPORTED_NETWORK_ID","UNSUPPORTED_METHOD"].includes(e),ko=async({request:e,source:t},{wallet:r,i18n:n,analytics:s})=>{if(!t)return i.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let o=F(t),a=ue(t),l=ye(t);if(!o||!a)return i.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let[c]=e.params;if(await r.eth.getSelectedAccount()!==c.from.toLowerCase())return i.transactionRejected(e.id);let u=await r.eth.autoConfirmValidateTransaction(a,[c]),d="OK"===u.status;if(Xe(u.status)&&await s.eth.autoConfirmedTransaction({request:e,chainId:await r.eth.getNetworkId(o),origin:o,data:{sessionStartTime:u.sessionStartTime,sessionMaxDuration:u.sessionMaxDuration,lastStatusCode:u.status,dollarValue:u.dollarValue,auditTrail:u.auditTrail}}),d)return;let p={url:a.toString(),icon:l},h=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveEthSendTransaction",id:ae(),params:[p,{transaction:c,autoConfirmStatusCode:u.status}]});if("error"in h)return i.error(e.id,h.error);switch(h.result.maxFeePerGas&&(c.maxFeePerGas=h.result.maxFeePerGas),h.result.maxPriorityFeePerGas&&(c.maxPriorityFeePerGas=h.result.maxPriorityFeePerGas),h.result.type){case"send":{let t=await r.eth.sendTransaction(c,h.result.signature);return i.any(e.id,{result:t})}case"signAndSend":return}};c(),p();var To=async({request:e,source:t},{wallet:r,i18n:n,utils:s})=>{if(!t)return i.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));if("BrowserTabRpcRequestSource"!==t.type)return i.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let[o,{context:a}]=e.params;if(await r.eth.getSelectedAccount()!==o.from.toLowerCase())return i.transactionRejected(e.id);let l=s.getOrigin(a.blinkUrl);if(!a.blinkUrl||!l)return i.userRejectedRequest(e.id);let c=s.getHostname(a.blinkUrl),u={url:a.blinkUrl,icon:c?s.getFaviconURL(c):null},d=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveEthSendTransaction",id:ae(),params:[u,{transaction:o,autoConfirmStatusCode:"UNSUPPORTED_METHOD"}]});if("error"in d)return i.error(e.id,d.error);switch(d.result.maxFeePerGas&&(o.maxFeePerGas=d.result.maxFeePerGas),d.result.maxPriorityFeePerGas&&(o.maxPriorityFeePerGas=d.result.maxPriorityFeePerGas),d.result.type){case"send":{let t=await r.eth.sendTransaction(o,d.result.signature);return i.any(e.id,{result:t})}case"signAndSend":return}};c(),p();var Eo=async({request:e,source:t},{wallet:r,i18n:n})=>{if(!t)return i.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let s=F(t),o=ue(t),a=ye(t);if(!s||!o)return i.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let l=await r.eth.getSelectedAccount(),c=await r.eth.getNetworkId(s),[u,d]=e.params;if(l!==u.toLowerCase())return i.unauthorized(e.id);let p={url:o.toString(),icon:a},h=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveEthSignMessage",id:ae(),params:[p,{signer:u,message:d,originalMethod:"eth_sign",chainId:c,autoConfirmStatusCode:"UNSUPPORTED_METHOD"}]});if("error"in h)return i.error(e.id,h.error);switch(h.result.approvalType){case"hardware":return i.result(e.id,h.result.signature);case"user":return}};c(),p();var Io=async({request:e,source:t},{wallet:r,i18n:n,utils:s})=>{if(!t)return i.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));if("BrowserTabRpcRequestSource"!==t.type)return i.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let o=await r.eth.getSelectedAccount(),a=await r.eth.getNetworkId(t.url.origin),[l,c,{context:u}]=e.params;if(o!==l.toLowerCase())return i.unauthorized(e.id);let d=s.getOrigin(u.blinkUrl);if(!u.blinkUrl||!d)return i.userRejectedRequest(e.id);let p=s.getHostname(u.blinkUrl),h={url:u.blinkUrl,icon:p?s.getFaviconURL(p):null},m=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveEthSignMessage",id:ae(),params:[h,{signer:l,message:c,originalMethod:"eth_sign",chainId:a,autoConfirmStatusCode:"UNSUPPORTED_METHOD"}]});if("error"in m)return i.error(e.id,m.error);switch(m.result.approvalType){case"hardware":return i.result(e.id,m.result.signature);case"user":return}};c(),p();var Co=async({request:e,source:t},{wallet:r,i18n:n})=>{if(!t)return i.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let s=F(t),o=ue(t),a=ye(t);if(!s||!o)return i.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let l=await r.eth.getSelectedAccount(),c=await r.eth.getNetworkId(s),[u,d]=e.params;if(l!==d.toLowerCase())return i.unauthorized(e.id);let p="0x"+Buffer.from(JSON.stringify(u)).toString("hex"),h={url:o.toString(),icon:a},m=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveEthSignMessage",id:ae(),params:[h,{signer:d,message:p,originalMethod:"eth_signTypedData",chainId:c,autoConfirmStatusCode:"UNSUPPORTED_METHOD"}]});return"error"in m?i.error(e.id,m.error):void 0};c(),p();var Bo=async({request:e,source:t},{wallet:r,i18n:n,analytics:s})=>{if(!t)return i.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let o=F(t),a=ue(t),l=ye(t);if(!o||!a)return i.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let c=await r.eth.getSelectedAccount(),u=await r.eth.getNetworkId(o),[d,p]=e.params;if(c!==d.toLowerCase())return i.unauthorized(e.id);let h=await r.eth.autoConfirmValidateMessage(a,p),m="OK"===h.status;if(Xe(h.status)&&await s.eth.autoConfirmedMessage({request:e,chainId:await r.eth.getNetworkId(o),origin:o,data:{sessionStartTime:h.sessionStartTime,sessionMaxDuration:h.sessionMaxDuration,lastStatusCode:h.status,auditTrail:h.auditTrail}}),m)return;let g={url:a.toString(),icon:l},f=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveEthSignMessage",id:ae(),params:[g,{signer:d,message:"0x"+Buffer.from(JSON.stringify(p)).toString("hex"),originalMethod:"eth_signTypedData_v3",chainId:u,autoConfirmStatusCode:h.status}]});return"error"in f?i.error(e.id,f.error):void 0};c(),p();var Lo=async({request:e,source:t},{wallet:r,i18n:n,analytics:s})=>{if(!t)return i.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let o=F(t),a=ue(t),l=ye(t);if(!o||!a)return i.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let c=await r.eth.getSelectedAccount(),u=await r.eth.getNetworkId(o),[d,p]=e.params;if(c!==d.toLowerCase())return i.unauthorized(e.id);let h=await r.eth.autoConfirmValidateMessage(a,p),m="OK"===h.status;if(Xe(h.status)&&await s.eth.autoConfirmedMessage({request:e,chainId:await r.eth.getNetworkId(o),origin:o,data:{sessionStartTime:h.sessionStartTime,sessionMaxDuration:h.sessionMaxDuration,lastStatusCode:h.status,auditTrail:h.auditTrail}}),m)return;let g={url:a.toString(),icon:l},f=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveEthSignMessage",id:ae(),params:[g,{signer:d,message:"0x"+Buffer.from(JSON.stringify(p)).toString("hex"),originalMethod:"eth_signTypedData_v4",chainId:u,autoConfirmStatusCode:h.status}]});return"error"in f?i.error(e.id,f.error):void 0};c(),p();var Mo=async({request:e,source:t},{wallet:r,i18n:n})=>{if(!t)return i.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let s=F(t),o=ue(t),a=ye(t);if(!s||!o)return i.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let l=await r.eth.getSelectedAccount(),c=await r.eth.getNetworkId(s),[u,d]=e.params;if(l!==d.toLowerCase())return i.unauthorized(e.id);let p={url:o.toString(),icon:a},h=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveEthSignMessage",id:ae(),params:[p,{signer:d,message:u,originalMethod:"personal_sign",chainId:c,autoConfirmStatusCode:"UNSUPPORTED_METHOD"}]});if("error"in h)return i.error(e.id,h.error);switch(h.result.approvalType){case"hardware":return i.result(e.id,h.result.signature);case"user":return}};c(),p();var Po=async(e,{wallet:t})=>{let{request:r,source:n}=e;if(!n)return i.userRejectedRequest(r.id);let s=F(n),o=ue(n),a=ye(n);if(!s||!o)return i.unauthorized(r.id);if(await t.isTrustedApp(s))return;if(!0===r.params?.onlyIfTrusted)return i.userRejectedRequest(r.id);let l=await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolConnect",id:ae(),params:[{url:o.toString(),icon:a}]});return"error"in l?i.error(r.id,l.error):void 0};c(),p();var Uo=async({request:e,source:t},{wallet:r,utils:n})=>{if(!t)return i.unauthorized(e.id);if("BrowserTabRpcRequestSource"!==t.type)return i.unauthorized(e.id);let s=e.params.context,o=n.getOrigin(s.blinkUrl);if(!s.blinkUrl||!o)return i.userRejectedRequest(e.id);if(await r.isTrustedApp(o))return;let a=n.getHostname(s.blinkUrl),l=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolConnect",id:ae(),params:[{url:s.blinkUrl,icon:a?n.getFaviconURL(a):null}]});return"error"in l?i.error(e.id,l.error):void 0};c(),p();var No=async({request:e,source:t},{wallet:r,i18n:n,analytics:s})=>{if(!t)return i.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let o=F(t),a=ue(t),l=ye(t);if(!o||!a)return i.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let c=await r.sol.autoConfirmValidateTransaction(a,e.params.transactions),u="OK"===c.status;if(Xe(c.status)&&await s.sol.autoConfirmedTransaction({request:e,chainId:await r.sol.getNetworkId(),origin:o,data:{sessionStartTime:c.sessionStartTime,sessionMaxDuration:c.sessionMaxDuration,lastStatusCode:c.status,dollarValue:c.dollarValue,auditTrail:c.auditTrail}}),u)return;let d={url:a.toString(),icon:l},p=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignAllTransactions",id:ae(),params:[d,{transactions:e.params.transactions,autoConfirmStatusCode:c.status}]});if("error"in p)return i.error(e.id,p.error);switch(p.result.type){case"send":return i.result(e.id,p.result.result.map(e=>({transaction:e.signedTransaction,signature:e.signature,version:e.version})));case"signAndSend":{let t=p.result.overwriteTransactions;return void(t&&(e.params.transactions=t))}}};c(),p();var Do=async({request:e,source:t},{wallet:r,i18n:n,analytics:s})=>{if(!t)return i.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let o=F(t),a=ue(t),l=ye(t);if(!o||!a)return i.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let c=await r.sol.autoConfirmValidateTransaction(a,e.params.transactions),u="OK"===c.status;if(Xe(c.status)&&await s.sol.autoConfirmedTransaction({request:e,chainId:await r.sol.getNetworkId(),origin:o,data:{sessionStartTime:c.sessionStartTime,sessionMaxDuration:c.sessionMaxDuration,lastStatusCode:c.status,dollarValue:c.dollarValue,auditTrail:c.auditTrail}}),u)return;let d={url:a.toString(),icon:l},p=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignAndSendAllTransactions",id:ae(),params:[d,{transactions:e.params.transactions,autoConfirmStatusCode:c.status}]});if("error"in p)return i.error(e.id,p.error);switch(p.result.type){case"send":{let t=await r.sol.getSelectedAccount();for(let[t,r]of p.result.result.entries())e.params.transactions[t]=r.signedTransaction;let n=await r.sol.sendAllTransactions(e.params.transactions);return i.result(e.id,{publicKey:t,signatures:n})}case"signAndSend":{let t=p.result.overwriteTransactions;return void(t&&(e.params.transactions=t))}}};c(),p();var qo=async({request:e,source:t,id:r},{wallet:n,utils:s})=>{if(!t)return i.unauthorized(e.id);if("BrowserTabRpcRequestSource"!==t.type)return i.unauthorized(e.id);let o=s.getHostname(e.params.context.blinkUrl),a={url:e.params.context.blinkUrl,icon:o?s.getFaviconURL(o):null},l=await n.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignAndSendAllTransactions",id:ae(),params:[a,{transactions:e.params.transactions,autoConfirmStatusCode:"UNSUPPORTED_METHOD",sequenceId:r}]});if("error"in l)return i.error(e.id,l.error);switch(l.result.type){case"send":{let t=await n.sol.getSelectedAccount();for(let[t,r]of l.result.result.entries())e.params.transactions[t]=r.signedTransaction;let r=await n.sol.sendAllTransactions(e.params.transactions);return i.result(e.id,{publicKey:t,signatures:r})}case"signAndSend":return}};c(),p();var Oo=async({request:e,source:t},{wallet:r,i18n:n,analytics:s})=>{if(!t)return i.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let o=F(t),a=ue(t),l=ye(t);if(!o||!a)return i.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let c=await r.sol.autoConfirmValidateTransaction(a,[e.params.transaction]),u="OK"===c.status;if(Xe(c.status)&&await s.sol.autoConfirmedTransaction({request:e,chainId:await r.sol.getNetworkId(),origin:o,data:{sessionStartTime:c.sessionStartTime,sessionMaxDuration:c.sessionMaxDuration,lastStatusCode:c.status,dollarValue:c.dollarValue,auditTrail:c.auditTrail}}),u)return;let d={url:a.toString(),icon:l},p=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignAndSendTransaction",id:ae(),params:[d,{transaction:e.params.transaction,autoConfirmStatusCode:c.status}]});if("error"in p)return i.error(e.id,p.error);switch(p.result.type){case"send":{let t=await r.sol.getSelectedAccount();return await r.sol.sendTransaction(p.result.signedTransaction,e.params.options),i.result(e.id,{publicKey:t,signature:p.result.signature})}case"signAndSend":{let t=p.result.overwriteTransactions;return t&&(e.params.transaction=t[0]),void(p.result.isSharingEligible&&(e.params.isSharingEligible=!0))}}};c(),p();var Ho=async({request:e,source:t},{wallet:r,i18n:n,analytics:s})=>{if(!t)return i.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let o=F(t),a=ue(t);if(!o||!a)return i.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let l=await r.sol.autoConfirmValidateMessage(a,e.params.message),c="OK"===l.status;if(Xe(l.status)&&await s.sol.autoConfirmedMessage({request:e,chainId:await r.sol.getNetworkId(),origin:o,data:{sessionStartTime:l.sessionStartTime,sessionMaxDuration:l.sessionMaxDuration,lastStatusCode:l.status,auditTrail:l.auditTrail}}),c)return;let u=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignMessage",id:ae(),params:[{url:a.toString(),icon:ye(t)},{...e.params,autoConfirmStatusCode:l.status}]});if("error"in u)return i.error(e.id,u.error);let d=await r.sol.getSelectedAccount();switch(u.result.type){case"send":return i.result(e.id,{signature:u.result.signature,publicKey:d});case"signAndSend":return}};c(),p();var Fo=async({request:e,source:t},{wallet:r,i18n:n,utils:s})=>{if(!t)return i.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));if("BrowserTabRpcRequestSource"!==t.type)return i.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let o=s.getHostname(e.params.context.blinkUrl),a={url:e.params.context.blinkUrl,icon:o?s.getFaviconURL(o):null},l=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignMessage",id:ae(),params:[a,{...e.params,autoConfirmStatusCode:"UNSUPPORTED_METHOD"}]});return"error"in l?i.error(e.id,l.error):void 0};c(),p();var Wo=async({request:e,source:t},{wallet:r,i18n:n,analytics:s})=>{if(!t)return i.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let o=F(t),a=ue(t),l=ye(t);if(!o||!a)return i.unauthorized(e.id);let c=await r.sol.autoConfirmValidateTransaction(a,[e.params.transaction]),u="OK"===c.status;if(Xe(c.status)&&await s.sol.autoConfirmedTransaction({request:e,chainId:await r.sol.getNetworkId(),origin:o,data:{sessionStartTime:c.sessionStartTime,sessionMaxDuration:c.sessionMaxDuration,lastStatusCode:c.status,dollarValue:c.dollarValue,auditTrail:c.auditTrail}}),u)return;let d={url:a.toString(),icon:l},p=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignTransaction",id:ae(),params:[d,{transaction:e.params.transaction,autoConfirmStatusCode:c.status}]});if("error"in p)return i.error(e.id,p.error);switch(p.result.type){case"send":return i.result(e.id,{transaction:p.result.signedTransaction,signature:p.result.signature,version:p.result.version});case"signAndSend":{let t=p.result.overwriteTransactions;return t&&(e.params.transaction=t[0]),p.result.isSharingEligible&&(e.params.isSharingEligible=!0),void(p.result.transactionSharingDelayMs&&(e.params.transactionSharingDelayMs=p.result.transactionSharingDelayMs))}}};c(),p();var rt=async({request:e,source:t},{analytics:r,wallet:n,utils:s})=>{if(!t)return i.internalError(e.id,"missing source");let o=ue(t);if(!o)return i.internalError(e.id,"missing source");let a=o.hostname;return async t=>{let{method:i}=e;if(Xt(a))return;let o=await n.sol.getNetworkId();if("localnet"===o)return;let l={method:i,chainType:"solana",chainId:s.sol.chainIdToCAIP2(o),origin:a};if("error"in t&&(l.errorCode=t.error.code),"sol_connect"===i){if(e.params?.eager)return void("errorCode"in l||r.approveConnection({...l,eager:!0}));Hf(l,r)}("sol_signTransaction"===i||"sol_signAndSendTransaction"===i||"sol_signAndSendAllTransactions"===i||"sol_signAllTransactions"===i)&&Ff(l,r),("sol_signMessage"===i||"sol_signIn"===i)&&Wf(l,r)}},Hf=(e,t)=>{"errorCode"in e?t.declineConnection(e):t.approveConnection({...e,eager:!1})},Ff=(e,t)=>{"errorCode"in e?t.declineTransaction(e):t.approveTransaction(e)},Wf=(e,t)=>{"errorCode"in e?t.declineSignMessage(e):t.approveSignMessage(e)};c(),p();var nt=async({request:e},{analytics:t,wallet:r,utils:n})=>async s=>{let{method:i}=e,o=e.params&&"object"==typeof e.params&&"redirect_link"in e.params&&"string"==typeof e.params.redirect_link?e.params.redirect_link:"missing redirect_link from deep link";t.deepLinkDetected({method:i,params:JSON.stringify(e.params)});let a=await r.sol.getNetworkId();if("localnet"===a)return;let l={method:i,chainType:"solana",chainId:n.sol.chainIdToCAIP2(a),origin:o};if("phantom_deep_link_connect"===i){let e={...l};"error"in s?t.declineConnection({...e,errorCode:s.error.code}):t.approveConnection({...e,eager:!1})}if("phantom_deep_link_signTransaction"===i||"phantom_deep_link_signAllTransactions"===i||"phantom_deep_link_signAndSendTransaction"===i){let e={...l};"error"in s?t.declineTransaction({...e,errorCode:s.error.code}):t.approveTransaction(e)}if("phantom_deep_link_signMessage"===i){let e={...l};"error"in s?t.declineSignMessage({...e,errorCode:s.error.code}):t.approveSignMessage(e)}};function jo(e){return!!("result"in e&&"object"==typeof e.result&&e.result&&"type"in e.result&&e.result?.type&&"string"==typeof e.result.type&&e.result.type.toUpperCase().endsWith("_DECLINE"))}c(),p();var Nr=async({request:e},{analytics:t,wallet:r,utils:n})=>async s=>{let{method:i}=e,o="no identity or verifiable identity found on solana mobile wallet adapter request";if(e.params&&"object"==typeof e.params&&"identity"in e.params){let t=ac.safeParse(e.params.identity);t.success&&(o=t.data.identityUri??o)}else if(e.params&&"object"==typeof e.params&&"signPayloads"in e.params){let t=cc.safeParse(e.params.signPayloads);t.success&&(o=t.data.verifiableIdentity.identity.identityUri??o)}let a=await r.sol.getNetworkId();if("localnet"===a)return;let l={method:i,chainType:"solana",chainId:n.sol.chainIdToCAIP2(a),origin:o};if("sol_mwa_authorize"===i){let e={...l};"error"in s?t.declineConnection({...e,errorCode:s.error.code}):jo(s)?t.declineConnection({...e,errorCode:s.result.type}):t.approveConnection({...e,eager:!1})}if("sol_mwa_sign_transactions"===i||"sol_mwa_sign_and_send_transactions"===i){let e={...l};"error"in s?t.declineTransaction({...e,errorCode:s.error.code}):jo(s)?t.declineTransaction({...e,errorCode:s.result.type}):t.approveTransaction(e)}if("sol_mwa_sign_messages"===i){let e={...l};"error"in s?t.declineSignMessage({...e,errorCode:s.error.code}):jo(s)?t.declineSignMessage({...e,errorCode:s.result.type}):t.approveSignMessage(e)}};c(),p();var Pt=async({source:e,request:t},r)=>{if(!e||"BrowserTabRpcRequestSource"!==e.type||!["x.com","twitter.com","pro.x.com","sandbox.phantom.dev","localhost","phantom.com"].includes(e.url.hostname))return i.unauthorized(t.id)};c(),p();var fr=async({request:e},{wallet:t,logger:r,utils:n})=>{let s=null;switch(e.method){case"sol_blink_signAndSendAllTransactions":case"sol_blink_signMessage":s=e.params.context;break;case"eth_blink_sendTransaction":s=e.params[1].context;break;case"eth_blink_sign":s=e.params[2].context}let o=n.getOrigin(s.blinkUrl);return o?await t.isTrustedApp(o)?void 0:(r.debug("> Dapp not trusted",o),i.unauthorized(e.id)):i.unauthorized(e.id)};c(),p();var ns=[],Ce=e=>async({source:t,request:r})=>{let n=Date.now(),s=`${"DeepLinkRpcRequestSource"===t?.type?t.deepLinkUrl:t?.url.href}:${r.method}:${JSON.stringify(r.params)}`;if((ns=ns.filter(e=>e.timestamp>n-1e3)).filter(e=>e.key===s).length>=e)return i.rateLimited(r.id);ns.push({timestamp:n,key:s})};c(),p();var Ze=async({request:e},{wallet:t})=>{if(!await t.isUserOnboarded()){if("sol_connect"===e.method&&e.params.onlyIfTrusted)return i.userRejectedRequest(e.id);try{await t.requestUserOnboard()}catch{return i.userRejectedRequest(e.id)}}};function jf({params:e,response:t,analytics:r,data:n}){e?.eager?"error"in t||r.approveConnection({...n,eager:!0}):"error"in t?r.declineConnection({...n,errorCode:t.error.code}):r.approveConnection({...n,eager:!1})}function Vf({response:e,analytics:t,data:r}){"error"in e?t.declineTransaction({...r,errorCode:e.error.code}):t.approveTransaction(r)}function zf({response:e,analytics:t,data:r}){"error"in e?t.declineSignMessage({...r,errorCode:e.error.code}):t.approveSignMessage(r)}c(),p();var Dr=async({request:e,source:t},{analytics:r})=>{if(!t)return i.internalError(e.id,"missing source");let n=ue(t);if(!n)return i.internalError(e.id);let s=n.hostname;return Xt(s)?async()=>{}:async t=>{let{method:n,params:i}=e,o={method:n,chainType:"sui",chainId:"mainnet",origin:s};switch(n){case"sui_requestAccounts":jf({params:i,response:t,analytics:r,data:o});break;case"sui_signTransaction":case"sui_signAndExecuteTransaction":Vf({response:t,analytics:r,data:o});break;case"sui_signMessage":zf({response:t,analytics:r,data:o})}}};c(),p();var Vo=async(e,{wallet:t})=>{let{request:r,source:n}=e;if(!n)return i.userRejectedRequest(r.id);let s=F(n),o=ue(n),a=ye(n);if(!s||!o)return i.unauthorized(r.id);if(await t.isTrustedApp(s))return;if(!0===r.params?.onlyIfTrusted)return i.userRejectedRequest(r.id);let l=await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveSuiRequestAccounts",id:ae(),params:[{url:o.toString(),icon:a}]});return"error"in l?i.error(r.id,l.error):void 0};c(),p();var ss=async({request:e,source:t},{wallet:r,i18n:n})=>{if(!t)return i.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let s=ue(t),o=ye(t);if(!s)return i.unauthorized(e.id);let a=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveSuiSignTransaction",id:ae(),params:[{url:s.toString(),icon:o},{transaction:e.params.transaction}]});return"error"in a?i.error(e.id,a.error):void 0};c(),p();var zo=async({request:e,source:t},{wallet:r,i18n:n})=>{if(!t)return i.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let s=ue(t),o=ye(t);if(!s)return i.unauthorized(e.id);let a=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveSuiSignMessage",id:ae(),params:[{url:s.toString(),icon:o},{message:e.params.message}]});return"error"in a?i.error(e.id,a.error):void 0};c(),p(),c(),p(),c(),p();var Ko=async({request:e,source:t},{wallet:r})=>{if(!t)return i.result(e.id,[]);let n=F(t);if(!n)return i.internalError(e.id,"missing source");if(!await r.isTrustedApp(n))return i.result(e.id,[]);let s=await r.eth.getAccounts();return i.result(e.id,s)};c(),p();var $o=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return i.internalError(e.id,"missing source");let s=F(t);if(!s)return i.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(o),l=await n.eth.eth_blockNumber(a,e.params);return i.any(e.id,l)};c(),p();var Go=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return i.internalError(e.id,"missing source");let s=F(t);if(!s)return i.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(o),l=await n.eth.eth_call(a,e.params);return i.any(e.id,l)};c(),p();var Yo=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return i.internalError(e.id,"missing source");let s=F(t);if(!s)return i.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(o),l=await n.eth.eth_cancelPrivateTransaction(a,e.params);return i.any(e.id,l)};c(),p();var Zo=async({request:e,source:t},{wallet:r})=>{if(!t)return i.internalError(e.id,"missing source");let n=F(t);if(!n)return i.internalError(e.id,"missing source");let s=await r.eth.getNetworkId(n);return i.result(e.id,s)};c(),p();var Xo=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return i.internalError(e.id,"missing source");let s=F(t);if(!s)return i.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(o),l=await n.eth.eth_estimateGas(a,e.params);return i.any(e.id,l)};c(),p();var Jo=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return i.internalError(e.id,"missing source");let s=F(t);if(!s)return i.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(o),l=await n.eth.eth_feeHistory(a,e.params);return i.any(e.id,l)};c(),p();var Qo=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return i.internalError(e.id,"missing source");let s=F(t);if(!s)return i.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(o),l=await n.eth.eth_gasPrice(a,e.params);return i.any(e.id,l)};c(),p();var ei=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return i.internalError(e.id,"missing source");let s=F(t);if(!s)return i.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(o),l=await n.eth.eth_getBalance(a,e.params);return i.any(e.id,l)};c(),p();var ti=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return i.internalError(e.id,"missing source");let s=F(t);if(!s)return i.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(o),l=await n.eth.eth_getBlockByHash(a,e.params);return i.any(e.id,l)};c(),p();var ri=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return i.internalError(e.id,"missing source");let s=F(t);if(!s)return i.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(o),l=await n.eth.eth_getBlockByNumber(a,e.params);return i.any(e.id,l)};c(),p();var ni=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return i.internalError(e.id,"missing source");let s=F(t);if(!s)return i.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(o),l=await n.eth.eth_getBlockReceipts(a,e.params);return i.any(e.id,l)};c(),p();var si=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return i.internalError(e.id,"missing source");let s=F(t);if(!s)return i.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(o),l=await n.eth.eth_getBlockTransactionCountByHash(a,e.params);return i.any(e.id,l)};c(),p();var oi=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return i.internalError(e.id,"missing source");let s=F(t);if(!s)return i.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(o),l=await n.eth.eth_getBlockTransactionCountByNumber(a,e.params);return i.any(e.id,l)};c(),p();var ii=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return i.internalError(e.id,"missing source");let s=F(t);if(!s)return i.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(o),l=await n.eth.eth_getCode(a,e.params);return i.any(e.id,l)};c(),p();var ai=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return i.internalError(e.id,"missing source");let s=F(t);if(!s)return i.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(o),l=await n.eth.eth_getFilterChanges(a,e.params);return i.any(e.id,l)};c(),p();var ci=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return i.internalError(e.id,"missing source");let s=F(t);if(!s)return i.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(o),l=await n.eth.eth_getFilterLogs(a,e.params);return i.any(e.id,l)};c(),p();var pi=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return i.internalError(e.id,"missing source");let s=F(t);if(!s)return i.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(o),l=await n.eth.eth_getLogs(a,e.params);return i.any(e.id,l)};c(),p();var di=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return i.internalError(e.id,"missing source");let s=F(t);if(!s)return i.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(o),l=await n.eth.eth_getProof(a,e.params);return i.any(e.id,l)};c(),p();var li=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return i.internalError(e.id,"missing source");let s=F(t);if(!s)return i.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(o),l=await n.eth.eth_getStorageAt(a,e.params);return i.any(e.id,l)};c(),p();var ui=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return i.internalError(e.id,"missing source");let s=F(t);if(!s)return i.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(o),l=await n.eth.eth_getTransactionByBlockHashAndIndex(a,e.params);return i.any(e.id,l)};c(),p();var mi=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return i.internalError(e.id,"missing source");let s=F(t);if(!s)return i.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(o),l=await n.eth.eth_getTransactionByBlockNumberAndIndex(a,e.params);return i.any(e.id,l)};c(),p();var hi=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return i.internalError(e.id,"missing source");let s=F(t);if(!s)return i.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(o),l=await n.eth.eth_getTransactionByHash(a,e.params);return i.any(e.id,l)};c(),p();var fi=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return i.internalError(e.id,"missing source");let s=F(t);if(!s)return i.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(o),l=await n.eth.eth_getTransactionCount(a,e.params);return i.any(e.id,l)};c(),p();var gi=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return i.internalError(e.id,"missing source");let s=F(t);if(!s)return i.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(o),l=await n.eth.eth_getTransactionReceipt(a,e.params);return i.any(e.id,l)};c(),p();var yi=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return i.internalError(e.id,"missing source");let s=F(t);if(!s)return i.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(o),l=await n.eth.eth_getUncleByBlockHashAndIndex(a,e.params);return i.any(e.id,l)};c(),p();var xi=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return i.internalError(e.id,"missing source");let s=F(t);if(!s)return i.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(o),l=await n.eth.eth_getUncleByBlockNumberAndIndex(a,e.params);return i.any(e.id,l)};c(),p();var wi=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return i.internalError(e.id,"missing source");let s=F(t);if(!s)return i.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(o),l=await n.eth.eth_getUncleCountByBlockHash(a,e.params);return i.any(e.id,l)};c(),p();var bi=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return i.internalError(e.id,"missing source");let s=F(t);if(!s)return i.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(o),l=await n.eth.eth_getUncleCountByBlockNumber(a,e.params);return i.any(e.id,l)};c(),p();var Si=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return i.internalError(e.id,"missing source");let s=F(t);if(!s)return i.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(o),l=await n.eth.eth_maxPriorityFeePerGas(a,e.params);return i.any(e.id,l)};c(),p();var Ai=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return i.internalError(e.id,"missing source");let s=F(t);if(!s)return i.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(o),l=await n.eth.eth_newBlockFilter(a,e.params);return i.any(e.id,l)};c(),p();var vi=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return i.internalError(e.id,"missing source");let s=F(t);if(!s)return i.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(o),l=await n.eth.eth_newFilter(a,e.params);return i.any(e.id,l)};c(),p();var Ri=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return i.internalError(e.id,"missing source");let s=F(t);if(!s)return i.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(o),l=await n.eth.eth_newPendingTransactionFilter(a,e.params);return i.any(e.id,l)};c(),p();var _i=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return i.internalError(e.id,"missing source");let s=F(t);if(!s)return i.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(o),l=await n.eth.eth_protocolVersion(a,e.params);return i.any(e.id,l)};c(),p();var ki=async({request:e,source:t},{wallet:r})=>{if(!t)return i.unauthorized(e.id);let n=F(t),s=ye(t),o=ue(t);if(!n||!o)return i.unauthorized(e.id);let a={url:o,icon:s?new URL(s):void 0};await r.addTrustedApp(n,a);let l=await r.eth.getSelectedAccount();return i.result(e.id,[l])};c(),p();var Ti=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return i.internalError(e.id,"missing source");let s=F(t);if(!s)return i.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(o),l=await n.eth.eth_sendRawTransaction(a,e.params);return i.any(e.id,l)};c(),p();var Ei=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return i.internalError(e.id,"missing source");let s=F(t);if(!s)return i.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(o),l=await n.eth.eth_sendPrivateTransaction(a,e.params);return i.any(e.id,l)};c(),p();var Ii=async({request:e,source:t},{wallet:r,i18n:n})=>{if(!t)return i.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let s=F(t);if(!s)return i.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));if(!await r.isTrustedApp(s))return i.unauthorized(e.id);let[o]=e.params,a=await r.eth.getSelectedAccount();if(o.from.toLowerCase()!==a.toLowerCase())return i.unauthorized(e.id,n.t("rpcErrorUnauthorizedWrongAccount"));if("0x2"!==o.type)return i.transactionRejected(e.id);if(!o.chainId)return i.transactionRejected(e.id);if(!o.nonce)return i.transactionRejected(e.id);let l=await r.eth.signAndSendTransaction(o);return i.any(e.id,{result:l})};c(),p();var Ci=async({request:e},{wallet:t,i18n:r})=>{let[n,s]=e.params,o=await t.eth.getSelectedAccount();if(n.toLowerCase()!==o)return i.unauthorized(e.id,r.t("Message signer address does not match the selected account address."));let a=await t.eth.signMessage(s);return i.result(e.id,a)};c(),p();var Bi=async({request:e},{wallet:t,i18n:r})=>{let[n,s]=e.params,o=await t.eth.getSelectedAccount();if(s.toLowerCase()!==o)return i.unauthorized(e.id,r.t("Message signer address does not match the selected account address."));let a=await t.eth.signTypedData({version:1,data:n});return i.result(e.id,a)};c(),p();var Li=async({request:e},{wallet:t,i18n:r})=>{let[n,s]=e.params,o=await t.eth.getSelectedAccount();if(n.toLowerCase()!==o)return i.unauthorized(e.id,r.t("Message signer address does not match the selected account address."));let a=await t.eth.signTypedData({version:3,data:s});return i.result(e.id,a)};c(),p();var Mi=async({request:e},{wallet:t,i18n:r})=>{let[n,s]=e.params,o=await t.eth.getSelectedAccount();if(n.toLowerCase()!==o)return i.unauthorized(e.id,r.t("Message signer address does not match the selected account address."));let a=await t.eth.signTypedData({version:4,data:s});return i.result(e.id,a)};c(),p();var Pi=async({request:e},t)=>i.unsupportedMethod(e.id);c(),p();var Ui=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return i.internalError(e.id,"missing source");let s=F(t);if(!s)return i.internalError(e.id);let o=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(o),l=await n.eth.eth_syncing(a,e.params);return i.any(e.id,l)};c(),p();var Ni=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return i.internalError(e.id,"missing source");let s=F(t);if(!s)return i.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(o),l=await n.eth.eth_uninstallFilter(a,e.params);return i.any(e.id,l)};c(),p();var Di=async({request:e},t)=>i.unsupportedMethod(e.id);c(),p();var qi=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return i.internalError(e.id,"missing source");let s=F(t);if(!s)return i.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(o),l=await n.eth.net_listening(a,e.params);return i.any(e.id,l)};c(),p();var Oi=async({request:e,source:t},{wallet:r})=>{if(!t)return i.internalError(e.id,"missing source");let n=F(t);if(!n)return i.internalError(e.id,"missing source");let s=await r.eth.getNetworkId(n);return i.result(e.id,parseInt(s,16).toString())};c(),p();var Hi=async({request:e},{wallet:t,i18n:r})=>{let[n,s]=e.params,o=await t.eth.getSelectedAccount();if(s.toLowerCase()!==o)return i.unauthorized(e.id,r.t("Message signer address does not match the selected account address."));let a=await t.eth.signMessage(n);return i.result(e.id,a)};c(),p();var Fi=async({request:e,source:t},{wallet:r,i18n:n,analytics:s})=>{let[o]=e.params;if(!await r.eth.addChain(o))return i.userRejectedRequest(e.id,n.t("Could not add the requested chain. It is not yet supported."));if(!t)return i.internalError(e.id,"missing source");let a=F(t);return a?await r.eth.switchChain(o.chainId,a)?i.result(e.id,null):(s.eth.unsupportedChain({origin:a,data:{method:e.method,hexChainId:o.chainId,chainName:o.chainName}}),i.internalError(e.id,n.t("Could not switch to the requested chain."))):i.internalError(e.id,"missing source")};c(),p();var Wi=async({request:e,source:t},{wallet:r})=>{if(!t)return i.unauthorized(e.id);let n=F(t),s=ue(t),o=ye(t);if(!n||!s)return i.unauthorized(e.id);if(await r.isTrustedApp(n))return i.result(e.id,oc.enum.CONTINUE_WITH_PHANTOM);let a=await r.requestUserApproval({jsonrpc:"2.0",method:"user_selectEthWallet",id:0,params:[{url:s.toString(),icon:o}]});if("error"in a)return i.error(e.id,a.error);switch(a.result){case lr.user_selectEthWallet.result.enum.CONTINUE_WITH_METAMASK:case lr.user_selectEthWallet.result.enum.CONTINUE_WITH_PHANTOM:return i.result(e.id,a.result);case lr.user_selectEthWallet.result.enum.ALWAYS_USE_PHANTOM:return await r.setMetaMaskOverrideSetting("USE_PHANTOM"),i.result(e.id,a.result);case lr.user_selectEthWallet.result.enum.ALWAYS_USE_METAMASK:return await r.setMetaMaskOverrideSetting("USE_METAMASK"),i.result(e.id,a.result)}};c(),p();var ji=async({request:e,source:t},{wallet:r,i18n:n,analytics:s})=>{if(!t)return i.internalError(e.id,"missing source");let o=F(t);if(!o)return i.internalError(e.id,"missing source");let[{chainId:a}]=e.params;return await r.eth.switchChain(a,o)?i.result(e.id,null):(s.eth.unsupportedChain({origin:o,data:{method:e.method,hexChainId:a}}),i.chainDisconnected(e.id,n.t("Could not switch to the requested chain. It is not yet supported.")))};c(),p();var Vi=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return i.internalError(e.id,"missing source");let s=F(t);if(!s)return i.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(o),l=await n.eth.web3_clientVersion(a,e.params);return i.any(e.id,l)};c(),p();var zi=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return i.internalError(e.id,"missing source");let s=F(t);if(!s)return i.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),a=await r.eth.getRpcURL(o),l=await n.eth.web3_sha3(a,e.params);return i.any(e.id,l)};c(),p();var Ki=async({request:e,source:t},{wallet:r})=>{if(!t)return i.unauthorized(e.id);let n=F(t),s=ue(t),o=ye(t);if(!n||!s)return i.unauthorized(e.id);let a=e.params[0];if(!Object.keys(a).includes("eth_accounts"))return i.result(e.id,[]);let l={url:s,icon:o?new URL(o):void 0};return await r.addTrustedApp(n,l),i.result(e.id,[{parentCapability:"eth_accounts",date:Date.now()}])};c(),p();var $i=async({request:e,source:t},{wallet:r})=>{if(!t)return i.result(e.id,[]);let n=F(t);return n&&await r.isTrustedApp(n)?i.result(e.id,[{invoker:n,parentCapability:"eth_accounts",caveats:[]}]):i.result(e.id,[])},ht={};Ee(ht,{sol_connect:()=>Vd,sol_disconnect:()=>zd,sol_signAllTransactions:()=>Kd,sol_signAndSendAllTransactions:()=>Gd,sol_signAndSendTransaction:()=>$d,sol_signIn:()=>Zd,sol_signMessage:()=>Yd,sol_signTransaction:()=>Xd}),c(),p(),c(),p();var Vd=async({request:e,source:t},{wallet:r})=>{if(!t)return i.unauthorized(e.id);let n=F(t),s=ue(t),o=ye(t);if(!n||!s)return i.unauthorized(e.id);let a={url:s,icon:o?new URL(o):void 0};await r.addTrustedApp(n,a);let l=await r.sol.getSelectedAccount();return i.result(e.id,{publicKey:l})};c(),p();var zd=async({request:e,source:t})=>t?i.result(e.id,null):i.unauthorized(e.id);c(),p();var Kd=async({request:e},{wallet:t})=>{let r=await t.sol.signAllTransactions(e.params.transactions);return i.result(e.id,r)};c(),p();var $d=async({source:e,request:t},{wallet:r,i18n:n})=>{if(!e)return i.unauthorized(t.id,n.t("rpcErrorUnauthorizedUnknownSource"));let s=ye(e),o=ue(e);if(!o)return i.unauthorized(t.id);let a=await r.sol.getSelectedAccount(),l=await r.sol.signTransaction(t.params.transaction);t.params.showConfirmation&&r.requestUserApproval({jsonrpc:"2.0",method:"user_solTransactionConfirmation",id:ae(),params:[{url:o.toString(),icon:s},{signature:l.signature,postAction:t.params.postAction}]});let c=t.params.isSharingEligible?"signAndSendTransaction":void 0;return await r.sol.sendTransaction(l.transaction,{...t.params.options,method:c}),i.result(t.id,{publicKey:a,signature:l.signature})};c(),p();var Gd=async({request:e},{wallet:t})=>{let r=await t.sol.getSelectedAccount(),n=await Promise.all(e.params.transactions.map(e=>t.sol.signTransaction(e))),s=await t.sol.sendAllTransactions(n.map(e=>e.transaction));return i.result(e.id,{publicKey:r,signatures:s})};c(),p();var Yd=async({request:e},{wallet:t})=>{let r=await t.sol.getSelectedAccount(),n=await t.sol.signMessage(e.params.message);return i.result(e.id,{publicKey:r,signature:n})};c(),p();var Zd=async({request:e,source:t},{wallet:r,utils:n,i18n:s})=>{if(!t)return i.userRejectedRequest(e.id);let o=F(t),a=ue(t),l=ye(t);if(!o||!a)return i.userRejectedRequest(e.id);let c=await r.isTrustedApp(o),u=await r.sol.getNetworkId(),d=await r.sol.getSelectedAccount(),p=new URL(a.toString()),h=n.sol.serializeSolanaSignInMessage(e.params.signInData,{expectedChainId:u,expectedAddress:d,expectedURL:p});if("fail"===h.type){if("PARSE_ERROR"===h.error[0].label)return i.invalidInput(e.id,s.t("The app's signature request cannot be shown due to invalid formatting."));if(h.error.some(e=>"chain"===e.label))return i.invalidInput(e.id,s.t("The app's signature request cannot be shown as the chain ID does not match the provided chain ID for verification."));if(h.error.some(e=>"address"===e.label))return i.invalidInput(e.id,s.t("The app's signature request cannot be shown as the address does not match the provided address for verification."))}if(e.params.signInData.domain||(e.params.signInData.domain=p.host),e.params.signInData.address||(e.params.signInData.address=d),"error"in await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignIn",params:[{url:a.toString(),icon:l},{connect:!c,signInData:e.params.signInData,message:h.data,errorDetails:"fail"===h.type?h.error:void 0}],id:ae()}))return"fail"===h.type?i.invalidInput(e.id,s.t("This sign-in request is invalid. This either means the site is unsafe, or its developer made an error when sending the request.")):i.userRejectedRequest(e.id);c||await r.isTrustedApp(o)||await r.addTrustedApp(o,{url:a,icon:l?new URL(l):void 0});let m=await r.sol.signMessage(h.data);return i.result(e.id,{address:d,signedMessage:h.data,signature:m})};c(),p();var Kf=500,Xd=async({request:e},{wallet:t})=>{let r=await t.sol.signTransaction(e.params.transaction);if(e.params.isSharingEligible){let n=Date.now(),s=e.params.transactionSharingDelayMs??Kf;try{await Promise.race([t.sol.sendTransaction(r.transaction,{method:"signTransaction"}),Ds(s)]);let e=Date.now()-n,i=Math.max(0,s-e);i>0&&await Ds(i)}catch{}}return i.result(e.id,r)},qr={};Ee(qr,{btc_requestAccounts:()=>Jd,btc_signMessage:()=>Qd,btc_signPSBT:()=>el}),c(),p(),c(),p();var Jd=async({request:e,source:t},{wallet:r})=>{if(!t)return i.unauthorized(e.id);let n=F(t),s=ue(t),o=ye(t);if(!n||!s)return i.unauthorized(e.id);let a={url:s,icon:o?new URL(o):void 0};await r.addTrustedApp(n,a);let l=await r.btc.getSelectedAccount();return i.result(e.id,l)};c(),p();var Qd=async({request:e},{wallet:t})=>{let r=await t.btc.signMessage(e.params.address,e.params.message);return i.result(e.id,{...r})};c(),p();var el=async({request:e,source:t},{wallet:r})=>{if(!t)return i.unauthorized(e.id);let n=await r.btc.signPSBT(...e.params);return i.result(e.id,n)},Le={};Ee(Le,{phantom_deep_link_browse:()=>tl,phantom_deep_link_cash:()=>Rl,phantom_deep_link_connect:()=>pl,phantom_deep_link_disconnect:()=>dl,phantom_deep_link_explore:()=>ol,phantom_deep_link_feature_flags:()=>il,phantom_deep_link_fungible:()=>nl,phantom_deep_link_mint_psol_marketing:()=>cl,phantom_deep_link_navigate:()=>Sl,phantom_deep_link_notification_center:()=>al,phantom_deep_link_onboard:()=>wl,phantom_deep_link_onramp:()=>bl,phantom_deep_link_perps:()=>vl,phantom_deep_link_signAllTransactions:()=>fl,phantom_deep_link_signAndSendAllTransactions:()=>yl,phantom_deep_link_signAndSendTransaction:()=>gl,phantom_deep_link_signIn:()=>ml,phantom_deep_link_signMessage:()=>ll,phantom_deep_link_signTransaction:()=>hl,phantom_deep_link_social:()=>Al,phantom_deep_link_swap:()=>rl,phantom_deep_link_tokens:()=>xl,phantom_deep_link_user:()=>sl}),c(),p(),c(),p();var tl=async({request:e},{wallet:t})=>{let{url:r,ref:n}=e.params;return t.navigate("DetachedBrowser",{url:r,ref:n}),i.result(e.id,null)};c(),p();var rl=async({request:e},{wallet:t})=>(t.navigate("SwapTab",{screen:"Swap",params:{buyFungible:e.params.buy,sellFungible:e.params.sell,sellAmount:e.params.amount,navRef:e.id}}),i.result(e.id,null));c(),p();var nl=async({request:e},{wallet:t})=>(Rc(e.params.token),t.navigate("FungibleStack",{screen:"FungibleDetail",params:{caip19:e.params.token,entryPoint:"deepLink"}}),i.result(e.id,null));c(),p();var sl=async({request:e},{wallet:t,analytics:r})=>{let{username:n,action:s}=e.params;return r.userDeepLink({username:n,action:s}),t.openUserProfile(n,s),i.result(e.id,null)};c(),p();var ol=async({request:e},{wallet:t})=>(t.navigate("ExploreTab",{screen:"Explore"}),e.params.route&&("ExplorePerps"===e.params.route?t.navigate("ExploreTab",{screen:"PerpsStack",params:{screen:"ExplorePerps"}}):t.navigate("ExploreTab",{screen:e.params.route})),i.result(e.id,null));c(),p();var il=async({request:e},{wallet:t})=>{let{action:r,key:n,type:s,value:o}=e.params;return t.navigate("SettingsStack",{screen:"MockFeatureFlags",params:{action:r,key:n,type:s,value:o}}),i.result(e.id,null)};c(),p();var al=async({request:e},{wallet:t})=>(await t.openNotificationCenter({action:e.params.action,id:e.params.id}),i.result(e.id,null));c(),p();var cl=async({request:e},{wallet:t,remoteConfig:r})=>{let n=await r.getValue("psol-popup-copy-test");return n&&"control"!==n?t.navigate("MintLiquidStake",{screen:"MintPSOLMarketingPage",params:{entryPoint:"deepLink",copyVariant:n}}):t.navigate("MintLiquidStake",{screen:"MintPSOLInfoPage",params:{entryPoint:"deepLink"}}),i.result(e.id,null)};c(),p();var pl=async({request:e},{wallet:t,secrets:r,utils:n})=>{let s=In(e.params.redirect_link,{restrictProtocols:!1}),o=s?.href;if(!o)return i.error(e.id,{code:400,message:"Invalid redirect URL provided."});try{s.username="",s.password="";let a=await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolConnect",id:ae(),params:[{url:`phantom.app.deep-link-${o}`,icon:n.getFaviconURL(s.href)}]});if("error"in a)return i.error(e.id,a.error);let l=Er(o)?.origin??"";await t.isTrustedApp(l)&&await t.deleteTrustedApp(l),await t.addTrustedApp(l,{url:new URL(l),icon:new URL(n.getFaviconURL(o))});let c=await t.sol.getSelectedAccount(),{sharedSecret:u,phantomKeySecret:d,phantomKeyPublicKey:p}=r.generateSharedSecret(e.params.dapp_encryption_public_key);await r.setSharedSecret(new ve.PublicKey(c).toBase58(),e.params.dapp_encryption_public_key,u,d,p);let h=await r.generateSession(new ve.PublicKey(c).toBase58(),e.params?.cluster??"mainnet-beta",e.params.app_url),{nonce:m,encryptedPayload:g}=await r.encryptDeepLinkDappPayload(h,new ve.PublicKey(c).toBase58(),e.params.dapp_encryption_public_key);return i.result(e.id,{phantom_encryption_public_key:p,nonce:m,data:g})}catch(t){return i.error(e.id,{code:500,message:t?.message||"An unexpected error occurred during connect."})}};c(),p();var dl=async({request:e},{wallet:t,secrets:r,utils:n})=>{let s=Er(e.params.redirect_link).origin??"";await t.isTrustedApp(s)&&await t.deleteTrustedApp(s);let o=await t.sol.getSelectedAccount(),a=n.sol.chainIdToCluster(await t.sol.getNetworkId());return"string"!=typeof(await r.decryptDeepLinkDappPayload(e.params,e.params.dapp_encryption_public_key,new ve.PublicKey(o),a)).session?i.error(e.id,{code:-32e3,message:"Missing or invalid parameters."}):(r.deleteSharedSecret(o,e.params.dapp_encryption_public_key),i.result(e.id,null))};c(),p();var ll=async({request:e},{wallet:t,secrets:r,utils:n})=>{let s=await t.sol.getSelectedAccount(),o=n.sol.chainIdToCluster(await t.sol.getNetworkId()),a=e.params,l=await r.decryptDeepLinkDappPayload(a,e.params.dapp_encryption_public_key,new ve.PublicKey(s),o);if("string"!=typeof l.session||"string"!=typeof l.message||l.display&&!["utf8","hex"].includes(l.display))return i.error(e.id,{code:-32e3,message:"Missing or invalid parameters."});let c={message:l.message,display:l.display??"utf8"},u=await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignMessage",id:ae(),params:[{url:`phantom.app.deep-link-${e.params.redirect_link}`,icon:n.getFaviconURL(e.params.redirect_link)},{...c,autoConfirmStatusCode:"DISABLED"}]});if("error"in u)return i.error(e.id,u.error);let d={signature:await t.sol.signMessage(l.message),publicKey:s},{nonce:p,encryptedPayload:h}=await r.encryptDeepLinkDappPayload(d,new ve.PublicKey(s).toBase58(),e.params.dapp_encryption_public_key);return i.result(e.id,{nonce:p,data:h})};c(),p();var ul=re(Ur()),ml=async({request:e},{wallet:t,secrets:r,utils:n,i18n:s})=>{let o;try{o=JSON.parse(Buffer.from(ul.default.decode(e.params.payload)).toString())}catch{return i.invalidInput(e.id,s.t("The app's signature request cannot be shown due to invalid formatting. Please contact the app developer for assistance."))}let a=new URL(e.params.app_url).origin??"",l=new URL(e.params.redirect_link).origin;l="null"===l?a:l;let c=await t.isTrustedApp(l),u=await t.sol.getNetworkId(),d=await t.sol.getSelectedAccount(),p=new URL(e.params.redirect_link),h=n.sol.serializeSolanaSignInMessage(o,{expectedChainId:u,expectedAddress:d,expectedURL:p});if("fail"===h.type){if("PARSE_ERROR"===h.error[0].label)return i.invalidInput(e.id,s.t("The app's signature request cannot be shown due to invalid formatting."));if(h.error.some(e=>"chain"===e.label))return i.invalidInput(e.id,s.t("The app's signature request cannot be shown as the chain ID does not match the provided chain ID for verification."));if(h.error.some(e=>"address"===e.label))return i.invalidInput(e.id,s.t("The app's signature request cannot be shown as the address does not match the provided address for verification."))}if(o.domain||(o.domain=p.host),o.address||(o.address=d),"error"in await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignIn",params:[{url:`phantom.app.deep-link-${e.params.redirect_link}`,icon:n.getFaviconURL(e.params.redirect_link)},{connect:!c,signInData:o,message:h.data,errorDetails:"fail"===h.type?h.error:void 0}],id:ae()}))return"fail"===h.type?i.invalidInput(e.id,s.t("This sign-in request is invalid. This either means the site is unsafe, or its developer made an error when sending the request.")):i.userRejectedRequest(e.id);c||await t.isTrustedApp(l)||await t.addTrustedApp(l,{url:new URL(l),icon:new URL(n.getFaviconURL(l))});let{sharedSecret:m,phantomKeySecret:g,phantomKeyPublicKey:f}=r.generateSharedSecret(e.params.dapp_encryption_public_key);await r.setSharedSecret(new ve.PublicKey(d).toBase58(),e.params.dapp_encryption_public_key,m,g,f);let y=await r.generateSession(new ve.PublicKey(d).toBase58(),e.params?.cluster??"mainnet-beta",e.params.app_url),w=await t.sol.signMessage(h.data),b={address:y.public_key,signature:w,signedMessage:h.data,session:y.session},{nonce:x,encryptedPayload:A}=await r.encryptDeepLinkDappPayload(b,new ve.PublicKey(d).toBase58(),e.params.dapp_encryption_public_key);return i.result(e.id,{phantom_encryption_public_key:f,nonce:x,data:A})};c(),p();var hl=async({request:e},{wallet:t,secrets:r,utils:n})=>{let s=await t.sol.getSelectedAccount(),o=n.sol.chainIdToCluster(await t.sol.getNetworkId()),a=await r.decryptDeepLinkDappPayload(e.params,e.params.dapp_encryption_public_key,new ve.PublicKey(s),o);if("string"!=typeof a.session||"string"!=typeof a.transaction)return i.error(e.id,{code:-32e3,message:"Missing or invalid parameters."});let l=await t.sol.addPriorityFee(a.transaction),c=await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignTransaction",id:ae(),params:[{url:`phantom.app.deep-link-${e.params.redirect_link}`,icon:n.getFaviconURL(e.params.redirect_link)},{transaction:l,autoConfirmStatusCode:"DISABLED"}]});if("error"in c)return i.error(e.id,c.error);let{transaction:u}=await t.sol.signTransaction(l),d={transaction:u},{nonce:p,encryptedPayload:h}=await r.encryptDeepLinkDappPayload(d,new ve.PublicKey(s).toBase58(),e.params.dapp_encryption_public_key);return i.result(e.id,{nonce:p,data:h})};c(),p();var fl=async({request:e},{wallet:t,secrets:r,utils:n})=>{let s=await t.sol.getSelectedAccount(),o=n.sol.chainIdToCluster(await t.sol.getNetworkId()),a=await r.decryptDeepLinkDappPayload(e.params,e.params.dapp_encryption_public_key,new ve.PublicKey(s),o);if("string"!=typeof a.session||!Array.isArray(a.transactions)||!a.transactions.every(e=>"string"==typeof e))return i.error(e.id,{code:-32e3,message:"Missing or invalid parameters."});let l=await Promise.all(a.transactions.map(e=>t.sol.addPriorityFee(e))),c=await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignAllTransactions",id:ae(),params:[{url:`phantom.app.deep-link-${e.params.redirect_link}`,icon:n.getFaviconURL(e.params.redirect_link)},{transactions:l,autoConfirmStatusCode:"DISABLED"}]});if("error"in c)return i.error(e.id,c.error);let u={transactions:(await t.sol.signAllTransactions(l)).map(e=>e.transaction)},{nonce:d,encryptedPayload:p}=await r.encryptDeepLinkDappPayload(u,new ve.PublicKey(s).toBase58(),e.params.dapp_encryption_public_key);return i.result(e.id,{nonce:d,data:p})};c(),p();var gl=async({request:e})=>i.error(e.id,{code:-32601,message:"This method is not supported"});c(),p();var yl=async({request:e})=>i.error(e.id,{code:-32601,message:"This method is not supported"});c(),p();var $f=Ge.getAllChainIDs(),Gf=(e,t)=>{let r=e?$f.find(t=>e===t):void 0;if(!r)throw new Error(`Chain ${e} not supported`);let n=Ge[r],s=n.mainnetID;return qs("string"!=typeof t?{chainId:s,resourceType:"nativeToken",slip44:n.slip44}:{chainId:s,address:t,resourceType:"address"})},xl=async({request:e},{wallet:t,analytics:r})=>{let{chain:n,address:s}=e.params,o=Gf(n,s);return r.tokenDeepLink({caip19:o,...e.params}),t.navigate("FungibleStack",{screen:"FungibleDetail",params:{caip19:o,entryPoint:"deepLink"}}),i.result(e.id,null)};c(),p();var wl=async({request:e},{wallet:t})=>{if(!Tn())return i.methodNotFound(e.id);let r=null,n=null,{value:s,accounts:o}=e.params;s&&(r=new Uint8Array(Buffer.from(s,"utf-8")),n=Qe.from(r),r.fill(0));let a=o?parseInt(o):1;if(a<1)throw new Error("accounts must be greater than 0");return await t.onboardQuickly(n,a),i.result(e.id,null)};c(),p();var bl=async({request:e},{wallet:t})=>{let r=e.params.buy,n=e.params.amount,s=e.params.redirectURL,o=r?"FiatRampAmount":"FiatRampSelectFungible";return t.navigate("FiatRampStack",{screen:o,params:{buy:r,amount:n,redirectURL:s}}),i.result(e.id,null)};c(),p();var Sl=async({request:e},{wallet:t})=>(t.navigate(e.params.route,e.params.params),i.result(e.id,null));c(),p();var Al=async({request:e},{wallet:t})=>(t.navigate("SocialFeedTab",{screen:"SocialFeed"}),i.result(e.id,null));c(),p();var vl=async({request:e},{wallet:t})=>{let{marketId:r}=e.params;return t.navigate("HomeTab",{screen:"PerpsStack",params:{screen:"Perps"}}),r&&t.navigate("HomeTab",{screen:"PerpsStack",params:{screen:"PerpMarketDetails",params:{marketId:r}}}),i.result(e.id,null)};c(),p();var Rl=async({request:e},{wallet:t})=>(t.navigate("CashTab",{screen:"Cash"}),i.result(e.id,null)),Or={};Ee(Or,{sol_blink_connect:()=>_l,sol_blink_signAndSendAllTransactions:()=>kl,sol_blink_signMessage:()=>Tl}),c(),p(),c(),p();var _l=async({request:e,source:t},{wallet:r,utils:n})=>{let s=e.params.context,{origin:o,hostname:a}=n.getOriginAndHostname(s.blinkUrl);if(!t||!o||!a)return i.unauthorized(e.id);await r.addTrustedApp(o,{icon:new URL(n.getFaviconURL(a)),url:new URL(o)});let l=await r.sol.getSelectedAccount();return i.result(e.id,{publicKey:l})};c(),p();var kl=async({request:e},{wallet:t})=>{let r=await t.sol.getSelectedAccount(),n=await Promise.all(e.params.transactions.map(e=>t.sol.signTransaction(e))),s=await t.sol.sendAllTransactions(n.map(e=>e.transaction));return i.result(e.id,{publicKey:r,signatures:s})};c(),p();var Tl=async({request:e},{wallet:t})=>{let r=await t.sol.getSelectedAccount(),n=await t.sol.signMessage(e.params.message);return i.result(e.id,{publicKey:r,signature:n})},Hr={};Ee(Hr,{eth_blink_requestAccounts:()=>Cl,eth_blink_sendTransaction:()=>El,eth_blink_sign:()=>Il}),c(),p(),c(),p();var El=async({request:e,source:t},{wallet:r,i18n:n,utils:s})=>{let[o,{context:a}]=e.params,l=s.getOrigin(a.blinkUrl);if(!a.blinkUrl||!l)return i.userRejectedRequest(e.id);if(!t)return i.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));if(!await r.isTrustedApp(l))return i.unauthorized(e.id);let c=await r.eth.getSelectedAccount();if(o.from.toLowerCase()!==c.toLowerCase())return i.unauthorized(e.id,n.t("rpcErrorUnauthorizedWrongAccount"));if("0x2"!==o.type)return i.transactionRejected(e.id);if(!o.chainId)return i.transactionRejected(e.id);if(!o.nonce)return i.transactionRejected(e.id);let u=await r.eth.signAndSendTransaction(o);return i.any(e.id,{result:u})};c(),p();var Il=async({request:e},{wallet:t,i18n:r})=>{let[n,s]=e.params,o=await t.eth.getSelectedAccount();if(n.toLowerCase()!==o)return i.unauthorized(e.id,r.t("Message signer address does not match the selected account address."));let a=await t.eth.signMessage(s);return i.result(e.id,a)};c(),p();var Cl=async({request:e,source:t},{wallet:r,utils:n})=>{if(!t)return i.unauthorized(e.id);let{context:s}=e.params,{origin:o,hostname:a}=n.getOriginAndHostname(s.blinkUrl);if(!t||!o||!a)return i.unauthorized(e.id);await r.addTrustedApp(o,{icon:new URL(n.getFaviconURL(a)),url:new URL(o)});let l=await r.eth.getSelectedAccount();return i.result(e.id,[l])},Qt={};Ee(Qt,{sol_mwa_authorize:()=>Ll,sol_mwa_reauthorize:()=>Bl,sol_mwa_sign_and_send_transactions:()=>Ml,sol_mwa_sign_messages:()=>Ul,sol_mwa_sign_transactions:()=>Pl}),c(),p(),c(),p();var Bl=async({request:e},t)=>i.result(e.id,{type:"REAUTHORIZE_SUCCESS"});c(),p();var Ll=async({request:e},{wallet:t,logger:r,utils:n})=>{let{cluster:s="mainnet-beta",identity:o}=e.params,{identityUri:a,iconRelativeUri:l}=o;if(!a)return r.error("identityUri is not defined in sol_mwa_authorize rpc request payload"),i.result(e.id,{type:"AUTHORIZE_DECLINE"});let c="mainnet-beta"===s?"mainnet":"testnet",u=await t.sol.getNetworkId()===ic.value?"mainnet":"testnet";if(c!==u)return await t.requestUserApproval({jsonrpc:"2.0",method:"user_confirmIncorrectMode",id:ae(),params:[{url:`phantom.app.mwa-${a}`,icon:l?`${a}/${l}`:n.getFaviconURL(a)},u]}),i.result(e.id,{type:"AUTHORIZE_DECLINE"});if("error"in await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolConnect",id:ae(),params:[{url:a,icon:l?`${a}/${l}`:n.getFaviconURL(a)}]}))return i.result(e.id,{type:"AUTHORIZE_DECLINE"});let d=await t.sol.getSelectedAccount();return i.result(e.id,{type:"AUTHORIZE_SUCCESS",publicKey:d,accountLabel:"phantom-wallet"})};c(),p();var Gi=re(Ur()),Ml=async({request:e},{wallet:t,logger:r,utils:n})=>{let{publicKey:s,payloads:o,verifiableIdentity:a}=e.params.signPayloads,{identityUri:l,iconRelativeUri:c}=a.identity;if(s!==await t.sol.getSelectedAccount())return i.result(e.id,{type:"SIGN_AND_SEND_TRANSACTIONS_ERROR_AUTHORIZATION_NOT_VALID"});if(!l)return r.error("identityUri is not defined in sol_mwa_sign_and_send_transactions rpc request payload"),i.result(e.id,{type:"SIGN_AND_SEND_TRANSACTIONS_DECLINE"});let u=o.map(e=>Gi.default.encode(Buffer.from(e,"base64"))),d=await Promise.all(u.map(e=>t.sol.addPriorityFee(e)));if("error"in await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignAndSendAllTransactions",id:ae(),params:[{url:`phantom.app.mwa-${l}`,icon:c?`${l}/${c}`:n.getFaviconURL(l)},{transactions:d,autoConfirmStatusCode:"DISABLED"}]}))return i.result(e.id,{type:"SIGN_AND_SEND_TRANSACTIONS_DECLINE"});try{let r=await t.sol.signAllTransactions(d);await t.sol.sendAllTransactions(r.map(e=>e.transaction));let n=r.map(e=>Buffer.from(Gi.default.decode(e.signature)).toString("base64"));return i.result(e.id,{type:"SIGN_AND_SEND_TRANSACTIONS_SUCCESS",signedPayloads:n})}catch{return i.error(e.id,{code:-32603,message:"Internal error"})}};c(),p();var Yi=re(Ur()),Pl=async({request:e},{wallet:t,logger:r,utils:n})=>{let{publicKey:s,payloads:o,verifiableIdentity:a}=e.params.signPayloads,{identityUri:l,iconRelativeUri:c}=a.identity;if(s!==await t.sol.getSelectedAccount())return i.result(e.id,{type:"SIGN_PAYLOADS_ERROR_AUTHORIZATION_NOT_VALID"});if(!l)return r.error("identityUri is not defined in sol_mwa_sign_transactions rpc request payload"),i.result(e.id,{type:"SIGN_PAYLOADS_DECLINE"});let u=o.map(e=>Yi.default.encode(Buffer.from(e,"base64"))),d=await Promise.all(u.map(e=>t.sol.addPriorityFee(e)));if("error"in await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignAllTransactions",id:ae(),params:[{url:`phantom.app.mwa-${l}`,icon:c?`${l}/${c}`:n.getFaviconURL(l)},{transactions:d,autoConfirmStatusCode:"DISABLED"}]}))return i.result(e.id,{type:"SIGN_PAYLOADS_DECLINE"});try{let r=(await t.sol.signAllTransactions(d)).map(e=>Buffer.from(Yi.default.decode(e.transaction)).toString("base64"));return i.result(e.id,{type:"SIGN_PAYLOADS_SUCCESS",signedPayloads:r})}catch{return i.error(e.id,{code:-32603,message:"Internal error"})}};c(),p();var Zi=re(Ur()),Ul=async({request:e},{wallet:t,logger:r,utils:n})=>{let{publicKey:s,payloads:o,verifiableIdentity:a}=e.params.signPayloads,{identityUri:l,iconRelativeUri:c}=a.identity;if(s!==await t.sol.getSelectedAccount())return i.result(e.id,{type:"SIGN_PAYLOADS_ERROR_AUTHORIZATION_NOT_VALID"});if(!l)return r.error("identityUri is not defined in sol_mwa_sign_messages rpc request payload"),i.result(e.id,{type:"SIGN_PAYLOADS_DECLINE"});let u=Zi.default.encode(Buffer.from(o[0],"base64")),d={message:u,display:"utf8"};if("error"in await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignMessage",id:ae(),params:[{url:`phantom.app.mwa-${l}`,icon:c?`${l}/${c}`:n.getFaviconURL(l)},{...d,autoConfirmStatusCode:"DISABLED"}]}))return i.result(e.id,{type:"SIGN_PAYLOADS_DECLINE"});try{let r=await t.sol.signMessage(u),n=Buffer.from(Zi.default.decode(r)).toString("base64");return i.result(e.id,{type:"SIGN_PAYLOADS_SUCCESS",signedPayloads:[n]})}catch{return i.error(e.id,{code:-32603,message:"Internal error"})}},mn={};Ee(mn,{sol_pay_transaction:()=>Dl,sol_pay_transfer:()=>Nl}),c(),p(),c(),p();var Nl=async({request:e},{wallet:t})=>await t.sol.handleSolanaPayTransfer(e.params)?i.result(e.id,null):i.error(e.id,{code:-32e3,message:"Missing or invalid parameters."});c(),p();var Dl=async({request:e},{wallet:t})=>{let r=await t.sol.handleSolanaPayTransaction(e.params);if(!r){let r=await t.requestUserApproval({jsonrpc:"2.0",method:"user_confirmSolPayError",id:ae(),params:[{url:e.params.link,icon:null}]});return"error"in r?i.error(e.id,r.error):i.invalidInput(e.id)}let{icon:n,label:s,transaction:o}=r,a=await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolPayTransaction",id:ae(),params:[{url:e.params.link,icon:n},{label:s,transaction:o}]});if("error"in a)return i.error(e.id,a.error);if(!o)return i.error(e.id,{code:-32e3,message:"Missing or invalid parameters."});switch(a.result.type){case"send":await t.sol.sendTransaction(o);break;case"signAndSend":{let e=await t.sol.signTransaction(o);await t.sol.sendTransaction(e.transaction);break}}return i.result(e.id,null)},gr={};Ee(gr,{sui_requestAccounts:()=>ql,sui_signAndExecuteTransaction:()=>Fl,sui_signMessage:()=>Hl,sui_signTransaction:()=>Ol}),c(),p(),c(),p();var ql=async({request:e,source:t},{wallet:r})=>{if(!t)return i.unauthorized(e.id);let n=F(t),s=ye(t),o=ue(t);if(!n||!o)return i.unauthorized(e.id);let a={url:o,icon:s?new URL(s):void 0};await r.addTrustedApp(n,a);let l=await r.sui.getSelectedAccount();return i.result(e.id,l)};c(),p();var Ol=async({request:e},{wallet:t})=>{let r=await t.sui.signTransaction(e.params.address,e.params.transaction,e.params.networkID);return i.result(e.id,r)};c(),p();var Hl=async({request:e},{wallet:t})=>{let r=await t.sui.signMessage(e.params.address,e.params.message);return i.result(e.id,r)};c(),p();var Fl=async({request:e},{wallet:t})=>{let r=await t.sui.signAndExecuteTransaction(e.params.address,e.params.transaction,e.params.networkID);return i.result(e.id,r)},Fr={};Ee(Fr,{phantom_getUser:()=>Wl,phantom_login:()=>jl,phantom_logout:()=>Vl}),c(),p(),c(),p();var Wl=async({request:e},{wallet:t})=>{let r=await t.getUser();return i.result(e.id,r)};c(),p();var jl=async({request:e},{wallet:t})=>{try{return await t.login(),i.result(e.id,null)}catch{return i.userRejectedRequest(e.id)}};c(),p();var Vl=async({request:e},{wallet:t})=>{try{return await t.logout(),i.result(e.id,null)}catch{return i.internalError(e.id)}},yr={};Ee(yr,{phantom_auto_confirm_disable:()=>$l,phantom_auto_confirm_enable:()=>zl,phantom_auto_confirm_status:()=>Kl,phantom_auto_confirm_supported_chains:()=>Gl}),c(),p(),c(),p();var zl=async({request:e,source:t},{wallet:r,i18n:n})=>{if(!t)return i.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let s=F(t),o=ue(t);if(!s||!o)return i.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let{enabled:a,networks:l}=await r.getAutoConfirmStatus(s);if(a)return i.result(e.id,{enabled:!0,chains:l});let c=await r.fetchAutoConfirmSupportedNetworks(s);if(!c||0===c.length)return i.unsupportedMethod(e.id,"No supported networks found for this domain.");let u=e.params.chains||[],d=ye(t);if("error"in await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveEnableAutoconfirm",id:ae(),params:[{url:o.toString(),icon:d},{origin:s,requestedChains:u}]}))return i.userRejectedRequest(e.id,"User rejected auto confirm");try{await r.enableAutoConfirm(s,u);let{enabled:t,networks:n}=await r.getAutoConfirmStatus(s);return i.result(e.id,{enabled:t,chains:n})}catch{return i.error(e.id,{code:-32603,message:"Failed to enable auto confirm"})}};c(),p();var Kl=async({request:e,source:t},{wallet:r,i18n:n})=>{if(!t)return i.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let s=F(t);if(!s)return i.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));try{let{enabled:t,networks:n}=await r.getAutoConfirmStatus(s);return i.result(e.id,{enabled:t,chains:n})}catch{return i.error(e.id,{code:-32603,message:"Failed to get auto confirm status"})}};c(),p();var $l=async({request:e,source:t},{wallet:r,i18n:n})=>{if(!t)return i.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let s=F(t);if(!s)return i.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));try{await r.disableAutoConfirm(s);let{enabled:t,networks:n}=await r.getAutoConfirmStatus(s);return i.result(e.id,{enabled:t,chains:n})}catch{return i.error(e.id,{code:-32603,message:"Failed to disable auto confirm"})}};c(),p();var Gl=async({request:e,source:t},{wallet:r,i18n:n})=>{if(!t)return i.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let s=F(t);if(!s)return i.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));try{let t=await r.fetchAutoConfirmSupportedNetworks(s);return i.result(e.id,{chains:t})}catch{return i.error(e.id,{code:-32603,message:"Failed to get supported chains for auto confirm"})}},vt={};Ee(vt,{btc:()=>Qi,eth:()=>Xi,eth_blink:()=>ra,phantom_auto_confirm:()=>aa,phantom_deep_link:()=>ea,phantom_embedded:()=>ia,sol:()=>Ji,sol_blink:()=>ta,sol_mwa:()=>na,sol_pay:()=>sa,sui:()=>oa}),c(),p();var Xi={};Ee(Xi,{initialize:()=>Yf}),c(),p();var Yf=(e,t="BrowserTabRpcRequestSource")=>({eth_accounts:K().parse(he.eth_accounts).context(e).use([Ce(100),oe(t),z,me,ie],Ko),eth_blockNumber:K().parse(he.eth_blockNumber).context(e).use([z,oe(t),me,ie],$o),eth_call:K().parse(he.eth_call).context(e).use([z,oe(t),me,ie],Go),eth_cancelPrivateTransaction:K().parse(he.eth_cancelPrivateTransaction).context(e).use([z,oe(t),me,ie],Yo),eth_chainId:K().parse(he.eth_chainId).context(e).use([z,oe(t),me,ie],Zo),eth_estimateGas:K().parse(he.eth_estimateGas).context(e).use([z,oe(t),me,ie],Xo),eth_feeHistory:K().parse(he.eth_feeHistory).context(e).use([z,oe(t),me,ie],Jo),eth_gasPrice:K().parse(he.eth_gasPrice).context(e).use([z,oe(t),me,ie],Qo),eth_getBalance:K().parse(he.eth_getBalance).context(e).use([z,oe(t),me,ie],ei),eth_getBlockByHash:K().parse(he.eth_getBlockByHash).context(e).use([z,oe(t),me,ie],ti),eth_getBlockByNumber:K().parse(he.eth_getBlockByNumber).context(e).use([z,oe(t),me,ie],ri),eth_getBlockReceipts:K().parse(he.eth_getBlockReceipts).context(e).use([z,oe(t),me,ie],ni),eth_getBlockTransactionCountByHash:K().parse(he.eth_getBlockTransactionCountByHash).context(e).use([z,oe(t),me,ie],si),eth_getBlockTransactionCountByNumber:K().parse(he.eth_getBlockTransactionCountByNumber).context(e).use([z,oe(t),me,ie],oi),eth_getCode:K().parse(he.eth_getCode).context(e).use([z,oe(t),me,ie],ii),eth_getFilterChanges:K().parse(he.eth_getFilterChanges).context(e).use([z,oe(t),me,ie],ai),eth_getFilterLogs:K().parse(he.eth_getFilterLogs).context(e).use([z,oe(t),me,ie],ci),eth_getLogs:K().parse(he.eth_getLogs).context(e).use([z,oe(t),me,ie],pi),eth_getProof:K().parse(he.eth_getProof).context(e).use([z,oe(t),me,ie],di),eth_getStorageAt:K().parse(he.eth_getStorageAt).context(e).use([z,oe(t),me,ie],li),eth_getTransactionByBlockHashAndIndex:K().parse(he.eth_getTransactionByBlockHashAndIndex).context(e).use([z,oe(t),me,ie],ui),eth_getTransactionByBlockNumberAndIndex:K().parse(he.eth_getTransactionByBlockNumberAndIndex).context(e).use([z,oe(t),me,ie],mi),eth_getTransactionByHash:K().parse(he.eth_getTransactionByHash).context(e).use([z,oe(t),me,ie],hi),eth_getTransactionCount:K().parse(he.eth_getTransactionCount).context(e).use([z,oe(t),me,ie],fi),eth_getTransactionReceipt:K().parse(he.eth_getTransactionReceipt).context(e).use([z,oe(t),me,ie],gi),eth_getUncleByBlockHashAndIndex:K().parse(he.eth_getUncleByBlockHashAndIndex).context(e).use([z,oe(t),me,ie],yi),eth_getUncleByBlockNumberAndIndex:K().parse(he.eth_getUncleByBlockNumberAndIndex).context(e).use([z,oe(t),me,ie],xi),eth_getUncleCountByBlockHash:K().parse(he.eth_getUncleCountByBlockHash).context(e).use([z,oe(t),me,ie],wi),eth_getUncleCountByBlockNumber:K().parse(he.eth_getUncleCountByBlockNumber).context(e).use([z,oe(t),me,ie],bi),eth_maxPriorityFeePerGas:K().parse(he.eth_maxPriorityFeePerGas).context(e).use([z,oe(t),me,ie],Si),eth_newBlockFilter:K().parse(he.eth_newBlockFilter).context(e).use([z,oe(t),me,ie],Ai),eth_newFilter:K().parse(he.eth_newFilter).context(e).use([z,oe(t),me,ie],vi),eth_newPendingTransactionFilter:K().parse(he.eth_newPendingTransactionFilter).context(e).use([z,oe(t),me,ie],Ri),eth_protocolVersion:K().parse(he.eth_protocolVersion).context(e).use([z,oe(t),me,ie],_i),eth_requestAccounts:K().parse(he.eth_requestAccounts).context(e).use([Ce(100),oe(t),z,me,ie,yo,vo],ki),eth_sendRawTransaction:K().parse(he.eth_sendRawTransaction).context(e).use([z,oe(t),me,ie],Ti),eth_sendPrivateTransaction:K().parse(he.eth_sendPrivateTransaction).context(e).use([z,oe(t),me,ie],Ei),eth_sendTransaction:K().parse(he.eth_sendTransaction).context(e).use([z,oe(t),je,me,ie,Oe(t),un,Jt,ko],Ii),eth_sign:K().parse(he.eth_sign).context(e).use([z,oe(t),je,me,ie,Oe(t),Eo],Ci),eth_signTypedData:K().parse(he.eth_signTypedData).context(e).use([z,oe(t),je,me,ie,Oe(t),Jt,Co],Bi),eth_signTypedData_v3:K().parse(he.eth_signTypedData_v3).context(e).use([z,oe(t),je,me,ie,Oe(t),Jt,Bo],Li),eth_signTypedData_v4:K().parse(he.eth_signTypedData_v4).context(e).use([z,oe(t),je,me,ie,Oe(t),Jt,Lo],Mi),eth_subscribe:K().parse(he.eth_subscribe).context(e).use([z,oe(t),me,ie],Pi),eth_syncing:K().parse(he.eth_syncing).context(e).use([z,oe(t),me,ie],Ui),eth_uninstallFilter:K().parse(he.eth_uninstallFilter).context(e).use([z,oe(t),me,ie],Ni),eth_unsubscribe:K().parse(he.eth_unsubscribe).context(e).use([z,oe(t),me,ie],Di),net_listening:K().parse(he.net_listening).context(e).use([z,oe(t),me,ie],qi),net_version:K().parse(he.net_version).context(e).use([z,oe(t),me,ie],Oi),personal_sign:K().parse(he.personal_sign).context(e).use([z,oe(t),je,me,ie,Oe(t),Mo],Hi),wallet_addEthereumChain:K().parse(he.wallet_addEthereumChain).context(e).use([z,oe(t),me,ie,Jt],Fi),wallet_selectEthereumProvider:K().parse(he.wallet_selectEthereumProvider).context(e).use([z,oe(t),me,ie],Wi),wallet_switchEthereumChain:K().parse(he.wallet_switchEthereumChain).context(e).use([z,oe(t),me,ie,Oe(t),Jt],ji),wallet_requestPermissions:K().parse(he.wallet_requestPermissions).context(e).use([z,oe(t),me,ie,_o],Ki),wallet_getPermissions:K().parse(he.wallet_getPermissions).context(e).use([z,oe(t),me,ie],$i),web3_clientVersion:K().parse(he.web3_clientVersion).context(e).use([z,oe(t),me,ie],Vi),web3_sha3:K().parse(he.web3_sha3).context(e).use([z,oe(t),me,ie],zi)}),Ji={};Ee(Ji,{initialize:()=>Zf}),c(),p();var Zf=(e,t="BrowserTabRpcRequestSource")=>({sol_connect:K().parse(bt.sol_connect).context(e).use([Ce(10),oe(t),z,Ze,rt,ie,Po],ht.sol_connect),sol_disconnect:K().parse(bt.sol_disconnect).context(e).use([z,oe(t),rt,ie],ht.sol_disconnect),sol_signAllTransactions:K().parse(bt.sol_signAllTransactions).context(e).use([z,oe(t),je,rt,ie,Oe(t),Zt,No],ht.sol_signAllTransactions),sol_signAndSendTransaction:K().parse(bt.sol_signAndSendTransaction).context(e).use([z,oe(t),je,rt,ie,Oe(t),Zt,Oo],ht.sol_signAndSendTransaction),sol_signAndSendAllTransactions:K().parse(bt.sol_signAndSendAllTransactions).context(e).use([z,oe(t),je,rt,ie,Oe(t),Zt,Do],ht.sol_signAndSendAllTransactions),sol_signMessage:K().parse(bt.sol_signMessage).context(e).use([z,oe(t),je,rt,ie,Oe(t),wo,Ho],ht.sol_signMessage),sol_signTransaction:K().parse(bt.sol_signTransaction).context(e).use([z,oe(t),je,rt,ie,Oe(t),Zt,Wo],ht.sol_signTransaction),sol_signIn:K().parse(bt.sol_signIn).context(e).use([z,oe(t),Ze,rt,ie],ht.sol_signIn)}),Qi={};Ee(Qi,{initialize:()=>Xf}),c(),p();var Xf=(e,t="BrowserTabRpcRequestSource")=>({btc_requestAccounts:K().parse(Jr.btc_requestAccounts).context(e).use([Ce(10),oe(t),z,ln,bo],qr.btc_requestAccounts),btc_signPSBT:K().parse(Jr.btc_signPSBT).context(e).use([z,oe(t),ln,Ao],qr.btc_signPSBT),btc_signMessage:K().parse(Jr.btc_signMessage).context(e).use([z,oe(t),ln,So],qr.btc_signMessage)}),ea={};Ee(ea,{initialize:()=>Jf}),c(),p();var Jf=e=>({phantom_deep_link_browse:K().parse(Ne.phantom_deep_link_browse).context(e).use([Ce(10),z,nt],Le.phantom_deep_link_browse),phantom_deep_link_tokens:K().parse(Ne.phantom_deep_link_tokens).context(e).use([z,nt],Le.phantom_deep_link_tokens),phantom_deep_link_swap:K().parse(Ne.phantom_deep_link_swap).context(e).use([z,Ze],Le.phantom_deep_link_swap),phantom_deep_link_navigate:K().parse(Ne.phantom_deep_link_navigate).context(e).use([z,Ze],Le.phantom_deep_link_navigate),phantom_deep_link_explore:K().parse(Ne.phantom_deep_link_explore).context(e).use([z],Le.phantom_deep_link_explore),phantom_deep_link_feature_flags:K().parse(Ne.phantom_deep_link_feature_flags).context(e).use([z,Ze],Le.phantom_deep_link_feature_flags),phantom_deep_link_onramp:K().parse(Ne.phantom_deep_link_onramp).context(e).use([z,Ze],Le.phantom_deep_link_onramp),phantom_deep_link_fungible:K().parse(Ne.phantom_deep_link_fungible).context(e).use([z],Le.phantom_deep_link_fungible),phantom_deep_link_user:K().parse(Ne.phantom_deep_link_user).context(e).use([z,nt],Le.phantom_deep_link_user),phantom_deep_link_social:K().parse(Ne.phantom_deep_link_social).context(e).use([z,Ze],Le.phantom_deep_link_social),phantom_deep_link_notification_center:K().parse(Ne.phantom_deep_link_notification_center).context(e).use([z,Ze],Le.phantom_deep_link_notification_center),phantom_deep_link_mint_psol_marketing:K().parse(Ne.phantom_deep_link_mint_psol_marketing).context(e).use([z,Ze],Le.phantom_deep_link_mint_psol_marketing),phantom_deep_link_onboard:K().parse(Ne.phantom_deep_link_onboard).context(e).use([z],Le.phantom_deep_link_onboard),phantom_deep_link_connect:K().parse(Ne.phantom_deep_link_connect).context(e).use([z,nt],Le.phantom_deep_link_connect),phantom_deep_link_disconnect:K().parse(Ne.phantom_deep_link_disconnect).context(e).use([z,nt],Le.phantom_deep_link_disconnect),phantom_deep_link_signMessage:K().parse(Ne.phantom_deep_link_signMessage).context(e).use([z,nt],Le.phantom_deep_link_signMessage),phantom_deep_link_signIn:K().parse(Ne.phantom_deep_link_signIn).context(e).use([z,nt],Le.phantom_deep_link_signIn),phantom_deep_link_signTransaction:K().parse(Ne.phantom_deep_link_signTransaction).context(e).use([z,nt],Le.phantom_deep_link_signTransaction),phantom_deep_link_signAllTransactions:K().parse(Ne.phantom_deep_link_signAllTransactions).context(e).use([z,nt],Le.phantom_deep_link_signAllTransactions),phantom_deep_link_signAndSendTransaction:K().parse(Ne.phantom_deep_link_signAndSendTransaction).context(e).use([z,nt],Le.phantom_deep_link_signAndSendTransaction),phantom_deep_link_signAndSendAllTransactions:K().parse(Ne.phantom_deep_link_signAndSendAllTransactions).context(e).use([z,nt],Le.phantom_deep_link_signAndSendAllTransactions),phantom_deep_link_perps:K().parse(Ne.phantom_deep_link_perps).context(e).use([z,Ze],Le.phantom_deep_link_perps),phantom_deep_link_cash:K().parse(Ne.phantom_deep_link_cash).context(e).use([z,nt],Le.phantom_deep_link_cash)}),ta={};Ee(ta,{initialize:()=>Qf}),c(),p();var Qf=(e,t="BrowserTabRpcRequestSource")=>({sol_blink_connect:K().parse(It.sol_blink_connect).context(e).use([Ce(10),oe(t),z,rt,ie,Pt,Uo],Or.sol_blink_connect),sol_blink_signMessage:K().parse(It.sol_blink_signMessage).context(e).use([z,oe(t),je,rt,ie,Pt,fr,Fo],Or.sol_blink_signMessage),sol_blink_signAndSendAllTransactions:K().parse(It.sol_blink_signAndSendAllTransactions).context(e).use([z,oe(t),je,rt,ie,Pt,fr,Zt,qo],Or.sol_blink_signAndSendAllTransactions)}),ra={};Ee(ra,{initialize:()=>eg}),c(),p();var eg=(e,t="BrowserTabRpcRequestSource")=>({eth_blink_requestAccounts:K().parse(Et.eth_blink_requestAccounts).context(e).use([Ce(100),oe(t),z,me,ie,Pt,xo,Ro],Hr.eth_blink_requestAccounts),eth_blink_sendTransaction:K().parse(Et.eth_blink_sendTransaction).context(e).use([oe(t),z,je,ie,Pt,fr,un,go,To],Hr.eth_blink_sendTransaction),eth_blink_sign:K().parse(Et.eth_blink_sign).context(e).use([oe(t),z,je,ie,Pt,fr,Io],Hr.eth_blink_sign)}),na={};Ee(na,{initialize:()=>tg}),c(),p();var tg=e=>({sol_mwa_authorize:K().parse(Rr.sol_mwa_authorize).context(e).use([Ce(10),z,Nr],Qt.sol_mwa_authorize),sol_mwa_reauthorize:K().parse(Rr.sol_mwa_reauthorize).context(e).use([z],Qt.sol_mwa_reauthorize),sol_mwa_sign_messages:K().parse(Rr.sol_mwa_sign_messages).context(e).use([z,Nr],Qt.sol_mwa_sign_messages),sol_mwa_sign_transactions:K().parse(Rr.sol_mwa_sign_transactions).context(e).use([z,Nr],Qt.sol_mwa_sign_transactions),sol_mwa_sign_and_send_transactions:K().parse(Rr.sol_mwa_sign_and_send_transactions).context(e).use([z,Nr],Qt.sol_mwa_sign_and_send_transactions)}),sa={};Ee(sa,{initialize:()=>rg}),c(),p();var rg=e=>({sol_pay_transfer:K().parse(Ns.sol_pay_transfer).context(e).use([z],mn.sol_pay_transfer),sol_pay_transaction:K().parse(Ns.sol_pay_transaction).context(e).use([z],mn.sol_pay_transaction)}),oa={};Ee(oa,{initialize:()=>ng}),c(),p();var ng=(e,t="BrowserTabRpcRequestSource")=>({sui_requestAccounts:K().parse(kr.sui_requestAccounts).context(e).use([Ce(100),oe(t),z,Ze,Dr,ie,Vo],gr.sui_requestAccounts),sui_signMessage:K().parse(kr.sui_signMessage).context(e).use([z,oe(t),Dr,ie,Oe(t),zo],gr.sui_signMessage),sui_signTransaction:K().parse(kr.sui_signTransaction).context(e).use([z,oe(t),Dr,ie,Oe(t),ss],gr.sui_signTransaction),sui_signAndExecuteTransaction:K().parse(kr.sui_signAndExecuteTransaction).context(e).use([z,oe(t),Dr,ie,Oe(t),ss],gr.sui_signAndExecuteTransaction)}),ia={};Ee(ia,{initialize:()=>sg}),c(),p();var sg=e=>({phantom_getUser:K().parse(kn.phantom_getUser).context(e).use([Ce(10),z],Fr.phantom_getUser),phantom_login:K().parse(kn.phantom_login).context(e).use([Ce(10),z,Ze],Fr.phantom_login),phantom_logout:K().parse(kn.phantom_logout).context(e).use([Ce(10),z],Fr.phantom_logout)}),aa={};Ee(aa,{initialize:()=>og}),c(),p();var og=(e,t="BrowserTabRpcRequestSource")=>({phantom_auto_confirm_enable:K().parse(Qr.phantom_auto_confirm_enable).context(e).use([Ce(10),z,oe(t),ie,Oe(t)],yr.phantom_auto_confirm_enable),phantom_auto_confirm_status:K().parse(Qr.phantom_auto_confirm_status).context(e).use([Ce(10),z,oe(t),ie,Oe(t)],yr.phantom_auto_confirm_status),phantom_auto_confirm_disable:K().parse(Qr.phantom_auto_confirm_disable).context(e).use([Ce(10),z,oe(t),ie,Oe(t)],yr.phantom_auto_confirm_disable),phantom_auto_confirm_supported_chains:K().parse(Qr.phantom_auto_confirm_supported_chains).context(e).use([Ce(10),z,oe(t),ie,Oe(t)],yr.phantom_auto_confirm_supported_chains)});c(),p(),c(),p();var Yl={isEnabled:async e=>Mn.isFeatureEnabledAsync(e)};c(),p();var Zl={getValue:async e=>Ec(()=>Ic(e))};c(),p();var Rt=e=>t=>{Te.capture(e,{data:t})},Xl={deepLinkDetected:Rt("deepLinkDetected"),tokenDeepLink:Rt("deepLinkTokens"),userDeepLink:Rt("deepLinkUser"),metamaskOverrideSelection:Rt("notificationMetamaskOverrideSelection"),approveConnection:Rt("connectionConfirm"),declineConnection:Rt("connectionDeny"),approveSignMessage:Rt("signMessageConfirm"),declineSignMessage:Rt("signMessageDeny"),approveTransaction:Rt("transactionConfirm"),declineTransaction:Rt("transactionDeny"),eth:{submittedTransaction:async({origin:e,request:t,signatures:r})=>{try{let n=await rn(t,{origin:e},r);if(!n.success)throw new Error(`Failed to capture signature event analytics: ${n.error}`);await Ws(Te,{data:{...n.data,ids:n.data.ids??r},action:"dapp"})}catch(e){le.captureError(e,"provider")}},signedMessage:async({origin:e,request:t,chainId:r})=>{try{let n=await nn(t,{origin:e,chainId:Ps(r)});if(!n.success)throw new Error(`Failed to capture signature event analytics: ${n.error}`);await js(Te,n.data)}catch(e){le.captureError(e,"provider")}},autoConfirmedTransaction:async({origin:e,request:t,data:r})=>{try{let n=new on(Te),s=await rn(t,{origin:e});if(!s.success)throw new Error(`Failed to capture signature event analytics: ${s.error}`);await n.transactionAutoConfirmed({...s.data,autoConfirm:r})}catch(e){le.captureError(e,"provider")}},autoConfirmedMessage:async({origin:e,request:t,chainId:r,data:n})=>{try{let s=new on(Te),i=await nn(t,{origin:e,chainId:Ps(r)});if(!i.success)throw new Error(`Failed to capture signature event analytics: ${i.error}`);await s.messageAutoConfirmed({...i.data,autoConfirm:n})}catch(e){le.captureError(e,"provider")}},unsupportedChain:async({origin:e,data:t})=>{try{await Te.capture("unsupportedChainId",{data:{origin:e,chainType:"eip155",chainId:Cr(t.hexChainId),chainName:t.chainName,method:t.method}})}catch(e){le.captureError(e,"provider")}}},sol:{submittedTransaction:async({origin:e,request:t,chainId:r,signatures:n})=>{try{let s=await rn(t,{origin:e,chainId:r},n);if(!s.success)throw new Error(`Failed to capture signature event analytics: ${s.error}`);await Ws(Te,{data:{...s.data,ids:s.data.ids??n},action:"dapp"})}catch(e){le.captureError(e,"provider")}},signedMessage:async({origin:e,request:t,chainId:r})=>{try{let n=await nn(t,{origin:e,chainId:r});if(!n.success)throw new Error(`Failed to capture signature event analytics: ${n.error}`);await js(Te,n.data)}catch(e){le.captureError(e,"provider")}},autoConfirmedTransaction:async({origin:e,request:t,data:r,chainId:n})=>{try{let s=new on(Te),i=await rn(t,{origin:e,chainId:n});if(!i.success)throw new Error(`Failed to capture signature event analytics: ${i.error}`);await s.transactionAutoConfirmed({...i.data,autoConfirm:r})}catch(e){le.captureError(e,"provider")}},autoConfirmedMessage:async({origin:e,request:t,chainId:r,data:n})=>{try{let s=new on(Te),i=await nn(t,{origin:e,chainId:r});if(!i.success)throw new Error(`Failed to capture signature event analytics: ${i.error}`);await s.messageAutoConfirmed({...i.data,autoConfirm:n})}catch(e){le.captureError(e,"provider")}}}};c(),p();var Jl={env:uc()?"production":"development",logRequestMethods:new Set(["eth_requestAccounts","eth_accounts","eth_sendTransaction","eth_sign","personal_sign"]),logRequestsOnError:!0};c(),p();var Ql={t:e=>e};c(),p();var eu={debug(...e){console.debug(...e)},warn(...e){console.warn(...e)},error(...e){le.addBreadcrumb("provider",e.join(", "),"error")}};c(),p();var tu={eth:$c};function is(e,t){let{expectedAddress:r,expectedURL:n,expectedChainId:s,issuedAtThreshold:i}=t,o=[],a=Date.now();if(e.address!==r&&o.push("ADDRESS_MISMATCH"),e.domain!==n.host&&o.push("DOMAIN_MISMATCH"),e.uri&&e.uri.origin!==n.origin&&o.push("URI_MISMATCH"),e.chainId&&("sign-in-with-solana"!==e.type&&e.chainId!==s||"sign-in-with-solana"===e.type&&e.chainId.replace(/solana:/g,"")!==s)&&o.push("CHAIN_ID_MISMATCH"),e.issuedAt){let t=e.issuedAt.getTime();Math.abs(t-a)>i&&(t<a?o.push("ISSUED_TOO_FAR_IN_THE_PAST"):o.push("ISSUED_TOO_FAR_IN_THE_FUTURE"))}if(e.expirationTime){let t=e.expirationTime.getTime();t<=a&&o.push("EXPIRED"),e.issuedAt&&t<e.issuedAt.getTime()&&o.push("EXPIRES_BEFORE_ISSUANCE"),e.notBefore&&e.notBefore.getTime()>t&&o.push("VALID_AFTER_EXPIRATION")}return o}function ca(){let e={grammarObject:"grammarObject",rules:[]};return e.rules[0]={name:"ALPHA",lower:"alpha",index:0,isBkr:!1},e.rules[1]={name:"BIT",lower:"bit",index:1,isBkr:!1},e.rules[2]={name:"CHAR",lower:"char",index:2,isBkr:!1},e.rules[3]={name:"CR",lower:"cr",index:3,isBkr:!1},e.rules[4]={name:"CRLF",lower:"crlf",index:4,isBkr:!1},e.rules[5]={name:"CTL",lower:"ctl",index:5,isBkr:!1},e.rules[6]={name:"DIGIT",lower:"digit",index:6,isBkr:!1},e.rules[7]={name:"DQUOTE",lower:"dquote",index:7,isBkr:!1},e.rules[8]={name:"HEXDIG",lower:"hexdig",index:8,isBkr:!1},e.rules[9]={name:"HTAB",lower:"htab",index:9,isBkr:!1},e.rules[10]={name:"LF",lower:"lf",index:10,isBkr:!1},e.rules[11]={name:"LWSP",lower:"lwsp",index:11,isBkr:!1},e.rules[12]={name:"OCTET",lower:"octet",index:12,isBkr:!1},e.rules[13]={name:"SP",lower:"sp",index:13,isBkr:!1},e.rules[14]={name:"VCHAR",lower:"vchar",index:14,isBkr:!1},e.rules[15]={name:"WSP",lower:"wsp",index:15,isBkr:!1},e.rules[16]={name:"date-fullyear",lower:"date-fullyear",index:16,isBkr:!1},e.rules[17]={name:"date-month",lower:"date-month",index:17,isBkr:!1},e.rules[18]={name:"date-mday",lower:"date-mday",index:18,isBkr:!1},e.rules[19]={name:"time-hour",lower:"time-hour",index:19,isBkr:!1},e.rules[20]={name:"time-minute",lower:"time-minute",index:20,isBkr:!1},e.rules[21]={name:"time-second",lower:"time-second",index:21,isBkr:!1},e.rules[22]={name:"time-secfrac",lower:"time-secfrac",index:22,isBkr:!1},e.rules[23]={name:"time-numoffset",lower:"time-numoffset",index:23,isBkr:!1},e.rules[24]={name:"time-offset",lower:"time-offset",index:24,isBkr:!1},e.rules[25]={name:"partial-time",lower:"partial-time",index:25,isBkr:!1},e.rules[26]={name:"full-date",lower:"full-date",index:26,isBkr:!1},e.rules[27]={name:"full-time",lower:"full-time",index:27,isBkr:!1},e.rules[28]={name:"date-time",lower:"date-time",index:28,isBkr:!1},e.rules[29]={name:"URI",lower:"uri",index:29,isBkr:!1},e.rules[30]={name:"hier-part",lower:"hier-part",index:30,isBkr:!1},e.rules[31]={name:"URI-reference",lower:"uri-reference",index:31,isBkr:!1},e.rules[32]={name:"absolute-URI",lower:"absolute-uri",index:32,isBkr:!1},e.rules[33]={name:"relative-ref",lower:"relative-ref",index:33,isBkr:!1},e.rules[34]={name:"relative-part",lower:"relative-part",index:34,isBkr:!1},e.rules[35]={name:"scheme",lower:"scheme",index:35,isBkr:!1},e.rules[36]={name:"authority",lower:"authority",index:36,isBkr:!1},e.rules[37]={name:"userinfo",lower:"userinfo",index:37,isBkr:!1},e.rules[38]={name:"host",lower:"host",index:38,isBkr:!1},e.rules[39]={name:"port",lower:"port",index:39,isBkr:!1},e.rules[40]={name:"IP-literal",lower:"ip-literal",index:40,isBkr:!1},e.rules[41]={name:"IPvFuture",lower:"ipvfuture",index:41,isBkr:!1},e.rules[42]={name:"IPv6address",lower:"ipv6address",index:42,isBkr:!1},e.rules[43]={name:"h16",lower:"h16",index:43,isBkr:!1},e.rules[44]={name:"ls32",lower:"ls32",index:44,isBkr:!1},e.rules[45]={name:"IPv4address",lower:"ipv4address",index:45,isBkr:!1},e.rules[46]={name:"dec-octet",lower:"dec-octet",index:46,isBkr:!1},e.rules[47]={name:"reg-name",lower:"reg-name",index:47,isBkr:!1},e.rules[48]={name:"path",lower:"path",index:48,isBkr:!1},e.rules[49]={name:"path-abempty",lower:"path-abempty",index:49,isBkr:!1},e.rules[50]={name:"path-absolute",lower:"path-absolute",index:50,isBkr:!1},e.rules[51]={name:"path-noscheme",lower:"path-noscheme",index:51,isBkr:!1},e.rules[52]={name:"path-rootless",lower:"path-rootless",index:52,isBkr:!1},e.rules[53]={name:"path-empty",lower:"path-empty",index:53,isBkr:!1},e.rules[54]={name:"segment",lower:"segment",index:54,isBkr:!1},e.rules[55]={name:"segment-nz",lower:"segment-nz",index:55,isBkr:!1},e.rules[56]={name:"segment-nz-nc",lower:"segment-nz-nc",index:56,isBkr:!1},e.rules[57]={name:"pchar",lower:"pchar",index:57,isBkr:!1},e.rules[58]={name:"query",lower:"query",index:58,isBkr:!1},e.rules[59]={name:"fragment",lower:"fragment",index:59,isBkr:!1},e.rules[60]={name:"pct-encoded",lower:"pct-encoded",index:60,isBkr:!1},e.rules[61]={name:"unreserved",lower:"unreserved",index:61,isBkr:!1},e.rules[62]={name:"reserved",lower:"reserved",index:62,isBkr:!1},e.rules[63]={name:"gen-delims",lower:"gen-delims",index:63,isBkr:!1},e.rules[64]={name:"sub-delims",lower:"sub-delims",index:64,isBkr:!1},e.rules[65]={name:"sign-in-with-ethereum",lower:"sign-in-with-ethereum",index:65,isBkr:!1},e.rules[66]={name:"message-domain",lower:"message-domain",index:66,isBkr:!1},e.rules[67]={name:"message-address",lower:"message-address",index:67,isBkr:!1},e.rules[68]={name:"message-statement",lower:"message-statement",index:68,isBkr:!1},e.rules[69]={name:"message-uri",lower:"message-uri",index:69,isBkr:!1},e.rules[70]={name:"message-version",lower:"message-version",index:70,isBkr:!1},e.rules[71]={name:"message-chain-id",lower:"message-chain-id",index:71,isBkr:!1},e.rules[72]={name:"message-nonce",lower:"message-nonce",index:72,isBkr:!1},e.rules[73]={name:"message-issued-at",lower:"message-issued-at",index:73,isBkr:!1},e.rules[74]={name:"message-expiration-time",lower:"message-expiration-time",index:74,isBkr:!1},e.rules[75]={name:"message-not-before",lower:"message-not-before",index:75,isBkr:!1},e.rules[76]={name:"message-request-id",lower:"message-request-id",index:76,isBkr:!1},e.rules[77]={name:"message-resources",lower:"message-resources",index:77,isBkr:!1},e.udts=[],e.rules[0].opcodes=[],e.rules[0].opcodes[0]={type:1,children:[1,2]},e.rules[0].opcodes[1]={type:5,min:65,max:90},e.rules[0].opcodes[2]={type:5,min:97,max:122},e.rules[1].opcodes=[],e.rules[1].opcodes[0]={type:1,children:[1,2]},e.rules[1].opcodes[1]={type:7,string:[48]},e.rules[1].opcodes[2]={type:7,string:[49]},e.rules[2].opcodes=[],e.rules[2].opcodes[0]={type:5,min:1,max:127},e.rules[3].opcodes=[],e.rules[3].opcodes[0]={type:6,string:[13]},e.rules[4].opcodes=[],e.rules[4].opcodes[0]={type:2,children:[1,2]},e.rules[4].opcodes[1]={type:4,index:3},e.rules[4].opcodes[2]={type:4,index:10},e.rules[5].opcodes=[],e.rules[5].opcodes[0]={type:1,children:[1,2]},e.rules[5].opcodes[1]={type:5,min:0,max:31},e.rules[5].opcodes[2]={type:6,string:[127]},e.rules[6].opcodes=[],e.rules[6].opcodes[0]={type:5,min:48,max:57},e.rules[7].opcodes=[],e.rules[7].opcodes[0]={type:6,string:[34]},e.rules[8].opcodes=[],e.rules[8].opcodes[0]={type:1,children:[1,2,3,4,5,6,7]},e.rules[8].opcodes[1]={type:4,index:6},e.rules[8].opcodes[2]={type:7,string:[97]},e.rules[8].opcodes[3]={type:7,string:[98]},e.rules[8].opcodes[4]={type:7,string:[99]},e.rules[8].opcodes[5]={type:7,string:[100]},e.rules[8].opcodes[6]={type:7,string:[101]},e.rules[8].opcodes[7]={type:7,string:[102]},e.rules[9].opcodes=[],e.rules[9].opcodes[0]={type:6,string:[9]},e.rules[10].opcodes=[],e.rules[10].opcodes[0]={type:6,string:[10]},e.rules[11].opcodes=[],e.rules[11].opcodes[0]={type:3,min:0,max:1/0},e.rules[11].opcodes[1]={type:1,children:[2,3]},e.rules[11].opcodes[2]={type:4,index:15},e.rules[11].opcodes[3]={type:2,children:[4,5]},e.rules[11].opcodes[4]={type:4,index:4},e.rules[11].opcodes[5]={type:4,index:15},e.rules[12].opcodes=[],e.rules[12].opcodes[0]={type:5,min:0,max:255},e.rules[13].opcodes=[],e.rules[13].opcodes[0]={type:6,string:[32]},e.rules[14].opcodes=[],e.rules[14].opcodes[0]={type:5,min:33,max:126},e.rules[15].opcodes=[],e.rules[15].opcodes[0]={type:1,children:[1,2]},e.rules[15].opcodes[1]={type:4,index:13},e.rules[15].opcodes[2]={type:4,index:9},e.rules[16].opcodes=[],e.rules[16].opcodes[0]={type:3,min:4,max:4},e.rules[16].opcodes[1]={type:4,index:6},e.rules[17].opcodes=[],e.rules[17].opcodes[0]={type:3,min:2,max:2},e.rules[17].opcodes[1]={type:4,index:6},e.rules[18].opcodes=[],e.rules[18].opcodes[0]={type:3,min:2,max:2},e.rules[18].opcodes[1]={type:4,index:6},e.rules[19].opcodes=[],e.rules[19].opcodes[0]={type:3,min:2,max:2},e.rules[19].opcodes[1]={type:4,index:6},e.rules[20].opcodes=[],e.rules[20].opcodes[0]={type:3,min:2,max:2},e.rules[20].opcodes[1]={type:4,index:6},e.rules[21].opcodes=[],e.rules[21].opcodes[0]={type:3,min:2,max:2},e.rules[21].opcodes[1]={type:4,index:6},e.rules[22].opcodes=[],e.rules[22].opcodes[0]={type:2,children:[1,2]},e.rules[22].opcodes[1]={type:7,string:[46]},e.rules[22].opcodes[2]={type:3,min:1,max:1/0},e.rules[22].opcodes[3]={type:4,index:6},e.rules[23].opcodes=[],e.rules[23].opcodes[0]={type:2,children:[1,4,5,6]},e.rules[23].opcodes[1]={type:1,children:[2,3]},e.rules[23].opcodes[2]={type:7,string:[43]},e.rules[23].opcodes[3]={type:7,string:[45]},e.rules[23].opcodes[4]={type:4,index:19},e.rules[23].opcodes[5]={type:7,string:[58]},e.rules[23].opcodes[6]={type:4,index:20},e.rules[24].opcodes=[],e.rules[24].opcodes[0]={type:1,children:[1,2]},e.rules[24].opcodes[1]={type:7,string:[122]},e.rules[24].opcodes[2]={type:4,index:23},e.rules[25].opcodes=[],e.rules[25].opcodes[0]={type:2,children:[1,2,3,4,5,6]},e.rules[25].opcodes[1]={type:4,index:19},e.rules[25].opcodes[2]={type:7,string:[58]},e.rules[25].opcodes[3]={type:4,index:20},e.rules[25].opcodes[4]={type:7,string:[58]},e.rules[25].opcodes[5]={type:4,index:21},e.rules[25].opcodes[6]={type:3,min:0,max:1},e.rules[25].opcodes[7]={type:4,index:22},e.rules[26].opcodes=[],e.rules[26].opcodes[0]={type:2,children:[1,2,3,4,5]},e.rules[26].opcodes[1]={type:4,index:16},e.rules[26].opcodes[2]={type:7,string:[45]},e.rules[26].opcodes[3]={type:4,index:17},e.rules[26].opcodes[4]={type:7,string:[45]},e.rules[26].opcodes[5]={type:4,index:18},e.rules[27].opcodes=[],e.rules[27].opcodes[0]={type:2,children:[1,2]},e.rules[27].opcodes[1]={type:4,index:25},e.rules[27].opcodes[2]={type:4,index:24},e.rules[28].opcodes=[],e.rules[28].opcodes[0]={type:2,children:[1,2,3]},e.rules[28].opcodes[1]={type:4,index:26},e.rules[28].opcodes[2]={type:7,string:[116]},e.rules[28].opcodes[3]={type:4,index:27},e.rules[29].opcodes=[],e.rules[29].opcodes[0]={type:2,children:[1,2,3,4,8]},e.rules[29].opcodes[1]={type:4,index:35},e.rules[29].opcodes[2]={type:7,string:[58]},e.rules[29].opcodes[3]={type:4,index:30},e.rules[29].opcodes[4]={type:3,min:0,max:1},e.rules[29].opcodes[5]={type:2,children:[6,7]},e.rules[29].opcodes[6]={type:7,string:[63]},e.rules[29].opcodes[7]={type:4,index:58},e.rules[29].opcodes[8]={type:3,min:0,max:1},e.rules[29].opcodes[9]={type:2,children:[10,11]},e.rules[29].opcodes[10]={type:7,string:[35]},e.rules[29].opcodes[11]={type:4,index:59},e.rules[30].opcodes=[],e.rules[30].opcodes[0]={type:1,children:[1,5,6,7]},e.rules[30].opcodes[1]={type:2,children:[2,3,4]},e.rules[30].opcodes[2]={type:7,string:[47,47]},e.rules[30].opcodes[3]={type:4,index:36},e.rules[30].opcodes[4]={type:4,index:49},e.rules[30].opcodes[5]={type:4,index:50},e.rules[30].opcodes[6]={type:4,index:52},e.rules[30].opcodes[7]={type:4,index:53},e.rules[31].opcodes=[],e.rules[31].opcodes[0]={type:1,children:[1,2]},e.rules[31].opcodes[1]={type:4,index:29},e.rules[31].opcodes[2]={type:4,index:33},e.rules[32].opcodes=[],e.rules[32].opcodes[0]={type:2,children:[1,2,3,4]},e.rules[32].opcodes[1]={type:4,index:35},e.rules[32].opcodes[2]={type:7,string:[58]},e.rules[32].opcodes[3]={type:4,index:30},e.rules[32].opcodes[4]={type:3,min:0,max:1},e.rules[32].opcodes[5]={type:2,children:[6,7]},e.rules[32].opcodes[6]={type:7,string:[63]},e.rules[32].opcodes[7]={type:4,index:58},e.rules[33].opcodes=[],e.rules[33].opcodes[0]={type:2,children:[1,2,6]},e.rules[33].opcodes[1]={type:4,index:34},e.rules[33].opcodes[2]={type:3,min:0,max:1},e.rules[33].opcodes[3]={type:2,children:[4,5]},e.rules[33].opcodes[4]={type:7,string:[63]},e.rules[33].opcodes[5]={type:4,index:58},e.rules[33].opcodes[6]={type:3,min:0,max:1},e.rules[33].opcodes[7]={type:2,children:[8,9]},e.rules[33].opcodes[8]={type:7,string:[35]},e.rules[33].opcodes[9]={type:4,index:59},e.rules[34].opcodes=[],e.rules[34].opcodes[0]={type:1,children:[1,5,6,7]},e.rules[34].opcodes[1]={type:2,children:[2,3,4]},e.rules[34].opcodes[2]={type:7,string:[47,47]},e.rules[34].opcodes[3]={type:4,index:36},e.rules[34].opcodes[4]={type:4,index:49},e.rules[34].opcodes[5]={type:4,index:50},e.rules[34].opcodes[6]={type:4,index:51},e.rules[34].opcodes[7]={type:4,index:53},e.rules[35].opcodes=[],e.rules[35].opcodes[0]={type:2,children:[1,2]},e.rules[35].opcodes[1]={type:4,index:0},e.rules[35].opcodes[2]={type:3,min:0,max:1/0},e.rules[35].opcodes[3]={type:1,children:[4,5,6,7,8]},e.rules[35].opcodes[4]={type:4,index:0},e.rules[35].opcodes[5]={type:4,index:6},e.rules[35].opcodes[6]={type:7,string:[43]},e.rules[35].opcodes[7]={type:7,string:[45]},e.rules[35].opcodes[8]={type:7,string:[46]},e.rules[36].opcodes=[],e.rules[36].opcodes[0]={type:2,children:[1,5,6]},e.rules[36].opcodes[1]={type:3,min:0,max:1},e.rules[36].opcodes[2]={type:2,children:[3,4]},e.rules[36].opcodes[3]={type:4,index:37},e.rules[36].opcodes[4]={type:7,string:[64]},e.rules[36].opcodes[5]={type:4,index:38},e.rules[36].opcodes[6]={type:3,min:0,max:1},e.rules[36].opcodes[7]={type:2,children:[8,9]},e.rules[36].opcodes[8]={type:7,string:[58]},e.rules[36].opcodes[9]={type:4,index:39},e.rules[37].opcodes=[],e.rules[37].opcodes[0]={type:3,min:0,max:1/0},e.rules[37].opcodes[1]={type:1,children:[2,3,4,5]},e.rules[37].opcodes[2]={type:4,index:61},e.rules[37].opcodes[3]={type:4,index:60},e.rules[37].opcodes[4]={type:4,index:64},e.rules[37].opcodes[5]={type:7,string:[58]},e.rules[38].opcodes=[],e.rules[38].opcodes[0]={type:1,children:[1,2,3]},e.rules[38].opcodes[1]={type:4,index:40},e.rules[38].opcodes[2]={type:4,index:45},e.rules[38].opcodes[3]={type:4,index:47},e.rules[39].opcodes=[],e.rules[39].opcodes[0]={type:3,min:0,max:1/0},e.rules[39].opcodes[1]={type:4,index:6},e.rules[40].opcodes=[],e.rules[40].opcodes[0]={type:2,children:[1,2,5]},e.rules[40].opcodes[1]={type:7,string:[91]},e.rules[40].opcodes[2]={type:1,children:[3,4]},e.rules[40].opcodes[3]={type:4,index:42},e.rules[40].opcodes[4]={type:4,index:41},e.rules[40].opcodes[5]={type:7,string:[93]},e.rules[41].opcodes=[],e.rules[41].opcodes[0]={type:2,children:[1,2,4,5]},e.rules[41].opcodes[1]={type:7,string:[118]},e.rules[41].opcodes[2]={type:3,min:1,max:1/0},e.rules[41].opcodes[3]={type:4,index:8},e.rules[41].opcodes[4]={type:7,string:[46]},e.rules[41].opcodes[5]={type:3,min:1,max:1/0},e.rules[41].opcodes[6]={type:1,children:[7,8,9]},e.rules[41].opcodes[7]={type:4,index:61},e.rules[41].opcodes[8]={type:4,index:64},e.rules[41].opcodes[9]={type:7,string:[58]},e.rules[42].opcodes=[],e.rules[42].opcodes[0]={type:1,children:[1,7,14,23,37,51,63,73,83]},e.rules[42].opcodes[1]={type:2,children:[2,6]},e.rules[42].opcodes[2]={type:3,min:6,max:6},e.rules[42].opcodes[3]={type:2,children:[4,5]},e.rules[42].opcodes[4]={type:4,index:43},e.rules[42].opcodes[5]={type:7,string:[58]},e.rules[42].opcodes[6]={type:4,index:44},e.rules[42].opcodes[7]={type:2,children:[8,9,13]},e.rules[42].opcodes[8]={type:7,string:[58,58]},e.rules[42].opcodes[9]={type:3,min:5,max:5},e.rules[42].opcodes[10]={type:2,children:[11,12]},e.rules[42].opcodes[11]={type:4,index:43},e.rules[42].opcodes[12]={type:7,string:[58]},e.rules[42].opcodes[13]={type:4,index:44},e.rules[42].opcodes[14]={type:2,children:[15,17,18,22]},e.rules[42].opcodes[15]={type:3,min:0,max:1},e.rules[42].opcodes[16]={type:4,index:43},e.rules[42].opcodes[17]={type:7,string:[58,58]},e.rules[42].opcodes[18]={type:3,min:4,max:4},e.rules[42].opcodes[19]={type:2,children:[20,21]},e.rules[42].opcodes[20]={type:4,index:43},e.rules[42].opcodes[21]={type:7,string:[58]},e.rules[42].opcodes[22]={type:4,index:44},e.rules[42].opcodes[23]={type:2,children:[24,31,32,36]},e.rules[42].opcodes[24]={type:3,min:0,max:1},e.rules[42].opcodes[25]={type:2,children:[26,30]},e.rules[42].opcodes[26]={type:3,min:0,max:1},e.rules[42].opcodes[27]={type:2,children:[28,29]},e.rules[42].opcodes[28]={type:4,index:43},e.rules[42].opcodes[29]={type:7,string:[58]},e.rules[42].opcodes[30]={type:4,index:43},e.rules[42].opcodes[31]={type:7,string:[58,58]},e.rules[42].opcodes[32]={type:3,min:3,max:3},e.rules[42].opcodes[33]={type:2,children:[34,35]},e.rules[42].opcodes[34]={type:4,index:43},e.rules[42].opcodes[35]={type:7,string:[58]},e.rules[42].opcodes[36]={type:4,index:44},e.rules[42].opcodes[37]={type:2,children:[38,45,46,50]},e.rules[42].opcodes[38]={type:3,min:0,max:1},e.rules[42].opcodes[39]={type:2,children:[40,44]},e.rules[42].opcodes[40]={type:3,min:0,max:2},e.rules[42].opcodes[41]={type:2,children:[42,43]},e.rules[42].opcodes[42]={type:4,index:43},e.rules[42].opcodes[43]={type:7,string:[58]},e.rules[42].opcodes[44]={type:4,index:43},e.rules[42].opcodes[45]={type:7,string:[58,58]},e.rules[42].opcodes[46]={type:3,min:2,max:2},e.rules[42].opcodes[47]={type:2,children:[48,49]},e.rules[42].opcodes[48]={type:4,index:43},e.rules[42].opcodes[49]={type:7,string:[58]},e.rules[42].opcodes[50]={type:4,index:44},e.rules[42].opcodes[51]={type:2,children:[52,59,60,61,62]},e.rules[42].opcodes[52]={type:3,min:0,max:1},e.rules[42].opcodes[53]={type:2,children:[54,58]},e.rules[42].opcodes[54]={type:3,min:0,max:3},e.rules[42].opcodes[55]={type:2,children:[56,57]},e.rules[42].opcodes[56]={type:4,index:43},e.rules[42].opcodes[57]={type:7,string:[58]},e.rules[42].opcodes[58]={type:4,index:43},e.rules[42].opcodes[59]={type:7,string:[58,58]},e.rules[42].opcodes[60]={type:4,index:43},e.rules[42].opcodes[61]={type:7,string:[58]},e.rules[42].opcodes[62]={type:4,index:44},e.rules[42].opcodes[63]={type:2,children:[64,71,72]},e.rules[42].opcodes[64]={type:3,min:0,max:1},e.rules[42].opcodes[65]={type:2,children:[66,70]},e.rules[42].opcodes[66]={type:3,min:0,max:4},e.rules[42].opcodes[67]={type:2,children:[68,69]},e.rules[42].opcodes[68]={type:4,index:43},e.rules[42].opcodes[69]={type:7,string:[58]},e.rules[42].opcodes[70]={type:4,index:43},e.rules[42].opcodes[71]={type:7,string:[58,58]},e.rules[42].opcodes[72]={type:4,index:44},e.rules[42].opcodes[73]={type:2,children:[74,81,82]},e.rules[42].opcodes[74]={type:3,min:0,max:1},e.rules[42].opcodes[75]={type:2,children:[76,80]},e.rules[42].opcodes[76]={type:3,min:0,max:5},e.rules[42].opcodes[77]={type:2,children:[78,79]},e.rules[42].opcodes[78]={type:4,index:43},e.rules[42].opcodes[79]={type:7,string:[58]},e.rules[42].opcodes[80]={type:4,index:43},e.rules[42].opcodes[81]={type:7,string:[58,58]},e.rules[42].opcodes[82]={type:4,index:43},e.rules[42].opcodes[83]={type:2,children:[84,91]},e.rules[42].opcodes[84]={type:3,min:0,max:1},e.rules[42].opcodes[85]={type:2,children:[86,90]},e.rules[42].opcodes[86]={type:3,min:0,max:6},e.rules[42].opcodes[87]={type:2,children:[88,89]},e.rules[42].opcodes[88]={type:4,index:43},e.rules[42].opcodes[89]={type:7,string:[58]},e.rules[42].opcodes[90]={type:4,index:43},e.rules[42].opcodes[91]={type:7,string:[58,58]},e.rules[43].opcodes=[],e.rules[43].opcodes[0]={type:3,min:1,max:4},e.rules[43].opcodes[1]={type:4,index:8},e.rules[44].opcodes=[],e.rules[44].opcodes[0]={type:1,children:[1,5]},e.rules[44].opcodes[1]={type:2,children:[2,3,4]},e.rules[44].opcodes[2]={type:4,index:43},e.rules[44].opcodes[3]={type:7,string:[58]},e.rules[44].opcodes[4]={type:4,index:43},e.rules[44].opcodes[5]={type:4,index:45},e.rules[45].opcodes=[],e.rules[45].opcodes[0]={type:2,children:[1,2,3,4,5,6,7]},e.rules[45].opcodes[1]={type:4,index:46},e.rules[45].opcodes[2]={type:7,string:[46]},e.rules[45].opcodes[3]={type:4,index:46},e.rules[45].opcodes[4]={type:7,string:[46]},e.rules[45].opcodes[5]={type:4,index:46},e.rules[45].opcodes[6]={type:7,string:[46]},e.rules[45].opcodes[7]={type:4,index:46},e.rules[46].opcodes=[],e.rules[46].opcodes[0]={type:1,children:[1,2,5,9,13]},e.rules[46].opcodes[1]={type:4,index:6},e.rules[46].opcodes[2]={type:2,children:[3,4]},e.rules[46].opcodes[3]={type:5,min:49,max:57},e.rules[46].opcodes[4]={type:4,index:6},e.rules[46].opcodes[5]={type:2,children:[6,7]},e.rules[46].opcodes[6]={type:7,string:[49]},e.rules[46].opcodes[7]={type:3,min:2,max:2},e.rules[46].opcodes[8]={type:4,index:6},e.rules[46].opcodes[9]={type:2,children:[10,11,12]},e.rules[46].opcodes[10]={type:7,string:[50]},e.rules[46].opcodes[11]={type:5,min:48,max:52},e.rules[46].opcodes[12]={type:4,index:6},e.rules[46].opcodes[13]={type:2,children:[14,15]},e.rules[46].opcodes[14]={type:7,string:[50,53]},e.rules[46].opcodes[15]={type:5,min:48,max:53},e.rules[47].opcodes=[],e.rules[47].opcodes[0]={type:3,min:0,max:1/0},e.rules[47].opcodes[1]={type:1,children:[2,3,4]},e.rules[47].opcodes[2]={type:4,index:61},e.rules[47].opcodes[3]={type:4,index:60},e.rules[47].opcodes[4]={type:4,index:64},e.rules[48].opcodes=[],e.rules[48].opcodes[0]={type:1,children:[1,2,3,4,5]},e.rules[48].opcodes[1]={type:4,index:49},e.rules[48].opcodes[2]={type:4,index:50},e.rules[48].opcodes[3]={type:4,index:51},e.rules[48].opcodes[4]={type:4,index:52},e.rules[48].opcodes[5]={type:4,index:53},e.rules[49].opcodes=[],e.rules[49].opcodes[0]={type:3,min:0,max:1/0},e.rules[49].opcodes[1]={type:2,children:[2,3]},e.rules[49].opcodes[2]={type:7,string:[47]},e.rules[49].opcodes[3]={type:4,index:54},e.rules[50].opcodes=[],e.rules[50].opcodes[0]={type:2,children:[1,2]},e.rules[50].opcodes[1]={type:7,string:[47]},e.rules[50].opcodes[2]={type:3,min:0,max:1},e.rules[50].opcodes[3]={type:2,children:[4,5]},e.rules[50].opcodes[4]={type:4,index:55},e.rules[50].opcodes[5]={type:3,min:0,max:1/0},e.rules[50].opcodes[6]={type:2,children:[7,8]},e.rules[50].opcodes[7]={type:7,string:[47]},e.rules[50].opcodes[8]={type:4,index:54},e.rules[51].opcodes=[],e.rules[51].opcodes[0]={type:2,children:[1,2]},e.rules[51].opcodes[1]={type:4,index:56},e.rules[51].opcodes[2]={type:3,min:0,max:1/0},e.rules[51].opcodes[3]={type:2,children:[4,5]},e.rules[51].opcodes[4]={type:7,string:[47]},e.rules[51].opcodes[5]={type:4,index:54},e.rules[52].opcodes=[],e.rules[52].opcodes[0]={type:2,children:[1,2]},e.rules[52].opcodes[1]={type:4,index:55},e.rules[52].opcodes[2]={type:3,min:0,max:1/0},e.rules[52].opcodes[3]={type:2,children:[4,5]},e.rules[52].opcodes[4]={type:7,string:[47]},e.rules[52].opcodes[5]={type:4,index:54},e.rules[53].opcodes=[],e.rules[53].opcodes[0]={type:3,min:0,max:0},e.rules[53].opcodes[1]={type:4,index:57},e.rules[54].opcodes=[],e.rules[54].opcodes[0]={type:3,min:0,max:1/0},e.rules[54].opcodes[1]={type:4,index:57},e.rules[55].opcodes=[],e.rules[55].opcodes[0]={type:3,min:1,max:1/0},e.rules[55].opcodes[1]={type:4,index:57},e.rules[56].opcodes=[],e.rules[56].opcodes[0]={type:3,min:1,max:1/0},e.rules[56].opcodes[1]={type:1,children:[2,3,4,5]},e.rules[56].opcodes[2]={type:4,index:61},e.rules[56].opcodes[3]={type:4,index:60},e.rules[56].opcodes[4]={type:4,index:64},e.rules[56].opcodes[5]={type:7,string:[64]},e.rules[57].opcodes=[],e.rules[57].opcodes[0]={type:1,children:[1,2,3,4,5]},e.rules[57].opcodes[1]={type:4,index:61},e.rules[57].opcodes[2]={type:4,index:60},e.rules[57].opcodes[3]={type:4,index:64},e.rules[57].opcodes[4]={type:7,string:[58]},e.rules[57].opcodes[5]={type:7,string:[64]},e.rules[58].opcodes=[],e.rules[58].opcodes[0]={type:3,min:0,max:1/0},e.rules[58].opcodes[1]={type:1,children:[2,3,4]},e.rules[58].opcodes[2]={type:4,index:57},e.rules[58].opcodes[3]={type:7,string:[47]},e.rules[58].opcodes[4]={type:7,string:[63]},e.rules[59].opcodes=[],e.rules[59].opcodes[0]={type:3,min:0,max:1/0},e.rules[59].opcodes[1]={type:1,children:[2,3,4]},e.rules[59].opcodes[2]={type:4,index:57},e.rules[59].opcodes[3]={type:7,string:[47]},e.rules[59].opcodes[4]={type:7,string:[63]},e.rules[60].opcodes=[],e.rules[60].opcodes[0]={type:2,children:[1,2,3]},e.rules[60].opcodes[1]={type:7,string:[37]},e.rules[60].opcodes[2]={type:4,index:8},e.rules[60].opcodes[3]={type:4,index:8},e.rules[61].opcodes=[],e.rules[61].opcodes[0]={type:1,children:[1,2,3,4,5,6]},e.rules[61].opcodes[1]={type:4,index:0},e.rules[61].opcodes[2]={type:4,index:6},e.rules[61].opcodes[3]={type:7,string:[45]},e.rules[61].opcodes[4]={type:7,string:[46]},e.rules[61].opcodes[5]={type:7,string:[95]},e.rules[61].opcodes[6]={type:7,string:[126]},e.rules[62].opcodes=[],e.rules[62].opcodes[0]={type:1,children:[1,2]},e.rules[62].opcodes[1]={type:4,index:63},e.rules[62].opcodes[2]={type:4,index:64},e.rules[63].opcodes=[],e.rules[63].opcodes[0]={type:1,children:[1,2,3,4,5,6,7]},e.rules[63].opcodes[1]={type:7,string:[58]},e.rules[63].opcodes[2]={type:7,string:[47]},e.rules[63].opcodes[3]={type:7,string:[63]},e.rules[63].opcodes[4]={type:7,string:[35]},e.rules[63].opcodes[5]={type:7,string:[91]},e.rules[63].opcodes[6]={type:7,string:[93]},e.rules[63].opcodes[7]={type:7,string:[64]},e.rules[64].opcodes=[],e.rules[64].opcodes[0]={type:1,children:[1,2,3,4,5,6,7,8,9,10,11]},e.rules[64].opcodes[1]={type:7,string:[33]},e.rules[64].opcodes[2]={type:7,string:[36]},e.rules[64].opcodes[3]={type:7,string:[38]},e.rules[64].opcodes[4]={type:7,string:[39]},e.rules[64].opcodes[5]={type:7,string:[40]},e.rules[64].opcodes[6]={type:7,string:[41]},e.rules[64].opcodes[7]={type:7,string:[42]},e.rules[64].opcodes[8]={type:7,string:[43]},e.rules[64].opcodes[9]={type:7,string:[44]},e.rules[64].opcodes[10]={type:7,string:[59]},e.rules[64].opcodes[11]={type:7,string:[61]},e.rules[65].opcodes=[],e.rules[65].opcodes[0]={type:2,children:[1,2,3,4,5,6,7,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,31,36,41]},e.rules[65].opcodes[1]={type:4,index:66},e.rules[65].opcodes[2]={type:6,string:[32,119,97,110,116,115,32,121,111,117,32,116,111,32,115,105,103,110,32,105,110,32,119,105,116,104,32,121,111,117,114,32,69,116,104,101,114,101,117,109,32,97,99,99,111,117,110,116,58]},e.rules[65].opcodes[3]={type:4,index:10},e.rules[65].opcodes[4]={type:4,index:67},e.rules[65].opcodes[5]={type:4,index:10},e.rules[65].opcodes[6]={type:4,index:10},e.rules[65].opcodes[7]={type:3,min:0,max:1},e.rules[65].opcodes[8]={type:2,children:[9,10]},e.rules[65].opcodes[9]={type:4,index:68},e.rules[65].opcodes[10]={type:4,index:10},e.rules[65].opcodes[11]={type:4,index:10},e.rules[65].opcodes[12]={type:6,string:[85,82,73,58,32]},e.rules[65].opcodes[13]={type:4,index:69},e.rules[65].opcodes[14]={type:4,index:10},e.rules[65].opcodes[15]={type:6,string:[86,101,114,115,105,111,110,58,32]},e.rules[65].opcodes[16]={type:4,index:70},e.rules[65].opcodes[17]={type:4,index:10},e.rules[65].opcodes[18]={type:6,string:[67,104,97,105,110,32,73,68,58,32]},e.rules[65].opcodes[19]={type:4,index:71},e.rules[65].opcodes[20]={type:4,index:10},e.rules[65].opcodes[21]={type:6,string:[78,111,110,99,101,58,32]},e.rules[65].opcodes[22]={type:4,index:72},e.rules[65].opcodes[23]={type:4,index:10},e.rules[65].opcodes[24]={type:6,string:[73,115,115,117,101,100,32,65,116,58,32]},e.rules[65].opcodes[25]={type:4,index:73},e.rules[65].opcodes[26]={type:3,min:0,max:1},e.rules[65].opcodes[27]={type:2,children:[28,29,30]},e.rules[65].opcodes[28]={type:4,index:10},e.rules[65].opcodes[29]={type:6,string:[69,120,112,105,114,97,116,105,111,110,32,84,105,109,101,58,32]},e.rules[65].opcodes[30]={type:4,index:74},e.rules[65].opcodes[31]={type:3,min:0,max:1},e.rules[65].opcodes[32]={type:2,children:[33,34,35]},e.rules[65].opcodes[33]={type:4,index:10},e.rules[65].opcodes[34]={type:6,string:[78,111,116,32,66,101,102,111,114,101,58,32]},e.rules[65].opcodes[35]={type:4,index:75},e.rules[65].opcodes[36]={type:3,min:0,max:1},e.rules[65].opcodes[37]={type:2,children:[38,39,40]},e.rules[65].opcodes[38]={type:4,index:10},e.rules[65].opcodes[39]={type:6,string:[82,101,113,117,101,115,116,32,73,68,58,32]},e.rules[65].opcodes[40]={type:4,index:76},e.rules[65].opcodes[41]={type:3,min:0,max:1},e.rules[65].opcodes[42]={type:2,children:[43,44,45]},e.rules[65].opcodes[43]={type:4,index:10},e.rules[65].opcodes[44]={type:6,string:[82,101,115,111,117,114,99,101,115,58]},e.rules[65].opcodes[45]={type:4,index:77},e.rules[66].opcodes=[],e.rules[66].opcodes[0]={type:4,index:36},e.rules[67].opcodes=[],e.rules[67].opcodes[0]={type:2,children:[1,2]},e.rules[67].opcodes[1]={type:7,string:[48,120]},e.rules[67].opcodes[2]={type:3,min:40,max:40},e.rules[67].opcodes[3]={type:4,index:8},e.rules[68].opcodes=[],e.rules[68].opcodes[0]={type:3,min:1,max:1/0},e.rules[68].opcodes[1]={type:1,children:[2,3,4]},e.rules[68].opcodes[2]={type:4,index:62},e.rules[68].opcodes[3]={type:4,index:61},e.rules[68].opcodes[4]={type:7,string:[32]},e.rules[69].opcodes=[],e.rules[69].opcodes[0]={type:4,index:29},e.rules[70].opcodes=[],e.rules[70].opcodes[0]={type:7,string:[49]},e.rules[71].opcodes=[],e.rules[71].opcodes[0]={type:3,min:1,max:1/0},e.rules[71].opcodes[1]={type:4,index:6},e.rules[72].opcodes=[],e.rules[72].opcodes[0]={type:3,min:8,max:1/0},e.rules[72].opcodes[1]={type:1,children:[2,3]},e.rules[72].opcodes[2]={type:4,index:0},e.rules[72].opcodes[3]={type:4,index:6},e.rules[73].opcodes=[],e.rules[73].opcodes[0]={type:4,index:28},e.rules[74].opcodes=[],e.rules[74].opcodes[0]={type:4,index:28},e.rules[75].opcodes=[],e.rules[75].opcodes[0]={type:4,index:28},e.rules[76].opcodes=[],e.rules[76].opcodes[0]={type:3,min:0,max:1/0},e.rules[76].opcodes[1]={type:4,index:57},e.rules[77].opcodes=[],e.rules[77].opcodes[0]={type:3,min:0,max:1/0},e.rules[77].opcodes[1]={type:2,children:[2,3,4]},e.rules[77].opcodes[2]={type:4,index:10},e.rules[77].opcodes[3]={type:7,string:[45,32]},e.rules[77].opcodes[4]={type:4,index:29},e.toString=function(){let e="";return e+="; ==============================================================================\n",e+="; Core rules for ABNF (RFC 5234)\n",e+="; ==============================================================================\n",e+=";\n",e+="; References:\n",e+="; - https://www.rfc-editor.org/rfc/rfc5234#appendix-B.1\n",e+="\n",e+="ALPHA          =  %x41-5A / %x61-7A\n",e+="               ; A-Z / a-z\n",e+="\n",e+='BIT            =  "0" / "1"\n',e+="\n",e+="CHAR           =  %x01-7F\n",e+="               ; any 7-bit US-ASCII character,\n",e+="               ;  excluding NUL\n",e+="\n",e+="CR             =  %x0D\n",e+="               ; carriage return\n",e+="\n",e+="CRLF           =  CR LF\n",e+="               ; Internet standard newline\n",e+="\n",e+="CTL            =  %x00-1F / %x7F\n",e+="               ; controls\n",e+="\n",e+="DIGIT          =  %x30-39\n",e+="               ; 0-9\n",e+="\n",e+="DQUOTE         =  %x22\n",e+='               ; " (Double Quote)\n',e+="\n",e+='HEXDIG         =  DIGIT / "A" / "B" / "C" / "D" / "E" / "F"\n',e+="\n",e+="HTAB           =  %x09\n",e+="               ; horizontal tab\n",e+="\n",e+="LF             =  %x0A\n",e+="               ; linefeed\n",e+="\n",e+="LWSP           =  *(WSP / CRLF WSP)\n",e+="               ; Use of this linear-white-space rule\n",e+="               ;  permits lines containing only white\n",e+="               ;  space that are no longer legal in\n",e+="               ;  mail headers and have caused\n",e+="               ;  interoperability problems in other\n",e+="               ;  contexts.\n",e+="               ; Do not use when defining mail\n",e+="               ;  headers and use with caution in\n",e+="               ;  other contexts.\n",e+="\n",e+="OCTET          =  %x00-FF\n",e+="               ; 8 bits of data\n",e+="\n",e+="SP             =  %x20\n",e+="\n",e+="VCHAR          =  %x21-7E\n",e+="               ; visible (printing) characters\n",e+="\n",e+="WSP            =  SP / HTAB\n",e+="               ; white space\n",e+="; ==============================================================================\n",e+="; Internet Date/Time Format (RFC 3339)\n",e+="; ==============================================================================\n",e+=";\n",e+="; Requires:\n",e+="; - core.bnf\n",e+=";\n",e+="; References:\n",e+="; - https://www.rfc-editor.org/rfc/rfc3339#section-5.6\n",e+="\n",e+="date-fullyear   = 4DIGIT\n",e+="\n",e+="date-month      = 2DIGIT  ; 01-12\n",e+="\n",e+="date-mday       = 2DIGIT  ; 01-28, 01-29, 01-30, 01-31 based on\n",e+="                          ; month/year\n",e+="\n",e+="time-hour       = 2DIGIT  ; 00-23\n",e+="\n",e+="time-minute     = 2DIGIT  ; 00-59\n",e+="\n",e+="time-second     = 2DIGIT  ; 00-58, 00-59, 00-60 based on leap second\n",e+="                          ; rules\n",e+="\n",e+='time-secfrac    = "." 1*DIGIT\n',e+="\n",e+='time-numoffset  = ("+" / "-") time-hour ":" time-minute\n',e+="\n",e+='time-offset     = "Z" / time-numoffset\n',e+="\n",e+='partial-time    = time-hour ":" time-minute ":" time-second\n',e+="                  [time-secfrac]\n",e+="\n",e+='full-date       = date-fullyear "-" date-month "-" date-mday\n',e+="\n",e+="full-time       = partial-time time-offset\n",e+="\n",e+='date-time       = full-date "T" full-time\n',e+="; ==============================================================================\n",e+="; Uniform Resource Identifier (RFC 3986)\n",e+="; ==============================================================================\n",e+=";\n",e+="; Requires:\n",e+="; - core.bnf\n",e+=";\n",e+="; References:\n",e+="; - https://www.rfc-editor.org/rfc/rfc3986#appendix-A\n",e+="\n",e+='URI           = scheme ":" hier-part [ "?" query ] [ "#" fragment ]\n',e+="\n",e+='hier-part     = "//" authority path-abempty\n',e+="              / path-absolute\n",e+="              / path-rootless\n",e+="              / path-empty\n",e+="\n",e+="URI-reference = URI / relative-ref\n",e+="\n",e+='absolute-URI  = scheme ":" hier-part [ "?" query ]\n',e+="\n",e+='relative-ref  = relative-part [ "?" query ] [ "#" fragment ]\n',e+="\n",e+='relative-part = "//" authority path-abempty\n',e+="              / path-absolute\n",e+="              / path-noscheme\n",e+="              / path-empty\n",e+="\n",e+='scheme        = ALPHA *( ALPHA / DIGIT / "+" / "-" / "." )\n',e+="\n",e+='authority     = [ userinfo "@" ] host [ ":" port ]\n',e+='userinfo      = *( unreserved / pct-encoded / sub-delims / ":" )\n',e+="host          = IP-literal / IPv4address / reg-name\n",e+="port          = *DIGIT\n",e+="\n",e+='IP-literal    = "[" ( IPv6address / IPvFuture  ) "]"\n',e+="\n",e+='IPvFuture     = "v" 1*HEXDIG "." 1*( unreserved / sub-delims / ":" )\n',e+="\n",e+='IPv6address   =                            6( h16 ":" ) ls32\n',e+='              /                       "::" 5( h16 ":" ) ls32\n',e+='              / [               h16 ] "::" 4( h16 ":" ) ls32\n',e+='              / [ *1( h16 ":" ) h16 ] "::" 3( h16 ":" ) ls32\n',e+='              / [ *2( h16 ":" ) h16 ] "::" 2( h16 ":" ) ls32\n',e+='              / [ *3( h16 ":" ) h16 ] "::"    h16 ":"   ls32\n',e+='              / [ *4( h16 ":" ) h16 ] "::"              ls32\n',e+='              / [ *5( h16 ":" ) h16 ] "::"              h16\n',e+='              / [ *6( h16 ":" ) h16 ] "::"\n',e+="\n",e+="h16           = 1*4HEXDIG\n",e+='ls32          = ( h16 ":" h16 ) / IPv4address\n',e+='IPv4address   = dec-octet "." dec-octet "." dec-octet "." dec-octet\n',e+="dec-octet     = DIGIT                 ; 0-9\n",e+="              / %x31-39 DIGIT         ; 10-99\n",e+='              / "1" 2DIGIT            ; 100-199\n',e+='              / "2" %x30-34 DIGIT     ; 200-249\n',e+='              / "25" %x30-35          ; 250-255\n',e+="\n",e+="reg-name      = *( unreserved / pct-encoded / sub-delims )\n",e+="\n",e+='path          = path-abempty    ; begins with "/" or is empty\n',e+='              / path-absolute   ; begins with "/" but not "//"\n',e+="              / path-noscheme   ; begins with a non-colon segment\n",e+="              / path-rootless   ; begins with a segment\n",e+="              / path-empty      ; zero characters\n",e+="\n",e+='path-abempty  = *( "/" segment )\n',e+='path-absolute = "/" [ segment-nz *( "/" segment ) ]\n',e+='path-noscheme = segment-nz-nc *( "/" segment )\n',e+='path-rootless = segment-nz *( "/" segment )\n',e+="path-empty    = 0pchar\n",e+="\n",e+="segment       = *pchar\n",e+="segment-nz    = 1*pchar\n",e+='segment-nz-nc = 1*( unreserved / pct-encoded / sub-delims / "@" )\n',e+='; non-zero-length segment without any colon ":"\n',e+="\n",e+='pchar         = unreserved / pct-encoded / sub-delims / ":" / "@"\n',e+="\n",e+='query         = *( pchar / "/" / "?" )\n',e+="\n",e+='fragment      = *( pchar / "/" / "?" )\n',e+="\n",e+='pct-encoded   = "%" HEXDIG HEXDIG\n',e+="\n",e+='unreserved    = ALPHA / DIGIT / "-" / "." / "_" / "~"\n',e+="reserved      = gen-delims / sub-delims\n",e+='gen-delims    = ":" / "/" / "?" / "#" / "[" / "]" / "@"\n',e+='sub-delims    = "!" / "$" / "&" / "\'" / "(" / ")"\n',e+='              / "*" / "+" / "," / ";" / "="\n',e+="; ==============================================================================\n",e+="; Sign in with Ethereum (EIP-4361)\n",e+="; ==============================================================================\n",e+=";\n",e+="; Requires:\n",e+="; - core.bnf\n",e+="; - datetime.bnf\n",e+="; - uri.bnf\n",e+=";\n",e+="; References:\n",e+="; - https://eips.ethereum.org/EIPS/eip-4361\n",e+="\n",e+="sign-in-with-ethereum =\n",e+='  message-domain %s" wants you to sign in with your Ethereum account:" LF\n',e+="  message-address LF\n",e+="  LF\n",e+="  [ message-statement LF ]\n",e+="  LF\n",e+='  %s"URI: " message-uri LF\n',e+='  %s"Version: " message-version LF\n',e+='  %s"Chain ID: " message-chain-id LF\n',e+='  %s"Nonce: " message-nonce LF\n',e+='  %s"Issued At: " message-issued-at\n',e+='  [ LF %s"Expiration Time: " message-expiration-time ]\n',e+='  [ LF %s"Not Before: " message-not-before ]\n',e+='  [ LF %s"Request ID: " message-request-id ]\n',e+='  [ LF %s"Resources:" message-resources ]\n',e+="\n",e+="message-domain          = authority\n",e+='message-address         = "0x" 40*40HEXDIG\n',e+='message-statement       = 1*( reserved / unreserved / " " )\n',e+="message-uri             = URI\n",e+='message-version         = "1"\n',e+="message-chain-id        = 1*DIGIT\n",e+="message-nonce           = 8*( ALPHA / DIGIT )\n",e+="message-issued-at       = date-time\n",e+="message-expiration-time = date-time\n",e+="message-not-before      = date-time\n",e+="message-request-id      = *pchar\n",e+='message-resources       = *( LF "- " URI )\n','; ==============================================================================\n; Core rules for ABNF (RFC 5234)\n; ==============================================================================\n;\n; References:\n; - https://www.rfc-editor.org/rfc/rfc5234#appendix-B.1\n\nALPHA          =  %x41-5A / %x61-7A\n               ; A-Z / a-z\n\nBIT            =  "0" / "1"\n\nCHAR           =  %x01-7F\n               ; any 7-bit US-ASCII character,\n               ;  excluding NUL\n\nCR             =  %x0D\n               ; carriage return\n\nCRLF           =  CR LF\n               ; Internet standard newline\n\nCTL            =  %x00-1F / %x7F\n               ; controls\n\nDIGIT          =  %x30-39\n               ; 0-9\n\nDQUOTE         =  %x22\n               ; " (Double Quote)\n\nHEXDIG         =  DIGIT / "A" / "B" / "C" / "D" / "E" / "F"\n\nHTAB           =  %x09\n               ; horizontal tab\n\nLF             =  %x0A\n               ; linefeed\n\nLWSP           =  *(WSP / CRLF WSP)\n               ; Use of this linear-white-space rule\n               ;  permits lines containing only white\n               ;  space that are no longer legal in\n               ;  mail headers and have caused\n               ;  interoperability problems in other\n               ;  contexts.\n               ; Do not use when defining mail\n               ;  headers and use with caution in\n               ;  other contexts.\n\nOCTET          =  %x00-FF\n               ; 8 bits of data\n\nSP             =  %x20\n\nVCHAR          =  %x21-7E\n               ; visible (printing) characters\n\nWSP            =  SP / HTAB\n               ; white space\n; ==============================================================================\n; Internet Date/Time Format (RFC 3339)\n; ==============================================================================\n;\n; Requires:\n; - core.bnf\n;\n; References:\n; - https://www.rfc-editor.org/rfc/rfc3339#section-5.6\n\ndate-fullyear   = 4DIGIT\n\ndate-month      = 2DIGIT  ; 01-12\n\ndate-mday       = 2DIGIT  ; 01-28, 01-29, 01-30, 01-31 based on\n                          ; month/year\n\ntime-hour       = 2DIGIT  ; 00-23\n\ntime-minute     = 2DIGIT  ; 00-59\n\ntime-second     = 2DIGIT  ; 00-58, 00-59, 00-60 based on leap second\n                          ; rules\n\ntime-secfrac    = "." 1*DIGIT\n\ntime-numoffset  = ("+" / "-") time-hour ":" time-minute\n\ntime-offset     = "Z" / time-numoffset\n\npartial-time    = time-hour ":" time-minute ":" time-second\n                  [time-secfrac]\n\nfull-date       = date-fullyear "-" date-month "-" date-mday\n\nfull-time       = partial-time time-offset\n\ndate-time       = full-date "T" full-time\n; ==============================================================================\n; Uniform Resource Identifier (RFC 3986)\n; ==============================================================================\n;\n; Requires:\n; - core.bnf\n;\n; References:\n; - https://www.rfc-editor.org/rfc/rfc3986#appendix-A\n\nURI           = scheme ":" hier-part [ "?" query ] [ "#" fragment ]\n\nhier-part     = "//" authority path-abempty\n              / path-absolute\n              / path-rootless\n              / path-empty\n\nURI-reference = URI / relative-ref\n\nabsolute-URI  = scheme ":" hier-part [ "?" query ]\n\nrelative-ref  = relative-part [ "?" query ] [ "#" fragment ]\n\nrelative-part = "//" authority path-abempty\n              / path-absolute\n              / path-noscheme\n              / path-empty\n\nscheme        = ALPHA *( ALPHA / DIGIT / "+" / "-" / "." )\n\nauthority     = [ userinfo "@" ] host [ ":" port ]\nuserinfo      = *( unreserved / pct-encoded / sub-delims / ":" )\nhost          = IP-literal / IPv4address / reg-name\nport          = *DIGIT\n\nIP-literal    = "[" ( IPv6address / IPvFuture  ) "]"\n\nIPvFuture     = "v" 1*HEXDIG "." 1*( unreserved / sub-delims / ":" )\n\nIPv6address   =                            6( h16 ":" ) ls32\n              /                       "::" 5( h16 ":" ) ls32\n              / [               h16 ] "::" 4( h16 ":" ) ls32\n              / [ *1( h16 ":" ) h16 ] "::" 3( h16 ":" ) ls32\n              / [ *2( h16 ":" ) h16 ] "::" 2( h16 ":" ) ls32\n              / [ *3( h16 ":" ) h16 ] "::"    h16 ":"   ls32\n              / [ *4( h16 ":" ) h16 ] "::"              ls32\n              / [ *5( h16 ":" ) h16 ] "::"              h16\n              / [ *6( h16 ":" ) h16 ] "::"\n\nh16           = 1*4HEXDIG\nls32          = ( h16 ":" h16 ) / IPv4address\nIPv4address   = dec-octet "." dec-octet "." dec-octet "." dec-octet\ndec-octet     = DIGIT                 ; 0-9\n              / %x31-39 DIGIT         ; 10-99\n              / "1" 2DIGIT            ; 100-199\n              / "2" %x30-34 DIGIT     ; 200-249\n              / "25" %x30-35          ; 250-255\n\nreg-name      = *( unreserved / pct-encoded / sub-delims )\n\npath          = path-abempty    ; begins with "/" or is empty\n              / path-absolute   ; begins with "/" but not "//"\n              / path-noscheme   ; begins with a non-colon segment\n              / path-rootless   ; begins with a segment\n              / path-empty      ; zero characters\n\npath-abempty  = *( "/" segment )\npath-absolute = "/" [ segment-nz *( "/" segment ) ]\npath-noscheme = segment-nz-nc *( "/" segment )\npath-rootless = segment-nz *( "/" segment )\npath-empty    = 0pchar\n\nsegment       = *pchar\nsegment-nz    = 1*pchar\nsegment-nz-nc = 1*( unreserved / pct-encoded / sub-delims / "@" )\n; non-zero-length segment without any colon ":"\n\npchar         = unreserved / pct-encoded / sub-delims / ":" / "@"\n\nquery         = *( pchar / "/" / "?" )\n\nfragment      = *( pchar / "/" / "?" )\n\npct-encoded   = "%" HEXDIG HEXDIG\n\nunreserved    = ALPHA / DIGIT / "-" / "." / "_" / "~"\nreserved      = gen-delims / sub-delims\ngen-delims    = ":" / "/" / "?" / "#" / "[" / "]" / "@"\nsub-delims    = "!" / "$" / "&" / "\'" / "(" / ")"\n              / "*" / "+" / "," / ";" / "="\n; ==============================================================================\n; Sign in with Ethereum (EIP-4361)\n; ==============================================================================\n;\n; Requires:\n; - core.bnf\n; - datetime.bnf\n; - uri.bnf\n;\n; References:\n; - https://eips.ethereum.org/EIPS/eip-4361\n\nsign-in-with-ethereum =\n  message-domain %s" wants you to sign in with your Ethereum account:" LF\n  message-address LF\n  LF\n  [ message-statement LF ]\n  LF\n  %s"URI: " message-uri LF\n  %s"Version: " message-version LF\n  %s"Chain ID: " message-chain-id LF\n  %s"Nonce: " message-nonce LF\n  %s"Issued At: " message-issued-at\n  [ LF %s"Expiration Time: " message-expiration-time ]\n  [ LF %s"Not Before: " message-not-before ]\n  [ LF %s"Request ID: " message-request-id ]\n  [ LF %s"Resources:" message-resources ]\n\nmessage-domain          = authority\nmessage-address         = "0x" 40*40HEXDIG\nmessage-statement       = 1*( reserved / unreserved / " " )\nmessage-uri             = URI\nmessage-version         = "1"\nmessage-chain-id        = 1*DIGIT\nmessage-nonce           = 8*( ALPHA / DIGIT )\nmessage-issued-at       = date-time\nmessage-expiration-time = date-time\nmessage-not-before      = date-time\nmessage-request-id      = *pchar\nmessage-resources       = *( LF "- " URI )\n'},e}function pa(){let e={grammarObject:"grammarObject",rules:[]};return e.rules[0]={name:"ALPHA",lower:"alpha",index:0,isBkr:!1},e.rules[1]={name:"BIT",lower:"bit",index:1,isBkr:!1},e.rules[2]={name:"CHAR",lower:"char",index:2,isBkr:!1},e.rules[3]={name:"CR",lower:"cr",index:3,isBkr:!1},e.rules[4]={name:"CRLF",lower:"crlf",index:4,isBkr:!1},e.rules[5]={name:"CTL",lower:"ctl",index:5,isBkr:!1},e.rules[6]={name:"DIGIT",lower:"digit",index:6,isBkr:!1},e.rules[7]={name:"DQUOTE",lower:"dquote",index:7,isBkr:!1},e.rules[8]={name:"HEXDIG",lower:"hexdig",index:8,isBkr:!1},e.rules[9]={name:"HTAB",lower:"htab",index:9,isBkr:!1},e.rules[10]={name:"LF",lower:"lf",index:10,isBkr:!1},e.rules[11]={name:"LWSP",lower:"lwsp",index:11,isBkr:!1},e.rules[12]={name:"OCTET",lower:"octet",index:12,isBkr:!1},e.rules[13]={name:"SP",lower:"sp",index:13,isBkr:!1},e.rules[14]={name:"VCHAR",lower:"vchar",index:14,isBkr:!1},e.rules[15]={name:"WSP",lower:"wsp",index:15,isBkr:!1},e.rules[16]={name:"date-fullyear",lower:"date-fullyear",index:16,isBkr:!1},e.rules[17]={name:"date-month",lower:"date-month",index:17,isBkr:!1},e.rules[18]={name:"date-mday",lower:"date-mday",index:18,isBkr:!1},e.rules[19]={name:"time-hour",lower:"time-hour",index:19,isBkr:!1},e.rules[20]={name:"time-minute",lower:"time-minute",index:20,isBkr:!1},e.rules[21]={name:"time-second",lower:"time-second",index:21,isBkr:!1},e.rules[22]={name:"time-secfrac",lower:"time-secfrac",index:22,isBkr:!1},e.rules[23]={name:"time-numoffset",lower:"time-numoffset",index:23,isBkr:!1},e.rules[24]={name:"time-offset",lower:"time-offset",index:24,isBkr:!1},e.rules[25]={name:"partial-time",lower:"partial-time",index:25,isBkr:!1},e.rules[26]={name:"full-date",lower:"full-date",index:26,isBkr:!1},e.rules[27]={name:"full-time",lower:"full-time",index:27,isBkr:!1},e.rules[28]={name:"date-time",lower:"date-time",index:28,isBkr:!1},e.rules[29]={name:"URI",lower:"uri",index:29,isBkr:!1},e.rules[30]={name:"hier-part",lower:"hier-part",index:30,isBkr:!1},e.rules[31]={name:"URI-reference",lower:"uri-reference",index:31,isBkr:!1},e.rules[32]={name:"absolute-URI",lower:"absolute-uri",index:32,isBkr:!1},e.rules[33]={name:"relative-ref",lower:"relative-ref",index:33,isBkr:!1},e.rules[34]={name:"relative-part",lower:"relative-part",index:34,isBkr:!1},e.rules[35]={name:"scheme",lower:"scheme",index:35,isBkr:!1},e.rules[36]={name:"authority",lower:"authority",index:36,isBkr:!1},e.rules[37]={name:"userinfo",lower:"userinfo",index:37,isBkr:!1},e.rules[38]={name:"host",lower:"host",index:38,isBkr:!1},e.rules[39]={name:"port",lower:"port",index:39,isBkr:!1},e.rules[40]={name:"IP-literal",lower:"ip-literal",index:40,isBkr:!1},e.rules[41]={name:"IPvFuture",lower:"ipvfuture",index:41,isBkr:!1},e.rules[42]={name:"IPv6address",lower:"ipv6address",index:42,isBkr:!1},e.rules[43]={name:"h16",lower:"h16",index:43,isBkr:!1},e.rules[44]={name:"ls32",lower:"ls32",index:44,isBkr:!1},e.rules[45]={name:"IPv4address",lower:"ipv4address",index:45,isBkr:!1},e.rules[46]={name:"dec-octet",lower:"dec-octet",index:46,isBkr:!1},e.rules[47]={name:"reg-name",lower:"reg-name",index:47,isBkr:!1},e.rules[48]={name:"path",lower:"path",index:48,isBkr:!1},e.rules[49]={name:"path-abempty",lower:"path-abempty",index:49,isBkr:!1},e.rules[50]={name:"path-absolute",lower:"path-absolute",index:50,isBkr:!1},e.rules[51]={name:"path-noscheme",lower:"path-noscheme",index:51,isBkr:!1},e.rules[52]={name:"path-rootless",lower:"path-rootless",index:52,isBkr:!1},e.rules[53]={name:"path-empty",lower:"path-empty",index:53,isBkr:!1},e.rules[54]={name:"segment",lower:"segment",index:54,isBkr:!1},e.rules[55]={name:"segment-nz",lower:"segment-nz",index:55,isBkr:!1},e.rules[56]={name:"segment-nz-nc",lower:"segment-nz-nc",index:56,isBkr:!1},e.rules[57]={name:"pchar",lower:"pchar",index:57,isBkr:!1},e.rules[58]={name:"query",lower:"query",index:58,isBkr:!1},e.rules[59]={name:"fragment",lower:"fragment",index:59,isBkr:!1},e.rules[60]={name:"pct-encoded",lower:"pct-encoded",index:60,isBkr:!1},e.rules[61]={name:"unreserved",lower:"unreserved",index:61,isBkr:!1},e.rules[62]={name:"reserved",lower:"reserved",index:62,isBkr:!1},e.rules[63]={name:"gen-delims",lower:"gen-delims",index:63,isBkr:!1},e.rules[64]={name:"sub-delims",lower:"sub-delims",index:64,isBkr:!1},e.rules[65]={name:"sign-in-with-solana",lower:"sign-in-with-solana",index:65,isBkr:!1},e.rules[66]={name:"advanced-fields",lower:"advanced-fields",index:66,isBkr:!1},e.rules[67]={name:"message-domain",lower:"message-domain",index:67,isBkr:!1},e.rules[68]={name:"message-address",lower:"message-address",index:68,isBkr:!1},e.rules[69]={name:"message-statement",lower:"message-statement",index:69,isBkr:!1},e.rules[70]={name:"message-uri",lower:"message-uri",index:70,isBkr:!1},e.rules[71]={name:"message-version",lower:"message-version",index:71,isBkr:!1},e.rules[72]={name:"message-chain-id",lower:"message-chain-id",index:72,isBkr:!1},e.rules[73]={name:"message-nonce",lower:"message-nonce",index:73,isBkr:!1},e.rules[74]={name:"message-issued-at",lower:"message-issued-at",index:74,isBkr:!1},e.rules[75]={name:"message-expiration-time",lower:"message-expiration-time",index:75,isBkr:!1},e.rules[76]={name:"message-not-before",lower:"message-not-before",index:76,isBkr:!1},e.rules[77]={name:"message-request-id",lower:"message-request-id",index:77,isBkr:!1},e.rules[78]={name:"message-resources",lower:"message-resources",index:78,isBkr:!1},e.udts=[],e.rules[0].opcodes=[],e.rules[0].opcodes[0]={type:1,children:[1,2]},e.rules[0].opcodes[1]={type:5,min:65,max:90},e.rules[0].opcodes[2]={type:5,min:97,max:122},e.rules[1].opcodes=[],e.rules[1].opcodes[0]={type:1,children:[1,2]},e.rules[1].opcodes[1]={type:7,string:[48]},e.rules[1].opcodes[2]={type:7,string:[49]},e.rules[2].opcodes=[],e.rules[2].opcodes[0]={type:5,min:1,max:127},e.rules[3].opcodes=[],e.rules[3].opcodes[0]={type:6,string:[13]},e.rules[4].opcodes=[],e.rules[4].opcodes[0]={type:2,children:[1,2]},e.rules[4].opcodes[1]={type:4,index:3},e.rules[4].opcodes[2]={type:4,index:10},e.rules[5].opcodes=[],e.rules[5].opcodes[0]={type:1,children:[1,2]},e.rules[5].opcodes[1]={type:5,min:0,max:31},e.rules[5].opcodes[2]={type:6,string:[127]},e.rules[6].opcodes=[],e.rules[6].opcodes[0]={type:5,min:48,max:57},e.rules[7].opcodes=[],e.rules[7].opcodes[0]={type:6,string:[34]},e.rules[8].opcodes=[],e.rules[8].opcodes[0]={type:1,children:[1,2,3,4,5,6,7]},e.rules[8].opcodes[1]={type:4,index:6},e.rules[8].opcodes[2]={type:7,string:[97]},e.rules[8].opcodes[3]={type:7,string:[98]},e.rules[8].opcodes[4]={type:7,string:[99]},e.rules[8].opcodes[5]={type:7,string:[100]},e.rules[8].opcodes[6]={type:7,string:[101]},e.rules[8].opcodes[7]={type:7,string:[102]},e.rules[9].opcodes=[],e.rules[9].opcodes[0]={type:6,string:[9]},e.rules[10].opcodes=[],e.rules[10].opcodes[0]={type:6,string:[10]},e.rules[11].opcodes=[],e.rules[11].opcodes[0]={type:3,min:0,max:1/0},e.rules[11].opcodes[1]={type:1,children:[2,3]},e.rules[11].opcodes[2]={type:4,index:15},e.rules[11].opcodes[3]={type:2,children:[4,5]},e.rules[11].opcodes[4]={type:4,index:4},e.rules[11].opcodes[5]={type:4,index:15},e.rules[12].opcodes=[],e.rules[12].opcodes[0]={type:5,min:0,max:255},e.rules[13].opcodes=[],e.rules[13].opcodes[0]={type:6,string:[32]},e.rules[14].opcodes=[],e.rules[14].opcodes[0]={type:5,min:33,max:126},e.rules[15].opcodes=[],e.rules[15].opcodes[0]={type:1,children:[1,2]},e.rules[15].opcodes[1]={type:4,index:13},e.rules[15].opcodes[2]={type:4,index:9},e.rules[16].opcodes=[],e.rules[16].opcodes[0]={type:3,min:4,max:4},e.rules[16].opcodes[1]={type:4,index:6},e.rules[17].opcodes=[],e.rules[17].opcodes[0]={type:3,min:2,max:2},e.rules[17].opcodes[1]={type:4,index:6},e.rules[18].opcodes=[],e.rules[18].opcodes[0]={type:3,min:2,max:2},e.rules[18].opcodes[1]={type:4,index:6},e.rules[19].opcodes=[],e.rules[19].opcodes[0]={type:3,min:2,max:2},e.rules[19].opcodes[1]={type:4,index:6},e.rules[20].opcodes=[],e.rules[20].opcodes[0]={type:3,min:2,max:2},e.rules[20].opcodes[1]={type:4,index:6},e.rules[21].opcodes=[],e.rules[21].opcodes[0]={type:3,min:2,max:2},e.rules[21].opcodes[1]={type:4,index:6},e.rules[22].opcodes=[],e.rules[22].opcodes[0]={type:2,children:[1,2]},e.rules[22].opcodes[1]={type:7,string:[46]},e.rules[22].opcodes[2]={type:3,min:1,max:1/0},e.rules[22].opcodes[3]={type:4,index:6},e.rules[23].opcodes=[],e.rules[23].opcodes[0]={type:2,children:[1,4,5,6]},e.rules[23].opcodes[1]={type:1,children:[2,3]},e.rules[23].opcodes[2]={type:7,string:[43]},e.rules[23].opcodes[3]={type:7,string:[45]},e.rules[23].opcodes[4]={type:4,index:19},e.rules[23].opcodes[5]={type:7,string:[58]},e.rules[23].opcodes[6]={type:4,index:20},e.rules[24].opcodes=[],e.rules[24].opcodes[0]={type:1,children:[1,2]},e.rules[24].opcodes[1]={type:7,string:[122]},e.rules[24].opcodes[2]={type:4,index:23},e.rules[25].opcodes=[],e.rules[25].opcodes[0]={type:2,children:[1,2,3,4,5,6]},e.rules[25].opcodes[1]={type:4,index:19},e.rules[25].opcodes[2]={type:7,string:[58]},e.rules[25].opcodes[3]={type:4,index:20},e.rules[25].opcodes[4]={type:7,string:[58]},e.rules[25].opcodes[5]={type:4,index:21},e.rules[25].opcodes[6]={type:3,min:0,max:1},e.rules[25].opcodes[7]={type:4,index:22},e.rules[26].opcodes=[],e.rules[26].opcodes[0]={type:2,children:[1,2,3,4,5]},e.rules[26].opcodes[1]={type:4,index:16},e.rules[26].opcodes[2]={type:7,string:[45]},e.rules[26].opcodes[3]={type:4,index:17},e.rules[26].opcodes[4]={type:7,string:[45]},e.rules[26].opcodes[5]={type:4,index:18},e.rules[27].opcodes=[],e.rules[27].opcodes[0]={type:2,children:[1,2]},e.rules[27].opcodes[1]={type:4,index:25},e.rules[27].opcodes[2]={type:4,index:24},e.rules[28].opcodes=[],e.rules[28].opcodes[0]={type:2,children:[1,2,3]},e.rules[28].opcodes[1]={type:4,index:26},e.rules[28].opcodes[2]={type:7,string:[116]},e.rules[28].opcodes[3]={type:4,index:27},e.rules[29].opcodes=[],e.rules[29].opcodes[0]={type:2,children:[1,2,3,4,8]},e.rules[29].opcodes[1]={type:4,index:35},e.rules[29].opcodes[2]={type:7,string:[58]},e.rules[29].opcodes[3]={type:4,index:30},e.rules[29].opcodes[4]={type:3,min:0,max:1},e.rules[29].opcodes[5]={type:2,children:[6,7]},e.rules[29].opcodes[6]={type:7,string:[63]},e.rules[29].opcodes[7]={type:4,index:58},e.rules[29].opcodes[8]={type:3,min:0,max:1},e.rules[29].opcodes[9]={type:2,children:[10,11]},e.rules[29].opcodes[10]={type:7,string:[35]},e.rules[29].opcodes[11]={type:4,index:59},e.rules[30].opcodes=[],e.rules[30].opcodes[0]={type:1,children:[1,5,6,7]},e.rules[30].opcodes[1]={type:2,children:[2,3,4]},e.rules[30].opcodes[2]={type:7,string:[47,47]},e.rules[30].opcodes[3]={type:4,index:36},e.rules[30].opcodes[4]={type:4,index:49},e.rules[30].opcodes[5]={type:4,index:50},e.rules[30].opcodes[6]={type:4,index:52},e.rules[30].opcodes[7]={type:4,index:53},e.rules[31].opcodes=[],e.rules[31].opcodes[0]={type:1,children:[1,2]},e.rules[31].opcodes[1]={type:4,index:29},e.rules[31].opcodes[2]={type:4,index:33},e.rules[32].opcodes=[],e.rules[32].opcodes[0]={type:2,children:[1,2,3,4]},e.rules[32].opcodes[1]={type:4,index:35},e.rules[32].opcodes[2]={type:7,string:[58]},e.rules[32].opcodes[3]={type:4,index:30},e.rules[32].opcodes[4]={type:3,min:0,max:1},e.rules[32].opcodes[5]={type:2,children:[6,7]},e.rules[32].opcodes[6]={type:7,string:[63]},e.rules[32].opcodes[7]={type:4,index:58},e.rules[33].opcodes=[],e.rules[33].opcodes[0]={type:2,children:[1,2,6]},e.rules[33].opcodes[1]={type:4,index:34},e.rules[33].opcodes[2]={type:3,min:0,max:1},e.rules[33].opcodes[3]={type:2,children:[4,5]},e.rules[33].opcodes[4]={type:7,string:[63]},e.rules[33].opcodes[5]={type:4,index:58},e.rules[33].opcodes[6]={type:3,min:0,max:1},e.rules[33].opcodes[7]={type:2,children:[8,9]},e.rules[33].opcodes[8]={type:7,string:[35]},e.rules[33].opcodes[9]={type:4,index:59},e.rules[34].opcodes=[],e.rules[34].opcodes[0]={type:1,children:[1,5,6,7]},e.rules[34].opcodes[1]={type:2,children:[2,3,4]},e.rules[34].opcodes[2]={type:7,string:[47,47]},e.rules[34].opcodes[3]={type:4,index:36},e.rules[34].opcodes[4]={type:4,index:49},e.rules[34].opcodes[5]={type:4,index:50},e.rules[34].opcodes[6]={type:4,index:51},e.rules[34].opcodes[7]={type:4,index:53},e.rules[35].opcodes=[],e.rules[35].opcodes[0]={type:2,children:[1,2]},e.rules[35].opcodes[1]={type:4,index:0},e.rules[35].opcodes[2]={type:3,min:0,max:1/0},e.rules[35].opcodes[3]={type:1,children:[4,5,6,7,8]},e.rules[35].opcodes[4]={type:4,index:0},e.rules[35].opcodes[5]={type:4,index:6},e.rules[35].opcodes[6]={type:7,string:[43]},e.rules[35].opcodes[7]={type:7,string:[45]},e.rules[35].opcodes[8]={type:7,string:[46]},e.rules[36].opcodes=[],e.rules[36].opcodes[0]={type:2,children:[1,5,6]},e.rules[36].opcodes[1]={type:3,min:0,max:1},e.rules[36].opcodes[2]={type:2,children:[3,4]},e.rules[36].opcodes[3]={type:4,index:37},e.rules[36].opcodes[4]={type:7,string:[64]},e.rules[36].opcodes[5]={type:4,index:38},e.rules[36].opcodes[6]={type:3,min:0,max:1},e.rules[36].opcodes[7]={type:2,children:[8,9]},e.rules[36].opcodes[8]={type:7,string:[58]},e.rules[36].opcodes[9]={type:4,index:39},e.rules[37].opcodes=[],e.rules[37].opcodes[0]={type:3,min:0,max:1/0},e.rules[37].opcodes[1]={type:1,children:[2,3,4,5]},e.rules[37].opcodes[2]={type:4,index:61},e.rules[37].opcodes[3]={type:4,index:60},e.rules[37].opcodes[4]={type:4,index:64},e.rules[37].opcodes[5]={type:7,string:[58]},e.rules[38].opcodes=[],e.rules[38].opcodes[0]={type:1,children:[1,2,3]},e.rules[38].opcodes[1]={type:4,index:40},e.rules[38].opcodes[2]={type:4,index:45},e.rules[38].opcodes[3]={type:4,index:47},e.rules[39].opcodes=[],e.rules[39].opcodes[0]={type:3,min:0,max:1/0},e.rules[39].opcodes[1]={type:4,index:6},e.rules[40].opcodes=[],e.rules[40].opcodes[0]={type:2,children:[1,2,5]},e.rules[40].opcodes[1]={type:7,string:[91]},e.rules[40].opcodes[2]={type:1,children:[3,4]},e.rules[40].opcodes[3]={type:4,index:42},e.rules[40].opcodes[4]={type:4,index:41},e.rules[40].opcodes[5]={type:7,string:[93]},e.rules[41].opcodes=[],e.rules[41].opcodes[0]={type:2,children:[1,2,4,5]},e.rules[41].opcodes[1]={type:7,string:[118]},e.rules[41].opcodes[2]={type:3,min:1,max:1/0},e.rules[41].opcodes[3]={type:4,index:8},e.rules[41].opcodes[4]={type:7,string:[46]},e.rules[41].opcodes[5]={type:3,min:1,max:1/0},e.rules[41].opcodes[6]={type:1,children:[7,8,9]},e.rules[41].opcodes[7]={type:4,index:61},e.rules[41].opcodes[8]={type:4,index:64},e.rules[41].opcodes[9]={type:7,string:[58]},e.rules[42].opcodes=[],e.rules[42].opcodes[0]={type:1,children:[1,7,14,23,37,51,63,73,83]},e.rules[42].opcodes[1]={type:2,children:[2,6]},e.rules[42].opcodes[2]={type:3,min:6,max:6},e.rules[42].opcodes[3]={type:2,children:[4,5]},e.rules[42].opcodes[4]={type:4,index:43},e.rules[42].opcodes[5]={type:7,string:[58]},e.rules[42].opcodes[6]={type:4,index:44},e.rules[42].opcodes[7]={type:2,children:[8,9,13]},e.rules[42].opcodes[8]={type:7,string:[58,58]},e.rules[42].opcodes[9]={type:3,min:5,max:5},e.rules[42].opcodes[10]={type:2,children:[11,12]},e.rules[42].opcodes[11]={type:4,index:43},e.rules[42].opcodes[12]={type:7,string:[58]},e.rules[42].opcodes[13]={type:4,index:44},e.rules[42].opcodes[14]={type:2,children:[15,17,18,22]},e.rules[42].opcodes[15]={type:3,min:0,max:1},e.rules[42].opcodes[16]={type:4,index:43},e.rules[42].opcodes[17]={type:7,string:[58,58]},e.rules[42].opcodes[18]={type:3,min:4,max:4},e.rules[42].opcodes[19]={type:2,children:[20,21]},e.rules[42].opcodes[20]={type:4,index:43},e.rules[42].opcodes[21]={type:7,string:[58]},e.rules[42].opcodes[22]={type:4,index:44},e.rules[42].opcodes[23]={type:2,children:[24,31,32,36]},e.rules[42].opcodes[24]={type:3,min:0,max:1},e.rules[42].opcodes[25]={type:2,children:[26,30]},e.rules[42].opcodes[26]={type:3,min:0,max:1},e.rules[42].opcodes[27]={type:2,children:[28,29]},e.rules[42].opcodes[28]={type:4,index:43},e.rules[42].opcodes[29]={type:7,string:[58]},e.rules[42].opcodes[30]={type:4,index:43},e.rules[42].opcodes[31]={type:7,string:[58,58]},e.rules[42].opcodes[32]={type:3,min:3,max:3},e.rules[42].opcodes[33]={type:2,children:[34,35]},e.rules[42].opcodes[34]={type:4,index:43},e.rules[42].opcodes[35]={type:7,string:[58]},e.rules[42].opcodes[36]={type:4,index:44},e.rules[42].opcodes[37]={type:2,children:[38,45,46,50]},e.rules[42].opcodes[38]={type:3,min:0,max:1},e.rules[42].opcodes[39]={type:2,children:[40,44]},e.rules[42].opcodes[40]={type:3,min:0,max:2},e.rules[42].opcodes[41]={type:2,children:[42,43]},e.rules[42].opcodes[42]={type:4,index:43},e.rules[42].opcodes[43]={type:7,string:[58]},e.rules[42].opcodes[44]={type:4,index:43},e.rules[42].opcodes[45]={type:7,string:[58,58]},e.rules[42].opcodes[46]={type:3,min:2,max:2},e.rules[42].opcodes[47]={type:2,children:[48,49]},e.rules[42].opcodes[48]={type:4,index:43},e.rules[42].opcodes[49]={type:7,string:[58]},e.rules[42].opcodes[50]={type:4,index:44},e.rules[42].opcodes[51]={type:2,children:[52,59,60,61,62]},e.rules[42].opcodes[52]={type:3,min:0,max:1},e.rules[42].opcodes[53]={type:2,children:[54,58]},e.rules[42].opcodes[54]={type:3,min:0,max:3},e.rules[42].opcodes[55]={type:2,children:[56,57]},e.rules[42].opcodes[56]={type:4,index:43},e.rules[42].opcodes[57]={type:7,string:[58]},e.rules[42].opcodes[58]={type:4,index:43},e.rules[42].opcodes[59]={type:7,string:[58,58]},e.rules[42].opcodes[60]={type:4,index:43},e.rules[42].opcodes[61]={type:7,string:[58]},e.rules[42].opcodes[62]={type:4,index:44},e.rules[42].opcodes[63]={type:2,children:[64,71,72]},e.rules[42].opcodes[64]={type:3,min:0,max:1},e.rules[42].opcodes[65]={type:2,children:[66,70]},e.rules[42].opcodes[66]={type:3,min:0,max:4},e.rules[42].opcodes[67]={type:2,children:[68,69]},e.rules[42].opcodes[68]={type:4,index:43},e.rules[42].opcodes[69]={type:7,string:[58]},e.rules[42].opcodes[70]={type:4,index:43},e.rules[42].opcodes[71]={type:7,string:[58,58]},e.rules[42].opcodes[72]={type:4,index:44},e.rules[42].opcodes[73]={type:2,children:[74,81,82]},e.rules[42].opcodes[74]={type:3,min:0,max:1},e.rules[42].opcodes[75]={type:2,children:[76,80]},e.rules[42].opcodes[76]={type:3,min:0,max:5},e.rules[42].opcodes[77]={type:2,children:[78,79]},e.rules[42].opcodes[78]={type:4,index:43},e.rules[42].opcodes[79]={type:7,string:[58]},e.rules[42].opcodes[80]={type:4,index:43},e.rules[42].opcodes[81]={type:7,string:[58,58]},e.rules[42].opcodes[82]={type:4,index:43},e.rules[42].opcodes[83]={type:2,children:[84,91]},e.rules[42].opcodes[84]={type:3,min:0,max:1},e.rules[42].opcodes[85]={type:2,children:[86,90]},e.rules[42].opcodes[86]={type:3,min:0,max:6},e.rules[42].opcodes[87]={type:2,children:[88,89]},e.rules[42].opcodes[88]={type:4,index:43},e.rules[42].opcodes[89]={type:7,string:[58]},e.rules[42].opcodes[90]={type:4,index:43},e.rules[42].opcodes[91]={type:7,string:[58,58]},e.rules[43].opcodes=[],e.rules[43].opcodes[0]={type:3,min:1,max:4},e.rules[43].opcodes[1]={type:4,index:8},e.rules[44].opcodes=[],e.rules[44].opcodes[0]={type:1,children:[1,5]},e.rules[44].opcodes[1]={type:2,children:[2,3,4]},e.rules[44].opcodes[2]={type:4,index:43},e.rules[44].opcodes[3]={type:7,string:[58]},e.rules[44].opcodes[4]={type:4,index:43},e.rules[44].opcodes[5]={type:4,index:45},e.rules[45].opcodes=[],e.rules[45].opcodes[0]={type:2,children:[1,2,3,4,5,6,7]},e.rules[45].opcodes[1]={type:4,index:46},e.rules[45].opcodes[2]={type:7,string:[46]},e.rules[45].opcodes[3]={type:4,index:46},e.rules[45].opcodes[4]={type:7,string:[46]},e.rules[45].opcodes[5]={type:4,index:46},e.rules[45].opcodes[6]={type:7,string:[46]},e.rules[45].opcodes[7]={type:4,index:46},e.rules[46].opcodes=[],e.rules[46].opcodes[0]={type:1,children:[1,2,5,9,13]},e.rules[46].opcodes[1]={type:4,index:6},e.rules[46].opcodes[2]={type:2,children:[3,4]},e.rules[46].opcodes[3]={type:5,min:49,max:57},e.rules[46].opcodes[4]={type:4,index:6},e.rules[46].opcodes[5]={type:2,children:[6,7]},e.rules[46].opcodes[6]={type:7,string:[49]},e.rules[46].opcodes[7]={type:3,min:2,max:2},e.rules[46].opcodes[8]={type:4,index:6},e.rules[46].opcodes[9]={type:2,children:[10,11,12]},e.rules[46].opcodes[10]={type:7,string:[50]},e.rules[46].opcodes[11]={type:5,min:48,max:52},e.rules[46].opcodes[12]={type:4,index:6},e.rules[46].opcodes[13]={type:2,children:[14,15]},e.rules[46].opcodes[14]={type:7,string:[50,53]},e.rules[46].opcodes[15]={type:5,min:48,max:53},e.rules[47].opcodes=[],e.rules[47].opcodes[0]={type:3,min:0,max:1/0},e.rules[47].opcodes[1]={type:1,children:[2,3,4]},e.rules[47].opcodes[2]={type:4,index:61},e.rules[47].opcodes[3]={type:4,index:60},e.rules[47].opcodes[4]={type:4,index:64},e.rules[48].opcodes=[],e.rules[48].opcodes[0]={type:1,children:[1,2,3,4,5]},e.rules[48].opcodes[1]={type:4,index:49},e.rules[48].opcodes[2]={type:4,index:50},e.rules[48].opcodes[3]={type:4,index:51},e.rules[48].opcodes[4]={type:4,index:52},e.rules[48].opcodes[5]={type:4,index:53},e.rules[49].opcodes=[],e.rules[49].opcodes[0]={type:3,min:0,max:1/0},e.rules[49].opcodes[1]={type:2,children:[2,3]},e.rules[49].opcodes[2]={type:7,string:[47]},e.rules[49].opcodes[3]={type:4,index:54},e.rules[50].opcodes=[],e.rules[50].opcodes[0]={type:2,children:[1,2]},e.rules[50].opcodes[1]={type:7,string:[47]},e.rules[50].opcodes[2]={type:3,min:0,max:1},e.rules[50].opcodes[3]={type:2,children:[4,5]},e.rules[50].opcodes[4]={type:4,index:55},e.rules[50].opcodes[5]={type:3,min:0,max:1/0},e.rules[50].opcodes[6]={type:2,children:[7,8]},e.rules[50].opcodes[7]={type:7,string:[47]},e.rules[50].opcodes[8]={type:4,index:54},e.rules[51].opcodes=[],e.rules[51].opcodes[0]={type:2,children:[1,2]},e.rules[51].opcodes[1]={type:4,index:56},e.rules[51].opcodes[2]={type:3,min:0,max:1/0},e.rules[51].opcodes[3]={type:2,children:[4,5]},e.rules[51].opcodes[4]={type:7,string:[47]},e.rules[51].opcodes[5]={type:4,index:54},e.rules[52].opcodes=[],e.rules[52].opcodes[0]={type:2,children:[1,2]},e.rules[52].opcodes[1]={type:4,index:55},e.rules[52].opcodes[2]={type:3,min:0,max:1/0},e.rules[52].opcodes[3]={type:2,children:[4,5]},e.rules[52].opcodes[4]={type:7,string:[47]},e.rules[52].opcodes[5]={type:4,index:54},e.rules[53].opcodes=[],e.rules[53].opcodes[0]={type:3,min:0,max:0},e.rules[53].opcodes[1]={type:4,index:57},e.rules[54].opcodes=[],e.rules[54].opcodes[0]={type:3,min:0,max:1/0},e.rules[54].opcodes[1]={type:4,index:57},e.rules[55].opcodes=[],e.rules[55].opcodes[0]={type:3,min:1,max:1/0},e.rules[55].opcodes[1]={type:4,index:57},e.rules[56].opcodes=[],e.rules[56].opcodes[0]={type:3,min:1,max:1/0},e.rules[56].opcodes[1]={type:1,children:[2,3,4,5]},e.rules[56].opcodes[2]={type:4,index:61},e.rules[56].opcodes[3]={type:4,index:60},e.rules[56].opcodes[4]={type:4,index:64},e.rules[56].opcodes[5]={type:7,string:[64]},e.rules[57].opcodes=[],e.rules[57].opcodes[0]={type:1,children:[1,2,3,4,5]},e.rules[57].opcodes[1]={type:4,index:61},e.rules[57].opcodes[2]={type:4,index:60},e.rules[57].opcodes[3]={type:4,index:64},e.rules[57].opcodes[4]={type:7,string:[58]},e.rules[57].opcodes[5]={type:7,string:[64]},e.rules[58].opcodes=[],e.rules[58].opcodes[0]={type:3,min:0,max:1/0},e.rules[58].opcodes[1]={type:1,children:[2,3,4]},e.rules[58].opcodes[2]={type:4,index:57},e.rules[58].opcodes[3]={type:7,string:[47]},e.rules[58].opcodes[4]={type:7,string:[63]},e.rules[59].opcodes=[],e.rules[59].opcodes[0]={type:3,min:0,max:1/0},e.rules[59].opcodes[1]={type:1,children:[2,3,4]},e.rules[59].opcodes[2]={type:4,index:57},e.rules[59].opcodes[3]={type:7,string:[47]},e.rules[59].opcodes[4]={type:7,string:[63]},e.rules[60].opcodes=[],e.rules[60].opcodes[0]={type:2,children:[1,2,3]},e.rules[60].opcodes[1]={type:7,string:[37]},e.rules[60].opcodes[2]={type:4,index:8},e.rules[60].opcodes[3]={type:4,index:8},e.rules[61].opcodes=[],e.rules[61].opcodes[0]={type:1,children:[1,2,3,4,5,6]},e.rules[61].opcodes[1]={type:4,index:0},e.rules[61].opcodes[2]={type:4,index:6},e.rules[61].opcodes[3]={type:7,string:[45]},e.rules[61].opcodes[4]={type:7,string:[46]},e.rules[61].opcodes[5]={type:7,string:[95]},e.rules[61].opcodes[6]={type:7,string:[126]},e.rules[62].opcodes=[],e.rules[62].opcodes[0]={type:1,children:[1,2]},e.rules[62].opcodes[1]={type:4,index:63},e.rules[62].opcodes[2]={type:4,index:64},e.rules[63].opcodes=[],e.rules[63].opcodes[0]={type:1,children:[1,2,3,4,5,6,7]},e.rules[63].opcodes[1]={type:7,string:[58]},e.rules[63].opcodes[2]={type:7,string:[47]},e.rules[63].opcodes[3]={type:7,string:[63]},e.rules[63].opcodes[4]={type:7,string:[35]},e.rules[63].opcodes[5]={type:7,string:[91]},e.rules[63].opcodes[6]={type:7,string:[93]},e.rules[63].opcodes[7]={type:7,string:[64]},e.rules[64].opcodes=[],e.rules[64].opcodes[0]={type:1,children:[1,2,3,4,5,6,7,8,9,10,11]},e.rules[64].opcodes[1]={type:7,string:[33]},e.rules[64].opcodes[2]={type:7,string:[36]},e.rules[64].opcodes[3]={type:7,string:[38]},e.rules[64].opcodes[4]={type:7,string:[39]},e.rules[64].opcodes[5]={type:7,string:[40]},e.rules[64].opcodes[6]={type:7,string:[41]},e.rules[64].opcodes[7]={type:7,string:[42]},e.rules[64].opcodes[8]={type:7,string:[43]},e.rules[64].opcodes[9]={type:7,string:[44]},e.rules[64].opcodes[10]={type:7,string:[59]},e.rules[64].opcodes[11]={type:7,string:[61]},e.rules[65].opcodes=[],e.rules[65].opcodes[0]={type:2,children:[1,2,3,4,5,10]},e.rules[65].opcodes[1]={type:4,index:67},e.rules[65].opcodes[2]={type:6,string:[32,119,97,110,116,115,32,121,111,117,32,116,111,32,115,105,103,110,32,105,110,32,119,105,116,104,32,121,111,117,114,32,83,111,108,97,110,97,32,97,99,99,111,117,110,116,58]},e.rules[65].opcodes[3]={type:4,index:10},e.rules[65].opcodes[4]={type:4,index:68},e.rules[65].opcodes[5]={type:3,min:0,max:1},e.rules[65].opcodes[6]={type:2,children:[7,8,9]},e.rules[65].opcodes[7]={type:4,index:10},e.rules[65].opcodes[8]={type:4,index:10},e.rules[65].opcodes[9]={type:4,index:69},e.rules[65].opcodes[10]={type:3,min:0,max:1},e.rules[65].opcodes[11]={type:2,children:[12,13]},e.rules[65].opcodes[12]={type:4,index:10},e.rules[65].opcodes[13]={type:4,index:66},e.rules[66].opcodes=[],e.rules[66].opcodes[0]={type:2,children:[1,6,11,16,21,26,31,36,41]},e.rules[66].opcodes[1]={type:3,min:0,max:1},e.rules[66].opcodes[2]={type:2,children:[3,4,5]},e.rules[66].opcodes[3]={type:4,index:10},e.rules[66].opcodes[4]={type:6,string:[85,82,73,58,32]},e.rules[66].opcodes[5]={type:4,index:70},e.rules[66].opcodes[6]={type:3,min:0,max:1},e.rules[66].opcodes[7]={type:2,children:[8,9,10]},e.rules[66].opcodes[8]={type:4,index:10},e.rules[66].opcodes[9]={type:6,string:[86,101,114,115,105,111,110,58,32]},e.rules[66].opcodes[10]={type:4,index:71},e.rules[66].opcodes[11]={type:3,min:0,max:1},e.rules[66].opcodes[12]={type:2,children:[13,14,15]},e.rules[66].opcodes[13]={type:4,index:10},e.rules[66].opcodes[14]={type:6,string:[67,104,97,105,110,32,73,68,58,32]},e.rules[66].opcodes[15]={type:4,index:72},e.rules[66].opcodes[16]={type:3,min:0,max:1},e.rules[66].opcodes[17]={type:2,children:[18,19,20]},e.rules[66].opcodes[18]={type:4,index:10},e.rules[66].opcodes[19]={type:6,string:[78,111,110,99,101,58,32]},e.rules[66].opcodes[20]={type:4,index:73},e.rules[66].opcodes[21]={type:3,min:0,max:1},e.rules[66].opcodes[22]={type:2,children:[23,24,25]},e.rules[66].opcodes[23]={type:4,index:10},e.rules[66].opcodes[24]={type:6,string:[73,115,115,117,101,100,32,65,116,58,32]},e.rules[66].opcodes[25]={type:4,index:74},e.rules[66].opcodes[26]={type:3,min:0,max:1},e.rules[66].opcodes[27]={type:2,children:[28,29,30]},e.rules[66].opcodes[28]={type:4,index:10},e.rules[66].opcodes[29]={type:6,string:[69,120,112,105,114,97,116,105,111,110,32,84,105,109,101,58,32]},e.rules[66].opcodes[30]={type:4,index:75},e.rules[66].opcodes[31]={type:3,min:0,max:1},e.rules[66].opcodes[32]={type:2,children:[33,34,35]},e.rules[66].opcodes[33]={type:4,index:10},e.rules[66].opcodes[34]={type:6,string:[78,111,116,32,66,101,102,111,114,101,58,32]},e.rules[66].opcodes[35]={type:4,index:76},e.rules[66].opcodes[36]={type:3,min:0,max:1},e.rules[66].opcodes[37]={type:2,children:[38,39,40]},e.rules[66].opcodes[38]={type:4,index:10},e.rules[66].opcodes[39]={type:6,string:[82,101,113,117,101,115,116,32,73,68,58,32]},e.rules[66].opcodes[40]={type:4,index:77},e.rules[66].opcodes[41]={type:3,min:0,max:1},e.rules[66].opcodes[42]={type:2,children:[43,44,45]},e.rules[66].opcodes[43]={type:4,index:10},e.rules[66].opcodes[44]={type:6,string:[82,101,115,111,117,114,99,101,115,58]},e.rules[66].opcodes[45]={type:4,index:78},e.rules[67].opcodes=[],e.rules[67].opcodes[0]={type:4,index:36},e.rules[68].opcodes=[],e.rules[68].opcodes[0]={type:3,min:32,max:44},e.rules[68].opcodes[1]={type:1,children:[2,3,4,5,6,7]},e.rules[68].opcodes[2]={type:5,min:49,max:57},e.rules[68].opcodes[3]={type:5,min:65,max:72},e.rules[68].opcodes[4]={type:5,min:74,max:78},e.rules[68].opcodes[5]={type:5,min:80,max:90},e.rules[68].opcodes[6]={type:5,min:97,max:107},e.rules[68].opcodes[7]={type:5,min:109,max:122},e.rules[69].opcodes=[],e.rules[69].opcodes[0]={type:3,min:1,max:1/0},e.rules[69].opcodes[1]={type:1,children:[2,3,4]},e.rules[69].opcodes[2]={type:4,index:62},e.rules[69].opcodes[3]={type:4,index:61},e.rules[69].opcodes[4]={type:7,string:[32]},e.rules[70].opcodes=[],e.rules[70].opcodes[0]={type:4,index:29},e.rules[71].opcodes=[],e.rules[71].opcodes[0]={type:7,string:[49]},e.rules[72].opcodes=[],e.rules[72].opcodes[0]={type:1,children:[1,2,3,4,5,6,7]},e.rules[72].opcodes[1]={type:6,string:[109,97,105,110,110,101,116]},e.rules[72].opcodes[2]={type:6,string:[116,101,115,116,110,101,116]},e.rules[72].opcodes[3]={type:6,string:[100,101,118,110,101,116]},e.rules[72].opcodes[4]={type:6,string:[108,111,99,97,108,110,101,116]},e.rules[72].opcodes[5]={type:6,string:[115,111,108,97,110,97,58,109,97,105,110,110,101,116]},e.rules[72].opcodes[6]={type:6,string:[115,111,108,97,110,97,58,116,101,115,116,110,101,116]},e.rules[72].opcodes[7]={type:6,string:[115,111,108,97,110,97,58,100,101,118,110,101,116]},e.rules[73].opcodes=[],e.rules[73].opcodes[0]={type:3,min:8,max:1/0},e.rules[73].opcodes[1]={type:1,children:[2,3]},e.rules[73].opcodes[2]={type:4,index:0},e.rules[73].opcodes[3]={type:4,index:6},e.rules[74].opcodes=[],e.rules[74].opcodes[0]={type:4,index:28},e.rules[75].opcodes=[],e.rules[75].opcodes[0]={type:4,index:28},e.rules[76].opcodes=[],e.rules[76].opcodes[0]={type:4,index:28},e.rules[77].opcodes=[],e.rules[77].opcodes[0]={type:3,min:0,max:1/0},e.rules[77].opcodes[1]={type:4,index:57},e.rules[78].opcodes=[],e.rules[78].opcodes[0]={type:3,min:0,max:1/0},e.rules[78].opcodes[1]={type:2,children:[2,3,4]},e.rules[78].opcodes[2]={type:4,index:10},e.rules[78].opcodes[3]={type:7,string:[45,32]},e.rules[78].opcodes[4]={type:4,index:29},e.toString=function(){let e="";return e+="; ==============================================================================\n",e+="; Core rules for ABNF (RFC 5234)\n",e+="; ==============================================================================\n",e+=";\n",e+="; References:\n",e+="; - https://www.rfc-editor.org/rfc/rfc5234#appendix-B.1\n",e+="\n",e+="ALPHA          =  %x41-5A / %x61-7A\n",e+="               ; A-Z / a-z\n",e+="\n",e+='BIT            =  "0" / "1"\n',e+="\n",e+="CHAR           =  %x01-7F\n",e+="               ; any 7-bit US-ASCII character,\n",e+="               ;  excluding NUL\n",e+="\n",e+="CR             =  %x0D\n",e+="               ; carriage return\n",e+="\n",e+="CRLF           =  CR LF\n",e+="               ; Internet standard newline\n",e+="\n",e+="CTL            =  %x00-1F / %x7F\n",e+="               ; controls\n",e+="\n",e+="DIGIT          =  %x30-39\n",e+="               ; 0-9\n",e+="\n",e+="DQUOTE         =  %x22\n",e+='               ; " (Double Quote)\n',e+="\n",e+='HEXDIG         =  DIGIT / "A" / "B" / "C" / "D" / "E" / "F"\n',e+="\n",e+="HTAB           =  %x09\n",e+="               ; horizontal tab\n",e+="\n",e+="LF             =  %x0A\n",e+="               ; linefeed\n",e+="\n",e+="LWSP           =  *(WSP / CRLF WSP)\n",e+="               ; Use of this linear-white-space rule\n",e+="               ;  permits lines containing only white\n",e+="               ;  space that are no longer legal in\n",e+="               ;  mail headers and have caused\n",e+="               ;  interoperability problems in other\n",e+="               ;  contexts.\n",e+="               ; Do not use when defining mail\n",e+="               ;  headers and use with caution in\n",e+="               ;  other contexts.\n",e+="\n",e+="OCTET          =  %x00-FF\n",e+="               ; 8 bits of data\n",e+="\n",e+="SP             =  %x20\n",e+="\n",e+="VCHAR          =  %x21-7E\n",e+="               ; visible (printing) characters\n",e+="\n",e+="WSP            =  SP / HTAB\n",e+="               ; white space\n",e+="; ==============================================================================\n",e+="; Internet Date/Time Format (RFC 3339)\n",e+="; ==============================================================================\n",e+=";\n",e+="; Requires:\n",e+="; - core.bnf\n",e+=";\n",e+="; References:\n",e+="; - https://www.rfc-editor.org/rfc/rfc3339#section-5.6\n",e+="\n",e+="date-fullyear   = 4DIGIT\n",e+="\n",e+="date-month      = 2DIGIT  ; 01-12\n",e+="\n",e+="date-mday       = 2DIGIT  ; 01-28, 01-29, 01-30, 01-31 based on\n",e+="                          ; month/year\n",e+="\n",e+="time-hour       = 2DIGIT  ; 00-23\n",e+="\n",e+="time-minute     = 2DIGIT  ; 00-59\n",e+="\n",e+="time-second     = 2DIGIT  ; 00-58, 00-59, 00-60 based on leap second\n",e+="                          ; rules\n",e+="\n",e+='time-secfrac    = "." 1*DIGIT\n',e+="\n",e+='time-numoffset  = ("+" / "-") time-hour ":" time-minute\n',e+="\n",e+='time-offset     = "Z" / time-numoffset\n',e+="\n",e+='partial-time    = time-hour ":" time-minute ":" time-second\n',e+="                  [time-secfrac]\n",e+="\n",e+='full-date       = date-fullyear "-" date-month "-" date-mday\n',e+="\n",e+="full-time       = partial-time time-offset\n",e+="\n",e+='date-time       = full-date "T" full-time\n',e+="; ==============================================================================\n",e+="; Uniform Resource Identifier (RFC 3986)\n",e+="; ==============================================================================\n",e+=";\n",e+="; Requires:\n",e+="; - core.bnf\n",e+=";\n",e+="; References:\n",e+="; - https://www.rfc-editor.org/rfc/rfc3986#appendix-A\n",e+="\n",e+='URI           = scheme ":" hier-part [ "?" query ] [ "#" fragment ]\n',e+="\n",e+='hier-part     = "//" authority path-abempty\n',e+="              / path-absolute\n",e+="              / path-rootless\n",e+="              / path-empty\n",e+="\n",e+="URI-reference = URI / relative-ref\n",e+="\n",e+='absolute-URI  = scheme ":" hier-part [ "?" query ]\n',e+="\n",e+='relative-ref  = relative-part [ "?" query ] [ "#" fragment ]\n',e+="\n",e+='relative-part = "//" authority path-abempty\n',e+="              / path-absolute\n",e+="              / path-noscheme\n",e+="              / path-empty\n",e+="\n",e+='scheme        = ALPHA *( ALPHA / DIGIT / "+" / "-" / "." )\n',e+="\n",e+='authority     = [ userinfo "@" ] host [ ":" port ]\n',e+='userinfo      = *( unreserved / pct-encoded / sub-delims / ":" )\n',e+="host          = IP-literal / IPv4address / reg-name\n",e+="port          = *DIGIT\n",e+="\n",e+='IP-literal    = "[" ( IPv6address / IPvFuture  ) "]"\n',e+="\n",e+='IPvFuture     = "v" 1*HEXDIG "." 1*( unreserved / sub-delims / ":" )\n',e+="\n",e+='IPv6address   =                            6( h16 ":" ) ls32\n',e+='              /                       "::" 5( h16 ":" ) ls32\n',e+='              / [               h16 ] "::" 4( h16 ":" ) ls32\n',e+='              / [ *1( h16 ":" ) h16 ] "::" 3( h16 ":" ) ls32\n',e+='              / [ *2( h16 ":" ) h16 ] "::" 2( h16 ":" ) ls32\n',e+='              / [ *3( h16 ":" ) h16 ] "::"    h16 ":"   ls32\n',e+='              / [ *4( h16 ":" ) h16 ] "::"              ls32\n',e+='              / [ *5( h16 ":" ) h16 ] "::"              h16\n',e+='              / [ *6( h16 ":" ) h16 ] "::"\n',e+="\n",e+="h16           = 1*4HEXDIG\n",e+='ls32          = ( h16 ":" h16 ) / IPv4address\n',e+='IPv4address   = dec-octet "." dec-octet "." dec-octet "." dec-octet\n',e+="dec-octet     = DIGIT                 ; 0-9\n",e+="              / %x31-39 DIGIT         ; 10-99\n",e+='              / "1" 2DIGIT            ; 100-199\n',e+='              / "2" %x30-34 DIGIT     ; 200-249\n',e+='              / "25" %x30-35          ; 250-255\n',e+="\n",e+="reg-name      = *( unreserved / pct-encoded / sub-delims )\n",e+="\n",e+='path          = path-abempty    ; begins with "/" or is empty\n',e+='              / path-absolute   ; begins with "/" but not "//"\n',e+="              / path-noscheme   ; begins with a non-colon segment\n",e+="              / path-rootless   ; begins with a segment\n",e+="              / path-empty      ; zero characters\n",e+="\n",e+='path-abempty  = *( "/" segment )\n',e+='path-absolute = "/" [ segment-nz *( "/" segment ) ]\n',e+='path-noscheme = segment-nz-nc *( "/" segment )\n',e+='path-rootless = segment-nz *( "/" segment )\n',e+="path-empty    = 0pchar\n",e+="\n",e+="segment       = *pchar\n",e+="segment-nz    = 1*pchar\n",e+='segment-nz-nc = 1*( unreserved / pct-encoded / sub-delims / "@" )\n',e+='; non-zero-length segment without any colon ":"\n',e+="\n",e+='pchar         = unreserved / pct-encoded / sub-delims / ":" / "@"\n',e+="\n",e+='query         = *( pchar / "/" / "?" )\n',e+="\n",e+='fragment      = *( pchar / "/" / "?" )\n',e+="\n",e+='pct-encoded   = "%" HEXDIG HEXDIG\n',e+="\n",e+='unreserved    = ALPHA / DIGIT / "-" / "." / "_" / "~"\n',e+="reserved      = gen-delims / sub-delims\n",e+='gen-delims    = ":" / "/" / "?" / "#" / "[" / "]" / "@"\n',e+='sub-delims    = "!" / "$" / "&" / "\'" / "(" / ")"\n',e+='              / "*" / "+" / "," / ";" / "="\n',e+="; ==============================================================================\n",e+="; Sign in with Solana\n",e+="; ==============================================================================\n",e+=";\n",e+="; Requires:\n",e+="; - core.bnf\n",e+="; - datetime.bnf\n",e+="; - uri.bnf\n",e+="; - dns.bnf\n",e+=";\n",e+="; References:\n",e+="; - https://eips.ethereum.org/EIPS/eip-4361\n",e+=" \n",e+="sign-in-with-solana =\n",e+='  message-domain %s" wants you to sign in with your Solana account:" LF\n',e+="  message-address\n",e+="  [ LF LF message-statement ]\n",e+="  [ LF advanced-fields ]\n",e+="\n",e+="advanced-fields =\n",e+='  [ LF %s"URI: " message-uri ]\n',e+='  [ LF %s"Version: " message-version ]\n',e+='  [ LF %s"Chain ID: " message-chain-id ]\n',e+='  [ LF %s"Nonce: " message-nonce ]\n',e+='  [ LF %s"Issued At: " message-issued-at ]\n',e+='  [ LF %s"Expiration Time: " message-expiration-time ]\n',e+='  [ LF %s"Not Before: " message-not-before ]\n',e+='  [ LF %s"Request ID: " message-request-id ]\n',e+='  [ LF %s"Resources:" message-resources ]\n',e+="\n",e+="message-domain          = authority\n",e+="message-address         = 32*44( %x31-39 / %x41-48 / %x4A-4E / %x50-5A / %x61-6B / %x6D-7A )\n",e+='message-statement       = 1*( reserved / unreserved / " " )\n',e+="message-uri             = URI\n",e+='message-version         = "1"\n',e+='message-chain-id        = %s"mainnet" / %s"testnet" / %s"devnet" / %s"localnet" / %s"solana:mainnet" / %s"solana:testnet" / %s"solana:devnet"\n',e+="message-nonce           = 8*( ALPHA / DIGIT )\n",e+="message-issued-at       = date-time\n",e+="message-expiration-time = date-time\n",e+="message-not-before      = date-time\n",e+="message-request-id      = *pchar\n",e+='message-resources       = *( LF "- " URI )\n','; ==============================================================================\n; Core rules for ABNF (RFC 5234)\n; ==============================================================================\n;\n; References:\n; - https://www.rfc-editor.org/rfc/rfc5234#appendix-B.1\n\nALPHA          =  %x41-5A / %x61-7A\n               ; A-Z / a-z\n\nBIT            =  "0" / "1"\n\nCHAR           =  %x01-7F\n               ; any 7-bit US-ASCII character,\n               ;  excluding NUL\n\nCR             =  %x0D\n               ; carriage return\n\nCRLF           =  CR LF\n               ; Internet standard newline\n\nCTL            =  %x00-1F / %x7F\n               ; controls\n\nDIGIT          =  %x30-39\n               ; 0-9\n\nDQUOTE         =  %x22\n               ; " (Double Quote)\n\nHEXDIG         =  DIGIT / "A" / "B" / "C" / "D" / "E" / "F"\n\nHTAB           =  %x09\n               ; horizontal tab\n\nLF             =  %x0A\n               ; linefeed\n\nLWSP           =  *(WSP / CRLF WSP)\n               ; Use of this linear-white-space rule\n               ;  permits lines containing only white\n               ;  space that are no longer legal in\n               ;  mail headers and have caused\n               ;  interoperability problems in other\n               ;  contexts.\n               ; Do not use when defining mail\n               ;  headers and use with caution in\n               ;  other contexts.\n\nOCTET          =  %x00-FF\n               ; 8 bits of data\n\nSP             =  %x20\n\nVCHAR          =  %x21-7E\n               ; visible (printing) characters\n\nWSP            =  SP / HTAB\n               ; white space\n; ==============================================================================\n; Internet Date/Time Format (RFC 3339)\n; ==============================================================================\n;\n; Requires:\n; - core.bnf\n;\n; References:\n; - https://www.rfc-editor.org/rfc/rfc3339#section-5.6\n\ndate-fullyear   = 4DIGIT\n\ndate-month      = 2DIGIT  ; 01-12\n\ndate-mday       = 2DIGIT  ; 01-28, 01-29, 01-30, 01-31 based on\n                          ; month/year\n\ntime-hour       = 2DIGIT  ; 00-23\n\ntime-minute     = 2DIGIT  ; 00-59\n\ntime-second     = 2DIGIT  ; 00-58, 00-59, 00-60 based on leap second\n                          ; rules\n\ntime-secfrac    = "." 1*DIGIT\n\ntime-numoffset  = ("+" / "-") time-hour ":" time-minute\n\ntime-offset     = "Z" / time-numoffset\n\npartial-time    = time-hour ":" time-minute ":" time-second\n                  [time-secfrac]\n\nfull-date       = date-fullyear "-" date-month "-" date-mday\n\nfull-time       = partial-time time-offset\n\ndate-time       = full-date "T" full-time\n; ==============================================================================\n; Uniform Resource Identifier (RFC 3986)\n; ==============================================================================\n;\n; Requires:\n; - core.bnf\n;\n; References:\n; - https://www.rfc-editor.org/rfc/rfc3986#appendix-A\n\nURI           = scheme ":" hier-part [ "?" query ] [ "#" fragment ]\n\nhier-part     = "//" authority path-abempty\n              / path-absolute\n              / path-rootless\n              / path-empty\n\nURI-reference = URI / relative-ref\n\nabsolute-URI  = scheme ":" hier-part [ "?" query ]\n\nrelative-ref  = relative-part [ "?" query ] [ "#" fragment ]\n\nrelative-part = "//" authority path-abempty\n              / path-absolute\n              / path-noscheme\n              / path-empty\n\nscheme        = ALPHA *( ALPHA / DIGIT / "+" / "-" / "." )\n\nauthority     = [ userinfo "@" ] host [ ":" port ]\nuserinfo      = *( unreserved / pct-encoded / sub-delims / ":" )\nhost          = IP-literal / IPv4address / reg-name\nport          = *DIGIT\n\nIP-literal    = "[" ( IPv6address / IPvFuture  ) "]"\n\nIPvFuture     = "v" 1*HEXDIG "." 1*( unreserved / sub-delims / ":" )\n\nIPv6address   =                            6( h16 ":" ) ls32\n              /                       "::" 5( h16 ":" ) ls32\n              / [               h16 ] "::" 4( h16 ":" ) ls32\n              / [ *1( h16 ":" ) h16 ] "::" 3( h16 ":" ) ls32\n              / [ *2( h16 ":" ) h16 ] "::" 2( h16 ":" ) ls32\n              / [ *3( h16 ":" ) h16 ] "::"    h16 ":"   ls32\n              / [ *4( h16 ":" ) h16 ] "::"              ls32\n              / [ *5( h16 ":" ) h16 ] "::"              h16\n              / [ *6( h16 ":" ) h16 ] "::"\n\nh16           = 1*4HEXDIG\nls32          = ( h16 ":" h16 ) / IPv4address\nIPv4address   = dec-octet "." dec-octet "." dec-octet "." dec-octet\ndec-octet     = DIGIT                 ; 0-9\n              / %x31-39 DIGIT         ; 10-99\n              / "1" 2DIGIT            ; 100-199\n              / "2" %x30-34 DIGIT     ; 200-249\n              / "25" %x30-35          ; 250-255\n\nreg-name      = *( unreserved / pct-encoded / sub-delims )\n\npath          = path-abempty    ; begins with "/" or is empty\n              / path-absolute   ; begins with "/" but not "//"\n              / path-noscheme   ; begins with a non-colon segment\n              / path-rootless   ; begins with a segment\n              / path-empty      ; zero characters\n\npath-abempty  = *( "/" segment )\npath-absolute = "/" [ segment-nz *( "/" segment ) ]\npath-noscheme = segment-nz-nc *( "/" segment )\npath-rootless = segment-nz *( "/" segment )\npath-empty    = 0pchar\n\nsegment       = *pchar\nsegment-nz    = 1*pchar\nsegment-nz-nc = 1*( unreserved / pct-encoded / sub-delims / "@" )\n; non-zero-length segment without any colon ":"\n\npchar         = unreserved / pct-encoded / sub-delims / ":" / "@"\n\nquery         = *( pchar / "/" / "?" )\n\nfragment      = *( pchar / "/" / "?" )\n\npct-encoded   = "%" HEXDIG HEXDIG\n\nunreserved    = ALPHA / DIGIT / "-" / "." / "_" / "~"\nreserved      = gen-delims / sub-delims\ngen-delims    = ":" / "/" / "?" / "#" / "[" / "]" / "@"\nsub-delims    = "!" / "$" / "&" / "\'" / "(" / ")"\n              / "*" / "+" / "," / ";" / "="\n; ==============================================================================\n; Sign in with Solana\n; ==============================================================================\n;\n; Requires:\n; - core.bnf\n; - datetime.bnf\n; - uri.bnf\n; - dns.bnf\n;\n; References:\n; - https://eips.ethereum.org/EIPS/eip-4361\n \nsign-in-with-solana =\n  message-domain %s" wants you to sign in with your Solana account:" LF\n  message-address\n  [ LF LF message-statement ]\n  [ LF advanced-fields ]\n\nadvanced-fields =\n  [ LF %s"URI: " message-uri ]\n  [ LF %s"Version: " message-version ]\n  [ LF %s"Chain ID: " message-chain-id ]\n  [ LF %s"Nonce: " message-nonce ]\n  [ LF %s"Issued At: " message-issued-at ]\n  [ LF %s"Expiration Time: " message-expiration-time ]\n  [ LF %s"Not Before: " message-not-before ]\n  [ LF %s"Request ID: " message-request-id ]\n  [ LF %s"Resources:" message-resources ]\n\nmessage-domain          = authority\nmessage-address         = 32*44( %x31-39 / %x41-48 / %x4A-4E / %x50-5A / %x61-6B / %x6D-7A )\nmessage-statement       = 1*( reserved / unreserved / " " )\nmessage-uri             = URI\nmessage-version         = "1"\nmessage-chain-id        = %s"mainnet" / %s"testnet" / %s"devnet" / %s"localnet" / %s"solana:mainnet" / %s"solana:testnet" / %s"solana:devnet"\nmessage-nonce           = 8*( ALPHA / DIGIT )\nmessage-issued-at       = date-time\nmessage-expiration-time = date-time\nmessage-not-before      = date-time\nmessage-request-id      = *pchar\nmessage-resources       = *( LF "- " URI )\n'},e}function da(){let e={grammarObject:"grammarObject",rules:[]};return e.rules[0]={name:"ALPHA",lower:"alpha",index:0,isBkr:!1},e.rules[1]={name:"BIT",lower:"bit",index:1,isBkr:!1},e.rules[2]={name:"CHAR",lower:"char",index:2,isBkr:!1},e.rules[3]={name:"CR",lower:"cr",index:3,isBkr:!1},e.rules[4]={name:"CRLF",lower:"crlf",index:4,isBkr:!1},e.rules[5]={name:"CTL",lower:"ctl",index:5,isBkr:!1},e.rules[6]={name:"DIGIT",lower:"digit",index:6,isBkr:!1},e.rules[7]={name:"DQUOTE",lower:"dquote",index:7,isBkr:!1},e.rules[8]={name:"HEXDIG",lower:"hexdig",index:8,isBkr:!1},e.rules[9]={name:"HTAB",lower:"htab",index:9,isBkr:!1},e.rules[10]={name:"LF",lower:"lf",index:10,isBkr:!1},e.rules[11]={name:"LWSP",lower:"lwsp",index:11,isBkr:!1},e.rules[12]={name:"OCTET",lower:"octet",index:12,isBkr:!1},e.rules[13]={name:"SP",lower:"sp",index:13,isBkr:!1},e.rules[14]={name:"VCHAR",lower:"vchar",index:14,isBkr:!1},e.rules[15]={name:"WSP",lower:"wsp",index:15,isBkr:!1},e.rules[16]={name:"date-fullyear",lower:"date-fullyear",index:16,isBkr:!1},e.rules[17]={name:"date-month",lower:"date-month",index:17,isBkr:!1},e.rules[18]={name:"date-mday",lower:"date-mday",index:18,isBkr:!1},e.rules[19]={name:"time-hour",lower:"time-hour",index:19,isBkr:!1},e.rules[20]={name:"time-minute",lower:"time-minute",index:20,isBkr:!1},e.rules[21]={name:"time-second",lower:"time-second",index:21,isBkr:!1},e.rules[22]={name:"time-secfrac",lower:"time-secfrac",index:22,isBkr:!1},e.rules[23]={name:"time-numoffset",lower:"time-numoffset",index:23,isBkr:!1},e.rules[24]={name:"time-offset",lower:"time-offset",index:24,isBkr:!1},e.rules[25]={name:"partial-time",lower:"partial-time",index:25,isBkr:!1},e.rules[26]={name:"full-date",lower:"full-date",index:26,isBkr:!1},e.rules[27]={name:"full-time",lower:"full-time",index:27,isBkr:!1},e.rules[28]={name:"date-time",lower:"date-time",index:28,isBkr:!1},e.rules[29]={name:"URI",lower:"uri",index:29,isBkr:!1},e.rules[30]={name:"hier-part",lower:"hier-part",index:30,isBkr:!1},e.rules[31]={name:"URI-reference",lower:"uri-reference",index:31,isBkr:!1},e.rules[32]={name:"absolute-URI",lower:"absolute-uri",index:32,isBkr:!1},e.rules[33]={name:"relative-ref",lower:"relative-ref",index:33,isBkr:!1},e.rules[34]={name:"relative-part",lower:"relative-part",index:34,isBkr:!1},e.rules[35]={name:"scheme",lower:"scheme",index:35,isBkr:!1},e.rules[36]={name:"authority",lower:"authority",index:36,isBkr:!1},e.rules[37]={name:"userinfo",lower:"userinfo",index:37,isBkr:!1},e.rules[38]={name:"host",lower:"host",index:38,isBkr:!1},e.rules[39]={name:"port",lower:"port",index:39,isBkr:!1},e.rules[40]={name:"IP-literal",lower:"ip-literal",index:40,isBkr:!1},e.rules[41]={name:"IPvFuture",lower:"ipvfuture",index:41,isBkr:!1},e.rules[42]={name:"IPv6address",lower:"ipv6address",index:42,isBkr:!1},e.rules[43]={name:"h16",lower:"h16",index:43,isBkr:!1},e.rules[44]={name:"ls32",lower:"ls32",index:44,isBkr:!1},e.rules[45]={name:"IPv4address",lower:"ipv4address",index:45,isBkr:!1},e.rules[46]={name:"dec-octet",lower:"dec-octet",index:46,isBkr:!1},e.rules[47]={name:"reg-name",lower:"reg-name",index:47,isBkr:!1},e.rules[48]={name:"path",lower:"path",index:48,isBkr:!1},e.rules[49]={name:"path-abempty",lower:"path-abempty",index:49,isBkr:!1},e.rules[50]={name:"path-absolute",lower:"path-absolute",index:50,isBkr:!1},e.rules[51]={name:"path-noscheme",lower:"path-noscheme",index:51,isBkr:!1},e.rules[52]={name:"path-rootless",lower:"path-rootless",index:52,isBkr:!1},e.rules[53]={name:"path-empty",lower:"path-empty",index:53,isBkr:!1},e.rules[54]={name:"segment",lower:"segment",index:54,isBkr:!1},e.rules[55]={name:"segment-nz",lower:"segment-nz",index:55,isBkr:!1},e.rules[56]={name:"segment-nz-nc",lower:"segment-nz-nc",index:56,isBkr:!1},e.rules[57]={name:"pchar",lower:"pchar",index:57,isBkr:!1},e.rules[58]={name:"query",lower:"query",index:58,isBkr:!1},e.rules[59]={name:"fragment",lower:"fragment",index:59,isBkr:!1},e.rules[60]={name:"pct-encoded",lower:"pct-encoded",index:60,isBkr:!1},e.rules[61]={name:"unreserved",lower:"unreserved",index:61,isBkr:!1},e.rules[62]={name:"reserved",lower:"reserved",index:62,isBkr:!1},e.rules[63]={name:"gen-delims",lower:"gen-delims",index:63,isBkr:!1},e.rules[64]={name:"sub-delims",lower:"sub-delims",index:64,isBkr:!1},e.rules[65]={name:"dnsurl",lower:"dnsurl",index:65,isBkr:!1},e.rules[66]={name:"dnsauthority",lower:"dnsauthority",index:66,isBkr:!1},e.rules[67]={name:"dnsname",lower:"dnsname",index:67,isBkr:!1},e.rules[68]={name:"dnsquery",lower:"dnsquery",index:68,isBkr:!1},e.rules[69]={name:"dnsqueryelement",lower:"dnsqueryelement",index:69,isBkr:!1},e.rules[70]={name:"dnsclassval",lower:"dnsclassval",index:70,isBkr:!1},e.rules[71]={name:"dnstypeval",lower:"dnstypeval",index:71,isBkr:!1},e.rules[72]={name:"chain-id",lower:"chain-id",index:72,isBkr:!1},e.rules[73]={name:"eth-namespace",lower:"eth-namespace",index:73,isBkr:!1},e.rules[74]={name:"eth-network-id",lower:"eth-network-id",index:74,isBkr:!1},e.rules[75]={name:"eth-chain-id",lower:"eth-chain-id",index:75,isBkr:!1},e.rules[76]={name:"sol-namespace",lower:"sol-namespace",index:76,isBkr:!1},e.rules[77]={name:"sol-network-id",lower:"sol-network-id",index:77,isBkr:!1},e.rules[78]={name:"sol-chain-id",lower:"sol-chain-id",index:78,isBkr:!1},e.rules[79]={name:"account-id",lower:"account-id",index:79,isBkr:!1},e.rules[80]={name:"eth-address",lower:"eth-address",index:80,isBkr:!1},e.rules[81]={name:"eth-account-id",lower:"eth-account-id",index:81,isBkr:!1},e.rules[82]={name:"sol-address",lower:"sol-address",index:82,isBkr:!1},e.rules[83]={name:"sol-account-id",lower:"sol-account-id",index:83,isBkr:!1},e.rules[84]={name:"sign-in-with-x",lower:"sign-in-with-x",index:84,isBkr:!1},e.rules[85]={name:"sign-in-with-eth",lower:"sign-in-with-eth",index:85,isBkr:!1},e.rules[86]={name:"sign-in-with-sol",lower:"sign-in-with-sol",index:86,isBkr:!1},e.rules[87]={name:"message-domain",lower:"message-domain",index:87,isBkr:!1},e.rules[88]={name:"message-address",lower:"message-address",index:88,isBkr:!1},e.rules[89]={name:"message-statement",lower:"message-statement",index:89,isBkr:!1},e.rules[90]={name:"message-uri",lower:"message-uri",index:90,isBkr:!1},e.rules[91]={name:"message-version",lower:"message-version",index:91,isBkr:!1},e.rules[92]={name:"message-chain-id",lower:"message-chain-id",index:92,isBkr:!1},e.rules[93]={name:"message-nonce",lower:"message-nonce",index:93,isBkr:!1},e.rules[94]={name:"message-issued-at",lower:"message-issued-at",index:94,isBkr:!1},e.rules[95]={name:"message-expiration-time",lower:"message-expiration-time",index:95,isBkr:!1},e.rules[96]={name:"message-not-before",lower:"message-not-before",index:96,isBkr:!1},e.rules[97]={name:"message-request-id",lower:"message-request-id",index:97,isBkr:!1},e.rules[98]={name:"message-resources",lower:"message-resources",index:98,isBkr:!1},e.udts=[],e.rules[0].opcodes=[],e.rules[0].opcodes[0]={type:1,children:[1,2]},e.rules[0].opcodes[1]={type:5,min:65,max:90},e.rules[0].opcodes[2]={type:5,min:97,max:122},e.rules[1].opcodes=[],e.rules[1].opcodes[0]={type:1,children:[1,2]},e.rules[1].opcodes[1]={type:7,string:[48]},e.rules[1].opcodes[2]={type:7,string:[49]},e.rules[2].opcodes=[],e.rules[2].opcodes[0]={type:5,min:1,max:127},e.rules[3].opcodes=[],e.rules[3].opcodes[0]={type:6,string:[13]},e.rules[4].opcodes=[],e.rules[4].opcodes[0]={type:2,children:[1,2]},e.rules[4].opcodes[1]={type:4,index:3},e.rules[4].opcodes[2]={type:4,index:10},e.rules[5].opcodes=[],e.rules[5].opcodes[0]={type:1,children:[1,2]},e.rules[5].opcodes[1]={type:5,min:0,max:31},e.rules[5].opcodes[2]={type:6,string:[127]},e.rules[6].opcodes=[],e.rules[6].opcodes[0]={type:5,min:48,max:57},e.rules[7].opcodes=[],e.rules[7].opcodes[0]={type:6,string:[34]},e.rules[8].opcodes=[],e.rules[8].opcodes[0]={type:1,children:[1,2,3,4,5,6,7]},e.rules[8].opcodes[1]={type:4,index:6},e.rules[8].opcodes[2]={type:7,string:[97]},e.rules[8].opcodes[3]={type:7,string:[98]},e.rules[8].opcodes[4]={type:7,string:[99]},e.rules[8].opcodes[5]={type:7,string:[100]},e.rules[8].opcodes[6]={type:7,string:[101]},e.rules[8].opcodes[7]={type:7,string:[102]},e.rules[9].opcodes=[],e.rules[9].opcodes[0]={type:6,string:[9]},e.rules[10].opcodes=[],e.rules[10].opcodes[0]={type:6,string:[10]},e.rules[11].opcodes=[],e.rules[11].opcodes[0]={type:3,min:0,max:1/0},e.rules[11].opcodes[1]={type:1,children:[2,3]},e.rules[11].opcodes[2]={type:4,index:15},e.rules[11].opcodes[3]={type:2,children:[4,5]},e.rules[11].opcodes[4]={type:4,index:4},e.rules[11].opcodes[5]={type:4,index:15},e.rules[12].opcodes=[],e.rules[12].opcodes[0]={type:5,min:0,max:255},e.rules[13].opcodes=[],e.rules[13].opcodes[0]={type:6,string:[32]},e.rules[14].opcodes=[],e.rules[14].opcodes[0]={type:5,min:33,max:126},e.rules[15].opcodes=[],e.rules[15].opcodes[0]={type:1,children:[1,2]},e.rules[15].opcodes[1]={type:4,index:13},e.rules[15].opcodes[2]={type:4,index:9},e.rules[16].opcodes=[],e.rules[16].opcodes[0]={type:3,min:4,max:4},e.rules[16].opcodes[1]={type:4,index:6},e.rules[17].opcodes=[],e.rules[17].opcodes[0]={type:3,min:2,max:2},e.rules[17].opcodes[1]={type:4,index:6},e.rules[18].opcodes=[],e.rules[18].opcodes[0]={type:3,min:2,max:2},e.rules[18].opcodes[1]={type:4,index:6},e.rules[19].opcodes=[],e.rules[19].opcodes[0]={type:3,min:2,max:2},e.rules[19].opcodes[1]={type:4,index:6},e.rules[20].opcodes=[],e.rules[20].opcodes[0]={type:3,min:2,max:2},e.rules[20].opcodes[1]={type:4,index:6},e.rules[21].opcodes=[],e.rules[21].opcodes[0]={type:3,min:2,max:2},e.rules[21].opcodes[1]={type:4,index:6},e.rules[22].opcodes=[],e.rules[22].opcodes[0]={type:2,children:[1,2]},e.rules[22].opcodes[1]={type:7,string:[46]},e.rules[22].opcodes[2]={type:3,min:1,max:1/0},e.rules[22].opcodes[3]={type:4,index:6},e.rules[23].opcodes=[],e.rules[23].opcodes[0]={type:2,children:[1,4,5,6]},e.rules[23].opcodes[1]={type:1,children:[2,3]},e.rules[23].opcodes[2]={type:7,string:[43]},e.rules[23].opcodes[3]={type:7,string:[45]},e.rules[23].opcodes[4]={type:4,index:19},e.rules[23].opcodes[5]={type:7,string:[58]},e.rules[23].opcodes[6]={type:4,index:20},e.rules[24].opcodes=[],e.rules[24].opcodes[0]={type:1,children:[1,2]},e.rules[24].opcodes[1]={type:7,string:[122]},e.rules[24].opcodes[2]={type:4,index:23},e.rules[25].opcodes=[],e.rules[25].opcodes[0]={type:2,children:[1,2,3,4,5,6]},e.rules[25].opcodes[1]={type:4,index:19},e.rules[25].opcodes[2]={type:7,string:[58]},e.rules[25].opcodes[3]={type:4,index:20},e.rules[25].opcodes[4]={type:7,string:[58]},e.rules[25].opcodes[5]={type:4,index:21},e.rules[25].opcodes[6]={type:3,min:0,max:1},e.rules[25].opcodes[7]={type:4,index:22},e.rules[26].opcodes=[],e.rules[26].opcodes[0]={type:2,children:[1,2,3,4,5]},e.rules[26].opcodes[1]={type:4,index:16},e.rules[26].opcodes[2]={type:7,string:[45]},e.rules[26].opcodes[3]={type:4,index:17},e.rules[26].opcodes[4]={type:7,string:[45]},e.rules[26].opcodes[5]={type:4,index:18},e.rules[27].opcodes=[],e.rules[27].opcodes[0]={type:2,children:[1,2]},e.rules[27].opcodes[1]={type:4,index:25},e.rules[27].opcodes[2]={type:4,index:24},e.rules[28].opcodes=[],e.rules[28].opcodes[0]={type:2,children:[1,2,3]},e.rules[28].opcodes[1]={type:4,index:26},e.rules[28].opcodes[2]={type:7,string:[116]},e.rules[28].opcodes[3]={type:4,index:27},e.rules[29].opcodes=[],e.rules[29].opcodes[0]={type:2,children:[1,2,3,4,8]},e.rules[29].opcodes[1]={type:4,index:35},e.rules[29].opcodes[2]={type:7,string:[58]},e.rules[29].opcodes[3]={type:4,index:30},e.rules[29].opcodes[4]={type:3,min:0,max:1},e.rules[29].opcodes[5]={type:2,children:[6,7]},e.rules[29].opcodes[6]={type:7,string:[63]},e.rules[29].opcodes[7]={type:4,index:58},e.rules[29].opcodes[8]={type:3,min:0,max:1},e.rules[29].opcodes[9]={type:2,children:[10,11]},e.rules[29].opcodes[10]={type:7,string:[35]},e.rules[29].opcodes[11]={type:4,index:59},e.rules[30].opcodes=[],e.rules[30].opcodes[0]={type:1,children:[1,5,6,7]},e.rules[30].opcodes[1]={type:2,children:[2,3,4]},e.rules[30].opcodes[2]={type:7,string:[47,47]},e.rules[30].opcodes[3]={type:4,index:36},e.rules[30].opcodes[4]={type:4,index:49},e.rules[30].opcodes[5]={type:4,index:50},e.rules[30].opcodes[6]={type:4,index:52},e.rules[30].opcodes[7]={type:4,index:53},e.rules[31].opcodes=[],e.rules[31].opcodes[0]={type:1,children:[1,2]},e.rules[31].opcodes[1]={type:4,index:29},e.rules[31].opcodes[2]={type:4,index:33},e.rules[32].opcodes=[],e.rules[32].opcodes[0]={type:2,children:[1,2,3,4]},e.rules[32].opcodes[1]={type:4,index:35},e.rules[32].opcodes[2]={type:7,string:[58]},e.rules[32].opcodes[3]={type:4,index:30},e.rules[32].opcodes[4]={type:3,min:0,max:1},e.rules[32].opcodes[5]={type:2,children:[6,7]},e.rules[32].opcodes[6]={type:7,string:[63]},e.rules[32].opcodes[7]={type:4,index:58},e.rules[33].opcodes=[],e.rules[33].opcodes[0]={type:2,children:[1,2,6]},e.rules[33].opcodes[1]={type:4,index:34},e.rules[33].opcodes[2]={type:3,min:0,max:1},e.rules[33].opcodes[3]={type:2,children:[4,5]},e.rules[33].opcodes[4]={type:7,string:[63]},e.rules[33].opcodes[5]={type:4,index:58},e.rules[33].opcodes[6]={type:3,min:0,max:1},e.rules[33].opcodes[7]={type:2,children:[8,9]},e.rules[33].opcodes[8]={type:7,string:[35]},e.rules[33].opcodes[9]={type:4,index:59},e.rules[34].opcodes=[],e.rules[34].opcodes[0]={type:1,children:[1,5,6,7]},e.rules[34].opcodes[1]={type:2,children:[2,3,4]},e.rules[34].opcodes[2]={type:7,string:[47,47]},e.rules[34].opcodes[3]={type:4,index:36},e.rules[34].opcodes[4]={type:4,index:49},e.rules[34].opcodes[5]={type:4,index:50},e.rules[34].opcodes[6]={type:4,index:51},e.rules[34].opcodes[7]={type:4,index:53},e.rules[35].opcodes=[],e.rules[35].opcodes[0]={type:2,children:[1,2]},e.rules[35].opcodes[1]={type:4,index:0},e.rules[35].opcodes[2]={type:3,min:0,max:1/0},e.rules[35].opcodes[3]={type:1,children:[4,5,6,7,8]},e.rules[35].opcodes[4]={type:4,index:0},e.rules[35].opcodes[5]={type:4,index:6},e.rules[35].opcodes[6]={type:7,string:[43]},e.rules[35].opcodes[7]={type:7,string:[45]},e.rules[35].opcodes[8]={type:7,string:[46]},e.rules[36].opcodes=[],e.rules[36].opcodes[0]={type:2,children:[1,5,6]},e.rules[36].opcodes[1]={type:3,min:0,max:1},e.rules[36].opcodes[2]={type:2,children:[3,4]},e.rules[36].opcodes[3]={type:4,index:37},e.rules[36].opcodes[4]={type:7,string:[64]},e.rules[36].opcodes[5]={type:4,index:38},e.rules[36].opcodes[6]={type:3,min:0,max:1},e.rules[36].opcodes[7]={type:2,children:[8,9]},e.rules[36].opcodes[8]={type:7,string:[58]},e.rules[36].opcodes[9]={type:4,index:39},e.rules[37].opcodes=[],e.rules[37].opcodes[0]={type:3,min:0,max:1/0},e.rules[37].opcodes[1]={type:1,children:[2,3,4,5]},e.rules[37].opcodes[2]={type:4,index:61},e.rules[37].opcodes[3]={type:4,index:60},e.rules[37].opcodes[4]={type:4,index:64},e.rules[37].opcodes[5]={type:7,string:[58]},e.rules[38].opcodes=[],e.rules[38].opcodes[0]={type:1,children:[1,2,3]},e.rules[38].opcodes[1]={type:4,index:40},e.rules[38].opcodes[2]={type:4,index:45},e.rules[38].opcodes[3]={type:4,index:47},e.rules[39].opcodes=[],e.rules[39].opcodes[0]={type:3,min:0,max:1/0},e.rules[39].opcodes[1]={type:4,index:6},e.rules[40].opcodes=[],e.rules[40].opcodes[0]={type:2,children:[1,2,5]},e.rules[40].opcodes[1]={type:7,string:[91]},e.rules[40].opcodes[2]={type:1,children:[3,4]},e.rules[40].opcodes[3]={type:4,index:42},e.rules[40].opcodes[4]={type:4,index:41},e.rules[40].opcodes[5]={type:7,string:[93]},e.rules[41].opcodes=[],e.rules[41].opcodes[0]={type:2,children:[1,2,4,5]},e.rules[41].opcodes[1]={type:7,string:[118]},e.rules[41].opcodes[2]={type:3,min:1,max:1/0},e.rules[41].opcodes[3]={type:4,index:8},e.rules[41].opcodes[4]={type:7,string:[46]},e.rules[41].opcodes[5]={type:3,min:1,max:1/0},e.rules[41].opcodes[6]={type:1,children:[7,8,9]},e.rules[41].opcodes[7]={type:4,index:61},e.rules[41].opcodes[8]={type:4,index:64},e.rules[41].opcodes[9]={type:7,string:[58]},e.rules[42].opcodes=[],e.rules[42].opcodes[0]={type:1,children:[1,7,14,23,37,51,63,73,83]},e.rules[42].opcodes[1]={type:2,children:[2,6]},e.rules[42].opcodes[2]={type:3,min:6,max:6},e.rules[42].opcodes[3]={type:2,children:[4,5]},e.rules[42].opcodes[4]={type:4,index:43},e.rules[42].opcodes[5]={type:7,string:[58]},e.rules[42].opcodes[6]={type:4,index:44},e.rules[42].opcodes[7]={type:2,children:[8,9,13]},e.rules[42].opcodes[8]={type:7,string:[58,58]},e.rules[42].opcodes[9]={type:3,min:5,max:5},e.rules[42].opcodes[10]={type:2,children:[11,12]},e.rules[42].opcodes[11]={type:4,index:43},e.rules[42].opcodes[12]={type:7,string:[58]},e.rules[42].opcodes[13]={type:4,index:44},e.rules[42].opcodes[14]={type:2,children:[15,17,18,22]},e.rules[42].opcodes[15]={type:3,min:0,max:1},e.rules[42].opcodes[16]={type:4,index:43},e.rules[42].opcodes[17]={type:7,string:[58,58]},e.rules[42].opcodes[18]={type:3,min:4,max:4},e.rules[42].opcodes[19]={type:2,children:[20,21]},e.rules[42].opcodes[20]={type:4,index:43},e.rules[42].opcodes[21]={type:7,string:[58]},e.rules[42].opcodes[22]={type:4,index:44},e.rules[42].opcodes[23]={type:2,children:[24,31,32,36]},e.rules[42].opcodes[24]={type:3,min:0,max:1},e.rules[42].opcodes[25]={type:2,children:[26,30]},e.rules[42].opcodes[26]={type:3,min:0,max:1},e.rules[42].opcodes[27]={type:2,children:[28,29]},e.rules[42].opcodes[28]={type:4,index:43},e.rules[42].opcodes[29]={type:7,string:[58]},e.rules[42].opcodes[30]={type:4,index:43},e.rules[42].opcodes[31]={type:7,string:[58,58]},e.rules[42].opcodes[32]={type:3,min:3,max:3},e.rules[42].opcodes[33]={type:2,children:[34,35]},e.rules[42].opcodes[34]={type:4,index:43},e.rules[42].opcodes[35]={type:7,string:[58]},e.rules[42].opcodes[36]={type:4,index:44},e.rules[42].opcodes[37]={type:2,children:[38,45,46,50]},e.rules[42].opcodes[38]={type:3,min:0,max:1},e.rules[42].opcodes[39]={type:2,children:[40,44]},e.rules[42].opcodes[40]={type:3,min:0,max:2},e.rules[42].opcodes[41]={type:2,children:[42,43]},e.rules[42].opcodes[42]={type:4,index:43},e.rules[42].opcodes[43]={type:7,string:[58]},e.rules[42].opcodes[44]={type:4,index:43},e.rules[42].opcodes[45]={type:7,string:[58,58]},e.rules[42].opcodes[46]={type:3,min:2,max:2},e.rules[42].opcodes[47]={type:2,children:[48,49]},e.rules[42].opcodes[48]={type:4,index:43},e.rules[42].opcodes[49]={type:7,string:[58]},e.rules[42].opcodes[50]={type:4,index:44},e.rules[42].opcodes[51]={type:2,children:[52,59,60,61,62]},e.rules[42].opcodes[52]={type:3,min:0,max:1},e.rules[42].opcodes[53]={type:2,children:[54,58]},e.rules[42].opcodes[54]={type:3,min:0,max:3},e.rules[42].opcodes[55]={type:2,children:[56,57]},e.rules[42].opcodes[56]={type:4,index:43},e.rules[42].opcodes[57]={type:7,string:[58]},e.rules[42].opcodes[58]={type:4,index:43},e.rules[42].opcodes[59]={type:7,string:[58,58]},e.rules[42].opcodes[60]={type:4,index:43},e.rules[42].opcodes[61]={type:7,string:[58]},e.rules[42].opcodes[62]={type:4,index:44},e.rules[42].opcodes[63]={type:2,children:[64,71,72]},e.rules[42].opcodes[64]={type:3,min:0,max:1},e.rules[42].opcodes[65]={type:2,children:[66,70]},e.rules[42].opcodes[66]={type:3,min:0,max:4},e.rules[42].opcodes[67]={type:2,children:[68,69]},e.rules[42].opcodes[68]={type:4,index:43},e.rules[42].opcodes[69]={type:7,string:[58]},e.rules[42].opcodes[70]={type:4,index:43},e.rules[42].opcodes[71]={type:7,string:[58,58]},e.rules[42].opcodes[72]={type:4,index:44},e.rules[42].opcodes[73]={type:2,children:[74,81,82]},e.rules[42].opcodes[74]={type:3,min:0,max:1},e.rules[42].opcodes[75]={type:2,children:[76,80]},e.rules[42].opcodes[76]={type:3,min:0,max:5},e.rules[42].opcodes[77]={type:2,children:[78,79]},e.rules[42].opcodes[78]={type:4,index:43},e.rules[42].opcodes[79]={type:7,string:[58]},e.rules[42].opcodes[80]={type:4,index:43},e.rules[42].opcodes[81]={type:7,string:[58,58]},e.rules[42].opcodes[82]={type:4,index:43},e.rules[42].opcodes[83]={type:2,children:[84,91]},e.rules[42].opcodes[84]={type:3,min:0,max:1},e.rules[42].opcodes[85]={type:2,children:[86,90]},e.rules[42].opcodes[86]={type:3,min:0,max:6},e.rules[42].opcodes[87]={type:2,children:[88,89]},e.rules[42].opcodes[88]={type:4,index:43},e.rules[42].opcodes[89]={type:7,string:[58]},e.rules[42].opcodes[90]={type:4,index:43},e.rules[42].opcodes[91]={type:7,string:[58,58]},e.rules[43].opcodes=[],e.rules[43].opcodes[0]={type:3,min:1,max:4},e.rules[43].opcodes[1]={type:4,index:8},e.rules[44].opcodes=[],e.rules[44].opcodes[0]={type:1,children:[1,5]},e.rules[44].opcodes[1]={type:2,children:[2,3,4]},e.rules[44].opcodes[2]={type:4,index:43},e.rules[44].opcodes[3]={type:7,string:[58]},e.rules[44].opcodes[4]={type:4,index:43},e.rules[44].opcodes[5]={type:4,index:45},e.rules[45].opcodes=[],e.rules[45].opcodes[0]={type:2,children:[1,2,3,4,5,6,7]},e.rules[45].opcodes[1]={type:4,index:46},e.rules[45].opcodes[2]={type:7,string:[46]},e.rules[45].opcodes[3]={type:4,index:46},e.rules[45].opcodes[4]={type:7,string:[46]},e.rules[45].opcodes[5]={type:4,index:46},e.rules[45].opcodes[6]={type:7,string:[46]},e.rules[45].opcodes[7]={type:4,index:46},e.rules[46].opcodes=[],e.rules[46].opcodes[0]={type:1,children:[1,2,5,9,13]},e.rules[46].opcodes[1]={type:4,index:6},e.rules[46].opcodes[2]={type:2,children:[3,4]},e.rules[46].opcodes[3]={type:5,min:49,max:57},e.rules[46].opcodes[4]={type:4,index:6},e.rules[46].opcodes[5]={type:2,children:[6,7]},e.rules[46].opcodes[6]={type:7,string:[49]},e.rules[46].opcodes[7]={type:3,min:2,max:2},e.rules[46].opcodes[8]={type:4,index:6},e.rules[46].opcodes[9]={type:2,children:[10,11,12]},e.rules[46].opcodes[10]={type:7,string:[50]},e.rules[46].opcodes[11]={type:5,min:48,max:52},e.rules[46].opcodes[12]={type:4,index:6},e.rules[46].opcodes[13]={type:2,children:[14,15]},e.rules[46].opcodes[14]={type:7,string:[50,53]},e.rules[46].opcodes[15]={type:5,min:48,max:53},e.rules[47].opcodes=[],e.rules[47].opcodes[0]={type:3,min:0,max:1/0},e.rules[47].opcodes[1]={type:1,children:[2,3,4]},e.rules[47].opcodes[2]={type:4,index:61},e.rules[47].opcodes[3]={type:4,index:60},e.rules[47].opcodes[4]={type:4,index:64},e.rules[48].opcodes=[],e.rules[48].opcodes[0]={type:1,children:[1,2,3,4,5]},e.rules[48].opcodes[1]={type:4,index:49},e.rules[48].opcodes[2]={type:4,index:50},e.rules[48].opcodes[3]={type:4,index:51},e.rules[48].opcodes[4]={type:4,index:52},e.rules[48].opcodes[5]={type:4,index:53},e.rules[49].opcodes=[],e.rules[49].opcodes[0]={type:3,min:0,max:1/0},e.rules[49].opcodes[1]={type:2,children:[2,3]},e.rules[49].opcodes[2]={type:7,string:[47]},e.rules[49].opcodes[3]={type:4,index:54},e.rules[50].opcodes=[],e.rules[50].opcodes[0]={type:2,children:[1,2]},e.rules[50].opcodes[1]={type:7,string:[47]},e.rules[50].opcodes[2]={type:3,min:0,max:1},e.rules[50].opcodes[3]={type:2,children:[4,5]},e.rules[50].opcodes[4]={type:4,index:55},e.rules[50].opcodes[5]={type:3,min:0,max:1/0},e.rules[50].opcodes[6]={type:2,children:[7,8]},e.rules[50].opcodes[7]={type:7,string:[47]},e.rules[50].opcodes[8]={type:4,index:54},e.rules[51].opcodes=[],e.rules[51].opcodes[0]={type:2,children:[1,2]},e.rules[51].opcodes[1]={type:4,index:56},e.rules[51].opcodes[2]={type:3,min:0,max:1/0},e.rules[51].opcodes[3]={type:2,children:[4,5]},e.rules[51].opcodes[4]={type:7,string:[47]},e.rules[51].opcodes[5]={type:4,index:54},e.rules[52].opcodes=[],e.rules[52].opcodes[0]={type:2,children:[1,2]},e.rules[52].opcodes[1]={type:4,index:55},e.rules[52].opcodes[2]={type:3,min:0,max:1/0},e.rules[52].opcodes[3]={type:2,children:[4,5]},e.rules[52].opcodes[4]={type:7,string:[47]},e.rules[52].opcodes[5]={type:4,index:54},e.rules[53].opcodes=[],e.rules[53].opcodes[0]={type:3,min:0,max:0},e.rules[53].opcodes[1]={type:4,index:57},e.rules[54].opcodes=[],e.rules[54].opcodes[0]={type:3,min:0,max:1/0},e.rules[54].opcodes[1]={type:4,index:57},e.rules[55].opcodes=[],e.rules[55].opcodes[0]={type:3,min:1,max:1/0},e.rules[55].opcodes[1]={type:4,index:57},e.rules[56].opcodes=[],e.rules[56].opcodes[0]={type:3,min:1,max:1/0},e.rules[56].opcodes[1]={type:1,children:[2,3,4,5]},e.rules[56].opcodes[2]={type:4,index:61},e.rules[56].opcodes[3]={type:4,index:60},e.rules[56].opcodes[4]={type:4,index:64},e.rules[56].opcodes[5]={type:7,string:[64]},e.rules[57].opcodes=[],e.rules[57].opcodes[0]={type:1,children:[1,2,3,4,5]},e.rules[57].opcodes[1]={type:4,index:61},e.rules[57].opcodes[2]={type:4,index:60},e.rules[57].opcodes[3]={type:4,index:64},e.rules[57].opcodes[4]={type:7,string:[58]},e.rules[57].opcodes[5]={type:7,string:[64]},e.rules[58].opcodes=[],e.rules[58].opcodes[0]={type:3,min:0,max:1/0},e.rules[58].opcodes[1]={type:1,children:[2,3,4]},e.rules[58].opcodes[2]={type:4,index:57},e.rules[58].opcodes[3]={type:7,string:[47]},e.rules[58].opcodes[4]={type:7,string:[63]},e.rules[59].opcodes=[],e.rules[59].opcodes[0]={type:3,min:0,max:1/0},e.rules[59].opcodes[1]={type:1,children:[2,3,4]},e.rules[59].opcodes[2]={type:4,index:57},e.rules[59].opcodes[3]={type:7,string:[47]},e.rules[59].opcodes[4]={type:7,string:[63]},e.rules[60].opcodes=[],e.rules[60].opcodes[0]={type:2,children:[1,2,3]},e.rules[60].opcodes[1]={type:7,string:[37]},e.rules[60].opcodes[2]={type:4,index:8},e.rules[60].opcodes[3]={type:4,index:8},e.rules[61].opcodes=[],e.rules[61].opcodes[0]={type:1,children:[1,2,3,4,5,6]},e.rules[61].opcodes[1]={type:4,index:0},e.rules[61].opcodes[2]={type:4,index:6},e.rules[61].opcodes[3]={type:7,string:[45]},e.rules[61].opcodes[4]={type:7,string:[46]},e.rules[61].opcodes[5]={type:7,string:[95]},e.rules[61].opcodes[6]={type:7,string:[126]},e.rules[62].opcodes=[],e.rules[62].opcodes[0]={type:1,children:[1,2]},e.rules[62].opcodes[1]={type:4,index:63},e.rules[62].opcodes[2]={type:4,index:64},e.rules[63].opcodes=[],e.rules[63].opcodes[0]={type:1,children:[1,2,3,4,5,6,7]},e.rules[63].opcodes[1]={type:7,string:[58]},e.rules[63].opcodes[2]={type:7,string:[47]},e.rules[63].opcodes[3]={type:7,string:[63]},e.rules[63].opcodes[4]={type:7,string:[35]},e.rules[63].opcodes[5]={type:7,string:[91]},e.rules[63].opcodes[6]={type:7,string:[93]},e.rules[63].opcodes[7]={type:7,string:[64]},e.rules[64].opcodes=[],e.rules[64].opcodes[0]={type:1,children:[1,2,3,4,5,6,7,8,9,10,11]},e.rules[64].opcodes[1]={type:7,string:[33]},e.rules[64].opcodes[2]={type:7,string:[36]},e.rules[64].opcodes[3]={type:7,string:[38]},e.rules[64].opcodes[4]={type:7,string:[39]},e.rules[64].opcodes[5]={type:7,string:[40]},e.rules[64].opcodes[6]={type:7,string:[41]},e.rules[64].opcodes[7]={type:7,string:[42]},e.rules[64].opcodes[8]={type:7,string:[43]},e.rules[64].opcodes[9]={type:7,string:[44]},e.rules[64].opcodes[10]={type:7,string:[59]},e.rules[64].opcodes[11]={type:7,string:[61]},e.rules[65].opcodes=[],e.rules[65].opcodes[0]={type:2,children:[1,2,7,8]},e.rules[65].opcodes[1]={type:7,string:[100,110,115,58]},e.rules[65].opcodes[2]={type:3,min:0,max:1},e.rules[65].opcodes[3]={type:2,children:[4,5,6]},e.rules[65].opcodes[4]={type:7,string:[47,47]},e.rules[65].opcodes[5]={type:4,index:66},e.rules[65].opcodes[6]={type:7,string:[47]},e.rules[65].opcodes[7]={type:4,index:67},e.rules[65].opcodes[8]={type:3,min:0,max:1},e.rules[65].opcodes[9]={type:2,children:[10,11]},e.rules[65].opcodes[10]={type:7,string:[63]},e.rules[65].opcodes[11]={type:4,index:68},e.rules[66].opcodes=[],e.rules[66].opcodes[0]={type:2,children:[1,2]},e.rules[66].opcodes[1]={type:4,index:38},e.rules[66].opcodes[2]={type:3,min:0,max:1},e.rules[66].opcodes[3]={type:2,children:[4,5]},e.rules[66].opcodes[4]={type:7,string:[58]},e.rules[66].opcodes[5]={type:4,index:39},e.rules[67].opcodes=[],e.rules[67].opcodes[0]={type:3,min:0,max:1/0},e.rules[67].opcodes[1]={type:4,index:57},e.rules[68].opcodes=[],e.rules[68].opcodes[0]={type:2,children:[1,2]},e.rules[68].opcodes[1]={type:4,index:69},e.rules[68].opcodes[2]={type:3,min:0,max:1},e.rules[68].opcodes[3]={type:2,children:[4,5]},e.rules[68].opcodes[4]={type:7,string:[59]},e.rules[68].opcodes[5]={type:4,index:68},e.rules[69].opcodes=[],e.rules[69].opcodes[0]={type:1,children:[1,4]},e.rules[69].opcodes[1]={type:2,children:[2,3]},e.rules[69].opcodes[2]={type:7,string:[99,108,97,115,115,61]},e.rules[69].opcodes[3]={type:4,index:70},e.rules[69].opcodes[4]={type:2,children:[5,6]},e.rules[69].opcodes[5]={type:7,string:[116,121,112,101,61]},e.rules[69].opcodes[6]={type:4,index:71},e.rules[70].opcodes=[],e.rules[70].opcodes[0]={type:1,children:[1,3,4]},e.rules[70].opcodes[1]={type:3,min:1,max:1/0},e.rules[70].opcodes[2]={type:4,index:6},e.rules[70].opcodes[3]={type:7,string:[105,110]},e.rules[70].opcodes[4]={type:7,string:[99,104]},e.rules[71].opcodes=[],e.rules[71].opcodes[0]={type:1,children:[1,3,4,5]},e.rules[71].opcodes[1]={type:3,min:1,max:1/0},e.rules[71].opcodes[2]={type:4,index:6},e.rules[71].opcodes[3]={type:7,string:[97]},e.rules[71].opcodes[4]={type:7,string:[110,115]},e.rules[71].opcodes[5]={type:7,string:[109,100]},e.rules[72].opcodes=[],e.rules[72].opcodes[0]={type:1,children:[1,2]},e.rules[72].opcodes[1]={type:4,index:75},e.rules[72].opcodes[2]={type:4,index:78},e.rules[73].opcodes=[],e.rules[73].opcodes[0]={type:6,string:[101,105,112,49,53,53]},e.rules[74].opcodes=[],e.rules[74].opcodes[0]={type:3,min:1,max:32},e.rules[74].opcodes[1]={type:4,index:6},e.rules[75].opcodes=[],e.rules[75].opcodes[0]={type:2,children:[1,2,3]},e.rules[75].opcodes[1]={type:4,index:73},e.rules[75].opcodes[2]={type:7,string:[58]},e.rules[75].opcodes[3]={type:4,index:74},e.rules[76].opcodes=[],e.rules[76].opcodes[0]={type:6,string:[115,111,108,97,110,97]},e.rules[77].opcodes=[],e.rules[77].opcodes[0]={type:1,children:[1,2,3,4]},e.rules[77].opcodes[1]={type:6,string:[109,97,105,110,110,101,116]},e.rules[77].opcodes[2]={type:6,string:[116,101,115,116,110,101,116]},e.rules[77].opcodes[3]={type:6,string:[100,101,118,110,101,116]},e.rules[77].opcodes[4]={type:6,string:[108,111,99,97,108,110,101,116]},e.rules[78].opcodes=[],e.rules[78].opcodes[0]={type:2,children:[1,2,3]},e.rules[78].opcodes[1]={type:4,index:76},e.rules[78].opcodes[2]={type:7,string:[58]},e.rules[78].opcodes[3]={type:4,index:77},e.rules[79].opcodes=[],e.rules[79].opcodes[0]={type:1,children:[1,2]},e.rules[79].opcodes[1]={type:4,index:81},e.rules[79].opcodes[2]={type:4,index:83},e.rules[80].opcodes=[],e.rules[80].opcodes[0]={type:2,children:[1,2]},e.rules[80].opcodes[1]={type:7,string:[48,120]},e.rules[80].opcodes[2]={type:3,min:40,max:40},e.rules[80].opcodes[3]={type:4,index:8},e.rules[81].opcodes=[],e.rules[81].opcodes[0]={type:2,children:[1,2,3]},e.rules[81].opcodes[1]={type:4,index:75},e.rules[81].opcodes[2]={type:7,string:[58]},e.rules[81].opcodes[3]={type:4,index:80},e.rules[82].opcodes=[],e.rules[82].opcodes[0]={type:3,min:32,max:44},e.rules[82].opcodes[1]={type:1,children:[2,3,4,5,6,7]},e.rules[82].opcodes[2]={type:5,min:49,max:57},e.rules[82].opcodes[3]={type:5,min:65,max:72},e.rules[82].opcodes[4]={type:5,min:74,max:78},e.rules[82].opcodes[5]={type:5,min:80,max:90},e.rules[82].opcodes[6]={type:5,min:97,max:107},e.rules[82].opcodes[7]={type:5,min:109,max:122},e.rules[83].opcodes=[],e.rules[83].opcodes[0]={type:2,children:[1,2,3]},e.rules[83].opcodes[1]={type:4,index:78},e.rules[83].opcodes[2]={type:7,string:[58]},e.rules[83].opcodes[3]={type:4,index:82},e.rules[84].opcodes=[],e.rules[84].opcodes[0]={type:1,children:[1,2]},e.rules[84].opcodes[1]={type:4,index:85},e.rules[84].opcodes[2]={type:4,index:86},e.rules[85].opcodes=[],e.rules[85].opcodes[0]={type:2,children:[1,2,3,4,5,6,7,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,31,36,41]},e.rules[85].opcodes[1]={type:4,index:87},e.rules[85].opcodes[2]={type:6,string:[32,119,97,110,116,115,32,121,111,117,32,116,111,32,115,105,103,110,32,105,110,32,119,105,116,104,32,121,111,117,114,32,69,116,104,101,114,101,117,109,32,97,99,99,111,117,110,116,58]},e.rules[85].opcodes[3]={type:4,index:10},e.rules[85].opcodes[4]={type:4,index:81},e.rules[85].opcodes[5]={type:4,index:10},e.rules[85].opcodes[6]={type:4,index:10},e.rules[85].opcodes[7]={type:3,min:0,max:1},e.rules[85].opcodes[8]={type:2,children:[9,10]},e.rules[85].opcodes[9]={type:4,index:89},e.rules[85].opcodes[10]={type:4,index:10},e.rules[85].opcodes[11]={type:4,index:10},e.rules[85].opcodes[12]={type:6,string:[85,82,73,58,32]},e.rules[85].opcodes[13]={type:4,index:90},e.rules[85].opcodes[14]={type:4,index:10},e.rules[85].opcodes[15]={type:6,string:[86,101,114,115,105,111,110,58,32]},e.rules[85].opcodes[16]={type:4,index:91},e.rules[85].opcodes[17]={type:4,index:10},e.rules[85].opcodes[18]={type:6,string:[67,104,97,105,110,32,73,68,58,32]},e.rules[85].opcodes[19]={type:4,index:75},e.rules[85].opcodes[20]={type:4,index:10},e.rules[85].opcodes[21]={type:6,string:[78,111,110,99,101,58,32]},e.rules[85].opcodes[22]={type:4,index:93},e.rules[85].opcodes[23]={type:4,index:10},e.rules[85].opcodes[24]={type:6,string:[73,115,115,117,101,100,32,65,116,58,32]},e.rules[85].opcodes[25]={type:4,index:94},e.rules[85].opcodes[26]={type:3,min:0,max:1},e.rules[85].opcodes[27]={type:2,children:[28,29,30]},e.rules[85].opcodes[28]={type:4,index:10},e.rules[85].opcodes[29]={type:6,string:[69,120,112,105,114,97,116,105,111,110,32,84,105,109,101,58,32]},e.rules[85].opcodes[30]={type:4,index:95},e.rules[85].opcodes[31]={type:3,min:0,max:1},e.rules[85].opcodes[32]={type:2,children:[33,34,35]},e.rules[85].opcodes[33]={type:4,index:10},e.rules[85].opcodes[34]={type:6,string:[78,111,116,32,66,101,102,111,114,101,58,32]},e.rules[85].opcodes[35]={type:4,index:96},e.rules[85].opcodes[36]={type:3,min:0,max:1},e.rules[85].opcodes[37]={type:2,children:[38,39,40]},e.rules[85].opcodes[38]={type:4,index:10},e.rules[85].opcodes[39]={type:6,string:[82,101,113,117,101,115,116,32,73,68,58,32]},e.rules[85].opcodes[40]={type:4,index:97},e.rules[85].opcodes[41]={type:3,min:0,max:1},e.rules[85].opcodes[42]={type:2,children:[43,44,45]},e.rules[85].opcodes[43]={type:4,index:10},e.rules[85].opcodes[44]={type:6,string:[82,101,115,111,117,114,99,101,115,58]},e.rules[85].opcodes[45]={type:4,index:98},e.rules[86].opcodes=[],e.rules[86].opcodes[0]={type:2,children:[1,2,3,4,5,6,7,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,31,36,41]},e.rules[86].opcodes[1]={type:4,index:87},e.rules[86].opcodes[2]={type:6,string:[32,119,97,110,116,115,32,121,111,117,32,116,111,32,115,105,103,110,32,105,110,32,119,105,116,104,32,121,111,117,114,32,83,111,108,97,110,97,32,97,99,99,111,117,110,116,58]},e.rules[86].opcodes[3]={type:4,index:10},e.rules[86].opcodes[4]={type:4,index:83},e.rules[86].opcodes[5]={type:4,index:10},e.rules[86].opcodes[6]={type:4,index:10},e.rules[86].opcodes[7]={type:3,min:0,max:1},e.rules[86].opcodes[8]={type:2,children:[9,10]},e.rules[86].opcodes[9]={type:4,index:89},e.rules[86].opcodes[10]={type:4,index:10},e.rules[86].opcodes[11]={type:4,index:10},e.rules[86].opcodes[12]={type:6,string:[85,82,73,58,32]},e.rules[86].opcodes[13]={type:4,index:90},e.rules[86].opcodes[14]={type:4,index:10},e.rules[86].opcodes[15]={type:6,string:[86,101,114,115,105,111,110,58,32]},e.rules[86].opcodes[16]={type:4,index:91},e.rules[86].opcodes[17]={type:4,index:10},e.rules[86].opcodes[18]={type:6,string:[67,104,97,105,110,32,73,68,58,32]},e.rules[86].opcodes[19]={type:4,index:78},e.rules[86].opcodes[20]={type:4,index:10},e.rules[86].opcodes[21]={type:6,string:[78,111,110,99,101,58,32]},e.rules[86].opcodes[22]={type:4,index:93},e.rules[86].opcodes[23]={type:4,index:10},e.rules[86].opcodes[24]={type:6,string:[73,115,115,117,101,100,32,65,116,58,32]},e.rules[86].opcodes[25]={type:4,index:94},e.rules[86].opcodes[26]={type:3,min:0,max:1},e.rules[86].opcodes[27]={type:2,children:[28,29,30]},e.rules[86].opcodes[28]={type:4,index:10},e.rules[86].opcodes[29]={type:6,string:[69,120,112,105,114,97,116,105,111,110,32,84,105,109,101,58,32]},e.rules[86].opcodes[30]={type:4,index:95},e.rules[86].opcodes[31]={type:3,min:0,max:1},e.rules[86].opcodes[32]={type:2,children:[33,34,35]},e.rules[86].opcodes[33]={type:4,index:10},e.rules[86].opcodes[34]={type:6,string:[78,111,116,32,66,101,102,111,114,101,58,32]},e.rules[86].opcodes[35]={type:4,index:96},e.rules[86].opcodes[36]={type:3,min:0,max:1},e.rules[86].opcodes[37]={type:2,children:[38,39,40]},e.rules[86].opcodes[38]={type:4,index:10},e.rules[86].opcodes[39]={type:6,string:[82,101,113,117,101,115,116,32,73,68,58,32]},e.rules[86].opcodes[40]={type:4,index:97},e.rules[86].opcodes[41]={type:3,min:0,max:1},e.rules[86].opcodes[42]={type:2,children:[43,44,45]},e.rules[86].opcodes[43]={type:4,index:10},e.rules[86].opcodes[44]={type:6,string:[82,101,115,111,117,114,99,101,115,58]},e.rules[86].opcodes[45]={type:4,index:98},e.rules[87].opcodes=[],e.rules[87].opcodes[0]={type:4,index:66},e.rules[88].opcodes=[],e.rules[88].opcodes[0]={type:1,children:[1,2]},e.rules[88].opcodes[1]={type:4,index:81},e.rules[88].opcodes[2]={type:4,index:83},e.rules[89].opcodes=[],e.rules[89].opcodes[0]={type:3,min:1,max:1/0},e.rules[89].opcodes[1]={type:1,children:[2,3,4]},e.rules[89].opcodes[2]={type:4,index:62},e.rules[89].opcodes[3]={type:4,index:61},e.rules[89].opcodes[4]={type:7,string:[32]},e.rules[90].opcodes=[],e.rules[90].opcodes[0]={type:4,index:29},e.rules[91].opcodes=[],e.rules[91].opcodes[0]={type:7,string:[49]},e.rules[92].opcodes=[],e.rules[92].opcodes[0]={type:1,children:[1,2]},e.rules[92].opcodes[1]={type:4,index:75},e.rules[92].opcodes[2]={type:4,index:78},e.rules[93].opcodes=[],e.rules[93].opcodes[0]={type:3,min:8,max:1/0},e.rules[93].opcodes[1]={type:1,children:[2,3]},e.rules[93].opcodes[2]={type:4,index:0},e.rules[93].opcodes[3]={type:4,index:6},e.rules[94].opcodes=[],e.rules[94].opcodes[0]={type:4,index:28},e.rules[95].opcodes=[],e.rules[95].opcodes[0]={type:4,index:28},e.rules[96].opcodes=[],e.rules[96].opcodes[0]={type:4,index:28},e.rules[97].opcodes=[],e.rules[97].opcodes[0]={type:3,min:0,max:1/0},e.rules[97].opcodes[1]={type:4,index:57},e.rules[98].opcodes=[],e.rules[98].opcodes[0]={type:3,min:0,max:1/0},e.rules[98].opcodes[1]={type:2,children:[2,3,4]},e.rules[98].opcodes[2]={type:4,index:10},e.rules[98].opcodes[3]={type:7,string:[45,32]},e.rules[98].opcodes[4]={type:4,index:29},e.toString=()=>{let e="";return e+="; ==============================================================================\n",e+="; Core rules for ABNF (RFC 5234)\n",e+="; ==============================================================================\n",e+=";\n",e+="; References:\n",e+="; - https://www.rfc-editor.org/rfc/rfc5234#appendix-B.1\n",e+="\n",e+="ALPHA          =  %x41-5A / %x61-7A\n",e+="               ; A-Z / a-z\n",e+="\n",e+='BIT            =  "0" / "1"\n',e+="\n",e+="CHAR           =  %x01-7F\n",e+="               ; any 7-bit US-ASCII character,\n",e+="               ;  excluding NUL\n",e+="\n",e+="CR             =  %x0D\n",e+="               ; carriage return\n",e+="\n",e+="CRLF           =  CR LF\n",e+="               ; Internet standard newline\n",e+="\n",e+="CTL            =  %x00-1F / %x7F\n",e+="               ; controls\n",e+="\n",e+="DIGIT          =  %x30-39\n",e+="               ; 0-9\n",e+="\n",e+="DQUOTE         =  %x22\n",e+='               ; " (Double Quote)\n',e+="\n",e+='HEXDIG         =  DIGIT / "A" / "B" / "C" / "D" / "E" / "F"\n',e+="\n",e+="HTAB           =  %x09\n",e+="               ; horizontal tab\n",e+="\n",e+="LF             =  %x0A\n",e+="               ; linefeed\n",e+="\n",e+="LWSP           =  *(WSP / CRLF WSP)\n",e+="               ; Use of this linear-white-space rule\n",e+="               ;  permits lines containing only white\n",e+="               ;  space that are no longer legal in\n",e+="               ;  mail headers and have caused\n",e+="               ;  interoperability problems in other\n",e+="               ;  contexts.\n",e+="               ; Do not use when defining mail\n",e+="               ;  headers and use with caution in\n",e+="               ;  other contexts.\n",e+="\n",e+="OCTET          =  %x00-FF\n",e+="               ; 8 bits of data\n",e+="\n",e+="SP             =  %x20\n",e+="\n",e+="VCHAR          =  %x21-7E\n",e+="               ; visible (printing) characters\n",e+="\n",e+="WSP            =  SP / HTAB\n",e+="               ; white space\n",e+="; ==============================================================================\n",e+="; Internet Date/Time Format (RFC 3339)\n",e+="; ==============================================================================\n",e+=";\n",e+="; Requires:\n",e+="; - core.bnf\n",e+=";\n",e+="; References:\n",e+="; - https://www.rfc-editor.org/rfc/rfc3339#section-5.6\n",e+="\n",e+="date-fullyear   = 4DIGIT\n",e+="\n",e+="date-month      = 2DIGIT  ; 01-12\n",e+="\n",e+="date-mday       = 2DIGIT  ; 01-28, 01-29, 01-30, 01-31 based on\n",e+="                          ; month/year\n",e+="\n",e+="time-hour       = 2DIGIT  ; 00-23\n",e+="\n",e+="time-minute     = 2DIGIT  ; 00-59\n",e+="\n",e+="time-second     = 2DIGIT  ; 00-58, 00-59, 00-60 based on leap second\n",e+="                          ; rules\n",e+="\n",e+='time-secfrac    = "." 1*DIGIT\n',e+="\n",e+='time-numoffset  = ("+" / "-") time-hour ":" time-minute\n',e+="\n",e+='time-offset     = "Z" / time-numoffset\n',e+="\n",e+='partial-time    = time-hour ":" time-minute ":" time-second\n',e+="                  [time-secfrac]\n",e+="\n",e+='full-date       = date-fullyear "-" date-month "-" date-mday\n',e+="\n",e+="full-time       = partial-time time-offset\n",e+="\n",e+='date-time       = full-date "T" full-time\n',e+="; ==============================================================================\n",e+="; Uniform Resource Identifier (RFC 3986)\n",e+="; ==============================================================================\n",e+=";\n",e+="; Requires:\n",e+="; - core.bnf\n",e+=";\n",e+="; References:\n",e+="; - https://www.rfc-editor.org/rfc/rfc3986#appendix-A\n",e+="\n",e+='URI           = scheme ":" hier-part [ "?" query ] [ "#" fragment ]\n',e+="\n",e+='hier-part     = "//" authority path-abempty\n',e+="              / path-absolute\n",e+="              / path-rootless\n",e+="              / path-empty\n",e+="\n",e+="URI-reference = URI / relative-ref\n",e+="\n",e+='absolute-URI  = scheme ":" hier-part [ "?" query ]\n',e+="\n",e+='relative-ref  = relative-part [ "?" query ] [ "#" fragment ]\n',e+="\n",e+='relative-part = "//" authority path-abempty\n',e+="              / path-absolute\n",e+="              / path-noscheme\n",e+="              / path-empty\n",e+="\n",e+='scheme        = ALPHA *( ALPHA / DIGIT / "+" / "-" / "." )\n',e+="\n",e+='authority     = [ userinfo "@" ] host [ ":" port ]\n',e+='userinfo      = *( unreserved / pct-encoded / sub-delims / ":" )\n',e+="host          = IP-literal / IPv4address / reg-name\n",e+="port          = *DIGIT\n",e+="\n",e+='IP-literal    = "[" ( IPv6address / IPvFuture  ) "]"\n',e+="\n",e+='IPvFuture     = "v" 1*HEXDIG "." 1*( unreserved / sub-delims / ":" )\n',e+="\n",e+='IPv6address   =                            6( h16 ":" ) ls32\n',e+='              /                       "::" 5( h16 ":" ) ls32\n',e+='              / [               h16 ] "::" 4( h16 ":" ) ls32\n',e+='              / [ *1( h16 ":" ) h16 ] "::" 3( h16 ":" ) ls32\n',e+='              / [ *2( h16 ":" ) h16 ] "::" 2( h16 ":" ) ls32\n',e+='              / [ *3( h16 ":" ) h16 ] "::"    h16 ":"   ls32\n',e+='              / [ *4( h16 ":" ) h16 ] "::"              ls32\n',e+='              / [ *5( h16 ":" ) h16 ] "::"              h16\n',e+='              / [ *6( h16 ":" ) h16 ] "::"\n',e+="\n",e+="h16           = 1*4HEXDIG\n",e+='ls32          = ( h16 ":" h16 ) / IPv4address\n',e+='IPv4address   = dec-octet "." dec-octet "." dec-octet "." dec-octet\n',e+="dec-octet     = DIGIT                 ; 0-9\n",e+="              / %x31-39 DIGIT         ; 10-99\n",e+='              / "1" 2DIGIT            ; 100-199\n',e+='              / "2" %x30-34 DIGIT     ; 200-249\n',e+='              / "25" %x30-35          ; 250-255\n',e+="\n",e+="reg-name      = *( unreserved / pct-encoded / sub-delims )\n",e+="\n",e+='path          = path-abempty    ; begins with "/" or is empty\n',e+='              / path-absolute   ; begins with "/" but not "//"\n',e+="              / path-noscheme   ; begins with a non-colon segment\n",e+="              / path-rootless   ; begins with a segment\n",e+="              / path-empty      ; zero characters\n",e+="\n",e+='path-abempty  = *( "/" segment )\n',e+='path-absolute = "/" [ segment-nz *( "/" segment ) ]\n',e+='path-noscheme = segment-nz-nc *( "/" segment )\n',e+='path-rootless = segment-nz *( "/" segment )\n',e+="path-empty    = 0pchar\n",e+="\n",e+="segment       = *pchar\n",e+="segment-nz    = 1*pchar\n",e+='segment-nz-nc = 1*( unreserved / pct-encoded / sub-delims / "@" )\n',e+='; non-zero-length segment without any colon ":"\n',e+="\n",e+='pchar         = unreserved / pct-encoded / sub-delims / ":" / "@"\n',e+="\n",e+='query         = *( pchar / "/" / "?" )\n',e+="\n",e+='fragment      = *( pchar / "/" / "?" )\n',e+="\n",e+='pct-encoded   = "%" HEXDIG HEXDIG\n',e+="\n",e+='unreserved    = ALPHA / DIGIT / "-" / "." / "_" / "~"\n',e+="reserved      = gen-delims / sub-delims\n",e+='gen-delims    = ":" / "/" / "?" / "#" / "[" / "]" / "@"\n',e+='sub-delims    = "!" / "$" / "&" / "\'" / "(" / ")"\n',e+='              / "*" / "+" / "," / ";" / "="\n',e+="; ==============================================================================\n",e+="; DNS URI (RFC 4501)\n",e+="; ==============================================================================\n",e+=";\n",e+="; Requires:\n",e+="; - core.bnf\n",e+="; - uri.bnf\n",e+=";\n",e+="; References:\n",e+="; - https://www.rfc-editor.org/rfc/rfc4501.html#section-3\n",e+=";\n",e+="; Note:\n",e+="; dnsclassval and dnstypeval are not defined exhaustively\n",e+="; but their definitions are unused in SIW grammars.\n",e+="\n",e+="\n",e+='dnsurl          = "dns:" [ "//" dnsauthority "/" ]\n',e+='                  dnsname ["?" dnsquery]\n',e+="\n",e+='dnsauthority    = host [ ":" port ]\n',e+="                ; See RFC 3986 for the\n",e+='                ; definition of "host" and "port".\n',e+="\n",e+="dnsname         = *pchar\n",e+="                ; See RFC 3986 for the\n",e+='                ; definition of "pchar".\n',e+="\n",e+='                ; The "dnsname" field may be a\n',e+='                ; "relative" or "absolute" name,\n',e+="                ; as per RFC 1034, section 3.1.\n",e+="\n",e+="                ; Note further that an empty\n",e+='                ; "dnsname" value is to be\n',e+="                ; interpreted as the root itself.\n",e+="                ; See below on relative dnsnames.\n",e+="\n",e+='dnsquery        = dnsqueryelement [";" dnsquery]\n',e+="\n",e+='dnsqueryelement = ( "CLASS=" dnsclassval ) / ( "TYPE=" dnstypeval )\n',e+="                ; Each clause MUST NOT be used more\n",e+="                ; than once.\n",e+="\n",e+='dnsclassval     = 1*digit / "IN" / "CH"\n',e+="                ; omitted:\n",e+="                ; / <Any IANA registered DNS class mnemonic>\n",e+="\n",e+='dnstypeval      = 1*digit / "A" / "NS" / "MD"\n',e+="                ; omitted:\n",e+="                ; / <Any IANA registered DNS type mnemonic>\n",e+="; ==============================================================================\n",e+="; Chain-agnostic IDs (CAIP-2)\n",e+="; ==============================================================================\n",e+=";\n",e+="; Requires:\n",e+="; - core.bnf\n",e+=";\n",e+="; References:\n",e+="; - https://github.com/ChainAgnostic/CAIPs/blob/master/CAIPs/caip-2.md#syntax\n",e+="; - https://github.com/ChainAgnostic/CAIPs/blob/master/CAIPs/caip-10.md#syntax\n",e+="\n",e+="chain-id        = eth-chain-id\n",e+="                / sol-chain-id\n",e+="                ; NOTE: Only Ethereum and Solana are supported at the moment\n",e+="\n",e+="\n",e+="; Ethereum\n",e+="; ------------------------------------------------------------------------------\n",e+="\n",e+='eth-namespace   = %s"eip155"\n',e+="                ; The chain-id namespace for evm chains\n",e+="\n",e+="eth-network-id  = 1*32DIGIT\n",e+="                ; Accept up to 32 digits. Could probably be lowered\n",e+="\n",e+='eth-chain-id    = eth-namespace ":" eth-network-id\n',e+="                ; Examples:\n",e+="                ; - eip155:1   (eth mainnet)\n",e+="                ; - eip155:137 (polygon mainnet)\n",e+="\n",e+="; Solana\n",e+="; ------------------------------------------------------------------------------\n",e+="\n",e+='sol-namespace   = %s"solana"\n',e+="                ; The chain-id namespace for solana\n",e+="\n",e+='sol-network-id  = %s"mainnet" / %s"testnet" / %s"devnet" / %s"localnet"\n',e+="                ; This enumeration comes from https://github.com/solana-labs/wallet-standard/blob/master/packages/core/chains/src/index.ts\n",e+="\n",e+='sol-chain-id    = sol-namespace ":" sol-network-id\n',e+="                ; Examples:\n",e+="                ; - solana:mainnet (solana mainnet)\n",e+="                ; - solana:testnet (solana testnet)\n",e+="; ==============================================================================\n",e+="; Chain-agnostic account identifiers (CAIP-10)\n",e+="; ==============================================================================\n",e+=";\n",e+="; Requires:\n",e+="; - core.bnf\n",e+="; - chain-id.bnf\n",e+=";\n",e+="; References:\n",e+="; - https://github.com/ChainAgnostic/CAIPs/blob/master/CAIPs/caip-2.md#syntax\n",e+="; - https://github.com/ChainAgnostic/CAIPs/blob/master/CAIPs/caip-10.md#syntax\n",e+="\n",e+="account-id      = eth-account-id\n",e+="                / sol-account-id\n",e+="                ; NOTE: Only Ethereum and Solana are supported at the moment\n",e+="\n",e+="; Ethereum\n",e+="; ------------------------------------------------------------------------------\n",e+="\n",e+='eth-address     = "0x" 40HEXDIG\n',e+="                ; Must also conform to captilization\n",e+="                ; checksum encoding specified in EIP-55\n",e+="                ; where applicable (EOAs).\n",e+="\n",e+='eth-account-id  = eth-chain-id ":" eth-address\n',e+='                ; See CAIP-2 for definition of "eth-chain-id"\n',e+="                ; Examples:\n",e+="                ; - eip155:1:0xb9c5714089478a327f09197987f16f9e5d936e8a   (eth mainnet)\n",e+="                ; - eip155:137:0xb9c5714089478a327f09197987f16f9e5d936e8a (polygon mainnet)\n",e+="\n",e+="; Solana\n",e+="; ------------------------------------------------------------------------------\n",e+="\n",e+="sol-address     = 32*44( %x31-39 / %x41-48 / %x4A-4E / %x50-5A / %x61-6B / %x6D-7A )\n",e+="                ; Valid Solana addresses are 32-44 base58-encoded chars: 1-9 / A-H / J-N / P-Z / a-k / m-z\n",e+='                ; Note: this doesn\'t validate whether the address is "on the curve"\n',e+="\n",e+='sol-account-id  = sol-chain-id ":" sol-address\n',e+='                ; See CAIP-2 for definition of "sol-chain-id"\n',e+="                ; Examples:\n",e+="                ; - solana:mainnet:FYpB58cLw5cwiN763ayB2sFT8HLF2MRUBbbyRgHYiRpK (solana mainnet)\n",e+="                ; - solana:testnet:QhnBSSbjScn9VHBBqwosy99icpeJrW4iuEwkJ3d9Fn9  (solana testnet)\n",e+="; ==============================================================================\n",e+="; Sign in with X (CAIP-122)\n",e+="; ==============================================================================\n",e+=";\n",e+="; Requires:\n",e+="; - core.bnf\n",e+="; - datetime.bnf\n",e+="; - uri.bnf\n",e+="; - dns.bnf\n",e+="; - chain-id.bnf\n",e+="; - account-id.bnf\n",e+=";\n",e+="; References:\n",e+="; - https://github.com/ChainAgnostic/CAIPs/blob/master/CAIPs/caip-2.md#syntax\n",e+="; - https://github.com/ChainAgnostic/CAIPs/blob/master/CAIPs/caip-10.md#syntax\n",e+="; - https://github.com/ChainAgnostic/CAIPs/blob/master/CAIPs/caip-122.md\n",e+=";\n",e+="; Note:\n",e+="; Currently, this grammar file only supports the Ethereum and Solana blockchains\n",e+="\n",e+="sign-in-with-x = sign-in-with-eth\n",e+="               / sign-in-with-sol\n",e+="\n",e+="; Ethereum\n",e+=";-----------------------------------------------------------------------------\n",e+="\n",e+="sign-in-with-eth =\n",e+='  message-domain %s" wants you to sign in with your Ethereum account:" LF\n',e+="  eth-account-id LF\n",e+="  LF\n",e+="  [ message-statement LF ]\n",e+="  LF\n",e+='  %s"URI: " message-uri LF\n',e+='  %s"Version: " message-version LF\n',e+='  %s"Chain ID: " eth-chain-id LF\n',e+='  %s"Nonce: " message-nonce LF\n',e+='  %s"Issued At: " message-issued-at\n',e+='  [ LF %s"Expiration Time: " message-expiration-time ]\n',e+='  [ LF %s"Not Before: " message-not-before ]\n',e+='  [ LF %s"Request ID: " message-request-id ]\n',e+='  [ LF %s"Resources:" message-resources ]\n',e+="\n",e+="; Solana\n",e+=";-----------------------------------------------------------------------------\n",e+="\n",e+="sign-in-with-sol =\n",e+='  message-domain %s" wants you to sign in with your Solana account:" LF\n',e+="  sol-account-id LF\n",e+="  LF\n",e+="  [ message-statement LF ]\n",e+="  LF\n",e+='  %s"URI: " message-uri LF\n',e+='  %s"Version: " message-version LF\n',e+='  %s"Chain ID: " sol-chain-id LF\n',e+='  %s"Nonce: " message-nonce LF\n',e+='  %s"Issued At: " message-issued-at\n',e+='  [ LF %s"Expiration Time: " message-expiration-time ]\n',e+='  [ LF %s"Not Before: " message-not-before ]\n',e+='  [ LF %s"Request ID: " message-request-id ]\n',e+='  [ LF %s"Resources:" message-resources ]\n',e+="\n",e+="; Common\n",e+=";-----------------------------------------------------------------------------\n",e+="\n",e+="message-domain          = dnsauthority ; CAIP-10 spec defines domain as dnsauthority unlike EIP-4361, which uses authority\n",e+="message-address         = eth-account-id / sol-account-id ; See CAIP-10 for address identifier definition\n",e+='message-statement       = 1*( reserved / unreserved / " " )\n',e+="message-uri             = URI\n",e+='message-version         = "1"\n',e+="message-chain-id        = eth-chain-id / sol-chain-id\n",e+="message-nonce           = 8*( ALPHA / DIGIT )\n",e+="message-issued-at       = date-time\n",e+="message-expiration-time = date-time\n",e+="message-not-before      = date-time\n",e+="message-request-id      = *pchar\n",e+='message-resources       = *( LF "- " URI )\n','; ==============================================================================\n; Core rules for ABNF (RFC 5234)\n; ==============================================================================\n;\n; References:\n; - https://www.rfc-editor.org/rfc/rfc5234#appendix-B.1\n\nALPHA          =  %x41-5A / %x61-7A\n               ; A-Z / a-z\n\nBIT            =  "0" / "1"\n\nCHAR           =  %x01-7F\n               ; any 7-bit US-ASCII character,\n               ;  excluding NUL\n\nCR             =  %x0D\n               ; carriage return\n\nCRLF           =  CR LF\n               ; Internet standard newline\n\nCTL            =  %x00-1F / %x7F\n               ; controls\n\nDIGIT          =  %x30-39\n               ; 0-9\n\nDQUOTE         =  %x22\n               ; " (Double Quote)\n\nHEXDIG         =  DIGIT / "A" / "B" / "C" / "D" / "E" / "F"\n\nHTAB           =  %x09\n               ; horizontal tab\n\nLF             =  %x0A\n               ; linefeed\n\nLWSP           =  *(WSP / CRLF WSP)\n               ; Use of this linear-white-space rule\n               ;  permits lines containing only white\n               ;  space that are no longer legal in\n               ;  mail headers and have caused\n               ;  interoperability problems in other\n               ;  contexts.\n               ; Do not use when defining mail\n               ;  headers and use with caution in\n               ;  other contexts.\n\nOCTET          =  %x00-FF\n               ; 8 bits of data\n\nSP             =  %x20\n\nVCHAR          =  %x21-7E\n               ; visible (printing) characters\n\nWSP            =  SP / HTAB\n               ; white space\n; ==============================================================================\n; Internet Date/Time Format (RFC 3339)\n; ==============================================================================\n;\n; Requires:\n; - core.bnf\n;\n; References:\n; - https://www.rfc-editor.org/rfc/rfc3339#section-5.6\n\ndate-fullyear   = 4DIGIT\n\ndate-month      = 2DIGIT  ; 01-12\n\ndate-mday       = 2DIGIT  ; 01-28, 01-29, 01-30, 01-31 based on\n                          ; month/year\n\ntime-hour       = 2DIGIT  ; 00-23\n\ntime-minute     = 2DIGIT  ; 00-59\n\ntime-second     = 2DIGIT  ; 00-58, 00-59, 00-60 based on leap second\n                          ; rules\n\ntime-secfrac    = "." 1*DIGIT\n\ntime-numoffset  = ("+" / "-") time-hour ":" time-minute\n\ntime-offset     = "Z" / time-numoffset\n\npartial-time    = time-hour ":" time-minute ":" time-second\n                  [time-secfrac]\n\nfull-date       = date-fullyear "-" date-month "-" date-mday\n\nfull-time       = partial-time time-offset\n\ndate-time       = full-date "T" full-time\n; ==============================================================================\n; Uniform Resource Identifier (RFC 3986)\n; ==============================================================================\n;\n; Requires:\n; - core.bnf\n;\n; References:\n; - https://www.rfc-editor.org/rfc/rfc3986#appendix-A\n\nURI           = scheme ":" hier-part [ "?" query ] [ "#" fragment ]\n\nhier-part     = "//" authority path-abempty\n              / path-absolute\n              / path-rootless\n              / path-empty\n\nURI-reference = URI / relative-ref\n\nabsolute-URI  = scheme ":" hier-part [ "?" query ]\n\nrelative-ref  = relative-part [ "?" query ] [ "#" fragment ]\n\nrelative-part = "//" authority path-abempty\n              / path-absolute\n              / path-noscheme\n              / path-empty\n\nscheme        = ALPHA *( ALPHA / DIGIT / "+" / "-" / "." )\n\nauthority     = [ userinfo "@" ] host [ ":" port ]\nuserinfo      = *( unreserved / pct-encoded / sub-delims / ":" )\nhost          = IP-literal / IPv4address / reg-name\nport          = *DIGIT\n\nIP-literal    = "[" ( IPv6address / IPvFuture  ) "]"\n\nIPvFuture     = "v" 1*HEXDIG "." 1*( unreserved / sub-delims / ":" )\n\nIPv6address   =                            6( h16 ":" ) ls32\n              /                       "::" 5( h16 ":" ) ls32\n              / [               h16 ] "::" 4( h16 ":" ) ls32\n              / [ *1( h16 ":" ) h16 ] "::" 3( h16 ":" ) ls32\n              / [ *2( h16 ":" ) h16 ] "::" 2( h16 ":" ) ls32\n              / [ *3( h16 ":" ) h16 ] "::"    h16 ":"   ls32\n              / [ *4( h16 ":" ) h16 ] "::"              ls32\n              / [ *5( h16 ":" ) h16 ] "::"              h16\n              / [ *6( h16 ":" ) h16 ] "::"\n\nh16           = 1*4HEXDIG\nls32          = ( h16 ":" h16 ) / IPv4address\nIPv4address   = dec-octet "." dec-octet "." dec-octet "." dec-octet\ndec-octet     = DIGIT                 ; 0-9\n              / %x31-39 DIGIT         ; 10-99\n              / "1" 2DIGIT            ; 100-199\n              / "2" %x30-34 DIGIT     ; 200-249\n              / "25" %x30-35          ; 250-255\n\nreg-name      = *( unreserved / pct-encoded / sub-delims )\n\npath          = path-abempty    ; begins with "/" or is empty\n              / path-absolute   ; begins with "/" but not "//"\n              / path-noscheme   ; begins with a non-colon segment\n              / path-rootless   ; begins with a segment\n              / path-empty      ; zero characters\n\npath-abempty  = *( "/" segment )\npath-absolute = "/" [ segment-nz *( "/" segment ) ]\npath-noscheme = segment-nz-nc *( "/" segment )\npath-rootless = segment-nz *( "/" segment )\npath-empty    = 0pchar\n\nsegment       = *pchar\nsegment-nz    = 1*pchar\nsegment-nz-nc = 1*( unreserved / pct-encoded / sub-delims / "@" )\n; non-zero-length segment without any colon ":"\n\npchar         = unreserved / pct-encoded / sub-delims / ":" / "@"\n\nquery         = *( pchar / "/" / "?" )\n\nfragment      = *( pchar / "/" / "?" )\n\npct-encoded   = "%" HEXDIG HEXDIG\n\nunreserved    = ALPHA / DIGIT / "-" / "." / "_" / "~"\nreserved      = gen-delims / sub-delims\ngen-delims    = ":" / "/" / "?" / "#" / "[" / "]" / "@"\nsub-delims    = "!" / "$" / "&" / "\'" / "(" / ")"\n              / "*" / "+" / "," / ";" / "="\n; ==============================================================================\n; DNS URI (RFC 4501)\n; ==============================================================================\n;\n; Requires:\n; - core.bnf\n; - uri.bnf\n;\n; References:\n; - https://www.rfc-editor.org/rfc/rfc4501.html#section-3\n;\n; Note:\n; dnsclassval and dnstypeval are not defined exhaustively\n; but their definitions are unused in SIW grammars.\n\n\ndnsurl          = "dns:" [ "//" dnsauthority "/" ]\n                  dnsname ["?" dnsquery]\n\ndnsauthority    = host [ ":" port ]\n                ; See RFC 3986 for the\n                ; definition of "host" and "port".\n\ndnsname         = *pchar\n                ; See RFC 3986 for the\n                ; definition of "pchar".\n\n                ; The "dnsname" field may be a\n                ; "relative" or "absolute" name,\n                ; as per RFC 1034, section 3.1.\n\n                ; Note further that an empty\n                ; "dnsname" value is to be\n                ; interpreted as the root itself.\n                ; See below on relative dnsnames.\n\ndnsquery        = dnsqueryelement [";" dnsquery]\n\ndnsqueryelement = ( "CLASS=" dnsclassval ) / ( "TYPE=" dnstypeval )\n                ; Each clause MUST NOT be used more\n                ; than once.\n\ndnsclassval     = 1*digit / "IN" / "CH"\n                ; omitted:\n                ; / <Any IANA registered DNS class mnemonic>\n\ndnstypeval      = 1*digit / "A" / "NS" / "MD"\n                ; omitted:\n                ; / <Any IANA registered DNS type mnemonic>\n; ==============================================================================\n; Chain-agnostic IDs (CAIP-2)\n; ==============================================================================\n;\n; Requires:\n; - core.bnf\n;\n; References:\n; - https://github.com/ChainAgnostic/CAIPs/blob/master/CAIPs/caip-2.md#syntax\n; - https://github.com/ChainAgnostic/CAIPs/blob/master/CAIPs/caip-10.md#syntax\n\nchain-id        = eth-chain-id\n                / sol-chain-id\n                ; NOTE: Only Ethereum and Solana are supported at the moment\n\n\n; Ethereum\n; ------------------------------------------------------------------------------\n\neth-namespace   = %s"eip155"\n                ; The chain-id namespace for evm chains\n\neth-network-id  = 1*32DIGIT\n                ; Accept up to 32 digits. Could probably be lowered\n\neth-chain-id    = eth-namespace ":" eth-network-id\n                ; Examples:\n                ; - eip155:1   (eth mainnet)\n                ; - eip155:137 (polygon mainnet)\n\n; Solana\n; ------------------------------------------------------------------------------\n\nsol-namespace   = %s"solana"\n                ; The chain-id namespace for solana\n\nsol-network-id  = %s"mainnet" / %s"testnet" / %s"devnet" / %s"localnet"\n                ; This enumeration comes from https://github.com/solana-labs/wallet-standard/blob/master/packages/core/chains/src/index.ts\n\nsol-chain-id    = sol-namespace ":" sol-network-id\n                ; Examples:\n                ; - solana:mainnet (solana mainnet)\n                ; - solana:testnet (solana testnet)\n; ==============================================================================\n; Chain-agnostic account identifiers (CAIP-10)\n; ==============================================================================\n;\n; Requires:\n; - core.bnf\n; - chain-id.bnf\n;\n; References:\n; - https://github.com/ChainAgnostic/CAIPs/blob/master/CAIPs/caip-2.md#syntax\n; - https://github.com/ChainAgnostic/CAIPs/blob/master/CAIPs/caip-10.md#syntax\n\naccount-id      = eth-account-id\n                / sol-account-id\n                ; NOTE: Only Ethereum and Solana are supported at the moment\n\n; Ethereum\n; ------------------------------------------------------------------------------\n\neth-address     = "0x" 40HEXDIG\n                ; Must also conform to captilization\n                ; checksum encoding specified in EIP-55\n                ; where applicable (EOAs).\n\neth-account-id  = eth-chain-id ":" eth-address\n                ; See CAIP-2 for definition of "eth-chain-id"\n                ; Examples:\n                ; - eip155:1:0xb9c5714089478a327f09197987f16f9e5d936e8a   (eth mainnet)\n                ; - eip155:137:0xb9c5714089478a327f09197987f16f9e5d936e8a (polygon mainnet)\n\n; Solana\n; ------------------------------------------------------------------------------\n\nsol-address     = 32*44( %x31-39 / %x41-48 / %x4A-4E / %x50-5A / %x61-6B / %x6D-7A )\n                ; Valid Solana addresses are 32-44 base58-encoded chars: 1-9 / A-H / J-N / P-Z / a-k / m-z\n                ; Note: this doesn\'t validate whether the address is "on the curve"\n\nsol-account-id  = sol-chain-id ":" sol-address\n                ; See CAIP-2 for definition of "sol-chain-id"\n                ; Examples:\n                ; - solana:mainnet:FYpB58cLw5cwiN763ayB2sFT8HLF2MRUBbbyRgHYiRpK (solana mainnet)\n                ; - solana:testnet:QhnBSSbjScn9VHBBqwosy99icpeJrW4iuEwkJ3d9Fn9  (solana testnet)\n; ==============================================================================\n; Sign in with X (CAIP-122)\n; ==============================================================================\n;\n; Requires:\n; - core.bnf\n; - datetime.bnf\n; - uri.bnf\n; - dns.bnf\n; - chain-id.bnf\n; - account-id.bnf\n;\n; References:\n; - https://github.com/ChainAgnostic/CAIPs/blob/master/CAIPs/caip-2.md#syntax\n; - https://github.com/ChainAgnostic/CAIPs/blob/master/CAIPs/caip-10.md#syntax\n; - https://github.com/ChainAgnostic/CAIPs/blob/master/CAIPs/caip-122.md\n;\n; Note:\n; Currently, this grammar file only supports the Ethereum and Solana blockchains\n\nsign-in-with-x = sign-in-with-eth\n               / sign-in-with-sol\n\n; Ethereum\n;-----------------------------------------------------------------------------\n\nsign-in-with-eth =\n  message-domain %s" wants you to sign in with your Ethereum account:" LF\n  eth-account-id LF\n  LF\n  [ message-statement LF ]\n  LF\n  %s"URI: " message-uri LF\n  %s"Version: " message-version LF\n  %s"Chain ID: " eth-chain-id LF\n  %s"Nonce: " message-nonce LF\n  %s"Issued At: " message-issued-at\n  [ LF %s"Expiration Time: " message-expiration-time ]\n  [ LF %s"Not Before: " message-not-before ]\n  [ LF %s"Request ID: " message-request-id ]\n  [ LF %s"Resources:" message-resources ]\n\n; Solana\n;-----------------------------------------------------------------------------\n\nsign-in-with-sol =\n  message-domain %s" wants you to sign in with your Solana account:" LF\n  sol-account-id LF\n  LF\n  [ message-statement LF ]\n  LF\n  %s"URI: " message-uri LF\n  %s"Version: " message-version LF\n  %s"Chain ID: " sol-chain-id LF\n  %s"Nonce: " message-nonce LF\n  %s"Issued At: " message-issued-at\n  [ LF %s"Expiration Time: " message-expiration-time ]\n  [ LF %s"Not Before: " message-not-before ]\n  [ LF %s"Request ID: " message-request-id ]\n  [ LF %s"Resources:" message-resources ]\n\n; Common\n;-----------------------------------------------------------------------------\n\nmessage-domain          = dnsauthority ; CAIP-10 spec defines domain as dnsauthority unlike EIP-4361, which uses authority\nmessage-address         = eth-account-id / sol-account-id ; See CAIP-10 for address identifier definition\nmessage-statement       = 1*( reserved / unreserved / " " )\nmessage-uri             = URI\nmessage-version         = "1"\nmessage-chain-id        = eth-chain-id / sol-chain-id\nmessage-nonce           = 8*( ALPHA / DIGIT )\nmessage-issued-at       = date-time\nmessage-expiration-time = date-time\nmessage-not-before      = date-time\nmessage-request-id      = *pchar\nmessage-resources       = *( LF "- " URI )\n'},e}c(),p(),c(),p(),c(),p(),c(),p(),c(),p(),c(),p(),c(),p(),function e(t,r,n){function s(o,a){if(!r[o]){if(!t[o]){var l="function"==typeof Zr&&Zr;if(!a&&l)return l(o,!0);if(i)return i(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var u=r[o]={exports:{}};t[o][0].call(u.exports,function(e){return s(t[o][1][e]||e)},u,u.exports,e,t,r,n)}return r[o].exports}for(var i="function"==typeof Zr&&Zr,o=0;o<n.length;o++)s(n[o]);return s}({1:[function(e,t,r){"use strict";r.byteLength=function(e){var t=l(e),r=t[0],n=t[1];return 3*(r+n)/4-n},r.toByteArray=function(e){var t,r,n,o=l(e),a=o[0],c=o[1],u=new i(3*(a+(n=c))/4-n),d=0,p=c>0?a-4:a;for(r=0;r<p;r+=4)t=s[e.charCodeAt(r)]<<18|s[e.charCodeAt(r+1)]<<12|s[e.charCodeAt(r+2)]<<6|s[e.charCodeAt(r+3)],u[d++]=t>>16&255,u[d++]=t>>8&255,u[d++]=255&t;return 2===c&&(t=s[e.charCodeAt(r)]<<2|s[e.charCodeAt(r+1)]>>4,u[d++]=255&t),1===c&&(t=s[e.charCodeAt(r)]<<10|s[e.charCodeAt(r+1)]<<4|s[e.charCodeAt(r+2)]>>2,u[d++]=t>>8&255,u[d++]=255&t),u},r.fromByteArray=function(e){for(var t,r=e.length,s=r%3,i=[],o=16383,a=0,l=r-s;a<l;a+=o)i.push(c(e,a,a+o>l?l:a+o));return 1===s?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===s&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),i.join("")};for(var n=[],s=[],i=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0;a<64;++a)n[a]=o[a],s[o.charCodeAt(a)]=a;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function c(e,t,r){for(var s,i,o=[],a=t;a<r;a+=3)s=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),o.push(n[(i=s)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return o.join("")}s[45]=62,s[95]=63},{}],2:[function(e,t,r){(function(t){(function(){"use strict";var t=e("base64-js"),n=e("ieee754");r.Buffer=o,r.SlowBuffer=function(e){return+e!=e&&(e=0),o.alloc(+e)},r.INSPECT_MAX_BYTES=50;var s=2147483647;function i(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return t.__proto__=o.prototype,t}function o(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return c(e)}return a(e,t,r)}function a(e,t,r){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!o.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|p(e,t),n=i(r),s=n.write(e,t);return s!==r&&(n=n.slice(0,s)),n}(e,t);if(ArrayBuffer.isView(e))return u(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(O(e,ArrayBuffer)||e&&O(e.buffer,ArrayBuffer))return function(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return(n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r)).__proto__=o.prototype,n}(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return o.from(n,t,r);var s=function(e){if(o.isBuffer(e)){var t=0|d(e.length),r=i(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||z(e.length)?i(0):u(e):"Buffer"===e.type&&Array.isArray(e.data)?u(e.data):void 0}(e);if(s)return s;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return o.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function c(e){return l(e),i(e<0?0:0|d(e))}function u(e){for(var t=e.length<0?0:0|d(e.length),r=i(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function d(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function p(e,t){if(o.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||O(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var s=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return F(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return M(e).length;default:if(s)return n?-1:F(e).length;t=(""+t).toLowerCase(),s=!0}}function h(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0)||(r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return k(this,t,r);case"utf8":case"utf-8":return T(this,t,r);case"ascii":return S(this,t,r);case"latin1":case"binary":return _(this,t,r);case"base64":return v(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function m(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function g(e,t,r,n,s){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),z(r=+r)&&(r=s?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(s)return-1;r=e.length-1}else if(r<0){if(!s)return-1;r=0}if("string"==typeof t&&(t=o.from(t,n)),o.isBuffer(t))return 0===t.length?-1:f(e,t,r,n,s);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?s?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):f(e,[t],r,n,s);throw new TypeError("val must be string, number or Buffer")}function f(e,t,r,n,s){var i,o=1,a=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,a/=2,l/=2,r/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(s){var u=-1;for(i=r;i<a;i++)if(c(e,i)===c(t,-1===u?0:i-u)){if(-1===u&&(u=i),i-u+1===l)return u*o}else-1!==u&&(i-=i-u),u=-1}else for(r+l>a&&(r=a-l),i=r;i>=0;i--){for(var d=!0,p=0;p<l;p++)if(c(e,i+p)!==c(t,p)){d=!1;break}if(d)return i}return-1}function y(e,t,r,n){r=Number(r)||0;var s=e.length-r;n?(n=Number(n))>s&&(n=s):n=s;var i=t.length;n>i/2&&(n=i/2);for(var o=0;o<n;++o){var a=parseInt(t.substr(2*o,2),16);if(z(a))return o;e[r+o]=a}return o}function w(e,t,r,n){return q(F(t,e.length-r),e,r,n)}function b(e,t,r,n){return q(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function x(e,t,r,n){return b(e,t,r,n)}function A(e,t,r,n){return q(M(t),e,r,n)}function E(e,t,r,n){return q(function(e,t){for(var r,n,s,i=[],o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,s=r%256,i.push(s),i.push(n);return i}(t,e.length-r),e,r,n)}function v(e,r,n){return 0===r&&n===e.length?t.fromByteArray(e):t.fromByteArray(e.slice(r,n))}function T(e,t,r){r=Math.min(e.length,r);for(var n=[],s=t;s<r;){var i,o,a,l,c=e[s],u=null,d=c>239?4:c>223?3:c>191?2:1;if(s+d<=r)switch(d){case 1:c<128&&(u=c);break;case 2:128==(192&(i=e[s+1]))&&(l=(31&c)<<6|63&i)>127&&(u=l);break;case 3:i=e[s+1],o=e[s+2],128==(192&i)&&128==(192&o)&&(l=(15&c)<<12|(63&i)<<6|63&o)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:i=e[s+1],o=e[s+2],a=e[s+3],128==(192&i)&&128==(192&o)&&128==(192&a)&&(l=(15&c)<<18|(63&i)<<12|(63&o)<<6|63&a)>65535&&l<1114112&&(u=l)}null===u?(u=65533,d=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),s+=d}return function(e){var t=e.length;if(t<=I)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=I));return r}(n)}r.kMaxLength=s,o.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch{return!1}}(),o.TYPED_ARRAY_SUPPORT||typeof console>"u"||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&null!=Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),o.poolSize=8192,o.from=function(e,t,r){return a(e,t,r)},o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,o.alloc=function(e,t,r){return s=t,o=r,l(n=e),n<=0?i(n):void 0!==s?"string"==typeof o?i(n).fill(s,o):i(n).fill(s):i(n);var n,s,o},o.allocUnsafe=function(e){return c(e)},o.allocUnsafeSlow=function(e){return c(e)},o.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==o.prototype},o.compare=function(e,t){if(O(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),O(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),!o.isBuffer(e)||!o.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,s=0,i=Math.min(r,n);s<i;++s)if(e[s]!==t[s]){r=e[s],n=t[s];break}return r<n?-1:n<r?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=o.allocUnsafe(t),s=0;for(r=0;r<e.length;++r){var i=e[r];if(O(i,Uint8Array)&&(i=o.from(i)),!o.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(n,s),s+=i.length}return n},o.byteLength=p,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},o.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},o.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},o.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?T(this,0,e):h.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){var e="",t=r.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},o.prototype.compare=function(e,t,r,n,s){if(O(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),!o.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===s&&(s=this.length),t<0||r>e.length||n<0||s>this.length)throw new RangeError("out of range index");if(n>=s&&t>=r)return 0;if(n>=s)return-1;if(t>=r)return 1;if(this===e)return 0;for(var i=(s>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0),l=Math.min(i,a),c=this.slice(n,s),u=e.slice(t,r),d=0;d<l;++d)if(c[d]!==u[d]){i=c[d],a=u[d];break}return i<a?-1:a<i?1:0},o.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},o.prototype.indexOf=function(e,t,r){return g(this,e,t,r,!0)},o.prototype.lastIndexOf=function(e,t,r){return g(this,e,t,r,!1)},o.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var s=this.length-t;if((void 0===r||r>s)&&(r=s),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return y(this,e,t,r);case"utf8":case"utf-8":return w(this,e,t,r);case"ascii":return b(this,e,t,r);case"latin1":case"binary":return x(this,e,t,r);case"base64":return A(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var I=4096;function S(e,t,r){var n="";r=Math.min(e.length,r);for(var s=t;s<r;++s)n+=String.fromCharCode(127&e[s]);return n}function _(e,t,r){var n="";r=Math.min(e.length,r);for(var s=t;s<r;++s)n+=String.fromCharCode(e[s]);return n}function k(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var s="",i=t;i<r;++i)s+=P(e[i]);return s}function R(e,t,r){for(var n=e.slice(t,r),s="",i=0;i<n.length;i+=2)s+=String.fromCharCode(n[i]+256*n[i+1]);return s}function B(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function C(e,t,r,n,s,i){if(!o.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>s||t<i)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function L(e,t,r,n,s,i){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function U(e,t,r,s,i){return t=+t,r>>>=0,i||L(e,0,r,4),n.write(e,t,r,s,23,4),r+4}function D(e,t,r,s,i){return t=+t,r>>>=0,i||L(e,0,r,8),n.write(e,t,r,s,52,8),r+8}o.prototype.slice=function(e,t){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return n.__proto__=o.prototype,n},o.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||B(e,t,this.length);for(var n=this[e],s=1,i=0;++i<t&&(s*=256);)n+=this[e+i]*s;return n},o.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||B(e,t,this.length);for(var n=this[e+--t],s=1;t>0&&(s*=256);)n+=this[e+--t]*s;return n},o.prototype.readUInt8=function(e,t){return e>>>=0,t||B(e,1,this.length),this[e]},o.prototype.readUInt16LE=function(e,t){return e>>>=0,t||B(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUInt16BE=function(e,t){return e>>>=0,t||B(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUInt32LE=function(e,t){return e>>>=0,t||B(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUInt32BE=function(e,t){return e>>>=0,t||B(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||B(e,t,this.length);for(var n=this[e],s=1,i=0;++i<t&&(s*=256);)n+=this[e+i]*s;return n>=(s*=128)&&(n-=Math.pow(2,8*t)),n},o.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||B(e,t,this.length);for(var n=t,s=1,i=this[e+--n];n>0&&(s*=256);)i+=this[e+--n]*s;return i>=(s*=128)&&(i-=Math.pow(2,8*t)),i},o.prototype.readInt8=function(e,t){return e>>>=0,t||B(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},o.prototype.readInt16LE=function(e,t){e>>>=0,t||B(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},o.prototype.readInt16BE=function(e,t){e>>>=0,t||B(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},o.prototype.readInt32LE=function(e,t){return e>>>=0,t||B(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return e>>>=0,t||B(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readFloatLE=function(e,t){return e>>>=0,t||B(e,4,this.length),n.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return e>>>=0,t||B(e,4,this.length),n.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return e>>>=0,t||B(e,8,this.length),n.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return e>>>=0,t||B(e,8,this.length),n.read(this,e,!1,52,8)},o.prototype.writeUIntLE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||C(this,e,t,r,Math.pow(2,8*r)-1,0);var s=1,i=0;for(this[t]=255&e;++i<r&&(s*=256);)this[t+i]=e/s&255;return t+r},o.prototype.writeUIntBE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||C(this,e,t,r,Math.pow(2,8*r)-1,0);var s=r-1,i=1;for(this[t+s]=255&e;--s>=0&&(i*=256);)this[t+s]=e/i&255;return t+r},o.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,1,255,0),this[t]=255&e,t+1},o.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},o.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var s=Math.pow(2,8*r-1);C(this,e,t,r,s-1,-s)}var i=0,o=1,a=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/o|0)-a&255;return t+r},o.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var s=Math.pow(2,8*r-1);C(this,e,t,r,s-1,-s)}var i=r-1,o=1,a=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/o|0)-a&255;return t+r},o.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},o.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeFloatLE=function(e,t,r){return U(this,e,t,!0,r)},o.prototype.writeFloatBE=function(e,t,r){return U(this,e,t,!1,r)},o.prototype.writeDoubleLE=function(e,t,r){return D(this,e,t,!0,r)},o.prototype.writeDoubleBE=function(e,t,r){return D(this,e,t,!1,r)},o.prototype.copy=function(e,t,r,n){if(!o.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var s=n-r;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,r,n);else if(this===e&&r<t&&t<n)for(var i=s-1;i>=0;--i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,n),t);return s},o.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!o.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var s=e.charCodeAt(0);("utf8"===n&&s<128||"latin1"===n)&&(e=s)}}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var a=o.isBuffer(e)?e:o.from(e,n),l=a.length;if(0===l)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=a[i%l]}return this};var N=/[^+/0-9A-Za-z-_]/g;function P(e){return e<16?"0"+e.toString(16):e.toString(16)}function F(e,t){var r;t=t||1/0;for(var n=e.length,s=null,i=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!s){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&i.push(239,191,189);continue}s=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),s=r;continue}r=65536+(s-55296<<10|r-56320)}else s&&(t-=3)>-1&&i.push(239,191,189);if(s=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function M(e){return t.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(N,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function q(e,t,r,n){for(var s=0;s<n&&!(s+r>=t.length||s>=e.length);++s)t[s+r]=e[s];return s}function O(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function z(e){return e!=e}}).call(this)}).call(this,e("buffer").Buffer)},{"base64-js":1,buffer:2,ieee754:3}],3:[function(e,t,r){r.read=function(e,t,r,n,s){var i,o,a=8*s-n-1,l=(1<<a)-1,c=l>>1,u=-7,d=r?s-1:0,p=r?-1:1,h=e[t+d];for(d+=p,i=h&(1<<-u)-1,h>>=-u,u+=a;u>0;i=256*i+e[t+d],d+=p,u-=8);for(o=i&(1<<-u)-1,i>>=-u,u+=n;u>0;o=256*o+e[t+d],d+=p,u-=8);if(0===i)i=1-c;else{if(i===l)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,n),i-=c}return(h?-1:1)*o*Math.pow(2,i-n)},r.write=function(e,t,r,n,s,i){var o,a,l,c=8*i-s-1,u=(1<<c)-1,d=u>>1,p=23===s?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:i-1,m=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+d>=1?p/l:p*Math.pow(2,1-d))*l>=2&&(o++,l/=2),o+d>=u?(a=0,o=u):o+d>=1?(a=(t*l-1)*Math.pow(2,s),o+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,s),o=0));s>=8;e[r+h]=255&a,h+=m,a/=256,s-=8);for(o=o<<s|a,c+=s;c>0;e[r+h]=255&o,h+=m,o/=256,c-=8);e[r+h-m]|=128*g}},{}],4:[function(e,t,r){(function(t){(function(){let n=this,s=e("./transformers"),i="UTF8",o="UTF16",a="UTF16BE",l="UTF16LE",c="UTF32",u="UTF32BE",d="UTF32LE",p="UINT7",h="ASCII",m="BINARY",g="UINT8",f="UINT16",y="UINT16LE",w="UINT16BE",b="UINT32",x="UINT32LE",A="UINT32BE",E="ESCAPED",v="STRING",T=function(e,t){switch(e){case i:return s.utf8.encode(t);case a:return s.utf16be.encode(t);case l:return s.utf16le.encode(t);case u:return s.utf32be.encode(t);case d:return s.utf32le.encode(t);case p:return s.uint7.encode(t);case g:return s.uint8.encode(t);case w:return s.uint16be.encode(t);case y:return s.uint16le.encode(t);case A:return s.uint32be.encode(t);case x:return s.uint32le.encode(t);case v:return s.string.encode(t);case E:return s.escaped.encode(t);default:throw new TypeError(`encode type "${e}" not recognized`)}};r.decode=function(e,r){return function(e){switch(e.type){case i:return s.utf8.decode(e.data,e.bom);case l:return s.utf16le.decode(e.data,e.bom);case a:return s.utf16be.decode(e.data,e.bom);case u:return s.utf32be.decode(e.data,e.bom);case d:return s.utf32le.decode(e.data,e.bom);case p:return s.uint7.decode(e.data);case g:return s.uint8.decode(e.data);case w:return s.uint16be.decode(e.data);case y:return s.uint16le.decode(e.data);case A:return s.uint32be.decode(e.data);case x:return s.uint32le.decode(e.data);case v:return s.string.decode(e.data);case E:return s.escaped.decode(e.data);default:throw new TypeError(`decode type "${e.type}" not recognized`)}}(function(e,r){if("string"!=typeof e||""===e)throw new TypeError(`type: "${e}" not recognized`);let n=function(e){let t={type:"",base64:!1},r=/^(base64:)?([a-zA-Z0-9]+)$/i.exec(e);return r&&(r[2]&&(t.type=r[2].toUpperCase()),r[1]&&(t.base64=!0)),t}(e.toUpperCase());if(n.base64){if(n.type===v)throw new TypeError(`type: "${e} "BASE64:" prefix not allowed with type STRING`);if(t.isBuffer(r))n.data=s.base64.decode(r);else{if("string"!=typeof r)throw new TypeError(`type: "${e} unrecognized data type: typeof(data): ${typeof r}`);{let e=t.from(r,"ascii");n.data=s.base64.decode(e)}}}else n.data=r;switch(n.type){case i:!function(e){e.type=i;let t=e.data;e.bom=0,t.length>=3&&239===t[0]&&187===t[1]&&191===t[2]&&(e.bom=3)}(n);break;case o:case a:case l:!function(e){let t=e.data;switch(e.bom=0,e.type){case o:e.type=a,t.length>=2&&(254===t[0]&&255===t[1]?e.bom=2:255===t[0]&&254===t[1]&&(e.type=l,e.bom=2));break;case a:if(e.type=a,t.length>=2)if(254===t[0]&&255===t[1])e.bom=2;else if(255===t[0]&&254===t[1])throw new TypeError('src type: "UTF16BE" specified but BOM is for "UTF16LE"');break;case l:if(e.type=l,t.length>=0){if(254===t[0]&&255===t[1])throw new TypeError('src type: "UTF16LE" specified but BOM is for "UTF16BE"');255===t[0]&&254===t[1]&&(e.bom=2)}break;default:throw new TypeError(`UTF16 BOM: src type "${e.type}" unrecognized`)}}(n);break;case c:case u:case d:!function(e){let t=e.data;switch(e.bom=0,e.type){case c:e.type=u,t.length>=4&&(0===t[0]&&0===t[1]&&254===t[2]&&255===t[3]&&(e.bom=4),255===t[0]&&254===t[1]&&0===t[2]&&0===t[3]&&(e.type=d,e.bom=4));break;case u:if(e.type=u,t.length>=4&&(0===t[0]&&0===t[1]&&254===t[2]&&255===t[3]&&(e.bom=4),255===t[0]&&254===t[1]&&0===t[2]&&0===t[3]))throw new TypeError('src type: UTF32BE specified but BOM is for UTF32LE"');break;case d:if(e.type=d,t.length>=4){if(0===t[0]&&0===t[1]&&254===t[2]&&255===t[3])throw new TypeError('src type: "UTF32LE" specified but BOM is for "UTF32BE"');255===t[0]&&254===t[1]&&0===t[2]&&0===t[3]&&(e.bom=4)}break;default:throw new TypeError(`UTF32 BOM: src type "${e.type}" unrecognized`)}}(n);break;case f:n.type=w;break;case b:n.type=A;break;case h:n.type=p;break;case m:n.type=g;break;case p:case g:case y:case w:case x:case A:case v:case E:break;default:throw new TypeError(`type: "${e}" not recognized`)}if(n.type===v){if("string"!=typeof n.data)throw new TypeError(`type: "${e}" but data is not a string`)}else if(!t.isBuffer(n.data))throw new TypeError(`type: "${e}" but data is not a Buffer`);return n}(e,r))},r.encode=function(e,t){let r,n,I=function(e,t){if(!Array.isArray(t))throw new TypeError('dst chars: not array: "'+typeof t);if("string"!=typeof e)throw new TypeError('dst type: not string: "'+typeof e);let r=function(e){let t,r,n={crlf:!1,lf:!1,base64:!1,type:""};for(;;){if(r=e,t=e.slice(0,5),"CRLF:"===t){n.crlf=!0,r=e.slice(5);break}if(t=e.slice(0,3),"LF:"===t){n.lf=!0,r=e.slice(3);break}break}return t=r.split(":"),1===t.length?n.type=t[0]:2===t.length&&"BASE64"===t[1]&&(n.base64=!0,n.type=t[0]),n}(e.toUpperCase());switch(r.type){case i:case a:case l:case u:case d:case p:case g:case y:case w:case x:case A:case E:break;case v:if(r.base64)throw new TypeError('":BASE64" suffix not allowed with type STRING');break;case h:r.type=p;break;case m:r.type=g;break;case o:r.type=a;break;case c:r.type=u;break;case f:r.type=w;break;case b:r.type=A;break;default:throw new TypeError(`dst type unrecognized: "${e}" : must have form [crlf:|lf:]type[:base64]`)}return r}(e,t);return I.crlf?(r=s.lineEnds.crlf(t),n=T(I.type,r)):I.lf?(r=s.lineEnds.lf(t),n=T(I.type,r)):n=T(I.type,t),I.base64&&(n=s.base64.encode(n)),n},r.convert=function(e,t,r){return n.encode(r,n.decode(e,t))}}).call(this)}).call(this,e("buffer").Buffer)},{"./transformers":6,buffer:2}],5:[function(e,t,r){t.exports={converter:e("./converter"),transformers:e("./transformers")}},{"./converter":4,"./transformers":6}],6:[function(e,t,r){(function(e){(function(){let t=this,n=4294967292,s=4294967293,i=4294967294,o=4294967295,a=[0,1,3,7,15,31,63,127,255,511,1023],l=["00","01","02","03","04","05","06","07","08","09","0A","0B","0C","0D","0E","0F","10","11","12","13","14","15","16","17","18","19","1A","1B","1C","1D","1E","1F","20","21","22","23","24","25","26","27","28","29","2A","2B","2C","2D","2E","2F","30","31","32","33","34","35","36","37","38","39","3A","3B","3C","3D","3E","3F","40","41","42","43","44","45","46","47","48","49","4A","4B","4C","4D","4E","4F","50","51","52","53","54","55","56","57","58","59","5A","5B","5C","5D","5E","5F","60","61","62","63","64","65","66","67","68","69","6A","6B","6C","6D","6E","6F","70","71","72","73","74","75","76","77","78","79","7A","7B","7C","7D","7E","7F","80","81","82","83","84","85","86","87","88","89","8A","8B","8C","8D","8E","8F","90","91","92","93","94","95","96","97","98","99","9A","9B","9C","9D","9E","9F","A0","A1","A2","A3","A4","A5","A6","A7","A8","A9","AA","AB","AC","AD","AE","AF","B0","B1","B2","B3","B4","B5","B6","B7","B8","B9","BA","BB","BC","BD","BE","BF","C0","C1","C2","C3","C4","C5","C6","C7","C8","C9","CA","CB","CC","CD","CE","CF","D0","D1","D2","D3","D4","D5","D6","D7","D8","D9","DA","DB","DC","DD","DE","DF","E0","E1","E2","E3","E4","E5","E6","E7","E8","E9","EA","EB","EC","ED","EE","EF","F0","F1","F2","F3","F4","F5","F6","F7","F8","F9","FA","FB","FC","FD","FE","FF"],c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split(""),u=[];c.forEach(e=>{u.push(e.charCodeAt(0))}),r.utf8={encode(t){let r=[];return t.forEach(e=>{if(e>=0&&e<=127)r.push(e);else if(e<=2047)r.push(192+(e>>6&a[5])),r.push(128+(e&a[6]));else if(e<55296||e>57343&&e<=65535)r.push(224+(e>>12&a[4])),r.push(128+(e>>6&a[6])),r.push(128+(e&a[6]));else{if(!(e>=65536&&e<=1114111))throw new RangeError(`utf8.encode: character out of range: char: ${e}`);{let t=e>>16&a[5];r.push(240+(t>>2)),r.push(128+((t&a[2])<<4)+(e>>12&a[4])),r.push(128+(e>>6&a[6])),r.push(128+(e&a[6]))}}}),e.from(r)},decode(e,t){function r(e,t){if(128!=(192&t))return s;let r=((e&a[5])<<6)+(t&a[6]);return r<128?n:r}function l(e,t,r){if(128!=(192&r)||128!=(192&t))return s;let o=((e&a[4])<<12)+((t&a[6])<<6)+(r&a[6]);return o<2048?n:o>=55296&&o<=57343?i:o}function c(e,t,r,o){if(128!=(192&o)||128!=(192&r)||128!=(192&t))return s;let l=(((e&a[3])<<2)+(t>>4&a[2])<<16)+((t&a[4])<<12)+((r&a[6])<<6)+(o&a[6]);return l<65536?n:l>1114111?i:l}let u,d,p,h,m,g,f=e.length,y=t?3:0,w=[];for(;y<f;){d=e[y],u=o;let t=!0;for(;t;){if(d>=0&&d<=127){u=d,g=1;break}if(p=y+1,p<f&&d>=194&&d<=223){u=r(d,e[p]),g=2;break}if(h=y+2,h<f&&d>=224&&d<=239){u=l(d,e[p],e[h]),g=3;break}if(m=y+3,m<f&&d>=240&&d<=244){u=c(d,e[p],e[h],e[m]),g=4;break}break}if(u>1114111){let e=`byte[${y}]`;throw u===o?new RangeError(`utf8.decode: ill-formed UTF8 byte sequence found at: ${e}`):u===s?new RangeError(`utf8.decode: illegal trailing byte found at: ${e}`):u===i?new RangeError(`utf8.decode: code point out of range found at: ${e}`):u===n?new RangeError(`utf8.decode: non-shortest form found at: ${e}`):new RangeError(`utf8.decode: unrecognized error found at: ${e}`)}w.push(u),y+=g}return w}},r.utf16be={encode(t){let r,n,s,i=[];for(let e=0;e<t.length;e+=1)if(r=t[e],r>=0&&r<=55295||r>=57344&&r<=65535)i.push(r>>8&a[8]),i.push(r&a[8]);else{if(!(r>=65536&&r<=1114111))throw new RangeError(`utf16be.encode: UTF16BE value out of range: char[${e}]: ${r}`);s=r-65536,n=55296+(s>>10),s=56320+(s&a[10]),i.push(n>>8&a[8]),i.push(n&a[8]),i.push(s>>8&a[8]),i.push(s&a[8])}return e.from(i)},decode(e,t){if(e.length%2>0)throw new RangeError(`utf16be.decode: data length must be even multiple of 2: length: ${e.length}`);let r,n,s,i,o,a,l=[],c=e.length,u=t?2:0,d=0;for(;u<c;){for(;;){if(s=u+1,s<c){if(o=(e[u]<<8)+e[s],o<55296||o>57343){r=o,n=2;break}if(i=u+3,i<c&&(a=(e[u+2]<<8)+e[i],o<=56319&&a>=56320&&a<=57343)){r=65536+(o-55296<<10)+(a-56320),n=4;break}}throw new RangeError(`utf16be.decode: ill-formed UTF16BE byte sequence found: byte[${u}]`)}l[d++]=r,u+=n}return l}},r.utf16le={encode(t){let r,n,s,i=[];for(let e=0;e<t.length;e+=1)if(r=t[e],r>=0&&r<=55295||r>=57344&&r<=65535)i.push(r&a[8]),i.push(r>>8&a[8]);else{if(!(r>=65536&&r<=1114111))throw new RangeError(`utf16le.encode: UTF16LE value out of range: char[${e}]: ${r}`);s=r-65536,n=55296+(s>>10),s=56320+(s&a[10]),i.push(n&a[8]),i.push(n>>8&a[8]),i.push(s&a[8]),i.push(s>>8&a[8])}return e.from(i)},decode(e,t){if(e.length%2>0)throw new RangeError(`utf16le.decode: data length must be even multiple of 2: length: ${e.length}`);let r,n,s,i,o,a,l=[],c=e.length,u=t?2:0,d=0;for(;u<c;){for(;;){if(s=u+1,s<c){if(o=(e[s]<<8)+e[u],o<55296||o>57343){r=o,n=2;break}if(i=u+3,i<c&&(a=(e[i]<<8)+e[u+2],o<=56319&&a>=56320&&a<=57343)){r=65536+(o-55296<<10)+(a-56320),n=4;break}}throw new RangeError(`utf16le.decode: ill-formed UTF16LE byte sequence found: byte[${u}]`)}l[d++]=r,u+=n}return l}},r.utf32be={encode(t){let r=e.alloc(4*t.length),n=0;return t.forEach(e=>{if(e>=55296&&e<=57343||e>1114111)throw new RangeError(`utf32be.encode: UTF32BE character code out of range: char[${n/4}]: ${e}`);r[n++]=e>>24&a[8],r[n++]=e>>16&a[8],r[n++]=e>>8&a[8],r[n++]=e&a[8]}),r},decode(e,t){if(e.length%4>0)throw new RangeError(`utf32be.decode: UTF32BE byte length must be even multiple of 4: length: ${e.length}`);let r=[],n=t?4:0;for(;n<e.length;n+=4){let t=(e[n]<<24)+(e[n+1]<<16)+(e[n+2]<<8)+e[n+3];if(t>=55296&&t<=57343||t>1114111)throw new RangeError(`utf32be.decode: UTF32BE character code out of range: char[${n/4}]: ${t}`);r.push(t)}return r}},r.utf32le={encode(t){let r=e.alloc(4*t.length),n=0;return t.forEach(e=>{if(e>=55296&&e<=57343||e>1114111)throw new RangeError(`utf32le.encode: UTF32LE character code out of range: char[${n/4}]: ${e}`);r[n++]=e&a[8],r[n++]=e>>8&a[8],r[n++]=e>>16&a[8],r[n++]=e>>24&a[8]}),r},decode(e,t){if(e.length%4>0)throw new RangeError(`utf32be.decode: UTF32LE byte length must be even multiple of 4: length: ${e.length}`);let r=[],n=t?4:0;for(;n<e.length;n+=4){let t=(e[n+3]<<24)+(e[n+2]<<16)+(e[n+1]<<8)+e[n];if(t>=55296&&t<=57343||t>1114111)throw new RangeError(`utf32le.encode: UTF32LE character code out of range: char[${n/4}]: ${t}`);r.push(t)}return r}},r.uint7={encode(t){let r=e.alloc(t.length);for(let e=0;e<t.length;e+=1){if(t[e]>127)throw new RangeError(`uint7.encode: UINT7 character code out of range: char[${e}]: ${t[e]}`);r[e]=t[e]}return r},decode(e){let t=[];for(let r=0;r<e.length;r+=1){if(e[r]>127)throw new RangeError(`uint7.decode: UINT7 character code out of range: byte[${r}]: ${e[r]}`);t[r]=e[r]}return t}},r.uint8={encode(t){let r=e.alloc(t.length);for(let e=0;e<t.length;e+=1){if(t[e]>255)throw new RangeError(`uint8.encode: UINT8 character code out of range: char[${e}]: ${t[e]}`);r[e]=t[e]}return r},decode(e){let t=[];for(let r=0;r<e.length;r+=1)t[r]=e[r];return t}},r.uint16be={encode(t){let r=e.alloc(2*t.length),n=0;return t.forEach(e=>{if(e>65535)throw new RangeError(`uint16be.encode: UINT16BE character code out of range: char[${n/2}]: ${e}`);r[n++]=e>>8&a[8],r[n++]=e&a[8]}),r},decode(e){if(e.length%2>0)throw new RangeError(`uint16be.decode: UINT16BE byte length must be even multiple of 2: length: ${e.length}`);let t=[];for(let r=0;r<e.length;r+=2)t.push((e[r]<<8)+e[r+1]);return t}},r.uint16le={encode(t){let r=e.alloc(2*t.length),n=0;return t.forEach(e=>{if(e>65535)throw new RangeError(`uint16le.encode: UINT16LE character code out of range: char[${n/2}]: ${e}`);r[n++]=e&a[8],r[n++]=e>>8&a[8]}),r},decode(e){if(e.length%2>0)throw new RangeError(`uint16le.decode: UINT16LE byte length must be even multiple of 2: length: ${e.length}`);let t=[];for(let r=0;r<e.length;r+=2)t.push((e[r+1]<<8)+e[r]);return t}},r.uint32be={encode(t){let r=e.alloc(4*t.length),n=0;return t.forEach(e=>{r[n++]=e>>24&a[8],r[n++]=e>>16&a[8],r[n++]=e>>8&a[8],r[n++]=e&a[8]}),r},decode(e){if(e.length%4>0)throw new RangeError(`uint32be.decode: UINT32BE byte length must be even multiple of 4: length: ${e.length}`);let t=[];for(let r=0;r<e.length;r+=4)t.push((e[r]<<24)+(e[r+1]<<16)+(e[r+2]<<8)+e[r+3]);return t}},r.uint32le={encode(t){let r=e.alloc(4*t.length),n=0;return t.forEach(e=>{r[n++]=e&a[8],r[n++]=e>>8&a[8],r[n++]=e>>16&a[8],r[n++]=e>>24&a[8]}),r},decode(e){if(e.length%4>0)throw new RangeError(`uint32le.decode: UINT32LE byte length must be even multiple of 4: length: ${e.length}`);let t=[];for(let r=0;r<e.length;r+=4)t.push((e[r+3]<<24)+(e[r+2]<<16)+(e[r+1]<<8)+e[r]);return t}},r.string={encode:e=>t.utf16le.encode(e).toString("utf16le"),decode:r=>t.utf16le.decode(e.from(r,"utf16le"),0)},r.escaped={encode(t){let r=[];for(let n=0;n<t.length;n+=1){let s=t[n];if(96===s)r.push(s),r.push(s);else if(10===s)r.push(s);else if(s>=32&&s<=126)r.push(s);else{let t="";if(s>=0&&s<=31)t+=`\`x${l[s]}`;else if(s>=127&&s<=255)t+=`\`x${l[s]}`;else if(s>=256&&s<=65535)t+=`\`u${l[s>>8&a[8]]}${l[s&a[8]]}`;else{if(!(s>=65536&&s<=4294967295))throw new Error("escape.encode(char): char > 0xffffffff not allowed");{t+="`u{";let e=s>>24&a[8];e>0&&(t+=l[e]),t+=`${l[s>>16&a[8]]+l[s>>8&a[8]]+l[s&a[8]]}}`}}e.from(t).forEach(e=>{r.push(e)})}}return e.from(r)},decode(e){function t(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function r(e,r,n){let s={char:null,nexti:e+2,error:!0};if(e+1<r&&t(n[e])&&t(n[e+1])){let t=String.fromCodePoint(n[e],n[e+1]);s.char=parseInt(t,16),Number.isNaN(s.char)||(s.error=!1)}return s}function n(e,r,n){let s={char:null,nexti:e+4,error:!0};if(e+3<r&&t(n[e])&&t(n[e+1])&&t(n[e+2])&&t(n[e+3])){let t=String.fromCodePoint(n[e],n[e+1],n[e+2],n[e+3]);s.char=parseInt(t,16),Number.isNaN(s.char)||(s.error=!1)}return s}function s(e,r,n){let s={char:null,nexti:e+4,error:!0},i="";for(;e<r&&t(n[e]);)i+=String.fromCodePoint(n[e]),e+=1;return s.char=parseInt(i,16),125!==n[e]||Number.isNaN(s.char)||(s.error=!1),s.nexti=e+1,s}let i,o,a,l=[],c=e.length,u=0;for(;u<c;){for(;;){if(a=!0,96!==e[u]){l.push(e[u]),u+=1,a=!1;break}if(i=u+1,i>=c)break;if(96===e[i]){l.push(96),u+=2,a=!1;break}if(120===e[i]){if(o=r(i+1,c,e),o.error)break;l.push(o.char),u=o.nexti,a=!1;break}if(117===e[i]){if(123===e[i+1]){if(o=s(i+2,c,e),o.error)break;l.push(o.char),u=o.nexti,a=!1;break}if(o=n(i+1,c,e),o.error)break;l.push(o.char),u=o.nexti,a=!1;break}break}if(a)throw new Error(`escaped.decode: ill-formed escape sequence at buf[${u}]`)}return l}};let d=10;r.lineEnds={crlf(e){let t=[],r=0;for(;r<e.length;)switch(e[r]){case 13:r+1<e.length&&e[r+1]===d?r+=2:r+=1,t.push(13),t.push(d);break;case d:t.push(13),t.push(d),r+=1;break;default:t.push(e[r]),r+=1}return t.length>0&&t[t.length-1]!==d&&(t.push(13),t.push(d)),t},lf(e){let t=[],r=0;for(;r<e.length;)switch(e[r]){case 13:r+1<e.length&&e[r+1]===d?r+=2:r+=1,t.push(d);break;case d:t.push(d),r+=1;break;default:t.push(e[r]),r+=1}return t.length>0&&t[t.length-1]!==d&&t.push(d),t}},r.base64={encode(t){if(0===t.length)return e.alloc(0);let r,n,s,i=t.length%3;i=i>0?3-i:0;let o=(t.length+i)/3,l=e.alloc(4*o);i>0&&(o-=1),r=0,n=0;for(let e=0;e<o;e+=1)s=t[r++]<<16,s+=t[r++]<<8,s+=t[r++],l[n++]=u[s>>18&a[6]],l[n++]=u[s>>12&a[6]],l[n++]=u[s>>6&a[6]],l[n++]=u[s&a[6]];return 0===i?l:1===i?(s=t[r++]<<16,s+=t[r]<<8,l[n++]=u[s>>18&a[6]],l[n++]=u[s>>12&a[6]],l[n++]=u[s>>6&a[6]],l[n]=u[64],l):2===i?(s=t[r]<<16,l[n++]=u[s>>18&a[6]],l[n++]=u[s>>12&a[6]],l[n++]=u[64],l[n]=u[64],l):void 0},decode(t){if(0===t.length)return e.alloc(0);let r,n,s,i=function(t){let r=[],n=0;for(let e=0;e<t.length;e+=1){let s=t[e],i=!0;for(;i&&32!==s&&9!==s&&10!==s&&13!==s;){if(s>=65&&s<=90){r.push(s-65);break}if(s>=97&&s<=122){r.push(s-71);break}if(s>=48&&s<=57){r.push(s+4);break}if(43===s){r.push(62);break}if(47===s){r.push(63);break}if(61===s){r.push(64),n+=1;break}throw new RangeError(`base64.decode: invalid character buf[${e}]: ${s}`)}}if(r.length%4>0)throw new RangeError(`base64.decode: string length not integral multiple of 4: ${r.length}`);switch(n){case 0:break;case 1:if(64!==r[r.length-1])throw new RangeError("base64.decode: one tail character found: not last character");break;case 2:if(64!==r[r.length-1]||64!==r[r.length-2])throw new RangeError("base64.decode: two tail characters found: not last characters");break;default:throw new RangeError(`base64.decode: more than two tail characters found: ${n}`)}return{tail:n,buf:e.from(r)}}(t),{tail:o}=i,l=i.buf,c=l.length/4,u=e.alloc(3*c-o);o>0&&(c-=1),n=0,r=0;for(let e=0;e<c;e+=1)s=l[r++]<<18,s+=l[r++]<<12,s+=l[r++]<<6,s+=l[r++],u[n++]=s>>16&a[8],u[n++]=s>>8&a[8],u[n++]=s&a[8];return 1===o&&(s=l[r++]<<18,s+=l[r++]<<12,s+=l[r]<<6,u[n++]=s>>16&a[8],u[n]=s>>8&a[8]),2===o&&(s=l[r++]<<18,s+=l[r++]<<12,u[n]=s>>16&a[8]),u},toString(e){if(e.length%4>0)throw new RangeError(`base64.toString: input buffer length not multiple of 4: ${e.length}`);let t="",r=0;function n(e,n,s,i){switch(r){case 76:t+=`\r\n${e}${n}${s}${i}`,r=4;break;case 75:t+=`${e}\r\n${n}${s}${i}`,r=3;break;case 74:t+=`${e+n}\r\n${s}${i}`,r=2;break;case 73:t+=`${e+n+s}\r\n${i}`,r=1;break;default:t+=e+n+s+i,r+=4}}for(let t=0;t<e.length;t+=4){for(let r=t;r<t+4;r+=1)if(!((s=e[r])>=65&&s<=90||s>=97&&s<=122||s>=48&&s<=57||43===s||47===s||61===s))throw new RangeError(`base64.toString: buf[${r}]: ${e[r]} : not valid base64 character code`);n(String.fromCharCode(e[t]),String.fromCharCode(e[t+1]),String.fromCharCode(e[t+2]),String.fromCharCode(e[t+3]))}var s;return t}}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:2}],7:[function(e,t,r){t.exports=function(){let t=e("./identifiers"),r=e("./utilities"),n=this,s=null,i=null,o=null,a=0,l=[],c=[],u=[],d=[];function p(e){let t="";for(let r=0;r<e;r+=1)t+=" ";return t}this.callbacks=[],this.astObject="astObject",this.init=function(e,t,r){let p;u.length=0,d.length=0,l.length=0,a=0,s=e,i=t,o=r;let h=[];for(p=0;p<s.length;p+=1)h.push(s[p].lower);for(p=0;p<i.length;p+=1)h.push(i[p].lower);for(a=s.length+i.length,p=0;p<a;p+=1)l[p]=!1,c[p]=null;for(let e in n.callbacks){let t=e.toLowerCase();if(p=h.indexOf(t),p<0)throw new Error(`ast.js: init: node '${e}' not a rule or udt name`);"function"==typeof n.callbacks[e]&&(l[p]=!0,c[p]=n.callbacks[e]),!0===n.callbacks[e]&&(l[p]=!0)}},this.ruleDefined=function(e){return!1!==l[e]},this.udtDefined=function(e){return!1!==l[s.length+e]},this.down=function(e,r){let n=d.length;return u.push(n),d.push({name:r,thisIndex:n,thatIndex:null,state:t.SEM_PRE,callbackIndex:e,phraseIndex:null,phraseLength:null,stack:u.length}),n},this.up=function(e,r,n,s){let i=d.length,o=u.pop();return d.push({name:r,thisIndex:i,thatIndex:o,state:t.SEM_POST,callbackIndex:e,phraseIndex:n,phraseLength:s,stack:u.length}),d[o].thatIndex=i,d[o].phraseIndex=n,d[o].phraseLength=s,i},this.translate=function(e){let r,n,s;for(let i=0;i<d.length;i+=1)s=d[i],n=c[s.callbackIndex],s.state===t.SEM_PRE?null!==n&&(r=n(t.SEM_PRE,o,s.phraseIndex,s.phraseLength,e),r===t.SEM_SKIP&&(i=s.thatIndex)):null!==n&&n(t.SEM_POST,o,s.phraseIndex,s.phraseLength,e)},this.setLength=function(e){d.length=e,u.length=e>0?d[e-1].stack:0},this.getLength=function(){return d.length},this.toXml=function(e){let n=r.charsToDec,s="decimal integer character codes";if("string"==typeof e&&e.length>=3){let t=e.slice(0,3).toLowerCase();"asc"===t?(n=r.charsToAscii,s="ASCII for printing characters, hex for non-printing"):"hex"===t?(n=r.charsToHex,s="hexadecimal integer character codes"):"uni"===t&&(n=r.charsToUnicode,s="Unicode UTF-32 integer character codes")}let i="",a=0;return i+='<?xml version="1.0" encoding="utf-8"?>\n',i+=`<root nodes="${d.length/2}" characters="${o.length}">\n`,i+=`\x3c!-- input string, ${s} --\x3e\n`,i+=p(a+2),i+=n(o),i+="\n",d.forEach(e=>{e.state===t.SEM_PRE?(a+=1,i+=p(a),i+=`<node name="${e.name}" index="${e.phraseIndex}" length="${e.phraseLength}">\n`,i+=p(a+2),i+=n(o,e.phraseIndex,e.phraseLength),i+="\n"):(i+=p(a),i+=`</node>\x3c!-- name="${e.name}" --\x3e\n`,a-=1)}),i+="</root>\n",i},this.phrases=function(){let e,r,n={};for(e=0;e<d.length;e+=1)r=d[e],r.state===t.SEM_PRE&&(Array.isArray(n[r.name])||(n[r.name]=[]),n[r.name].push({index:r.phraseIndex,length:r.phraseLength}));return n}}},{"./identifiers":10,"./utilities":16}],8:[function(e,t,r){t.exports=function(){let e=-1,t=0;this.init=function(r){if("number"!=typeof r||r<=0)throw new Error("circular-buffer.js: init: circular buffer size must an integer > 0");t=Math.ceil(r),e=-1},this.increment=function(){return e+=1,(e+t)%t},this.maxSize=function(){return t},this.items=function(){return e+1},this.getListIndex=function(r){return-1===e||r<0||r>e||e-r>=t?-1:(r+t)%t},this.forEach=function(r){if(-1!==e)if(e<t)for(let t=0;t<=e;t+=1)r(t,t);else for(let n=e-t+1;n<=e;n+=1)r((n+t)%t,n)}}},{}],9:[function(e,t,r){t.exports=function(){return"/* This file automatically generated by jsonToless() and LESS. */\n.apg-mono {\n  font-family: monospace;\n}\n.apg-active {\n  font-weight: bold;\n  color: #000000;\n}\n.apg-match {\n  font-weight: bold;\n  color: #264BFF;\n}\n.apg-empty {\n  font-weight: bold;\n  color: #0fbd0f;\n}\n.apg-nomatch {\n  font-weight: bold;\n  color: #FF4000;\n}\n.apg-lh-match {\n  font-weight: bold;\n  color: #1A97BA;\n}\n.apg-lb-match {\n  font-weight: bold;\n  color: #5F1687;\n}\n.apg-remainder {\n  font-weight: bold;\n  color: #999999;\n}\n.apg-ctrl-char {\n  font-weight: bolder;\n  font-style: italic;\n  font-size: 0.6em;\n}\n.apg-line-end {\n  font-weight: bold;\n  color: #000000;\n}\n.apg-error {\n  font-weight: bold;\n  color: #FF4000;\n}\n.apg-phrase {\n  color: #000000;\n  background-color: #8caae6;\n}\n.apg-empty-phrase {\n  color: #0fbd0f;\n}\ntable.apg-state {\n  font-family: monospace;\n  margin-top: 5px;\n  font-size: 11px;\n  line-height: 130%;\n  text-align: left;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-state th,\ntable.apg-state td {\n  text-align: left;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-state th:nth-last-child(2),\ntable.apg-state td:nth-last-child(2) {\n  text-align: right;\n}\ntable.apg-state caption {\n  font-size: 125%;\n  line-height: 130%;\n  font-weight: bold;\n  text-align: left;\n}\ntable.apg-stats {\n  font-family: monospace;\n  margin-top: 5px;\n  font-size: 11px;\n  line-height: 130%;\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-stats th,\ntable.apg-stats td {\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-stats caption {\n  font-size: 125%;\n  line-height: 130%;\n  font-weight: bold;\n  text-align: left;\n}\ntable.apg-trace {\n  font-family: monospace;\n  margin-top: 5px;\n  font-size: 11px;\n  line-height: 130%;\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-trace caption {\n  font-size: 125%;\n  line-height: 130%;\n  font-weight: bold;\n  text-align: left;\n}\ntable.apg-trace th,\ntable.apg-trace td {\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-trace th:last-child,\ntable.apg-trace th:nth-last-child(2),\ntable.apg-trace td:last-child,\ntable.apg-trace td:nth-last-child(2) {\n  text-align: left;\n}\ntable.apg-grammar {\n  font-family: monospace;\n  margin-top: 5px;\n  font-size: 11px;\n  line-height: 130%;\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-grammar caption {\n  font-size: 125%;\n  line-height: 130%;\n  font-weight: bold;\n  text-align: left;\n}\ntable.apg-grammar th,\ntable.apg-grammar td {\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-grammar th:last-child,\ntable.apg-grammar td:last-child {\n  text-align: left;\n}\ntable.apg-rules {\n  font-family: monospace;\n  margin-top: 5px;\n  font-size: 11px;\n  line-height: 130%;\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-rules caption {\n  font-size: 125%;\n  line-height: 130%;\n  font-weight: bold;\n  text-align: left;\n}\ntable.apg-rules th,\ntable.apg-rules td {\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-rules a {\n  color: #003399 !important;\n}\ntable.apg-rules a:hover {\n  color: #8caae6 !important;\n}\ntable.apg-attrs {\n  font-family: monospace;\n  margin-top: 5px;\n  font-size: 11px;\n  line-height: 130%;\n  text-align: center;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-attrs caption {\n  font-size: 125%;\n  line-height: 130%;\n  font-weight: bold;\n  text-align: left;\n}\ntable.apg-attrs th,\ntable.apg-attrs td {\n  text-align: center;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-attrs th:nth-child(1),\ntable.apg-attrs th:nth-child(2),\ntable.apg-attrs th:nth-child(3) {\n  text-align: right;\n}\ntable.apg-attrs td:nth-child(1),\ntable.apg-attrs td:nth-child(2),\ntable.apg-attrs td:nth-child(3) {\n  text-align: right;\n}\ntable.apg-attrs a {\n  color: #003399 !important;\n}\ntable.apg-attrs a:hover {\n  color: #8caae6 !important;\n}\n"}},{}],10:[function(e,t,r){t.exports={ALT:1,CAT:2,REP:3,RNM:4,TRG:5,TBS:6,TLS:7,UDT:11,AND:12,NOT:13,BKR:14,BKA:15,BKN:16,ABG:17,AEN:18,ACTIVE:100,MATCH:101,EMPTY:102,NOMATCH:103,SEM_PRE:200,SEM_POST:201,SEM_OK:300,SEM_SKIP:301,ATTR_N:400,ATTR_R:401,ATTR_MR:402,LOOKAROUND_NONE:500,LOOKAROUND_AHEAD:501,LOOKAROUND_BEHIND:502,BKR_MODE_UM:601,BKR_MODE_PM:602,BKR_MODE_CS:603,BKR_MODE_CI:604}},{}],11:[function(e,t,r){t.exports={ast:e("./ast"),circular:e("./circular-buffer"),ids:e("./identifiers"),parser:e("./parser"),stats:e("./stats"),trace:e("./trace"),utils:e("./utilities"),emitcss:e("./emitcss"),style:e("./style")}},{"./ast":7,"./circular-buffer":8,"./emitcss":9,"./identifiers":10,"./parser":12,"./stats":13,"./style":14,"./trace":15,"./utilities":16}],12:[function(e,t,r){t.exports=function(){let t,r=e("./identifiers"),n=e("./utilities"),s=this;this.ast=null,this.stats=null,this.trace=null,this.callbacks=[];let i,o,a,l,c=null,u=null,d=0,p=0,h=0,m=null,g=null,f=null,y=null,w=null,b=0,x=1/0,A=1/0,E=function(e,n,s){let i="parser.js: evaluateRule(): ";if(e>=f.length)throw new Error(`${i}rule index: ${e} out of range`);if(n>=a)throw new Error(`${i}phrase index: ${n} out of range`);let{length:o}=c;c.push({type:r.RNM,index:e}),t(o,n,s),c.pop()},v=function(e,n,s){let i="parser.js: evaluateUdt(): ";if(e>=y.length)throw new Error(`${i}udt index: ${e} out of range`);if(n>=a)throw new Error(`${i}phrase index: ${n} out of range`);let{length:o}=c;c.push({type:r.UDT,empty:y[e].empty,index:e}),t(o,n,s),c.pop()},T=function(){d=0,p=0,h=0,b=0,l=[{lookAround:r.LOOKAROUND_NONE,anchor:0,charsEnd:0,charsLength:0}],f=null,y=null,u=null,i=0,o=0,a=0,m=null,g=null,w=null,c=null},I=function(){let e=[];this.push=function(){e.push(function(){let t=e[e.length-1],r={};for(let e in t)r[e]=t[e];return r}())},this.pop=function(t){let r=t;if(r||(r=e.length-1),r<1||r>e.length)throw new Error(`parser.js: backRef.pop(): bad length: ${r}`);return e.length=r,e[e.length-1]},this.length=function(){return e.length},this.savePhrase=function(t,r,n){e[e.length-1][t]={phraseIndex:r,phraseLength:n}},this.getPhrase=function(t){return e[e.length-1][t]},function(){let t={};f.forEach(e=>{e.isBkr&&(t[e.lower]=null)}),y.length>0&&y.forEach(e=>{e.isBkr&&(t[e.lower]=null)}),e.push(t)}()},S=function(){let e=this;this.state=r.ACTIVE,this.phraseLength=0,this.ruleIndex=0,this.udtIndex=0,this.lookAround=l[l.length-1],this.uFrame=new I,this.pFrame=new I,this.evaluateRule=E,this.evaluateUdt=v,this.refresh=function(){e.state=r.ACTIVE,e.phraseLength=0,e.lookAround=l[l.length-1]}},_=function(){return l[l.length-1]},k=function(){return l.length>1},R=function(e,t,r){let s="parser.js: initializeInputChars(): ",l=e,c=t,d=r;if(void 0===l)throw new Error(`${s}input string is undefined`);if(null===l)throw new Error(`${s}input string is null`);if("string"==typeof l)l=n.stringToChars(l);else if(!Array.isArray(l))throw new Error(`${s}input string is not a string or array`);if(l.length>0&&"number"!=typeof l[0])throw new Error(`${s}input string not an array of integers`);if("number"!=typeof c)c=0;else if(c=Math.floor(c),c<0||c>l.length)throw new Error(`${s}input beginning index out of range: ${c}`);if("number"!=typeof d)d=l.length-c;else if(d=Math.floor(d),d<0||d>l.length-c)throw new Error(`${s}input length out of range: ${d}`);u=l,i=c,o=d,a=i+o};this.setMaxTreeDepth=function(e){if("number"!=typeof e)throw new Error(`parser: max tree depth must be integer > 0: ${e}`);if(x=Math.floor(e),x<=0)throw new Error(`parser: max tree depth must be integer > 0: ${e}`)},this.setMaxNodeHits=function(e){if("number"!=typeof e)throw new Error(`parser: max node hits must be integer > 0: ${e}`);if(A=Math.floor(e),A<=0)throw new Error(`parser: max node hits must be integer > 0: ${e}`)};let B=function(e,n,l){let d;!function(e){let t="parser.js: initializeGrammar(): ";if(!e)throw new Error(`${t}grammar object undefined`);if("grammarObject"!==e.grammarObject)throw new Error(`${t}bad grammar object`);f=e.rules,y=e.udts}(e);let x=function(e){let t="parser.js: initializeStartRule(): ",r=null;if("number"==typeof e){if(e>=f.length)throw new Error(`${t}start rule index too large: max: ${f.length}: index: ${e}`);r=e}else{if("string"!=typeof e)throw new Error(`${t}type of start rule '${typeof e}' not recognized`);{let n=e.toLowerCase();for(let e=0;e<f.length;e+=1)if(n===f[e].lower){r=f[e].index;break}if(null===r)throw new Error(`${t}start rule name '${e}' not recognized`)}}return r}(n);(function(){let e,t,r="parser.js: initializeCallbacks(): ";for(m=[],g=[],e=0;e<f.length;e+=1)m[e]=null;for(e=0;e<y.length;e+=1)g[e]=null;let n=[];for(e=0;e<f.length;e+=1)n.push(f[e].lower);for(e=0;e<y.length;e+=1)n.push(y[e].lower);for(let i in s.callbacks){if(e=n.indexOf(i.toLowerCase()),e<0)throw new Error(`${r}syntax callback '${i}' not a rule or udt name`);if(t=s.callbacks[i],t||(t=null),"function"!=typeof t&&null!==t)throw new Error(`${r}syntax callback[${i}] must be function reference or 'false' (false/null/undefined/etc.)`);e<f.length?m[e]=t:g[e-f.length]=t}for(e=0;e<y.length;e+=1)if(null===g[e])throw new Error(`${r}all UDT callbacks must be defined. UDT callback[${y[e].lower}] not a function reference`)})(),function(){for(;;){if(void 0===s.trace){s.trace=null;break}if(null===s.trace)break;if("traceObject"!==s.trace.traceObject)throw new Error("parser.js: initializeTrace(): trace object not recognized");break}null!==s.trace&&s.trace.init(f,y,u)}(),function(){for(;;){if(void 0===s.stats){s.stats=null;break}if(null===s.stats)break;if("statsObject"!==s.stats.statsObject)throw new Error("parser.js: initializeStats(): stats object not recognized");break}null!==s.stats&&s.stats.init(f,y)}(),function(){for(;;){if(void 0===s.ast){s.ast=null;break}if(null===s.ast)break;if("astObject"!==s.ast.astObject)throw new Error("parser.js: initializeAst(): ast object not recognized");break}null!==s.ast&&s.ast.init(f,y,u)}();let A=new S;switch(null!=l&&(w=l),c=[{type:r.RNM,index:x}],t(0,i,A),c=null,A.state){case r.ACTIVE:throw new Error("parser.js: parse(): final state should never be 'ACTIVE'");case r.NOMATCH:d=!1;break;case r.EMPTY:case r.MATCH:d=A.phraseLength===o;break;default:throw new Error("unrecognized state")}return{success:d,state:A.state,length:o,matched:A.phraseLength,maxMatched:b,maxTreeDepth:p,nodeHits:h,inputLength:u.length,subBegin:i,subEnd:a,subLength:o}};this.parseSubstring=function(e,t,r,n,s,i){return T(),R(r,n,s),B(e,t,i)},this.parse=function(e,t,r,n){return T(),R(r,0,r.length),B(e,t,n)};let C=function(e,n,s){let i=c[e];for(let e=0;e<i.children.length&&(t(i.children[e],n,s),s.state===r.NOMATCH);e+=1);},L=function(e,t,n,s){if(t.phraseLength>n){let r=`parser.js: opRNM(${e.name}): callback function error: `;throw r+=`sysData.phraseLength: ${t.phraseLength}`,r+=` must be <= remaining chars: ${n}`,new Error(r)}switch(t.state){case r.ACTIVE:if(!0!==s)throw new Error(`parser.js: opRNM(${e.name}): callback function return error. ACTIVE state not allowed.`);break;case r.EMPTY:t.phraseLength=0;break;case r.MATCH:0===t.phraseLength&&(t.state=r.EMPTY);break;case r.NOMATCH:t.phraseLength=0;break;default:throw new Error(`parser.js: opRNM(${e.name}): callback function return error. Unrecognized return state: ${t.state}`)}},U=function(e,n,i){let o,l,d,p,h,g,y=c[e],b=f[y.index],x=m[b.index],A=!k();if(A&&(l=s.ast&&s.ast.ruleDefined(y.index),l&&(o=s.ast.getLength(),s.ast.down(y.index,f[y.index].name)),p=i.uFrame.length(),h=i.pFrame.length(),i.uFrame.push(),i.pFrame.push(),g=i.pFrame,i.pFrame=new I),null===x)d=c,c=b.opcodes,t(0,n,i),c=d;else{let e=a-n;i.ruleIndex=b.index,x(i,u,n,w),L(b,i,e,!0),i.state===r.ACTIVE&&(d=c,c=b.opcodes,t(0,n,i),c=d,i.ruleIndex=b.index,x(i,u,n,w),L(b,i,e,!1))}A&&(l&&(i.state===r.NOMATCH?s.ast.setLength(o):s.ast.up(y.index,b.name,n,i.phraseLength)),i.pFrame=g,i.state===r.NOMATCH?(i.uFrame.pop(p),i.pFrame.pop(h)):b.isBkr&&(i.pFrame.savePhrase(b.lower,n,i.phraseLength),i.uFrame.savePhrase(b.lower,n,i.phraseLength)))},D=function(e,t,n){let i,o,l,d,p,h,m=c[e],b=y[m.index];n.UdtIndex=b.index;let x=!k();x&&(l=s.ast&&s.ast.udtDefined(m.index),l&&(o=f.length+m.index,i=s.ast.getLength(),s.ast.down(o,b.name)),d=n.uFrame.length(),p=n.pFrame.length(),n.uFrame.push(),n.pFrame.push(),h=n.pFrame,n.pFrame=new I);let A=a-t;g[m.index](n,u,t,w),function(e,t,n){if(t.phraseLength>n){let r=`parser.js: opUDT(${e.name}): callback function error: `;throw r+=`sysData.phraseLength: ${t.phraseLength}`,r+=` must be <= remaining chars: ${n}`,new Error(r)}switch(t.state){case r.ACTIVE:throw new Error(`parser.js: opUDT(${e.name}): callback function return error. ACTIVE state not allowed.`);case r.EMPTY:if(!1===e.empty)throw new Error(`parser.js: opUDT(${e.name}): callback function return error. May not return EMPTY.`);t.phraseLength=0;break;case r.MATCH:if(0===t.phraseLength){if(!1===e.empty)throw new Error(`parser.js: opUDT(${e.name}): callback function return error. May not return EMPTY.`);t.state=r.EMPTY}break;case r.NOMATCH:t.phraseLength=0;break;default:throw new Error(`parser.js: opUDT(${e.name}): callback function return error. Unrecognized return state: ${t.state}`)}}(b,n,A),x&&(l&&(n.state===r.NOMATCH?s.ast.setLength(i):s.ast.up(o,b.name,t,n.phraseLength)),n.pFrame=h,n.state===r.NOMATCH?(n.uFrame.pop(d),n.pFrame.pop(p)):b.isBkr&&(n.pFrame.savePhrase(b.lower,t,n.phraseLength),n.uFrame.savePhrase(b.lower,t,n.phraseLength)))},N=function(e,n,s){l.push({lookAround:r.LOOKAROUND_AHEAD,anchor:n,charsEnd:a,charsLength:o}),a=u.length,o=u.length-i,t(e+1,n,s);let c=l.pop();switch(a=c.charsEnd,o=c.charsLength,s.phraseLength=0,s.state){case r.EMPTY:case r.MATCH:s.state=r.EMPTY;break;case r.NOMATCH:s.state=r.NOMATCH;break;default:throw new Error(`opAND: invalid state ${s.state}`)}},P=function(e,n,s){l.push({lookAround:r.LOOKAROUND_AHEAD,anchor:n,charsEnd:a,charsLength:o}),a=u.length,o=u.length-i,t(e+1,n,s);let c=l.pop();switch(a=c.charsEnd,o=c.charsLength,s.phraseLength=0,s.state){case r.EMPTY:case r.MATCH:s.state=r.NOMATCH;break;case r.NOMATCH:s.state=r.EMPTY;break;default:throw new Error(`opNOT: invalid state ${s.state}`)}},F=function(e,t,n){n.state=r.NOMATCH,n.phraseLength=0,n.state=0===t?r.EMPTY:r.NOMATCH},M=function(e,t,n){n.state=r.NOMATCH,n.phraseLength=0,n.state=t===u.length?r.EMPTY:r.NOMATCH},q=function(e,n,s){switch(l.push({lookAround:r.LOOKAROUND_BEHIND,anchor:n}),t(e+1,n,s),l.pop(),s.phraseLength=0,s.state){case r.EMPTY:case r.MATCH:s.state=r.EMPTY;break;case r.NOMATCH:s.state=r.NOMATCH;break;default:throw new Error(`opBKA: invalid state ${s.state}`)}},O=function(e,n,s){switch(l.push({lookAround:r.LOOKAROUND_BEHIND,anchor:n}),t(e+1,n,s),l.pop(),s.phraseLength=0,s.state){case r.EMPTY:case r.MATCH:s.state=r.NOMATCH;break;case r.NOMATCH:s.state=r.EMPTY;break;default:throw new Error(`opBKN: invalid state ${s.state}`)}};t=function(e,n,i){let o=!0,m=c[e];if(h+=1,h>A)throw new Error(`parser: maximum number of node hits exceeded: ${A}`);if(d+=1,d>p&&(p=d,p>x))throw new Error(`parser: maximum parse tree depth exceeded: ${x}`);if(i.refresh(),null!==s.trace){let e=_();s.trace.down(m,i.state,n,i.phraseLength,e.anchor,e.lookAround)}if(l[l.length-1].lookAround===r.LOOKAROUND_BEHIND)switch(m.type){case r.ALT:C(e,n,i);break;case r.CAT:!function(e,n,i){let o,a,l,u,d=c[e],p=i.uFrame.length(),h=i.pFrame.length();s.ast&&(a=s.ast.getLength()),o=!0,l=n,u=0;for(let e=d.children.length-1;e>=0;e-=1)if(t(d.children[e],l,i),l-=i.phraseLength,u+=i.phraseLength,i.state===r.NOMATCH){o=!1;break}o?(i.state=0===u?r.EMPTY:r.MATCH,i.phraseLength=u):(i.state=r.NOMATCH,i.phraseLength=0,i.uFrame.pop(p),i.pFrame.pop(h),s.ast&&s.ast.setLength(a))}(e,n,i);break;case r.REP:!function(e,n,i){let o,a,l,u,d=c[e];a=n,l=0,u=0;let p=i.uFrame.length(),h=i.pFrame.length();for(s.ast&&(o=s.ast.getLength());!(a<=0)&&(t(e+1,a,i),i.state!==r.NOMATCH)&&i.state!==r.EMPTY&&(u+=1,l+=i.phraseLength,a-=i.phraseLength,u!==d.max););i.state===r.EMPTY||u>=d.min?(i.state=0===l?r.EMPTY:r.MATCH,i.phraseLength=l):(i.state=r.NOMATCH,i.phraseLength=0,i.uFrame.pop(p),i.pFrame.pop(h),s.ast&&s.ast.setLength(o))}(e,n,i);break;case r.RNM:U(e,n,i);break;case r.UDT:D(e,n,i);break;case r.AND:N(e,n,i);break;case r.NOT:P(e,n,i);break;case r.TRG:!function(e,t,n){let s=c[e];if(n.state=r.NOMATCH,n.phraseLength=0,t>0){let e=u[t-1];s.min<=e&&e<=s.max&&(n.state=r.MATCH,n.phraseLength=1)}}(e,n,i);break;case r.TBS:!function(e,t,n){let s,i=c[e];n.state=r.NOMATCH;let o=i.string.length,a=t-o;if(a>=0){for(s=0;s<o;s+=1)if(u[a+s]!==i.string[s])return;n.state=r.MATCH,n.phraseLength=o}}(e,n,i);break;case r.TLS:!function(e,t,n){let s,i=c[e];n.state=r.NOMATCH;let o=i.string.length;if(0===o)return void(n.state=r.EMPTY);let a=t-o;if(a>=0){for(let e=0;e<o;e+=1)if(s=u[a+e],s>=65&&s<=90&&(s+=32),s!==i.string[e])return;n.state=r.MATCH,n.phraseLength=o}}(e,n,i);break;case r.BKR:!function(e,t,n){let s,i,o,a,l=c[e];n.state=r.NOMATCH,n.phraseLength=0,a=l.index<f.length?f[l.index].lower:y[l.index-f.length].lower;let d=l.bkrMode===r.BKR_MODE_PM?n.pFrame.getPhrase(a):n.uFrame.getPhrase(a),p=l.bkrCase===r.BKR_MODE_CI;if(null===d)return;let h=d.phraseIndex,m=d.phraseLength;if(0===m)return n.state=r.EMPTY,void(n.phraseLength=0);let g=t-m;if(g>=0){if(p){for(s=0;s<m;s+=1)if(i=u[g+s],o=u[h+s],i>=65&&i<=90&&(i+=32),o>=65&&o<=90&&(o+=32),i!==o)return;n.state=r.MATCH,n.phraseLength=m}else for(s=0;s<m;s+=1)if(i=u[g+s],o=u[h+s],i!==o)return;n.state=r.MATCH,n.phraseLength=m}}(e,n,i);break;case r.BKA:q(e,n,i);break;case r.BKN:O(e,n,i);break;case r.ABG:F(0,n,i);break;case r.AEN:M(0,n,i);break;default:o=!1}else switch(m.type){case r.ALT:C(e,n,i);break;case r.CAT:!function(e,n,i){let o,a,l,u,d=c[e],p=i.uFrame.length(),h=i.pFrame.length();s.ast&&(a=s.ast.getLength()),o=!0,l=n,u=0;for(let e=0;e<d.children.length;e+=1){if(t(d.children[e],l,i),i.state===r.NOMATCH){o=!1;break}l+=i.phraseLength,u+=i.phraseLength}o?(i.state=0===u?r.EMPTY:r.MATCH,i.phraseLength=u):(i.state=r.NOMATCH,i.phraseLength=0,i.uFrame.pop(p),i.pFrame.pop(h),s.ast&&s.ast.setLength(a))}(e,n,i);break;case r.REP:!function(e,n,i){let o,l,u,d,p=c[e];l=n,u=0,d=0;let h=i.uFrame.length(),m=i.pFrame.length();for(s.ast&&(o=s.ast.getLength());!(l>=a)&&(t(e+1,l,i),i.state!==r.NOMATCH)&&i.state!==r.EMPTY&&(d+=1,u+=i.phraseLength,l+=i.phraseLength,d!==p.max););i.state===r.EMPTY||d>=p.min?(i.state=0===u?r.EMPTY:r.MATCH,i.phraseLength=u):(i.state=r.NOMATCH,i.phraseLength=0,i.uFrame.pop(h),i.pFrame.pop(m),s.ast&&s.ast.setLength(o))}(e,n,i);break;case r.RNM:U(e,n,i);break;case r.UDT:D(e,n,i);break;case r.AND:N(e,n,i);break;case r.NOT:P(e,n,i);break;case r.TRG:!function(e,t,n){let s=c[e];n.state=r.NOMATCH,t<a&&s.min<=u[t]&&u[t]<=s.max&&(n.state=r.MATCH,n.phraseLength=1)}(e,n,i);break;case r.TBS:!function(e,t,n){let s,i=c[e],o=i.string.length;if(n.state=r.NOMATCH,t+o<=a){for(s=0;s<o;s+=1)if(u[t+s]!==i.string[s])return;n.state=r.MATCH,n.phraseLength=o}}(e,n,i);break;case r.TLS:!function(e,t,n){let s,i,o=c[e];n.state=r.NOMATCH;let l=o.string.length;if(0!==l){if(t+l<=a){for(s=0;s<l;s+=1)if(i=u[t+s],i>=65&&i<=90&&(i+=32),i!==o.string[s])return;n.state=r.MATCH,n.phraseLength=l}}else n.state=r.EMPTY}(e,n,i);break;case r.BKR:!function(e,t,n){let s,i,o,l,d=c[e];n.state=r.NOMATCH,l=d.index<f.length?f[d.index].lower:y[d.index-f.length].lower;let p=d.bkrMode===r.BKR_MODE_PM?n.pFrame.getPhrase(l):n.uFrame.getPhrase(l),h=d.bkrCase===r.BKR_MODE_CI;if(null===p)return;let m=p.phraseIndex,g=p.phraseLength;if(0!==g){if(t+g<=a){if(h){for(s=0;s<g;s+=1)if(i=u[t+s],o=u[m+s],i>=65&&i<=90&&(i+=32),o>=65&&o<=90&&(o+=32),i!==o)return;n.state=r.MATCH,n.phraseLength=g}else for(s=0;s<g;s+=1)if(i=u[t+s],o=u[m+s],i!==o)return;n.state=r.MATCH,n.phraseLength=g}}else n.state=r.EMPTY}(e,n,i);break;case r.BKA:q(e,n,i);break;case r.BKN:O(e,n,i);break;case r.ABG:F(0,n,i);break;case r.AEN:M(0,n,i);break;default:o=!1}if(!k()&&n+i.phraseLength>b&&(b=n+i.phraseLength),null!==s.stats&&s.stats.collect(m,i),null!==s.trace){let e=_();s.trace.up(m,i.state,n,i.phraseLength,e.anchor,e.lookAround)}return d-=1,o}}},{"./identifiers":10,"./utilities":16}],13:[function(e,t,r){t.exports=function(){let t,r=e("./identifiers"),n=e("./utilities"),s=e("./style"),i=[],o=[],a=[],l=[],c=[];this.statsObject="statsObject";let u=function(e,t){return e.lower<t.lower?-1:e.lower>t.lower?1:0},d=function(e,t){return e.total<t.total?1:e.total>t.total?-1:u(e,t)},p=function(e,t){return e.index<t.index?-1:e.index>t.index?1:0},h=function(){this.empty=0,this.match=0,this.nomatch=0,this.total=0},m=function(e,t){switch(e.total+=1,t){case r.EMPTY:e.empty+=1;break;case r.MATCH:e.match+=1;break;case r.NOMATCH:e.nomatch+=1;break;default:throw new Error(`stats.js: collect(): incStat(): unrecognized state: ${t}`)}},g=function(e,t){let r="";return r+="<tr>",r+=`<td class="${s.CLASS_ACTIVE}">${e}</td>`,r+=`<td class="${s.CLASS_EMPTY}">${t.empty}</td>`,r+=`<td class="${s.CLASS_MATCH}">${t.match}</td>`,r+=`<td class="${s.CLASS_NOMATCH}">${t.nomatch}</td>`,r+=`<td class="${s.CLASS_ACTIVE}">${t.total}</td>`,r+="</tr>\n",r},f=function(){let e="";return e+=g("ALT",a[r.ALT]),e+=g("CAT",a[r.CAT]),e+=g("REP",a[r.REP]),e+=g("RNM",a[r.RNM]),e+=g("TRG",a[r.TRG]),e+=g("TBS",a[r.TBS]),e+=g("TLS",a[r.TLS]),e+=g("UDT",a[r.UDT]),e+=g("AND",a[r.AND]),e+=g("NOT",a[r.NOT]),e+=g("BKR",a[r.BKR]),e+=g("BKA",a[r.BKA]),e+=g("BKN",a[r.BKN]),e+=g("ABG",a[r.ABG]),e+=g("AEN",a[r.AEN]),e+=g("totals",t),e},y=function(){let e="";e+="<tr><th></th><th></th><th></th><th></th><th></th></tr>\n",e+="<tr><th>rules</th><th></th><th></th><th></th><th></th></tr>\n";for(let t=0;t<i.length;t+=1)l[t].total>0&&(e+="<tr>",e+=`<td class="${s.CLASS_ACTIVE}">${l[t].name}</td>`,e+=`<td class="${s.CLASS_EMPTY}">${l[t].empty}</td>`,e+=`<td class="${s.CLASS_MATCH}">${l[t].match}</td>`,e+=`<td class="${s.CLASS_NOMATCH}">${l[t].nomatch}</td>`,e+=`<td class="${s.CLASS_ACTIVE}">${l[t].total}</td>`,e+="</tr>\n");if(o.length>0){e+="<tr><th></th><th></th><th></th><th></th><th></th></tr>\n",e+="<tr><th>udts</th><th></th><th></th><th></th><th></th></tr>\n";for(let t=0;t<o.length;t+=1)c[t].total>0&&(e+="<tr>",e+=`<td class="${s.CLASS_ACTIVE}">${c[t].name}</td>`,e+=`<td class="${s.CLASS_EMPTY}">${c[t].empty}</td>`,e+=`<td class="${s.CLASS_MATCH}">${c[t].match}</td>`,e+=`<td class="${s.CLASS_NOMATCH}">${c[t].nomatch}</td>`,e+=`<td class="${s.CLASS_ACTIVE}">${c[t].total}</td>`,e+="</tr>\n")}return e};this.validate=function(e){let t=!1;return"string"==typeof e&&"stats"===e&&(t=!0),t},this.init=function(e,n){i=e,o=n,function(){a.length=0,t=new h,a[r.ALT]=new h,a[r.CAT]=new h,a[r.REP]=new h,a[r.RNM]=new h,a[r.TRG]=new h,a[r.TBS]=new h,a[r.TLS]=new h,a[r.UDT]=new h,a[r.AND]=new h,a[r.NOT]=new h,a[r.BKR]=new h,a[r.BKA]=new h,a[r.BKN]=new h,a[r.ABG]=new h,a[r.AEN]=new h,l.length=0;for(let e=0;e<i.length;e+=1)l.push({empty:0,match:0,nomatch:0,total:0,name:i[e].name,lower:i[e].lower,index:i[e].index});if(o.length>0){c.length=0;for(let e=0;e<o.length;e+=1)c.push({empty:0,match:0,nomatch:0,total:0,name:o[e].name,lower:o[e].lower,index:o[e].index})}}()},this.collect=function(e,n){m(t,n.state,n.phraseLength),m(a[e.type],n.state,n.phraseLength),e.type===r.RNM&&m(l[e.index],n.state,n.phraseLength),e.type===r.UDT&&m(c[e.index],n.state,n.phraseLength)},this.toHtml=function(e,t){let r="";for(r+=`<table class="${s.CLASS_STATS}">\n`,"string"==typeof t&&(r+=`<caption>${t}</caption>\n`),r+=`<tr><th class="${s.CLASS_ACTIVE}">ops</th>\n`,r+=`<th class="${s.CLASS_EMPTY}">EMPTY</th>\n`,r+=`<th class="${s.CLASS_MATCH}">MATCH</th>\n`,r+=`<th class="${s.CLASS_NOMATCH}">NOMATCH</th>\n`,r+=`<th class="${s.CLASS_ACTIVE}">totals</th></tr>\n`;;){if(void 0===e){r+=f();break}if(null===e){r+=f();break}if("ops"===e){r+=f();break}if("index"===e){l.sort(p),c.length>0&&c.sort(p),r+=f(),r+=y();break}if("hits"===e){l.sort(d),c.length>0&&c.sort(p),r+=f(),r+=y();break}if("alpha"===e){l.sort(u),c.length>0&&c.sort(u),r+=f(),r+=y();break}break}return r+="</table>\n",r},this.toHtmlPage=function(e,t,r){return n.htmlToPage(this.toHtml(e,t),r)}}},{"./identifiers":10,"./style":14,"./utilities":16}],14:[function(e,t,r){t.exports={CLASS_MONOSPACE:"apg-mono",CLASS_ACTIVE:"apg-active",CLASS_EMPTY:"apg-empty",CLASS_MATCH:"apg-match",CLASS_NOMATCH:"apg-nomatch",CLASS_LOOKAHEAD:"apg-lh-match",CLASS_LOOKBEHIND:"apg-lb-match",CLASS_REMAINDER:"apg-remainder",CLASS_CTRLCHAR:"apg-ctrl-char",CLASS_LINEEND:"apg-line-end",CLASS_ERROR:"apg-error",CLASS_PHRASE:"apg-phrase",CLASS_EMPTYPHRASE:"apg-empty-phrase",CLASS_STATE:"apg-state",CLASS_STATS:"apg-stats",CLASS_TRACE:"apg-trace",CLASS_GRAMMAR:"apg-grammar",CLASS_RULES:"apg-rules",CLASS_RULESLINK:"apg-rules-link",CLASS_ATTRIBUTES:"apg-attrs"}},{}],15:[function(e,t,r){t.exports=function(){let t=e("./utilities"),r=e("./style"),n=new(e("./circular-buffer")),s=e("./identifiers"),i=this,o=16,a=80,l=[],c=5e3,u=-1,d=0,p=0,h=[],m=null,g=null,f=null,y=[],w=[],b=`<span class="${r.CLASS_LINEEND}">&bull;</span>`,x=`<span class="${r.CLASS_LINEEND}">&hellip;</span>`,A=`<span class="${r.CLASS_EMPTY}">&#120634;</span>`;this.traceObject="traceObject",this.filter={operators:[],rules:[]},this.setMaxRecords=function(e,t){u=-1,"number"==typeof e&&e>0?(c=Math.ceil(e),"number"==typeof t&&(u=Math.floor(t),u<0&&(u=-1))):c=0},this.getMaxRecords=function(){return c},this.getLastRecord=function(){return u},this.init=function(e,t,r){l.length=0,h.length=0,d=0,p=0,m=r,g=e,f=t,function(){let e=function(e){y[s.ALT]=e,y[s.CAT]=e,y[s.REP]=e,y[s.TLS]=e,y[s.TBS]=e,y[s.TRG]=e,y[s.AND]=e,y[s.NOT]=e,y[s.BKR]=e,y[s.BKA]=e,y[s.BKN]=e,y[s.ABG]=e,y[s.AEN]=e},t=0;for(let e in i.filter.operators)t+=1;if(0!==t){for(let t in i.filter.operators){let r=t.toUpperCase();if("<ALL>"===r)return void e(!0);if("<NONE>"===r)return void e(!1)}e(!1);for(let e in i.filter.operators){let t=e.toUpperCase();if("ALT"===t)y[s.ALT]=!0===i.filter.operators[e];else if("CAT"===t)y[s.CAT]=!0===i.filter.operators[e];else if("REP"===t)y[s.REP]=!0===i.filter.operators[e];else if("AND"===t)y[s.AND]=!0===i.filter.operators[e];else if("NOT"===t)y[s.NOT]=!0===i.filter.operators[e];else if("TLS"===t)y[s.TLS]=!0===i.filter.operators[e];else if("TBS"===t)y[s.TBS]=!0===i.filter.operators[e];else if("TRG"===t)y[s.TRG]=!0===i.filter.operators[e];else if("BKR"===t)y[s.BKR]=!0===i.filter.operators[e];else if("BKA"===t)y[s.BKA]=!0===i.filter.operators[e];else if("BKN"===t)y[s.BKN]=!0===i.filter.operators[e];else if("ABG"===t)y[s.ABG]=!0===i.filter.operators[e];else{if("AEN"!==t)throw new Error(`trace.js: initOpratorFilter: '${e}' not a valid operator name. Must be <all>, <none>, alt, cat, rep, tls, tbs, trg, and, not, bkr, bka or bkn`);y[s.AEN]=!0===i.filter.operators[e]}}}else e(!1)}(),function(){let e,t,r=function(e){y[s.RNM]=e,y[s.UDT]=e;let t=g.length+f.length;w.length=0;for(let r=0;r<t;r+=1)w.push(e)},n=[];for(t=0;t<g.length;t+=1)n.push(g[t].lower);for(t=0;t<f.length;t+=1)n.push(f[t].lower);w.length=0,e=0;for(let t in i.filter.rules)e+=1;if(0!==e){for(let e in i.filter.rules){let t=e.toLowerCase();if("<all>"===t)return void r(!0);if("<none>"===t)return void r(!1)}r(!1),y[s.RNM]=!0,y[s.UDT]=!0;for(let e in i.filter.rules){let r=e.toLowerCase();if(t=n.indexOf(r),t<0)throw new Error(`trace.js: initRuleFilter: '${e}' not a valid rule or udt name`);w[t]=!0===i.filter.rules[e]}}else r(!0)}(),n.init(c)};let E=function(e){let t=!1;return t=e.type===s.RNM?!(!y[e.type]||!w[e.index]):e.type===s.UDT?!(!y[e.type]||!w[g.length+e.index]):y[e.type],t},v=function(e){return-1===u||e<=u};this.down=function(e,t,r,s,i,o){v(d)&&E(e)&&(h.push(d),l[n.increment()]={dirUp:!1,depth:p,thisLine:d,thatLine:void 0,opcode:e,state:t,phraseIndex:r,phraseLength:s,lookAnchor:i,lookAround:o},d+=1,p+=1)},this.up=function(e,t,r,s,i,o){if(v(d)&&E(e)){let a=d,c=h.pop(),u=n.getListIndex(c);-1!==u&&(l[u].thatLine=a),p-=1,l[n.increment()]={dirUp:!0,depth:p,thisLine:a,thatLine:c,opcode:e,state:t,phraseIndex:r,phraseLength:s,lookAnchor:i,lookAround:o},d+=1}},this.toTree=function(e){let r=function(){function e(e,r){let n,i,o;if(r)switch(e.op={id:r.type,name:t.opcodeToString(r.type)},e.opData=void 0,r.type){case s.RNM:e.opData=g[r.index].name;break;case s.UDT:e.opData=f[r.index].name;break;case s.BKR:n=r.index<g.length?g[r.index].name:f[r.index-g.length].name,i=r.bkrCase===s.BKR_MODE_CI?"%i":"%s",o=r.bkrMode===s.BKR_MODE_UM?"%u":"%p",e.opData=`\\\\${i}${o}${n}`;break;case s.TLS:e.opData=[];for(let t=0;t<r.string.length;t+=1)e.opData.push(r.string[t]);break;case s.TBS:e.opData=[];for(let t=0;t<r.string.length;t+=1)e.opData.push(r.string[t]);break;case s.TRG:case s.REP:e.opData=[r.min,r.max];break;default:throw new Error("unrecognized opcode")}else e.op={id:void 0,name:void 0},e.opData=void 0}function r(e,t,r){return e===s.MATCH?{index:t,length:r}:e===s.NOMATCH||e===s.EMPTY?{index:t,length:0}:null}let i=-1;function o(n,s,o){let a={id:i++,branch:-1,parent:n,up:!1,down:!1,depth:o,children:[]};return s?(a.down=!0,a.state={id:s.state,name:t.stateToString(s.state)},a.phrase=null,e(a,s.opcode)):(a.state={id:void 0,name:void 0},a.phrase=r(),e(a,void 0)),a}function a(n,s){s&&(n.up=!0,n.state={id:s.state,name:t.stateToString(s.state)},n.phrase=r(s.state,s.phraseIndex,s.phraseLength),n.down||e(n,s.opcode))}let c,u,d,h,y=0,w=-1,b=1,x=[],A=!0,E=o(null,null,-1);for(x.push(E),u=E,n.forEach(e=>{if(h=l[e],A&&(A=!1,h.depth>0)){let e=h.dirUp?h.depth+1:h.depth;for(let t=0;t<e;t+=1)d=u,u=o(u,null,t),x.push(u),d.children.push(u)}h.dirUp?(u=x.pop(),a(u,h),u=x[x.length-1]):(d=u,u=o(u,h,h.depth),x.push(u),d.children.push(u))});x.length>1;)u=x.pop(),a(u,null);if(0===E.children.length)throw new Error("trace.toTree(): parse tree has no nodes");if(0===x.length)throw new Error("trace.toTree(): integrity check: dummy root node disappeared?");c=E.children[0];let v=c;for(;c&&!c.down&&!c.up;)v=c,c=c.children[0];c=v,c.leftMost=!0,c.rightMost=!0,function e(t){if(w+=1,t.branch=b,w>p&&(p=w),0===t.children.length)y+=1;else for(let r=0;r<t.children.length;r+=1)r>0&&(b+=1),t.children[r].leftMost=!1,t.children[r].rightMost=!1,t.leftMost&&(t.children[r].leftMost=0===r),t.rightMost&&(t.children[r].rightMost=r===t.children.length-1),e(t.children[r]);w-=1}(c),c.branch=0;let T,I={string:[]};for(let e=0;e<m.length;e+=1)I.string[e]=m[e];I.rules=[];for(let e=0;e<g.length;e+=1)I.rules[e]=g[e].name;I.udts=[];for(let e=0;e<f.length;e+=1)I.udts[e]=f[e].name;return I.id={},I.id.ALT={id:s.ALT,name:"ALT"},I.id.CAT={id:s.CAT,name:"CAT"},I.id.REP={id:s.REP,name:"REP"},I.id.RNM={id:s.RNM,name:"RNM"},I.id.TLS={id:s.TLS,name:"TLS"},I.id.TBS={id:s.TBS,name:"TBS"},I.id.TRG={id:s.TRG,name:"TRG"},I.id.UDT={id:s.UDT,name:"UDT"},I.id.AND={id:s.AND,name:"AND"},I.id.NOT={id:s.NOT,name:"NOT"},I.id.BKR={id:s.BKR,name:"BKR"},I.id.BKA={id:s.BKA,name:"BKA"},I.id.BKN={id:s.BKN,name:"BKN"},I.id.ABG={id:s.ABG,name:"ABG"},I.id.AEN={id:s.AEN,name:"AEN"},I.id.ACTIVE={id:s.ACTIVE,name:"ACTIVE"},I.id.MATCH={id:s.MATCH,name:"MATCH"},I.id.EMPTY={id:s.EMPTY,name:"EMPTY"},I.id.NOMATCH={id:s.NOMATCH,name:"NOMATCH"},I.treeDepth=p,I.leafNodes=y,T=c.down?c.up?"none":"right":c.up?"left":"both",I.branchesIncomplete=T,I.tree=function e(t,r){let n,s={};if(s.id=t.id,s.branch=t.branch,s.leftMost=t.leftMost,s.rightMost=t.rightMost,n=t.state.name?t.state.name:"ACTIVE",s.state={id:t.state.id,name:n},n=t.op.name?t.op.name:"?",s.op={id:t.op.id,name:n},"string"==typeof t.opData)s.opData=t.opData;else if(Array.isArray(t.opData)){s.opData=[];for(let e=0;e<t.opData.length;e+=1)s.opData[e]=t.opData[e]}else s.opData=void 0;t.phrase?s.phrase={index:t.phrase.index,length:t.phrase.length}:s.phrase=null,s.depth=t.depth,s.children=[];for(let n=0;n<t.children.length;n+=1)t.children.length,s.children[n]=e(t.children[n],r);return s}(c,c.depth),I}();return e?JSON.stringify(r):r},this.toHtmlPage=function(e,r,n){return t.htmlToPage(this.toHtml(e,r),n)},this.indent=function(e){let t="";for(let r=0;r<e;r+=1)t+=".";return t};let T=function(e,r,n,s,i){if(0===s)return"";let a="",l=i?",":"";switch(e){case o:a=l+t.charsToHex(r,n,s);break;case 10:if(i)return`,${t.charsToDec(r,n,s)}`;a=l+t.charsToDec(r,n,s);break;case 32:a=t.charsToUnicode(r,n,s);break;default:a=t.charsToAsciiHtml(r,n,s)}return a},I=function(e,t,n,i,o,l){let c,u,d,p,h="",m=b,g=`<span class="${r.CLASS_REMAINDER}">`,f="</span>",y=!1;switch(n){case s.EMPTY:h+=A;case s.NOMATCH:case s.ACTIVE:c=i,u=0,d=i,p=t.length-d;break;case s.MATCH:c=i,u=o,d=i+u,p=t.length-d;break;default:throw new Error("unrecognized state")}return m=b,u>a?(u=a,m=x,p=0):u+p>a&&(m=x,p=a-u),u>0&&(h+=l,h+=T(e,t,c,u,y),h+=f,y=!0),p>0&&(h+=g,h+=T(e,t,d,p,y),h+=f),h+m};this.toHtml=function(e,c){let u=8;if("string"==typeof e&&e.length>=3){let t=e.toLowerCase().slice(0,3);"hex"===t?u=o:"dec"===t?u=10:"uni"===t&&(u=32)}let d="";return d+=function(e,t){let n;switch(e){case o:n="hexadecimal";break;case 10:n="decimal";break;case 8:n="ASCII";break;case 32:n="UNICODE";break;default:throw new Error(`trace.js: htmlHeader: unrecognized mode: ${e}`)}let s="";return s+=`<p>display mode: ${n}</p>\n`,s+=`<table class="${r.CLASS_TRACE}">\n`,"string"==typeof t&&(s+=`<caption>${t}</caption>`),s}(u,c),d+=function(e){if(null===g)return"";let c,u,d,p,h,y,w="";return w+="<tr><th>(a)</th><th>(b)</th><th>(c)</th><th>(d)</th><th>(e)</th><th>(f)</th>",w+="<th>operator</th><th>phrase</th></tr>\n",n.forEach(n=>{let E=l[n];switch(c=E.thisLine,u=void 0!==E.thatLine?E.thatLine:"--",d=!1,p=!1,h=!1,E.lookAround===s.LOOKAROUND_AHEAD&&(d=!0,h=!0,y=E.lookAnchor),E.opcode.type!==s.AND&&E.opcode.type!==s.NOT||(d=!0,h=!0,y=E.phraseIndex),E.lookAround===s.LOOKAROUND_BEHIND&&(p=!0,h=!0,y=E.lookAnchor),E.opcode.type!==s.BKA&&E.opcode.type!==s.BKN||(p=!0,h=!0,y=E.phraseIndex),w+="<tr>",w+=`<td>${c}</td><td>${u}</td>`,w+=`<td>${E.phraseIndex}</td>`,w+=`<td>${E.phraseLength}</td>`,w+=`<td>${E.depth}</td>`,w+="<td>",E.state){case s.ACTIVE:w+=`<span class="${r.CLASS_ACTIVE}">&darr;&nbsp;</span>`;break;case s.MATCH:w+=`<span class="${r.CLASS_MATCH}">&uarr;M</span>`;break;case s.NOMATCH:w+=`<span class="${r.CLASS_NOMATCH}">&uarr;N</span>`;break;case s.EMPTY:w+=`<span class="${r.CLASS_EMPTY}">&uarr;E</span>`;break;default:w+=`<span class="${r.CLASS_ACTIVE}">--</span>`}if(w+="</td>",w+="<td>",w+=i.indent(E.depth),d?w+=`<span class="${r.CLASS_LOOKAHEAD}">`:p&&(w+=`<span class="${r.CLASS_LOOKBEHIND}">`),w+=t.opcodeToString(E.opcode.type),E.opcode.type===s.RNM&&(w+=`(${g[E.opcode.index].name}) `),E.opcode.type===s.BKR){let e=E.opcode.bkrCase===s.BKR_MODE_CI?"%i":"%s",t=E.opcode.bkrMode===s.BKR_MODE_UM?"%u":"%p";w+=`(\\${e}${t}${g[E.opcode.index].name}) `}E.opcode.type===s.UDT&&(w+=`(${f[E.opcode.index].name}) `),E.opcode.type===s.TRG&&(w+=`(${function(e,t){let r="";if(t.type===s.TRG)if(e===o||32===e){let n=t.min.toString(16).toUpperCase();n.length%2!=0&&(n=`0${n}`),r+=e===o?"%x":"U+",r+=n,n=t.max.toString(16).toUpperCase(),n.length%2!=0&&(n=`0${n}`),r+=`&ndash;${n}`}else r=`%d${t.min.toString(10)}&ndash;${t.max.toString(10)}`;return r}(e,E.opcode)}) `),E.opcode.type===s.TBS&&(w+=`(${function(e,t){let r="";if(t.type===s.TBS){let n=Math.min(t.string.length,10);if(e===o||32===e){r+=e===o?"%x":"U+";for(let e=0;e<n;e+=1){let n;e>0&&(r+="."),n=t.string[e].toString(16).toUpperCase(),n.length%2!=0&&(n=`0${n}`),r+=n}}else{r="%d";for(let e=0;e<n;e+=1)e>0&&(r+="."),r+=t.string[e].toString(10)}n<t.string.length&&(r+=x)}return r}(e,E.opcode)}) `),E.opcode.type===s.TLS&&(w+=`(${function(e,r){let n="";if(r.type===s.TLS){let s=Math.min(r.string.length,5);if(e===o||10===e){let t,i,a;e===o?(n="%x",a=16):(n="%d",a=10);for(let e=0;e<s;e+=1)e>0&&(n+="."),i=r.string[e],i>=97&&i<=122?(t=i-32,n+=`${t.toString(a)}/${i.toString(a)}`.toUpperCase()):i>=65&&i<=90?(t=i,i+=32,n+=`${t.toString(a)}/${i.toString(a)}`.toUpperCase()):n+=i.toString(a).toUpperCase();s<r.string.length&&(n+=x)}else{n='"';for(let e=0;e<s;e+=1)n+=t.asciiChars[r.string[e]];s<r.string.length&&(n+=x),n+='"'}}return n}(e,E.opcode)}) `),E.opcode.type===s.REP&&(w+=`(${function(e,t){let r="";if(t.type===s.REP)if(e===o){let e=t.min.toString(16).toUpperCase();e.length%2!=0&&(e=`0${e}`),r=`x${e}`,t.max<1/0?(e=t.max.toString(16).toUpperCase(),e.length%2!=0&&(e=`0${e}`)):e="inf",r+=`&ndash;${e}`}else r=t.max<1/0?`${t.min.toString(10)}&ndash;${t.max.toString(10)}`:`${t.min.toString(10)}&ndash;inf`;return r}(e,E.opcode)}) `),h&&(w+="</span>"),w+="</td>",w+="<td>",w+=p?function(e,t,n,i,o,l){let c,u,d,p,h="",m=b,g=`<span class="${r.CLASS_LOOKBEHIND}">`,f=`<span class="${r.CLASS_REMAINDER}">`,y="</span>",w=!1;switch(n){case s.EMPTY:h+=A;case s.NOMATCH:case s.MATCH:case s.ACTIVE:c=i-o,u=l-c,d=l,p=t.length-d;break;default:throw new Error("unrecognized state")}return m=b,u>a?(u=a,m=x,p=0):u+p>a&&(m=x,p=a-u),u>0&&(h+=g,h+=T(e,t,c,u,w),h+=y,w=!0),p>0&&(h+=f,h+=T(e,t,d,p,w),h+=y),h+m}(e,m,E.state,E.phraseIndex,E.phraseLength,y):d?function(e,t,n,s,i){let o=`<span class="${r.CLASS_LOOKAHEAD}">`;return I(e,t,n,s,i,o)}(e,m,E.state,E.phraseIndex,E.phraseLength):function(e,t,n,s,i){let o=`<span class="${r.CLASS_MATCH}">`;return I(e,t,n,s,i,o)}(e,m,E.state,E.phraseIndex,E.phraseLength),w+="</td></tr>\n"}),w+="<tr><th>(a)</th><th>(b)</th><th>(c)</th><th>(d)</th><th>(e)</th><th>(f)</th>",w+="<th>operator</th><th>phrase</th></tr>\n",w+="</table>\n",w}(u),d+=function(){let e="";return e+="</table>\n",e+=`<p class="${r.CLASS_MONOSPACE}">legend:<br>\n`,e+="(a)&nbsp;-&nbsp;line number<br>\n",e+="(b)&nbsp;-&nbsp;matching line number<br>\n",e+="(c)&nbsp;-&nbsp;phrase offset<br>\n",e+="(d)&nbsp;-&nbsp;phrase length<br>\n",e+="(e)&nbsp;-&nbsp;tree depth<br>\n",e+="(f)&nbsp;-&nbsp;operator state<br>\n",e+=`&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${r.CLASS_ACTIVE}">&darr;</span>&nbsp;&nbsp;phrase opened<br>\n`,e+=`&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${r.CLASS_MATCH}">&uarr;M</span> phrase matched<br>\n`,e+=`&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${r.CLASS_EMPTY}">&uarr;E</span> empty phrase matched<br>\n`,e+=`&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${r.CLASS_NOMATCH}">&uarr;N</span> phrase not matched<br>\n`,e+="operator&nbsp;-&nbsp;ALT, CAT, REP, RNM, TRG, TLS, TBS<sup>&dagger;</sup>, UDT, AND, NOT, BKA, BKN, BKR, ABG, AEN<sup>&Dagger;</sup><br>\n",e+="phrase&nbsp;&nbsp;&nbsp;-&nbsp;up to 80 characters of the phrase being matched<br>\n",e+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${r.CLASS_MATCH}">matched characters</span><br>\n`,e+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${r.CLASS_LOOKAHEAD}">matched characters in look ahead mode</span><br>\n`,e+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${r.CLASS_LOOKBEHIND}">matched characters in look behind mode</span><br>\n`,e+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${r.CLASS_REMAINDER}">remainder characters(not yet examined by parser)</span><br>\n`,e+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${r.CLASS_CTRLCHAR}">control characters, TAB, LF, CR, etc. (ASCII mode only)</span><br>\n`,e+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;${A} empty string<br>\n`,e+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;${b} end of input string<br>\n`,e+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;${x} input string display truncated<br>\n`,e+="</p>\n",e+=`<p class="${r.CLASS_MONOSPACE}">\n`,e+="<sup>&dagger;</sup>original ABNF operators:<br>\n",e+="ALT - alternation<br>\n",e+="CAT - concatenation<br>\n",e+="REP - repetition<br>\n",e+="RNM - rule name<br>\n",e+="TRG - terminal range<br>\n",e+="TLS - terminal literal string (case insensitive)<br>\n",e+="TBS - terminal binary string (case sensitive)<br>\n",e+="<br>\n",e+="<sup>&Dagger;</sup>super set SABNF operators:<br>\n",e+="UDT - user-defined terminal<br>\n",e+="AND - positive look ahead<br>\n",e+="NOT - negative look ahead<br>\n",e+="BKA - positive look behind<br>\n",e+="BKN - negative look behind<br>\n",e+="BKR - back reference<br>\n",e+="ABG - anchor - begin of input string<br>\n",e+="AEN - anchor - end of input string<br>\n",e+="</p>\n",e}(),d}}},{"./circular-buffer":8,"./identifiers":10,"./style":14,"./utilities":16}],16:[function(e,t,r){let n=e("./style"),s=e("../apg-conv-api/converter"),i=e("./emitcss"),o=e("./identifiers"),a=this,l=function(e,t,r){let n,s=t;for(;;){if(e<=0){s=0,n=0;break}if("number"!=typeof s){s=0,n=e;break}if(s>=e){s=e,n=e;break}if("number"!=typeof r){n=e;break}if(n=s+r,n>e){n=e;break}break}return{beg:s,end:n}};r.htmlToPage=function(e,t){let r;if("string"!=typeof e)throw new Error("utilities.js: htmlToPage: input HTML is not a string");r="string"!=typeof t?"htmlToPage":t;let n="";return n+="<!DOCTYPE html>\n",n+='<html lang="en">\n',n+="<head>\n",n+='<meta charset="utf-8">\n',n+=`<title>${r}</title>\n`,n+="<style>\n",n+=i(),n+="</style>\n",n+="</head>\n<body>\n",n+=`<p>${new Date}</p>\n`,n+=e,n+="</body>\n</html>\n",n},r.parserResultToHtml=function(e,t){let r,s,i=null;"string"==typeof t&&""!==t&&(i=t),r=!0===e.success?`<span class="${n.CLASS_MATCH}">true</span>`:`<span class="${n.CLASS_NOMATCH}">false</span>`,s=e.state===o.EMPTY?`<span class="${n.CLASS_EMPTY}">EMPTY</span>`:e.state===o.MATCH?`<span class="${n.CLASS_MATCH}">MATCH</span>`:e.state===o.NOMATCH?`<span class="${n.CLASS_NOMATCH}">NOMATCH</span>`:`<span class="${n.CLASS_NOMATCH}">unrecognized</span>`;let a="";return a+=`<table class="${n.CLASS_STATE}">\n`,i&&(a+=`<caption>${i}</caption>\n`),a+="<tr><th>state item</th><th>value</th><th>description</th></tr>\n",a+=`<tr><td>parser success</td><td>${r}</td>\n`,a+=`<td><span class="${n.CLASS_MATCH}">true</span> if the parse succeeded,\n`,a+=` <span class="${n.CLASS_NOMATCH}">false</span> otherwise`,a+="<br><i>NOTE: for success, entire string must be matched</i></td></tr>\n",a+=`<tr><td>parser state</td><td>${s}</td>\n`,a+=`<td><span class="${n.CLASS_EMPTY}">EMPTY</span>, `,a+=`<span class="${n.CLASS_MATCH}">MATCH</span> or \n`,a+=`<span class="${n.CLASS_NOMATCH}">NOMATCH</span></td></tr>\n`,a+=`<tr><td>string length</td><td>${e.length}</td><td>length of the input (sub)string</td></tr>\n`,a+=`<tr><td>matched length</td><td>${e.matched}</td><td>number of input string characters matched</td></tr>\n`,a+=`<tr><td>max matched</td><td>${e.maxMatched}</td><td>maximum number of input string characters matched</td></tr>\n`,a+=`<tr><td>max tree depth</td><td>${e.maxTreeDepth}</td><td>maximum depth of the parse tree reached</td></tr>\n`,a+=`<tr><td>node hits</td><td>${e.nodeHits}</td><td>number of parse tree node hits (opcode function calls)</td></tr>\n`,a+=`<tr><td>input length</td><td>${e.inputLength}</td><td>length of full input string</td></tr>\n`,a+=`<tr><td>sub-string begin</td><td>${e.subBegin}</td><td>sub-string first character index</td></tr>\n`,a+=`<tr><td>sub-string end</td><td>${e.subEnd}</td><td>sub-string end-of-string index</td></tr>\n`,a+=`<tr><td>sub-string length</td><td>${e.subLength}</td><td>sub-string length</td></tr>\n`,a+="</table>\n",a},r.charsToString=function(e,t,r){let n,i;if("number"==typeof t){if(t>=e.length)return"";n=t<0?0:t}else n=0;if("number"==typeof r){if(r<=0)return"";i=r>e.length-n?e.length:n+r}else i=e.length;return n<i?s.encode("UTF16LE",e.slice(n,i)).toString("utf16le"):""},r.stringToChars=function(e){return s.decode("STRING",e)},r.opcodeToString=function(e){let t="unknown";switch(e){case o.ALT:t="ALT";break;case o.CAT:t="CAT";break;case o.RNM:t="RNM";break;case o.UDT:t="UDT";break;case o.AND:t="AND";break;case o.NOT:t="NOT";break;case o.REP:t="REP";break;case o.TRG:t="TRG";break;case o.TBS:t="TBS";break;case o.TLS:t="TLS";break;case o.BKR:t="BKR";break;case o.BKA:t="BKA";break;case o.BKN:t="BKN";break;case o.ABG:t="ABG";break;case o.AEN:t="AEN";break;default:throw new Error("unrecognized opcode")}return t},r.stateToString=function(e){let t="unknown";switch(e){case o.ACTIVE:t="ACTIVE";break;case o.MATCH:t="MATCH";break;case o.EMPTY:t="EMPTY";break;case o.NOMATCH:t="NOMATCH";break;default:throw new Error("unrecognized state")}return t},r.asciiChars=["NUL","SOH","STX","ETX","EOT","ENQ","ACK","BEL","BS","TAB","LF","VT","FF","CR","SO","SI","DLE","DC1","DC2","DC3","DC4","NAK","SYN","ETB","CAN","EM","SUB","ESC","FS","GS","RS","US","&nbsp;","!","&#34;","#","$","%","&#38;","&#39;","(",")","*","+",",","-",".","/","0","1","2","3","4","5","6","7","8","9",":",";","&#60;","=","&#62;","?","@","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","[","&#92;","]","^","_","`","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","{","|","}","~","DEL"],r.charToHex=function(e){let t=e.toString(16).toUpperCase();switch(t.length){case 1:case 3:case 7:t=`0${t}`;break;case 2:case 6:t=`00${t}`;break;case 4:break;case 5:t=`000${t}`;break;default:throw new Error("unrecognized option")}return t},r.charsToDec=function(e,t,r){let n="";if(!Array.isArray(e))throw new Error("utilities.js: charsToDec: input must be an array of integers");let s=l(e.length,t,r);if(s.end>s.beg){n+=e[s.beg];for(let t=s.beg+1;t<s.end;t+=1)n+=`,${e[t]}`}return n},r.charsToHex=function(e,t,r){let n="";if(!Array.isArray(e))throw new Error("utilities.js: charsToHex: input must be an array of integers");let s=l(e.length,t,r);if(s.end>s.beg){n+=`\\x${a.charToHex(e[s.beg])}`;for(let t=s.beg+1;t<s.end;t+=1)n+=`,\\x${a.charToHex(e[t])}`}return n},r.charsToHtmlEntities=function(e,t,r){let n="";if(!Array.isArray(e))throw new Error("utilities.js: charsToHex: input must be an array of integers");let s=l(e.length,t,r);if(s.end>s.beg)for(let t=s.beg;t<s.end;t+=1)n+=`&#x${e[t].toString(16)};`;return n},r.charsToUnicode=function(e,t,r){let n="";if(!Array.isArray(e))throw new Error("utilities.js: charsToUnicode: input must be an array of integers");let s=l(e.length,t,r);if(s.end>s.beg)for(let t=s.beg;t<s.end;t+=1)n+=(i=e[t])>=55296&&i<=57343||i>1114111?` U+${a.charToHex(e[t])}`:`&#${e[t]};`;var i;return n},r.charsToJsUnicode=function(e,t,r){let n="";if(!Array.isArray(e))throw new Error("utilities.js: charsToJsUnicode: input must be an array of integers");let s=l(e.length,t,r);if(s.end>s.beg){n+=`\\u${a.charToHex(e[s.beg])}`;for(let t=s.beg+1;t<s.end;t+=1)n+=`,\\u${a.charToHex(e[t])}`}return n},r.charsToAscii=function(e,t,r){let n="";if(!Array.isArray(e))throw new Error("utilities.js: charsToAscii: input must be an array of integers");let s=l(e.length,t,r);for(let t=s.beg;t<s.end;t+=1){let r=e[t];n+=r>=32&&r<=126?String.fromCharCode(r):`\\x${a.charToHex(r)}`}return n},r.charsToAsciiHtml=function(e,t,r){if(!Array.isArray(e))throw new Error("utilities.js: charsToAsciiHtml: input must be an array of integers");let s,i="",o=l(e.length,t,r);for(let t=o.beg;t<o.end;t+=1)s=e[t],i+=s<32||127===s?`<span class="${n.CLASS_CTRLCHAR}">${a.asciiChars[s]}</span>`:s>127?`<span class="${n.CLASS_CTRLCHAR}">U+${a.charToHex(s)}</span>`:a.asciiChars[s];return i},r.stringToAsciiHtml=function(e){let t=s.decode("STRING",e);return this.charsToAsciiHtml(t)}},{"../apg-conv-api/converter":4,"./emitcss":9,"./identifiers":10,"./style":14}],17:[function(e,t,r){globalThis.apgLib=e("./node-exports"),globalThis.apgConvApi=e("../apg-conv-api/node-exports")},{"../apg-conv-api/node-exports":5,"./node-exports":11}]},{},[17]),c(),p(),c(),p(),c(),p(),c(),p();var ct=(e,t)=>(r,n,s,i,o)=>(200===r&&(o[e]=t(n,s,i,o)),300),{apgLib:hn}=globalThis;function as(e,t){let r=new hn.parser;r.stats=new hn.stats,r.trace=new hn.trace,r.ast=new hn.ast;let n=hn.utils.charsToString,s=(e,t,r)=>new Date(n(e,t,r));r.ast.callbacks["message-domain"]=ct("domain",n),r.ast.callbacks["message-address"]=ct("address",n),r.ast.callbacks["message-statement"]=ct("statement",n),r.ast.callbacks["message-uri"]=ct("uri",(e,t,r)=>new URL(n(e,t,r))),r.ast.callbacks["message-version"]=ct("version",n),r.ast.callbacks["message-chain-id"]=ct("chainId",n),r.ast.callbacks["message-nonce"]=ct("nonce",n),r.ast.callbacks["message-issued-at"]=ct("issuedAt",s),r.ast.callbacks["message-expiration-time"]=ct("expirationTime",s),r.ast.callbacks["message-not-before"]=ct("notBefore",s),r.ast.callbacks["message-request-id"]=ct("requestId",n),r.ast.callbacks["message-resources"]=ct("resources",(e,t,r)=>r?n(e,t,r).slice(3).split("\n- ").map(e=>new URL(e)):[]),"sign-in-with-x"===e&&(r.ast.callbacks["eth-account-id"]=r.ast.callbacks["message-address"],r.ast.callbacks["eth-chain-id"]=r.ast.callbacks["message-chain-id"],r.ast.callbacks["sol-account-id"]=r.ast.callbacks["message-address"],r.ast.callbacks["sol-chain-id"]=r.ast.callbacks["message-chain-id"]);let i=null;switch(e){case"sign-in-with-ethereum":i=ca;break;case"sign-in-with-solana":i=pa;break;case"sign-in-with-x":i=da}if(!i)throw new Error(`Could not find grammar for ${e}`);let o=i(),a=r.parse(o,e,t);if(!a.success){let e=a.maxMatched+1,r=t.slice(0,e),n=r.split("\n"),s=n[n.length-1].length-1,i=[r,s>-1?" ".repeat(s)+"^":"^"].join("\n");return{success:!1,error:new Error(i)}}let l={type:e};return r.ast.translate(l),{success:!0,data:l}}c(),p(),c(),p();var la={ADDRESS_MISMATCH:"address",DOMAIN_MISMATCH:"domain",URI_MISMATCH:"uri",CHAIN_ID_MISMATCH:"chainId",ISSUED_TOO_FAR_IN_THE_PAST:"issuedAt",ISSUED_TOO_FAR_IN_THE_FUTURE:"issuedAt",EXPIRED:"expirationTime",EXPIRES_BEFORE_ISSUANCE:"expirationTime",VALID_AFTER_EXPIRATION:"notBefore"},fn=re(Tt()),nu={eth:{hexToCAIP2:e=>`eip155:${parseInt(e,16)}`,getBufferedGasLimit:e=>"0x"+new _r(Yc(new _r(e))).toString(16)},sol:{chainIdToCAIP2:et,chainIdToCluster:_c,serializeSolanaSignInMessage(e,{expectedChainId:t,expectedAddress:r,expectedURL:n}){let s=`${e.domain||n.host} wants you to sign in with your Solana account:\n`;s+=`${e.address||r}`,e.statement&&(s+=`\n\n${e.statement}`);let i=[];if(e.uri&&i.push(`URI: ${e.uri}`),e.version&&i.push(`Version: ${e.version}`),e.chainId&&i.push(`Chain ID: ${e.chainId}`),e.nonce&&i.push(`Nonce: ${e.nonce}`),e.issuedAt&&i.push(`Issued At: ${e.issuedAt}`),e.expirationTime&&i.push(`Expiration Time: ${e.expirationTime}`),e.notBefore&&i.push(`Not Before: ${e.notBefore}`),e.requestId&&i.push(`Request ID: ${e.requestId}`),e.resources){i.push("Resources:");for(let t of e.resources)i.push(`- ${t}`)}i.length&&(s+=`\n\n${i.join("\n")}`);let o=as("sign-in-with-solana",s);if(!o.success)return{type:"fail",data:fn.default.encode(Buffer.from(s)),error:[{label:"PARSE_ERROR",message:o.error.message}]};let a=is(o.data,{expectedAddress:r,expectedURL:n,expectedChainId:t,issuedAtThreshold:6e5});return a.length?{type:"fail",data:fn.default.encode(Buffer.from(s)),error:a.map(e=>({label:la[e],message:`siwsErrorMessage_${e}`}))}:{type:"success",data:fn.default.encode(Buffer.from(s))}},base58Encode:e=>fn.default.encode(e)},getFaviconURL:Cn,parseURL:In,getOrigin:En,getHostname:xc,getOriginAndHostname:Er},$a={};Ee($a,{addTrustedApp:()=>ou,btc:()=>wa,deleteTrustedApp:()=>iu,disableAutoConfirm:()=>ku,enableAutoConfirm:()=>_u,eth:()=>fa,fetchAutoConfirmSupportedNetworks:()=>Eu,getAutoConfirmStatus:()=>Tu,getMetaMaskOverrideSetting:()=>au,getUser:()=>Su,isTrustedApp:()=>cu,isUserOnboarded:()=>wu,login:()=>Au,logout:()=>vu,navigate:()=>fu,onboardQuickly:()=>gu,openNotificationCenter:()=>yu,openUserProfile:()=>xu,requestUserApproval:()=>mu,requestUserOnboard:()=>bu,setMetaMaskOverrideSetting:()=>hu,sol:()=>ya,sui:()=>Ka}),c(),p(),c(),p(),c(),p();var _t=class{storage;target;numListeners;unsubscribeFromStorageChanges;constructor(e){this.storage=e,this.target=new EventTarget,this.numListeners={revoked:0},this.unsubscribeFromStorageChanges=null}async get(e){return(await Lr(this.storage)).apps[e]??{}}async add(e,t,r){let n=await Lr(this.storage),s=n?.apps?.[e]?.[t]??{},i={...n?.apps[e]??{},[t]:{...s,...r}},o={...n.apps,[e]:i},a={...n,apps:o};return await Hs(this.storage,a)}async delete(e,t){let r=await Lr(this.storage),n={...r?.apps[e]??{}};delete n[t];let s={...r.apps,[e]:n},i={...r,apps:s};return await Hs(this.storage,i)}dispatchEvent({type:e,data:t}){let r=new Event(e);r.data=t,this.target.dispatchEvent(r)}removeEventListener(e,t){this.target.removeEventListener(e,t),this.numListeners[e]--,0===Object.values(this.numListeners).reduce((e,t)=>e+t,0)&&(this.unsubscribeFromStorageChanges?.(),this.unsubscribeFromStorageChanges=null)}addEventListener(e,t){this.target.addEventListener(e,t),this.numListeners[e]++,1===Object.values(this.numListeners).reduce((e,t)=>e+t,0)&&(this.unsubscribeFromStorageChanges=this.subscribeToStorageChanges())}subscribeToStorageChanges(){let e=null,t=Lr(this.storage);return this.storage.subscribe(async r=>{if(r!==Wc)return;let n=await Lr(this.storage);if(e??await t){let r=this.getRevokedApps(e??await t,n);for(let e of r)try{this.dispatchEvent({type:"revoked",data:e})}catch(e){le.captureError(e,"trustedApps")}}e=n})}getRevokedApps(e,t){let r=[],n=Object.entries(e.apps);for(let[e,s]of n){let n=Object.entries(s);for(let[s,i]of n)t.apps[e]?.[s]||r.push({origin:s,accountId:e})}return r}};c(),p();var ag=new Error("There is no currently selected account"),su=new Re,fe=async()=>{let e=await Oc(xe,su,await Pn(su));if(!e)throw ag;return e},cg=new Re,pg=new _t(cg),ou=async(e,t)=>{let r=(await fe()).identifier;await pg.add(r,e,{dappMeta:{appUrl:t.url.origin,title:t.title,imageUrl:t.icon?.toString()},lastConnectedTimestamp:Date.now()})};c(),p();var dg=new Re,lg=new _t(dg),iu=async e=>{let t=(await fe()).identifier;await lg.delete(t,e)};c(),p();var ug=new Re,au=async()=>await ur(ug);c(),p();var mg=new Re,hg=new _t(mg),cu=async e=>{let t=(await fe()).identifier;return!!(await hg.get(t))[e]};c(),p();var cs=re(St());c(),p();var du=re(St()),pu=30,ua=class{findPopupIfExists=async()=>{try{le.addBreadcrumb("NotificationManager","focusPopupIfExists","debug");let e=await yp();for(let t of e){if("number"!=typeof t.id){le.addBreadcrumb("NotificationManager","popup has no id","debug");continue}if("popup"!==t.type){le.addBreadcrumb("NotificationManager","found a non-popup type window","error");continue}let e=!1;if(1===t.tabs?.length){let[r]=t.tabs;r.url&&(e=new URL(r.url).hostname===du.default.runtime.id)}if(e)return t.id;le.addBreadcrumb("NotificationManager","popup tab url does not have the extension origin","debug")}return}catch(e){return le.addBreadcrumb("NotificationManager","failed to get open popups","error"),void le.captureError(e instanceof Error?e:new Error("failed to get open popups"),"provider")}};showNotificationPopupAsync=async()=>{le.addBreadcrumb("NotificationManager","showNotificationPopupAsync","debug");let e=await this.findPopupIfExists();e&&await gp(e);let t,r=0,n=0;try{let e=await fp();if(void 0===e.top||void 0===e.left||void 0===e.width||void 0===e.height)throw new Error("Couldn't get last focused window");n=e.top,r=e.left+e.width-an}catch(e){le.addBreadcrumb("NotificationManager","failed to get last focused window","error"),le.captureError(e instanceof Error?e:new Error("failed to get last focused window"),"provider");let{screenX:t,screenY:s,outerWidth:i}=self;n=Math.max(s,0),r=Math.max(t+(i-an),0)}try{t=await Vs({url:"notification.html",type:"popup",width:an,height:Ys+pu,left:r,top:n,focused:!0})}catch{n=0,r=0,t=await Vs({url:"notification.html",type:"popup",width:an,height:Ys+pu,left:r,top:n,focused:!0})}if(!t){let e=new Error("Could not open new popup notification");throw le.captureError(e,"provider"),e}try{(t.left!==r||t.top!==n)&&t.id&&"fullscreen"!==t.state&&await hp(t.id,r,n)}catch(e){le.addBreadcrumb("NotificationManager","failed to update window position","error"),le.captureError(e instanceof Error?e:new Error("failed to update window position"),"provider")}return t}},lu=new ua,fg=(e,t,r)=>{if("string"!=typeof r)throw new Error("message must be a string");try{let n=Vt(r);console.log("> Received message from popup:",n);let s=lr[t].response.parse(n);if(s.id===e)return s}catch(e){console.error(e)}throw new Error("RPC response ID does not match RPC request ID")},uu=(e,t,r)=>async e=>await fg(t,r,e),gg=async(e,t,r)=>{let n=!1,s=cs.default.runtime.connect({name:"popup/sidepanel"}),o=uu(s,e,t);return new Promise((t,a)=>{s.postMessage(r),s.onMessage.addListener(async e=>{s.onMessage.removeListener(o);try{let r=await o(e);return n=!0,s.disconnect(),t(r)}catch(e){return a(e)}}),s.onDisconnect.addListener(()=>{if(!n)return s.onMessage.removeListener(o),i.userRejectedRequest(e)})})},yg=async(e,t,r)=>{let n=await lu.showNotificationPopupAsync();if(!n)return i.resourceUnavailable(e);let s=n.id;if("number"!=typeof s)throw new Error("No notification window id");let o=`notification/${s}`,a=`${zn()}/notification.html`;return await new Promise((n,s)=>{let l=!1,c=u=>{let d=uu(u,e,t);u.name===o&&u.sender&&u.sender.tab?.url===a&&(u.onMessage.addListener(async e=>{try{let t=await d(e);return l=!0,u.disconnect(),u.onMessage.removeListener(d),n(t)}catch(e){return s(e)}}),u.onDisconnect.addListener(()=>{l||(u.onMessage.removeListener(d),n(i.userRejectedRequest(e))),cs.default.runtime.onConnect.removeListener(c)}),u.postMessage(r))};cs.default.runtime.onConnect.addListener(c)})},mu=async e=>{let[t]=e.params,r=t.icon??void 0,n=await Tp(),s=yc(t.url),i=Ct({url:s,req:e,icon:r});return n?gg(e.id,e.method,i):yg(e.id,e.method,i)};c(),p();var xg=new Re,hu=async e=>await Vc(xg,e);c(),p();var fu=()=>{};c(),p();var gu=()=>{throw new Error("This method is unsupported on extension.")};c(),p();var yu=()=>{throw new Error("This method is unsupported on extension.")};c(),p();var xu=()=>{throw new Error("This method is unsupported on extension.")};c(),p();var wu=async()=>!0;c(),p();var bu=async()=>{throw new Error("not implemented")};c(),p();var Su=()=>Promise.resolve(null);c(),p();var Au=()=>Promise.resolve();c(),p();var vu=()=>Promise.resolve();c(),p(),c(),p();var Ru=re(St()),wg=new Re,ma=class extends kp{constructor(){super(wg)}async isTabFocused(e){this.executedChecksAudit.push("IS_TAB_FOCUSED");let t=(await Ru.default.tabs.query({active:!0,lastFocusedWindow:!0}))[0]?.url;return!!t&&new URL(t).hostname===new URL(e).hostname}async isFeatureEnabled(){return this.executedChecksAudit.push("IS_FEATURE_FLAG_ENABLED"),!0!==await Mn.isFeatureEnabledAsync("kill-automatic-approval")}async isWalletUnlocked(){return this.executedChecksAudit.push("IS_WALLET_UNLOCKED"),!!qe()}},ze=new ma,_u=async(e,t)=>{let r=(await fe()).identifier,n=await ze.fetchAutoConfirmSupportedNetworks(e),{enabled:s}=await ze.getAutoConfirmStatus({origin:e,accountIdentifier:r});if(s)return;let i=[];i=t&&t.length>0?t.filter(e=>n.includes(e)):n,await ze.enableAutoConfirm({origin:e,accountIdentifier:r,networkIDs:i}),await Gt.invalidateQueries({queryKey:Kt.trustedApps()}),await Gt.invalidateQueries({queryKey:Kt.allAutoConfirm(r)}),await Gt.invalidateQueries({queryKey:Kt.autoConfirm(r,e)})};c(),p();var ku=async e=>{let t=(await fe()).identifier,{enabled:r}=await ze.getAutoConfirmStatus({origin:e,accountIdentifier:t});r&&(await ze.disableAutoConfirm({origin:e,accountIdentifier:t}),await Gt.invalidateQueries({queryKey:Kt.trustedApps()}),await Gt.invalidateQueries({queryKey:Kt.allAutoConfirm(t)}),await Gt.invalidateQueries({queryKey:Kt.autoConfirm(t,e)}))};c(),p();var Tu=async e=>{let t=(await fe()).identifier,{enabled:r,networkIDs:n}=await ze.getAutoConfirmStatus({origin:e,accountIdentifier:t});return{enabled:r,networks:n}};c(),p();var Eu=async e=>await ze.fetchAutoConfirmSupportedNetworks(e),fa={};Ee(fa,{addChain:()=>Iu,autoConfirmValidateMessage:()=>Lu,autoConfirmValidateTransaction:()=>Mu,doesSupportEth:()=>Pu,getAccountNonce:()=>Uu,getAccounts:()=>Nu,getEnabledChains:()=>Du,getNetworkId:()=>Wr,getRpcURL:()=>qu,getSelectedAccount:()=>Ou,getSupportedNetworks:()=>Hu,sendTransaction:()=>Wu,signAndSendTransaction:()=>ju,signMessage:()=>Vu,signTypedData:()=>zu,switchChain:()=>Ku}),c(),p(),c(),p();var Iu=async e=>{let t=parseInt(e.chainId.substring(2),16);return!!Br(t)};c(),p(),c(),p(),c(),p();var ps={};c(),p();var ha=[new Re];async function Bu(){for(let e of ha){let t=await e.get("developerMode");if(t)return t.isDeveloperMode}return!1}var Wr=async e=>{if(await Bu()){let e=(await Fc(ha)).eip155;if(!e)throw new Error("No evm developer mode chainId set");let t=e.replace("eip155:","");return Us(t)}let t=ps[e]??"eip155:1",r=Ge.getEVMNetworkIDValue(t);return Us(r.toString())},Lu=async(e,t)=>{let r=await Wr(e.origin);if(!r)return{status:"UNSUPPORTED_NETWORK_ID"};let n=Cr(r);if(!Ge.isEVMNetworkID(n))return{status:"UNSUPPORTED_NETWORK_ID"};let s=await fe(),i=await Ie(s,"eip155"),o=zt(tt.language)??"en",a=await Te.getDeviceId();return await ze.isEthMessageAutoConfirmable({url:e,networkID:n,data:t,account:s,userAccountAddress:i,accountIdentifier:s.identifier},{locale:o,deviceId:a})};c(),p();var Mu=async(e,t)=>{let r=t[0]?.chainId;if(!r)return{status:"UNSUPPORTED_NETWORK_ID"};let n=Cr(r);if(!Ge.isEVMNetworkID(n))return{status:"UNSUPPORTED_NETWORK_ID"};let s=await fe(),i=await Ie(s,"eip155"),o=zt(tt.language)??"en",a=await Te.getDeviceId();return ze.isEthTransactionAutoConfirmable({url:e,networkID:n,data:t,account:s,userAccountAddress:i,accountIdentifier:s.identifier},{locale:o,deviceId:a})};c(),p();var Pu=async()=>(await fe()).addresses.some(e=>"eip155"===e.addressType);c(),p();var bg=new Re,Uu=async(e,t)=>{let r=parseInt(e.replace("0x",""),16),n=Br(r);if(!n)throw new Error(`Unsupported EVM Network ID: ${r}`);return op(n,t,bg)};c(),p();var Nu=async()=>{let e=await fe();return[Ie(e,"eip155").toLowerCase()]};c(),p();var Du=async(e=!1)=>{let t=new Re,r=await Pn(t),n=await t.get("developerMode");return e?r.enabledNetworkIDs.map(Ln):!0===n?.isDeveloperMode?r.enabledTestnetOnlyNetworkIDs.map(Ln):r.enabledMainnetOnlyNetworkIDs.map(Ln)};c(),p();var qu=async e=>{let t=Bn.parse(`eip155:${parseInt(e,16)}`);if(!Ge.isEVMNetworkID(t))throw new Error(`Invalid EVM NetworkID for chainID: ${e}`);let r=Ge.getRpcProxyUrl(t);if(!r)throw new Error(`No RPC URL found for chainID ${e}`);return r};c(),p();var Ou=async()=>{let e=await fe();return Ie(e,"eip155").toLowerCase()};c(),p();var Hu=()=>Tc();c(),p(),c(),p();var Sg=new Re,ds=async(e,t)=>{let r=await fe();Ie(r,"eip155");let n=tt.t("transactionsAppInteraction"),s=Bn.parse(`eip155:${e.chainId?parseInt(e.chainId,16):void 0}`),i=Uc(e.to??"",void 0,void 0,5),o=bc(e.value??"",Ge.getTokenDecimals(s)),a=Ge.getTokenSymbol(s);if(void 0===e.nonce)throw new Error("nonce missing on unsigned transaction");if(null==e.maxFeePerGas||null==e.maxPriorityFeePerGas){let t=(await Gc(s,!0))?.standard;if(!t)throw new Error("Standard transaction speed price information is missing.");null==e.maxFeePerGas&&(e.maxFeePerGas=`0x${t.maxFeePerGas.integerValue(_r.ROUND_CEIL).toString(16)}`),null==e.maxPriorityFeePerGas&&(e.maxPriorityFeePerGas=`0x${t.maxPriorityFeePerGas.integerValue(_r.ROUND_CEIL).toString(16)}`)}let l={accountSigner:xe,accountIdentifier:r.identifier,networkID:s,unsignedTransaction:e,callPayload:void 0,pendingTransactionInput:{ownerAddress:e.from,networkID:s,data:{nonce:e.nonce,hash:"",unsignedTransaction:sc.parse({from:e.from})},type:"dappInteraction",display:{summary:{topLeft:{text:n},topRight:{text:o?`- ${o} ${a}`:""}},detail:{uiRecipient:i}}},storage:Sg};return t?await ip({...l,signature:t}):await ap(l)},Wu=ds;c(),p();var ju=ds;c(),p();var Vu=async e=>{let t=Ep(e),r=await fe();Ie(r,"eip155");let n=await xe.sign(r.identifier,{chainType:"eip155",signingType:"message",message:t});if("error"===n.status)throw new Error(`[${n.type}] ${n.message}`);return n.signature};c(),p();var zu=async e=>{let t=await fe();Ie(t,"eip155");let r=await xe.sign(t.identifier,{chainType:"eip155",signingType:"typedData",...e});if("error"===r.status)throw new Error(`[${r.type}] ${r.message}`);return r.signature};c(),p();var Ku=async(e,t)=>{let r=parseInt(e.substring(2),16),n=Br(r);return!!n&&(ps[t]=n,!0)},ya={};Ee(ya,{addPriorityFee:()=>Gu,autoConfirmValidateMessage:()=>Yu,autoConfirmValidateTransaction:()=>Zu,getNetworkId:()=>st,getSelectedAccount:()=>Xu,handleSolanaPayTransaction:()=>om,handleSolanaPayTransfer:()=>im,sendAllTransactions:()=>tm,sendTransaction:()=>Qu,signAllTransactions:()=>ls,signMessage:()=>nm,signTransaction:()=>sm}),c(),p(),c(),p(),c(),p();var st=async()=>{let e=await fe(),t=Pc(e,"solana").networkID;return Ge.getSolanaNetworkIDValue(t)},Gu=async e=>{let{transaction:t}=mt.deserializeVersionedTransaction(e);"legacy"===t.version&&(t=mt.deserializeWithVersion({transaction:e,type:"legacy"}).transaction);let r=await st(),n=await sp(t,{connection:$t(et(r)),calculators:{cost:np,budget:new rp(2e5,2e5)}});return mt.serialize(n).transaction};c(),p();var Yu=async(e,t)=>{let r=await st();if("localnet"===r)return{status:"UNSUPPORTED_NETWORK_ID"};let n=await fe(),s=await Ie(n,"solana"),i=zt(tt.language)??"en",o=await Te.getDeviceId();return ze.isSolMessageAutoConfirmable({url:e,data:t,networkID:et(r),account:n,userAccountAddress:s,accountIdentifier:n.identifier??""},{locale:i,deviceId:o})};c(),p();var Zu=async(e,t)=>{let r=await st();if("localnet"===r)return{status:"UNSUPPORTED_NETWORK_ID"};let n=await fe(),s=await Ie(n,"solana"),i=zt(tt.language)??"en",o=await Te.getDeviceId();return ze.isSolTransactionAutoConfirmable({url:e,networkID:et(r),data:t,account:n,userAccountAddress:s,accountIdentifier:n.identifier??""},{locale:i,deviceId:o})};c(),p();var Xu=async()=>{let e=await fe();return Ie(e,"solana")};c(),p();var Ju=re(Tt()),Qu=async(e,t)=>{let r,n=await st(),s=jt.VersionedMessage.deserializeMessageVersion(Ju.default.decode(Tr(e))),i=mt.deserializeWithVersion({transaction:e,type:s});t?.method&&(r={"x-phantom-method":t.method}),await pp({connection:$t(et(n),r),signedTx:i.transaction,opts:t})};c(),p();var em=re(Tt()),tm=async(e,t)=>{let r=await st(),n=$t(et(r)),s=e.map(e=>{let t=jt.VersionedMessage.deserializeMessageVersion(em.default.decode(Tr(e)));return mt.deserializeWithVersion({transaction:e,type:t}).transaction});return await dp({connection:n,signedTxs:s,opts:t})};c(),p();var rm=re(Tt()),nm=async e=>{let t=await fe();Ie(t,"solana");let r=rm.default.decode(e).toString("utf-8"),n=await xe.sign(t.identifier,{chainType:"solana",signingType:"message",message:r});if("success"!==n.status)throw new Error(`[${n.type}] ${n.message}`);return n.signature};c(),p(),c(),p();var ga=re(Tt()),Ag=new Re,ls=async e=>{let t=await fe();Ie(t,"solana");let r=Ie(t,"solana"),n=await st(),s={ownerAddress:r,networkID:et(n),data:{signature:""},type:"dappInteraction",display:{summary:{topLeft:{text:tt.t("transactionsPendingAppInteraction")}}}};return(async()=>{let i=[];for(let o=0;o<e.length;o++){let a=e[o],l=jt.VersionedMessage.deserializeMessageVersion(ga.default.decode(Tr(a))),c=mt.deserializeWithVersion({transaction:a,type:l}),u=await lp({pendingTransactionInput:s,accountIdentifier:t.identifier,feePayer:new ve.PublicKey(r),connection:$t(et(n)),accountSigner:xe,transaction:c.transaction,storage:Ag}),d=mt.serialize(u);i.push({transaction:d.transaction,signature:ga.default.encode(pc(u)[0]),version:"version"in u?u.version:"legacy"})}return i})()},sm=async e=>(await ls([e]))[0];c(),p();var om=async()=>{};c(),p();var im=async()=>!1,wa={};Ee(wa,{getSelectedAccount:()=>us,signMessage:()=>cm,signPSBT:()=>am}),c(),p(),c(),p();var us=async()=>{let e=await fe();return xa(e)},xa=e=>{let t=e.addresses.filter(e=>"bip122:000000000019d6689c085ae165831e93"===e.networkID||"bip122:000000000933ea01ad0ee984209779ba"===e.networkID);if(0===t.length)throw Lc;if(1===t.length){let[e]=t;if(!e?.publicKey)throw new Error("[btc provider] selected account account does not have a public key");return[{address:e.address,publicKey:Buffer.from(e.publicKey).toString("hex"),addressType:e.addressType,purpose:"payment"},{address:e.address,publicKey:Buffer.from(e.publicKey).toString("hex"),addressType:e.addressType,purpose:"ordinals"}]}let r=t.find(e=>"bip122_p2tr"===e.addressType);if(!r?.publicKey)throw new Error("[btc provider] ordinalAddress does not have a public key");let n=t.find(e=>"bip122_p2wpkh"===e.addressType);if(!n?.publicKey)throw new Error("[btc provider] paymentAddress does not have a public key");return[{address:n.address,publicKey:Buffer.from(n.publicKey).toString("hex"),addressType:n.addressType,purpose:"payment"},{address:r.address,publicKey:Buffer.from(r.publicKey).toString("hex"),addressType:r.addressType,purpose:"ordinals"}]};c(),p();var am=async(e,t)=>{let r=await fe(),n=await xe.sign(r.identifier,{chainType:"bip122_p2tr",signingType:"transaction",message:Buffer.from(e).toString("hex"),inputsToSign:t.inputsToSign,finalize:t.finalize});if("error"===n.status)throw new Error(`[${n.type}] ${n.message}`);return Buffer.from(n.signature,"hex")};c(),p();var cm=async(e,t)=>{let r=await fe(),n=kc("bip122:000000000019d6689c085ae165831e93",e),s=await xe.sign(r.identifier,{chainType:n,signingType:"message",message:t});if("error"===s.status)throw new Error(`[btc provider][${s.type}] ${s.message}`);let i=s.message;if(!i)throw new Error("[btc provider] no message on vault response");return{signature:Buffer.from(s.signature,"hex"),signedMessage:i}},Ka={};function Rg(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let s=BigInt(32),i=BigInt(4294967295),o=Number(r>>s&i),a=Number(r&i),l=n?4:0,c=n?0:4;e.setUint32(t+l,o,n),e.setUint32(t+c,a,n)}Ee(Ka,{getSelectedAccount:()=>Ls,getSuiAddressWithPubkey:()=>An,signAndExecuteTransaction:()=>Km,signMessage:()=>zm,signTransaction:()=>Vm}),c(),p(),c(),p(),c(),p(),c(),p(),c(),p(),c(),p();var pm=(e,t,r)=>e&t^~e&r,dm=(e,t,r)=>e&t^e&r^t&r,jr=class extends Hn{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Dn(this.buffer)}update(e){Mr(this);let{view:t,buffer:r,blockLen:n}=this,s=(e=On(e)).length;for(let i=0;i<s;){let o=Math.min(n-this.pos,s-i);if(o===n){let t=Dn(e);for(;n<=s-i;i+=n)this.process(t,i);continue}r.set(e.subarray(i,i+o),this.pos),this.pos+=o,i+=o,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Mr(this),ep(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:n,isLE:s}=this,{pos:i}=this;t[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>n-i&&(this.process(r,0),i=0);for(let e=i;e<n;e++)t[e]=0;Rg(r,n-8,BigInt(8*this.length),s),this.process(r,0);let o=Dn(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let l=a/4,c=this.get();if(l>c.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)o.setUint32(4*e,c[e],s)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:n,finished:s,destroyed:i,pos:o}=this;return e.length=n,e.pos=o,e.finished=s,e.destroyed=i,n%t&&e.buffer.set(r),e}},[_g,kg]=be.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),er=new Uint32Array(80),tr=new Uint32Array(80),ba=class extends jr{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:t,Bh:r,Bl:n,Ch:s,Cl:i,Dh:o,Dl:a,Eh:l,El:c,Fh:u,Fl:d,Gh:p,Gl:h,Hh:m,Hl:g}=this;return[e,t,r,n,s,i,o,a,l,c,u,d,p,h,m,g]}set(e,t,r,n,s,i,o,a,l,c,u,d,p,h,m,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|s,this.Cl=0|i,this.Dh=0|o,this.Dl=0|a,this.Eh=0|l,this.El=0|c,this.Fh=0|u,this.Fl=0|d,this.Gh=0|p,this.Gl=0|h,this.Hh=0|m,this.Hl=0|g}process(e,t){for(let r=0;r<16;r++,t+=4)er[r]=e.getUint32(t),tr[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){let t=0|er[e-15],r=0|tr[e-15],n=be.rotrSH(t,r,1)^be.rotrSH(t,r,8)^be.shrSH(t,r,7),s=be.rotrSL(t,r,1)^be.rotrSL(t,r,8)^be.shrSL(t,r,7),i=0|er[e-2],o=0|tr[e-2],a=be.rotrSH(i,o,19)^be.rotrBH(i,o,61)^be.shrSH(i,o,6),l=be.rotrSL(i,o,19)^be.rotrBL(i,o,61)^be.shrSL(i,o,6),c=be.add4L(s,l,tr[e-7],tr[e-16]),u=be.add4H(c,n,a,er[e-7],er[e-16]);er[e]=0|u,tr[e]=0|c}let{Ah:r,Al:n,Bh:s,Bl:i,Ch:o,Cl:a,Dh:l,Dl:c,Eh:u,El:d,Fh:p,Fl:h,Gh:m,Gl:g,Hh:f,Hl:y}=this;for(let e=0;e<80;e++){let t=be.rotrSH(u,d,14)^be.rotrSH(u,d,18)^be.rotrBH(u,d,41),w=be.rotrSL(u,d,14)^be.rotrSL(u,d,18)^be.rotrBL(u,d,41),b=u&p^~u&m,x=d&h^~d&g,A=be.add5L(y,w,x,kg[e],tr[e]),E=be.add5H(A,f,t,b,_g[e],er[e]),v=0|A,T=be.rotrSH(r,n,28)^be.rotrBH(r,n,34)^be.rotrBH(r,n,39),I=be.rotrSL(r,n,28)^be.rotrBL(r,n,34)^be.rotrBL(r,n,39),S=r&s^r&o^s&o,_=n&i^n&a^i&a;f=0|m,y=0|g,m=0|p,g=0|h,p=0|u,h=0|d,({h:u,l:d}=be.add(0|l,0|c,0|E,0|v)),l=0|o,c=0|a,o=0|s,a=0|i,s=0|r,i=0|n;let k=be.add3L(v,I,_);r=be.add3H(k,E,T,S),n=0|k}({h:r,l:n}=be.add(0|this.Ah,0|this.Al,0|r,0|n)),({h:s,l:i}=be.add(0|this.Bh,0|this.Bl,0|s,0|i)),({h:o,l:a}=be.add(0|this.Ch,0|this.Cl,0|o,0|a)),({h:l,l:c}=be.add(0|this.Dh,0|this.Dl,0|l,0|c)),({h:u,l:d}=be.add(0|this.Eh,0|this.El,0|u,0|d)),({h:p,l:h}=be.add(0|this.Fh,0|this.Fl,0|p,0|h)),({h:m,l:g}=be.add(0|this.Gh,0|this.Gl,0|m,0|g)),({h:f,l:y}=be.add(0|this.Hh,0|this.Hl,0|f,0|y)),this.set(r,n,s,i,o,a,l,c,u,d,p,h,m,g,f,y)}roundClean(){er.fill(0),tr.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},lm=Fn(()=>new ba);c(),p(),c(),p(),c(),p();var hs={};Ee(hs,{aInRange:()=>ot,abool:()=>gt,abytes:()=>Vr,bitGet:()=>Lg,bitLen:()=>_a,bitMask:()=>yn,bitSet:()=>Mg,bytesToHex:()=>Nt,bytesToNumberBE:()=>Dt,bytesToNumberLE:()=>nr,concatBytes:()=>qt,createHmacDrbg:()=>ka,ensureBytes:()=>Fe,equalBytes:()=>Cg,hexToBytes:()=>wr,hexToNumber:()=>Ra,inRange:()=>gn,isBytes:()=>rr,memoized:()=>Sr,notImplemented:()=>Ug,numberToBytesBE:()=>sr,numberToBytesLE:()=>br,numberToHexUnpadded:()=>xr,numberToVarBytesBE:()=>Ig,utf8ToBytes:()=>Bg,validateObject:()=>kt}),c(),p();var va=BigInt(0),ms=BigInt(1),Tg=BigInt(2);function rr(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function Vr(e){if(!rr(e))throw new Error("Uint8Array expected")}function gt(e,t){if("boolean"!=typeof t)throw new Error(`${e} must be valid boolean, got "${t}".`)}var Eg=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Nt(e){Vr(e);let t="";for(let r=0;r<e.length;r++)t+=Eg[e[r]];return t}function xr(e){let t=e.toString(16);return 1&t.length?`0${t}`:t}function Ra(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}var Ut={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function um(e){return e>=Ut._0&&e<=Ut._9?e-Ut._0:e>=Ut._A&&e<=Ut._F?e-(Ut._A-10):e>=Ut._a&&e<=Ut._f?e-(Ut._a-10):void 0}function wr(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);let t=e.length,r=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,s=0;t<r;t++,s+=2){let r=um(e.charCodeAt(s)),i=um(e.charCodeAt(s+1));if(void 0===r||void 0===i){let t=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+s)}n[t]=16*r+i}return n}function Dt(e){return Ra(Nt(e))}function nr(e){return Vr(e),Ra(Nt(Uint8Array.from(e).reverse()))}function sr(e,t){return wr(e.toString(16).padStart(2*t,"0"))}function br(e,t){return sr(e,t).reverse()}function Ig(e){return wr(xr(e))}function Fe(e,t,r){let n;if("string"==typeof t)try{n=wr(t)}catch(r){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${r}`)}else{if(!rr(t))throw new Error(`${e} must be hex string or Uint8Array`);n=Uint8Array.from(t)}let s=n.length;if("number"==typeof r&&s!==r)throw new Error(`${e} expected ${r} bytes, got ${s}`);return n}function qt(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];Vr(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let s=e[t];r.set(s,n),n+=s.length}return r}function Cg(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return 0===r}function Bg(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}var Sa=e=>"bigint"==typeof e&&va<=e;function gn(e,t,r){return Sa(e)&&Sa(t)&&Sa(r)&&t<=e&&e<r}function ot(e,t,r,n){if(!gn(t,r,n))throw new Error(`expected valid ${e}: ${r} <= n < ${n}, got ${typeof t} ${t}`)}function _a(e){let t;for(t=0;e>va;e>>=ms,t+=1);return t}function Lg(e,t){return e>>BigInt(t)&ms}function Mg(e,t,r){return e|(r?ms:va)<<BigInt(t)}var yn=e=>(Tg<<BigInt(e-1))-ms,Aa=e=>new Uint8Array(e),mm=e=>Uint8Array.from(e);function ka(e,t,r){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof r)throw new Error("hmacFn must be a function");let n=Aa(e),s=Aa(e),i=0,o=()=>{n.fill(1),s.fill(0),i=0},a=(...e)=>r(s,n,...e),l=(e=Aa())=>{s=a(mm([0]),e),n=a(),0!==e.length&&(s=a(mm([1]),e),n=a())},c=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let e=0,r=[];for(;e<t;){n=a();let t=n.slice();r.push(t),e+=n.length}return qt(...r)};return(e,t)=>{let r;for(o(),l(e);!(r=t(c()));)l();return o(),r}}var Pg={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||rr(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function kt(e,t,r={}){let n=(t,r,n)=>{let s=Pg[r];if("function"!=typeof s)throw new Error(`Invalid validator "${r}", expected function`);let i=e[t];if(!(n&&void 0===i||s(i,e)))throw new Error(`Invalid param ${String(t)}=${i} (${typeof i}), expected ${r}`)};for(let[e,r]of Object.entries(t))n(e,r,!1);for(let[e,t]of Object.entries(r))n(e,t,!0);return e}var Ug=()=>{throw new Error("not implemented")};function Sr(e){let t=new WeakMap;return(r,...n)=>{let s=t.get(r);if(void 0!==s)return s;let i=e(r,...n);return t.set(r,i),i}}var Ke=BigInt(0),He=BigInt(1),Ar=BigInt(2),Ng=BigInt(3),Ta=BigInt(4),hm=BigInt(5),fm=BigInt(8),Dg=BigInt(9),qg=BigInt(16);function Pe(e,t){let r=e%t;return r>=Ke?r:t+r}function Og(e,t,r){if(r<=Ke||t<Ke)throw new Error("Expected power/modulo > 0");if(r===He)return Ke;let n=He;for(;t>Ke;)t&He&&(n=n*e%r),e=e*e%r,t>>=He;return n}function yt(e,t,r){let n=e;for(;t-- >Ke;)n*=n,n%=r;return n}function fs(e,t){if(e===Ke||t<=Ke)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=Pe(e,t),n=t,s=Ke,i=He,o=He,a=Ke;for(;r!==Ke;){let e=n/r,t=n%r,l=s-o*e,c=i-a*e;n=r,r=t,s=o,i=a,o=l,a=c}if(n!==He)throw new Error("invert: does not exist");return Pe(s,t)}function Hg(e){let t,r,n,s=(e-He)/Ar;for(t=e-He,r=0;t%Ar===Ke;t/=Ar,r++);for(n=Ar;n<e&&Og(n,s,e)!==e-He;n++);if(1===r){let t=(e+He)/Ta;return function(e,r){let n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}let i=(t+He)/Ar;return function(e,o){if(e.pow(o,s)===e.neg(e.ONE))throw new Error("Cannot find square root");let a=r,l=e.pow(e.mul(e.ONE,n),t),c=e.pow(o,i),u=e.pow(o,t);for(;!e.eql(u,e.ONE);){if(e.eql(u,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(u);t<a&&!e.eql(r,e.ONE);t++)r=e.sqr(r);let r=e.pow(l,He<<BigInt(a-t-1));l=e.sqr(r),c=e.mul(c,r),u=e.mul(u,l),a=t}return c}}function Fg(e){if(e%Ta===Ng){let t=(e+He)/Ta;return function(e,r){let n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}if(e%fm===hm){let t=(e-hm)/fm;return function(e,r){let n=e.mul(r,Ar),s=e.pow(n,t),i=e.mul(r,s),o=e.mul(e.mul(i,Ar),s),a=e.mul(i,e.sub(o,e.ONE));if(!e.eql(e.sqr(a),r))throw new Error("Cannot find square root");return a}}return Hg(e)}var gm=(e,t)=>(Pe(e,t)&He)===He,Wg=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Ea(e){return kt(e,Wg.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"}))}function jg(e,t,r){if(r<Ke)throw new Error("Expected power > 0");if(r===Ke)return e.ONE;if(r===He)return t;let n=e.ONE,s=t;for(;r>Ke;)r&He&&(n=e.mul(n,s)),s=e.sqr(s),r>>=He;return n}function Vg(e,t){let r=new Array(t.length),n=t.reduce((t,n,s)=>e.is0(n)?t:(r[s]=t,e.mul(t,n)),e.ONE),s=e.inv(n);return t.reduceRight((t,n,s)=>e.is0(n)?t:(r[s]=e.mul(t,r[s]),e.mul(t,n)),s),r}function Ia(e,t){let r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function or(e,t,r=!1,n={}){if(e<=Ke)throw new Error(`Expected Field ORDER > 0, got ${e}`);let{nBitLength:s,nByteLength:i}=Ia(e,t);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");let o=Fg(e),a=Object.freeze({ORDER:e,BITS:s,BYTES:i,MASK:yn(s),ZERO:Ke,ONE:He,create:t=>Pe(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("Invalid field element: expected bigint, got "+typeof t);return Ke<=t&&t<e},is0:e=>e===Ke,isOdd:e=>(e&He)===He,neg:t=>Pe(-t,e),eql:(e,t)=>e===t,sqr:t=>Pe(t*t,e),add:(t,r)=>Pe(t+r,e),sub:(t,r)=>Pe(t-r,e),mul:(t,r)=>Pe(t*r,e),pow:(e,t)=>jg(a,e,t),div:(t,r)=>Pe(t*fs(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>fs(t,e),sqrt:n.sqrt||(e=>o(a,e)),invertBatch:e=>Vg(a,e),cmov:(e,t,r)=>r?t:e,toBytes:e=>r?br(e,i):sr(e,i),fromBytes:e=>{if(e.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${e.length}`);return r?nr(e):Dt(e)}});return Object.freeze(a)}function ym(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");let t=e.toString(2).length;return Math.ceil(t/8)}function Ca(e){let t=ym(e);return t+Math.ceil(t/2)}function xm(e,t,r=!1){let n=e.length,s=ym(t),i=Ca(t);if(n<16||n<i||n>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${n}`);let o=Pe(r?Dt(e):nr(e),t-He)+He;return r?br(o,s):sr(o,s)}var Kg=BigInt(0),Ba=BigInt(1),La=new WeakMap,wm=new WeakMap;function gs(e,t){let r=(e,t)=>{let r=t.negate();return e?r:t},n=e=>{if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error(`Wrong window size=${e}, should be [1..${t}]`)},s=e=>(n(e),{windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:r,unsafeLadder(t,r){let n=e.ZERO,s=t;for(;r>Kg;)r&Ba&&(n=n.add(s)),s=s.double(),r>>=Ba;return n},precomputeWindow(e,t){let{windows:r,windowSize:n}=s(t),i=[],o=e,a=o;for(let e=0;e<r;e++){a=o,i.push(a);for(let e=1;e<n;e++)a=a.add(o),i.push(a);o=a.double()}return i},wNAF(t,n,i){let{windows:o,windowSize:a}=s(t),l=e.ZERO,c=e.BASE,u=BigInt(2**t-1),d=2**t,p=BigInt(t);for(let e=0;e<o;e++){let t=e*a,s=Number(i&u);i>>=p,s>a&&(s-=d,i+=Ba);let o=t,h=t+Math.abs(s)-1,m=e%2!=0,g=s<0;0===s?c=c.add(r(m,n[o])):l=l.add(r(g,n[h]))}return{p:l,f:c}},wNAFCached(e,t,r){let n=wm.get(e)||1,s=La.get(e);return s||(s=this.precomputeWindow(e,n),1!==n&&La.set(e,r(s))),this.wNAF(n,s,t)},setWindowSize(e,t){n(t),wm.set(e,t),La.delete(e)}}}function ys(e,t,r,n){if(!Array.isArray(r)||!Array.isArray(n)||n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");n.forEach((e,r)=>{if(!t.isValid(e))throw new Error(`wrong scalar at index ${r}`)}),r.forEach((t,r)=>{if(!(t instanceof e))throw new Error(`wrong point at index ${r}`)});let s=_a(BigInt(r.length)),i=s>12?s-3:s>4?s-2:s?2:1,o=(1<<i)-1,a=new Array(o+1).fill(e.ZERO),l=Math.floor((t.BITS-1)/i)*i,c=e.ZERO;for(let t=l;t>=0;t-=i){a.fill(e.ZERO);for(let e=0;e<n.length;e++){let s=n[e],i=Number(s>>BigInt(t)&BigInt(o));a[i]=a[i].add(r[e])}let s=e.ZERO;for(let t=a.length-1,r=e.ZERO;t>0;t--)r=r.add(a[t]),s=s.add(r);if(c=c.add(s),0!==t)for(let e=0;e<i;e++)c=c.double()}return c}function xn(e){return Ea(e.Fp),kt(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Ia(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}var xt=BigInt(0),it=BigInt(1),xs=BigInt(2),$g=BigInt(8),Gg={zip215:!0};function Yg(e){let t=xn(e);return kt(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}function bm(e){let t=Yg(e),{Fp:r,n:n,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:l}=t,c=xs<<BigInt(8*a)-it,u=r.create,d=or(t.n,t.nBitLength),p=t.uvRatio||((e,t)=>{try{return{isValid:!0,value:r.sqrt(e*r.inv(t))}}catch{return{isValid:!1,value:xt}}}),h=t.adjustScalarBytes||(e=>e),m=t.domain||((e,t,r)=>{if(gt("phflag",r),t.length||r)throw new Error("Contexts/pre-hash are not supported");return e});function g(e,t){ot("coordinate "+e,t,xt,c)}function f(e){if(!(e instanceof b))throw new Error("ExtendedPoint expected")}let y=Sr((e,t)=>{let{ex:n,ey:s,ez:i}=e,o=e.is0();null==t&&(t=o?$g:r.inv(i));let a=u(n*t),l=u(s*t),c=u(i*t);if(o)return{x:xt,y:it};if(c!==it)throw new Error("invZ was invalid");return{x:a,y:l}}),w=Sr(e=>{let{a:r,d:n}=t;if(e.is0())throw new Error("bad point: ZERO");let{ex:s,ey:i,ez:o,et:a}=e,l=u(s*s),c=u(i*i),d=u(o*o),p=u(d*d),h=u(l*r);if(u(d*u(h+c))!==u(p+u(n*u(l*c))))throw new Error("bad point: equation left != right (1)");if(u(s*i)!==u(o*a))throw new Error("bad point: equation left != right (2)");return!0});class b{constructor(e,t,r,n){this.ex=e,this.ey=t,this.ez=r,this.et=n,g("x",e),g("y",t),g("z",r),g("t",n),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(e){if(e instanceof b)throw new Error("extended point not allowed");let{x:t,y:r}=e||{};return g("x",t),g("y",r),new b(t,r,it,u(t*r))}static normalizeZ(e){let t=r.invertBatch(e.map(e=>e.ez));return e.map((e,r)=>e.toAffine(t[r])).map(b.fromAffine)}static msm(e,t){return ys(b,d,e,t)}_setWindowSize(e){E.setWindowSize(this,e)}assertValidity(){w(this)}equals(e){f(e);let{ex:t,ey:r,ez:n}=this,{ex:s,ey:i,ez:o}=e,a=u(t*o),l=u(s*n),c=u(r*o),d=u(i*n);return a===l&&c===d}is0(){return this.equals(b.ZERO)}negate(){return new b(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){let{a:e}=t,{ex:r,ey:n,ez:s}=this,i=u(r*r),o=u(n*n),a=u(xs*u(s*s)),l=u(e*i),c=r+n,d=u(u(c*c)-i-o),p=l+o,h=p-a,m=l-o,g=u(d*h),f=u(p*m),y=u(d*m),w=u(h*p);return new b(g,f,w,y)}add(e){f(e);let{a:r,d:n}=t,{ex:s,ey:i,ez:o,et:a}=this,{ex:l,ey:c,ez:d,et:p}=e;if(r===BigInt(-1)){let e=u((i-s)*(c+l)),t=u((i+s)*(c-l)),r=u(t-e);if(r===xt)return this.double();let n=u(o*xs*p),h=u(a*xs*d),m=h+n,g=t+e,f=h-n,y=u(m*r),w=u(g*f),x=u(m*f),A=u(r*g);return new b(y,w,A,x)}let h=u(s*l),m=u(i*c),g=u(a*n*p),y=u(o*d),w=u((s+i)*(l+c)-h-m),x=y-g,A=y+g,E=u(m-r*h),v=u(w*x),T=u(A*E),I=u(w*E),S=u(x*A);return new b(v,T,S,I)}subtract(e){return this.add(e.negate())}wNAF(e){return E.wNAFCached(this,e,b.normalizeZ)}multiply(e){let t=e;ot("scalar",t,it,n);let{p:r,f:s}=this.wNAF(t);return b.normalizeZ([r,s])[0]}multiplyUnsafe(e){let t=e;return ot("scalar",t,xt,n),t===xt?A:this.equals(A)||t===it?this:this.equals(x)?this.wNAF(t).p:E.unsafeLadder(this,t)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return E.unsafeLadder(this,n).is0()}toAffine(e){return y(this,e)}clearCofactor(){let{h:e}=t;return e===it?this:this.multiplyUnsafe(e)}static fromHex(e,n=!1){let{d:s,a:i}=t,o=r.BYTES;e=Fe("pointHex",e,o),gt("zip215",n);let a=e.slice(),l=e[o-1];a[o-1]=-129&l;let d=nr(a),h=n?c:r.ORDER;ot("pointHex.y",d,xt,h);let m=u(d*d),g=u(m-it),f=u(s*m-i),{isValid:y,value:w}=p(g,f);if(!y)throw new Error("Point.fromHex: invalid y coordinate");let x=(w&it)===it,A=!!(128&l);if(!n&&w===xt&&A)throw new Error("Point.fromHex: x=0 and x_0=1");return A!==x&&(w=u(-w)),b.fromAffine({x:w,y:d})}static fromPrivateKey(e){return I(e).point}toRawBytes(){let{x:e,y:t}=this.toAffine(),n=br(t,r.BYTES);return n[n.length-1]|=e&it?128:0,n}toHex(){return Nt(this.toRawBytes())}}b.BASE=new b(t.Gx,t.Gy,it,u(t.Gx*t.Gy)),b.ZERO=new b(xt,it,it,xt);let{BASE:x,ZERO:A}=b,E=gs(b,8*a);function v(e){return Pe(e,n)}function T(e){return v(nr(e))}function I(e){let t=a;e=Fe("private key",e,t);let r=Fe("hashed private key",i(e),2*t),n=h(r.slice(0,t)),s=r.slice(t,2*t),o=T(n),l=x.multiply(o),c=l.toRawBytes();return{head:n,prefix:s,scalar:o,point:l,pointBytes:c}}function S(e=new Uint8Array,...t){let r=qt(...t);return T(i(m(r,Fe("context",e),!!s)))}let _=Gg;return x._setWindowSize(8),{CURVE:t,getPublicKey:function(e){return I(e).pointBytes},sign:function(e,t,i={}){e=Fe("message",e),s&&(e=s(e));let{prefix:o,scalar:l,pointBytes:c}=I(t),u=S(i.context,o,e),d=x.multiply(u).toRawBytes(),p=v(u+S(i.context,d,c,e)*l);return ot("signature.s",p,xt,n),Fe("result",qt(d,br(p,r.BYTES)),2*a)},verify:function(e,t,n,i=_){let{context:o,zip215:a}=i,l=r.BYTES;e=Fe("signature",e,2*l),t=Fe("message",t),void 0!==a&&gt("zip215",a),s&&(t=s(t));let c,u,d,p=nr(e.slice(l,2*l));try{c=b.fromHex(n,a),u=b.fromHex(e.slice(0,l),a),d=x.multiplyUnsafe(p)}catch{return!1}if(!a&&c.isSmallOrder())return!1;let h=S(o,u.toRawBytes(),c.toRawBytes(),t);return u.add(c.multiplyUnsafe(h)).subtract(d).clearCofactor().equals(b.ZERO)},ExtendedPoint:b,utils:{getExtendedPublicKey:I,randomPrivateKey:()=>o(r.BYTES),precompute:(e=8,t=b.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}}var Ma=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Sm=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),wj=BigInt(0),Zg=BigInt(1),Am=BigInt(2),bj=BigInt(3),Xg=BigInt(5),Jg=BigInt(8);function Qg(e){let t=BigInt(10),r=BigInt(20),n=BigInt(40),s=BigInt(80),i=Ma,o=e*e%i*e%i,a=yt(o,Am,i)*o%i,l=yt(a,Zg,i)*e%i,c=yt(l,Xg,i)*l%i,u=yt(c,t,i)*c%i,d=yt(u,r,i)*u%i,p=yt(d,n,i)*d%i,h=yt(p,s,i)*p%i,m=yt(h,s,i)*p%i,g=yt(m,t,i)*c%i;return{pow_p_5_8:yt(g,Am,i)*e%i,b2:o}}function ey(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function ty(e,t){let r=Ma,n=Pe(t*t*t,r),s=Pe(n*n*t,r),i=Pe(e*n*Qg(e*s).pow_p_5_8,r),o=Pe(t*i*i,r),a=i,l=Pe(i*Sm,r),c=o===e,u=o===Pe(-e,r),d=o===Pe(-e*Sm,r);return c&&(i=a),(u||d)&&(i=l),gm(i,r)&&(i=Pe(-i,r)),{isValid:c||u,value:i}}var ry=or(Ma,void 0,!0),ny={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:ry,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:Jg,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:lm,randomBytes:Wn,adjustScalarBytes:ey,uvRatio:ty},vm=bm(ny);function Rm(e,t){return Bt.IntentMessage(Bt.fixedArray(t.length,Bt.u8())).serialize({intent:{scope:{[e]:!0},version:{V0:!0},appId:{Sui:!0}},value:t}).toBytes()}c(),p(),c(),p();var Ot={ED25519:0,Secp256k1:1,Secp256r1:2,MultiSig:3,ZkLogin:5,Passkey:6},_m={ED25519:32,Secp256k1:33,Secp256r1:33},km={0:"ED25519",1:"Secp256k1",2:"Secp256r1",3:"MultiSig",5:"ZkLogin",6:"Passkey"};c(),p(),c(),p(),c(),p(),c(),p();var sy=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ir=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ar=new Uint32Array(64),Pa=class extends jr{constructor(){super(64,32,8,!1),this.A=0|ir[0],this.B=0|ir[1],this.C=0|ir[2],this.D=0|ir[3],this.E=0|ir[4],this.F=0|ir[5],this.G=0|ir[6],this.H=0|ir[7]}get(){let{A:e,B:t,C:r,D:n,E:s,F:i,G:o,H:a}=this;return[e,t,r,n,s,i,o,a]}set(e,t,r,n,s,i,o,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|s,this.F=0|i,this.G=0|o,this.H=0|a}process(e,t){for(let r=0;r<16;r++,t+=4)ar[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=ar[e-15],r=ar[e-2],n=ut(t,7)^ut(t,18)^t>>>3,s=ut(r,17)^ut(r,19)^r>>>10;ar[e]=s+ar[e-7]+n+ar[e-16]|0}let{A:r,B:n,C:s,D:i,E:o,F:a,G:l,H:c}=this;for(let e=0;e<64;e++){let t=c+(ut(o,6)^ut(o,11)^ut(o,25))+pm(o,a,l)+sy[e]+ar[e]|0,u=(ut(r,2)^ut(r,13)^ut(r,22))+dm(r,n,s)|0;c=l,l=a,a=o,o=i+t|0,i=s,s=n,n=r,r=t+u|0}r=r+this.A|0,n=n+this.B|0,s=s+this.C|0,i=i+this.D|0,o=o+this.E|0,a=a+this.F|0,l=l+this.G|0,c=c+this.H|0,this.set(r,n,s,i,o,a,l,c)}roundClean(){ar.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},wn=Fn(()=>new Pa);c(),p(),c(),p();var ws=class extends Hn{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,Qc(e);let r=On(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let n=this.blockLen,s=new Uint8Array(n);s.set(r.length>n?e.create().update(r).digest():r);for(let e=0;e<s.length;e++)s[e]^=54;this.iHash.update(s),this.oHash=e.create();for(let e=0;e<s.length;e++)s[e]^=106;this.oHash.update(s),s.fill(0)}update(e){return Mr(this),this.iHash.update(e),this}digestInto(e){Mr(this),Jc(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:r,finished:n,destroyed:s,blockLen:i,outputLen:o}=this;return e.finished=n,e.destroyed=s,e.blockLen=i,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Ua=(e,t,r)=>new ws(e,t).update(r).digest();function Tm(e){void 0!==e.lowS&&gt("lowS",e.lowS),void 0!==e.prehash&&gt("prehash",e.prehash)}function oy(e){let t=xn(e);kt(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:s}=t;if(r){if(!n.eql(s,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}Ua.create=(e,t)=>new ws(e,t),c(),p();var{bytesToNumberBE:iy,hexToBytes:ay}=hs,Ht={Err:class extends Error{constructor(e=""){super(e)}},_tlv:{encode:(e,t)=>{let{Err:r}=Ht;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(1&t.length)throw new r("tlv.encode: unpadded data");let n=t.length/2,s=xr(n);if(s.length/2&128)throw new r("tlv.encode: long form length too big");let i=n>127?xr(s.length/2|128):"";return`${xr(e)}${i}${s}${t}`},decode(e,t){let{Err:r}=Ht,n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");let s=t[n++],i=0;if(128&s){let e=127&s;if(!e)throw new r("tlv.decode(long): indefinite length not supported");if(e>4)throw new r("tlv.decode(long): byte length is too big");let o=t.subarray(n,n+e);if(o.length!==e)throw new r("tlv.decode: length bytes not complete");if(0===o[0])throw new r("tlv.decode(long): zero leftmost byte");for(let e of o)i=i<<8|e;if(n+=e,i<128)throw new r("tlv.decode(long): not minimal encoding")}else i=s;let o=t.subarray(n,n+i);if(o.length!==i)throw new r("tlv.decode: wrong value length");return{v:o,l:t.subarray(n+i)}}},_int:{encode(e){let{Err:t}=Ht;if(e<Ft)throw new t("integer: negative integers are not allowed");let r=xr(e);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new t("unexpected assertion");return r},decode(e){let{Err:t}=Ht;if(128&e[0])throw new t("Invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("Invalid signature integer: unnecessary leading zero");return iy(e)}},toSig(e){let{Err:t,_int:r,_tlv:n}=Ht,s="string"==typeof e?ay(e):e;Vr(s);let{v:i,l:o}=n.decode(48,s);if(o.length)throw new t("Invalid signature: left bytes after parsing");let{v:a,l:l}=n.decode(2,i),{v:c,l:u}=n.decode(2,l);if(u.length)throw new t("Invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(c)}},hexFromSig(e){let{_tlv:t,_int:r}=Ht,n=`${t.encode(2,r.encode(e.r))}${t.encode(2,r.encode(e.s))}`;return t.encode(48,n)}},Ft=BigInt(0),$e=BigInt(1),Vj=BigInt(2),Em=BigInt(3),zj=BigInt(4);function cy(e){let t=oy(e),{Fp:r}=t,n=or(t.n,t.nBitLength),s=t.toBytes||((e,t,n)=>{let s=t.toAffine();return qt(Uint8Array.from([4]),r.toBytes(s.x),r.toBytes(s.y))}),i=t.fromBytes||(e=>{let t=e.subarray(1);return{x:r.fromBytes(t.subarray(0,r.BYTES)),y:r.fromBytes(t.subarray(r.BYTES,2*r.BYTES))}});function o(e){let{a:n,b:s}=t,i=r.sqr(e),o=r.mul(i,e);return r.add(r.add(o,r.mul(e,n)),s)}if(!r.eql(r.sqr(t.Gy),o(t.Gx)))throw new Error("bad generator point: equation left != right");function a(e){let r,{allowedPrivateKeyLengths:n,nByteLength:s,wrapPrivateKey:i,n:o}=t;if(n&&"bigint"!=typeof e){if(rr(e)&&(e=Nt(e)),"string"!=typeof e||!n.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*s,"0")}try{r="bigint"==typeof e?e:Dt(Fe("private key",e,s))}catch{throw new Error(`private key must be ${s} bytes, hex or bigint, not ${typeof e}`)}return i&&(r=Pe(r,o)),ot("private key",r,$e,o),r}function l(e){if(!(e instanceof d))throw new Error("ProjectivePoint expected")}let c=Sr((e,t)=>{let{px:n,py:s,pz:i}=e;if(r.eql(i,r.ONE))return{x:n,y:s};let o=e.is0();null==t&&(t=o?r.ONE:r.inv(i));let a=r.mul(n,t),l=r.mul(s,t),c=r.mul(i,t);if(o)return{x:r.ZERO,y:r.ZERO};if(!r.eql(c,r.ONE))throw new Error("invZ was invalid");return{x:a,y:l}}),u=Sr(e=>{if(e.is0()){if(t.allowInfinityPoint&&!r.is0(e.py))return;throw new Error("bad point: ZERO")}let{x:n,y:s}=e.toAffine();if(!r.isValid(n)||!r.isValid(s))throw new Error("bad point: x or y not FE");let i=r.sqr(s),a=o(n);if(!r.eql(i,a))throw new Error("bad point: equation left != right");if(!e.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class d{constructor(e,t,n){if(this.px=e,this.py=t,this.pz=n,null==e||!r.isValid(e))throw new Error("x required");if(null==t||!r.isValid(t))throw new Error("y required");if(null==n||!r.isValid(n))throw new Error("z required");Object.freeze(this)}static fromAffine(e){let{x:t,y:n}=e||{};if(!e||!r.isValid(t)||!r.isValid(n))throw new Error("invalid affine point");if(e instanceof d)throw new Error("projective point not allowed");let s=e=>r.eql(e,r.ZERO);return s(t)&&s(n)?d.ZERO:new d(t,n,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){let t=r.invertBatch(e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(d.fromAffine)}static fromHex(e){let t=d.fromAffine(i(Fe("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return d.BASE.multiply(a(e))}static msm(e,t){return ys(d,n,e,t)}_setWindowSize(e){h.setWindowSize(this,e)}assertValidity(){u(this)}hasEvenY(){let{y:e}=this.toAffine();if(r.isOdd)return!r.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){l(e);let{px:t,py:n,pz:s}=this,{px:i,py:o,pz:a}=e,c=r.eql(r.mul(t,a),r.mul(i,s)),u=r.eql(r.mul(n,a),r.mul(o,s));return c&&u}negate(){return new d(this.px,r.neg(this.py),this.pz)}double(){let{a:e,b:n}=t,s=r.mul(n,Em),{px:i,py:o,pz:a}=this,l=r.ZERO,c=r.ZERO,u=r.ZERO,p=r.mul(i,i),h=r.mul(o,o),m=r.mul(a,a),g=r.mul(i,o);return g=r.add(g,g),u=r.mul(i,a),u=r.add(u,u),l=r.mul(e,u),c=r.mul(s,m),c=r.add(l,c),l=r.sub(h,c),c=r.add(h,c),c=r.mul(l,c),l=r.mul(g,l),u=r.mul(s,u),m=r.mul(e,m),g=r.sub(p,m),g=r.mul(e,g),g=r.add(g,u),u=r.add(p,p),p=r.add(u,p),p=r.add(p,m),p=r.mul(p,g),c=r.add(c,p),m=r.mul(o,a),m=r.add(m,m),p=r.mul(m,g),l=r.sub(l,p),u=r.mul(m,h),u=r.add(u,u),u=r.add(u,u),new d(l,c,u)}add(e){l(e);let{px:n,py:s,pz:i}=this,{px:o,py:a,pz:c}=e,u=r.ZERO,p=r.ZERO,h=r.ZERO,m=t.a,g=r.mul(t.b,Em),f=r.mul(n,o),y=r.mul(s,a),w=r.mul(i,c),b=r.add(n,s),x=r.add(o,a);b=r.mul(b,x),x=r.add(f,y),b=r.sub(b,x),x=r.add(n,i);let A=r.add(o,c);return x=r.mul(x,A),A=r.add(f,w),x=r.sub(x,A),A=r.add(s,i),u=r.add(a,c),A=r.mul(A,u),u=r.add(y,w),A=r.sub(A,u),h=r.mul(m,x),u=r.mul(g,w),h=r.add(u,h),u=r.sub(y,h),h=r.add(y,h),p=r.mul(u,h),y=r.add(f,f),y=r.add(y,f),w=r.mul(m,w),x=r.mul(g,x),y=r.add(y,w),w=r.sub(f,w),w=r.mul(m,w),x=r.add(x,w),f=r.mul(y,x),p=r.add(p,f),f=r.mul(A,x),u=r.mul(b,u),u=r.sub(u,f),f=r.mul(b,y),h=r.mul(A,h),h=r.add(h,f),new d(u,p,h)}subtract(e){return this.add(e.negate())}is0(){return this.equals(d.ZERO)}wNAF(e){return h.wNAFCached(this,e,d.normalizeZ)}multiplyUnsafe(e){ot("scalar",e,Ft,t.n);let n=d.ZERO;if(e===Ft)return n;if(e===$e)return this;let{endo:s}=t;if(!s)return h.unsafeLadder(this,e);let{k1neg:i,k1:o,k2neg:a,k2:l}=s.splitScalar(e),c=n,u=n,p=this;for(;o>Ft||l>Ft;)o&$e&&(c=c.add(p)),l&$e&&(u=u.add(p)),p=p.double(),o>>=$e,l>>=$e;return i&&(c=c.negate()),a&&(u=u.negate()),u=new d(r.mul(u.px,s.beta),u.py,u.pz),c.add(u)}multiply(e){let n,s,{endo:i,n:o}=t;if(ot("scalar",e,$e,o),i){let{k1neg:t,k1:o,k2neg:a,k2:l}=i.splitScalar(e),{p:c,f:u}=this.wNAF(o),{p:p,f:m}=this.wNAF(l);c=h.constTimeNegate(t,c),p=h.constTimeNegate(a,p),p=new d(r.mul(p.px,i.beta),p.py,p.pz),n=c.add(p),s=u.add(m)}else{let{p:t,f:r}=this.wNAF(e);n=t,s=r}return d.normalizeZ([n,s])[0]}multiplyAndAddUnsafe(e,t,r){let n=d.BASE,s=(e,t)=>t!==Ft&&t!==$e&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),i=s(this,t).add(s(e,r));return i.is0()?void 0:i}toAffine(e){return c(this,e)}isTorsionFree(){let{h:e,isTorsionFree:r}=t;if(e===$e)return!0;if(r)return r(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:e,clearCofactor:r}=t;return e===$e?this:r?r(d,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return gt("isCompressed",e),this.assertValidity(),s(d,this,e)}toHex(e=!0){return gt("isCompressed",e),Nt(this.toRawBytes(e))}}d.BASE=new d(t.Gx,t.Gy,r.ONE),d.ZERO=new d(r.ZERO,r.ONE,r.ZERO);let p=t.nBitLength,h=gs(d,t.endo?Math.ceil(p/2):p);return{CURVE:t,ProjectivePoint:d,normPrivateKeyToScalar:a,weierstrassEquation:o,isWithinCurveOrder:function(e){return gn(e,$e,t.n)}}}function py(e){let t=xn(e);return kt(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function Im(e){let t=py(e),{Fp:r,n:n}=t,s=r.BYTES+1,i=2*r.BYTES+1;function o(e){return Pe(e,n)}function a(e){return fs(e,n)}let{ProjectivePoint:l,normPrivateKeyToScalar:c,weierstrassEquation:u,isWithinCurveOrder:d}=cy({...t,toBytes(e,t,n){let s=t.toAffine(),i=r.toBytes(s.x),o=qt;return gt("isCompressed",n),n?o(Uint8Array.from([t.hasEvenY()?2:3]),i):o(Uint8Array.from([4]),i,r.toBytes(s.y))},fromBytes(e){let t=e.length,n=e[0],o=e.subarray(1);if(t!==s||2!==n&&3!==n){if(t===i&&4===n)return{x:r.fromBytes(o.subarray(0,r.BYTES)),y:r.fromBytes(o.subarray(r.BYTES,2*r.BYTES))};throw new Error(`Point of length ${t} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}{let t=Dt(o);if(!gn(t,$e,r.ORDER))throw new Error("Point is not on curve");let s,i=u(t);try{s=r.sqrt(i)}catch(e){let t=e instanceof Error?": "+e.message:"";throw new Error("Point is not on curve"+t)}return!(1&~n)!=((s&$e)===$e)&&(s=r.neg(s)),{x:t,y:s}}}}),p=e=>Nt(sr(e,t.nByteLength));function h(e){return e>n>>$e}let m=(e,t,r)=>Dt(e.slice(t,r));class g{constructor(e,t,r){this.r=e,this.s=t,this.recovery=r,this.assertValidity()}static fromCompact(e){let r=t.nByteLength;return e=Fe("compactSignature",e,2*r),new g(m(e,0,r),m(e,r,2*r))}static fromDER(e){let{r:t,s:r}=Ht.toSig(Fe("DER",e));return new g(t,r)}assertValidity(){ot("r",this.r,$e,n),ot("s",this.s,$e,n)}addRecoveryBit(e){return new g(this.r,this.s,e)}recoverPublicKey(e){let{r:n,s:s,recovery:i}=this,c=b(Fe("msgHash",e));if(null==i||![0,1,2,3].includes(i))throw new Error("recovery id invalid");let u=2===i||3===i?n+t.n:n;if(u>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");let d=1&i?"03":"02",h=l.fromHex(d+p(u)),m=a(u),g=o(-c*m),f=o(s*m),y=l.BASE.multiplyAndAddUnsafe(h,g,f);if(!y)throw new Error("point at infinify");return y.assertValidity(),y}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return wr(this.toDERHex())}toDERHex(){return Ht.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return wr(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}let f={isValidPrivateKey(e){try{return c(e),!0}catch{return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{let e=Ca(t.n);return xm(t.randomBytes(e),t.n)},precompute:(e=8,t=l.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function y(e){let t=rr(e),r="string"==typeof e,n=(t||r)&&e.length;return t?n===s||n===i:r?n===2*s||n===2*i:e instanceof l}let w=t.bits2int||function(e){let r=Dt(e),n=8*e.length-t.nBitLength;return n>0?r>>BigInt(n):r},b=t.bits2int_modN||function(e){return o(w(e))},x=yn(t.nBitLength);function A(e){return ot(`num < 2^${t.nBitLength}`,e,Ft,x),sr(e,t.nByteLength)}function E(e,n,s=v){if(["recovered","canonical"].some(e=>e in s))throw new Error("sign() legacy options not supported");let{hash:i,randomBytes:u}=t,{lowS:p,prehash:m,extraEntropy:f}=s;null==p&&(p=!0),e=Fe("msgHash",e),Tm(s),m&&(e=Fe("prehashed msgHash",i(e)));let y=b(e),x=c(n),E=[A(x),A(y)];if(null!=f&&!1!==f){let e=!0===f?u(r.BYTES):f;E.push(Fe("extraEntropy",e))}let T=qt(...E),I=y;return{seed:T,k2sig:function(e){let t=w(e);if(!d(t))return;let r=a(t),n=l.BASE.multiply(t).toAffine(),s=o(n.x);if(s===Ft)return;let i=o(r*o(I+s*x));if(i===Ft)return;let c=(n.x===s?0:2)|Number(n.y&$e),u=i;return p&&h(i)&&(u=function(e){return h(e)?o(-e):e}(i),c^=1),new g(s,u,c)}}}let v={lowS:t.lowS,prehash:!1},T={lowS:t.lowS,prehash:!1};return l.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return l.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(y(e))throw new Error("first arg must be private key");if(!y(t))throw new Error("second arg must be public key");return l.fromHex(t).multiply(c(e)).toRawBytes(r)},sign:function(e,r,n=v){let{seed:s,k2sig:i}=E(e,r,n),o=t;return ka(o.hash.outputLen,o.nByteLength,o.hmac)(s,i)},verify:function(e,r,n,s=T){let i=e;if(r=Fe("msgHash",r),n=Fe("publicKey",n),"strict"in s)throw new Error("options.strict was renamed to lowS");Tm(s);let c,u,{lowS:d,prehash:p}=s;try{if("string"==typeof i||rr(i))try{c=g.fromDER(i)}catch(e){if(!(e instanceof Ht.Err))throw e;c=g.fromCompact(i)}else{if("object"!=typeof i||"bigint"!=typeof i.r||"bigint"!=typeof i.s)throw new Error("PARSE");{let{r:e,s:t}=i;c=new g(e,t)}}u=l.fromHex(n)}catch(e){if("PARSE"===e.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(d&&c.hasHighS())return!1;p&&(r=t.hash(r));let{r:h,s:m}=c,f=b(r),y=a(m),w=o(f*y),x=o(h*y),A=l.BASE.multiplyAndAddUnsafe(u,w,x)?.toAffine();return!!A&&o(A.x)===h},ProjectivePoint:l,Signature:g,utils:f}}function dy(e){return{hash:e,hmac:(t,...r)=>Ua(e,t,Fs(...r)),randomBytes:Wn}}function Cm(e,t){let r=t=>Im({...e,...dy(t)});return Object.freeze({...r(t),create:r})}var Bm=or(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),ly=Bm.create(BigInt("-3")),uy=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),my=Cm({a:ly,b:uy,Fp:Bm,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},wn),Lm=my;function zr(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}c(),p();var cr=class{equals(e){return zr(this.toRawBytes(),e.toRawBytes())}toBase64(){return lt(this.toRawBytes())}toString(){throw new Error("`toString` is not implemented on public keys. Use `toBase64()` or `toRawBytes()` instead.")}toSuiPublicKey(){let e=this.toSuiBytes();return lt(e)}verifyWithIntent(e,t,r){let n=Rm(r,e),s=tn(n,{dkLen:32});return this.verify(s,t)}verifyPersonalMessage(e,t){return this.verifyWithIntent(Bt.vector(Bt.u8()).serialize(e).toBytes(),t,"PersonalMessage")}verifyTransaction(e,t){return this.verifyWithIntent(e,t,"TransactionData")}verifyAddress(e){return this.toSuiAddress()===e}toSuiBytes(){let e=this.toRawBytes(),t=new Uint8Array(e.length+1);return t.set([this.flag()]),t.set(e,1),t}toSuiAddress(){return Nn(qn(tn(this.toSuiBytes(),{dkLen:32})).slice(0,2*Un))}},Na=33,Da=64,AV=new Uint8Array([48,89,48,19,6,7,42,134,72,206,61,2,1,6,8,42,134,72,206,61,3,1,7,3,66,0]),qa=class extends cr{constructor(e){if(super(),"string"==typeof e?this.data=at(e):e instanceof Uint8Array?this.data=e:this.data=Uint8Array.from(e),this.data.length!==Na)throw new Error(`Invalid public key input. Expected ${Na} bytes, got ${this.data.length}`)}equals(e){return super.equals(e)}toRawBytes(){return this.data}flag(){return Ot.Passkey}async verify(e,t){let r=Oa(t),n=JSON.parse(r.clientDataJson);if("webauthn.get"!==n.type)return!1;if(!zr(e,at(n.challenge.replace(/-/g,"+").replace(/_/g,"/"))))return!1;let s=r.userSignature.slice(1+Da);if(!zr(this.toRawBytes(),s))return!1;let i=new Uint8Array([...r.authenticatorData,...wn(r.clientDataJson)]),o=r.userSignature.slice(1,Da+1);return Lm.verify(o,wn(i),s)}};function Oa(e){let t="string"==typeof e?at(e):e;if(t[0]!==Ot.Passkey)throw new Error("Invalid signature scheme");let r=Xc.parse(t.slice(1));return{signatureScheme:"Passkey",serializedSignature:lt(t),signature:t,authenticatorData:r.authenticatorData,clientDataJson:r.clientDataJson,userSignature:new Uint8Array(r.userSignature),publicKey:new Uint8Array(r.userSignature.slice(1+Da))}}qa.SIZE=Na,c(),p(),c(),p();var vs,Rs,_s,ks,Mm=e=>{throw TypeError(e)},Pm=(e,t,r)=>t.has(e)||Mm("Cannot "+r),bs=(e,t,r)=>(Pm(e,t,"read from private field"),r?r.call(e):t.get(e)),Ss=(e,t,r)=>t.has(e)?Mm("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),As=(e,t,r,n)=>(Pm(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Ha=class extends Error{},Ts=class{constructor({url:e,fetch:t=fetch,headers:r={},queries:n={}}){Ss(this,vs),Ss(this,Rs),Ss(this,_s),Ss(this,ks),As(this,vs,e),As(this,Rs,n),As(this,_s,r),As(this,ks,(...e)=>t(...e))}async query(e){let t=await bs(this,ks).call(this,bs(this,vs),{method:"POST",headers:{"Content-Type":"application/json",...bs(this,_s)},body:JSON.stringify({query:"string"==typeof e.query?String(e.query):Ac(e.query),variables:e.variables,extensions:e.extensions,operationName:e.operationName})});if(!t.ok)throw new Ha(`GraphQL request failed: ${t.statusText} (${t.status})`);return await t.json()}async execute(e,t){return this.query({...t,query:bs(this,Rs)[e]})}};vs=new WeakMap,Rs=new WeakMap,_s=new WeakMap,ks=new WeakMap,c(),p();var Um=vc();function hy(e){if(1!==e.length)throw new Error("Invalid base64Url character: "+e);let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".indexOf(e);if(-1===t)throw new Error("Invalid base64Url character: "+e);let r=t.toString(2).padStart(6,"0");return Array.from(r).map(Number)}function fy(e){let t=[];for(let r=0;r<e.length;r++){let n=hy(e.charAt(r));t=t.concat(n)}return t}function gy(e,t){if(e.length<2)throw new Error(`Input (s = ${e}) is not tightly packed because s.length < 2`);let r=fy(e),n=t%4;if(0!==n)if(1===n)r=r.slice(2);else{if(2!==n)throw new Error(`Input (s = ${e}) is not tightly packed because i%4 = 3 (i = ${t}))`);r=r.slice(4)}let s=(t+e.length-1)%4;if(3!==s)if(2===s)r=r.slice(0,r.length-2);else{if(1!==s)throw new Error(`Input (s = ${e}) is not tightly packed because (i + s.length - 1)%4 = 0 (i = ${t}))`);r=r.slice(0,r.length-4)}if(r.length%8!=0)throw new Error("We should never reach here...");let i=new Uint8Array(Math.floor(r.length/8)),o=0;for(let e=0;e<r.length;e+=8){let t=r.slice(e,e+8),n=parseInt(t.join(""),2);i[o++]=n}return(new TextDecoder).decode(i)}function yy(e){if("}"!==e.slice(-1)&&","!==e.slice(-1))throw new Error("Invalid claim");let t=JSON.parse("{"+e.slice(0,-1)+"}");if(1!==Object.keys(t).length)throw new Error("Invalid claim");let r=Object.keys(t)[0];return[r,t[r]]}function Nm(e,t){let r=gy(e.value,e.indexMod4),[n,s]=yy(r);if(n!==t)throw new Error(`Invalid field name: found ${n} expected ${t}`);return s}c(),p(),c(),p(),c(),p();var Dm=Ve.struct("ZkLoginSignature",{inputs:Ve.struct("ZkLoginSignatureInputs",{proofPoints:Ve.struct("ZkLoginSignatureInputsProofPoints",{a:Ve.vector(Ve.string()),b:Ve.vector(Ve.vector(Ve.string())),c:Ve.vector(Ve.string())}),issBase64Details:Ve.struct("ZkLoginSignatureInputsClaim",{value:Ve.string(),indexMod4:Ve.u8()}),headerBase64:Ve.string(),addressSeed:Ve.string()}),maxEpoch:Ve.u64(),userSignature:Ve.vector(Ve.u8())});function qm(e){return Dm.parse("string"==typeof e?at(e):e)}function xy(e){for(let t=0;t<e.length;t++)if(0!==e[t])return t;return-1}function Es(e,t){let r=e.toString(16);return tp(r.padStart(2*t,"0").slice(2*-t))}function Fa(e,t){let r=Es(e,t),n=xy(r);return-1===n?new Uint8Array([0]):r.slice(n)}c(),p();var wt,bn,Sn,Cs,Wa,Fm=e=>{throw TypeError(e)},Va=(e,t,r)=>t.has(e)||Fm("Cannot "+r),Wt=(e,t,r)=>(Va(e,t,"read from private field"),r?r.call(e):t.get(e)),Is=(e,t,r)=>t.has(e)?Fm("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Kr=(e,t,r,n)=>(Va(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Om=(e,t,r)=>(Va(e,t,"access private method"),r),wy=class e extends cr{constructor(e,{client:t}={}){super(),Is(this,Cs),Is(this,wt),Is(this,bn),Is(this,Sn),Kr(this,bn,t),"string"==typeof e?Kr(this,wt,at(e)):e instanceof Uint8Array?Kr(this,wt,e):Kr(this,wt,Uint8Array.from(e)),Kr(this,Sn,Wt(this,wt).length!==Wt(this,wt)[0]+1+32),Wt(this,Sn)&&Kr(this,wt,Wm(Wt(this,wt)))}equals(e){return super.equals(e)}toSuiAddress(){return Wt(this,Sn)?Om(this,Cs,Wa).call(this):super.toSuiAddress()}toRawBytes(){return Wt(this,wt)}flag(){return Ot.ZkLogin}async verify(e,t){throw Error("does not support")}verifyPersonalMessage(t,r){let n=Bs(r);return Hm({address:new e(n.publicKey).toSuiAddress(),bytes:lt(t),signature:n.serializedSignature,intentScope:"PERSONAL_MESSAGE",client:Wt(this,bn)})}verifyTransaction(t,r){let n=Bs(r);return Hm({address:new e(n.publicKey).toSuiAddress(),bytes:lt(t),signature:n.serializedSignature,intentScope:"TRANSACTION_DATA",client:Wt(this,bn)})}verifyAddress(e){return e===super.toSuiAddress()||e===Om(this,Cs,Wa).call(this)}};wt=new WeakMap,bn=new WeakMap,Sn=new WeakMap,Cs=new WeakSet,Wa=function(){let e=Wm(Wt(this,wt),!0),t=new Uint8Array(e.length+1);return t[0]=this.flag(),t.set(e,1),Nn(qn(tn(t,{dkLen:32})).slice(0,2*Un))};var by=wy;function Sy(e,t,r){let n=r?.legacyAddress?Fa(e,32):Es(e,32),s=(new TextEncoder).encode(t),i=new Uint8Array(1+s.length+n.length);return i.set([s.length],0),i.set(s,1),i.set(n,1+s.length),new by(i,r)}var Ay=Um("\n\tquery Zklogin(\n\t\t$bytes: Base64!\n\t\t$signature: Base64!\n\t\t$intentScope: ZkLoginIntentScope!\n\t\t$author: SuiAddress!\n\t) {\n\t\tverifyZkloginSignature(\n\t\t\tbytes: $bytes\n\t\t\tsignature: $signature\n\t\t\tintentScope: $intentScope\n\t\t\tauthor: $author\n\t\t) {\n\t\t\tsuccess\n\t\t\terrors\n\t\t}\n\t}\n");function Wm(e,t=!1){let r=e[0]+1,n=BigInt(`0x${Zc(e.slice(r))}`),s=t?Fa(n,32):Es(n,32),i=new Uint8Array(r+s.length);return i.set(e.slice(0,r),0),i.set(s,r),i}async function Hm({address:e,bytes:t,signature:r,intentScope:n,client:s=new Ts({url:"https://sui-mainnet.mystenlabs.com/graphql"})}){let i=await s.query({query:Ay,variables:{bytes:t,signature:r,intentScope:n,author:e}});return!0===i.data?.verifyZkloginSignature.success&&0===i.data?.verifyZkloginSignature.errors.length}function Bs(e){let t="string"==typeof e?at(e):e;if(t[0]!==Ot.ZkLogin)throw new Error("Invalid signature scheme");let r=t.slice(1),{inputs:n,maxEpoch:s,userSignature:i}=qm(r),{issBase64Details:o,addressSeed:a}=n,l=Nm(o,"iss"),c=Sy(BigInt(a),l);return{serializedSignature:lt(t),signatureScheme:"ZkLogin",zkLogin:{inputs:n,maxEpoch:s,userSignature:i,iss:l,addressSeed:BigInt(a)},signature:t,publicKey:c.toRawBytes()}}function jm(e){let t=at(e),r=km[t[0]];switch(r){case"Passkey":return Oa(e);case"MultiSig":return{serializedSignature:e,signatureScheme:r,multisig:Bt.MultiSig.parse(t.slice(1)),bytes:t};case"ZkLogin":return Bs(e);case"ED25519":case"Secp256k1":case"Secp256r1":let n=_m[r],s=t.slice(1,t.length-n);return{serializedSignature:e,signatureScheme:r,signature:s,publicKey:t.slice(1+s.length),bytes:t};default:throw new Error("Unsupported signature scheme")}}c(),p();var za=32,$r=class extends cr{constructor(e){if(super(),"string"==typeof e?this.data=at(e):e instanceof Uint8Array?this.data=e:this.data=Uint8Array.from(e),this.data.length!==za)throw new Error(`Invalid public key input. Expected ${za} bytes, got ${this.data.length}`)}equals(e){return super.equals(e)}toRawBytes(){return this.data}flag(){return Ot.ED25519}async verify(e,t){let r;if("string"==typeof t){let e=jm(t);if("ED25519"!==e.signatureScheme)throw new Error("Invalid signature scheme");if(!zr(this.toRawBytes(),e.publicKey))throw new Error("Signature does not match public key");r=e.signature}else r=t;return vm.verify(r,e,this.toRawBytes())}};$r.SIZE=za;var Ls=async()=>{let e=await fe();return An(e)},An=e=>{let t=e.addresses.filter(e=>"sui:mainnet"===e.networkID||"sui:testnet"===e.networkID);if(0===t.length)throw Mc;if(1===t.length){let[e]=t;if(!e?.publicKey)throw new Error("[sui provider] selected account account does not have a public key");let{publicKey:r,address:n}=e;return{address:n,publicKey:new $r(r).toSuiBytes().toString()}}throw new Error("[sui provider] multiple accounts provided")};c(),p();var Vm=async(e,t,r)=>{let n=await fe(),s=jn.from(t);s.setSenderIfNotSet(e);let i=await Vn({transaction:s,networkID:r}),o=await xe.sign(n.identifier,{chainType:"sui",signingType:"transaction",transaction:new Uint8Array(i)});if("error"===o.status)throw new Error(`[sui provider][${o.type}] ${o.message}`);let a=o.signature;if(!a)throw new Error("[sui provider] no message on vault response");return{signature:a,transaction:Ir(i)}};c(),p();var zm=async(e,t)=>{let r=await fe(),n=await xe.sign(r.identifier,{chainType:"sui",signingType:"personalMessage",message:t});if("error"===n.status)throw new Error(`[sui provider][${n.type}] ${n.message}`);if(!n.signature)throw new Error("[sui provider] no message on vault response");return{signature:n.signature,message:Ir(t)}};c(),p();var vy=new Re,Km=async(e,t,r)=>{let n=await fe(),s=jn.from(t);s.setSenderIfNotSet(e);let i=await Vn({transaction:s,networkID:r}),o={ownerAddress:e,networkID:r,data:{digest:""},type:"dappInteraction",display:{summary:{topLeft:{text:tt.t("transactionsPendingAppInteraction")}}}},{signature:a,digest:l,effects:c}=await cp({accountSigner:xe,accountIdentifier:n.identifier,transaction:i,pendingTransactionInput:o,storage:vy});return{signature:a,transaction:Ir(i),digest:l,effects:c}},pr={analytics:Xl,config:Jl,i18n:Ql,logger:eu,remoteConfig:Zl,rpc:tu,utils:nu,wallet:$a,featureFlags:Yl,secrets:{setSharedSecret:()=>{throw new Error("unimplemented")},encryptDeepLinkDappPayload:()=>{throw new Error("unimplemented")},deleteSharedSecret:()=>{throw new Error("unimplemented")},generateSharedSecret:()=>{throw new Error("unimplemented")},generateSession:()=>{throw new Error("unimplemented")},decryptDeepLinkDappPayload:()=>{throw new Error("unimplemented")}}},Ry=vt.eth.initialize(pr),_y=vt.sol.initialize(pr),ky=vt.sol_blink.initialize(pr),Ty=vt.eth_blink.initialize(pr),Ey=vt.btc.initialize(pr),Iy=vt.sui.initialize(pr),Cy=vt.phantom_auto_confirm.initialize(pr),$m={...Ey,...Ry,...Ty,..._y,...ky,...Iy,...Cy};c(),p();var Ga=re(St()),Gm=async e=>{let t=await Ga.default.tabs.get(e);if(!t?.url?.startsWith("http"))return{iconUrl:void 0,title:void 0};let r=await By(e);return{iconUrl:r?.iconUrl??t?.favIconUrl,title:r?.title??t?.title}},By=async e=>{try{let t=(await Ga.default.scripting.executeScript({target:{tabId:e},func:()=>{let e={},t=document.querySelectorAll("head link[rel^=apple-touch-icon]");t&&(e.iconTuples=Array.from(t).map(e=>[e.href,e.sizes?.[0]??"0x0"]));let r=document.querySelector("meta[property='og:title']");return r&&(e.title=r.content),e}}))[0].result;if(!t)return{iconUrl:void 0,title:void 0};let r,n=0;for(let[e,s]of t.iconTuples??[])r||(r=e),s&&parseInt(s.split("x")[0]??0)>n&&(r=e);return{title:t.title,iconUrl:r}}catch(e){return console.error("Failed to get tab meta",e),{iconUrl:void 0,title:void 0}}};c(),p();var Ms=[],Ya=e=>{Ms.push(e)},Za=e=>{Ms.splice(Ms.findIndex(t=>{let{origin:r,tabId:n,port:s}=t;return e.origin===r&&e.tabId===n&&s===e.port}),1)},Gr=()=>Ms.map(({origin:e,tabId:t,port:r})=>({origin:e,tabId:t,send:e=>r.postMessage(JSON.stringify(e))})),Ym=async e=>{if(!(e.sender&&e.sender.tab&&e.sender.url&&e.sender.tab.id))throw new Error("sender information is undefined");let t=e.sender.url,r=e.sender.tab.id;Ya({origin:new URL(t).origin,url:t,tabId:r,port:e}),e.onDisconnect.addListener(()=>{Za({origin:new URL(t).origin,url:t,tabId:r,port:e})});let n=[],s=e=>{if("string"==typeof e)try{let t=_n.parse(Vt(e));n.push(t)}catch{}};e.onMessage.addListener(s);let i=await Gm(r),o={type:"BrowserTabRpcRequestSource",url:new URL(t),icon:i.iconUrl?new URL(i.iconUrl):void 0},a=Ly(e,o,n),l=My(e);Ya({origin:new URL(t).origin,url:t,tabId:r,port:e}),e.onDisconnect.addListener(()=>{Za({origin:new URL(t).origin,url:t,tabId:r,port:e})});let c=new Ap({routes:$m}).init(a,l);return e.onMessage.removeListener(s),c};function Ly(e,t,r=[]){return new ReadableStream({async start(n){for(let e of r)n.enqueue(zs(e,t));e.onMessage.addListener(async e=>{let r=null;try{r=_n.parse(Vt(e))}catch{}if(r)try{n.enqueue(zs(r,t))}catch(e){le.captureError(new Error(`Stream enqueue failure (${e})`),"provider")}}),e.onDisconnect.addListener(()=>{n.close()})},async cancel(){e.disconnect()}},new CountQueuingStrategy({highWaterMark:1/0}))}function My(e){return new WritableStream({write([t,r]){e.postMessage(Ct(r))}})}c(),p();var vn=async({enabledChains:e,metamaskOverrideSetting:t})=>{let r=["solana.js","phantom.js"];if(e.includes("eip155"))switch(t){case"ALWAYS_ASK":r.push("evmAsk.js");break;case"USE_PHANTOM":r.push("evmPhantom.js");break;case"USE_METAMASK":r.push("evmMetamask.js");break;default:gc(t)}e.some(e=>"bip122_p2tr"===e||"bip122_p2wpkh"===e)&&r.push("btc.js"),e.some(e=>"sui"===e)&&r.push("sui.js");try{await chrome.scripting.registerContentScripts([{id:"inpageScripts",matches:["file://*/*","http://*/*","https://*/*"],js:r,runAt:"document_start",allFrames:!0,world:"MAIN"},{id:"contentScript",matches:["file://*/*","http://*/*","https://*/*"],js:["contentScript.js","solanaActionsContentScript.js"],runAt:"document_start",allFrames:!0,world:"ISOLATED"}])}catch{}};async function Rn(){try{let e=(await chrome.scripting.getRegisteredContentScripts()).map(e=>e.id);return chrome.scripting.unregisterContentScripts({ids:e})}catch(e){throw console.error("ERROR REGISTERING",e),new Error("An unexpected error occurred while unregistering dynamic content scripts: "+e.message,{cause:e})}}c(),p();var Zm=re(uh()),Xm=re(St()),Py=new qc(Te,Ip,Cp),Yr=new Re,Xa=new _t(Yr);async function Uy(){let{isOnboarded:e}=await xe.checkVaultIntegrity();e&&Jm()}var Ny=(0,Zm.default)(Jm,500);async function Jm(){let e=await fe(),t=await Yt(),r=await Os(xe,Yr,t);await Py.identifyAccount(r,e,t)}async function Qm(){Uy(),Yr.subscribe(e=>{switch(e){case".phantom-labs.account.selectedAccount":return void qy();case"developerMode":case"networkSetting":return void Dy();case"metaMaskOverride":return void Hy();case Cc:return void Fy()}}),Xa.addEventListener("revoked",e=>{Oy(e.data)})}async function Dy(){try{let e=await fe(),t=await Xa.get(e.identifier);for(let e of Gr()){let r=e.origin.toLowerCase();if(r in t){let t={jsonrpc:"2.0",method:"phantom_chainChanged",params:{evm:await Wr(r)}};e.send(t)}}}catch(e){le.captureError(e,"provider")}}async function qy(){try{await Ny()}catch(e){le.captureError(e,"provider")}let e,t,r,n,s=await fe();try{e=Ie(s,"eip155")}catch{}try{t=Ie(s,"solana")}catch{}try{r=await us()}catch{}try{n=await Ls()}catch{}if(e||t||r||n){let i=await Xa.get(s.identifier);for(let s of Gr()){let o={btc:[]};e&&(o.evm=e),t&&(o.sol=t),r&&(o.btc=r),n&&(o.sui=n),s.send({jsonrpc:"2.0",method:"phantom_accountChanged",params:s.origin in i?o:null})}}else for(let e of Gr())e.send({jsonrpc:"2.0",method:"phantom_accountChanged",params:null})}async function Oy(e){let t,r,n=await Yt(),s=(await Os(xe,Yr,n)).find(t=>t.identifier===e.accountId),i=s?.addresses?.find(e=>"eip155"===e.addressType)?.address,o=s?.addresses?.find(e=>"solana"===e.addressType)?.address;try{t=s?xa(s):void 0}catch{}try{r=s?An(s):void 0}catch{}if(!(i||o||t||r))return;let a={};i&&(a.evm=i),o&&(a.sol=o),t&&(a.btc=t),r&&(a.sui=r);for(let t of Gr())t.origin.toLowerCase()===e.origin.toLowerCase()&&t.send({jsonrpc:"2.0",method:"phantom_trustRevoked",params:a})}function Hy(){for(let e of Gr())(async()=>{try{await Xm.default.tabs.sendMessage(e.tabId,{jsonrpc:"2.0",method:"phantom_metaMaskOverrideSettingsChanged",params:null})}catch{}})();(async()=>{try{let e=await Yt(),t=await ur(Yr);await Rn(),await vn({enabledChains:e.enabledAddressTypes,metamaskOverrideSetting:t})}catch(e){console.error("Could not re-register content scripts",e)}})()}function Fy(){(async()=>{try{let e=await Yt(),t=await ur(Yr);await Rn(),await vn({enabledChains:e.enabledAddressTypes,metamaskOverrideSetting:t})}catch(e){console.error("Could not re-register content scripts",e)}})()}function eh(e){switch(e){case"solana:101":return Ye.SOLANA_MAINNET;case"solana:102":return Ye.SOLANA_TESTNET;case"solana:103":return Ye.SOLANA_DEVNET;case"eip155:143":case"eip155:10143":case"eip155:41454":case"eip155:1":case"eip155:11155111":case"eip155:8453":case"eip155:84532":case"eip155:137":case"eip155:80002":return e;default:return Object.values(Ye).find(t=>t===e)?e:null}}c(),p();var nh=2e4,dt=new Re,Wy=async()=>{await up(),await Vy(),en.init({provider:xp}),await bp("background"),dt.remove("unencryptedSeedAndMnemonic"),jy(),Qm(),await Rn(),await vn({enabledChains:(await Yt().catch(()=>({enabledAddressTypes:Sc.getAll()}))).enabledAddressTypes,metamaskOverrideSetting:await ur(dt).catch(()=>jc.enum.ALWAYS_ASK)})};async function jy(){if((await Je.default.tabs.query({url:Je.default.runtime.getURL("onboarding.html")})).length>0)return;let e=await mr.hasPersistedDeviceEncryptionKey(),t=await dt.get(Ks);!e&&!t&&(await dt.set("firstTimeOnboarding",{isFirstTimeOnboarding:!0}),mp({url:"onboarding.html"}),dt.set(Ks,!0))}function Vy(){Je.default.runtime.onInstalled.addListener($y),Je.default.runtime.onConnect.addListener(Zy),Je.default.alarms.onAlarm.addListener(Xy),Je.default.runtime.onMessage.addListener(lc(t1)),Je.default.tabs.onRemoved.addListener(Yy),Je.default.webRequest.onBeforeRequest.addListener(zy,{urls:["http://*/*","https://*/*"]})}async function zy(e){return e.tabId===Je.default.tabs.TAB_ID_NONE||"documentLifecycle"in e&&"prerender"===e.documentLifecycle||("main_frame"===e.type||"sub_frame"===e.type)&&await Ky(e.url,e.tabId),{}}async function Ky(e,t){let r=new Re,n=await Kc(r,Te,e);if(!n.result)return;if(n.isSubdomainDomainWhitelisted){let e=await dt.get("userWhitelistedSubdomains");if(JSON.parse(`${e}`)?.includes(`${n.source}`))return}let s=await dt.get("userWhitelistedOrigins");JSON.parse(`${s}`)?.includes(`${n.source}`)||(Te.capture("phishingBlocklistRedirect",{data:{targetURL:e}}),await Je.default.tabs.update(t,{url:`phishing.html?origin=${e}&subdomain=${n.isSubdomainDomainWhitelisted}`}))}function $y(e){switch(e.reason){case"install":Te&&Te.capture("appInstall");break;case"update":le.addBreadcrumb("startUp",`Extension updated from ${e.previousVersion} to ${hc}`,"debug")}}Wy().catch(e=>{console.error("w error",e)});var sh=e=>e.sender?.url===Je.default.runtime.getURL("popup.html")||e.sender?.url===Je.default.runtime.getURL("notification.html");async function Gy(e){if(!fo()&&sh(e)){uo(e.sender.url);let t=await dt.get("lockTimerMs"),r=Date.now()+(t??Hc);le.addBreadcrumb("account","Lock alarm created","debug",{skipFileLogger:!0}),Je.default.alarms.create("lockExtension",{when:r})}}function Yy(e){uo(e)}async function Zy(e){if(e.onDisconnect.addListener(Gy),sh(e)&&(fo()?(sn(),oh(Ja),Qa()):await Je.default.alarms.clear("lockExtension")),"contentscript"===e.name){if(e.sender&&e.sender.url&&e.sender.tab&&e.sender.tab.id){let t=e.postMessage.bind(e);e.postMessage=e=>{t(e)},(await Ym(e)).start()}e.postMessage("phantom#background#initialized"),e.onMessage.addListener(t=>{"string"==typeof t&&"phantom#ready_to_setup_streams"===t&&e.postMessage("phantom#background#initialized")})}}function Xy(e){if(e.name.startsWith("deleteStorageValue")){let[t,r]=e.name.split(":");dt.remove(r)}"lockExtension"===e.name&&(le.addBreadcrumb("account","Locked by alarm","debug"),Ed(!0),sn(),Qa())}async function Qa(){await Promise.all([dt.set($s,!0),wp("idle")])}async function Jy(){await dt.set($s,!1)}async function Qy(e,t){try{let r=await s1.get().catch(()=>[]),n=ao(t),{hideProvidersArray:s,dontOverrideWindowEthereum:o}=oo(n,r);return i.result(e.id,{hideProvidersArray:s,dontOverrideWindowEthereum:o})}catch(t){return le.captureError(t,"provider"),i.internalError(e.id,t?.message)}}async function e1(e){try{if("blinksEnabled"===e.method){let t=await zc(dt,!1);return i.result(e.id,t)}if("BlinksV2Config"===e.method){let t=await Yt();return i.result(e.id,{supportedBlockchains:t.enabledNetworkIDs.map(eh).filter(e=>null!=e)})}return i.methodNotFound(e.id)}catch(t){return le.captureError(t,"provider"),i.internalError(e.id)}}async function t1(e,t){let r=t.url,n=t.tab?.id;if(r&&"providerInjectionOptions"===e.method)return Qy(e,r);if(r&&"blinksEnabled"===e.method||"BlinksV2Config"===e.method)return e1(e);if(r&&"blinksLog"===e.method){let{event:t,body:r}=e.params;return Te.capture(t,{data:r}),i.result(e.id,"success")}if(!r||!r.startsWith(zn()))return le.captureMessage(`Unauthorized request from origin: ${En(r)}`,"generic","error"),i.result(e.id,`${e.method} not permitted`);if(!Object.values(Sp).includes(e.method))return le.captureMessage("Unauthorized method","generic","error"),i.result(e.id,`${e.method} not permitted`);switch(e.method){case"hasOnboarded":return kd(e);case"resetHasOnboarded":return Td(e);case"lockExtension":{let t=Bd(e);return oh(Ja),Qa(),t}case"unlockExtension":{let t=Id(e);return r1().then(e=>{Ja=e}),Jy(),t}case"IsExtensionUnlocked":return Cd(e);case"setPassword":return Ld(e);case"verifyPassword":return Md(e);case"updatePassword":return Pd(e);case"importPrivateKeyAccount":return rd(e);case"importReadOnlyAccount":return nd(e);case"importSeedAccount":return sd(e);case"importSocialSeedAccount":return od(e);case"isExistingSeed":return id(e);case"addAccountForSeed":return ad(e);case"addAccountForSeedless":return cd(e);case"addLedgerAccounts":return pd(e);case"exportPrivateKey":return dd(e);case"exportEntropy":return ld(e);case"setAccountIcon":return ud(e);case"deriveAddresses":return md(e);case"removeAccount":return hd(e);case"reorderAccount":return fd(e);case"getAllAccounts":return gd(e);case"getAllSeeds":return yd(e);case"getAllSeedlessSeeds":return xd(e);case"sign":return wd(e);case"getAuthenticationPublicKey":return bd(e);case"syncAccounts":return Sd(e);case"checkVaultIntegrity":return Ad(e);case"logMessage":return Ud(e);case"downloadLogs":return Nd(e);case"serviceWorkerMutexAcquire":return Rd(e,n??r);case"serviceWorkerMutexRelease":return _d(e)}return i.methodNotFound(e.id)}var Ja,th=(0,rh.default)(async()=>await Je.default.storage.local.set({"last-sw-ping":(new Date).getTime()}),nh);async function r1(){return await th(),setInterval(th,nh)}async function oh(e){clearInterval(e)}var n1=6e5,s1=new wc(new Re,n1,()=>io().catch(e=>(le.captureError(e,"provider"),[])),"phantomwallet-dApps-list");export{s1 as dAppsListCache};
/*! Bundled license information:

apg-js/dist/apg-lib-bundle.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

@noble/curves/esm/abstract/utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/modular.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/curve.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/edwards.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/ed25519.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/weierstrass.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/_shortw_utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/p256.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)
*/