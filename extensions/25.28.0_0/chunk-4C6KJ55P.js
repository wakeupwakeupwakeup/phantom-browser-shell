import{Aa as hr,b as pr,d as be,s as ur,va as gr,za as fr}from"./chunk-AMFBRYZX.js";import{a as ne,b as yr,c as k,d as _,f as _e,g as Je,h as He}from"./chunk-PY5WRCJM.js";import{l as mr}from"./chunk-UWMKBOBS.js";import{Qa as Ce,Ra as lr,S as sr,T as ar,U as cr,V as L,W as G,X as T,zb as dr}from"./chunk-GWUVAKX4.js";import{N as nr,p as tr,q as rr,s as or,z as ir}from"./chunk-VGFG26AC.js";import{C as Xt,D as Kt,E as pe,F as Ue,I as ie,K as ue,M as jt,N as Qt,O as Zt,Q as Yt,T as Jt,W as ze,Y as er,b as A,e as v,f as de,g as Me,i as qt,j as Ze}from"./chunk-MDYMDZNO.js";import{Ka as Ye,U as $t}from"./chunk-G3SJLT24.js";import{R as Wt,S as Gt}from"./chunk-OGTXJ4NL.js";import{$c as It,Ec as xt,Hb as kt,P as ce,Vd as W,Vf as Qe,We as Dt,Xf as Nt,_c as wt,bc as Et,cf as Lt,lb as oe,md as Ft,tb as De,wf as Bt}from"./chunk-MP5PPKB7.js";import{$ as Ct,T as J,W as Tt,b as p,d as St,i as vt,ja as Q,ka as At,y as Pe}from"./chunk-LT72WXA6.js";import{$b as le,Ab as _t,Ba as Le,Da as x,E as bt,F as Fe,Ha as Z,Ia as u,Ib as Ht,Ja as w,Jb as Vt,L as N,La as Ot,Lb as Re,Q as E,Ra as Rt,Sa as Mt,Tb as Te,c as f,db as Be,kb as Ut,l as P,nb as zt,ob as Ne,pb as Oe}from"./chunk-NRW4C74H.js";import{f as g,h as o,n as i}from"./chunk-YJSZZTEX.js";o();i();o();i();var Pr=A(t=>{let{refetch:r}=t(yr),{refetch:e}=t(ue),n=t(ne);return()=>{Kt(),e(),n&&r()}}),oo=pe(t=>{let r=t(Pr),e=t(Qt);e.status==="error"&&e.error.cause==="TooManyFungibleUpdates"&&r()}),io=A(t=>{t(oo);let r=t(Pr),{isPending:e,isRefetching:n,isLoading:s}=t(ue);return{isPending:e,isLoading:s,isRefetching:n,refetch:r}}),Se=io;var U=g(f());o();i();var br=g(f());var no=5e3,so=1e4,X={HiddenTitle:"hidden-title",HiddenButton:"hidden-button",Collection:"collection",Empty:"empty",CollectiblesTrimmed:"collectibles-trimmed",AddCollection:"add-collection"};function me(){let t=v(ie),r=v(_),e=t?.addresses??[],n=t?.identifier??"",{data:s=[],isLoading:a,isRefetching:l,isError:d,isRefetchError:m,refetch:h}=tr({addresses:e,queryOptions:{staleTime:no,refetchInterval:so,enabled:r==="collectibles"}}),S=rr({addresses:e}),{getIsHidden:b,getIsSpam:B,isLoading:O}=ir(t?.identifier??""),{data:z=[],isPending:te}=or(n),{collections:D,hiddenCollections:he,spamCollections:ye}=nr({allCollections:s,pinnedCollectionIds:z,getIsHidden:b,getIsSpam:B});return{gridItems:(0,br.useMemo)(()=>{let C=D.map(H=>({type:X.Collection,data:{...H,determinedHidden:b(H),determinedSpam:B(H)}}));return S&&C.push({type:X.CollectiblesTrimmed,data:null}),C},[D,S,b,B]),isLoadingCollections:a,isRefetchingCollections:l,isErrorCollections:d,isRefetchErrorCollections:m,refetchCollections:h,isLoadingCollectionVisibility:O,isLoadingPinnedCollections:te,collections:D,pinnedCollectionIds:z,hiddenCollections:he,spamCollections:ye}}o();i();o();i();o();i();o();i();o();i();o();i();var ot=g(f());o();i();var Tr=g(f());o();i();var ao=new p(45e4);o();i();o();i();var it=g(f());o();i();var nt=g(f());o();i();var Ar=g(f());o();i();var po=g(f());o();i();o();i();var ho=g(f());o();i();o();i();function Ae(t,r,e=p.ROUND_HALF_UP){return new p(t).toFixed(r,e).replace(/\.?0+$/,"")}o();i();o();i();o();i();function ke(t){let r=t.abs(),e=t.isNegative()?"-":t.isZero()?"":"+";return r.isGreaterThan(0)&&r.isLessThan(.01)?`${e}<$0.01`:`${e}$${r.toFixed(2)}`}o();i();o();i();var ve=g(f());o();i();o();i();function kr(t){return`${t.address}-USD`}function st(t,r){let e=new p(t.unrealizedPnl.amount),s=e.isGreaterThan(0)?"accentSuccess":"accentAlert",a=ke(e),l=Ct(Number(t.unrealizedPnl.percentage),{includePlusPrefix:!0}),d=At(new p(t.margin));return{marketId:De(t.market.token),position:t,image:t.market.logoUri,title:kr(t.market.token),subtitle:`${t.direction==="long"?r("perpsPositionLong"):r("perpsPositionShort")} ${t.leverage}x`,price:d,priceChange:{text:`${a} (${l})`,color:s}}}o();i();var Po=P.object({accountBalance:sr,lastUpdated:P.number()}),at=A(null),bo=A(t=>{let r=t(at);return!r||r.type!=="accountBalance"&&r.type!=="refreshing"?{status:"pending",data:void 0}:{status:"success",data:{accountBalance:r.accountBalance,lastUpdated:Date.now()}}}),Er=Ue({atomToStoreOffline:bo,offlineKey:A(t=>`${t(ie)?.identifier??""}:perps-balance`),namespaceKey:"perps",ttlMs:Pe({hours:24}),initialValue:{accountBalance:{accountValue:"0",availableBalance:"0",availableToTrade:"0"},lastUpdated:0},schema:Po});o();i();var So=P.object({positions:P.array(ar),openOrders:P.array(cr),lastUpdated:P.number()}),ct=A(null),vo=A(t=>{let r=t(ct);return!r||r.type!=="positions"?{status:"pending",data:void 0}:{status:"success",data:{positions:r.positions,openOrders:r.openOrders,lastUpdated:Date.now()}}}),xr=Ue({atomToStoreOffline:vo,offlineKey:A(t=>`${t(ie)?.identifier??""}:perps-positions`),namespaceKey:"perps",ttlMs:Pe({hours:24}),initialValue:{positions:[],openOrders:[],lastUpdated:0},schema:So});var wr=()=>{let{t}=E(),{accountBalanceState:r,positionsState:e}=Ce(),n=de(ct),s=v(xr),a=de(at),l=v(Er);(0,ve.useEffect)(()=>{n(e)},[e,n]),(0,ve.useEffect)(()=>{a(r)},[r,a]);let d=(0,ve.useMemo)(()=>r.type==="accountBalance"||r.type==="refreshing"?{status:r.type,symbol:"USDC",availableToTrade:new p(r.accountBalance.availableToTrade),accountValue:new p(r.accountBalance.accountValue),isCached:!1}:l.lastUpdated>0?{status:r.type==="loading"?"loading":"accountBalance",symbol:"USDC",availableToTrade:new p(l.accountBalance.availableToTrade),accountValue:new p(l.accountBalance.accountValue),isCached:!0,lastUpdated:l.lastUpdated}:{status:r.type,symbol:"USDC",availableToTrade:new p(0),accountValue:new p(0),isCached:!1},[r,l]),m=(0,ve.useMemo)(()=>e.type==="positions"||e.type==="refreshing"?{status:e.type,positions:e.positions.map(b=>st(b,t)),isCached:!1}:s.positions.length>0?{status:e.type==="loading"?"loading":"positions",positions:s.positions.map(b=>st(b,t)),isCached:!0,lastUpdated:s.lastUpdated}:{status:e.type,positions:[],isCached:!1},[e,s,t]);return{balance:d,positions:m}};var Ee=()=>{let{balance:t}=wr();return t.accountValue.toNumber()};o();i();o();i();var Ao=g(f());o();i();var ko=g(f());o();i();var ge=g(f());o();i();o();i();o();i();var ec=P.object({symbol:P.string(),timestamp:P.number(),streamDuration:P.number(),marketData:P.object({channel:P.string(),data:P.object({coin:P.string(),ctx:P.object({funding:P.string(),openInterest:P.string(),prevDayPx:P.string(),dayNtlVlm:P.string(),premium:P.string(),oraclePx:P.string(),markPx:P.string(),midPx:P.string(),impactPxs:P.array(P.string()),dayBaseVlm:P.string(),isAtOpenInterestCap:P.boolean().optional()})})})});o();i();o();i();var xc=(0,ge.createContext)(null);o();i();var Ir=g(f());o();i();var Fr=t=>({onOpenPositionStateChange:(r,e)=>{switch(r.type){case"UpdateLeverageInitiated":setTimeout(()=>{T.getState().progress({message:N.t("perpsToastOpening",{leverage:e.leverage?.toString(),symbol:e.direction,size:`${Ae(e.sizeInCoin??new p(0),e.market?.szDecimals??2)} ${e.market?.name}`}),onPress:()=>{T.getState().hideToast()}})},500);break;case"PositionCreationSuccess":setTimeout(()=>{T.getState().success({message:N.t("perpsToastOpened",{leverage:e.leverage?.toString(),symbol:e.direction,size:`${Ae(e.sizeInCoin??new p(0),e.market?.szDecimals??2)} ${e.market?.name}`}),onPress:()=>{T.getState().hideToast()}})},100),t&&e.market&&e.direction&&e.margin&&e.sizeInCoin&&e.leverage&&t.trackOpenPositionCompleted(e.direction,e.market.id,Q(e.margin),G(e.sizeInCoin,e.market.szDecimals),e.leverage.toString(),L(e.estimatedLiquidationPrice||new p(0),e.market.szDecimals),L(new p(e.market.currentPrice),e.market.szDecimals),e.autoClose||{tp:void 0,sl:void 0},{phantomFee:e.fee?.phantomFee?.toString()||"0",providerFee:e.fee?.providerFee?.toString()||"0"},r.payload);break;case"RegisterBuilderCodeFailure":case"RegisterReferralFailure":case"UpdateLeverageFailure":case"PositionCreationFailure":setTimeout(()=>{T.getState().failed({title:N.t("perpsToastOpeningFailed"),message:r.error.message,buttonText:N.t("commandOK"),onPress:()=>{T.getState().hideToast()}})},100),t&&e.market&&e.direction&&e.margin&&e.sizeInCoin&&e.leverage&&t.trackOpenPositionFailed(e.direction,e.market.id,Q(e.margin),G(e.sizeInCoin,e.market.szDecimals),e.leverage.toString(),L(e.estimatedLiquidationPrice||new p(0),e.market.szDecimals),L(new p(e.market.currentPrice),e.market.szDecimals),e.autoClose||{tp:void 0,sl:void 0},r.error.message,{phantomFee:e.fee?.phantomFee?.toString()||"0",providerFee:e.fee?.providerFee?.toString()||"0"});break}}}),xo=Fr();o();i();var Dr=t=>({onManagePositionStateChange:(r,e)=>{if(e.type!=="indeterminate")switch(r.type){case"InitiateManagePosition":{if(e.update.type==="close"){let n=N.t("perpsToastClosing",{leverage:e.position.leverage.toString(),symbol:e.position.direction,size:`${G(e.update.size,e.market.szDecimals)} ${e.market?.name}`});setTimeout(()=>{T.getState().progress({message:n,onPress:()=>{T.getState().hideToast()}})},500)}else if(e.update.type==="removeAutoClose"){let n=N.t("perpsToastCancellingAutoClose");setTimeout(()=>{T.getState().progress({message:n,onPress:()=>{T.getState().hideToast()}})},500)}else if(e.update.type==="addAutoClose"){let n=N.t("perpsToastSettingAutoClose");setTimeout(()=>{T.getState().progress({message:n,onPress:()=>{T.getState().hideToast()}})},500)}break}case"ManagePositionSuccess":{if(e.update.type==="close"){let n=new p(e.position.unrealizedPnl.amount),s=ke(n),a=N.t("perpsToastClosed",{symbol:e.position.direction,size:`${G(e.update.size,e.market.szDecimals)} ${e.market?.symbol||e.market?.name}`,pnl:s});setTimeout(()=>{T.getState().success({message:a,onPress:()=>{T.getState().hideToast()}})},100),t&&e.market&&e.position&&t.trackClosePositionCompleted(e.position.direction,e.market.id,Q(e.position.margin),G(new p(e.position.size),e.market.szDecimals),e.position.leverage,L(new p(e.position.liquidationPrice),e.market.szDecimals),L(new p(e.position.entryPrice),e.market.szDecimals),{percentage:e.position.unrealizedPnl.percentage,dollar:e.position.unrealizedPnl.amount},e.autoClose||{tp:void 0,sl:void 0},{phantomFee:e.fee.phantomFee.toString(),providerFee:e.fee.providerFee.toString()},r.payload)}else if(e.update.type==="removeAutoClose"){let n=N.t("perpsToastCancelledAutoClose");setTimeout(()=>{T.getState().success({message:n,onPress:()=>{T.getState().hideToast()}})},100),t&&e.market&&e.position&&e.update.type==="removeAutoClose"&&t.trackManagePositionCompleted(e.position.direction,e.market.id,Q(e.position.margin),G(new p(e.position.size),e.market.szDecimals),e.position.leverage,L(new p(e.position.liquidationPrice),e.market.szDecimals),L(new p(e.position.entryPrice),e.market.szDecimals),{percentage:e.position.unrealizedPnl.percentage,dollar:e.position.unrealizedPnl.amount},e.autoClose||{tp:void 0,sl:void 0},{phantomFee:e.fee.phantomFee.toString(),providerFee:e.fee.providerFee.toString()},r.payload)}else if(e.update.type==="addAutoClose"){let n=N.t("perpsToastAutoCloseSet");setTimeout(()=>{T.getState().success({message:n,onPress:()=>{T.getState().hideToast()}})},100),t&&e.market&&e.position&&e.update.type==="addAutoClose"&&t.trackManagePositionCompleted(e.position.direction,e.market.id,Q(e.position.margin),G(new p(e.position.size),e.market.szDecimals),e.position.leverage,L(new p(e.position.liquidationPrice),e.market.szDecimals),L(new p(e.position.entryPrice),e.market.szDecimals),{percentage:e.position.unrealizedPnl.percentage,dollar:e.position.unrealizedPnl.amount},e.autoClose||{tp:void 0,sl:void 0},{phantomFee:e.fee.phantomFee.toString(),providerFee:e.fee.providerFee.toString()},r.payload)}break}case"RegisterBuilderCodeFailure":case"RegisterReferralFailure":case"ManagePositionFailure":e.update.type==="close"?(setTimeout(()=>{T.getState().failed({title:N.t("perpsToastClosureFailed"),message:r.error.message,buttonText:N.t("commandOK"),onPress:()=>{T.getState().hideToast()}})},100),t&&e.market&&e.position&&t.trackClosePositionFailed(e.position.direction,e.market.id,Q(e.position.margin),G(new p(e.position.size),e.market.szDecimals),e.position.leverage,L(new p(e.position.liquidationPrice),e.market.szDecimals),L(new p(e.position.entryPrice),e.market.szDecimals),{percentage:e.position.unrealizedPnl.percentage,dollar:e.position.unrealizedPnl.amount},e.autoClose||{tp:void 0,sl:void 0},r.error.message,{phantomFee:e.fee.phantomFee.toString(),providerFee:e.fee.providerFee.toString()})):e.update.type==="removeAutoClose"?(setTimeout(()=>{T.getState().failed({title:N.t("perpsToastAutoCloseRemovalFailed"),message:r.error.message,buttonText:N.t("commandOK"),onPress:()=>{T.getState().hideToast()}})},100),t&&e.market&&e.position&&e.update.type==="removeAutoClose"&&t.trackManagePositionFailed(e.position.direction,e.market.id,Q(e.position.margin),G(new p(e.position.size),e.market.szDecimals),e.position.leverage,L(new p(e.position.liquidationPrice),e.market.szDecimals),L(new p(e.position.entryPrice),e.market.szDecimals),{percentage:e.position.unrealizedPnl.percentage,dollar:e.position.unrealizedPnl.amount},e.autoClose||{tp:void 0,sl:void 0},r.error.message,{phantomFee:e.fee.phantomFee.toString(),providerFee:e.fee.providerFee.toString()})):e.update.type==="addAutoClose"&&(setTimeout(()=>{T.getState().failed({title:N.t("perpsToastAutoCloseAdditionFailed"),message:r.error.message,buttonText:N.t("commandOK"),onPress:()=>{T.getState().hideToast()}})},100),t&&e.market&&e.position&&e.update.type==="addAutoClose"&&t.trackManagePositionFailed(e.position.direction,e.market.id,Q(e.position.margin),G(new p(e.position.size),e.market.szDecimals),e.position.leverage,L(new p(e.position.liquidationPrice),e.market.szDecimals),L(new p(e.position.entryPrice),e.market.szDecimals),{percentage:e.position.unrealizedPnl.percentage,dollar:e.position.unrealizedPnl.amount},e.autoClose||{tp:void 0,sl:void 0},r.error.message,{phantomFee:e.fee.phantomFee.toString(),providerFee:e.fee.providerFee.toString()}));break}}}),wo=Dr();o();i();o();i();var Fo=g(f());o();i();var Do=g(f());o();i();var Lo=g(f());o();i();var Bo=g(f());o();i();var No=g(f());function lt(){let t=v(jt),r=v(_e),e=Ee(),n=v(ne),s=Tt((r.data.currentValue||0)+e,1e3),{data:a}=Lt(t),{mutate:l}=Bt();return Nt({accountBalance:a?.value,accountId:t??"",enabled:n,value:s,setAccountBalance:l}),s}o();i();var Y=g(f());o();i();var Oo=t=>self.open(t,"_blank"),Lr=Oo;var Ro="https://help.phantom.com/hc/en-us/articles/39776532231571-Why-does-my-Phantom-wallet-show-a-malicious-account-warning";function Mo(t){if(t.data.length===0)return!1;try{return!!ce.NonceAccount.fromAccountData(t.data)}catch{return!1}}function Uo(){let{t}=E(),r=W(),e=v(ie),{connection:n}=$t(),{data:s}=Qe("solana"),a=e&&e.isReadOnly,{data:l,status:d}=xt({staleTime:Pe({minutes:10}),enabled:!!s?.address,queryKey:["accountOwner",s?.address],queryFn:()=>{if(!s?.address)throw new Error("No selected solana address");return n.getAccountInfo(new ce.PublicKey(s.address))}}),m=(0,Y.useMemo)(()=>l?!a&&d==="success"&&Mo(l):!1,[a,d,l]),h=(0,Y.useMemo)(()=>!a&&d==="success"&&l?.owner&&l.owner.toBase58()!==ce.SystemProgram.programId.toBase58(),[a,d,l]);return(0,Y.useEffect)(()=>{(h||m)&&r.capture("portfolioHomeMaliciousAccountWarning",{data:{reason:h?"owner":"nonceAccount",networkId:s?.networkID}})},[h,m,r,s?.networkID]),h||m?Y.default.createElement(u,{marginX:"screen",...Fe?{marginBottom:16}:{marginTop:16}},Y.default.createElement(Re,{level:"2-alert",actions:[{children:t("commandLearnMore2"),onPress:()=>{Lr(Ro)}}]},t("portfolioHomeAccountOwnerWarning"))):null}var dt=(0,Y.memo)(Uo);o();i();var q=g(f());o();i();var R=g(f());function zo({tabs:t}){return R.default.createElement(Go,{values:t.map(r=>({key:r.key,onClick:r.onPress,node:R.default.createElement(w,{font:"title1Semibold",color:r.isActive?"textPrimary":"textSecondary",whiteSpace:"nowrap"},r.title)}))})}var Br=zo,_o=Le({display:"flex",flex:1,overflowX:"hidden",position:"relative",left:"-16",paddingLeft:16,marginRight:"-16"}),Ho=Le({display:"flex",flexDirection:"row",gap:12,paddingRight:12}),Vo={background:`linear-gradient(to left, ${x.colors.legacy.bgWallet}, ${J(x.colors.legacy.bgWallet,.85)}, ${J(x.colors.legacy.bgWallet,0)})`};function Wo(t){if(!t)return 0;let{width:r}=t.getBoundingClientRect(),e=t.scrollWidth;return r-e}function Go({values:t}){let r=(0,R.useRef)(null),[e,n]=(0,R.useState)(null),[s,a]=(0,R.useState)(0),l=Mt(0);return(0,R.useLayoutEffect)(()=>{let d=()=>{a(Wo(r.current))};d();let m=new ResizeObserver(d);return r.current&&m.observe(r.current),()=>m.disconnect()},[]),R.default.createElement(R.default.Fragment,null,R.default.createElement("div",{ref:r,className:_o},R.default.createElement(Rt.div,{className:Ho,drag:"x",style:{x:l},dragConstraints:{left:s,right:0},onDragStart:()=>{n(l.get())},onDragEnd:()=>{n(null)},onWheel:d=>{if(d.deltaX===0)return;let m=l.get()-d.deltaX;return m>0?l.set(0):m<s?l.set(s):l.set(m)}},t.map(({key:d,onClick:m,node:h})=>R.default.createElement("div",{...m&&{role:"button",className:Le({cursor:"pointer"})},key:d,onClick:S=>{if(e!==null){S.stopPropagation(),S.preventDefault();return}m?.()}},h)))),R.default.createElement(u,{position:"absolute",right:24,top:0,width:24,height:"100%",style:Vo}))}var qo=({selectedDataTab:t,onTappingManageTokens:r,onTappingManageCollections:e,onTappingSettings:n,isBalanceHidden:s,toggleBalanceVisibility:a,onRefresh:l})=>{let{t:d}=E(),m=W(),h=de(_),S=q.default.useRef(null),b=Et.isFeatureEnabled("kill-collectibles"),B=(0,q.useCallback)(()=>{m.capture("portfolioHomeContextMenuOpened"),S.current?.open()},[m]),O=(0,q.useMemo)(()=>{let D=[];return t===k.Tokens&&D.push({text:d("portfolioHomeManageTokens"),onPress:r,icon:"ToggleLeft"}),t===k.Collectibles&&D.push({text:d("portfolioHomeManageCollectibles"),onPress:e,icon:"ToggleLeft"}),D.push({text:d(s?"portfolioHomeShowBalances":"portfolioHomeHideBalances"),onPress:a,icon:s?"EyeFill":"EyeFillOff"}),D.push({text:d("portfolioHomeWalletSettings"),onPress:n,icon:"Settings"}),bt&&D.push({text:d("portfolioHomeRefresh"),onPress:l,icon:"RefreshCw"}),D},[s,e,r,n,t,a,l,d]),z=(0,q.useCallback)(D=>{h(D),m.capture("portfolioHomeTabSelected",{data:{tab:D}})},[h,m]),te=(0,q.useMemo)(()=>[{key:k.Tokens,title:d("portfolioHomeTokens"),isActive:t===k.Tokens,onPress:t!==k.Tokens?()=>z(k.Tokens):void 0},!b&&{key:k.Collectibles,title:d("portfolioHomeCollectibles"),isActive:t===k.Collectibles,onPress:t!==k.Collectibles?()=>z(k.Collectibles):void 0}].filter(vt),[t,z,d,b]);return q.default.createElement(u,{direction:"row",justifyContent:"space-between",alignItems:"center",marginX:"screen",gap:8,position:"relative"},q.default.createElement(Br,{tabs:te}),q.default.createElement(Ut,{ref:S,items:O},q.default.createElement(zt,{color:["textSecondary","textPrimary"],icon:"MoreHorizontal",label:"More",size:24,bounded:!1,onPress:B})))},Nr=q.default.memo(qo);o();i();var se=g(f());o();i();var M=g(f());o();i();function pt(t){return t===void 0?"-":`${t>=0?"+":"-"}${Math.abs(t).toFixed(2)}%`}o();i();var ee=g(f());function ut({children:t,maxFontSize:r}){let e=(0,ee.useRef)(null),[n,s]=(0,ee.useState)(r);return(0,ee.useEffect)(()=>{let a=e.current;if(!a)return;let l=new ResizeObserver(()=>{let d=n;a.querySelectorAll("*").forEach(h=>{for(;h.scrollWidth>a.clientWidth&&d>10;)d-=1,h.style.fontSize=`${d}px`}),s(d)});return l.observe(a),()=>{l.disconnect()}},[n]),ee.default.createElement(u,{ref:e,overflow:"hidden",width:"100%",display:"flex",direction:"column",alignItems:"center"},ee.default.createElement("div",{style:{fontSize:`${n}px`,whiteSpace:"nowrap"}},t))}o();i();var xe=g(f()),$o="\u2022\u2022\u2022\u2022\u2022\u2022",fe=({children:t,isBalanceHidden:r,showHiddenText:e,font:n="caption",textColor:s="textSecondary",paddingTop:a=0})=>{let{t:l}=E();return r?e?xe.default.createElement(u,{gap:4,alignItems:"center",direction:"row",paddingTop:a},xe.default.createElement(Z.Eye,{size:16,color:"textSecondary"}),xe.default.createElement(w,{font:n,color:s},l("commandShowBalance"))):xe.default.createElement(w,{font:n,color:s,paddingTop:a},$o):t};o();i();var K=g(f());o();i();o();i();o();i();o();i();function mt(t){return r=>{let e=!1,n={...r};for(let s of t.queried){let a=t.prices[s],l=a?.price;if(!a)continue;let d=r[s]?.lastUpdatedAt,m=!d||a.lastUpdatedAt&&new Date(a.lastUpdatedAt)>d;l&&r[s]?.price!==l&&m&&(e=!0,n[s]={price:l,priceChange24h:a.priceChange24h??a.usd_24h_change,lastUpdatedAt:a.lastUpdatedAt?new Date(a.lastUpdatedAt):new Date})}return e?n:r}}o();i();var Xo=A(!1),Or=Xo;var Rr=qt(t=>{let r=t(He),e=t(Or),n=t(ne);return{enabled:r.length>0&&!e&&n,refetchInterval:5e3,queryKey:["visible-prices",{tokens:r.map(s=>s.encodedCaip19).sort(),type:"visible-chunk",isMainnet:n}],queryFn:async()=>{let s=await Jt({tokens:r.map(a=>a.decodedCaip19)});return{prices:Object.fromEntries(Object.entries(s).map(([a,l])=>[a,{...l,lastUpdatedAt:l.lastUpdatedAt??new Date().toISOString()}])),queried:r.map(a=>a.encodedCaip19)}}}}),Ko=pe((t,r)=>{let{data:e}=t(Rr);e&&r(Zt,mt(e))}),jo=A(t=>{t(Ko);let r=t(Rr);return{status:r.status,isFetching:r.isFetching}}),Mr=jo;var Ve=A(0),Qo=3,Zo=5,Yo=Ze(Je,({priceErrorCount:t})=>t),Jo=pe((t,r)=>{t(Yo)>0?r(Ve,n=>n+1):r(Ve,0)});function ei(t,r){let e=Ze(t,({status:s,isFetching:a})=>({status:s,isFetching:a}),(s,a)=>JSON.stringify(s)===JSON.stringify(a));return pe((s,a)=>{let l=s(e);l.isFetching||(l.status==="error"&&a(r,d=>d+1),l.status==="success"&&a(r,0))})}var ti=ei(Mr,Ve),ri=A(t=>{t(ti),t(Jo);let{balanceErrorCount:r}=t(Je);return{isBalanceError:r>=Qo,isPriceError:t(Ve)>=Zo}}),Ur=ri;var oi=A(t=>{let r=t(Yt),e=t(_),{isBalanceError:n,isPriceError:s}=t(Ur),{isPerpsBalanceError:a,isPerpsPositionsError:l}=t(lr),d=t(ne),m=r.length>0;return e==="fungibles"&&n&&s&&m&&d?{reason:"both"}:e==="fungibles"&&n&&m?{reason:"balances"}:e==="fungibles"&&s&&d?{reason:"prices"}:a&&l?{reason:"perpsBoth"}:a?{reason:"perpsBalance"}:l?{reason:"perpsPositions"}:null}),zr=oi;function ii(){let t=(0,K.useRef)(void 0),r=W(),{t:e}=E(),[n]=Me(zr);(0,K.useEffect)(()=>{n?.reason!==t.current&&(t.current=n?.reason,r.capture("portfolioHomeErrorBanner",{data:{reason:t.current??"none"}}))},[n?.reason,r]);let s=(0,K.useMemo)(()=>n==null?null:n.reason==="balances"?e("partialErrorTokenDetail"):n.reason==="prices"?e("partialErrorTokenPrices"):n.reason==="perpsBalance"?e("partialErrorPerpsBalance"):n.reason==="perpsPositions"?e("partialErrorPerpsPositions"):n.reason==="perpsBoth"?e("partialErrorPerpsBoth"):e("partialErrorGeneric"),[n,e]);return s?K.default.createElement(u,{padding:16,marginX:"screen",width:"100%"},K.default.createElement(Re,{level:"5-information"},s)):null}var _r=(0,K.memo)(ii);var ni={minimumFractionDigits:2,maximumFractionDigits:2};function gt({isLoading:t,percentChangeColor:r,totalValueUsdCurrent:e,totalValueUsd24h:n,totalPercentChange24h:s,isBalanceHidden:a,toggleBalanceVisibility:l}){return M.default.createElement(u,{gap:8,alignItems:"center",justifyContent:"center",marginTop:32},M.default.createElement(_r,null),t?M.default.createElement(u,{alignItems:"center",gap:8},M.default.createElement(Oe,{width:192,font:"heading1Semibold"}),M.default.createElement(u,{direction:"row",gap:8},M.default.createElement(Oe,{width:50,font:"title2Semibold"}),M.default.createElement(Oe,{width:50,font:"title3Semibold"}))):M.default.createElement(u,{onPress:a?l:void 0},M.default.createElement(fe,{isBalanceHidden:a,font:"heading1Semibold",textColor:"textPrimary"},M.default.createElement(ut,{maxFontSize:38},M.default.createElement(be,{font:"heading1Semibold",value:e,intlNumberFormatOptions:ni}))),M.default.createElement(fe,{showHiddenText:!0,isBalanceHidden:a,paddingTop:a?3:0},M.default.createElement(u,{direction:"row",alignItems:"center",gap:6,justifyContent:"center"},M.default.createElement(be,{signConfig:"always",marginRight:6,font:"title1",color:"sentiment",value:n}),M.default.createElement(w,{color:r.name,borderRadius:6,paddingX:4,paddingY:2,style:{backgroundColor:J(r.token,.1)}},pt(s))))))}function si({isBalanceHidden:t,toggleBalanceVisibility:r,zeroBalanceNux:e}){let{status:n,data:s}=v(_e),a=Ee(),{currentValue:l,priceDifference:d,totalPercentChange24h:m}=s,h=(0,se.useMemo)(()=>(l||0)+a,[l,a]),S=(0,se.useMemo)(()=>n==="pending"&&l===void 0,[n,l]),b=(0,se.useMemo)(()=>{let O=m?m>0?"accentSuccess":"accentAlert":"textSecondary",z=m?m>0?x.colors.legacy.accentSuccess:x.colors.legacy.accentAlert:x.colors.legacy.textSecondary;return{name:O,token:z}},[m]),B=dr(h);return!S&&B?e:se.default.createElement(gt,{isLoading:S,toggleBalanceVisibility:r,isBalanceHidden:t,percentChangeColor:b,totalPercentChange24h:m,totalValueUsd24h:d,totalValueUsdCurrent:h})}var Hr=(0,se.memo)(si);o();i();var y=g(f());o();i();var ai={status:"idle",hasNextPage:!1,data:[]},We={status:"idle",data:[]},Vr=A(t=>{if(t(_)==="collectibles")return{fungibles:ai,collectibles:We};let e=t(ze),{hasNextPage:n,status:s}=t(ue),a=t(er);return e?{collectibles:We,fungibles:{status:"loading",hasNextPage:!1,data:[]}}:a.length===0&&s==="error"?{collectibles:We,fungibles:{status:"error",hasNextPage:!1,data:[]}}:{collectibles:We,fungibles:{status:"success",hasNextPage:n,data:a}}});o();i();var ci={type:X.Collection,data:{type:X.Empty,data:null}};function li(t,r){return t.length===r?t:[...t,...Array(r-t.length).fill(ci)]}function di(t,r=2){let e=[],n=t.filter(a=>a.type!==X.CollectiblesTrimmed),s=St(n,r);for(let a of s){let l=a.map(d=>({type:X.Collection,data:d}));e.push({type:X.Collection,data:{pair:li(l,r)}})}return n.length!==t.length&&e.push({type:X.Collection,data:{pair:[{type:X.Collection,data:{type:X.CollectiblesTrimmed,data:null}}]}}),e}var Wr=di;o();i();var $=g(f());o();i();var j=g(f());function pi(){let{t}=E(),r=v(_),{refetch:e}=v(Se),{refetchCollections:n}=me(),s=(0,j.useCallback)(()=>{r==="fungibles"?e():r==="collectibles"&&n()},[r,e,n]);return j.default.createElement(u,{marginY:4,alignItems:"center",paddingX:"screen"},j.default.createElement(u,{width:48,height:48,alignItems:"center",justifyContent:"center",borderRadius:"full",marginBottom:16,style:{backgroundColor:J(x.colors.legacy.accentWarning,.2)}},j.default.createElement(Z.AlertCircle,{size:24,color:"accentWarning"})),j.default.createElement(w,{font:"bodySemibold",marginBottom:14},t("homeErrorTitle")),j.default.createElement(w,{align:"center",marginBottom:32},t("homeErrorDescription")),j.default.createElement(Be,{onPress:s},t("homeErrorButtonText")))}var Ge=(0,j.memo)(pi);o();i();var I=g(f());function ft(){return I.default.createElement("svg",{width:"91",height:"91",viewBox:"0 0 91 91",fill:"none",xmlns:"http://www.w3.org/2000/svg"},I.default.createElement("g",null,I.default.createElement("rect",{width:"90",height:"90",transform:"translate(0.5 0.5)",fill:x.colors.legacy.bgWallet}),I.default.createElement("rect",{x:"5.36923",y:"48.816",width:"33.707",height:"39.1595",rx:"2.86",transform:"rotate(-19.3489 5.36923 48.816)",fill:x.colors.legacy.accentPrimary}),I.default.createElement("rect",{x:"8.87532",y:"50.4995",width:"28.2068",height:"28.2096",rx:"1.5",transform:"rotate(-19.3489 8.87532 50.4995)",fill:x.colors.legacy.bgWallet}),I.default.createElement("g",null,I.default.createElement("path",{d:"M67.8312 10.2413C67.9853 10.6569 67.9487 11.1193 67.7312 11.5056L57.3701 29.9014C56.7813 30.9468 55.8012 31.7156 54.6456 32.0385C53.49 32.3614 52.2534 32.2119 51.2079 31.6231L48.58 30.143C47.5345 29.5541 46.7658 28.5741 46.4429 27.4184C46.12 26.2628 46.2694 25.0262 46.8582 23.9808C47.4471 22.9353 48.4271 22.1666 49.5827 21.8437C50.7384 21.5208 51.9749 21.6702 53.0204 22.259L56.9624 24.4793L64.2296 11.5765L49.8563 6.36576L40.1221 23.6484C39.5333 24.6939 38.5533 25.4626 37.3976 25.7855C36.242 26.1084 35.0054 25.959 33.96 25.3702L31.332 23.89C30.2865 23.3012 29.5178 22.3211 29.1949 21.1655C28.872 20.0099 29.0214 18.7733 29.6103 17.7278C30.1991 16.6824 31.1791 15.9136 32.3348 15.5907C33.4904 15.2679 34.727 15.4173 35.7724 16.0061L39.7144 18.2263L47.8552 3.77249C48.217 3.13017 48.9901 2.84354 49.6832 3.09479L66.9312 9.34773C67.3479 9.49882 67.6771 9.82562 67.8312 10.2413ZM38.2343 20.8543L34.2923 18.6341C33.9438 18.4378 33.5316 18.388 33.1464 18.4956C32.7612 18.6032 32.4345 18.8595 32.2382 19.208C32.042 19.5565 31.9921 19.9687 32.0998 20.3539C32.2074 20.7391 32.4637 21.0658 32.8121 21.262L35.4401 22.7422C35.7886 22.9385 36.2008 22.9883 36.586 22.8807C36.9712 22.773 37.2979 22.5168 37.4942 22.1683L38.2343 20.8543ZM55.4822 27.1072L51.5403 24.887C51.1918 24.6907 50.7796 24.6409 50.3944 24.7486C50.0092 24.8562 49.6825 25.1124 49.4862 25.4609C49.2899 25.8094 49.2401 26.2216 49.3478 26.6068C49.4554 26.992 49.7116 27.3187 50.0601 27.515L52.6881 28.9951C53.0366 29.1914 53.4488 29.2412 53.834 29.1336C54.2192 29.026 54.5459 28.7697 54.7422 28.4212L55.4822 27.1072Z",fill:"#FFFFC4",stroke:"#FFFFC4"})),I.default.createElement("rect",{x:"32.9779",y:"17.8943",width:"6.03228",height:"3.01614",transform:"rotate(29.3895 32.9779 17.8943)",fill:"#FFFFC4"}),I.default.createElement("rect",{x:"50.2259",y:"24.1468",width:"6.03228",height:"3.01614",transform:"rotate(29.3895 50.2259 24.1468)",fill:"#FFFFC4"}),I.default.createElement("path",{d:"M87.0587 48.1502C88.4311 48.2419 89.1322 49.8405 88.27 50.9123L74.0483 68.5907C73.2484 69.5851 71.6791 69.3765 71.1665 68.2079L62.7499 49.0157C62.2374 47.847 63.1471 46.5513 64.4204 46.6365L87.0587 48.1502Z",fill:"#FF7243"}),I.default.createElement("path",{d:"M13.4383 28.3196L15.0033 29.5762C15.821 30.233 16.9286 30.4029 17.9055 30.0214L19.7752 29.2917C20.1233 29.1543 20.4298 29.572 20.1944 29.8629L18.9379 31.4279C18.281 32.2455 18.1111 33.3531 18.4927 34.3301L19.2223 36.1998C19.3597 36.5479 18.9421 36.8544 18.6511 36.619L17.0862 35.3624C16.2685 34.7056 15.1609 34.5357 14.184 34.9172L12.3143 35.6469C11.9662 35.7843 11.6596 35.3666 11.895 35.0757L13.1516 33.5107C13.8085 32.6931 13.9784 31.5855 13.5968 30.6086L12.8671 28.7389C12.7298 28.3908 13.1474 28.0842 13.4383 28.3196Z",fill:x.colors.legacy.bgButton}),I.default.createElement("path",{d:"M60.2233 55.5181L59.226 57.1925C58.7046 58.0674 58.6906 59.1554 59.1893 60.0434L60.1431 61.743C60.3222 62.0592 59.9619 62.4104 59.6504 62.2232L57.9759 61.2259C57.1011 60.7045 56.013 60.6905 55.125 61.1892L53.4254 62.143C53.1092 62.3221 52.758 61.9618 52.9452 61.6503L53.9425 59.9758C54.4639 59.101 54.4779 58.0129 53.9792 57.1249L53.0254 55.4253C52.8464 55.1091 53.2066 54.758 53.5182 54.9451L55.1926 55.9424C56.0675 56.4638 57.1555 56.4778 58.0435 55.9792L59.7431 55.0253C60.0593 54.8463 60.4105 55.2065 60.2233 55.5181Z",fill:x.colors.legacy.bgButton}),I.default.createElement("path",{d:"M78.1739 3.16606L77.825 5.25271C77.6423 6.34306 78.0569 7.44911 78.9112 8.15079L80.5458 9.49398C80.8515 9.74327 80.6254 10.2404 80.2366 10.1739L78.15 9.82495C77.0596 9.64234 75.9536 10.0569 75.2519 10.9112L73.9087 12.5458C73.6594 12.8515 73.1623 12.6254 73.2288 12.2366L73.5777 10.1499C73.7603 9.0596 73.3457 7.95354 72.4914 7.25187L70.8569 5.90868C70.5512 5.65938 70.7773 5.16225 71.1661 5.22878L73.2527 5.5777C74.3431 5.76032 75.4491 5.34574 76.1508 4.49142L77.494 2.85689C77.7433 2.55119 78.2404 2.77725 78.1739 3.16606Z",fill:x.colors.legacy.bgButton}),I.default.createElement("circle",{cx:"51.0134",cy:"39.0883",r:"1.48466",transform:"rotate(26.2783 51.0134 39.0883)",fill:x.colors.legacy.bgButton}),I.default.createElement("path",{d:"M79.2259 31.2607C80.251 32.4976 80.0792 34.3314 78.8423 35.3565C72.3787 40.7131 64.7682 41.4047 58.5851 40.516C57.4577 40.3539 56.3327 40.1324 55.248 39.8792C53.8509 39.5529 54.2211 37.9337 55.6541 38.0001C56.0293 38.0175 56.3861 38.0285 56.7169 38.0316C59.4348 38.0573 61.9912 37.6669 62.8283 37.4807C67.254 36.4959 71.3085 34.0442 75.1301 30.8771C76.367 29.852 78.2008 30.0238 79.2259 31.2607Z",fill:x.colors.legacy.bgButton})),I.default.createElement("defs",null,I.default.createElement("clipPath",{id:"clip0_9952_91189"},I.default.createElement("rect",{width:"90",height:"90",fill:"white",transform:"translate(0.5 0.5)"})),I.default.createElement("clipPath",{id:"clip1_9952_91189"},I.default.createElement("rect",{width:"36.1936",height:"36.1936",fill:"white",transform:"translate(41.0437 -8.71805) rotate(29.3895)"}))))}var Gr=le.recycle(()=>{let{t}=E();return $.default.createElement(u,{paddingY:24,alignItems:"center",justifyContent:"center"},$.default.createElement(u,{gap:8,maxWidth:240,textAlign:"center",alignItems:"center",justifyContent:"center"},$.default.createElement(ft,null),$.default.createElement(w,{color:"textPrimary",font:"bodySemibold"},t("collectiblesNoCollectiblesFound")),$.default.createElement(w,{color:"textSecondary",font:"caption",align:"center"},t("collectiblesNoCollectiblesFoundSecondary"))))}),qr=le.recycle(()=>Array.from({length:2}).map((t,r)=>$.default.createElement(u,{key:`loading-collectible-${r}`,marginY:8,paddingX:"screen",direction:"row",gap:16},$.default.createElement(u,{flex:1,borderRadius:8,width:"100%",aspectRatio:"1/1"},$.default.createElement(Ne,{height:"100%",borderRadius:8})),$.default.createElement(u,{flex:1,borderRadius:8,width:"100%",aspectRatio:"1/1"},$.default.createElement(Ne,{height:"100%",borderRadius:8}),$.default.createElement(Ne,null))))),$r=le.recycle(()=>$.default.createElement(Ge,null));o();i();o();i();var ui=A(t=>{let{fetchNextPage:r,hasNextPage:e,isFetching:n,refetch:s,data:a}=t(ue),l=t(ze);return async()=>{if(!n&&e&&!l){let d=a?.pages[0];d&&new Date().getTime()-d.updatedAt>Xt&&await s(),r()}}}),qe=ui;var F=g(f());o();i();var V=g(f());o();i();function $e(t,r){return r*Number(t.totalQuantity)/10**t.decimals}o();i();var Xe=g(f());var Xr=(0,Xe.memo)(({imageSrc:t,fallbackText:r,chainId:e,type:n})=>{let s=oe.getChainID(e),a=hr(n,e);return Xe.default.createElement(ur,{image:{type:"fungible",src:t,fallback:r.substring(0,4)},tokenType:a,chainMeta:fr(s)})});function mi({token:t,price:r,font:e="body"}){let n=r?$e(t,r):"-";return n==="-"?V.default.createElement(w,null,"-"):V.default.createElement(be,{value:n,font:e,minimumResolutionValue:.01,intlNumberFormatOptions:Ye})}var gi=({networkID:t,walletAddress:r})=>{let e=Dt();return r?It.get(t).badge?.(t,e,r)??null:null};function fi({token:t,price:r,priceChange:e,renderImageSource:n,renderImageFallbackText:s,renderImageChainId:a,renderImageType:l,isBalanceHidden:d,onPress:m,testID:h}){let{t:S}=E(),b=t.totalQuantity/10**t.decimals,B=$e(t,r??0),O=mr(B,e??0),z=gi({networkID:t.decodedCaip19.chainId,walletAddress:t.walletAddress})||"";return V.default.createElement(u,{marginX:"screen"},V.default.createElement(Ot,{testID:h,truncate:"left",onPress:m,topLeft:{text:t.name||S("tokenRowUnknownToken"),after:V.default.createElement(pr,{spamStatus:t.spamStatus,badgeText:z})},verticalAlign:"baseline",bottomLeft:V.default.createElement(fe,{isBalanceHidden:d},`${gr(b)} ${t.symbol||"null"}`),topRight:V.default.createElement(fe,{isBalanceHidden:d,font:"body",textColor:"textPrimary"},r?V.default.createElement(mi,{token:t,price:r}):"-"),bottomRight:V.default.createElement(fe,{isBalanceHidden:d},e||r?V.default.createElement(be,{signConfig:"exceptZero",font:"caption",value:O,color:"sentiment",minimumResolutionValue:.01,intlNumberFormatOptions:Ye}):"-"),start:V.default.createElement(Xr,{imageSrc:n,fallbackText:s,chainId:a,type:l})}))}var Kr=(0,V.memo)(fi);var jr=(0,F.memo)(({onFungibleDetailNav:t,isBalanceHidden:r,...e})=>{let n=e.legacyKey,s=`${e.symbol??(n&&Ft(n))}`,a=`fungible-token-row-${oe.getChainName(e.decodedCaip19.chainId).toLowerCase()}-${s}`;e.walletAddress&&wt(e.decodedCaip19.chainId,e.walletAddress)&&(a+=`-${kt(e.decodedCaip19.chainId,e.walletAddress)}`);let l=e.symbol||(e.legacyKey??"").substring(0,4),d=(0,F.useCallback)(()=>{t(e)},[t,e]);return F.default.createElement(Kr,{onPress:d,isBalanceHidden:r,price:e.livePrice?.price,priceChange:e.livePrice?.priceChange24h,renderImageChainId:e.decodedCaip19.chainId,renderImageFallbackText:l,renderImageSource:e.logoUri||"",renderImageType:e.type,testID:a,token:e})});function ht(){let t=v(qe);return(0,F.useEffect)(()=>{t()},[t]),F.default.createElement(u,{marginY:4,paddingX:"screen"},F.default.createElement(Te,null))}var hi=le.recycle(()=>F.default.createElement(u,{marginY:Fe?4:0,paddingX:"screen"},F.default.createElement(Te,null))),Qr=le.recycle(()=>Array.from({length:4}).map((t,r)=>F.default.createElement(hi,{key:`loading-fungible-${r}`}))),yi={backgroundColor:J(x.colors.legacy.accentWarning,.2)},Zr=(0,F.memo)(()=>{let{t}=E(),{refetch:r}=v(Se);return F.default.createElement(u,{marginY:4,alignItems:"center",paddingX:"screen"},F.default.createElement(u,{width:48,height:48,alignItems:"center",justifyContent:"center",borderRadius:"full",marginBottom:16,style:yi},F.default.createElement(Z.AlertCircle,{size:24,color:"accentWarning"})),F.default.createElement(w,{font:"bodySemibold",marginBottom:14},t("portfolioHomeNoFungibleTokens")),F.default.createElement(w,{align:"center",marginBottom:32},t("portfolioHomeNoFungibleTokensDescription")),F.default.createElement(Be,{onPress:r},t("homeErrorButtonText")))}),Yr=()=>F.default.createElement(Ge,null);var Pi={collectibles:177,fungibles:84};function bi({data:t,status:r,collectibleRowRenderer:e}){if(!(r!=="success"||t.length===0))return{rowRenderer:e,rowCount:t.length}}function Si({data:t,status:r,hasNextPage:e,tokenRowRenderer:n,onRowsRendered:s}){if(!(r!=="success"||t.length===0))return{onRowsRendered:s,rowRenderer:n,rowCount:e?t.length+1:t.length}}function vi({onFungibleDetailNav:t,listHeaderChildren:r,isBalanceHidden:e,renderCollectiblesComponent:n,collectiblesPerRow:s,tabBar:a}){let l=(0,y.useRef)(null),d=de(He),m=(0,y.useCallback)(({stopIndex:C,startIndex:H})=>{d({start:H,end:C})},[d]),h=v(Vr).fungibles,S=v(_),b=me(),B=(0,y.useMemo)(()=>Wr(b.gridItems,s),[b.gridItems,s]),O=(0,y.useMemo)(()=>b.isLoadingCollectionVisibility||b.isLoadingCollections?"loading":b.isErrorCollections&&B.length===0?"error":"success",[b.isLoadingCollectionVisibility,b.isLoadingCollections,b.isErrorCollections,B.length]),z=(0,y.useMemo)(()=>({item:C})=>{if(!n)throw new Error("renderCollectiblesComponent is not defined");return n({item:C,extraData:{collections:b.collections,pinnedCollectionIds:b.pinnedCollectionIds}})},[b.collections,b.pinnedCollectionIds,n]),te=(0,y.useCallback)(C=>{if(C.index===h.data.length)return y.default.createElement(u,{style:C.style,key:"fungible-loading-row"},y.default.createElement(ht,null));let H=h.data[C.index];return y.default.createElement(u,{style:C.style,key:C.key},y.default.createElement(jr,{onFungibleDetailNav:t,isBalanceHidden:e,...H}))},[h.data,e,t]),D=(0,y.useCallback)(C=>{let H=B[C.index];return y.default.createElement(u,{style:C.style,key:C.key},y.default.createElement(z,{item:H}))},[B,z]),he=(0,y.useMemo)(()=>bi({data:B,status:O,collectibleRowRenderer:D}),[B,O,D]),ye=(0,y.useMemo)(()=>Si({...h,tokenRowRenderer:te,onRowsRendered:m}),[h,te,m]),re=(0,y.useMemo)(()=>{switch(S){case k.Tokens:return ye;case k.Collectibles:return he;default:throw new Error("Invalid data tab")}},[S,ye,he]);return y.default.createElement(u,{gap:8,paddingBottom:8,overflowY:"auto",ref:l,overflowX:"hidden"},r,a,S===k.Collectibles&&O==="loading"&&y.default.createElement(qr,null),S===k.Collectibles&&O==="error"&&y.default.createElement($r,null),S===k.Collectibles&&O==="success"&&B.length===0&&y.default.createElement(Gr,null),S===k.Tokens&&h.status==="loading"&&y.default.createElement(Qr,null),S===k.Tokens&&h.status==="error"&&y.default.createElement(Yr,null),S===k.Tokens&&h.status==="success"&&h.data.length===0&&y.default.createElement(Zr,null),re&&y.default.createElement(Vt,{scrollElement:l.current??void 0},({height:C=0,isScrolling:H,registerChild:we,scrollTop:Ie})=>y.default.createElement("div",{style:{width:"100%"},ref:we},y.default.createElement(_t,{disableHeight:!0},({width:ae})=>y.default.createElement(Ht,{rowHeight:Pi[S],autoHeight:!0,width:ae,height:C,scrollTop:Ie,isScrolling:H,...re})))))}var Jr=(0,y.memo)(vi);function Ti(t,r,e){r({caip19:t.encodedCaip19,key:t.legacyKey??"",tokenAccount:void 0,...t.name&&{name:t.name},isSplCompressed:t.extraMetadata?.compression?.compressed??!1});let n=oe.getChainName(t.decodedCaip19.chainId),s=oe.getChainID(t.decodedCaip19.chainId);e.capture("assetDetailClick",{data:{address:t.decodedCaip19.resourceType==="address"?t.decodedCaip19.address:void 0,chain:n,chainId:s,isNativeOfType:s,networkId:t.decodedCaip19.chainId,type:"fungible",spamStatus:t.spamStatus,name:t.name??void 0}})}function Ci({onFungibleDetailNav:t,onTappingAccount:r,onTappingQRButton:e,onTappingSearch:n,onTappingSettings:s=()=>{},onTappingManageTokens:a=()=>{},onTappingManageCollections:l=()=>{},listFooterChildren:d,pageFooterComponent:m,listHeaderChildren:h,pageHeaderComponent:S,fixedHeaderChildren:b,zeroBalanceNux:B,renderCollectiblesComponent:O,accountAvatar:z,collectiblesPerRow:te=2,defaultTab:D,showPerpsPage:he,showPerpsPositionDetails:ye}){let re=W();lt();let[C,H]=Me(_),{refetch:we}=v(Se),{refetchCollections:Ie}=me(),ae=Wt(),yt=Gt(),Pt=(0,U.useCallback)(()=>{yt(!ae)},[ae,yt]),eo=(0,U.useCallback)(()=>{C===k.Tokens&&we(),C===k.Collectibles&&Ie()},[C,we,Ie]),to=(0,U.useCallback)(ro=>Ti(ro,t,re),[t,re]);return(0,U.useEffect)(()=>{re.capture("portfolioHomeViewed")},[re]),(0,U.useEffect)(()=>{typeof D<"u"&&H(D)},[D,H]),U.default.createElement(U.default.Fragment,null,S,U.default.createElement(Jr,{isBalanceHidden:ae,collectiblesPerRow:te,renderCollectiblesComponent:O,fixedHeaderChildren:b,listFooterChildren:d,listHeaderChildren:U.default.createElement(u,{marginBottom:4},U.default.createElement(u,{gap:24},U.default.createElement(Hr,{toggleBalanceVisibility:Pt,isBalanceHidden:ae,zeroBalanceNux:B}),U.default.createElement(dt,null),h)),tabBar:U.default.createElement(Nr,{isBalanceHidden:ae,toggleBalanceVisibility:Pt,onRefresh:eo,selectedDataTab:C,onTappingManageTokens:a,onTappingManageCollections:l,onTappingSettings:s}),accountAvatar:z,onFungibleDetailNav:to,onTappingAccount:r,onTappingQRButton:e,onTappingSearch:n,showPerpsPage:he,showPerpsPositionDetails:ye}),m)}o();i();var Ke=g(f());function Ai({marginBottom:t}){let{t:r}=E();return Ke.default.createElement(u,{direction:"row",gap:6,paddingY:16,paddingX:18,borderRadius:"base",justifyContent:"center",backgroundColor:"bgArea",marginBottom:t},Ke.default.createElement(Z.Eye,{size:20,color:"textSecondary"}),Ke.default.createElement(w,{font:"captionSemibold",color:"textSecondary"},r("readOnlyAccountBannerWarning")))}var ki=Ai;o();i();o();i();var je=g(f());function Ei(){let t=v(qe);return(0,je.useEffect)(()=>{t()},[t]),je.default.createElement(Te,null)}var xi=Ei;export{Ci as a,xi as b,ki as c};
//# sourceMappingURL=chunk-4C6KJ55P.js.map
