import{Ea as c,p as b}from"./chunk-AMFBRYZX.js";import{h as g}from"./chunk-ZS5DCR5N.js";import{D as f}from"./chunk-GWUVAKX4.js";import{h as A,i as h}from"./chunk-6QNUOYSW.js";import{j as P,o as p}from"./chunk-3D6TIEIV.js";import{d as w}from"./chunk-EW3NOMMT.js";import{a as y}from"./chunk-IEY2ZFRQ.js";import{Vd as d}from"./chunk-MP5PPKB7.js";import{y as u}from"./chunk-LT72WXA6.js";import{Q as S,c as x}from"./chunk-NRW4C74H.js";import{f as F,h as l,n as m}from"./chunk-YJSZZTEX.js";l();m();var i=F(x());l();m();var I="_19n0krs0";var D=u({days:3}),M=new y,Ii=()=>{let t=d(),{isOpen:s}=g(),{data:o,isSuccess:e}=P("AdditionalPermissions"),{handleShowModalVisibility:r}=c(),a=e&&!o&&!s;return(0,i.useEffect)(()=>{a&&(r("additionalPermissions"),t.capture("allSitesPermissionsSeen",{data:{uiContext:"interstitial"}}))},[r,a,t]),null};function Ci(){let[t,s]=(0,i.useState)(null),[o,e]=(0,i.useState)(!1),{data:r}=p("AdditionalPermissions");return(0,i.useEffect)(()=>{(async()=>{let n=await f(M);(!n||n&&Date.now()-n>D)&&e(!0)})()},[]),(0,i.useEffect)(()=>{A().then(n=>{s(n)})},[t]),{shouldShowAdditionalPermissionsInterstitial:(0,i.useMemo)(()=>t===null?!1:!t,[t])&&!r&&o}}var T=()=>{let{t}=S(),s=d(),{handleHideModalVisibility:o}=c(),{mutate:e}=p("AdditionalPermissions"),r=(0,i.useCallback)(()=>{s.capture("allSitesPermissions",{data:{uiContext:"interstitial",oldValue:!1,newValue:!1,choice:"commandDontAllow"}}),e(),o("additionalPermissions")},[o,e,s]),a=(0,i.useCallback)(async()=>{let C=await h();s.capture("allSitesPermissions",{data:{uiContext:"interstitial",oldValue:!1,newValue:C,choice:"commandAllow"}}),e(),o("additionalPermissions")},[o,e,s]),n={icon:i.default.createElement("img",{className:I,src:"/images/additional-permissions/interstitial.webp"}),bodyTitle:t("interstitialAdditionalPermissionsTitle"),bodyDescription:t("interstitialAdditionalPermissionsSubtitle"),FooterComponent:()=>i.default.createElement(w,{primaryText:t("commandAllow"),onPrimaryClicked:a,secondaryText:t("commandDontAllow"),onSecondaryClicked:r}),onDismiss:r};return i.default.createElement(b,{...n})},Fi=T;export{Ii as a,Ci as b,T as c,Fi as d};
//# sourceMappingURL=chunk-AK34GRJS.js.map
