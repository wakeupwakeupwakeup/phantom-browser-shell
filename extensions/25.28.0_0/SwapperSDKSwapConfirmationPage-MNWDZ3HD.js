import{Ea as M}from"./chunk-AMFBRYZX.js";import"./chunk-SERUZOGH.js";import"./chunk-KTETFJNC.js";import"./chunk-2ADUYUI4.js";import"./chunk-XQOJIQLP.js";import"./chunk-5JX67CVA.js";import"./chunk-HO7ZJLVP.js";import"./chunk-U2ZBADSX.js";import"./chunk-XBPWOUK6.js";import"./chunk-3A6TGOFP.js";import"./chunk-MWGJZC2B.js";import"./chunk-Y5DSDVWB.js";import"./chunk-Q2CJBZ36.js";import"./chunk-IEC36PYL.js";import"./chunk-RCTFQ5RY.js";import"./chunk-H7XHGTRT.js";import"./chunk-FFSCLU3N.js";import"./chunk-6OGAEY46.js";import"./chunk-ZS5DCR5N.js";import"./chunk-YQDK2KIS.js";import"./chunk-B5X6OJ4M.js";import"./chunk-UWMKBOBS.js";import"./chunk-CFJPS3RY.js";import"./chunk-6OURT4HP.js";import{Ka as I,La as L,ca as $,fa as P}from"./chunk-GWUVAKX4.js";import"./chunk-VGFG26AC.js";import"./chunk-64SFTQTZ.js";import"./chunk-6QNUOYSW.js";import"./chunk-3D6TIEIV.js";import"./chunk-MDYMDZNO.js";import"./chunk-TUQYLFS7.js";import"./chunk-G3SJLT24.js";import"./chunk-DR6UT56S.js";import"./chunk-I4O7QVCI.js";import"./chunk-BDQDDHRI.js";import"./chunk-PRCCLR5N.js";import"./chunk-JHSMRLRR.js";import"./chunk-EW3NOMMT.js";import{c as H}from"./chunk-AXFDOJRV.js";import"./chunk-HBMWL2L6.js";import"./chunk-TEXQAPAF.js";import"./chunk-HPOIQOE7.js";import"./chunk-RL5NICHE.js";import"./chunk-DZSKJQUR.js";import"./chunk-IEY2ZFRQ.js";import"./chunk-BCKEKIIT.js";import"./chunk-GYYECUZK.js";import"./chunk-FDJQKATD.js";import{Y as A}from"./chunk-OGTXJ4NL.js";import{lb as C,vf as v}from"./chunk-MP5PPKB7.js";import"./chunk-LV3AOIIH.js";import"./chunk-LT72WXA6.js";import{Ia as F,Q as D,Wb as R,c as X,nb as V}from"./chunk-NRW4C74H.js";import"./chunk-2POO4JJE.js";import"./chunk-PQWATTJB.js";import"./chunk-OLIHMAK6.js";import{f as O,h as N,n as h}from"./chunk-YJSZZTEX.js";N();h();var t=O(X());var Y=o=>self.open(o,"_blank"),Z=()=>{let{handleHideModalVisibility:o}=M(),e=H(),{data:c}=v(),l=c?.type==="ledger",u="swapSDKConfirmation",s=(0,t.useCallback)(()=>{o(u)},[o,u]),i=(0,t.useCallback)(()=>{s(),e("/notifications")},[s,e]);return L({isLedger:l,goToSwapTab:s,goToActivityTab:i})},ee=()=>{let o=(0,t.useRef)(null),{t:e}=D(),c=$(),g=Z(),{data:l}=A(),u=e("swapTxConfirmationViewTransaction"),{isBridge:s,sellAsset:i,buyAsset:p,estimatedTime:K,isClosable:U,isSuccess:z,txErrorHelpButtonLink:Q,onClose:W,onSwapSuccess:_}=g,[d,j]=(0,t.useState)(void 0),[n,q]=(0,t.useState)(void 0),[y,G]=(0,t.useState)(!1),a,r,b,f,E=e("commandClose"),k,w=U||!1,S,B;if(s&&i){let m=`${i.amount} ${i.symbol}`,x=C.getNetworkName(i.networkID),T=`${p.amount} ${p.symbol}`,J=C.getNetworkName(p.networkID);a=e("swapTxBridgeSubmitting"),r=e("swapTxBridgeSubmittingDescription",{sellAmount:m,sellNetwork:x,buyAmount:T,buyNetwork:J})}else r=`${p.symbol||e("swapTxConfirmationTokens")} ${e("swapTxConfirmationTokensWillBeDeposited")} `,a=e("swapTxConfirmationSwappingTokens");return n?.type==="executeSwapStarted"&&o.current?.start(),n?.type==="transactionConfirmed"&&(s?(a=e("swapTxBridgeSubmitted"),r=e("swapTxBridgeSubmittedDescription",{estimatedTime:K}),b=e("swapTxBridgeSubmittedDisclaimer")):(a=e("swapTxConfirmationTokensDepositedTitle"),r=e("swapTxConfirmationTokensDepositedBody")),f={theme:"primary"},w=!0,o.current?.success()),(n?.type==="simulationFailed"||n?.type==="transactionConfirmationFailed"||n?.type==="transactionSubmissionFailed")&&(f={theme:"secondary"},E=e("commandClose"),w=!0,k=t.default.createElement(F,{alignItems:"flex-end"},t.default.createElement(V,{icon:"HelpCircle",size:32,onClick:()=>Y(Q),backgroundColor:[null,"bgButton"],color:["textSecondary","textPrimary"],label:e("commandHelp")}))),n?.type==="simulationFailed"&&(a=`${e("swapTxConfirmationSwapFailed")} ${i.symbol} \u2192 ${p.symbol}`,r=P(n.error),o.current?.fail()),(n?.type==="transactionConfirmationFailed"||n?.type==="transactionSubmissionFailed")&&(a=e("swapTxConfirmationSwapFailed"),r=e("swapTxConfirmationSwapFailedUnknownError"),o.current?.fail()),(0,t.useEffect)(()=>{!S&&setTimeout(()=>{!y&&o.current?.start(),G(!0)},200)},[y,S]),(0,t.useEffect)(()=>{let m=c.subscribeExecution({onStateChange:(x,T)=>{j(T),q(x)}});return()=>m()},[c]),d?.type==="confirmingTransaction"&&(B=I({txReceipt:d?.txReceipt,networkID:d?.executingQuote.sell.data.chain.id,preferredExplorers:l})),t.default.createElement(R,{ref:o,title:a,txLink:B,txTitle:u,description:r,disclaimer:b,isClosable:w,buttonVariant:f,buttonText:E,onClose:z?_:W,header:k,customIcon:S})},Te=ee;export{ee as SwapperSDKSwapConfirmationPage,Te as default};
//# sourceMappingURL=SwapperSDKSwapConfirmationPage-MNWDZ3HD.js.map
