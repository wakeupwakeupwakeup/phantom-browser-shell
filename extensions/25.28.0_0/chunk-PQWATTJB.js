import{h as a,n as c}from"./chunk-YJSZZTEX.js";a();c();var ze={log:"log",debug:"debug",info:"info",warn:"warn",error:"error"},be=console,at={};Object.keys(ze).forEach(e=>{at[e]=be[e]});var _t="Datadog Browser SDK:",I={debug:at.debug.bind(be,_t),log:at.log.bind(be,_t),info:at.info.bind(be,_t),warn:at.warn.bind(be,_t),error:at.error.bind(be,_t)},Tt="https://docs.datadoghq.com",Nn=`${Tt}/real_user_monitoring/browser/troubleshooting`,ct="More details:";a();c();function xe(){if(typeof globalThis=="object")return globalThis;Object.defineProperty(Object.prototype,"_dd_temp_",{get(){return this},configurable:!0});let e=_dd_temp_;return delete Object.prototype._dd_temp_,typeof e!="object"&&(typeof self=="object"||typeof self=="object"?e=self:e={}),e}a();c();var Jt,kn=!1;function Ln(e){Jt=e}function eo(e){kn=e}function Ua(e,t,r){let o=r.value;r.value=function(...n){return(Jt?y(o):o).apply(this,n)}}function y(e){return function(){return se(e,this,arguments)}}function se(e,t,r){try{return e.apply(t,r)}catch(o){Qt(o)}}function Qt(e){if(Zt(e),Jt)try{Jt(e)}catch(t){Zt(t)}}function Zt(...e){kn&&I.error("[MONITOR]",...e)}a();c();a();c();function ae(e,t){let r=xe(),o;return r.Zone&&typeof r.Zone.__symbol__=="function"&&(o=e[r.Zone.__symbol__(t)]),o||(o=e[t]),o}function D(e,t){return ae(xe(),"setTimeout")(y(e),t)}function K(e){ae(xe(),"clearTimeout")(e)}function ce(e,t){return ae(xe(),"setInterval")(y(e),t)}function ye(e){ae(xe(),"clearInterval")(e)}a();c();function N(e,t,r,o,n){return ee(e,t,[r],o,n)}function ee(e,t,r,o,{once:n,capture:i,passive:s}={}){let u=y(g=>{!g.isTrusted&&!g.__ddIsTrusted&&!e.allowUntrustedEvents||(n&&m(),o(g))}),l=s?{capture:i,passive:s}:i,p=self.EventTarget&&t instanceof EventTarget?self.EventTarget.prototype:t,d=ae(p,"addEventListener");r.forEach(g=>d.call(t,g,u,l));function m(){let g=ae(p,"removeEventListener");r.forEach(S=>g.call(t,S,u,l))}return{stop:m}}a();c();a();c();a();c();a();c();var Va=/[^\u0000-\u007F]/;function er(e){return Va.test(e)?self.TextEncoder!==void 0?new TextEncoder().encode(e).length:new Blob([e]).size:e.length}function Cp(e){let t=e.reduce((n,i)=>n+i.length,0),r=new Uint8Array(t),o=0;for(let n of e)r.set(n,o),o+=n.length;return r}a();c();a();c();function Fe(e,t,r){let o=r&&r.leading!==void 0?r.leading:!0,n=r&&r.trailing!==void 0?r.trailing:!0,i=!1,s,u;return{throttled:(...l)=>{if(i){s=l;return}o?e(...l):s=l,i=!0,u=D(()=>{n&&s&&e(...s),i=!1,s=void 0},t)},cancel:()=>{K(u),i=!1,s=void 0}}}function O(){}function me(e,t,r){if(typeof e!="object"||e===null)return JSON.stringify(e);let o=qe(Object.prototype),n=qe(Array.prototype),i=qe(Object.getPrototypeOf(e)),s=qe(e);try{return JSON.stringify(e,t,r)}catch{return"<error: unable to serialize object>"}finally{o(),n(),i(),s()}}function qe(e){let t=e,r=t.toJSON;return r?(delete t.toJSON,()=>{t.toJSON=r}):O}var Fa=220*1024,Ba="$",$a=3;function U(e,t=Fa){let r=qe(Object.prototype),o=qe(Array.prototype),n=[],i=new WeakMap,s=to(e,Ba,void 0,n,i),u=JSON.stringify(s),l=u?u.length:0;if(l>t){ro(t,"discarded",e);return}for(;n.length>0&&l<t;){let p=n.shift(),d=0;if(Array.isArray(p.source))for(let m=0;m<p.source.length;m++){let g=to(p.source[m],p.path,m,n,i);if(g!==void 0?l+=JSON.stringify(g).length:l+=4,l+=d,d=1,l>t){ro(t,"truncated",e);break}p.target[m]=g}else for(let m in p.source)if(Object.prototype.hasOwnProperty.call(p.source,m)){let g=to(p.source[m],p.path,m,n,i);if(g!==void 0&&(l+=JSON.stringify(g).length+d+m.length+$a,d=1),l>t){ro(t,"truncated",e);break}p.target[m]=g}}return r(),o(),s}function to(e,t,r,o,n){let i=ja(e);if(!i||typeof i!="object")return Ga(i);let s=oo(i);if(s!=="[Object]"&&s!=="[Array]"&&s!=="[Error]")return s;let u=e;if(n.has(u))return`[Reference seen at ${n.get(u)}]`;let l=r!==void 0?`${t}.${r}`:t,p=Array.isArray(i)?[]:{};return n.set(u,l),o.push({source:i,target:p,path:l}),p}function Ga(e){return typeof e=="bigint"?`[BigInt] ${e.toString()}`:typeof e=="function"?`[Function] ${e.name||"unknown"}`:typeof e=="symbol"?`[Symbol] ${e.description||e.toString()}`:e}function oo(e){try{if(e instanceof Event)return Ha(e);if(e instanceof RegExp)return`[RegExp] ${e.toString()}`;let r=Object.prototype.toString.call(e).match(/\[object (.*)\]/);if(r&&r[1])return`[${r[1]}]`}catch{}return"[Unserializable]"}function Ha(e){return{type:e.type,isTrusted:e.isTrusted,currentTarget:e.currentTarget?oo(e.currentTarget):null,target:e.target?oo(e.target):null}}function ja(e){let t=e;if(t&&typeof t.toJSON=="function")try{return t.toJSON()}catch{}return e}function ro(e,t,r){I.warn(`The data provided has been ${t} as it is over the limit of ${e} characters:`,r)}a();c();var ht="?";function Z(e){let t=[],r=io(e,"stack"),o=String(e);return r&&r.startsWith(o)&&(r=r.slice(o.length)),r&&r.split(`
`).forEach(n=>{let i=za(n)||Xa(n)||Ja(n)||ec(n);i&&(!i.func&&i.line&&(i.func=ht),t.push(i))}),{message:io(e,"message"),name:io(e,"name"),stack:t}}var Mn="((?:file|https?|blob|chrome-extension|electron|native|eval|webpack|snippet|<anonymous>|\\w+\\.|\\/).*?)",ut="(?::(\\d+))",Ka=new RegExp(`^\\s*at (.*?) ?\\(${Mn}${ut}?${ut}?\\)?\\s*$`,"i"),Ya=new RegExp(`\\((\\S*)${ut}${ut}\\)`);function za(e){let t=Ka.exec(e);if(!t)return;let r=t[2]&&t[2].indexOf("native")===0,o=t[2]&&t[2].indexOf("eval")===0,n=Ya.exec(t[2]);return o&&n&&(t[2]=n[1],t[3]=n[2],t[4]=n[3]),{args:r?[t[2]]:[],column:t[4]?+t[4]:void 0,func:t[1]||ht,line:t[3]?+t[3]:void 0,url:r?void 0:t[2]}}var qa=new RegExp(`^\\s*at ?${Mn}${ut}?${ut}??\\s*$`,"i");function Xa(e){let t=qa.exec(e);if(t)return{args:[],column:t[3]?+t[3]:void 0,func:ht,line:t[2]?+t[2]:void 0,url:t[1]}}var Wa=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;function Ja(e){let t=Wa.exec(e);if(t)return{args:[],column:t[4]?+t[4]:void 0,func:t[1]||ht,line:+t[3],url:t[2]}}var Za=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,Qa=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function ec(e){let t=Za.exec(e);if(!t)return;let r=t[3]&&t[3].indexOf(" > eval")>-1,o=Qa.exec(t[3]);return r&&o&&(t[3]=o[1],t[4]=o[2],t[5]=void 0),{args:t[2]?t[2].split(","):[],column:t[5]?+t[5]:void 0,func:t[1]||ht,line:t[4]?+t[4]:void 0,url:t[3]}}function io(e,t){if(typeof e!="object"||!e||!(t in e))return;let r=e[t];return typeof r=="string"?r:void 0}function Dn(e,t,r,o){let n=[{url:t,column:o,line:r}],{name:i,message:s}=rc(e);return{name:i,message:s,stack:n}}var tc=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?([\s\S]*)$/;function rc(e){let t,r;return{}.toString.call(e)==="[object String]"&&([,t,r]=tc.exec(e)),{name:t,message:r}}a();c();function Xe(e){let r=new Error(e);r.name="HandlingStack";let o;return se(()=>{let n=Z(r);n.stack=n.stack.slice(2),o=_e(n)}),o}function _e(e){let t=so(e);return e.stack.forEach(r=>{let o=r.func==="?"?"<anonymous>":r.func,n=r.args&&r.args.length>0?`(${r.args.join(", ")})`:"",i=r.line?`:${r.line}`:"",s=r.line&&r.column?`:${r.column}`:"";t+=`
  at ${o}${n} @ ${r.url}${i}${s}`}),t}function so(e){return`${e.name||"Error"}: ${e.message}`}var tr="No stack, consider using an instance of Error";function vt({stackTrace:e,originalError:t,handlingStack:r,componentStack:o,startClocks:n,nonErrorPrefix:i,source:s,handling:u}){let l=te(t),p=oc(e,l,i,t),d=nc(l,e)?_e(e):tr,m=l?uo(t,s):void 0,g=e?e.name:void 0,S=ao(t),E=co(t);return{startClocks:n,source:s,handling:u,handlingStack:r,componentStack:o,originalError:t,type:g,message:p,stack:d,causes:m,fingerprint:S,context:E}}function oc(e,t,r,o){return e?.message&&e?.name?e.message:t?"Empty message":`${r} ${me(U(o))}`}function nc(e,t){return t===void 0?!1:e?!0:t.stack.length>0&&(t.stack.length>1||t.stack[0].url!==void 0)}function ao(e){return te(e)&&"dd_fingerprint"in e?String(e.dd_fingerprint):void 0}function co(e){if(e!==null&&typeof e=="object"&&"dd_context"in e)return e.dd_context}function ic(e){var t;return(t=/@ (.+)/.exec(e))===null||t===void 0?void 0:t[1]}function te(e){return e instanceof Error||Object.prototype.toString.call(e)==="[object Error]"}function uo(e,t){let r=e,o=[];for(;te(r?.cause)&&o.length<10;){let n=Z(r.cause);o.push({message:r.cause.message,source:t,type:n?.name,stack:n&&_e(n)}),r=r.cause}return o.length?o:void 0}a();c();a();c();function we(e){return{...e}}function We(e,t){return Object.keys(e).some(r=>e[r]===t)}function ue(e){return Object.keys(e).length===0}function Pn(e,t){let r={};for(let o of Object.keys(e))r[o]=t(e[o]);return r}var fe;(function(e){e.WRITABLE_RESOURCE_GRAPHQL="writable_resource_graphql",e.MISSING_URL_CONTEXT_TELEMETRY="missing_url_context_telemetry",e.USER_ACCOUNT_TRACE_HEADER="user_account_trace_header",e.PROFILING="profiling"})(fe||(fe={}));var lo=new Set;function po(e){Array.isArray(e)&&Un(e.filter(t=>We(fe,t)))}function Un(e){e.forEach(t=>{lo.add(t)})}function Be(e){return lo.has(e)}function mo(){return lo}a();c();a();c();a();c();function rr(e,t){return(...r)=>{try{return e(...r)}catch(o){I.error(t,o)}}}a();c();a();c();function ge(e){return e!==0&&Math.random()*100<=e}function Je(e,t){return+e.toFixed(t)}function Vn(e){return Ne(e)&&e>=0&&e<=100}function Ne(e){return typeof e=="number"}var V=1e3,F=60*V,go=60*F,sc=24*go,Eo=365*sc;function Ze(e){return{relative:e,timeStamp:ac(e)}}function Fn(e){return{relative:It(e),timeStamp:e}}function ac(e){let t=X()-performance.now();return t>Ct()?Math.round($e(t,e)):cc(e)}function Bn(){return Math.round(X()-$e(Ct(),performance.now()))}function h(e){return Ne(e)?Je(e*1e6,0):e}function X(){return new Date().getTime()}function $(){return X()}function H(){return performance.now()}function P(){return{relative:H(),timeStamp:$()}}function or(){return{relative:0,timeStamp:Ct()}}function M(e,t){return t-e}function $e(e,t){return e+t}function It(e){return e-Ct()}function cc(e){return Math.round($e(Ct(),e))}function $n(e){return e<Eo}var fo;function Ct(){return fo===void 0&&(fo=performance.timing.navigationStart),fo}a();c();a();c();var _=class{constructor(t){this.onFirstSubscribe=t,this.observers=[]}subscribe(t){return this.observers.push(t),this.observers.length===1&&this.onFirstSubscribe&&(this.onLastUnsubscribe=this.onFirstSubscribe(this)||void 0),{unsubscribe:()=>{this.observers=this.observers.filter(r=>t!==r),!this.observers.length&&this.onLastUnsubscribe&&this.onLastUnsubscribe()}}}notify(t){this.observers.forEach(r=>r(t))}};function nr(...e){return new _(t=>{let r=e.map(o=>o.subscribe(n=>t.notify(n)));return()=>r.forEach(o=>o.unsubscribe())})}a();c();function k(e){return e?(parseInt(e,10)^Math.random()*16>>parseInt(e,10)/4).toString(16):`10000000-1000-4000-8000-${1e11}`.replace(/[018]/g,k)}var ir=/([\w-]+)\s*=\s*([^;]+)/g;function Ge(e,t){for(ir.lastIndex=0;;){let r=ir.exec(e);if(r){if(r[1]===t)return r[2]}else break}}function Gn(e){let t=new Map;for(ir.lastIndex=0;;){let r=ir.exec(e);if(r)t.set(r[1],r[2]);else break}return t}function sr(e,t,r=""){let o=e.charCodeAt(t-1),i=o>=55296&&o<=56319?t+1:t;return e.length<=i?e:`${e.slice(0,i)}${r}`}a();c();a();c();function Hn(){return jn()===0}function Rm(){return jn()===1}var ar;function jn(){return ar??(ar=uc())}function uc(e=self){var t;let r=e.navigator.userAgent;return e.chrome||/HeadlessChrome/.test(r)?0:((t=e.navigator.vendor)===null||t===void 0?void 0:t.indexOf("Apple"))===0||/safari/i.test(r)&&!/chrome|android/i.test(r)?1:2}a();c();function Qe(e,t,r=0,o){let n=new Date;n.setTime(n.getTime()+r);let i=`expires=${n.toUTCString()}`,s=o&&o.crossSite?"none":"strict",u=o&&o.domain?`;domain=${o.domain}`:"",l=o&&o.secure?";secure":"",p=o&&o.partitioned?";partitioned":"";document.cookie=`${e}=${t};${i};path=/;samesite=${s}${u}${l}${p}`}function At(e){return Ge(document.cookie,e)}var So;function le(e){return So||(So=Gn(document.cookie)),So.get(e)}function xo(e,t){Qe(e,"",0,t)}function yo(e){if(document.cookie===void 0||document.cookie===null)return!1;try{let t=`dd_cookie_test_${k()}`,r="test";Qe(t,r,F,e);let o=At(t)===r;return xo(t,e),o}catch(t){return I.error(t),!1}}var bo;function Kn(){if(bo===void 0){let e=`dd_site_test_${k()}`,t="test",r=self.location.hostname.split("."),o=r.pop();for(;r.length&&!At(e);)o=`${r.pop()}.${o}`,Qe(e,t,V,{domain:o});xo(e,{domain:o}),bo=o}return bo}a();c();a();c();var ke="_dd_s";a();c();a();c();function Yn(e,t){for(let r=e.length-1;r>=0;r-=1){let o=e[r];if(t(o,r,e))return o}}function cr(e){return Object.values(e)}function lt(e){return Object.entries(e)}a();c();var Q=4*go,ur=15*F,zn=Eo,Le={COOKIE:"cookie",LOCAL_STORAGE:"local-storage"};a();c();var _o=/^([a-zA-Z]+)=([a-z0-9-]+)$/,lr="&";function qn(e){return!!e&&(e.indexOf(lr)!==-1||_o.test(e))}var lc="1";function Te(e,t){let r={isExpired:lc};return t.trackAnonymousUser&&(e?.anonymousId?r.anonymousId=e?.anonymousId:r.anonymousId=k()),r}function Rt(e){return ue(e)}function dr(e){return!Rt(e)}function dt(e){return e.isExpired!==void 0||!dc(e)}function dc(e){return(e.created===void 0||X()-Number(e.created)<Q)&&(e.expire===void 0||X()<Number(e.expire))}function pr(e){e.expire=String(X()+ur)}function Ot(e){return lt(e).map(([t,r])=>t==="anonymousId"?`aid=${r}`:`${t}=${r}`).join(lr)}function mr(e){let t={};return qn(e)&&e.split(lr).forEach(r=>{let o=_o.exec(r);if(o!==null){let[,n,i]=o;n==="aid"?t.anonymousId=i:t[n]=i}}),t}var pc="_dd",mc="_dd_r",fc="_dd_l",gc="rum",Ec="logs";function Xn(e){if(!le(ke)){let r=le(pc),o=le(mc),n=le(fc),i={};r&&(i.id=r),n&&/^[01]$/.test(n)&&(i[Ec]=n),o&&/^[012]$/.test(o)&&(i[gc]=o),dr(i)&&(pr(i),e.persistSession(i))}}function To(e){let t=yc(e);return yo(t)?{type:Le.COOKIE,cookieOptions:t}:void 0}function Wn(e,t){let r={isLockEnabled:Hn(),persistSession:Sc(t),retrieveSession:xc,expireSession:o=>bc(t,o,e)};return Xn(r),r}function Sc(e){return t=>{Qe(ke,Ot(t),ur,e)}}function bc(e,t,r){let o=Te(t,r);Qe(ke,Ot(o),r.trackAnonymousUser?zn:Q,e)}function xc(){let e=At(ke);return mr(e)}function yc(e){let t={};return t.secure=!!e.useSecureSessionCookie||!!e.usePartitionedCrossSiteSessionCookie,t.crossSite=!!e.usePartitionedCrossSiteSessionCookie,t.partitioned=!!e.usePartitionedCrossSiteSessionCookie,e.trackSessionAcrossSubdomains&&(t.domain=Kn()),t}a();c();var _c="_dd_test_";function ho(){try{let e=k(),t=`${_c}${e}`;localStorage.setItem(t,e);let r=localStorage.getItem(t);return localStorage.removeItem(t),e===r?{type:Le.LOCAL_STORAGE}:void 0}catch{return}}function Jn(e){return{isLockEnabled:!1,persistSession:Zn,retrieveSession:Tc,expireSession:t=>hc(t,e)}}function Zn(e){localStorage.setItem(ke,Ot(e))}function Tc(){let e=localStorage.getItem(ke);return mr(e)}function hc(e,t){Zn(Te(e,t))}a();c();var vc=10,Ic=100,ei=[],gr;function He(e,t,r=0){var o;let{isLockEnabled:n,persistSession:i,expireSession:s}=t,u=g=>i({...g,lock:p}),l=()=>{let g=t.retrieveSession(),S=g.lock;return g.lock&&delete g.lock,{session:g,lock:S}};if(gr||(gr=e),e!==gr){ei.push(e);return}if(n&&r>=Ic){Qn(t);return}let p,d=l();if(n){if(d.lock){fr(e,t,r);return}if(p=k(),u(d.session),d=l(),d.lock!==p){fr(e,t,r);return}}let m=e.process(d.session);if(n&&(d=l(),d.lock!==p)){fr(e,t,r);return}if(m&&(dt(m)?s(m):(pr(m),n?u(m):i(m))),n&&!(m&&dt(m))){if(d=l(),d.lock!==p){fr(e,t,r);return}i(d.session),m=d.session}(o=e.after)===null||o===void 0||o.call(e,m||d.session),Qn(t)}function fr(e,t,r){D(()=>{He(e,t,r+1)},vc)}function Qn(e){gr=void 0;let t=ei.shift();t&&He(t,e)}var ti=V;function ri(e){switch(e.sessionPersistence){case Le.COOKIE:return To(e);case Le.LOCAL_STORAGE:return ho();case void 0:{let t=To(e);return!t&&e.allowFallbackToLocalStorage&&(t=ho()),t}default:I.error(`Invalid session persistence '${String(e.sessionPersistence)}'`)}}function oi(e,t,r,o){let n=new _,i=new _,s=new _,u=e.type===Le.COOKIE?Wn(t,e.cookieOptions):Jn(t),{expireSession:l}=u,p=ce(E,ti),d;C();let{throttled:m,cancel:g}=Fe(()=>{He({process:v=>{if(Rt(v))return;let pe=b(v);return R(pe),pe},after:v=>{dr(v)&&!L()&&B(v),d=v}},u)},ti);function S(){He({process:v=>L()?b(v):void 0},u)}function E(){He({process:v=>dt(v)?Te(v,t):void 0,after:b},u)}function b(v){return dt(v)&&(v=Te(v,t)),L()&&(x(v)?T():(s.notify({previousState:d,newState:v}),d=v)),v}function C(){He({process:v=>{if(Rt(v))return Te(v,t)},after:v=>{d=v}},u)}function R(v){if(Rt(v))return!1;let{trackingType:pe,isTracked:st}=o(v[r]);v[r]=pe,delete v.isExpired,st&&!v.id&&(v.id=k(),v.created=String(X()))}function L(){return d[r]!==void 0}function x(v){return d.id!==v.id||d[r]!==v[r]}function T(){d=Te(d,t),i.notify()}function B(v){d=v,n.notify()}function Se(v){He({process:pe=>({...pe,...v}),after:b},u)}return{expandOrRenewSession:m,expandSession:S,getSession:()=>d,renewObservable:n,expireObservable:i,sessionStateUpdateObservable:s,restartSession:C,expire:()=>{g(),l(d),b(Te(d,t))},stop:()=>{ye(p)},updateSessionState:Se}}a();c();var wt={GRANTED:"granted",NOT_GRANTED:"not-granted"};function vo(e){let t=new _;return{tryToInit(r){e||(e=r)},update(r){e=r,t.notify()},isGranted(){return e===wt.GRANTED},observable:t}}a();c();a();c();a();c();function pt(e){return Io(e,location.href).href}function ii(e){try{return!!Io(e)}catch{return!1}}function si(e){let t=Io(e).pathname;return t[0]==="/"?t:`/${t}`}function Io(e,t){let r=Cc();if(r)try{return t!==void 0?new r(e,t):new r(e)}catch(i){throw new Error(`Failed to construct URL: ${String(i)} ${me({url:e,base:t})}`)}if(t===void 0&&!/:/.test(e))throw new Error(`Invalid URL: '${e}'`);let o=document,n=o.createElement("a");if(t!==void 0){o=document.implementation.createHTMLDocument("");let i=o.createElement("base");i.href=t,o.head.appendChild(i),o.body.appendChild(n)}return n.href=e,n}var ni=URL,Er;function Cc(){if(Er===void 0)try{Er=new ni("http://test/path").href==="http://test/path"}catch{Er=!1}return Er?ni:void 0}a();c();var Nt="datad0g.com",ai="dd0g-gov.com",Ee="datadoghq.com",Co="datadoghq.eu",Ao="ddog-gov.com",ci="pci.browser-intake-datadoghq.com",Ro=["ddsource","ddtags"];function je(e,t,r){let o=Ac(e,t);return{build(n,i){let s=Rc(e,t,r,n,i);return o(s)},tags:r,urlPrefix:o(""),trackType:t}}function Ac(e,t){let r=`/api/v2/${t}`,o=e.proxy;if(typeof o=="string"){let i=pt(o);return s=>`${i}?ddforward=${encodeURIComponent(`${r}?${s}`)}`}if(typeof o=="function")return i=>o({path:r,parameters:i});let n=kt(t,e);return i=>`https://${n}${r}?${i}`}function kt(e,t){let{site:r=Ee,internalAnalyticsSubdomain:o}=t;if(e==="logs"&&t.usePciIntake&&r===Ee)return ci;if(o&&r===Ee)return`${o}.${Ee}`;if(r===ai)return`http-intake.logs.${r}`;let n=r.split("."),i=n.pop();return`browser-intake-${n.join("-")}.${i}`}function Rc({clientToken:e,internalAnalyticsSubdomain:t},r,o,n,{retry:i,encoding:s}){let u=["sdk_version:6.6.3",`api:${n}`].concat(o);i&&u.push(`retry_count:${i.count}`,`retry_after:${i.lastFailureStatus}`);let l=["ddsource=browser",`ddtags=${encodeURIComponent(u.join(","))}`,`dd-api-key=${e}`,`dd-evp-origin-version=${encodeURIComponent("6.6.3")}`,"dd-evp-origin=browser",`dd-request-id=${k()}`];return s&&l.push(`dd-evp-encoding=${s}`),r==="rum"&&l.push(`batch_time=${$()}`),t&&l.reverse(),l.join("&")}a();c();var Oc=200;function ui(e){let{env:t,service:r,version:o,datacenter:n}=e,i=[];return t&&i.push(Sr("env",t)),r&&i.push(Sr("service",r)),o&&i.push(Sr("version",o)),n&&i.push(Sr("datacenter",n)),i}function Sr(e,t){let r=Oc-e.length-1;(t.length>r||wc(t))&&I.warn(`${e} value doesn't meet tag requirements and will be sanitized. ${ct} ${Tt}/getting_started/tagging/#defining-tags`);let o=t.replace(/,/g,"_");return`${e}:${o}`}function wc(e){return Nc()?new RegExp("[^\\p{Ll}\\p{Lo}0-9_:./-]","u").test(e):!1}function Nc(){try{return new RegExp("[\\p{Ll}]","u"),!0}catch{return!1}}function Oo(e){let t=e.site||Ee,r=ui(e),o=kc(e,r);return{replica:Lc(e,r),site:t,...o}}function kc(e,t){return{logsEndpointBuilder:je(e,"logs",t),rumEndpointBuilder:je(e,"rum",t),profilingEndpointBuilder:je(e,"profile",t),sessionReplayEndpointBuilder:je(e,"replay",t)}}function Lc(e,t){if(!e.replica)return;let r={...e,site:Ee,clientToken:e.replica.clientToken},o={logsEndpointBuilder:je(r,"logs",t),rumEndpointBuilder:je(r,"rum",t)};return{applicationId:e.replica.applicationId,...o}}function br(e){return Ro.every(t=>e.includes(t))}var De={ALLOW:"allow",MASK:"mask",MASK_USER_INPUT:"mask-user-input"},et={ALL:"all",SAMPLED:"sampled"};function wo(e,t){return e!=null&&typeof e!="string"?(I.error(`${t} must be defined as a string`),!1):!0}function Mc(e){return e&&typeof e=="string"&&!/(datadog|ddog|datad0g|dd0g)/.test(e)?(I.error(`Site should be a valid Datadog site. ${ct} ${Tt}/getting_started/site/.`),!1):!0}function Me(e,t){return e!==void 0&&!Vn(e)?(I.error(`${t} Sample Rate should be a number between 0 and 100`),!1):!0}function xr(e){var t,r,o,n,i,s;if(!e||!e.clientToken){I.error("Client Token is not configured, we will not send any data.");return}if(!(!Mc(e.site)||!Me(e.sessionSampleRate,"Session")||!Me(e.telemetrySampleRate,"Telemetry")||!Me(e.telemetryConfigurationSampleRate,"Telemetry Configuration")||!Me(e.telemetryUsageSampleRate,"Telemetry Usage")||!wo(e.version,"Version")||!wo(e.env,"Env")||!wo(e.service,"Service"))){if(e.trackingConsent!==void 0&&!We(wt,e.trackingConsent)){I.error('Tracking Consent should be either "granted" or "not-granted"');return}return{beforeSend:e.beforeSend&&rr(e.beforeSend,"beforeSend threw an error:"),sessionStoreStrategyType:ri(e),sessionSampleRate:(t=e.sessionSampleRate)!==null&&t!==void 0?t:100,telemetrySampleRate:(r=e.telemetrySampleRate)!==null&&r!==void 0?r:20,telemetryConfigurationSampleRate:(o=e.telemetryConfigurationSampleRate)!==null&&o!==void 0?o:5,telemetryUsageSampleRate:(n=e.telemetryUsageSampleRate)!==null&&n!==void 0?n:5,service:e.service||void 0,silentMultipleInit:!!e.silentMultipleInit,allowUntrustedEvents:!!e.allowUntrustedEvents,trackingConsent:(i=e.trackingConsent)!==null&&i!==void 0?i:wt.GRANTED,trackAnonymousUser:(s=e.trackAnonymousUser)!==null&&s!==void 0?s:!0,storeContextsAcrossPages:!!e.storeContextsAcrossPages,batchBytesLimit:16*1024,eventRateLimiterThreshold:3e3,maxTelemetryEventsPerPage:15,flushTimeout:30*V,batchMessagesLimit:50,messageBytesLimit:256*1024,...Oo(e)}}}function yr(e){return{session_sample_rate:e.sessionSampleRate,telemetry_sample_rate:e.telemetrySampleRate,telemetry_configuration_sample_rate:e.telemetryConfigurationSampleRate,telemetry_usage_sample_rate:e.telemetryUsageSampleRate,use_before_send:!!e.beforeSend,use_partitioned_cross_site_session_cookie:e.usePartitionedCrossSiteSessionCookie,use_secure_session_cookie:e.useSecureSessionCookie,use_proxy:!!e.proxy,silent_multiple_init:e.silentMultipleInit,track_session_across_subdomains:e.trackSessionAcrossSubdomains,track_anonymous_user:e.trackAnonymousUser,session_persistence:e.sessionPersistence,allow_fallback_to_local_storage:!!e.allowFallbackToLocalStorage,store_contexts_across_pages:!!e.storeContextsAcrossPages,allow_untrusted_events:!!e.allowUntrustedEvents,tracking_consent:e.trackingConsent}}a();c();function Lt(e,t){let r=self.__ddBrowserSdkExtensionCallback;r&&r({type:e,payload:t})}a();c();a();c();function re(e){return e===null?"null":Array.isArray(e)?"array":typeof e}function _r(e,t,r=Dc()){if(t===void 0)return e;if(typeof t!="object"||t===null)return t;if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){let n=t.flags||[t.global?"g":"",t.ignoreCase?"i":"",t.multiline?"m":"",t.sticky?"y":"",t.unicode?"u":""].join("");return new RegExp(t.source,n)}if(r.hasAlreadyBeenSeen(t))return;if(Array.isArray(t)){let n=Array.isArray(e)?e:[];for(let i=0;i<t.length;++i)n[i]=_r(n[i],t[i],r);return n}let o=re(e)==="object"?e:{};for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&(o[n]=_r(o[n],t[n],r));return o}function mt(e){return _r(void 0,e)}function j(...e){let t;for(let r of e)r!=null&&(t=_r(t,r));return t}function Dc(){if(typeof WeakSet<"u"){let t=new WeakSet;return{hasAlreadyBeenSeen(r){let o=t.has(r);return o||t.add(r),o}}}let e=[];return{hasAlreadyBeenSeen(t){let r=e.indexOf(t)>=0;return r||e.push(t),r}}}a();c();function Tr(){var e;let t=self.navigator;return{status:t.onLine?"connected":"not_connected",interfaces:t.connection&&t.connection.type?[t.connection.type]:void 0,effective_type:(e=t.connection)===null||e===void 0?void 0:e.effectiveType}}a();c();a();c();function eE(e){let t=new Set;return e.forEach(r=>t.add(r)),Array.from(t)}function hr(e,t){let r=e.indexOf(t);r>=0&&e.splice(r,1)}var Pc=500;function Mt(){let e=[];return{add:n=>{e.push(n)>Pc&&e.splice(0,1)},remove:n=>{hr(e,n)},drain:n=>{e.forEach(i=>i(n)),e.length=0}}}a();c();var Ke={log:"log",configuration:"configuration",usage:"usage"};var Uc=["https://www.datadoghq-browser-agent.com","https://www.datad0g-browser-agent.com","https://d3uc069fcn7uxw.cloudfront.net","https://d20xtzwzcl0ceb.cloudfront.net","http://localhost","<anonymous>"],Vc=[Ao],li=Mt(),ft=e=>{li.add(()=>ft(e))};function vr(e,t){let r,o=new _,n=new Set,i=!Vc.includes(t.site)&&ge(t.telemetrySampleRate),s={[Ke.log]:i,[Ke.configuration]:i&&ge(t.telemetryConfigurationSampleRate),[Ke.usage]:i&&ge(t.telemetryUsageSampleRate)},u=Fc();ft=p=>{let d=me(p);if(s[p.type]&&n.size<t.maxTelemetryEventsPerPage&&!n.has(d)){let m=l(e,p,u);o.notify(m),Lt("telemetry",m),n.add(d)}},Ln(No);function l(p,d,m){return j({type:"telemetry",date:$(),service:p,version:"6.6.3",source:"browser",_dd:{format_version:2},telemetry:j(d,{runtime_env:m,connectivity:Tr(),sdk_setup:"npm"}),experimental_features:Array.from(mo())},r!==void 0?r():{})}return{setContextProvider:p=>{r=p},observable:o,enabled:i}}function Fc(){return{is_local_file:self.location.protocol==="file:",is_worker:"WorkerGlobalScope"in self}}function Ir(){li.drain()}function Cr(e){return e.site===Nt}function he(e,t){Zt(ze.debug,e,t),ft({type:Ke.log,message:e,status:"debug",...t})}function No(e,t){ft({type:Ke.log,status:"error",...Bc(e),...t})}function Ar(e){ft({type:Ke.configuration,configuration:e})}function z(e){ft({type:Ke.usage,usage:e})}function Bc(e){if(te(e)){let t=Z(e);return{error:{kind:t.name,stack:_e($c(t))},message:t.message}}return{error:{stack:tr},message:`Uncaught ${me(e)}`}}function $c(e){return e.stack=e.stack.filter(t=>!t.url||Uc.some(r=>t.url.startsWith(r))),e}a();c();a();c();a();c();a();c();function di(e){return e>=500}function pi(e){try{return e.clone()}catch{return}}a();c();var oe={AGENT:"agent",CONSOLE:"console",CUSTOM:"custom",LOGGER:"logger",NETWORK:"network",SOURCE:"source",REPORT:"report"};var Kc=80*1024,Yc=32,mi=3*1048576,zc=F,fi=V;function ko(e,t,r,o,n){t.transportStatus===0&&t.queuedPayloads.size()===0&&t.bandwidthMonitor.canHandle(e)?Ei(e,t,r,{onSuccess:()=>Si(0,t,r,o,n),onFailure:()=>{t.queuedPayloads.enqueue(e),gi(t,r,o,n)}}):t.queuedPayloads.enqueue(e)}function gi(e,t,r,o){e.transportStatus===2&&D(()=>{let n=e.queuedPayloads.first();Ei(n,e,t,{onSuccess:()=>{e.queuedPayloads.dequeue(),e.currentBackoffTime=fi,Si(1,e,t,r,o)},onFailure:()=>{e.currentBackoffTime=Math.min(zc,e.currentBackoffTime*2),gi(e,t,r,o)}})},e.currentBackoffTime)}function Ei(e,t,r,{onSuccess:o,onFailure:n}){t.bandwidthMonitor.add(e),r(e,i=>{t.bandwidthMonitor.remove(e),qc(i)?(t.transportStatus=t.bandwidthMonitor.ongoingRequestCount>0?1:2,e.retry={count:e.retry?e.retry.count+1:1,lastFailureStatus:i.status},n()):(t.transportStatus=0,o())})}function Si(e,t,r,o,n){e===0&&t.queuedPayloads.isFull()&&!t.queueFullReported&&(n({message:`Reached max ${o} events size queued for upload: ${mi/1048576}MiB`,source:oe.AGENT,startClocks:P()}),t.queueFullReported=!0);let i=t.queuedPayloads;for(t.queuedPayloads=xi();i.size()>0;)ko(i.dequeue(),t,r,o,n)}function qc(e){return e.type!=="opaque"&&(e.status===0&&!navigator.onLine||e.status===408||e.status===429||di(e.status))}function bi(){return{transportStatus:0,currentBackoffTime:fi,bandwidthMonitor:Xc(),queuedPayloads:xi(),queueFullReported:!1}}function xi(){let e=[];return{bytesCount:0,enqueue(t){this.isFull()||(e.push(t),this.bytesCount+=t.bytesCount)},first(){return e[0]},dequeue(){let t=e.shift();return t&&(this.bytesCount-=t.bytesCount),t},size(){return e.length},isFull(){return this.bytesCount>=mi}}}function Xc(){return{ongoingRequestCount:0,ongoingByteCount:0,canHandle(e){return this.ongoingRequestCount===0||this.ongoingByteCount+e.bytesCount<=Kc&&this.ongoingRequestCount<Yc},add(e){this.ongoingRequestCount+=1,this.ongoingByteCount+=e.bytesCount},remove(e){this.ongoingRequestCount-=1,this.ongoingByteCount-=e.bytesCount}}}function Rr(e,t,r){let o=bi(),n=(i,s)=>Zc(e,t,i,s);return{send:i=>{ko(i,o,n,e.trackType,r)},sendOnExit:i=>{Wc(e,t,i)}}}function Wc(e,t,r){if(!!navigator.sendBeacon&&r.bytesCount<t)try{let n=e.build("beacon",r);if(navigator.sendBeacon(n,r.data))return}catch(n){Jc(n)}Lo(e,r)}var yi=!1;function Jc(e){yi||(yi=!0,Qt(e))}function Zc(e,t,r,o){if(Qc()&&r.bytesCount<t){let i=e.build("fetch-keepalive",r);fetch(i,{method:"POST",body:r.data,keepalive:!0,mode:"cors"}).then(y(s=>o?.({status:s.status,type:s.type}))).catch(y(()=>Lo(e,r,o)))}else Lo(e,r,o)}function Lo(e,t,r){let o=e.build("fetch",t);fetch(o,{method:"POST",body:t.data,mode:"cors"}).then(y(n=>r?.({status:n.status,type:n.type}))).catch(y(()=>r?.({status:0})))}function Qc(){try{return self.Request&&"keepalive"in new Request("http://a")}catch{return!1}}a();c();function ve(){let e=eu();if(e)return{getCapabilities(){var t;return JSON.parse(((t=e.getCapabilities)===null||t===void 0?void 0:t.call(e))||"[]")},getPrivacyLevel(){var t;return(t=e.getPrivacyLevel)===null||t===void 0?void 0:t.call(e)},getAllowedWebViewHosts(){return JSON.parse(e.getAllowedWebViewHosts())},send(t,r,o){let n=o?{id:o}:void 0;e.send(JSON.stringify({eventType:t,event:r,view:n}))}}}function Or(e){let t=ve();return!!t&&t.getCapabilities().includes(e)}function Ie(e){var t;e===void 0&&(e=(t=xe().location)===null||t===void 0?void 0:t.hostname);let r=ve();return!!r&&r.getAllowedWebViewHosts().some(o=>e===o||e.endsWith(`.${o}`))}function eu(){return xe().DatadogEventBridge}a();c();a();c();a();c();a();c();var Pe={HIDDEN:"visibility_hidden",UNLOADING:"before_unload",PAGEHIDE:"page_hide",FROZEN:"page_frozen"};function Mo(e){return new _(t=>{let{stop:r}=ee(e,self,["visibilitychange","freeze"],n=>{n.type==="visibilitychange"&&document.visibilityState==="hidden"?t.notify({reason:Pe.HIDDEN}):n.type==="freeze"&&t.notify({reason:Pe.FROZEN})},{capture:!0}),o=N(e,self,"beforeunload",()=>{t.notify({reason:Pe.UNLOADING})}).stop;return()=>{r(),o()}})}function Do(e){return cr(Pe).includes(e)}function Ti({encoder:e,request:t,flushController:r,messageBytesLimit:o}){let n={},i=r.flushObservable.subscribe(m=>d(m));function s(m,g,S){r.notifyBeforeAddMessage(g),S!==void 0?(n[S]=m,r.notifyAfterAddMessage()):e.write(e.isEmpty?m:`
${m}`,E=>{r.notifyAfterAddMessage(E-g)})}function u(m){return m!==void 0&&n[m]!==void 0}function l(m){let g=n[m];delete n[m];let S=e.estimateEncodedBytesCount(g);r.notifyAfterRemoveMessage(S)}function p(m,g){let S=me(m),E=e.estimateEncodedBytesCount(S);if(E>=o){I.warn(`Discarded a message whose size was bigger than the maximum allowed size ${o}KB. ${ct} ${Nn}/#technical-limitations`);return}u(g)&&l(g),s(S,E,g)}function d(m){let g=cr(n).join(`
`);n={};let S=Do(m.reason),E=S?t.sendOnExit:t.send;if(S&&e.isAsync){let b=e.finishSync();b.outputBytesCount&&E(_i(b));let C=[b.pendingData,g].filter(Boolean).join(`
`);C&&E({data:C,bytesCount:er(C)})}else g&&e.write(e.isEmpty?g:`
${g}`),e.finish(b=>{E(_i(b))})}return{flushController:r,add:p,upsert:p,stop:i.unsubscribe}}function _i(e){let t;return typeof e.output=="string"?t=e.output:t=new Blob([e.output],{type:"text/plain"}),{data:t,bytesCount:e.outputBytesCount,encoding:e.encoding}}a();c();function Po({messagesLimit:e,bytesLimit:t,durationLimit:r,pageMayExitObservable:o,sessionExpireObservable:n}){let i=o.subscribe(E=>d(E.reason)),s=n.subscribe(()=>d("session_expire")),u=new _(()=>()=>{i.unsubscribe(),s.unsubscribe()}),l=0,p=0;function d(E){if(p===0)return;let b=p,C=l;p=0,l=0,S(),u.notify({reason:E,messagesCount:b,bytesCount:C})}let m;function g(){m===void 0&&(m=D(()=>{d("duration_limit")},r))}function S(){K(m),m=void 0}return{flushObservable:u,get messagesCount(){return p},notifyBeforeAddMessage(E){l+E>=t&&d("bytes_limit"),p+=1,l+=E,g()},notifyAfterAddMessage(E=0){l+=E,p>=e?d("messages_limit"):l>=t&&d("bytes_limit")},notifyAfterRemoveMessage(E){l-=E,p-=1,p===0&&S()}}}function wr(e,t,r,o,n,i,s=Ti){let u=p(e,t),l=r&&p(e,r);function p(d,{endpoint:m,encoder:g}){return s({encoder:g,request:Rr(m,d.batchBytesLimit,o),flushController:Po({messagesLimit:d.batchMessagesLimit,bytesLimit:d.batchBytesLimit,durationLimit:d.flushTimeout,pageMayExitObservable:n,sessionExpireObservable:i}),messageBytesLimit:d.messageBytesLimit})}return{flushObservable:u.flushController.flushObservable,add(d,m=!0){u.add(d),l&&m&&l.add(r.transformMessage?r.transformMessage(d):d)},upsert:(d,m)=>{u.upsert(d,m),l&&l.upsert(r.transformMessage?r.transformMessage(d):d,m)},stop:()=>{u.stop(),l&&l.stop()}}}a();c();a();c();a();c();function J(e,t,r,{computeHandlingStack:o}={}){let n=e[t];if(typeof n!="function")if(t in e&&t.startsWith("on"))n=O;else return{stop:O};let i=!1,s=function(){if(i)return n.apply(this,arguments);let u=Array.from(arguments),l;se(r,null,[{target:this,parameters:u,onPostCall:d=>{l=d},handlingStack:o?Xe("instrumented method"):void 0}]);let p=n.apply(this,u);return l&&se(l,null,[p]),p};return e[t]=s,{stop:()=>{i=!0,e[t]===s&&(e[t]=n)}}}function tu(e,t,r){let o=Object.getOwnPropertyDescriptor(e,t);if(!o||!o.set||!o.configurable)return{stop:O};let n=O,i=(u,l)=>{D(()=>{i!==n&&r(u,l)},0)},s=function(u){o.set.call(this,u),i(this,u)};return Object.defineProperty(e,t,{set:s}),{stop:()=>{var u;((u=Object.getOwnPropertyDescriptor(e,t))===null||u===void 0?void 0:u.set)===s&&Object.defineProperty(e,t,o),i=n}}}function Uo(e){let t=(n,i)=>{let s=vt({stackTrace:n,originalError:i,startClocks:P(),nonErrorPrefix:"Uncaught",source:oe.SOURCE,handling:"unhandled"});e.notify(s)},{stop:r}=ru(t),{stop:o}=ou(t);return{stop:()=>{r(),o()}}}function ru(e){return J(self,"onerror",({parameters:[t,r,o,n,i]})=>{let s;te(i)?s=Z(i):s=Dn(t,r,o,n),e(s,i??t)})}function ou(e){return J(self,"onunhandledrejection",({parameters:[t]})=>{let r=t.reason||"Empty reason",o=Z(r);e(o,r)})}a();c();function Vo(e){let t={version:"6.6.3",onReady(r){r()},...e};return Object.defineProperty(t,"_setDebug",{get(){return eo},enumerable:!1}),t}function nu(e,t,r){let o=e[t];o&&!o.q&&o.version&&I.warn("SDK is loaded more than once. This is unsupported and might have unexpected behavior."),e[t]=r,o&&o.q&&o.q.forEach(n=>rr(n,"onReady callback threw an error:")())}a();c();function Dt(e,t){t.silentMultipleInit||I.error(`${e} is already initialized.`)}a();c();var tt={intervention:"intervention",deprecation:"deprecation",cspViolation:"csp_violation"};function Fo(e,t){let r=[];t.includes(tt.cspViolation)&&r.push(su(e));let o=t.filter(n=>n!==tt.cspViolation);return o.length&&r.push(iu(o)),nr(...r)}function iu(e){return new _(t=>{if(!self.ReportingObserver)return;let r=y((n,i)=>n.forEach(s=>t.notify(au(s)))),o=new self.ReportingObserver(r,{types:e,buffered:!0});return o.observe(),()=>{o.disconnect()}})}function su(e){return new _(t=>{let{stop:r}=N(e,document,"securitypolicyviolation",o=>{t.notify(cu(o))});return r})}function au(e){let{type:t,body:r}=e;return hi({type:r.id,message:`${t}: ${r.message}`,originalError:e,stack:vi(r.id,r.message,r.sourceFile,r.lineNumber,r.columnNumber)})}function cu(e){let t=`'${e.blockedURI}' blocked by '${e.effectiveDirective}' directive`;return hi({type:e.effectiveDirective,message:`${tt.cspViolation}: ${t}`,originalError:e,csp:{disposition:e.disposition},stack:vi(e.effectiveDirective,e.originalPolicy?`${t} of the policy "${sr(e.originalPolicy,100,"...")}"`:"no policy",e.sourceFile,e.lineNumber,e.columnNumber)})}function hi(e){return{startClocks:P(),source:oe.REPORT,handling:"unhandled",...e}}function vi(e,t,r,o,n){return r?_e({name:e,message:t,stack:[{func:"?",url:r,line:o??void 0,column:n??void 0}]}):void 0}a();c();a();c();var Pt=1/0,Ii=F,Ut=null,Nr=new Set;function uu(){Nr.forEach(e=>e())}function ne({expireDelay:e,maxEntries:t}){let r=[],o=[];Ut||(Ut=ce(()=>uu(),Ii));let n=()=>{let S=H()-e;for(;r.length>0&&r[r.length-1].endTime<S;){let E=r.pop();E&&o.push(E.startTime)}};Nr.add(n);function i(S,E){let b={value:S,startTime:E,endTime:Pt,remove:()=>{hr(r,b)},close:C=>{b.endTime=C}};return t&&r.length>=t&&r.pop(),r.unshift(b),b}function s(S=Pt,E={returnInactive:!1}){for(let b of r)if(b.startTime<=S){if(E.returnInactive||S<=b.endTime)return b.value;break}}function u(S){let E=r[0];E&&E.endTime===Pt&&E.close(S)}function l(S=Pt,E=0){let b=$e(S,E);return r.filter(C=>C.startTime<=b&&S<=C.endTime).map(C=>C.value)}function p(){return r.map(({startTime:S,endTime:E,value:b})=>({startTime:S,endTime:E===Pt?"Infinity":E,value:b}))}function d(){return o}function m(){r=[]}function g(){Nr.delete(n),Nr.size===0&&Ut&&(ye(Ut),Ut=null)}return{add:i,find:s,closeActive:u,findAll:l,reset:m,stop:g,getAllEntries:p,getDeletedEntries:d}}var lu=F,du=Q,gt=[];function Bo(e,t,r,o){let n=new _,i=new _,s=oi(e.sessionStoreStrategyType,e,t,r);gt.push(()=>s.stop());let u=ne({expireDelay:du});gt.push(()=>u.stop()),s.renewObservable.subscribe(()=>{u.add(l(),H()),n.notify()}),s.expireObservable.subscribe(()=>{i.notify(),u.closeActive(H())}),s.expandOrRenewSession(),u.add(l(),or().relative),o.observable.subscribe(()=>{o.isGranted()?s.expandOrRenewSession():s.expire()}),pu(e,()=>{o.isGranted()&&s.expandOrRenewSession()}),mu(e,()=>s.expandSession()),fu(e,()=>s.restartSession());function l(){return{id:s.getSession().id,trackingType:s.getSession()[t],isReplayForced:!!s.getSession().forcedReplay,anonymousId:s.getSession().anonymousId}}return{findSession:(p,d)=>u.find(p,d),renewObservable:n,expireObservable:i,sessionStateUpdateObservable:s.sessionStateUpdateObservable,expire:s.expire,updateSessionState:s.updateSessionState}}function pu(e,t){let{stop:r}=ee(e,self,["click","touchstart","keydown","scroll"],t,{capture:!0,passive:!0});gt.push(r)}function mu(e,t){let r=()=>{document.visibilityState==="visible"&&t()},{stop:o}=N(e,document,"visibilitychange",r);gt.push(o);let n=ce(r,lu);gt.push(()=>{ye(n)})}function fu(e,t){let{stop:r}=N(e,self,"resume",t,{capture:!0});gt.push(r)}a();c();function $o(){let e="",t=0;return{isAsync:!1,get isEmpty(){return!e},write(r,o){let n=er(r);t+=n,e+=r,o&&o(n)},finish(r){r(this.finishSync())},finishSync(){let r={output:e,outputBytesCount:t,rawBytesCount:t,pendingData:""};return e="",t=0,r},estimateEncodedBytesCount(r){return r.length}}}a();c();var Vt=class{constructor(){this.callbacks={}}notify(t,r){let o=this.callbacks[t];o&&o.forEach(n=>n(r))}subscribe(t,r){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(r),{unsubscribe:()=>{this.callbacks[t]=this.callbacks[t].filter(o=>r!==o)}}}};a();c();function kr(e,t,r){let o=0,n=!1;return{isLimitReached(){if(o===0&&D(()=>{o=0},F),o+=1,o<=t||n)return n=!1,!1;if(o===t+1){n=!0;try{r({message:`Reached max number of ${e}s by minute: ${t}`,source:oe.AGENT,startClocks:P()})}finally{n=!1}}return!0}}}a();c();function Et(e,t,r){return document.readyState===t||document.readyState==="complete"?(r(),{stop:O}):N(e,self,t==="complete"?"load":"DOMContentLoaded",r,{once:!0})}function gu(e,t){return new Promise(r=>{Et(e,t,r)})}a();c();var Go,Ho=new WeakMap;function jo(e){return Go||(Go=Eu(e)),Go}function Eu(e){return new _(t=>{let{stop:r}=J(XMLHttpRequest.prototype,"open",Su),{stop:o}=J(XMLHttpRequest.prototype,"send",i=>{bu(i,e,t)},{computeHandlingStack:!0}),{stop:n}=J(XMLHttpRequest.prototype,"abort",xu);return()=>{r(),o(),n()}})}function Su({target:e,parameters:[t,r]}){Ho.set(e,{state:"open",method:String(t).toUpperCase(),url:pt(String(r))})}function bu({target:e,handlingStack:t},r,o){let n=Ho.get(e);if(!n)return;let i=n;i.state="start",i.startClocks=P(),i.isAborted=!1,i.xhr=e,i.handlingStack=t;let s=!1,{stop:u}=J(e,"onreadystatechange",()=>{e.readyState===XMLHttpRequest.DONE&&l()}),l=()=>{if(p(),u(),s)return;s=!0;let d=n;d.state="complete",d.duration=M(i.startClocks.timeStamp,$()),d.status=e.status,o.notify(we(d))},{stop:p}=N(r,e,"loadend",l);o.notify(i)}function xu({target:e}){let t=Ho.get(e);t&&(t.isAborted=!0)}a();c();var Ko;function Ft(){return Ko||(Ko=yu()),Ko}function yu(){return new _(e=>{if(!self.fetch)return;let{stop:t}=J(self,"fetch",r=>_u(r,e),{computeHandlingStack:!0});return t})}function _u({parameters:e,onPostCall:t,handlingStack:r},o){let[n,i]=e,s=i&&i.method;s===void 0&&n instanceof Request&&(s=n.method);let u=s!==void 0?String(s).toUpperCase():"GET",l=n instanceof Request?n.url:pt(String(n)),p=P(),d={state:"start",init:i,input:n,method:u,startClocks:p,url:l,handlingStack:r};o.notify(d),e[0]=d.input,e[1]=d.init,t(m=>Tu(o,m,d))}function Tu(e,t,r){let o=r;function n(i){o.state="resolve",Object.assign(o,i),e.notify(o)}t.then(y(i=>{n({response:i,responseType:i.type,status:i.status,isAborted:!1})}),y(i=>{var s,u;n({status:0,isAborted:((u=(s=o.init)===null||s===void 0?void 0:s.signal)===null||u===void 0?void 0:u.aborted)||i instanceof DOMException&&i.code===DOMException.ABORT_ERR,error:i})}))}a();c();function Yo(e,t){if(self.requestIdleCallback&&self.cancelIdleCallback){let r=self.requestIdleCallback(y(e),t);return()=>self.cancelIdleCallback(r)}return vu(e)}var hu=50;function vu(e){let t=X(),r=D(()=>{e({didTimeout:!1,timeRemaining:()=>Math.max(0,hu-(X()-t))})},0);return()=>K(r)}a();c();var Iu=V,Cu=30;function Ci(){let e=[];function t(o){let n;if(o.didTimeout){let i=performance.now();n=()=>Cu-(performance.now()-i)}else n=o.timeRemaining.bind(o);for(;n()>0&&e.length;)e.shift()();e.length&&r()}function r(){Yo(t,{timeout:Iu})}return{push(o){e.push(o)===1&&r()}}}a();c();var zo={};function qo(e){let t=e.map(r=>(zo[r]||(zo[r]=Au(r)),zo[r]));return nr(...t)}function Au(e){return new _(t=>{let r=be[e];return be[e]=(...o)=>{r.apply(console,o);let n=Xe("console error");se(()=>{t.notify(Ru(o,e,n))})},()=>{be[e]=r}})}function Ru(e,t,r){let o=e.map(i=>Ou(i)).join(" "),n;if(t===ze.error){let i=e.find(te);n={stack:i?_e(Z(i)):void 0,fingerprint:ao(i),causes:i?uo(i,"console"):void 0,startClocks:P(),message:o,source:oe.CONSOLE,handling:"handled",handlingStack:r,context:co(i),originalError:i}}return{api:t,message:o,error:n,handlingStack:r}}function Ou(e){return typeof e=="string"?U(e):te(e)?so(Z(e)):me(U(e),void 0,2)}a();c();a();c();function Ai(e){let t=re(e)==="object";return t||I.error("Unsupported context:",e),t}function Xo(e,t,r){let o={...e};for(let[n,{required:i,type:s}]of Object.entries(t))s==="string"&&n in o&&(o[n]=String(o[n])),i&&!(n in e)&&I.warn(`The property ${n} of ${r} is required; context will not be sent to the intake.`);return o}function Ue(e="",{propertiesConfig:t={}}={}){let r={},o=new _,n={getContext:()=>mt(r),setContext:i=>{Ai(i)?r=U(Xo(i,t,e)):n.clearContext(),o.notify()},setContextProperty:(i,s)=>{r=U(Xo({...r,[i]:s},t,e)),o.notify()},removeContextProperty:i=>{delete r[i],Xo(r,t,e),o.notify()},clearContext:()=>{r={},o.notify()},changeObservable:o};return n}a();c();var wu="_dd_c",Nu=[];function rt(e,t,r,o){let n=ku(r,o);Nu.push(N(e,self,"storage",({key:p})=>{n===p&&s()})),t.changeObservable.subscribe(u);let i=j(l(),t.getContext());ue(i)||t.setContext(i);function s(){t.setContext(l())}function u(){localStorage.setItem(n,JSON.stringify(t.getContext()))}function l(){let p=localStorage.getItem(n);return p?JSON.parse(p):{}}}function ku(e,t){return`${wu}_${e}_${t}`}a();c();var G={userContext:"userContext",globalContext:"globalContext",accountContext:"accountContext"},W={getContext:"getContext",setContext:"setContext",setContextProperty:"setContextProperty",removeContextProperty:"removeContextProperty",clearContext:"clearContext"};a();c();function Wo(e,t,r){let o=e.getReader(),n=[],i=0;s();function s(){o.read().then(y(l=>{if(l.done){u();return}r.collectStreamBody&&n.push(l.value),i+=l.value.length,i>r.bytesLimit?u():s()}),y(l=>t(l)))}function u(){o.cancel().catch(O);let l,p;if(r.collectStreamBody){let d;if(n.length===1)d=n[0];else{d=new Uint8Array(i);let m=0;n.forEach(g=>{d.set(g,m),m+=g.length})}l=d.slice(0,r.bytesLimit),p=d.length>r.bytesLimit}t(void 0,l,p)}}a();c();var Lu="datadog-synthetics-public-id",Mu="datadog-synthetics-result-id",Du="datadog-synthetics-injects-rum";function Bt(){return!!(self._DATADOG_SYNTHETICS_INJECTS_RUM||le(Du))}function Jo(){let e=self._DATADOG_SYNTHETICS_PUBLIC_ID||le(Lu);return typeof e=="string"?e:void 0}function Zo(){let e=self._DATADOG_SYNTHETICS_RESULT_ID||le(Mu);return typeof e=="string"?e:void 0}a();c();function $t(e){let t=re(e);return t==="string"||t==="function"||e instanceof RegExp}function Lr(e,t,r=!1){return e.some(o=>{try{if(typeof o=="function")return o(t);if(o instanceof RegExp)return o.test(t);if(typeof o=="string")return r?t.startsWith(o):o===t}catch(n){I.error(n)}return!1})}a();c();a();c();var en="initial_document",Pu=[["document",e=>en===e],["xhr",e=>e==="xmlhttprequest"],["fetch",e=>e==="fetch"],["beacon",e=>e==="beacon"],["css",(e,t)=>/\.css$/i.test(t)],["js",(e,t)=>/\.js$/i.test(t)],["image",(e,t)=>["image","img","icon"].includes(e)||/\.(gif|jpg|jpeg|tiff|png|svg|ico)$/i.exec(t)!==null],["font",(e,t)=>/\.(woff|eot|woff2|ttf)$/i.exec(t)!==null],["media",(e,t)=>["audio","video"].includes(e)||/\.(mp3|mp4)$/i.exec(t)!==null]];function Oi(e){let t=e.name;if(!ii(t))return he(`Failed to construct URL for "${e.name}"`),"other";let r=si(t);for(let[o,n]of Pu)if(n(e.initiatorType,r))return o;return"other"}function Ri(...e){for(let t=1;t<e.length;t+=1)if(e[t-1]>e[t])return!1;return!0}function wi(e){return e.initiatorType==="xmlhttprequest"||e.initiatorType==="fetch"}function tn(e){let{duration:t,startTime:r,responseEnd:o}=e;return t===0&&r<o?M(r,o):t}function Ni(e){if(!rn(e))return;let{startTime:t,fetchStart:r,workerStart:o,redirectStart:n,redirectEnd:i,domainLookupStart:s,domainLookupEnd:u,connectStart:l,secureConnectionStart:p,connectEnd:d,requestStart:m,responseStart:g,responseEnd:S}=e,E={download:ot(t,g,S),first_byte:ot(t,m,g)};return 0<o&&o<r&&(E.worker=ot(t,o,r)),r<d&&(E.connect=ot(t,l,d),l<=p&&p<=d&&(E.ssl=ot(t,p,d))),r<u&&(E.dns=ot(t,s,u)),t<i&&(E.redirect=ot(t,n,i)),E}function Mr(e){return e.duration>=0}function rn(e){let t=Ri(e.startTime,e.fetchStart,e.domainLookupStart,e.domainLookupEnd,e.connectStart,e.connectEnd,e.requestStart,e.responseStart,e.responseEnd),r=Uu(e)?Ri(e.startTime,e.redirectStart,e.redirectEnd,e.fetchStart):!0;return t&&r}function Uu(e){return e.redirectEnd>e.startTime}function ot(e,t,r){if(e<=t&&t<=r)return{duration:h(M(t,r)),start:h(M(e,t))}}function on(e){return e.nextHopProtocol===""?void 0:e.nextHopProtocol}function nn(e){return e.deliveryType===""?"other":e.deliveryType}function ki(e){if(e.startTime<e.responseStart){let{encodedBodySize:t,decodedBodySize:r,transferSize:o}=e;return{size:r,encoded_body_size:t,decoded_body_size:r,transfer_size:o}}return{size:void 0,encoded_body_size:void 0,decoded_body_size:void 0,transfer_size:void 0}}function Gt(e){return e&&!br(e)}var Vu=/data:(.+)?(;base64)?,/g,Qo=24e3;function sn(e){return e.length<=Qo?!1:e.substring(0,5)==="data:"?(e=e.substring(0,Qo),!0):!1}function an(e){return`${e.match(Vu)[0]}[...]`}a();c();function Li(e,t){let r=X(),o=!1,{stop:n}=ee(e,self,["click","mousedown","keydown","touchstart","pointerdown"],u=>{if(!u.cancelable)return;let l={entryType:"first-input",processingStart:H(),processingEnd:H(),startTime:u.timeStamp,duration:0,name:"",cancelable:!1,target:null,toJSON:()=>({})};u.type==="pointerdown"?i(e,l):s(l)},{passive:!0,capture:!0});return{stop:n};function i(u,l){ee(u,self,["pointerup","pointercancel"],p=>{p.type==="pointerup"&&s(l)},{once:!0})}function s(u){if(!o){o=!0,n();let l=u.processingStart-u.startTime;l>=0&&l<X()-r&&t(u)}}}var A;(function(e){e.EVENT="event",e.FIRST_INPUT="first-input",e.LARGEST_CONTENTFUL_PAINT="largest-contentful-paint",e.LAYOUT_SHIFT="layout-shift",e.LONG_TASK="longtask",e.LONG_ANIMATION_FRAME="long-animation-frame",e.NAVIGATION="navigation",e.PAINT="paint",e.RESOURCE="resource",e.VISIBILITY_STATE="visibility-state"})(A||(A={}));function Y(e,t){return new _(r=>{if(!self.PerformanceObserver)return;let o=l=>{let p=$u(l);p.length>0&&r.notify(p)},n,i=!0,s=new PerformanceObserver(y(l=>{i?n=D(()=>o(l.getEntries())):o(l.getEntries())}));try{s.observe(t)}catch{if([A.RESOURCE,A.NAVIGATION,A.LONG_TASK,A.PAINT].includes(t.type)){t.buffered&&(n=D(()=>o(performance.getEntriesByType(t.type))));try{s.observe({entryTypes:[t.type]})}catch{return}}}i=!1,Fu(e);let u;return!de(A.FIRST_INPUT)&&t.type===A.FIRST_INPUT&&({stop:u}=Li(e,l=>{o([l])})),()=>{s.disconnect(),u&&u(),K(n)}})}var Ht;function Fu(e){return!Ht&&Bu()&&"addEventListener"in performance&&(Ht=N(e,performance,"resourcetimingbufferfull",()=>{performance.clearResourceTimings()})),()=>{Ht?.stop()}}function Bu(){return self.performance!==void 0&&"getEntries"in performance}function de(e){return self.PerformanceObserver&&PerformanceObserver.supportedEntryTypes!==void 0&&PerformanceObserver.supportedEntryTypes.includes(e)}function $u(e){return e.filter(t=>!Gu(t))}function Gu(e){return e.entryType===A.RESOURCE&&(!Gt(e.name)||!Mr(e))}a();c();a();c();a();c();function Mi(){return{vitalsByName:new Map,vitalsByReference:new WeakMap}}function Di(e,t,r){function o(i){return!t.wasInPageStateDuringPeriod("frozen",i.startClocks.relative,i.duration)}function n(i){o(i)&&e.notify(12,ju(i,!0))}return{addDurationVital:n,startDurationVital:(i,s={})=>cn(r,i,s),stopDurationVital:(i,s={})=>{un(n,r,i,s)}}}function cn({vitalsByName:e,vitalsByReference:t},r,o={}){let n={name:r,startClocks:P(),context:o.context,description:o.description},i={__dd_vital_reference:!0};return e.set(r,n),t.set(i,n),i}function un(e,{vitalsByName:t,vitalsByReference:r},o,n={}){let i=typeof o=="string"?t.get(o):r.get(o);i&&(e(Hu(i,i.startClocks,n,P())),typeof o=="string"?t.delete(o):r.delete(o))}function Hu(e,t,r,o){var n;return{name:e.name,type:"duration",startClocks:t,duration:M(t.timeStamp,o.timeStamp),context:j(e.context,r.context),description:(n=r.description)!==null&&n!==void 0?n:e.description}}function ju(e,t){let r={date:e.startClocks.timeStamp,vital:{id:k(),type:e.type,name:e.name,duration:h(e.duration),description:e.description},type:"vital"};return t&&(r._dd={vital:{computed_value:!0}}),{rawRumEvent:r,startTime:e.startClocks.relative,duration:e.duration,customerContext:e.context,domainContext:{}}}a();c();function Dr(e,t,r){if(e)for(let o of e){let n=o[t];n&&n(r)}}a();c();a();c();a();c();a();c();a();c();function Pi(){return Ui(64)}function Pr(){return Ui(63)}function Ui(e){let t=self.crypto.getRandomValues(new Uint32Array(2));return e===63&&(t[t.length-1]>>>=1),{toString(r=10){let o=t[1],n=t[0],i="";do{let s=o%r*4294967296+n;o=Math.floor(o/r),n=Math.floor(s/r),i=(s%r).toString(r)+i}while(o||n);return i}}}function nt(e){return e.toString(16).padStart(16,"0")}a();c();var Ur;function Vi(e,t){if(t===100)return!0;if(t===0)return!1;if(Ur&&e===Ur.sessionId)return Ur.decision;let r;return self.BigInt?r=Ku(BigInt(`0x${e.split("-")[4]}`),t):r=ge(t),Ur={sessionId:e,decision:r},r}function Ku(e,t){let r=BigInt("1111111111111111111"),o=BigInt("0x10000000000000000"),n=e*r%o;return Number(n)<=t/100*Number(o)}function Bi(e){let t=e;return re(t)==="object"&&$t(t.match)&&Array.isArray(t.propagatorTypes)}function Yu(e){e.status===0&&!e.isAborted&&(e.traceId=void 0,e.spanId=void 0,e.traceSampled=void 0)}function $i(e,t,r){return{clearTracingIfNeeded:Yu,traceFetch:o=>Fi(e,o,t,r,n=>{var i;if(o.input instanceof Request&&!(!((i=o.init)===null||i===void 0)&&i.headers))o.input=new Request(o.input),Object.keys(n).forEach(s=>{o.input.headers.append(s,n[s])});else{o.init=we(o.init);let s=[];o.init.headers instanceof Headers?o.init.headers.forEach((u,l)=>{s.push([l,u])}):Array.isArray(o.init.headers)?o.init.headers.forEach(u=>{s.push(u)}):o.init.headers&&Object.keys(o.init.headers).forEach(u=>{s.push([u,o.init.headers[u]])}),o.init.headers=s.concat(lt(n))}}),traceXhr:(o,n)=>Fi(e,o,t,r,i=>{Object.keys(i).forEach(s=>{n.setRequestHeader(s,i[s])})})}}function Fi(e,t,r,o,n){let i=r.findTrackedSession();if(!i)return;let s=e.allowedTracingUrls.find(p=>Lr([p.match],t.url,!0));if(!s)return;let u=Vi(i.id,e.traceSampleRate);(u||e.traceContextInjection===et.ALL)&&(t.traceSampled=u,t.traceId=Pi(),t.spanId=Pr(),n(zu(t.traceId,t.spanId,t.traceSampled,s.propagatorTypes,o,e)))}function zu(e,t,r,o,n,i){let s={};if(o.forEach(u=>{switch(u){case"datadog":{Object.assign(s,{"x-datadog-origin":"rum","x-datadog-parent-id":t.toString(),"x-datadog-sampling-priority":r?"1":"0","x-datadog-trace-id":e.toString()});break}case"tracecontext":{Object.assign(s,{traceparent:`00-0000000000000000${nt(e)}-${nt(t)}-0${r?"1":"0"}`,tracestate:`dd=s:${r?"1":"0"};o:rum`});break}case"b3":{Object.assign(s,{b3:`${nt(e)}-${nt(t)}-${r?"1":"0"}`});break}case"b3multi":{Object.assign(s,{"X-B3-TraceId":nt(e),"X-B3-SpanId":nt(t),"X-B3-Sampled":r?"1":"0"});break}}}),Be(fe.USER_ACCOUNT_TRACE_HEADER)&&i.propagateTraceBaggage){let u=n().user.id,l=n().account.id,p=[];typeof u=="string"&&p.push(`usr.id=${encodeURIComponent(u)}`),typeof l=="string"&&p.push(`account.id=${encodeURIComponent(l)}`),p.length>0&&(s.baggage=p.join(","))}return s}var Gi=["tracecontext","datadog"];function Hi(e){var t,r,o,n,i,s,u;if(e.trackFeatureFlagsForEvents!==void 0&&!Array.isArray(e.trackFeatureFlagsForEvents)&&I.warn("trackFeatureFlagsForEvents should be an array"),!e.applicationId){I.error("Application ID is not configured, no RUM data will be collected.");return}if(!Me(e.sessionReplaySampleRate,"Session Replay")||!Me(e.traceSampleRate,"Trace"))return;if(e.excludedActivityUrls!==void 0&&!Array.isArray(e.excludedActivityUrls)){I.error("Excluded Activity Urls should be an array");return}let l=qu(e);if(!l)return;let p=xr(e);if(!p)return;let d=Be(fe.PROFILING),m=(t=e.sessionReplaySampleRate)!==null&&t!==void 0?t:0;return{applicationId:e.applicationId,version:e.version||void 0,actionNameAttribute:e.actionNameAttribute,sessionReplaySampleRate:m,startSessionReplayRecordingManually:e.startSessionReplayRecordingManually!==void 0?!!e.startSessionReplayRecordingManually:m===0,traceSampleRate:(r=e.traceSampleRate)!==null&&r!==void 0?r:100,rulePsr:Ne(e.traceSampleRate)?e.traceSampleRate/100:void 0,allowedTracingUrls:l,excludedActivityUrls:(o=e.excludedActivityUrls)!==null&&o!==void 0?o:[],workerUrl:e.workerUrl,compressIntakeRequests:!!e.compressIntakeRequests,trackUserInteractions:!!(!((n=e.trackUserInteractions)!==null&&n!==void 0)||n),trackViewsManually:!!e.trackViewsManually,trackResources:!!(!((i=e.trackResources)!==null&&i!==void 0)||i),trackLongTasks:!!(!((s=e.trackLongTasks)!==null&&s!==void 0)||s),subdomain:e.subdomain,defaultPrivacyLevel:We(De,e.defaultPrivacyLevel)?e.defaultPrivacyLevel:De.MASK,enablePrivacyForActionName:!!e.enablePrivacyForActionName,customerDataTelemetrySampleRate:1,traceContextInjection:We(et,e.traceContextInjection)?e.traceContextInjection:et.SAMPLED,plugins:e.plugins||[],trackFeatureFlagsForEvents:e.trackFeatureFlagsForEvents||[],profilingSampleRate:d&&(u=e.profilingSampleRate)!==null&&u!==void 0?u:0,propagateTraceBaggage:!!e.propagateTraceBaggage,...p}}function qu(e){if(e.allowedTracingUrls===void 0)return[];if(!Array.isArray(e.allowedTracingUrls)){I.error("Allowed Tracing URLs should be an array");return}if(e.allowedTracingUrls.length!==0&&e.service===void 0){I.error("Service needs to be configured when tracing is enabled");return}let t=[];return e.allowedTracingUrls.forEach(r=>{$t(r)?t.push({match:r,propagatorTypes:Gi}):Bi(r)?t.push(r):I.warn("Allowed Tracing Urls parameters should be a string, RegExp, function, or an object. Ignoring parameter",r)}),t}function Xu(e){let t=new Set;return Array.isArray(e.allowedTracingUrls)&&e.allowedTracingUrls.length>0&&e.allowedTracingUrls.forEach(r=>{$t(r)?Gi.forEach(o=>t.add(o)):re(r)==="object"&&Array.isArray(r.propagatorTypes)&&r.propagatorTypes.forEach(o=>t.add(o))}),Array.from(t)}function ji(e){var t;let r=yr(e);return{session_replay_sample_rate:e.sessionReplaySampleRate,start_session_replay_recording_manually:e.startSessionReplayRecordingManually,trace_sample_rate:e.traceSampleRate,trace_context_injection:e.traceContextInjection,action_name_attribute:e.actionNameAttribute,use_allowed_tracing_urls:Array.isArray(e.allowedTracingUrls)&&e.allowedTracingUrls.length>0,selected_tracing_propagators:Xu(e),default_privacy_level:e.defaultPrivacyLevel,enable_privacy_for_action_name:e.enablePrivacyForActionName,use_excluded_activity_urls:Array.isArray(e.excludedActivityUrls)&&e.excludedActivityUrls.length>0,use_worker_url:!!e.workerUrl,compress_intake_requests:e.compressIntakeRequests,track_views_manually:e.trackViewsManually,track_user_interactions:e.trackUserInteractions,track_resources:e.trackResources,track_long_task:e.trackLongTasks,plugins:(t=e.plugins)===null||t===void 0?void 0:t.map(o=>{var n;return{name:o.name,...(n=o.getConfigurationTelemetry)===null||n===void 0?void 0:n.call(o)}}),track_feature_flags_for_events:e.trackFeatureFlagsForEvents,...r}}a();c();var Wu="v1";function Yi(e,t){Zu(e,r=>{t(Ju(e,r))})}function Ju(e,t){return{...e,...t}}function Zu(e,t){let r=new XMLHttpRequest;N(e,r,"load",function(){if(r.status===200){let o=JSON.parse(r.responseText);t(o.rum)}else Ki()}),N(e,r,"error",function(){Ki()}),r.open("GET",Qu(e)),r.send()}function Qu(e){return`https://sdk-configuration.${kt("rum",e)}/${Wu}/${encodeURIComponent(e.remoteConfigurationId)}.json`}function Ki(){I.error("Error fetching the remote configuration.")}a();c();function zi(e){let t=ln();return e.storeContextsAcrossPages&&rt(e,t,"rum",2),t}function ln(){return Ue("global context")}a();c();function qi(e){let t=dn();return e.storeContextsAcrossPages&&rt(e,t,"rum",1),t}function dn(){return Ue("user",{propertiesConfig:{id:{type:"string"},name:{type:"string"},email:{type:"string"}}})}a();c();function Xi(e){let t=pn();return e.storeContextsAcrossPages&&rt(e,t,"rum",4),t}function pn(){return Ue("account",{propertiesConfig:{id:{type:"string",required:!0},name:{type:"string"}}})}function Wi({ignoreInitIfSyntheticsWillInjectRum:e,startDeflateWorker:t},r,o,n){let i=Mt(),s=ln();mn(s,G.globalContext,i);let u=dn();mn(u,G.userContext,i);let l=pn();mn(l,G.accountContext,i);let p,d,m,g,S=r.observable.subscribe(b),E={};function b(){if(!m||!g||!r.isGranted())return;S.unsubscribe();let x;if(g.trackViewsManually){if(!p)return;i.remove(p.callback),x=p.options}let T=n(g,d,x);i.drain(T)}function C(x){let T=Ie();if(T&&(x=el(x)),m=x,Ar(ji(x)),g){Dt("DD_RUM",x);return}let B=Hi(x);if(B){if(!T&&!B.sessionStoreStrategyType){I.warn("No storage available for session. We will not send any data.");return}B.compressIntakeRequests&&!T&&t&&(d=t(B,"Datadog RUM",O),!d)||(g=B,Ft().subscribe(O),r.tryToInit(B.trackingConsent),b())}}let R=x=>{i.add(T=>T.addDurationVital(x))};return{init(x,T){if(!x){I.error("Missing configuration");return}po(x.enableExperimentalFeatures),m=x,!(e&&Bt())&&(Dr(x.plugins,"onInit",{initConfiguration:x,publicApi:T}),x.remoteConfigurationId?Yi(x,C):C(x))},get initConfiguration(){return m},getInternalContext:O,stopSession:O,addTiming(x,T=$()){i.add(B=>B.addTiming(x,T))},startView(x,T=P()){let B=Se=>{Se.startView(x,T)};i.add(B),p||(p={options:x,callback:B},b())},setViewName(x){i.add(T=>T.setViewName(x))},setViewContext(x){i.add(T=>T.setViewContext(x))},setViewContextProperty(x,T){i.add(B=>B.setViewContextProperty(x,T))},getViewContext:()=>E,globalContext:s,userContext:u,accountContext:l,addAction(x){i.add(T=>T.addAction(x))},addError(x){i.add(T=>T.addError(x))},addFeatureFlagEvaluation(x,T){i.add(B=>B.addFeatureFlagEvaluation(x,T))},startDurationVital(x,T){return cn(o,x,T)},stopDurationVital(x,T){un(R,o,x,T)},addDurationVital:R}}function el(e){var t,r;return{...e,applicationId:"00000000-aaaa-0000-aaaa-000000000000",clientToken:"empty",sessionSampleRate:100,defaultPrivacyLevel:(t=e.defaultPrivacyLevel)!==null&&t!==void 0?t:(r=ve())===null||r===void 0?void 0:r.getPrivacyLevel()}}function mn(e,t,r){e.changeObservable.subscribe(()=>{let o=e.getContext();r.add(n=>n[t].setContext(o))})}function tl(e,t,r,o={}){let n=vo(),i=Mi(),s=Wi(o,n,i,(d,m,g)=>{let S=e(d,t,r,g,m&&o.createDeflateEncoder?E=>o.createDeflateEncoder(d,m,E):$o,n,i);return t.onRumStart(S.lifeCycle,d,S.session,S.viewHistory,m),r.onRumStart(S.lifeCycle,d,S.session,S.viewHistory),s=rl(s,S),Dr(d.plugins,"onRumStart",{strategy:s}),S}),u=y(d=>{let m=typeof d=="object"?d:{name:d};s.startView(m),z({feature:"start-view"})});function l(d,m,g){return y((...S)=>(z({feature:g}),s[d][m](...S)))}let p=Vo({init:y(d=>{s.init(d,p)}),setTrackingConsent:y(d=>{n.update(d),z({feature:"set-tracking-consent",tracking_consent:d})}),setViewName:y(d=>{s.setViewName(d),z({feature:"set-view-name"})}),setViewContext:y(d=>{s.setViewContext(d),z({feature:"set-view-context"})}),setViewContextProperty:y((d,m)=>{s.setViewContextProperty(d,m),z({feature:"set-view-context-property"})}),getViewContext:y(()=>(z({feature:"set-view-context-property"}),s.getViewContext())),getInternalContext:y(d=>s.getInternalContext(d)),getInitConfiguration:y(()=>mt(s.initConfiguration)),addAction:(d,m)=>{let g=Xe("action");se(()=>{s.addAction({name:U(d),context:U(m),startClocks:P(),type:"custom",handlingStack:g}),z({feature:"add-action"})})},addError:(d,m)=>{let g=Xe("error");se(()=>{s.addError({error:d,handlingStack:g,context:U(m),startClocks:P()}),z({feature:"add-error"})})},addTiming:y((d,m)=>{s.addTiming(U(d),m)}),setGlobalContext:l(G.globalContext,W.setContext,"set-global-context"),getGlobalContext:l(G.globalContext,W.getContext,"get-global-context"),setGlobalContextProperty:l(G.globalContext,W.setContextProperty,"set-global-context-property"),removeGlobalContextProperty:l(G.globalContext,W.removeContextProperty,"remove-global-context-property"),clearGlobalContext:l(G.globalContext,W.clearContext,"clear-global-context"),setUser:l(G.userContext,W.setContext,"set-user"),getUser:l(G.userContext,W.getContext,"get-user"),setUserProperty:l(G.userContext,W.setContextProperty,"set-user-property"),removeUserProperty:l(G.userContext,W.removeContextProperty,"remove-user-property"),clearUser:l(G.userContext,W.clearContext,"clear-user"),setAccount:l(G.accountContext,W.setContext,"set-account"),getAccount:l(G.accountContext,W.getContext,"get-account"),setAccountProperty:l(G.accountContext,W.setContextProperty,"set-account-property"),removeAccountProperty:l(G.accountContext,W.removeContextProperty,"remove-account-property"),clearAccount:l(G.accountContext,W.clearContext,"clear-account"),startView:u,stopSession:y(()=>{s.stopSession(),z({feature:"stop-session"})}),addFeatureFlagEvaluation:y((d,m)=>{s.addFeatureFlagEvaluation(U(d),U(m)),z({feature:"add-feature-flag-evaluation"})}),getSessionReplayLink:y(()=>t.getSessionReplayLink()),startSessionReplayRecording:y(d=>{t.start(d),z({feature:"start-session-replay-recording",force:d&&d.force})}),stopSessionReplayRecording:y(()=>t.stop()),addDurationVital:y((d,m)=>{z({feature:"add-duration-vital"}),s.addDurationVital({name:U(d),type:"duration",startClocks:Fn(m.startTime),duration:m.duration,context:U(m&&m.context),description:U(m&&m.description)})}),startDurationVital:y((d,m)=>(z({feature:"start-duration-vital"}),s.startDurationVital(U(d),{context:U(m&&m.context),description:U(m&&m.description)}))),stopDurationVital:y((d,m)=>{z({feature:"stop-duration-vital"}),s.stopDurationVital(typeof d=="string"?U(d):d,{context:U(m&&m.context),description:U(m&&m.description)})})});return p}function rl(e,t){return{init:r=>{Dt("DD_RUM",r)},initConfiguration:e.initConfiguration,...t}}a();c();a();c();function Ji(){let e=Zi();return new _(t=>{if(!e)return;let r=new e(y(()=>t.notify()));return r.observe(document,{attributes:!0,characterData:!0,childList:!0,subtree:!0}),()=>r.disconnect()})}function Zi(){let e,t=self;if(t.Zone&&(e=ae(t,"MutationObserver"),t.MutationObserver&&e===t.MutationObserver)){let r=new t.MutationObserver(O),o=ae(r,"originalInstance");e=o&&o.constructor}return e||(e=t.MutationObserver),e}a();c();function Qi(){let e=new _,{stop:t}=J(self,"open",()=>e.notify());return{observable:e,stop:t}}a();c();function es(e,t,r,o,n){return{get:i=>{let s=r.findView(i),u=n.findUrl(i),l=t.findTrackedSession(i);if(l&&s&&u){let p=o.findActionId(i);return{application_id:e,session_id:l.id,user_action:p?{id:p}:void 0,view:{id:s.id,name:s.name,referrer:u.referrer,url:u.url}}}}}}a();c();var fn=Vt;a();c();var ol=Q;function gn(e){let t=ne({expireDelay:ol});e.subscribe(1,o=>{t.add(r(o),o.startClocks.relative)}),e.subscribe(6,({endClocks:o})=>{t.closeActive(o.relative)}),e.subscribe(3,o=>{let n=t.find(o.startClocks.relative);n&&o.name&&(n.name=o.name),n&&o.context&&(n.context=o.context)}),e.subscribe(10,()=>{t.reset()});function r(o){return{service:o.service,version:o.version,context:o.context,id:o.id,name:o.name,startClocks:o.startClocks}}return{findView:o=>t.find(o),getAllEntries:()=>t.getAllEntries(),getDeletedEntries:()=>t.getDeletedEntries(),stop:()=>{t.stop()}}}a();c();var ts=1;function rs(e,t,r,o){let n=$i(t,r,o);nl(e,t,n),il(e,n)}function nl(e,t,r){let o=jo(t).subscribe(n=>{let i=n;if(Gt(i.url))switch(i.state){case"start":r.traceXhr(i,i.xhr),i.requestIndex=os(),e.notify(7,{requestIndex:i.requestIndex,url:i.url});break;case"complete":r.clearTracingIfNeeded(i),e.notify(8,{duration:i.duration,method:i.method,requestIndex:i.requestIndex,spanId:i.spanId,startClocks:i.startClocks,status:i.status,traceId:i.traceId,traceSampled:i.traceSampled,type:"xhr",url:i.url,xhr:i.xhr,isAborted:i.isAborted,handlingStack:i.handlingStack});break}});return{stop:()=>o.unsubscribe()}}function il(e,t){let r=Ft().subscribe(o=>{let n=o;if(Gt(n.url))switch(n.state){case"start":t.traceFetch(n),n.requestIndex=os(),e.notify(7,{requestIndex:n.requestIndex,url:n.url});break;case"resolve":sl(n,i=>{t.clearTracingIfNeeded(n),e.notify(8,{duration:i,method:n.method,requestIndex:n.requestIndex,responseType:n.responseType,spanId:n.spanId,startClocks:n.startClocks,status:n.status,traceId:n.traceId,traceSampled:n.traceSampled,type:"fetch",url:n.url,response:n.response,init:n.init,input:n.input,isAborted:n.isAborted,handlingStack:n.handlingStack})});break}});return{stop:()=>r.unsubscribe()}}function os(){let e=ts;return ts+=1,e}function sl(e,t){let r=e.response&&pi(e.response);!r||!r.body?t(M(e.startClocks.timeStamp,$())):Wo(r.body,()=>{t(M(e.startClocks.timeStamp,$()))},{bytesLimit:Number.POSITIVE_INFINITY,collectStreamBody:!1})}a();c();a();c();function Vr(e){return Ne(e)&&e<0?void 0:e}a();c();a();c();function Fr({lifeCycle:e,isChildEvent:t,onChange:r=O}){let o={errorCount:0,longTaskCount:0,resourceCount:0,actionCount:0,frustrationCount:0},n=e.subscribe(13,i=>{var s;if(!(i.type==="view"||i.type==="vital"||!t(i)))switch(i.type){case"error":o.errorCount+=1,r();break;case"action":o.actionCount+=1,i.action.frustration&&(o.frustrationCount+=i.action.frustration.type.length),r();break;case"long_task":o.longTaskCount+=1,r();break;case"resource":!((s=i._dd)===null||s===void 0)&&s.discarded||(o.resourceCount+=1,r());break}});return{stop:()=>{n.unsubscribe()},eventCounts:o}}a();c();var Sn=100,al=100;function jt(e,t,r,o,n,i){let s=ul(e,t,r,o);return cl(s,n,i)}function cl(e,t,r){let o,n=!1,i=D(y(()=>p({hadActivity:!1})),Sn),s=r!==void 0?D(y(()=>p({hadActivity:!0,end:$()})),r):void 0,u=e.subscribe(({isBusy:d})=>{K(i),K(o);let m=$();d||(o=D(y(()=>p({hadActivity:!0,end:m})),al))}),l=()=>{n=!0,K(i),K(o),K(s),u.unsubscribe()};function p(d){n||(l(),t(d))}return{stop:l}}function ul(e,t,r,o){return new _(n=>{let i=[],s,u=0;return i.push(t.subscribe(l),r.subscribe(l),Y(o,{type:A.RESOURCE}).subscribe(p=>{p.some(d=>!En(o,d.name))&&l()}),e.subscribe(7,p=>{En(o,p.url)||(s===void 0&&(s=p.requestIndex),u+=1,l())}),e.subscribe(8,p=>{En(o,p.url)||s===void 0||p.requestIndex<s||(u-=1,l())})),()=>{i.forEach(p=>p.unsubscribe())};function l(){n.notify({isBusy:u>0})}})}function En(e,t){return Lr(e.excludedActivityUrls,t)}a();c();a();c();a();c();a();c();function Br(e){return e.nodeType===Node.TEXT_NODE}function ns(e){return e.nodeType===Node.COMMENT_NODE}function Ce(e){return e.nodeType===Node.ELEMENT_NODE}function is(e){return Ce(e)&&!!e.shadowRoot}function ll(e){let t=e;return!!t.host&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&Ce(t.host)}function Gh(e){return e.childNodes.length>0||is(e)}function Hh(e,t){let r=e.firstChild;for(;r;)t(r),r=r.nextSibling;is(e)&&t(e.shadowRoot)}function ss(e){return ll(e)?e.host:e.parentNode}var w={IGNORE:"ignore",HIDDEN:"hidden",ALLOW:De.ALLOW,MASK:De.MASK,MASK_USER_INPUT:De.MASK_USER_INPUT},dl="data-dd-privacy";var Xh="hidden",pl="dd-privacy-",bn="***",Wh="data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==",ml={INPUT:!0,OUTPUT:!0,TEXTAREA:!0,SELECT:!0,OPTION:!0,DATALIST:!0,OPTGROUP:!0},fl="x";function xn(e,t,r){if(r&&r.has(e))return r.get(e);let o=ss(e),n=o?xn(o,t,r):t,i=El(e),s=gl(i,n);return r&&r.set(e,s),s}function gl(e,t){switch(t){case w.HIDDEN:case w.IGNORE:return t}switch(e){case w.ALLOW:case w.MASK:case w.MASK_USER_INPUT:case w.HIDDEN:case w.IGNORE:return e;default:return t}}function El(e){if(Ce(e)){if(e.tagName==="BASE")return w.ALLOW;if(e.tagName==="INPUT"){let t=e;if(t.type==="password"||t.type==="email"||t.type==="tel"||t.type==="hidden")return w.MASK;let r=t.getAttribute("autocomplete");if(r&&(r.startsWith("cc-")||r.endsWith("-password")))return w.MASK}if(e.matches(it(w.HIDDEN)))return w.HIDDEN;if(e.matches(it(w.MASK)))return w.MASK;if(e.matches(it(w.MASK_USER_INPUT)))return w.MASK_USER_INPUT;if(e.matches(it(w.ALLOW)))return w.ALLOW;if(xl(e))return w.IGNORE}}function Sl(e,t){switch(t){case w.MASK:case w.HIDDEN:case w.IGNORE:return!0;case w.MASK_USER_INPUT:return Br(e)?as(e.parentNode):as(e);default:return!1}}function as(e){if(!e||e.nodeType!==e.ELEMENT_NODE)return!1;let t=e;if(t.tagName==="INPUT")switch(t.type){case"button":case"color":case"reset":case"submit":return!1}return!!ml[t.tagName]}var bl=e=>e.replace(/\S/g,fl);function Jh(e,t,r){var o;let n=(o=e.parentElement)===null||o===void 0?void 0:o.tagName,i=e.textContent||"";if(t&&!i.trim())return;let s=r;if(n==="SCRIPT")i=bn;else if(s===w.HIDDEN)i=bn;else if(Sl(e,s))if(n==="DATALIST"||n==="SELECT"||n==="OPTGROUP"){if(!i.trim())return}else n==="OPTION"?i=bn:i=bl(i);return i}function xl(e){if(e.nodeName==="SCRIPT")return!0;if(e.nodeName==="LINK"){let r=t("rel");return/preload|prefetch/i.test(r)&&t("as")==="script"||r==="shortcut icon"||r==="icon"}if(e.nodeName==="META"){let r=t("name"),o=t("rel"),n=t("property");return/^msapplication-tile(image|color)$/.test(r)||r==="application-name"||o==="icon"||o==="apple-touch-icon"||o==="shortcut icon"||r==="keywords"||r==="description"||/^(og|twitter|fb):/.test(n)||/^(og|twitter):/.test(r)||r==="pinterest"||r==="robots"||r==="googlebot"||r==="bingbot"||e.hasAttribute("http-equiv")||r==="author"||r==="generator"||r==="framework"||r==="publisher"||r==="progid"||/^article:/.test(n)||/^product:/.test(n)||r==="google-site-verification"||r==="yandex-verification"||r==="csrf-token"||r==="p:domain_verify"||r==="verify-v1"||r==="verification"||r==="shopify-checkout-api-token"}function t(r){return(e.getAttribute(r)||"").toLowerCase()}return!1}function it(e){return`[${dl}="${e}"], .${pl}${e}`}var Yt="data-dd-action-name",yl="Masked Element";function ls(e,{enablePrivacyForActionName:t,actionNameAttribute:r},o){let n=cs(e,Yt)||r&&cs(e,r);return n?{name:n,nameSource:"custom_attribute"}:o===w.MASK?{name:yl,nameSource:"mask_placeholder"}:us(e,r,_l,t)||us(e,r,Tl,t)||{name:"",nameSource:"blank"}}function cs(e,t){let r=e.closest(`[${t}]`);if(!r)return;let o=r.getAttribute(t);return ps(ds(o.trim()))}var _l=[(e,t)=>{if("labels"in e&&e.labels&&e.labels.length>0)return $r(e.labels[0],t)},e=>{if(e.nodeName==="INPUT"){let t=e,r=t.getAttribute("type");if(r==="button"||r==="submit"||r==="reset")return{name:t.value,nameSource:"text_content"}}},(e,t,r)=>{if(e.nodeName==="BUTTON"||e.nodeName==="LABEL"||e.getAttribute("role")==="button")return $r(e,t,r)},e=>Kt(e,"aria-label"),(e,t,r)=>{let o=e.getAttribute("aria-labelledby");if(o)return{name:o.split(/\s+/).map(n=>vl(e,n)).filter(n=>!!n).map(n=>ms(n,t,r)).join(" "),nameSource:"text_content"}},e=>Kt(e,"alt"),e=>Kt(e,"name"),e=>Kt(e,"title"),e=>Kt(e,"placeholder"),(e,t)=>{if("options"in e&&e.options.length>0)return $r(e.options[0],t)}],Tl=[(e,t,r)=>$r(e,t,r)],hl=10;function us(e,t,r,o){let n=e,i=0;for(;i<=hl&&n&&n.nodeName!=="BODY"&&n.nodeName!=="HTML"&&n.nodeName!=="HEAD";){for(let s of r){let u=s(n,t,o);if(u){let{name:l,nameSource:p}=u,d=l&&l.trim();if(d)return{name:ps(ds(d)),nameSource:p}}}if(n.nodeName==="FORM")break;n=n.parentElement,i+=1}}function ds(e){return e.replace(/\s+/g," ")}function ps(e){return e.length>100?`${sr(e,100)} [...]`:e}function vl(e,t){return e.ownerDocument?e.ownerDocument.getElementById(t):null}function Kt(e,t){return{name:e.getAttribute(t)||"",nameSource:"standard_attribute"}}function $r(e,t,r){return{name:ms(e,t,r)||"",nameSource:"text_content"}}function ms(e,t,r){if(!e.isContentEditable){if("innerText"in e){let o=e.innerText,n=i=>{let s=e.querySelectorAll(i);for(let u=0;u<s.length;u+=1){let l=s[u];if("innerText"in l){let p=l.innerText;p&&p.trim().length>0&&(o=o.replace(p,""))}}};return n(`[${Yt}]`),t&&n(`[${t}]`),r&&n(`${it(w.HIDDEN)}, ${it(w.MASK)}`),o}return e.textContent}}var gs=[Yt,"data-testid","data-test","data-qa","data-cy","data-test-id","data-qa-id","data-testing","data-component","data-element","data-source-file"],Il=[Ss,Al],Cl=[Ss,Rl,Ol];function Ae(e,t){if(!e.isConnected)return;let r,o=e;for(;o&&o.nodeName!=="HTML";){let n=fs(o,Il,Nl,t,r);if(n)return n;r=fs(o,Cl,kl,t,r)||Gr(wl(o),r),o=o.parentElement}return r}function Es(e){return/[0-9]/.test(e)}function Al(e){if(e.id&&!Es(e.id))return`#${CSS.escape(e.id)}`}function Rl(e){if(e.tagName==="BODY")return;let t=e.classList;for(let r=0;r<t.length;r+=1){let o=t[r];if(!Es(o))return`${CSS.escape(e.tagName)}.${CSS.escape(o)}`}}function Ol(e){return CSS.escape(e.tagName)}function Ss(e,t){if(t){let o=r(t);if(o)return o}for(let o of gs){let n=r(o);if(n)return n}function r(o){if(e.hasAttribute(o))return`${CSS.escape(e.tagName)}[${o}="${CSS.escape(e.getAttribute(o))}"]`}}function wl(e){let t=e.parentElement.firstElementChild,r=1;for(;t&&t!==e;)t.tagName===e.tagName&&(r+=1),t=t.nextElementSibling;return`${CSS.escape(e.tagName)}:nth-of-type(${r})`}function fs(e,t,r,o,n){for(let i of t){let s=i(e,o);if(s&&r(e,s,n))return Gr(s,n)}}function Nl(e,t,r){return e.ownerDocument.querySelectorAll(Gr(t,r)).length===1}function kl(e,t,r){let o;if(r===void 0)o=s=>s.matches(t);else{let s=Gr(`${t}:scope`,r);o=u=>u.querySelector(s)!==null}let i=e.parentElement.firstElementChild;for(;i;){if(i!==e&&o(i))return!1;i=i.nextElementSibling}return!0}function Gr(e,t){return t?`${e}>${t}`:e}a();c();var bs=V,Ll=100;function xs(e,t){let r=[],o=0,n;i(e);function i(l){l.stopObservable.subscribe(s),r.push(l),K(n),n=D(u,bs)}function s(){o===1&&r.every(l=>l.isStopped())&&(o=2,t(r))}function u(){K(n),o===0&&(o=1,s())}return{tryAppend:l=>o!==0?!1:r.length>0&&!Ml(r[r.length-1].event,l.event)?(u(),!1):(i(l),!0),stop:()=>{u()}}}function Ml(e,t){return e.target===t.target&&Dl(e,t)<=Ll&&e.timeStamp-t.timeStamp<=bs}function Dl(e,t){return Math.sqrt(Math.pow(e.clientX-t.clientX,2)+Math.pow(e.clientY-t.clientY,2))}a();c();function Ts(e,{onPointerDown:t,onPointerUp:r}){let o,n={selection:!1,input:!1,scroll:!1},i,s=[N(e,self,"pointerdown",u=>{_s(u)&&(o=ys(),n={selection:!1,input:!1,scroll:!1},i=t(u))},{capture:!0}),N(e,self,"selectionchange",()=>{(!o||!ys())&&(n.selection=!0)},{capture:!0}),N(e,self,"scroll",()=>{n.scroll=!0},{capture:!0,passive:!0}),N(e,self,"pointerup",u=>{if(_s(u)&&i){let l=n;r(i,u,()=>l),i=void 0}},{capture:!0}),N(e,self,"input",()=>{n.input=!0},{capture:!0})];return{stop:()=>{s.forEach(u=>u.stop())}}}function ys(){let e=self.getSelection();return!e||e.isCollapsed}function _s(e){return e.target instanceof Element&&e.isPrimary!==!1}a();c();var hs=3;function Is(e,t){if(Pl(e))return t.addFrustration("rage_click"),e.some(vs)&&t.addFrustration("dead_click"),t.hasError&&t.addFrustration("error_click"),{isRage:!0};let r=e.some(o=>o.getUserActivity().selection);return e.forEach(o=>{o.hasError&&o.addFrustration("error_click"),vs(o)&&!r&&o.addFrustration("dead_click")}),{isRage:!1}}function Pl(e){if(e.some(t=>t.getUserActivity().selection||t.getUserActivity().scroll))return!1;for(let t=0;t<e.length-(hs-1);t+=1)if(e[t+hs-1].event.timeStamp-e[t].event.timeStamp<=V)return!0;return!1}var Ul='input:not([type="checkbox"]):not([type="radio"]):not([type="button"]):not([type="submit"]):not([type="reset"]):not([type="range"]),textarea,select,[contenteditable],[contenteditable] *,canvas,a[href],a[href] *';function vs(e){return e.hasPageActivity||e.getUserActivity().input||e.getUserActivity().scroll?!1:!e.event.target.matches(Ul)}a();c();var yn=10*V,zt=new Map;function Cs(e){let t=zt.get(e);return zt.delete(e),t}function _n(e,t){zt.set(e,t),zt.forEach((r,o)=>{M(o,H())>yn&&zt.delete(o)})}var Vl=5*F;function As(e,t,r,o){let n=ne({expireDelay:Vl}),i=new _,s;e.subscribe(10,()=>{n.reset()}),e.subscribe(5,d),e.subscribe(11,m=>{m.reason===Pe.UNLOADING&&d()});let{stop:u}=Ts(o,{onPointerDown:m=>Fl(o,e,t,m,r),onPointerUp:({clickActionBase:m,hadActivityOnPointerDown:g},S,E)=>{Bl(o,e,t,r,n,i,p,m,S,E,g)}});return{stop:()=>{d(),i.notify(),u()},actionContexts:{findActionId:m=>n.findAll(m)}};function p(m){if(!s||!s.tryAppend(m)){let g=m.clone();s=xs(m,S=>{Gl(S,g)})}}function d(){s&&s.stop()}}function Fl(e,t,r,o,n){let i=e.enablePrivacyForActionName?xn(o.target,e.defaultPrivacyLevel):w.ALLOW;if(i===w.HIDDEN)return;let s=$l(o,i,e),u=!1;return jt(t,r,n,e,l=>{u=l.hadActivity},Sn),{clickActionBase:s,hadActivityOnPointerDown:()=>u}}function Bl(e,t,r,o,n,i,s,u,l,p,d){var m;let g=Rs(t,n,p,u,l);s(g);let S=(m=u?.target)===null||m===void 0?void 0:m.selector;S&&_n(l.timeStamp,S);let{stop:E}=jt(t,r,o,e,R=>{R.hadActivity&&R.end<g.startClocks.timeStamp?g.discard():R.hadActivity?g.stop(R.end):d()?g.stop(g.startClocks.timeStamp):g.stop()},yn),b=t.subscribe(5,({endClocks:R})=>{g.stop(R.timeStamp)}),C=i.subscribe(()=>{g.stop()});g.stopObservable.subscribe(()=>{b.unsubscribe(),E(),C.unsubscribe()})}function $l(e,t,r){let o=e.target.getBoundingClientRect(),n=Ae(e.target,r.actionNameAttribute);n&&_n(e.timeStamp,n);let i=ls(e.target,r,t);return{type:"click",target:{width:Math.round(o.width),height:Math.round(o.height),selector:n},position:{x:Math.round(e.clientX-o.left),y:Math.round(e.clientY-o.top)},name:i.name,nameSource:i.nameSource}}function Rs(e,t,r,o,n){let i=k(),s=P(),u=t.add(i,s.relative),l=Fr({lifeCycle:e,isChildEvent:E=>E.action!==void 0&&(Array.isArray(E.action.id)?E.action.id.includes(i):E.action.id===i)}),p=0,d,m=[],g=new _;function S(E){p===0&&(d=E,p=1,d?u.close(It(d)):u.remove(),l.stop(),g.notify())}return{event:n,stop:S,stopObservable:g,get hasError(){return l.eventCounts.errorCount>0},get hasPageActivity(){return d!==void 0},getUserActivity:r,addFrustration:E=>{m.push(E)},startClocks:s,isStopped:()=>p===1||p===2,clone:()=>Rs(e,t,r,o,n),validate:E=>{if(S(),p!==1)return;let{resourceCount:b,errorCount:C,longTaskCount:R}=l.eventCounts,L={duration:d&&M(s.timeStamp,d),startClocks:s,id:i,frustrationTypes:m,counts:{resourceCount:b,errorCount:C,longTaskCount:R},events:E??[n],event:n,...o};e.notify(0,L),p=2},discard:()=>{S(),p=2}}}function Gl(e,t){let{isRage:r}=Is(e,t);r?(e.forEach(o=>o.discard()),t.stop($()),t.validate(e.map(o=>o.event))):(t.discard(),e.forEach(o=>o.validate()))}function ws(e,t,r,o,n){e.subscribe(0,u=>e.notify(12,Os(u))),t.register(0,({startTime:u,eventType:l})=>{if(l!=="error"&&l!=="resource"&&l!=="long_task")return;let p=i.findActionId(u);if(p)return{type:l,action:{id:p}}});let i={findActionId:O},s=O;return n.trackUserInteractions&&({actionContexts:i,stop:s}=As(e,r,o,n)),{addAction:u=>{e.notify(12,Os(u))},actionContexts:i,stop:s}}function Os(e){let t=Hr(e)?{action:{id:e.id,loading_time:Vr(h(e.duration)),frustration:{type:e.frustrationTypes},error:{count:e.counts.errorCount},long_task:{count:e.counts.longTaskCount},resource:{count:e.counts.resourceCount}},_dd:{action:{target:e.target,position:e.position,name_source:e.nameSource}}}:void 0,r=j({action:{id:k(),target:{name:e.name},type:e.type},date:e.startClocks.timeStamp,type:"action"},t),o=Hr(e)?e.duration:void 0,n=Hr(e)?void 0:e.context,i=Hr(e)?{events:e.events}:{handlingStack:e.handlingStack};return{customerContext:n,rawRumEvent:r,duration:o,startTime:e.startClocks.relative,domainContext:i}}function Hr(e){return e.type!=="custom"}a();c();a();c();function Ns(e){let t=qo([ze.error]).subscribe(r=>e.notify(r.error));return{stop:()=>{t.unsubscribe()}}}a();c();function ks(e,t){let r=Fo(e,[tt.cspViolation,tt.intervention]).subscribe(o=>t.notify(o));return{stop:()=>{r.unsubscribe()}}}function Ls(e,t){let r=new _;return Ns(r),Uo(r),ks(t,r),r.subscribe(o=>e.notify(14,{error:o})),Hl(e)}function Hl(e){return e.subscribe(14,({error:t,customerContext:r})=>{r=j(t.context,r),e.notify(12,{customerContext:r,...jl(t)})}),{addError:({error:t,handlingStack:r,componentStack:o,startClocks:n,context:i})=>{let s=te(t)?Z(t):void 0,u=vt({stackTrace:s,originalError:t,handlingStack:r,componentStack:o,startClocks:n,nonErrorPrefix:"Provided",source:oe.CUSTOM,handling:"handled"});e.notify(14,{customerContext:i,error:u})}}}function jl(e){let t={date:e.startClocks.timeStamp,error:{id:k(),message:e.message,source:e.source,stack:e.stack,handling_stack:e.handlingStack,component_stack:e.componentStack,type:e.type,handling:e.handling,causes:e.causes,source_type:"browser",fingerprint:e.fingerprint,csp:e.csp},type:"error"},r={error:e.originalError,handlingStack:e.handlingStack};return{rawRumEvent:t,startTime:e.startClocks.relative,domainContext:r}}a();c();a();c();var Ms=new WeakSet;function Ds(e){if(!performance||!("getEntriesByName"in performance))return;let t=performance.getEntriesByName(e.url,"resource");if(!t.length||!("toJSON"in t[0]))return;let r=t.filter(o=>!Ms.has(o)).filter(o=>Mr(o)&&rn(o)).filter(o=>Kl(o,e.startClocks.relative,Ps({startTime:e.startClocks.relative,duration:e.duration})));if(r.length===1)return Ms.add(r[0]),r[0].toJSON()}function Ps(e){return $e(e.startTime,e.duration)}function Kl(e,t,r){return e.startTime>=t-1&&Ps(e)<=$e(r,1)}a();c();a();c();var Yl=2*F;function Vs(e){let t=zl(e)||ql(e);if(!(!t||t.traceTime<=X()-Yl))return t.traceId}function zl(e){let t=e.querySelector("meta[name=dd-trace-id]"),r=e.querySelector("meta[name=dd-trace-time]");return Fs(t&&t.content,r&&r.content)}function ql(e){let t=Xl(e);if(t)return Fs(Ge(t,"trace-id"),Ge(t,"trace-time"))}function Fs(e,t){let r=t&&Number(t);if(!(!e||!r))return{traceId:e,traceTime:r}}function Xl(e){for(let t=0;t<e.childNodes.length;t+=1){let r=Us(e.childNodes[t]);if(r)return r}if(e.body)for(let t=e.body.childNodes.length-1;t>=0;t-=1){let r=e.body.childNodes[t],o=Us(r);if(o)return o;if(!Br(r))break}}function Us(e){if(e&&ns(e)){let t=/^\s*DATADOG;(.*?)\s*$/.exec(e.data);if(t)return t[1]}}a();c();function jr(){if(de(A.NAVIGATION)){let r=performance.getEntriesByType(A.NAVIGATION)[0];if(r)return r}let e=Wl(),t={entryType:A.NAVIGATION,initiatorType:"navigation",name:self.location.href,startTime:0,duration:e.loadEventEnd,decodedBodySize:0,encodedBodySize:0,transferSize:0,workerStart:0,toJSON:()=>({...t,toJSON:void 0}),...e};return t}function Wl(){let e={},t=performance.timing;for(let r in t)if(Ne(t[r])){let o=r,n=t[o];e[o]=n===0?0:It(n)}return e}function Bs(e,t,r=jr){Et(e,"interactive",()=>{let o=r(),n=Object.assign(o.toJSON(),{entryType:A.RESOURCE,initiatorType:en,duration:o.responseEnd,traceId:Vs(document),toJSON:()=>({...n,toJSON:void 0})});t(n)})}function Gs(e,t,r,o=Ci(),n=Bs){e.subscribe(8,u=>{s(()=>Jl(u,t,r))});let i=Y(t,{type:A.RESOURCE,buffered:!0}).subscribe(u=>{for(let l of u)wi(l)||s(()=>$s(l,t))});n(t,u=>{s(()=>$s(u,t))});function s(u){o.push(()=>{let l=u();l&&e.notify(12,l)})}return{stop:()=>{i.unsubscribe()}}}function Jl(e,t,r){let o=Ds(e),n=o?Ze(o.startTime):e.startClocks,i=Zl(e,t);if(!t.trackResources&&!i)return;let s=e.type==="xhr"?"xhr":"fetch",u=o?Hs(o):void 0,l=o?tn(o):ed(r,n,e.duration),p=j({date:n.timeStamp,resource:{id:k(),type:s,duration:h(l),method:e.method,status_code:e.status,protocol:o&&on(o),url:sn(e.url)?an(e.url):e.url,delivery_type:o&&nn(o)},type:"resource",_dd:{discarded:!t.trackResources}},i,u);return{startTime:n.relative,duration:l,rawRumEvent:p,domainContext:{performanceEntry:o,xhr:e.xhr,response:e.response,requestInput:e.input,requestInit:e.init,error:e.error,isAborted:e.isAborted,handlingStack:e.handlingStack}}}function $s(e,t){let r=Ze(e.startTime),o=Ql(e,t);if(!t.trackResources&&!o)return;let n=Oi(e),i=Hs(e),s=tn(e),u=j({date:r.timeStamp,resource:{id:k(),type:n,duration:h(s),url:e.name,status_code:td(e.responseStatus),protocol:on(e),delivery_type:nn(e)},type:"resource",_dd:{discarded:!t.trackResources}},o,i);return{startTime:r.relative,duration:s,rawRumEvent:u,domainContext:{performanceEntry:e}}}function Hs(e){let{renderBlockingStatus:t}=e;return{resource:{render_blocking_status:t,...ki(e),...Ni(e)}}}function Zl(e,t){if(e.traceSampled&&e.traceId&&e.spanId)return{_dd:{span_id:e.spanId.toString(),trace_id:e.traceId.toString(),rule_psr:t.rulePsr}}}function Ql(e,t){if(e.traceId)return{_dd:{trace_id:e.traceId,span_id:Pr().toString(),rule_psr:t.rulePsr}}}function ed(e,t,r){return e.wasInPageStateDuringPeriod("frozen",t.relative,r)?void 0:r}function td(e){return e===0?void 0:e}a();c();a();c();a();c();function js(e,t,r){let{stop:o,eventCounts:n}=Fr({lifeCycle:e,isChildEvent:i=>i.view.id===t,onChange:r});return{stop:o,eventCounts:n}}a();c();a();c();var rd=10*F;function Ks(e,t,r){return{stop:Y(e,{type:A.PAINT,buffered:!0}).subscribe(n=>{let i=n.find(s=>s.name==="first-contentful-paint"&&s.startTime<t.timeStamp&&s.startTime<rd);i&&r(i.startTime)}).unsubscribe}}a();c();function Ys(e,t,r){let o=Y(e,{type:A.FIRST_INPUT,buffered:!0}).subscribe(n=>{let i=n.find(s=>s.startTime<t.timeStamp);if(i){let s=M(i.startTime,i.processingStart),u;i.target&&Ce(i.target)&&(u=Ae(i.target,e.actionNameAttribute)),r({delay:s>=0?s:0,time:i.startTime,targetSelector:u})}});return{stop:()=>{o.unsubscribe()}}}a();c();function zs(e,t,r=jr){return id(e,()=>{let o=r();nd(o)||t(od(o))})}function od(e){return{domComplete:e.domComplete,domContentLoaded:e.domContentLoadedEventEnd,domInteractive:e.domInteractive,loadEvent:e.loadEventEnd,firstByte:e.responseStart>=0&&e.responseStart<=H()?e.responseStart:void 0}}function nd(e){return e.loadEventEnd<=0}function id(e,t){let r,{stop:o}=Et(e,"complete",()=>{r=D(()=>t())});return{stop:()=>{o(),K(r)}}}a();c();var sd=10*F;function qs(e,t,r,o){let n=1/0,{stop:i}=ee(e,r,["pointerdown","keydown"],l=>{n=l.timeStamp},{capture:!0,once:!0}),s=0,u=Y(e,{type:A.LARGEST_CONTENTFUL_PAINT,buffered:!0}).subscribe(l=>{let p=Yn(l,d=>d.entryType===A.LARGEST_CONTENTFUL_PAINT&&d.startTime<n&&d.startTime<t.timeStamp&&d.startTime<sd&&d.size>s);if(p){let d;p.element&&(d=Ae(p.element,e.actionNameAttribute)),o({value:p.startTime,targetSelector:d,resourceUrl:ad(p)}),s=p.size}});return{stop:()=>{i(),u.unsubscribe()}}}function ad(e){return e.url===""?void 0:e.url}a();c();function Kr(e,t=self){if(document.visibilityState==="hidden")return{timeStamp:0,stop:O};if(de(A.VISIBILITY_STATE)){let n=performance.getEntriesByType(A.VISIBILITY_STATE).find(i=>i.name==="hidden");if(n)return{timeStamp:n.startTime,stop:O}}let r=1/0,{stop:o}=ee(e,t,["pagehide","visibilitychange"],n=>{(n.type==="pagehide"||document.visibilityState==="hidden")&&(r=n.timeStamp,o())},{capture:!0});return{get timeStamp(){return r},stop:o}}function Xs(e,t,r){let o={},{stop:n}=zs(e,d=>{t(d.loadEvent),o.navigationTimings=d,r()}),i=Kr(e),{stop:s}=Ks(e,i,d=>{o.firstContentfulPaint=d,r()}),{stop:u}=qs(e,i,self,d=>{o.largestContentfulPaint=d,r()}),{stop:l}=Ys(e,i,d=>{o.firstInput=d,r()});function p(){n(),s(),u(),l(),i.stop()}return{stop:p,initialViewMetrics:o}}a();c();a();c();function Js(e,t,r){if(!pd())return{stop:O};let o=0,n;r({value:0});let i=dd(),s=Y(e,{type:A.LAYOUT_SHIFT,buffered:!0}).subscribe(u=>{var l;for(let p of u){if(p.hadRecentInput||p.startTime<t)continue;let{cumulatedValue:d,isMaxValue:m}=i.update(p);if(m){let g=cd(p.sources);n={target:g?.node?new WeakRef(g.node):void 0,time:M(t,p.startTime),previousRect:g?.previousRect,currentRect:g?.currentRect,devicePixelRatio:self.devicePixelRatio}}if(d>o){o=d;let g=(l=n?.target)===null||l===void 0?void 0:l.deref();r({value:Je(o,4),targetSelector:g&&Ae(g,e.actionNameAttribute),time:n?.time,previousRect:n?.previousRect?Ws(n.previousRect):void 0,currentRect:n?.currentRect?Ws(n.currentRect):void 0,devicePixelRatio:n?.devicePixelRatio})}}});return{stop:()=>{s.unsubscribe()}}}function cd(e){return e.find(t=>!!t.node&&Ce(t.node))}function Ws({x:e,y:t,width:r,height:o}){return{x:e,y:t,width:r,height:o}}var ud=5*V,ld=V;function dd(){let e=0,t,r,o=0;return{update:n=>{let i=t===void 0||n.startTime-r>=ld||n.startTime-t>=ud,s;return i?(t=r=n.startTime,o=e=n.value,s=!0):(e+=n.value,r=n.startTime,s=n.value>o,s&&(o=n.value)),{cumulatedValue:e,isMaxValue:s}}}}function pd(){return de(A.LAYOUT_SHIFT)&&"WeakRef"in self}a();c();a();c();var Yr,Zs=0,Tn=1/0,hn=0;function Qs(){"interactionCount"in performance||Yr||(Yr=new self.PerformanceObserver(y(e=>{e.getEntries().forEach(t=>{let r=t;r.interactionId&&(Tn=Math.min(Tn,r.interactionId),hn=Math.max(hn,r.interactionId),Zs=(hn-Tn)/7+1)})})),Yr.observe({type:"event",buffered:!0,durationThreshold:0}))}var vn=()=>Yr?Zs:self.performance.interactionCount||0;var ea=10,md=1*F;function ta(e,t,r){if(!Ed())return{getInteractionToNextPaint:()=>{},setViewEnd:O,stop:O};let{getViewInteractionCount:o,stopViewInteractionCount:n}=gd(r),i=1/0,s=fd(o),u=-1,l,p;function d(S){for(let b of S)b.interactionId&&b.startTime>=t&&b.startTime<=i&&s.process(b);let E=s.estimateP98Interaction();E&&E.duration!==u&&(u=E.duration,p=M(t,E.startTime),l=Cs(E.startTime),!l&&E.target&&Ce(E.target)&&(l=Ae(E.target,e.actionNameAttribute)))}let m=Y(e,{type:A.FIRST_INPUT,buffered:!0}).subscribe(d),g=Y(e,{type:A.EVENT,durationThreshold:40,buffered:!0}).subscribe(d);return{getInteractionToNextPaint:()=>{if(u>=0)return{value:Math.min(u,md),targetSelector:l,time:p};if(o())return{value:0}},setViewEnd:S=>{i=S,n()},stop:()=>{g.unsubscribe(),m.unsubscribe()}}}function fd(e){let t=[];function r(){t.sort((o,n)=>n.duration-o.duration).splice(ea)}return{process(o){let n=t.findIndex(s=>o.interactionId===s.interactionId),i=t[t.length-1];n!==-1?o.duration>t[n].duration&&(t[n]=o,r()):(t.length<ea||o.duration>i.duration)&&(t.push(o),r())},estimateP98Interaction(){let o=Math.min(t.length-1,Math.floor(e()/50));return t[o]}}}function gd(e){Qs();let t=e==="initial_load"?0:vn(),r={stopped:!1};function o(){return vn()-t}return{getViewInteractionCount:()=>r.stopped?r.interactionCount:o(),stopViewInteractionCount:()=>{r={stopped:!0,interactionCount:o()}}}}function Ed(){return de(A.EVENT)&&self.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype}a();c();function ra(e,t,r,o,n,i,s){let u=n==="initial_load",l=!0,p=[],d=Kr(o);function m(){if(!l&&!u&&p.length>0){let S=Math.max(...p);S<d.timeStamp&&s(S)}}let{stop:g}=jt(e,t,r,o,S=>{l&&(l=!1,S.hadActivity&&p.push(M(i.timeStamp,S.end)),m())});return{stop:()=>{g(),d.stop()},setLoadEvent:S=>{u&&(u=!1,p.push(S),m())}}}a();c();a();c();function Sd(){let e,t=self.visualViewport;return t?e=t.pageLeft-t.offsetLeft:self.scrollX!==void 0?e=self.scrollX:e=self.pageXOffset||0,Math.round(e)}function In(){let e,t=self.visualViewport;return t?e=t.pageTop-t.offsetTop:self.scrollY!==void 0?e=self.scrollY:e=self.pageYOffset||0,Math.round(e)}a();c();var Cn;function An(e){return Cn||(Cn=bd(e)),Cn}function bd(e){return new _(t=>{let{throttled:r}=Fe(()=>{t.notify(St())},200);return N(e,self,"resize",r,{capture:!0,passive:!0}).stop})}function St(){let e=self.visualViewport;return e?{width:Number(e.width*e.scale),height:Number(e.height*e.scale)}:{width:Number(self.innerWidth||0),height:Number(self.innerHeight||0)}}var xd=V;function oa(e,t,r,o=_d(e)){let n=0,i=0,s=0,u=o.subscribe(({scrollDepth:l,scrollTop:p,scrollHeight:d})=>{let m=!1;if(l>n&&(n=l,m=!0),d>i){i=d;let g=H();s=M(t.relative,g),m=!0}m&&r({maxDepth:Math.min(n,i),maxDepthScrollTop:p,maxScrollHeight:i,maxScrollHeightTime:s})});return{stop:()=>u.unsubscribe()}}function yd(){let e=In(),{height:t}=St(),r=Math.round((document.scrollingElement||document.documentElement).scrollHeight),o=Math.round(t+e);return{scrollHeight:r,scrollDepth:o,scrollTop:e}}function _d(e,t=xd){return new _(r=>{function o(){r.notify(yd())}if(self.ResizeObserver){let n=Fe(o,t,{leading:!1,trailing:!0}),i=document.scrollingElement||document.documentElement,s=new ResizeObserver(y(n.throttled));i&&s.observe(i);let u=N(e,self,"scroll",n.throttled,{passive:!0});return()=>{n.cancel(),s.disconnect(),u.stop()}}})}function na(e,t,r,o,n,i,s){let u={},{stop:l,setLoadEvent:p}=ra(e,t,r,o,i,s,b=>{u.loadingTime=b,n()}),{stop:d}=oa(o,s,b=>{u.scroll=b}),{stop:m}=Js(o,s.relative,b=>{u.cumulativeLayoutShift=b,n()}),{stop:g,getInteractionToNextPaint:S,setViewEnd:E}=ta(o,s.relative,i);return{stop:()=>{l(),m(),d()},stopINPTracking:g,setLoadEvent:p,setViewEnd:E,getCommonViewMetrics:()=>(u.interactionToNextPaint=S(),u)}}var Td=3e3,hd=5*F,vd=5*F;function sa(e,t,r,o,n,i,s,u){let l=new Set,p=m("initial_load",or(),u);g();let d;s&&(d=S(i));function m(E,b,C){let R=Id(t,r,o,n,e,E,b,C);return l.add(R),R.stopObservable.subscribe(()=>{l.delete(R)}),R}function g(){t.subscribe(10,()=>{p=m("route_change",void 0,{name:p.name,service:p.service,version:p.version,context:p.contextManager.getContext()})}),t.subscribe(9,()=>{p.end({sessionIsActive:!1})})}function S(E){return E.subscribe(({oldLocation:b,newLocation:C})=>{Ad(b,C)&&(p.end(),p=m("route_change"))})}return{addTiming:(E,b=$())=>{p.addTiming(E,b)},startView:(E,b)=>{p.end({endClocks:b}),p=m("route_change",b,E)},setViewContext:E=>{p.contextManager.setContext(E)},setViewContextProperty:(E,b)=>{p.contextManager.setContextProperty(E,b)},setViewName:E=>{p.setViewName(E)},getViewContext:()=>p.contextManager.getContext(),stop:()=>{d&&d.unsubscribe(),p.end(),l.forEach(E=>E.stop())}}}function Id(e,t,r,o,n,i,s=P(),u){let l=k(),p=new _,d={},m=0,g,S=we(n),E=Ue(),b=!0,C=u?.name,R=u?.service||o.service,L=u?.version||o.version,x=u?.context;x&&E.setContext(x);let T={id:l,name:C,startClocks:s,service:R,version:L,context:x};e.notify(1,T),e.notify(2,T);let{throttled:B,cancel:Se}=Fe(Ve,Td,{leading:!1}),{setLoadEvent:v,setViewEnd:pe,stop:st,stopINPTracking:qt,getCommonViewMetrics:Xt}=na(e,t,r,o,Ye,i,s),{stop:zr,initialViewMetrics:qr}=i==="initial_load"?Xs(o,v,Ye):{stop:O,initialViewMetrics:{}},{stop:Xr,eventCounts:Wr}=js(e,l,Ye),Jr=ce(Ve,hd),Zr=e.subscribe(11,ie=>{ie.reason===Pe.UNLOADING&&Ve()});Ve(),E.changeObservable.subscribe(Ye);function Wt(){e.notify(3,{id:l,name:C,context:E.getContext(),startClocks:s})}function Ye(){Wt(),B()}function Ve(){Se(),Wt(),m+=1;let ie=g===void 0?$():g.timeStamp;e.notify(4,{customTimings:d,documentVersion:m,id:l,name:C,service:R,version:L,context:E.getContext(),loadingType:i,location:S,startClocks:s,commonViewMetrics:Xt(),initialViewMetrics:qr,duration:M(s.timeStamp,ie),isActive:g===void 0,sessionIsActive:b,eventCounts:Wr})}return{get name(){return C},service:R,version:L,contextManager:E,stopObservable:p,end(ie={}){var Re,Oe;g||(g=(Re=ie.endClocks)!==null&&Re!==void 0?Re:P(),b=(Oe=ie.sessionIsActive)!==null&&Oe!==void 0?Oe:!0,e.notify(5,{endClocks:g}),e.notify(6,{endClocks:g}),ye(Jr),pe(g.relative),st(),Zr.unsubscribe(),Ve(),D(()=>{this.stop()},vd))},stop(){zr(),Xr(),qt(),p.notify()},addTiming(ie,Re){if(g)return;let Oe=$n(Re)?Re:M(s.timeStamp,Re);d[Cd(ie)]=Oe,Ye()},setViewName(ie){C=ie,Ve()}}}function Cd(e){let t=e.replace(/[^a-zA-Z0-9-_.@$]/g,"_");return t!==e&&I.warn(`Invalid timing name: ${e}, sanitized to: ${t}`),t}function Ad(e,t){return e.pathname!==t.pathname||!Rd(t.hash)&&ia(t.hash)!==ia(e.hash)}function Rd(e){let t=e.substring(1);return t!==""&&!!document.getElementById(t)}function ia(e){let t=e.indexOf("?");return t<0?e:e.slice(0,t)}function aa(e,t,r,o,n,i,s,u,l,p){return e.subscribe(4,d=>e.notify(12,Od(d,r,u))),t.register(0,({startTime:d,eventType:m})=>{let{service:g,version:S,id:E,name:b,context:C}=l.findView(d);return{type:m,service:g,version:S,context:C,view:{id:E,name:b}}}),sa(o,e,n,i,r,s,!r.trackViewsManually,p)}function Od(e,t,r){var o,n,i,s,u,l,p,d,m,g,S,E,b,C,R,L,x,T;let B=r.getReplayStats(e.id),Se=(n=(o=e.commonViewMetrics)===null||o===void 0?void 0:o.cumulativeLayoutShift)===null||n===void 0?void 0:n.devicePixelRatio,v={_dd:{document_version:e.documentVersion,replay_stats:B,cls:Se?{device_pixel_ratio:Se}:void 0,configuration:{start_session_replay_recording_manually:t.startSessionReplayRecordingManually}},date:e.startClocks.timeStamp,type:"view",view:{action:{count:e.eventCounts.actionCount},frustration:{count:e.eventCounts.frustrationCount},cumulative_layout_shift:(i=e.commonViewMetrics.cumulativeLayoutShift)===null||i===void 0?void 0:i.value,cumulative_layout_shift_time:h((s=e.commonViewMetrics.cumulativeLayoutShift)===null||s===void 0?void 0:s.time),cumulative_layout_shift_target_selector:(u=e.commonViewMetrics.cumulativeLayoutShift)===null||u===void 0?void 0:u.targetSelector,first_byte:h((l=e.initialViewMetrics.navigationTimings)===null||l===void 0?void 0:l.firstByte),dom_complete:h((p=e.initialViewMetrics.navigationTimings)===null||p===void 0?void 0:p.domComplete),dom_content_loaded:h((d=e.initialViewMetrics.navigationTimings)===null||d===void 0?void 0:d.domContentLoaded),dom_interactive:h((m=e.initialViewMetrics.navigationTimings)===null||m===void 0?void 0:m.domInteractive),error:{count:e.eventCounts.errorCount},first_contentful_paint:h(e.initialViewMetrics.firstContentfulPaint),first_input_delay:h((g=e.initialViewMetrics.firstInput)===null||g===void 0?void 0:g.delay),first_input_time:h((S=e.initialViewMetrics.firstInput)===null||S===void 0?void 0:S.time),first_input_target_selector:(E=e.initialViewMetrics.firstInput)===null||E===void 0?void 0:E.targetSelector,interaction_to_next_paint:h((b=e.commonViewMetrics.interactionToNextPaint)===null||b===void 0?void 0:b.value),interaction_to_next_paint_time:h((C=e.commonViewMetrics.interactionToNextPaint)===null||C===void 0?void 0:C.time),interaction_to_next_paint_target_selector:(R=e.commonViewMetrics.interactionToNextPaint)===null||R===void 0?void 0:R.targetSelector,is_active:e.isActive,name:e.name,largest_contentful_paint:h((L=e.initialViewMetrics.largestContentfulPaint)===null||L===void 0?void 0:L.value),largest_contentful_paint_target_selector:(x=e.initialViewMetrics.largestContentfulPaint)===null||x===void 0?void 0:x.targetSelector,load_event:h((T=e.initialViewMetrics.navigationTimings)===null||T===void 0?void 0:T.loadEvent),loading_time:Vr(h(e.commonViewMetrics.loadingTime)),loading_type:e.loadingType,long_task:{count:e.eventCounts.longTaskCount},performance:wd(e.commonViewMetrics,e.initialViewMetrics),resource:{count:e.eventCounts.resourceCount},time_spent:h(e.duration)},display:e.commonViewMetrics.scroll?{scroll:{max_depth:e.commonViewMetrics.scroll.maxDepth,max_depth_scroll_top:e.commonViewMetrics.scroll.maxDepthScrollTop,max_scroll_height:e.commonViewMetrics.scroll.maxScrollHeight,max_scroll_height_time:h(e.commonViewMetrics.scroll.maxScrollHeightTime)}}:void 0,session:{has_replay:B?!0:void 0,is_active:e.sessionIsActive?void 0:!1},privacy:{replay_level:t.defaultPrivacyLevel}};return ue(e.customTimings)||(v.view.custom_timings=Pn(e.customTimings,h)),{rawRumEvent:v,startTime:e.startClocks.relative,duration:e.duration,domainContext:{location:e.location}}}function wd({cumulativeLayoutShift:e,interactionToNextPaint:t},{firstContentfulPaint:r,firstInput:o,largestContentfulPaint:n}){return{cls:e&&{score:e.value,timestamp:h(e.time),target_selector:e.targetSelector,previous_rect:e.previousRect,current_rect:e.currentRect},fcp:r&&{timestamp:h(r)},fid:o&&{duration:h(o.delay),timestamp:h(o.time),target_selector:o.targetSelector},inp:t&&{duration:h(t.value),timestamp:h(t.time),target_selector:t.targetSelector},lcp:n&&{timestamp:h(n.value),target_selector:n.targetSelector,resource_url:n.resourceUrl}}}a();c();var Nd="rum";function ca(e,t,r){let o=Bo(e,Nd,n=>kd(e,n),r);return o.expireObservable.subscribe(()=>{t.notify(9)}),o.renewObservable.subscribe(()=>{t.notify(10)}),o.sessionStateUpdateObservable.subscribe(({previousState:n,newState:i})=>{if(!n.forcedReplay&&i.forcedReplay){let s=o.findSession();s&&(s.isReplayForced=!0)}}),{findTrackedSession:n=>{let i=o.findSession(n);if(!(!i||!la(i.trackingType)))return{id:i.id,sessionReplay:i.trackingType==="1"?1:i.isReplayForced?2:0,anonymousId:i.anonymousId}},expire:o.expire,expireObservable:o.expireObservable,setForcedReplay:()=>o.updateSessionState({forcedReplay:"1"})}}function ua(){let e={id:"00000000-aaaa-0000-aaaa-000000000000",sessionReplay:Or("records")?1:0};return{findTrackedSession:()=>e,expire:O,expireObservable:new _,setForcedReplay:O}}function kd(e,t){let r;return Ld(t)?r=t:ge(e.sessionSampleRate)?ge(e.sessionReplaySampleRate)?r="1":r="2":r="0",{trackingType:r,isTracked:la(r)}}function Ld(e){return e==="0"||e==="1"||e==="2"}function la(e){return e==="2"||e==="1"}a();c();function da(e,t,r,o,n,i,s){let u=e.replica,l=wr(e,{endpoint:e.rumEndpointBuilder,encoder:s(2)},u&&{endpoint:u.rumEndpointBuilder,transformMessage:p=>j(p,{application:{id:u.applicationId}}),encoder:s(3)},o,n,i);return t.subscribe(13,p=>{p.type==="view"?l.upsert(p,p.view.id):l.add(p)}),r.subscribe(p=>l.add(p,Cr(e))),l}a();c();function pa(e){let t=ve();e.subscribe(13,r=>{t.send("rum",r)})}a();c();var Md=Q;function ma(e,t,r,o){let n=ne({expireDelay:Md}),i;e.subscribe(1,({startClocks:l})=>{let p=o.href;n.add(u({url:p,referrer:i||document.referrer}),l.relative),i=p}),e.subscribe(6,({endClocks:l})=>{n.closeActive(l.relative)});let s=r.subscribe(({newLocation:l})=>{let p=n.find();if(p){let d=H();n.closeActive(d),n.add(u({url:l.href,referrer:p.referrer}),d)}});function u({url:l,referrer:p}){return{url:l,referrer:p}}return t.register(0,({startTime:l,eventType:p})=>{let{url:d,referrer:m}=n.find(l);return{type:p,view:{url:d,referrer:m}}}),{findUrl:l=>n.find(l),getAllEntries:()=>n.getAllEntries(),getDeletedEntries:()=>n.getDeletedEntries(),stop:()=>{s.unsubscribe(),n.stop()}}}a();c();function ga(e,t){let r=we(t);return new _(o=>{let{stop:n}=Dd(e,s),{stop:i}=Pd(e,s);function s(){if(r.href===t.href)return;let u=we(t);o.notify({newLocation:u,oldLocation:r}),r=u}return()=>{n(),i()}})}function Dd(e,t){let{stop:r}=J(fa("pushState"),"pushState",({onPostCall:i})=>{i(t)}),{stop:o}=J(fa("replaceState"),"replaceState",({onPostCall:i})=>{i(t)}),{stop:n}=N(e,self,"popstate",t);return{stop:()=>{r(),o(),n()}}}function Pd(e,t){return N(e,self,"hashchange",t)}function fa(e){return Object.prototype.hasOwnProperty.call(history,e)?history:History.prototype}a();c();var Ud=Q;function Ea(e,t,r){let o=ne({expireDelay:Ud});return e.subscribe(1,({startClocks:n})=>{o.add({},n.relative)}),e.subscribe(6,({endClocks:n})=>{o.closeActive(n.relative)}),t.register(0,({startTime:n,eventType:i})=>{if(!r.trackFeatureFlagsForEvents.concat(["view","error"]).includes(i))return;let u=o.find(n);if(!(!u||ue(u)))return{type:i,feature_flags:u}}),{addFeatureFlagEvaluation:(n,i)=>{let s=o.find();s&&(s[n]=i)}}}a();c();var Vd=10*V,bt,Rn;function xa(e,t,r,o){t.enabled&&ge(e.customerDataTelemetrySampleRate)&&(ya(),Rn=!1,r.subscribe(13,()=>{Rn=!0}),o.subscribe(({bytesCount:i,messagesCount:s})=>{Rn&&(bt.batchCount+=1,ba(bt.batchBytesCount,i),ba(bt.batchMessagesCount,s))}),ce(Fd,Vd))}function Fd(){bt.batchCount!==0&&(he("Customer data measures",bt),ya())}function Sa(){return{min:1/0,max:0,sum:0}}function ba(e,t){e.sum+=t,e.min=Math.min(e.min,t),e.max=Math.max(e.max,t)}function ya(){bt={batchCount:0,batchBytesCount:Sa(),batchMessagesCount:Sa()}}a();c();var Bd=4e3,$d=500,Gd=Q;function _a(e,t,r=$d){let o=ne({expireDelay:Gd,maxEntries:Bd}),n;s(Ta(),H());let{stop:i}=ee(t,self,["pageshow","focus","blur","visibilitychange","resume","freeze","pagehide"],l=>{s(jd(l),l.timeStamp)},{capture:!0});function s(l,p=H()){l!==n&&(n=l,o.closeActive(p),o.add({state:n,startTime:p},p))}function u(l,p,d){return o.findAll(p,d).some(m=>m.state===l)}return e.register(0,({startTime:l,duration:p=0,eventType:d})=>{if(d==="view"){let m=o.findAll(l,p);return{type:d,_dd:{page_states:Hd(m,l,r)}}}if(d==="action"||d==="error")return{type:d,view:{in_foreground:u("active",l,0)}}}),{wasInPageStateDuringPeriod:u,addPageState:s,stop:()=>{i(),o.stop()}}}function Hd(e,t,r){if(e.length!==0)return e.slice(-r).reverse().map(({state:o,startTime:n})=>({state:o,start:h(M(t,n))}))}function jd(e){return e.type==="freeze"?"frozen":e.type==="pagehide"?e.persisted?"frozen":"terminated":Ta()}function Ta(){return document.visibilityState==="hidden"?"hidden":document.hasFocus()?"active":"passive"}a();c();function ha(e){let t,r=requestAnimationFrame(y(()=>{t=St()})),o=An(e).subscribe(n=>{t=n}).unsubscribe;return{get:()=>t?{viewport:t}:void 0,stop:()=>{o(),r&&cancelAnimationFrame(r)}}}a();c();a();c();var Kd=V;function va(e){return new _(t=>Yd(e,r=>t.notify(r)))}function Yd(e,t){let r=Ge(document.cookie,e),o=ce(()=>{let n=Ge(document.cookie,e);n!==r&&t(n)},Kd);return()=>ye(o)}var Ia="datadog-ci-visibility-test-execution-id";function Ca(e,t=va(Ia)){var r;let o=le(Ia)||((r=self.Cypress)===null||r===void 0?void 0:r.env("traceId")),n=t.subscribe(i=>{o=i});return e.register(0,({eventType:i})=>{if(typeof o=="string")return{type:i,session:{type:"ci_test"},ci_test:{test_execution_id:o}}}),{stop:()=>{n.unsubscribe()}}}a();c();function Aa(e,t){let r=Y(t,{type:A.LONG_ANIMATION_FRAME,buffered:!0}).subscribe(o=>{for(let n of o){let i=Ze(n.startTime),s={date:i.timeStamp,long_task:{id:k(),entry_type:"long-animation-frame",duration:h(n.duration),blocking_duration:h(n.blockingDuration),first_ui_event_timestamp:h(n.firstUIEventTimestamp),render_start:h(n.renderStart),style_and_layout_start:h(n.styleAndLayoutStart),start_time:h(n.startTime),scripts:n.scripts.map(u=>({duration:h(u.duration),pause_duration:h(u.pauseDuration),forced_style_and_layout_duration:h(u.forcedStyleAndLayoutDuration),start_time:h(u.startTime),execution_start:h(u.executionStart),source_url:u.sourceURL,source_function_name:u.sourceFunctionName,source_char_position:u.sourceCharPosition,invoker:u.invoker,invoker_type:u.invokerType,window_attribution:u.windowAttribution}))},type:"long_task",_dd:{discarded:!1}};e.notify(12,{rawRumEvent:s,startTime:i.relative,duration:n.duration,domainContext:{performanceEntry:n}})}});return{stop:()=>r.unsubscribe()}}a();c();function Ra(e,t){let r=Y(t,{type:A.LONG_TASK,buffered:!0}).subscribe(o=>{for(let n of o){if(n.entryType!==A.LONG_TASK||!t.trackLongTasks)break;let i=Ze(n.startTime),s={date:i.timeStamp,long_task:{id:k(),entry_type:"long-task",duration:h(n.duration)},type:"long_task",_dd:{discarded:!1}};e.notify(12,{rawRumEvent:s,startTime:i.relative,duration:n.duration,domainContext:{performanceEntry:n}})}});return{stop(){r.unsubscribe()}}}a();c();function Oa(){let e={};return{register(t,r){return e[t]||(e[t]=[]),e[t].push(r),{unregister:()=>{e[t]=e[t].filter(o=>o!==r)}}},triggerHook(t,r){let n=(e[t]||[]).map(i=>i(r));return j(...n)}}}a();c();function wa(e){e.register(0,({eventType:t})=>{let r=Jo(),o=Zo();if(!(!r||!o))return{type:t,session:{type:"synthetics"},synthetics:{test_id:r,result_id:o,injected:Bt()}}})}a();c();a();c();function ka(e,t,r){let o=mt(e),n=r(o);return lt(t).forEach(([i,s])=>On(e,o,i.split(/\.|(?=\[\])/),s)),n}function On(e,t,r,o){let[n,...i]=r;if(n==="[]"){Array.isArray(e)&&Array.isArray(t)&&e.forEach((s,u)=>On(s,t[u],i,o));return}if(!(!Na(e)||!Na(t))){if(i.length>0)return On(e[n],t[n],i,o);zd(e,n,t[n],o)}}function zd(e,t,r,o){let n=re(r);n===o?e[t]=U(r):o==="object"&&(n==="undefined"||n==="null")&&(e[t]={})}function Na(e){return re(e)==="object"}var xt={"view.name":"string","view.url":"string","view.referrer":"string"},yt={context:"object"},wn={service:"string",version:"string"},La;function Ma(e,t,r,o,n,i,s,u,l){La={view:{"view.performance.lcp.resource_url":"string",...yt,...xt},error:{"error.message":"string","error.stack":"string","error.resource.url":"string","error.fingerprint":"string",...yt,...xt,...wn},resource:{"resource.url":"string",...Be(fe.WRITABLE_RESOURCE_GRAPHQL)?{"resource.graphql":"object"}:{},...yt,...xt,...wn},action:{"action.target.name":"string",...yt,...xt,...wn},long_task:{"long_task.scripts[].source_url":"string","long_task.scripts[].invoker":"string",...yt,...xt},vital:{...yt,...xt}};let p={error:kr("error",e.eventRateLimiterThreshold,l),action:kr("action",e.eventRateLimiterThreshold,l),vital:kr("vital",e.eventRateLimiterThreshold,l)};t.subscribe(12,({startTime:d,duration:m,rawRumEvent:g,domainContext:S,customerContext:E})=>{let b=n.findView(d),C=i.findUrl(d),R=o.findTrackedSession(d);if(R&&b&&!C&&Be(fe.MISSING_URL_CONTEXT_TELEMETRY)&&he("Missing URL entry",{debug:{eventType:g.type,startTime:d,urlEntries:i.getAllEntries(),urlDeletedEntries:i.getDeletedEntries(),viewEntries:n.getAllEntries(),viewDeletedEntries:n.getDeletedEntries()}}),R&&b&&C){let L=u(),x={_dd:{format_version:2,drift:Bn(),configuration:{session_sample_rate:Je(e.sessionSampleRate,3),session_replay_sample_rate:Je(e.sessionReplaySampleRate,3)},browser_sdk_version:Ie()?"6.6.3":void 0},application:{id:e.applicationId},date:$(),source:"browser",session:{id:R.id,type:"user"},display:s.get(),connectivity:Tr(),context:L.context},T=j(x,r.triggerHook(0,{eventType:g.type,startTime:d,duration:m}),{context:E},g);"has_replay"in T.session||(T.session.has_replay=L.hasReplay),T.type==="view"&&(T.session.sampled_for_replay=R.sessionReplay===1),R.anonymousId&&!L.user.anonymous_id&&e.trackAnonymousUser&&(L.user.anonymous_id=R.anonymousId),ue(L.user)||(T.usr=L.user),!ue(L.account)&&L.account.id&&(T.account=L.account),qd(T,e.beforeSend,S,p)&&(ue(T.context)&&delete T.context,t.notify(13,T))}})}function qd(e,t,r,o){var n;if(t){let s=ka(e,La[e.type],u=>t(u,r));if(s===!1&&e.type!=="view")return!1;s===!1&&I.warn("Can't dismiss view events using beforeSend!")}return!((n=o[e.type])===null||n===void 0?void 0:n.isLimitReached())}a();c();function Da(e,t,r,o){return{context:e.getContext(),user:t.getContext(),account:r.getContext(),hasReplay:o.isRecording()?!0:void 0}}function Xd(e,t,r,o,n,i,s){let u=[],l=new fn,p=Oa();l.subscribe(13,q=>Lt("rum",q));let d=Wd(e);d.setContextProvider(()=>{var q,Qr;return{application:{id:e.applicationId},session:{id:(q=E.findTrackedSession())===null||q===void 0?void 0:q.id},view:{id:(Qr=L.findView())===null||Qr===void 0?void 0:Qr.id},action:{id:Xt.findActionId()}}});let m=q=>{l.notify(14,{error:q}),he("Error reported to customer",{"error.message":q.message})},g=Mo(e),S=g.subscribe(q=>{l.notify(11,q)});u.push(()=>S.unsubscribe());let E=Ie()?ua():ca(e,l,i);if(Ie())pa(l);else{let q=da(e,l,d.observable,m,g,E.expireObservable,n);u.push(()=>q.stop()),xa(e,d,l,q.flushObservable)}let b=Ji(),C=ga(e,location),R=_a(p,e),L=gn(l),x=ma(l,p,C,location),T=Ea(l,p,e),{observable:B,stop:Se}=Qi();u.push(Se);let v=zi(e),pe=qi(e),st=Xi(e),qt=()=>Da(v,pe,st,t),{actionContexts:Xt,addAction:zr,stop:qr}=Jd(l,p,e,E,R,b,B,x,L,qt,m);u.push(qr),Ir();let{addTiming:Xr,startView:Wr,setViewName:Jr,setViewContext:Zr,setViewContextProperty:Wt,getViewContext:Ye,stop:Ve}=aa(l,p,e,location,b,B,C,t,L,o);u.push(Ve);let{stop:ie}=Gs(l,e,R);if(u.push(ie),e.trackLongTasks)if(de(A.LONG_ANIMATION_FRAME)){let{stop:q}=Aa(l,e);u.push(q)}else Ra(l,e);let{addError:Re}=Ls(l,e);rs(l,e,E,qt);let Oe=Di(l,R,s),Pa=es(e.applicationId,E,L,Xt,x);return u.push(()=>r.stop()),{addAction:zr,addError:Re,addTiming:Xr,addFeatureFlagEvaluation:T.addFeatureFlagEvaluation,startView:Wr,setViewContext:Zr,setViewContextProperty:Wt,getViewContext:Ye,setViewName:Jr,lifeCycle:l,viewHistory:L,session:E,stopSession:()=>E.expire(),getInternalContext:Pa.get,startDurationVital:Oe.startDurationVital,stopDurationVital:Oe.stopDurationVital,addDurationVital:Oe.addDurationVital,globalContext:v,userContext:pe,accountContext:st,stop:()=>{u.forEach(q=>q())}}}function Wd(e){let t=vr("browser-rum-sdk",e);if(Ie()){let r=ve();t.observable.subscribe(o=>r.send("internal_telemetry",o))}return t}function Jd(e,t,r,o,n,i,s,u,l,p,d){let m=ws(e,t,i,s,r),g=ha(r),S=Ca(t);return wa(t),Ma(r,e,t,o,l,u,g,p,d),{pageStateHistory:n,addAction:m.addAction,actionContexts:m.actionContexts,stop:()=>{m.stop(),S.stop(),g.stop(),l.stop(),n.stop(),u.stop()}}}a();c();function Zd(e,{session:t,viewContext:r,errorType:o}){let n=t?t.id:"no-session-id",i=[];o!==void 0&&i.push(`error-type=${o}`),r&&(i.push(`seed=${r.id}`),i.push(`from=${r.startClocks.timeStamp}`));let s=Qd(e),u=`/rum/replay/sessions/${n}`;return`${s}${u}?${i.join("&")}`}function Qd(e){let t=e.site,r=e.subdomain||ep(e);return`https://${r?`${r}.`:""}${t}`}function ep(e){switch(e.site){case Ee:case Co:return"app";case Nt:return"dd";default:return}}export{ze as a,be as b,at as c,I as d,Tt as e,ge as f,V as g,$ as h,P as i,It as j,Cp as k,ue as l,xe as m,Ua as n,y as o,Qt as p,D as q,K as r,_ as s,Fe as t,O as u,Rm as v,cr as w,vo as x,Io as y,br as z,xr as A,yr as B,po as C,Z as D,Xe as E,_e as F,J as G,tu as H,U as I,vt as J,ic as K,te as L,oe as M,Uo as N,Vo as O,nu as P,Dt as Q,N as R,ee as S,tt as T,Fo as U,Lt as V,mt as W,j as X,eE as Y,Mt as Z,vr as _,Ir as $,Cr as aa,he as ba,No as ca,Ar as da,z as ea,Bo as fa,di as ga,pi as ha,Rr as ia,ve as ja,Or as ka,Ie as la,Mo as ma,Do as na,wr as oa,$o as pa,Vt as qa,kr as ra,gu as sa,jo as ta,Ft as ua,Yo as va,qo as wa,Ue as xa,rt as ya,Wo as za,Bt as Aa,Jo as Ba,Zo as Ca,tl as Da,Zi as Ea,sn as Fa,an as Ga,A as Ha,de as Ia,is as Ja,ll as Ka,Gh as La,Hh as Ma,ss as Na,w as Oa,dl as Pa,Xh as Qa,bn as Ra,Wh as Sa,xn as Ta,gl as Ua,El as Va,Sl as Wa,Jh as Xa,gs as Ya,Sd as Za,In as _a,An as $a,St as ab,Xd as bb,Zd as cb};
//# sourceMappingURL=chunk-PQWATTJB.js.map
