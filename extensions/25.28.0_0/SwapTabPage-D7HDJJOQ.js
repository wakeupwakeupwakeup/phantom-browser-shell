import{d as Zt,e as jt}from"./chunk-UXK5BE64.js";import"./chunk-C6WZEXJS.js";import{a as Kt}from"./chunk-NJRZV2GW.js";import{a as ve,b as Yt,c as ke}from"./chunk-Q3AAKXVO.js";import{Ca as Ye,Ea as Y,L as $t,R as _t,S as We,Y as Ut,c as Qt,d as de,ea as Ht,la as qt,oa as Gt,ra as Xt,s as Fe}from"./chunk-AMFBRYZX.js";import"./chunk-SERUZOGH.js";import"./chunk-KTETFJNC.js";import{a as Ce}from"./chunk-2ADUYUI4.js";import"./chunk-XQOJIQLP.js";import"./chunk-5JX67CVA.js";import{o as te,q as Qe,s as Xe}from"./chunk-HO7ZJLVP.js";import"./chunk-U2ZBADSX.js";import"./chunk-XBPWOUK6.js";import"./chunk-3A6TGOFP.js";import"./chunk-MWGJZC2B.js";import"./chunk-Y5DSDVWB.js";import"./chunk-Q2CJBZ36.js";import"./chunk-IEC36PYL.js";import"./chunk-RCTFQ5RY.js";import"./chunk-H7XHGTRT.js";import{a as Ge}from"./chunk-FFSCLU3N.js";import{h as j}from"./chunk-6OGAEY46.js";import{f as qe}from"./chunk-ZS5DCR5N.js";import"./chunk-YQDK2KIS.js";import{a as Vt}from"./chunk-B5X6OJ4M.js";import"./chunk-UWMKBOBS.js";import"./chunk-CFJPS3RY.js";import"./chunk-6OURT4HP.js";import{$ as Me,$a as Tt,Aa as Pt,Ba as Ft,Bb as It,Cb as At,Da as Ct,Ea as vt,Eb as He,Fb as Dt,Kb as Nt,Lb as Bt,Nb as Lt,Ob as Et,Ya as kt,Z as Ee,aa as ft,ca as wt,da as tt,ga as St,ha as yt,ma as ht,na as Ue,ta as bt,va as xt}from"./chunk-GWUVAKX4.js";import"./chunk-VGFG26AC.js";import"./chunk-64SFTQTZ.js";import"./chunk-6QNUOYSW.js";import"./chunk-3D6TIEIV.js";import"./chunk-MDYMDZNO.js";import"./chunk-TUQYLFS7.js";import{Ca as Pe,X as gt}from"./chunk-G3SJLT24.js";import"./chunk-DR6UT56S.js";import"./chunk-I4O7QVCI.js";import"./chunk-BDQDDHRI.js";import"./chunk-PRCCLR5N.js";import"./chunk-JHSMRLRR.js";import{c as Ot}from"./chunk-EW3NOMMT.js";import{C as zt,eb as ot,j as Mt,l as Wt,m as U}from"./chunk-AXFDOJRV.js";import"./chunk-HBMWL2L6.js";import"./chunk-TEXQAPAF.js";import"./chunk-HPOIQOE7.js";import"./chunk-RL5NICHE.js";import"./chunk-DZSKJQUR.js";import{c as dt}from"./chunk-IEY2ZFRQ.js";import"./chunk-BCKEKIIT.js";import"./chunk-GYYECUZK.js";import"./chunk-FDJQKATD.js";import"./chunk-OGTXJ4NL.js";import{Cf as $e,Rf as mt,Vd as ct,Yb as lt,lb as he,tb as pe}from"./chunk-MP5PPKB7.js";import"./chunk-LV3AOIIH.js";import{$ as Q,T as et,l as pt}from"./chunk-LT72WXA6.js";import{Ba as I,Da as P,Ha as ie,Ia as c,Ja as F,L as m,Lb as xe,Q as S,c as x,db as ut,hb as R,mb as le,nb as _e,ob as ee,pb as be}from"./chunk-NRW4C74H.js";import"./chunk-2POO4JJE.js";import"./chunk-PQWATTJB.js";import"./chunk-OLIHMAK6.js";import{f as b,h as p,n as l}from"./chunk-YJSZZTEX.js";p();l();var T=b(x());p();l();var L=b(x());p();l();var se=b(x()),_o=se.default.memo(({retryString:e,message:t,errorCode:o,onRetry:r})=>o==="InsufficientSellAmount"?se.default.createElement(c,{width:"100%"},se.default.createElement(xe,{level:"1-critical-alert"},t)):se.default.createElement(c,{gap:10,width:"100%"},se.default.createElement(c,{width:"100%"},se.default.createElement(xe,{level:"2-alert",actions:[{children:e,onPress:r}]},t)))),Jt=se.default.memo(({message:e,errorCode:t,onRetry:o})=>{let{t:r}=S(),n=r("swapQuestionRetry");return se.default.createElement(_o,{retryString:n,message:e,errorCode:t,onRetry:o})});p();l();var Oe=b(x());p();l();var W=b(x());var Rt={disclaimerText:I({textAlign:"left"}),secondaryTooltipText:I({textAlign:"left",marginLeft:4,marginRight:4})},eo=({networkFee:e,tokenAccountFee:t,bridgeFee:o,phantomFeePercent:r,destinationNetworkFee:n,liquidityProviderFee:i})=>W.default.createElement(W.default.Fragment,null,W.default.createElement(ze,{...e}),W.default.createElement(ze,{...o}),W.default.createElement(ze,{...t}),W.default.createElement(ze,{...n}),W.default.createElement(ze,{...i}),r?.value&&W.default.createElement(F,{className:Rt.disclaimerText,font:"captionItalic",color:"textTertiary",children:r.label})),ze=({label:e,maxValueUsd:t,valueUsd:o})=>{let{t:r}=S();return o?W.default.createElement(Qe,null,W.default.createElement(te,null,e,t&&W.default.createElement(W.default.Fragment,null,W.default.createElement(F,{children:` ${r("swapperMax")} \xB7 `,className:Rt.secondaryTooltipText,color:"textTertiary",font:"captionItalic"}),W.default.createElement(de,{color:"textTertiary",font:"captionItalic",minimumResolutionValue:1e-4,value:t}))),W.default.createElement(te,null,W.default.createElement(de,{font:"caption",minimumResolutionValue:1e-4,value:o}))):null};p();l();var ge=b(x());var rt={row:I({display:"flex",flexDirection:"row",minWidth:0}),iconContainer:I({position:"relative",top:1,marginLeft:4})},to=({label:e,tooltipContent:t,isLoading:o,value:r,disabled:n,onClick:i,accessoryIcon:s})=>{let a=s?ge.default.createElement("span",null,s==="chevron-right"?ge.default.createElement(ie.ChevronRight,{className:rt.iconContainer,color:"textSecondary",size:16}):ge.default.createElement(ie.Swap,{className:rt.iconContainer,color:"textSecondary",size:16})):null;return ge.default.createElement(ve,{label:e,tooltipContent:t,isLoading:o,onClick:n?void 0:i},ge.default.createElement("div",{className:rt.row},ge.default.createElement(ke,null,r),n?null:a))};p();l();var $=b(x());var oo=({label:e,value:t,tooltipContent:o,onClick:r})=>{let[n,i]=(0,$.useState)(t),[s,a]=(0,$.useState)(!1),f=(0,$.useRef)(!1);(0,$.useEffect)(()=>{if(t===n)return;if(f.current){f.current=!1,i(t);return}a(!0);let w=setTimeout(()=>{let v=setTimeout(()=>{a(!1),i(t)},150);return()=>clearTimeout(v)},150);return()=>clearTimeout(w)},[n,t]);let d=(0,$.useMemo)(()=>s?$.default.createElement(Ce,{width:"75px",height:"15px",borderRadius:"50px",backgroundColor:P.colors.legacy.borderSecondary}):$.default.createElement(ke,{onClick:()=>{r&&(f.current=!0,r())}},n),[s,r,n]);return $.default.createElement(c,{direction:"row",gap:16,backgroundColor:"bgRow",padding:16,alignItems:"center",justifyContent:"space-between"},$.default.createElement(Xe,{tooltipAlignment:"topLeft",iconSize:12,lineHeight:17,fontWeight:400,info:o?$.default.createElement(Yt,{tooltipContent:o}):null,textColor:P.colors.legacy.textPrimary},e),d)};p();l();var ro=b(x()),no=e=>{switch(e.type){case"provider":return{type:"generic",label:m.t("swapFeesProvider"),isLoading:e.isFetchingQuote,value:e.provider,tooltipContent:m.t("swapFeesProviderDisclaimer")};case"providerPressable":return{type:"generic",label:m.t("swapFeesProvider"),isLoading:e.isFetchingQuote,value:e.provider,accessoryIcon:"chevron-right",disabled:!e.selectProviderEnabled,onClick:e.showProviders,tooltipContent:m.t("swapFeesProviderDisclaimer")};case"exchangeRate":return{type:"generic",label:m.t("swapFeesRate"),tooltipContent:m.t("swapFeesRateDisclaimerMultichain"),isLoading:e.isFetchingQuote,value:e.exchangeRate.rate,onClick:e.exchangeRate.flip,accessoryIcon:"swap"};case"pricing":return{type:"generic",label:m.t("swapFeesPricing"),tooltipContent:m.t("swapFeesRateDisclaimerMultichain"),value:e.exchangeRate.rate,isLoading:e.isFetchingQuote,accessoryIcon:"chevron-right",onClick:e.showSwapPricing};case"slippage":return{type:"generic",isLoading:e.isFetchingQuote,label:m.t("swapFeesSlippage"),value:e.slippage?`${e.slippage.prefix}${e.slippage.text}`:void 0,tooltipContent:m.t("swapFeesHighSlippageDisclaimer",{slippage:e.slippage?.percentage})};case"slippagePressable":return{type:"generic",isLoading:e.isFetchingQuote,label:m.t("swapFeesSlippage"),value:e.slippage?`${e.slippage.prefix}${e.slippage.text}`:void 0,tooltipContent:m.t("swapFeesHighSlippageDisclaimer",{slippage:e.slippage?.percentage}),onClick:e.showSwapSettings,accessoryIcon:"chevron-right"};case"priceImpact":return{type:"generic",isLoading:e.isFetchingQuote,value:e.priceImpact?.text,label:m.t("swapFeesPriceImpact"),tooltipContent:m.t("swapFeesPriceImpactDisclaimer")};case"network":return{type:"generic",isLoading:e.isFetchingQuote,label:m.t("nounNetwork"),value:`${e.sellNetwork} \u2794 ${e.buyNetwork}`};case"executionDuration":return{type:"generic",isLoading:e.isFetchingQuote,label:m.t("swapEstimatedTimeShort"),value:e.uiEstimatedTime,tooltipContent:m.t("swapEstimatedTimeDisclaimer")};case"fees":return{type:"generic",label:m.t("swapFeesFees"),isLoading:e.isFetchingQuote||e.fees.isFetchingFees,value:ro.default.createElement(de,{font:"caption",value:e.fees.totalFees.amountUsd})};case"highPriceImpact":return{type:"warning",isLoading:e.isFetchingQuote,value:e.priceImpact?.text,label:m.t("swapFeesHighPriceImpact"),tooltipContent:m.t("swapFeesPriceImpactDisclaimer")};case"highSlippage":return{type:"warning",isLoading:e.isFetchingQuote,value:e.slippage?.text,label:m.t("swapFeesHighSlippage"),tooltipContent:m.t("swapFeesHighSlippageDisclaimer",{slippage:e.slippage?.percentage})};case"transferFees":return{type:"warning",isLoading:e.isFetchingQuote,value:`${e.transferFees.totalPercentFees}%`,label:m.t("swapTransferFee"),tooltipContent:e.transferFees.fees.length>1?m.t("swapTransferFeeDisclaimerMany",{feePercent:e.transferFees.totalPercentFees}):m.t("swapTransferFeeDisclaimer",{symbol:e.transferFees.fees[0].symbol,feePercent:e.transferFees.fees[0].percentFee})}}};p();l();var Ke=b(x());var ao=({label:e,tooltipContent:t,isLoading:o,value:r})=>Ke.default.createElement(ve,{label:e,icon:Ke.default.createElement(zt,{width:"14",height:"14",fill:P.colors.legacy.bgWallet}),tooltipContent:t,customBackground:P.colors.legacy.accentWarning,color:P.colors.legacy.bgWallet,isLoading:o},Ke.default.createElement(ke,{color:P.colors.legacy.bgWallet},r));var io=e=>{let t=no(e);switch(t?.type){case"generic":let o=t,r=e.type==="fees"?e.feeBreakdown&&Oe.default.createElement(eo,{...e.feeBreakdown}):o.tooltipContent;return e.rowDisplayStrategy===0?Oe.default.createElement(to,{tooltipContent:r,...t}):Oe.default.createElement(oo,{tooltipContent:r,...t});case"warning":return Oe.default.createElement(ao,{...t});default:return null}};var qo=e=>{let{t}=S(),{handleShowModalVisibility:o}=Y(),r=(0,L.useCallback)(()=>{o("swapProviders",void 0,{event:"showSwapModal",payload:{data:{uiContext:"SwapProviders"}}})},[o]),n=(0,L.useCallback)(()=>{o("swapSettings")},[o]),i=(0,L.useCallback)(()=>{o("swapPricingLegacy")},[o]),s=At({isSwapReview:e,showProviders:r,showSwapSettings:n,showSwapPricing:i}),{exchangeRate:a,fees:f}=s,d=a.rate?a.isBestRate?P.colors.legacy.accentSuccess:P.colors.legacy.textPrimary:"",w=Ct(f);return{...s,exchangeRateColor:d,feeBreakdown:w,isSwapReview:e,showSwapProvidersModal:r,t}},Go=L.default.memo(({displayPhantomFeeRow:e,fees:t,isFetchingQuote:o,rows:r,t:n,sharedRowProps:i,rowDisplayStrategy:s})=>{let a=!!t.phantomFee.pct,f=(0,L.useMemo)(()=>{switch(s){case 1:return e&&a;case 0:return e&&a&&!o}},[o,e,a,s]),d=r.map((w,v)=>L.default.createElement(io,{key:`r-${v}`,...i,type:w,rowDisplayStrategy:s}));return L.default.createElement(c,{gap:1,width:"100%"},L.default.createElement(c,{borderTopRadius:8,borderBottomRadius:8,gap:1,overflow:"hidden"},d),f?L.default.createElement(c,{borderBottomRadius:8,overflow:"hidden"},L.default.createElement(ve,{customBackground:P.colors.legacy.bgWallet,fontWeight:400,lineHeight:18,label:n("swapQuoteFeeDisclaimer",{feePercentage:Q(t.phantomFee.pct)}),tooltipContent:n("swapFeesPhantomFeeDisclaimer",{feePercentage:Q(t.phantomFee.pct)}),color:P.colors.legacy.textSecondary})):null)}),Xo=({isSwapReview:e,rowDisplayStrategy:t})=>{let o=qo(e);return L.default.createElement(Go,{...o,rowDisplayStrategy:t})},so={direction:"row",marginY:10,width:"100%"},po=({isSwapReview:e,rowDisplayStrategy:t})=>{let o=Ee(s=>s.hasNoRoutes),r=Ee(s=>s.error),{clearQuotes:n}=ht(),i=(0,L.useCallback)(()=>{n()},[n]);return r&&o?L.default.createElement(c,{...so},L.default.createElement(Jt,{message:r.message,errorCode:r.code,onRetry:i})):L.default.createElement(c,{...so},L.default.createElement(Xo,{isSwapReview:e,rowDisplayStrategy:t??0}))};p();l();var H=b(x());p();l();var D=b(x());p();l();var Yo=b(x());var oe=U.div`
  display: flex;
  align-items: center;
  height: 36px;
  input {
    font-size: ${e=>e.fontSize??34}px;
    line-height: 1;
    font-weight: 600;
    padding: 0;
    background: none;
  }
`,Qn=U.div`
  width: 100%;
  margin-top: 11px;
  margin-bottom: 10px;
`;var Wn=U.div`
  color: ${P.colors.legacy.accentPrimary};
  font-size: 14px;
  font-weight: 400;
  white-space: nowrap;
  cursor: pointer;
  margin-left: 5px;
  border-radius: 8px;
  padding: 8px;
  &:hover {
    background-color: ${P.colors.legacy.bgButton};
  }
`;p();l();var _=b(x()),re=({input:e,isLoading:t,onSelectorPress:o,perspective:r,selectorIcon:n,selectorLabel:i,spamStatus:s,accessories:a,footer:f})=>{let{t:d}=S(),w=d(r==="buy"?"swapAssetCardBuyTitle":"swapAssetCardSellTitle"),v=(0,_.useMemo)(()=>{if(a)return _.default.createElement(c,{display:"flex",direction:"row",alignItems:"center",gap:6,marginTop:6},a)},[a]);(0,_.useEffect)(()=>{r==="buy"?Me.markFrame("buyTokenUpdated"):Me.markFrame("sellTokenUpdated")},[i,r]);let C=_.default.createElement(c,{display:"flex",direction:"column",gap:0,backgroundColor:"bgRow",borderRadius:"table",padding:20},_.default.createElement(F,{font:"labelSemibold",color:"textTertiary",children:w}),_.default.createElement(c,{display:"flex",direction:"row",alignItems:"center",minHeight:48},e,_.default.createElement(c,{flex:1}),t?_.default.createElement(ee,{width:112,height:24}):_.default.createElement(c,{onPress:o,display:"flex",gap:8,direction:"row",backgroundColor:{base:"gray",hover:"borderPrimary"},paddingY:4,paddingLeft:4,paddingRight:8,alignItems:"center",borderRadius:"full",cursor:"pointer",testID:`${r}-token-button`},n,_.default.createElement(Qt,{spamStatus:s,children:i,font:"captionSemibold"}),_.default.createElement(ie.ChevronDown,{size:14}))),v);return Ko(C,f)},Ko=(e,t)=>t?_.default.createElement(c,{direction:"column",backgroundColor:"bgRow",borderRadius:"table"},e,t):e;p();l();var ce=b(x()),lo=({warnings:e})=>{let{t}=S();if(e.length===0)return null;let o=e[0],r=s=>{switch(s.level){case"warn":return{backgroundColor:"accentWarning",textColor:"bgWallet"};case"info":return{backgroundColor:"bgRow",textColor:"textPrimary"}}},{backgroundColor:n,textColor:i}=r(o);return ce.default.createElement(ce.default.Fragment,null,ce.default.createElement(c,{width:"100%",height:1,backgroundColor:"bgWallet"}),ce.default.createElement(c,{gap:8,direction:"row",backgroundColor:n,padding:"screen",borderBottomRadius:"table"},ce.default.createElement(c,{flexShrink:0},ce.default.createElement(ie.AlertTriangle,{color:i,size:18})),ce.default.createElement(F,{flexShrink:1,font:"caption",color:i,children:t(o.titleKey,o.options)})))};p();l();var Te="_4ag7710",co=32,mo="_4ag7712 _4ag7711 _51gaznxf _51gazn13m _51gaznyw";p();l();var me=b(x()),uo={secondaryContainer:I({display:"flex",flexDirection:"row",alignItems:"center",gap:6}),pointer:I({cursor:"pointer"})},go=({isLoading:e,usdAmount:t,cryptoSubtitle:o,supportsCurrencyDenominationSwitching:r,switchCurrencyDenomination:n})=>{let i=Ee(a=>a.primaryCurrency),s=(0,me.useMemo)(()=>e?me.default.createElement(ee,{width:40,height:18,borderRadius:12,testID:"secondary-price-loader"}):i==="crypto"&&t!==void 0?me.default.createElement(de,{font:"caption",color:"textSecondary",value:t,intlNumberFormatOptions:{notation:"compact"}}):i==="fiat"&&o?me.default.createElement(F,{font:"caption",color:"textSecondary",children:o}):null,[o,i,e,t]);return me.default.createElement("div",{className:uo.secondaryContainer,onClick:n},s,r?me.default.createElement(R,{icon:"SwapVertical",size:20,shape:"circle",backgroundColor:{base:"gray",hover:"borderPrimary"},color:"textSecondary",className:uo.pointer}):null)};var nt={filters:I({display:"flex",flexDirection:"row",alignItems:"center",gap:4,marginLeft:2}),currencyPrefix:I({marginRight:2}),accessoryContainer:I({alignItems:"center",display:"flex",flexDirection:"row",gap:6,marginTop:6}),spacer:I({flex:1})},fo=({asset:e,perspective:t,onInputChange:o,onFungibleTap:r,onFilterTap:n,switchCurrencyDenomination:i,onBalanceTap:s})=>{let{amount:a,balance:f,fungible:d,isAmountEditable:w,isAmountLoading:v,isSecondaryCryptoSubtitleLoading:C,isWarning:g,secondaryCryptoSubtitle:y,amountPrefix:k,selectedFilter:u,filters:A,supportsCurrencyDenominationSwitching:Z,usdAmount:ae}=e,{t:B}=S(),Se=D.default.createElement(Fe,{image:{type:"fungible",src:d.data?.logoUri,fallback:d.data?.symbol||d.data?.tokenAddress},size:32,tokenType:d.type,chainMeta:d.data?.chain}),Ne=V=>V.length>16?16:V.length>14?18:V.length>12?20:22,Be=(0,D.useMemo)(()=>{let V=Ne(a);return v?D.default.createElement(ee,{width:100,height:18,borderRadius:12}):D.default.createElement(oe,{hasWarning:g,fontSize:V},D.default.createElement(F,{font:"heading3",children:k,className:nt.currencyPrefix}),D.default.createElement(j,{name:"amount",border:"0",placeholder:"0",warning:g,value:a,decimalLimit:d.data?.decimals,disabled:!w,onUserInput:o}))},[v,g,k,a,d.data?.decimals,w,o]),Le=(0,D.useMemo)(()=>D.default.createElement(go,{isLoading:C,usdAmount:ae,cryptoSubtitle:y,supportsCurrencyDenominationSwitching:Z,switchCurrencyDenomination:i}),[C,ae,y,Z,i]),ye=(0,D.useMemo)(()=>{let V=X=>{switch(X){case .25:return"25%";case .5:return"50%";case 1:return B("swapAssetCardMaxButton")}};return A.map(X=>D.default.createElement(le,{key:X,active:X===u,children:V(X),onChange:()=>n(X),className:Te}))},[A,B,u,n]),Je=(0,D.useMemo)(()=>D.default.createElement(D.default.Fragment,null,Le,D.default.createElement("div",{className:nt.spacer}),D.default.createElement(F,{font:"caption",color:{base:"textSecondary",hover:s?"textPrimary":void 0},children:f,onPress:s}),D.default.createElement("div",{className:nt.filters},ye)),[f,ye,s,Le]),Re=(0,D.useMemo)(()=>{if(e.warnings.length!==0)return D.default.createElement(lo,{warnings:e.warnings})},[e.warnings]);return D.default.createElement(re,{perspective:t,input:Be,selectorIcon:Se,selectorLabel:d.data?.symbol??"",spamStatus:d.data?.spamStatus,onSelectorPress:r,accessories:Je,footer:Re})};p();l();var Ie=b(x());var wo=({onSelectorTap:e,perspective:t})=>{let{t:o}=S();return Ie.default.createElement(re,{perspective:t,input:Ie.default.createElement(oe,{hasWarning:!1,fontSize:32},Ie.default.createElement(j,{name:"amount",border:"0",placeholder:"0",warning:!1,value:"",decimalLimit:0,disabled:!0,onUserInput:()=>{}})),selectorIcon:Ie.default.createElement(R,{icon:"Plus",size:28,shape:"circle",color:"textPrimary",backgroundColor:"bgArea"}),selectorLabel:o("commandSelect"),spamStatus:null,onSelectorPress:e,accessories:Ie.default.createElement(F,{font:"caption",color:"textSecondary",children:"$0"})})};p();l();var E=b(x());var at={filters:I({display:"flex",flexDirection:"row",alignItems:"center",gap:4,marginLeft:2}),secondaryContainer:I({display:"flex",flexDirection:"row",alignItems:"center",gap:6}),currencyPrefix:I({marginRight:2}),accessoryContainer:I({alignItems:"center",display:"flex",flexDirection:"row",gap:6,marginTop:6}),spacer:I({flex:1})},Zo=[.5,1],So=({perspective:e})=>{let{t}=S(),o=(0,E.useMemo)(()=>{let s=Number(P.typography.font.heading3.fontSize.replace("px",""));return E.default.createElement(oe,{fontSize:s},E.default.createElement(j,{name:"amount",border:"0",placeholder:"0",warning:!1,value:e==="sell"?"":"0",onUserInput:()=>{}}))},[e]),r=(0,E.useMemo)(()=>E.default.createElement(F,{font:"caption",color:"textSecondary",children:"$0"}),[]),n=(0,E.useMemo)(()=>{let s=a=>{switch(a){case .25:return"25%";case .5:return"50%";case 1:return t("swapAssetCardMaxButton")}};return Zo.map(a=>E.default.createElement(le,{active:!1,children:s(a),onChange:()=>{},className:Te}))},[t]),i=(0,E.useMemo)(()=>E.default.createElement(E.default.Fragment,null,E.default.createElement("div",{className:at.secondaryContainer},r,e==="sell"?E.default.createElement(R,{icon:"SwapVertical",size:20,shape:"circle",backgroundColor:"gray",color:"textSecondary"}):null),E.default.createElement("div",{className:at.spacer}),E.default.createElement(be,{font:"caption",width:64}),e==="sell"?E.default.createElement("div",{className:at.filters},n):null),[n,r,e]);return E.default.createElement(re,{spamStatus:null,perspective:e,input:o,isLoading:!0,selectorIcon:null,selectorLabel:"",onSelectorPress:()=>{},accessories:i})};var yo={container:I({display:"flex",flexDirection:"column",flex:1}),assets:I({gap:12,display:"flex",flexDirection:"column"})},ho=({onSelectAsset:e,isLoadingInitialAssets:t})=>{let{buy:o,sell:r,switchPerspective:n,setAmount:i,switchCurrencyDenomination:s,setFilter:a}=Ft(),{t:f}=S(),d=(0,H.useCallback)(C=>{Me.startTrace("switchButtonClick",C),n()},[n]),w=(0,H.useCallback)(async(C,g)=>{await dt.capture("swapperSwapDefaultQuoteSelected",{data:{quotePercentageValue:C}}),a(C,g)},[a]),v=(0,H.useMemo)(()=>[{perspective:"sell",asset:r},{perspective:"buy",asset:o}].map(({asset:C,perspective:g})=>{if(!C)return H.default.createElement(wo,{key:g+"select",perspective:g,onSelectorTap:()=>e(g)});if(t)return H.default.createElement(So,{key:g+"loading",perspective:g});let y=C.filters.length>0?()=>a(1,g):void 0,k=H.default.createElement(fo,{key:g,asset:C,perspective:g,switchCurrencyDenomination:s,onFungibleTap:()=>e(g),onInputChange:u=>{i(g,u)},onFilterTap:u=>w(u,g),onBalanceTap:y});return g==="buy"?H.default.createElement(c,{position:"relative",key:g+"swap-button"},k,H.default.createElement("div",{className:mo,style:{pointerEvents:"none"}},H.default.createElement(_e,{label:f("swapperSwitchTokens"),size:co,shape:"circle",onClick:d,backgroundColor:{base:"accentPrimary",hover:"accentPrimaryLight"},icon:"SwapVertical"}))):k}),[r,o,t,s,w,e,i,a,d,f]);return H.default.createElement("div",{className:yo.container},H.default.createElement("div",{className:yo.assets},v))};p();l();var O=b(x());var jo=O.default.memo(({rankAlgo:e,limit:t})=>{let{t:o}=S(),r=ct(),n=We(u=>u.sortBy),i=We(u=>u.sortDirection),s=We(u=>u.timeFrame),a=We(u=>u.network),{data:f,error:d,isLoading:w,refetch:v}=Tt({sortBy:n,sortDirection:i,timeFrame:s,limit:t,rankAlgo:e,network:a}),{pushDetailView:C}=qe(),g=(0,O.useCallback)(({item:u,index:A})=>{let Z=pe({chainId:u.chainId,address:u.address,resourceType:"address"});r.capture("onExploreListItemClickedByUser",{data:{explore:{context:"swap",listName:"tokens",itemDetails:{position:A,title:u.name||u.symbol,id:`${u.address}-${u.chainId}`}}}}),C(O.default.createElement(Ye,{caip19:Z,title:u.name??void 0,entryPoint:"exploreInSwap"}))},[r,C]),y=!!d||f?.items.length===0,k=w||typeof f>"u";return O.default.createElement(c,{direction:"column",paddingTop:24,flex:1,width:"100%"},O.default.createElement(c,{paddingX:"screen",paddingBottom:10},O.default.createElement(F,{font:"title2",color:"textPrimary"},o("exploreTokens"))),O.default.createElement(qt,{isError:y,isLoading:k,refetch:v,filters:O.default.createElement(Zt,null),listHeader:O.default.createElement(Ut,null),rows:(f?.items??[]).map((u,A)=>({...Ht({item:u,sortBy:n,image:O.default.createElement(jt,{index:A,displayRank:!0,image:O.default.createElement(Fe,{image:{type:"fungible",src:u.logoUrl,fallback:u.symbol||u.name},size:48,badge:{type:"network",preset:he.getChainID(u.chainId)}})}),t:o}),onClick:()=>g({item:u,index:A})}))}))});function Jo(){let e=kt("tokens");return e?O.default.createElement(_t,{sortByOptions:e.sortBy,sortBy:e.sortByDefault,sortDirection:e.sortDirectionDefault,networkOptions:e.network,network:e.networkDefault,timeFrameOptions:e.timeFrame,timeFrame:e.timeFrameDefault},O.default.createElement(jo,{rankAlgo:e.rankAlgo,limit:10})):null}var Ze=O.default.memo(Jo);p();l();var Po=b(x());p();l();var bo=b(x());var Ro={autoSlippageOptIn:"autoSlippageOptIn"},xo=()=>{let{handleShowModalVisibility:e}=Y();return(0,bo.useCallback)(t=>{let o=Ro[t];if(!o)throw new Error(`Swap review interceptor modal not found or configured for ${t}.`);e(o)},[e])};var Fo=()=>{let{goToInsufficientBalance:e,goToSwapTermsOfService:t,goToConfirmation:o}=Kt(),r=xo(),{disabled:n,title:i,type:s,onClick:a}=It({goToInsufficientBalance:e,goToSwapTermsOfService:t,goToConfirmation:o,showOverlay:r,showFungibleDetails:()=>{},showBuyFungibleScreen:()=>{},navigateToSwapper:()=>{}});function f(d){return d==="primary"?"primary":d==="alert"?"warning":"default"}return Po.default.createElement(Ot,{type:"submit",theme:f(s),disabled:n,onClick:a,width:"90%"},i)};p();l();var fe=b(x());p();l();var K=b(x());var er=U.div`
  overflow-y: "scroll";
  padding-top: 16px;
`,tr=U.fieldset.attrs({disabled:!0})`
  pointer-events: none;
  user-select: none;
`,or=U.div`
  position: absolute;
  z-index: 1;
  top: 0;
  height: 100vh;
  width: 100%;
  background-color: ${et(P.colors.legacy.bgWallet,.75)};
`,Co=U.div`
  background-color: ${et(P.colors.brand.yellowMoon,.7)};
  padding: 12px 15px;
  position: absolute;
  /* TODO: change 15px to 16px and create a screen padding constant like on mobile */
  top: -15px;
  left: -15px;
  right: 15px;
  width: calc(100% + 2 * 15px);
`,vo=U(ot).attrs({size:14,lineHeight:19,weight:500,color:P.colors.legacy.textPrimary,textAlign:"left"})``,Ae=({message:e,swapDisabled:t=!0,children:o})=>t?K.default.createElement(K.default.Fragment,null,K.default.createElement(or,{"data-testid":"disable-overlay"},K.default.createElement(Co,null,K.default.createElement(vo,null,e))),K.default.createElement(tr,{"data-testid":"disable-wrapper"},o)):K.default.createElement(er,null,K.default.createElement(Co,null,K.default.createElement(vo,null,e)),K.default.createElement(K.default.Fragment,null,o));var rr=U.div`
  display: flex;
  flex: 1;
  padding-bottom: 16px;
  margin-bottom: -16px; // fix extension padding issue when scrollable or not
`,ko=fe.default.memo(({children:e})=>{let t=$e(),o=t.every(a=>he.isMainnetNetworkID(a)),n=Ue().some(a=>t.includes(a)),{t:i}=S(),s=(0,fe.useMemo)(()=>({availableOnlyOnMainnet:i("swapAvailableOnMainnet"),notAvailableOnSelectedNetwork:i("swapNotAvailableOnSelectedNetwork")}),[i]);return o?n?fe.default.createElement(rr,null,e):fe.default.createElement(Ae,{message:s.notAvailableOnSelectedNetwork,swapDisabled:!0},e):fe.default.createElement(Ae,{message:s.availableOnlyOnMainnet,swapDisabled:!0},e)});p();l();var J=b(x());p();l();var To="f8uvp90";var Io="f8uvp92 f8uvp91 _51gaznxf _51gazn13m _51gaznyw",Ao="f8uvp93";p();l();var q=b(x());p();l();var N=b(x());p();l();var ne=b(x()),Do=({warnings:e})=>{let{t}=S(),o=e[0],{backgroundColor:r,textColor:n}=(0,ne.useMemo)(()=>{if(!o)return{backgroundColor:"bgRow",textColor:"textPrimary"};switch(o.level){case"warn":return{backgroundColor:"accentWarning",textColor:"bgWallet"};case"info":return{backgroundColor:"bgRow",textColor:"textPrimary"}}},[o]);return e.length===0?null:ne.default.createElement(ne.default.Fragment,null,ne.default.createElement(c,{width:"100%",height:1,backgroundColor:"bgWallet"}),ne.default.createElement(c,{gap:8,direction:"row",backgroundColor:r,padding:"screen",borderBottomRadius:"table"},ne.default.createElement(c,{flexShrink:0},ne.default.createElement(ie.AlertTriangle,{color:n,size:18})),ne.default.createElement(F,{flexShrink:1,font:"caption",color:n,children:t(o.titleKey,o.options)})))};p();l();var Ve=b(x()),No=({isLoading:e,secondaryAmount:t,supportsCurrencyDenominationSwitching:o,switchCurrencyDenomination:r})=>{if(e)return Ve.default.createElement(ee,{width:40,height:18,borderRadius:12,testID:"secondary-price-loader"});let n=t?Ve.default.createElement(F,{font:"caption",color:"textSecondary",children:t}):null;return o?Ve.default.createElement(c,{direction:"row",alignItems:"center",gap:6,cursor:"pointer",onPress:r},n,Ve.default.createElement(R,{icon:"SwapVertical",size:20,shape:"circle",backgroundColor:{base:"gray",hover:"borderPrimary"},color:"textSecondary"})):n};var Bo=({asset:e,perspective:t,currentPercentage:o,onPercentageTap:r,onInputChange:n,onFungibleTap:i,switchCurrencyDenomination:s,onBalanceTap:a})=>{let{amount:f,balance:d,fungible:w,isAmountEditable:v,isAmountLoading:C,isSecondaryAmountLoading:g,hasAmountWarning:y,secondaryAmount:k,amountPrefix:u,percentages:A,supportsCurrencyDenominationSwitching:Z,warnings:ae}=e,{t:B}=S(),Se=N.default.createElement(Fe,{image:{type:"fungible",src:w.data?.logoUri,fallback:w.data?.symbol||w.data?.tokenAddress},size:32,tokenType:w.type,chainMeta:w.data?.chain}),Ne=V=>V.length>16?16:V.length>14?18:V.length>12?20:22,Be=(0,N.useMemo)(()=>{let V=Ne(f);return C?N.default.createElement(ee,{width:100,height:18,borderRadius:12}):N.default.createElement(oe,{hasWarning:y,fontSize:V},u&&N.default.createElement(F,{font:"heading3",children:u,marginRight:2}),N.default.createElement(j,{name:"amount",border:"0",placeholder:"0",warning:y,value:f,decimalLimit:w.data?.decimals,disabled:!v,onUserInput:n}))},[C,y,u,f,w.data?.decimals,v,n]),Le=(0,N.useMemo)(()=>N.default.createElement(No,{isLoading:g,secondaryAmount:k,supportsCurrencyDenominationSwitching:Z,switchCurrencyDenomination:s}),[g,k,Z,s]),ye=(0,N.useMemo)(()=>{let V=X=>{switch(X.percentage){case .25:return"25%";case .5:return"50%";case 1:return B("swapAssetCardMaxButton")}};return A.map(X=>N.default.createElement(le,{key:X.percentage,active:X.percentage===o?.percentage,children:V(X),onChange:()=>r(X),className:Te}))},[A,B,o,r]),Je=(0,N.useMemo)(()=>N.default.createElement(N.default.Fragment,null,Le,N.default.createElement(c,{flex:1}),d&&N.default.createElement(F,{font:"caption",color:{base:"textSecondary",hover:a?"textPrimary":void 0},children:d,onPress:a}),ye&&N.default.createElement(c,{direction:"row",alignItems:"center",gap:4,marginLeft:2},ye)),[d,ye,a,Le]),Re=(0,N.useMemo)(()=>{if(ae.length!==0)return N.default.createElement(Do,{warnings:ae})},[ae]);return N.default.createElement(re,{perspective:t,input:Be,selectorIcon:Se,selectorLabel:w.data?.symbol??"",spamStatus:w.data?.spamStatus,onSelectorPress:i,accessories:Je,footer:Re})};p();l();var M=b(x());var nr=[.5,1],Lo=({perspective:e})=>{let{t}=S(),o=(0,M.useMemo)(()=>{let s=Number(P.typography.font.heading3.fontSize.replace("px",""));return M.default.createElement(oe,{fontSize:s},M.default.createElement(j,{name:"amount",border:"0",placeholder:"0",warning:!1,value:e==="sell"?"":"0",onUserInput:()=>{}}))},[e]),r=(0,M.useMemo)(()=>M.default.createElement(F,{font:"caption",color:"textSecondary",children:"$0"}),[]),n=(0,M.useMemo)(()=>{let s=a=>{switch(a){case .25:return"25%";case .5:return"50%";case 1:return t("swapAssetCardMaxButton")}};return nr.map(a=>M.default.createElement(le,{active:!1,children:s(a),onChange:()=>{},className:To}))},[t]),i=(0,M.useMemo)(()=>M.default.createElement(M.default.Fragment,null,M.default.createElement(c,{direction:"row",alignItems:"center",gap:6},r,e==="sell"?M.default.createElement(R,{icon:"SwapVertical",size:20,shape:"circle",backgroundColor:"gray",color:"textSecondary"}):null),M.default.createElement(c,{flex:1}),M.default.createElement(be,{font:"caption",width:64}),e==="sell"?M.default.createElement(c,{direction:"row",alignItems:"center",gap:4,marginLeft:2},n):null),[n,r,e]);return M.default.createElement(re,{spamStatus:null,perspective:e,input:o,isLoading:!0,selectorIcon:null,selectorLabel:"",onSelectorPress:()=>{},accessories:i})};var ar=32,Eo=({isInitializingTokens:e,tokens:t,currentSellPercentage:o,setInputAmount:r,setSellPercentage:n,setInputPerspective:i,switchCurrencyDenomination:s,switchTokens:a,onSelectToken:f})=>{let{t:d}=S(),w=(0,q.useCallback)(y=>{let k=y.percentages.find(u=>u.percentage===1);k&&n(k,y.fungible)},[n]),v=(0,q.useCallback)(y=>{f(y)},[f]),C=(0,q.useCallback)((y,k)=>{n(y,k)},[n]),g=(0,q.useMemo)(()=>["sell","buy"].map(y=>{let k=t.find(A=>A.perspective===y);if(!k||e)return q.default.createElement(Lo,{key:`loading-${y}`,perspective:y});let u=q.default.createElement(Bo,{key:y,asset:k,perspective:y,switchCurrencyDenomination:s,currentPercentage:o,onFungibleTap:()=>v(y),onPercentageTap:A=>C(A,k.fungible),onInputChange:A=>{i(y),r(A,y)},onBalanceTap:()=>w(k)});return y==="buy"?q.default.createElement(c,{position:"relative",key:y+"-swap-button"},u,q.default.createElement("div",{className:Io,style:{pointerEvents:"none"}},q.default.createElement(_e,{label:d("swapperSwitchTokens"),size:ar,shape:"circle",onClick:a,backgroundColor:{base:"accentPrimary",hover:"accentPrimaryLight"},icon:"SwapVertical"}))):u}),[t,e,s,o,v,C,r,i,w,d,a]);return q.default.createElement(c,{display:"flex",direction:"column",flex:1,paddingX:"screen",paddingTop:"screen"},q.default.createElement(c,{display:"flex",direction:"column",gap:12},g))};p();l();var ue=b(x());var Mo=({swapMode:e,quotedAmounts:t,tokenState:o,inputErrors:r,quoteProcessorState:n,currentPerspective:i,sellPercentages:s,onPress:a,resetSwapper:f})=>{let d=Xt(),{handleShowModalVisibility:w}=Y(),{pushDetailView:v}=qe(),C=(0,ue.useCallback)(B=>{let Se=pe(Pe(B));v(ue.default.createElement(Ye,{caip19:Se,title:B.data.name??void 0,entryPoint:"exploreInSwap"}))},[v]),{openBuy:g}=$t({caip19:ir(o)||"",context:"modal",analyticsEvent:"fiatOnrampFromInsufficientBalance"}),y=(0,ue.useCallback)(B=>{d({sellFungible:B.sell,buyFungible:B.buy,sellAmount:B.amount.amount})},[d]),k=(0,ue.useCallback)((B,Se)=>{let Ne=B.networkId,Be={balance:B.balance,required:B.required};w("insufficientBalance",{networkId:Ne,token:Be},{event:"showSwapModal",payload:{data:{uiContext:"InsufficientBalance"}}})},[w]),{buttonState:u,swap:A}=Et({swapMode:e,quotedAmounts:t,tokenState:o,inputErrors:r,quoteProcessorState:n,currentPerspective:i,sellPercentages:s,showFungibleDetails:C,showBuyFungibleScreen:g,retryAndNavigateToSwapper:y,resetSwapper:f,goToInsufficientFunds:k}),Z=(0,ue.useCallback)(()=>{a?.(),A()},[a,A]);return["idle","error"].includes(n.type)?null:ue.default.createElement(ut,{theme:u.type==="insufficientBalance"?"destructive":["untradable"].includes(u.type)?"secondary":"primary",disabled:u.type!=="tradable",onPress:Z},u.label)};function ir(e){if(!(e.type!=="pair"&&e.type!=="refreshing"))return pe(Pe(e.sellToken))}p();l();var z=b(x());p();l();var it=b(x());var Qo=({phantom:e,gasless:t})=>it.default.createElement(c,{paddingY:16,paddingX:32},it.default.createElement(Xe,{tooltipAlignment:"topLeft",iconSize:12,lineHeight:17,fontWeight:500,noWrap:!1,showInfoIcon:!1,info:t?m.t("swapFeesPhantomFeeGaslessDisclaimer",{feePercentage:Q(e),gaslessFeePercentage:Q(t)}):m.t("swapFeesPhantomFeeRegularDisclaimer",{feePercentage:Q(e)})},t?m.t("swapQuoteGaslessFeeDisclaimer",{feePercentage:Q(e),gaslessFeePercentage:Q(t)}):m.t("swapQuoteFeeDisclaimer",{feePercentage:Q(e)})));p();l();var G=b(x());var sr=({entry:e,fromUsd:t,currencySymbol:o})=>{let r=e.quoteFees.fees,n=r.find(a=>a.type==="phantom"),i=r.find(a=>a.type==="gasless"),s=r.filter(a=>!["gasless","phantom"].includes(a.type)).sort((a,f)=>je(a)&&!je(f)?-1:!je(a)&&je(f)?1:0).map(a=>{let f=a.amountUsd.toNumber(),d=`${o}${t(f,2)}`;switch(a.type){case"ata":return G.default.createElement(G.default.Fragment,{key:a.type},G.default.createElement(Qe,null,G.default.createElement(te,null,m.t(a.type)),G.default.createElement(te,null,d)),G.default.createElement(te,{style:{color:P.colors.legacy.textTertiary,fontSize:"12px",marginTop:4,textAlign:"left"}},m.t("accountCreationFeeBody")));default:return G.default.createElement(Qe,{key:a.type},G.default.createElement(te,null,m.t(a.type)),G.default.createElement(te,null,d))}});return G.default.createElement(G.default.Fragment,null,s,n&&G.default.createElement(te,{style:{fontStyle:"italic",color:P.colors.legacy.textTertiary,marginTop:8,textAlign:"left"}},i?m.t("swapQuoteGaslessFeeDisclaimer",{feePercentage:Q(n.percentage.toNumber()),gaslessFeePercentage:Q(i.percentage.toNumber())}):m.t("swapQuoteFeeDisclaimer",{feePercentage:Q(n.percentage.toNumber())})))};function st({entry:e,currencySymbol:t,fromUsd:o,showSwapSettings:r,showSwapPricing:n}){let i,s,a;switch(e.type){case"pricing":{s=m.t("swapFeesPricing"),i=e.exchangeRate,a=n;break}case"slippage":{s=m.t("swapFeesSlippage"),i=e.slippageType==="auto"?m.t("swapTokenDetailEntryAutoSlippage",{slippage:e.slippage}):m.t("swapTokenDetailEntryFixedSlippage",{slippage:e.slippage}),a=r;break}case"priceImpact":{s=m.t("swapFeesPriceImpact"),i=e.priceImpactPercentage;break}case"fees":{s=m.t("swapFeesFees"),i=`${t}${o(e.quoteFees.totalFees.toString(),2)}`;break}case"transferFees":{s=m.t("swapFeesTransferFees"),i=m.t("swapTransferFeeDisclaimer",{symbol:e.transferTokenSymbol,feePercent:e.transferFees});break}default:throw new Error(`Unsupported entry type: ${e.type}`)}return{title:s,content:pr(e,i),tooltipContent:lr(e,o,t),color:cr(e),onClick:a}}function pr(e,t){return e.type==="transferFees"?t:e.warning?m.t("swapTokenDetailsWarningVeryHigh",{value:t}):e.alert?m.t("swapTokenDetailsAlertHigh",{value:t}):t}function lr(e,t,o){switch(e.type){case"pricing":return m.t("swapFeesRateDisclaimerMultichain");case"slippage":return m.t("swapFeesHighSlippageDisclaimer",{slippage:e.slippage});case"priceImpact":return m.t("swapFeesPriceImpactDisclaimer");case"fees":{if(t&&o)return G.default.createElement(sr,{entry:e,fromUsd:t,currencySymbol:o});let r=e.quoteFees.fees.find(i=>i.type==="phantom"),n=e.quoteFees.fees.find(i=>i.type==="gasless");return r?n?m.t("swapQuoteGaslessFeeDisclaimer",{feePercentage:Q(r.percentage.toNumber()),gaslessFeePercentage:Q(n.percentage.toNumber())}):m.t("swapQuoteFeeDisclaimer",{feePercentage:Q(r.percentage.toNumber())}):void 0}default:return}}function cr(e){return e.warning?P.colors.legacy.accentAlert:e.alert?P.colors.legacy.accentWarning:P.colors.legacy.textSecondary}function Wo(e){switch(e){case"slippage":return{title:m.t("swapFeesSlippage")};case"priceImpact":return{title:m.t("swapFeesPriceImpact")};case"fees":return{title:m.t("swapFeesFees")};case"pricing":return{title:m.t("swapFeesPricing")};case"transferFees":return{title:m.t("swapFeesTransferFees")};default:return pt(e)}}var je=e=>{switch(e.type){case"solanaNetwork":case"evmGas":case"suiNetwork":return!0;default:return!1}};p();l();var De=b(x()),zo=({message:e,errorCode:t,onRetry:o})=>{let{t:r}=S(),n=r("swapQuestionRetry");return t==="InsufficientSellAmount"?De.default.createElement(c,{width:"100%"},De.default.createElement(xe,{level:"1-critical-alert"},e)):De.default.createElement(c,{gap:10,width:"100%"},De.default.createElement(c,{width:"100%"},De.default.createElement(xe,{level:"2-alert",actions:[{children:n,onPress:o}]},e)))};var mr=["pricing","slippage","priceImpact","fees"],Oo=({quoteProcessorState:e})=>{let t=wt();switch(e.type){case"idle":return z.default.createElement(c,{style:{marginTop:-16}},z.default.createElement(Ze,null));case"starting":case"firstQuoteReceived":case"quoteProcessed":return z.default.createElement(ur,{quoteProcessorState:e});case"error":return z.default.createElement(c,{paddingX:"screen"},z.default.createElement(zo,{message:e.error.message,errorCode:e.error.code,onRetry:()=>t.refreshQuoteProcessor()}))}},ur=({quoteProcessorState:e})=>{let{currencySymbol:t,fromUsd:o}=gt(),{handleShowModalVisibility:r}=Y(),n=dr(e),i=n.filter(g=>g.type!=="transferFees"),s=n.find(g=>g.type==="transferFees"),a=n.find(g=>g.type==="fees"),f=a?.quoteFees.fees.find(g=>g.type==="phantom"),d=a?.quoteFees.fees.find(g=>g.type==="gasless"),w=(0,z.useCallback)(()=>{r("swapSettings")},[r]),v=(0,z.useCallback)(()=>{r("swapPricing")},[r]),C=(0,z.useMemo)(()=>mr.map(g=>{let y=i.find(k=>k.type===g);return y?gr(st({entry:y,currencySymbol:t,fromUsd:o,showSwapSettings:w,showSwapPricing:v})):fr(Wo(g))}),[i,t,o,w,v]);return z.default.createElement(c,{direction:"column",gap:4},z.default.createElement(c,{paddingX:"screen"},z.default.createElement(Gt,{rows:C,borderRadius:"8px"})),f&&z.default.createElement(Qo,{phantom:f.percentage.toNumber(),gasless:d?.percentage.toNumber()}),s&&z.default.createElement(F,{font:"label",color:"accentWarning",paddingX:32},st({entry:s,currencySymbol:t,fromUsd:o,showSwapSettings:w,showSwapPricing:v}).content))};function dr(e){switch(e.type){case"firstQuoteReceived":case"quoteProcessed":return e.quoteDetails.entries;default:return[]}}function gr(e){return{label:e.title,value:e.content,tooltipContent:e.tooltipContent,color:e.color,onClick:e.onClick}}function fr(e){return{label:e.title,value:z.default.createElement(be,{width:60,font:"caption"})}}p();l();var we=b(x());var Vo=we.default.memo(({children:e})=>{let t=$e(),o=t.every(a=>he.isMainnetNetworkID(a)),n=Ue().some(a=>t.includes(a)),{t:i}=S(),s=(0,we.useMemo)(()=>({availableOnlyOnMainnet:i("swapAvailableOnMainnet"),notAvailableOnSelectedNetwork:i("swapNotAvailableOnSelectedNetwork")}),[i]);return o?n?we.default.createElement(c,{display:"flex",flex:1,paddingBottom:16,style:{marginBottom:"-16px"}},e):we.default.createElement(Ae,{message:s.notAvailableOnSelectedNetwork,swapDisabled:!0},e):we.default.createElement(Ae,{message:s.availableOnlyOnMainnet,swapDisabled:!0},e)});var wr=[.5,1],$o=()=>{let e=Bt();return J.default.createElement(Sr,{swapMode:e})},Sr=({swapMode:e})=>{let{inputPerspective:t,tokens:o,tokenState:r,quotedAmounts:n,quoteProcessorState:i,inputErrors:s,currentSellPercentage:a,sellPercentages:f,setInputAmount:d,setSellPercentage:w,switchCurrencyDenomination:v,switchTokens:C,clearInput:g,setInputPerspective:y}=Lt(e,wr),{handleShowModalVisibility:k}=Y(),u=(0,J.useCallback)(B=>{tt(r)&&k(B==="sell"?"swapSellAssetSelect":"swapBuyAssetSelect",{selectStrategy:{type:"navigateToClassic",sellCaip19:pe(Pe(r.sellToken)),buyCaip19:pe(Pe(r.buyToken)),isCashEligible:!1}})},[k,r]),A=He({goToAssetSelect:u}),Z=(0,J.useCallback)(B=>{tt(r)&&A(B)},[r,A]),ae=Nt();return J.default.createElement(Vo,null,J.default.createElement(c,{direction:"column",gap:16,paddingBottom:72},J.default.createElement(Eo,{isInitializingTokens:ae,tokens:o,currentSellPercentage:a,setInputAmount:d,setSellPercentage:w,setInputPerspective:y,switchCurrencyDenomination:v,switchTokens:C,onSelectToken:Z}),J.default.createElement(Oo,{quoteProcessorState:i})),yr(i)&&J.default.createElement(c,{position:"fixed",bottom:72,left:16,right:16,backgroundColor:"bgWallet",borderRadius:16,className:Ao},J.default.createElement(Mo,{swapMode:e,quotedAmounts:n,tokenState:r,inputErrors:s,quoteProcessorState:i,currentPerspective:t,sellPercentages:f,resetSwapper:g})))};function yr(e){return["quoteProcessed","firstQuoteReceived","starting"].includes(e.type)}var hr=U(Ge)`
  position: fixed;
  bottom: 70px;
  left: 16px;
  padding: 16px;
`,br=()=>{let[e]=Mt(),t=e.get("sellFungible")??void 0,o=e.get("sellAmount")??void 0,r=e.get("buyFungible")??void 0,n=vt(),{getSwapQuotesStrategy:i,onSwapTabExit:s}=yt();Pt({getSwapQuotesStrategy:i,skipInitialBuyFungible:!0}),bt();let{isLoading:a}=xt({paramsSellFungible:t,paramsSellAmount:o,paramsBuyFungible:r});return(0,T.useLayoutEffect)(()=>()=>{s(),n()},[s,n]),{isLoadingInitialAssets:a}},xr=({isLoadingInitialAssets:e})=>{let{t}=S(),{quoteResponse:o,hasNoRoutes:r}=ft(),{handleShowModalVisibility:n}=Y(),i=(0,T.useCallback)(w=>{n(w==="sell"?"swapSellAssetSelect":"swapBuyAssetSelect")},[n]),s=He({goToAssetSelect:i}),a=(0,T.useCallback)(()=>{n("messageOverlay",{title:t("swapProviderAutoUpdateTitle"),message:t("swapProviderAutoUpdateMessage")})},[n,t]);Dt({showDefaultAutoProvider:a});let f=(0,T.useMemo)(()=>T.default.createElement(ho,{onSelectAsset:s,isLoadingInitialAssets:e}),[e,s]),d=(0,T.useMemo)(()=>!o&&!r,[o,r]);return T.default.createElement(ko,null,T.default.createElement(Ge,{justify:"space-between",flex:1},T.default.createElement(Ge,{align:"normal",padding:"16px 16px 0 16px",margin:o?"0 0 70px 0":"0"},f,o||r?T.default.createElement(po,null):null),d?T.default.createElement(Ze,null):null,T.default.createElement(hr,null,o?T.default.createElement(Vt,{removeFooterExpansion:!1,cssOverride:Wt`
                background: ${P.colors.legacy.bgRow};
              `},T.default.createElement(Fo,null)):null)))},Pr=()=>T.default.createElement(St,null,T.default.createElement(Fr,null)),Fr=()=>{let e=mt(),t=lt("enable-classic-swapper-ext");return e||!t?T.default.createElement(Cr,null):T.default.createElement($o,null)},Cr=()=>{let{isLoadingInitialAssets:e}=br();return e?T.default.createElement(c,{gap:1,padding:16},T.default.createElement(Ce,{height:"120px",borderRadius:"8px 8px 0 0"}),T.default.createElement(Ce,{height:"120px",borderRadius:"0 0 8px 8px"})):T.default.createElement(xr,{isLoadingInitialAssets:e})},lc=Pr;export{lc as default};
//# sourceMappingURL=SwapTabPage-D7HDJJOQ.js.map
