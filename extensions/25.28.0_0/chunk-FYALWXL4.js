import{i as F}from"./chunk-HO7ZJLVP.js";import{c as I}from"./chunk-NRW4C74H.js";import{f as V,h as v,i as m,n as l}from"./chunk-YJSZZTEX.js";v();l();var H=V(I());function nt(t,n){var e=(0,H.createContext)(n);return m.NODE_ENV!=="production"&&(e.displayName=t),e}v();l();var y;(function(t){t[t.NotStarted=0]="NotStarted",t[t.Running=1]="Running",t[t.Stopped=2]="Stopped"})(y||(y={}));var U={type:"xstate.init"};function J(t){return t===void 0?[]:[].concat(t)}function B(t){return{type:"xstate.assign",assignment:t}}function K(t,n){return typeof(t=typeof t=="string"&&n&&n[t]?n[t]:t)=="string"?{type:t}:typeof t=="function"?{type:t.name,exec:t}:t}function T(t){return function(n){return t===n}}function W(t){return typeof t=="string"?{type:t}:t}function L(t,n){return{value:t,context:n,actions:[],changed:!1,matches:T(t)}}function w(t,n){n===void 0&&(n={});var e={config:t,_options:n,initialState:{value:t.initial,actions:J(t.states[t.initial].entry).map(function(r){return K(r,n.actions)}),context:t.context,matches:T(t.initial)},transition:function(r,i){var a,g,c=typeof r=="string"?{value:r,context:t.context}:r,d=c.value,x=c.context,S=W(i),p=t.states[d];if(p.on){var f=J(p.on[S.type]),j=function(o){if(o===void 0)return{value:L(d,x)};var h=typeof o=="string"?{target:o}:o,E=h.target,R=E===void 0?d:E,k=h.actions,Y=k===void 0?[]:k,q=h.cond,N=x;if((q===void 0?function(){return!0}:q)(x,S)){var Z=t.states[R],A=!1,D=[].concat(p.exit,Y,Z.entry).filter(function(s){return s}).map(function(s){return K(s,e._options.actions)}).filter(function(s){if(s.type==="xstate.assign"){A=!0;var M=Object.assign({},N);return typeof s.assignment=="function"?M=s.assignment(N,S):Object.keys(s.assignment).forEach(function(C){M[C]=typeof s.assignment[C]=="function"?s.assignment[C](N,S):s.assignment[C]}),N=M,!1}return!0});return{value:{value:R,context:N,actions:D,changed:R!==d||D.length>0||A,matches:T(R)}}}};try{for(var O=function(o){var h=typeof Symbol=="function"&&o[Symbol.iterator],E=0;return h?h.call(o):{next:function(){return o&&E>=o.length&&(o=void 0),{value:o&&o[E++],done:!o}}}}(f),b=O.next();!b.done;b=O.next()){var $=j(b.value);if(typeof $=="object")return $.value}}catch(o){a={error:o}}finally{try{b&&!b.done&&(g=O.return)&&g.call(O)}finally{if(a)throw a.error}}}return L(d,x)}};return e}var Q=function(t,n){return t.actions.forEach(function(e){var r=e.exec;return r&&r(t.context,n)})};function z(t){var n=t.initialState,e=y.NotStarted,r=new Set,i={_machine:t,send:function(a){e===y.Running&&(n=t.transition(n,a),Q(n,W(a)),r.forEach(function(g){return g(n)}))},subscribe:function(a){return r.add(a),a(n),{unsubscribe:function(){return r.delete(a)}}},start:function(){return e=y.Running,Q(n,U),i},stop:function(){return e=y.Stopped,r.clear(),i},get state(){return n},get status(){return e}};return i}v();l();var u=V(I());v();l();var X=V(I());function P(t){var n=(0,X.useRef)();return n.current||(n.current={v:t()}),n.current.v}function _(){return _=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},_.apply(this,arguments)}var G=function(n){var e;return n.subscribe(function(r){e=r}).unsubscribe(),e};function gt(t,n,e){var r=(0,u.useRef)(t),i=P(function(){return z(r.current).start()}),a=(0,u.useRef)(null),g=(0,u.useState)(function(){return G(i)}),c=g[0],d=g[1],x=(0,u.useCallback)(function(p){var f=F(p)?{type:p}:p,j=tt(n);i.send(_({},f,{lastEventType:a.current,refs:j})),a.current=f.type,m.NODE_ENV!=="production"&&e&&(console.group("Event Sent"),console.log("Event:",f),console.groupEnd())},[e]);(0,u.useEffect)(function(){return i.subscribe(function(f){f.changed&&d(f)}),function(){i.stop()}},[i]),(0,u.useEffect)(function(){m.NODE_ENV!=="production"&&e&&c.changed&&(console.group("State Updated"),console.log("State:",c),console.groupEnd())},[e,c]);var S=(0,u.useMemo)(function(){return _({},c,{matches:function(f){return f===c.value}})},[c.changed,c.context,c.value]);return[S,x,i]}function tt(t){return Object.entries(t).reduce(function(n,e){var r=e[0],i=e[1];return n[r]=i.current,n},{})}function dt(t,n){return P(function(){return w(t,n)})}export{nt as a,B as b,gt as c,dt as d};
/*! Bundled license information:

@xstate/fsm/es/index.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0
  
  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.
  
  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** *)
*/
//# sourceMappingURL=chunk-FYALWXL4.js.map
