import{K as ot,b as tt,c as P,d as A,e as D,h as C,i as k,k as et,n as nt}from"./chunk-VGFG26AC.js";import{a as z}from"./chunk-MDYMDZNO.js";import{wa as Y}from"./chunk-G3SJLT24.js";import{$b as H,A as U,B as $,D as O,Rb as V,Sb as h,Ta as W,U as _,Wa as G,Wb as X,Xb as q,_b as j,fb as K,gc as Z,v,w as R}from"./chunk-FDJQKATD.js";import{pa as J,ta as Q}from"./chunk-OGTXJ4NL.js";import{O as S,P as g,Vd as F,g as bt,lb as b,u as Ct}from"./chunk-MP5PPKB7.js";import{u as w}from"./chunk-LV3AOIIH.js";import{P as M,Z as L,_ as Tt}from"./chunk-LT72WXA6.js";import{f as T,h as o,l as yt,m as Buffer,n as r}from"./chunk-YJSZZTEX.js";o();r();o();r();var I=T(bt(),1);var at=T(Ct(),1);var rt=(0,I.struct)([(0,I.u8)("instruction"),X("amount")]);function it(t,e,n,a,i=[],c=h){let s=j([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],n,i),m=Buffer.alloc(rt.span);return rt.encode({instruction:q.Burn,amount:BigInt(a)},m),new at.TransactionInstruction({keys:s,programId:c,data:m})}var St=({t,apiErrors:e,clientErrors:n})=>{let a={title:t("collectiblesSellStatusErrorTitle"),subtitle:t("collectiblesSellStatusErrorSubtitle")};return e.isSellErrorCode?e?.sellStepsError?.code===1?{title:t("collectiblesSellRecentlyTransferedNFTTitle"),subtitle:t("collectiblesSellRecentlyTransferedNFTSubtitle")}:e?.sellStepsError?.code===3?{title:t("collectiblesSellNotAvailableAnymoreTitle"),subtitle:t("collectiblesSellNotAvailableAnymoreSubtitle")}:e?.sellStepsError?.code===9?{title:t("collectiblesSellNotAvailableAnymoreTitle"),subtitle:t("collectiblesSellNotAvailableAnymoreSubtitle")}:a:n.hasEnoughGas?n.executeSellError?n.executeSellError.message===ot?{title:t("collectiblesSellNotAvailableAnymoreTitle"),subtitle:t("collectiblesSellNotAvailableAnymoreSubtitle")}:a:null:{title:t("collectiblesSellInsufficientFundsTitle"),subtitle:t("collectiblesSellInsufficientFundsSubtitle")}};o();r();var ht=t=>k(t)?t.standard==="ERC1155":C(t)?t.standard==="SemiFungible":!1;o();r();var N=T(yt());o();r();async function st(t){let{mint:e}=t,n=new S.Transaction,a=await nt({networkID:"solana:101",mintAddress:e});return n.add(await U({...t,...a})),n}var It=async({mintAddress:t,owner:e,amountToBurn:n,collectionPubKey:a,tokenEdition:i,compression:c,programId:s,isProgrammable:m,connection:x})=>{let u=new S.Transaction,p=new g.PublicKey(t),d=await H(p,e);if(c?.compressed)return st({compression:c,mint:t});if(s===R)return V({mint:t,connection:x,owner:e.toBase58()});if(m)return O({senderAddress:e,senderAccount:d,mintAddress:new g.PublicKey(t)});if(i===null||!tt(i)){let f=it(d,p,e,n),y=z(d,e,e);u.add(f,y)}else{let f=N.Buffer.from(p.toBytes()),y=P(f),mt=A(f),B;if(a!==null){let ft=new g.PublicKey(a),gt=N.Buffer.from(ft.toBytes());B=D(gt)}let pt={metadata:y,owner:e,mint:p,tokenAccount:d,masterEditionAccount:mt,splTokenProgram:h,collectionMetadata:B},{createBurnNftInstruction:ut}=await $(),dt=ut(pt,v);u.add(dt)}return u},xt=async({mintAddress:t,owner:e,amountToBurn:n,collectionPubKey:a,tokenEdition:i,chainId:c,compression:s,programId:m,isProgrammable:x})=>{let u=G(c),p=await It({mintAddress:t,owner:e,amountToBurn:n,collectionPubKey:a,tokenEdition:i,compression:s,programId:m,isProgrammable:x,connection:u});p.recentBlockhash=(await u.getLatestBlockhash("confirmed")).blockhash,p.feePayer=e;let d=await K(p,{connection:u}),f=await Z(c,[d.compileMessage()]),y=_(f);return{burnTxWithPriority:d,networkFeeUiAmount:y}};o();r();o();r();o();r();var Pt=(t,e="standard",n,a,i,c,s)=>{if(b.isEVMNetworkID(t)){let m=W.get(t).transactionSpeedSeconds(e);return{ownerAddress:n.address,networkID:t,data:{hash:"",nonce:"",unsignedTransaction:w.parse({from:n.address}),estimatedTimeToMineInSeconds:m},type:"send",display:{summary:{topLeft:{text:`${s("transactionsPendingSending")} ${c} ${a}`},bottomLeft:{text:`${s("transactionsToParagraphInterpolated",{to:i})}`}},detail:{header:`${c} ${a}`,uiRecipient:i}}}}else{if(b.isSolanaNetworkID(t))return{ownerAddress:n.address,networkID:t,data:{signature:""},type:"send",display:{summary:{topLeft:{text:`${s("transactionsPendingSending")} ${c} ${a}`},bottomLeft:{text:`${s("transactionsToParagraphInterpolated",{to:i})}`}}}};if(b.isBitcoinNetworkID(t))return{ownerAddress:n.address,networkID:t,data:{txID:"",psbtHex:""},type:"send",display:{summary:{topLeft:{text:`${s("transactionsPendingSending")} ${c} ${a}`},bottomLeft:{text:`${s("transactionsToParagraphInterpolated",{to:i})}`}}}};if(b.isSuiNetworkID(t))return{ownerAddress:n.address,networkID:t,data:{digest:""},type:"send",display:{summary:{topLeft:{text:`${s("transactionsPendingSending")} ${c} ${a}`},bottomLeft:{text:`${s("transactionsToParagraphInterpolated",{to:i})}`}}}};throw new Error(`Unable to create pending transaction input for network id ${t}}`)}};o();r();var At=t=>t.replace(/(\/|-|_|#)+?\d+(?!-|_|\/)+/g,"").replace(/\d+( of )\d+/g,"").trim(),Dt=(t,e)=>{if(t.name&&t.name.length>0)return t.name;if(t.externalUrl){let n=M({url:t.externalUrl,format:"domain"});if(n)return n}if(e?.name){let n=At(e.name);if(n)return n}if(e?.symbol)return e.symbol};o();r();var kt=(t,e)=>{if(C(t.chainData))return{standard:t.chainData.standard,pubkey:t.chainData.tokenAccount,mintPubKey:t.chainData.mint,ownerPubKey:e,decimals:parseInt(t.decimals??"0",10),amount:t.balance??"0",delegate:null,delegatedAmount:"",logoURI:null,name:t.name??null,symbol:t.symbol??null,state:"initialized",collectionPubKey:t.collection.id,uses:null,creators:[],uri:t.uri??"",collectionName:t.collection.name??void 0,collectibleImage:t.media?.previews?.medium??void 0}};o();r();var E=T(Tt()),Nt=1e6,Et=1e4,Bt=t=>t>Nt?">1M":t<Et?(0,E.default)(t).format("0,0.[000]"):(0,E.default)(t).format("0.[0]a").toUpperCase();o();r();o();r();o();r();function lt({chainID:t,amount:e,collectible:n,symbol:a}){let i=Q(t);switch(i.chainName){case"solana":return{...i,asset:{amount:e.toString(),mint:"mint"in n?n.mint:"UNKNOWN",symbol:a,type:"collectible"}};case"ethereum":case"polygon":case"base":case"arbitrum":case"monad":return{...i,asset:{amount:e.toString(),address:"contract"in n?n.contract:"UNKNOWN",symbol:a,type:"collectible"}};case"bitcoin":return{...i,asset:{id:"firstCreatedInscriptionId"in n?n.firstCreatedInscriptionId:"UNKNOWN",symbol:a,type:"collectible"}};case"sui":return{...i,asset:{amount:e.toString(),address:"not yet implemented",symbol:a,type:"collectible"}}}}var wt="list",ct=t=>new J(t,wt),Mt=L(F,t=>ct(t));o();r();function Lt(t){if(!t)return!1;let e=Y(t),n=t.chainData&&et(t.chainData)&&!!t.chainData.kioskId;return e||!!n}export{St as a,ht as b,Pt as c,Dt as d,kt as e,Bt as f,xt as g,lt as h,Lt as i};
//# sourceMappingURL=chunk-R4HIDXAJ.js.map
