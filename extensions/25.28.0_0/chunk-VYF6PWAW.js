import{a as b,b as I}from"./chunk-PVXA4KA7.js";import{a as f}from"./chunk-2ADUYUI4.js";import{m as p}from"./chunk-AXFDOJRV.js";import{Da as g,c as z}from"./chunk-NRW4C74H.js";import{f as h,h as m,n as d}from"./chunk-YJSZZTEX.js";m();d();var o=h(z());m();d();var c=h(z());var S=c.default.memo(({showBadge:e=!0})=>c.default.createElement(f,{aspectRatio:1,width:"100%",height:"100%",backgroundColor:g.colors.legacy.bgRow,align:"flex-end",borderRadius:"6px",padding:"15px"},e?c.default.createElement(f,{width:"100px",height:"10px",borderRadius:"6px",backgroundColor:g.colors.legacy.borderSecondary}):null));var A=3,H=p.img`
  transition: transform 0.5s ease;
  object-fit: cover;
  width: 100%;
  height: 100%;
  overflow: hidden;
  transform: ${e=>e.zoomState==="zoomedIn"?`scale(${A})`:"scale(1)"};
  cursor: ${e=>{if(e.isZoomControlsEnabled){if(e.zoomState==="zoomedIn")return"zoom-out";if(e.zoomState==="zoomedOut")return"zoom-in"}else return"inherit"}};
`,J=o.default.memo(e=>{let{uri:l,showSkeletonBadge:L=!1,isZoomControlsEnabled:r=!1}=e,[C,s]=(0,o.useState)("loading"),[n,u]=(0,o.useState)("zoomedOut"),i=(0,o.useRef)(null),a=(0,o.useCallback)(t=>{let O=t.nativeEvent.layerX,x=t.nativeEvent.layerY,T=t.currentTarget.offsetWidth,P=t.currentTarget.offsetHeight,Z=O/T*100,$=x/P*100;i.current&&(i.current.style.transformOrigin=`${Z}% ${$}%`)},[]),y=(0,o.useCallback)(t=>{r&&(u(n==="zoomedIn"?"zoomedOut":"zoomedIn"),a(t))},[a,n,u,r]),E=(0,o.useCallback)(t=>{n==="zoomedOut"||!r||a(t)},[a,n,r]),M=(0,o.useCallback)(()=>{r&&(i.current&&(i.current.style.transformOrigin="center"),u("zoomedOut"))},[r]),w=(0,o.useMemo)(()=>l!==null&&l.trim()!==""?l:null,[l]),k=(0,o.useCallback)(()=>{s("success")},[s]),v=(0,o.useCallback)(()=>{s("error")},[s]);return o.default.createElement(o.default.Fragment,null,C==="error"?o.default.createElement(b,null,o.default.createElement(I,{type:"image"})):o.default.createElement(b,null,o.default.createElement(H,{ref:i,onMouseMove:E,onMouseLeave:M,onClick:y,src:w??"",onLoad:k,onError:v,zoomState:n,isZoomControlsEnabled:r})),C==="loading"?o.default.createElement(S,{showBadge:L}):null)});export{S as a,J as b};
//# sourceMappingURL=chunk-VYF6PWAW.js.map
